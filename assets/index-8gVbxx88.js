var Iw=Object.defineProperty;var Aw=(o,p,d)=>p in o?Iw(o,p,{enumerable:!0,configurable:!0,writable:!0,value:d}):o[p]=d;var qf=(o,p,d)=>Aw(o,typeof p!="symbol"?p+"":p,d);function Sw(o,p){for(var d=0;d<p.length;d++){const w=p[d];if(typeof w!="string"&&!Array.isArray(w)){for(const D in w)if(D!=="default"&&!(D in o)){const E=Object.getOwnPropertyDescriptor(w,D);E&&Object.defineProperty(o,D,E.get?E:{enumerable:!0,get:()=>w[D]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}(function(){const p=document.createElement("link").relList;if(p&&p.supports&&p.supports("modulepreload"))return;for(const D of document.querySelectorAll('link[rel="modulepreload"]'))w(D);new MutationObserver(D=>{for(const E of D)if(E.type==="childList")for(const I of E.addedNodes)I.tagName==="LINK"&&I.rel==="modulepreload"&&w(I)}).observe(document,{childList:!0,subtree:!0});function d(D){const E={};return D.integrity&&(E.integrity=D.integrity),D.referrerPolicy&&(E.referrerPolicy=D.referrerPolicy),D.crossOrigin==="use-credentials"?E.credentials="include":D.crossOrigin==="anonymous"?E.credentials="omit":E.credentials="same-origin",E}function w(D){if(D.ep)return;D.ep=!0;const E=d(D);fetch(D.href,E)}})();var rm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fm(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var wy={exports:{}},Kf={},Cy={exports:{}},Xr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function Tw(){if(U_)return Xr;U_=1;var o=Symbol.for("react.element"),p=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),I=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),q=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),te=Symbol.iterator;function ce(qe){return qe===null||typeof qe!="object"?null:(qe=te&&qe[te]||qe["@@iterator"],typeof qe=="function"?qe:null)}var ae={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},he=Object.assign,_e={};function Pe(qe,Tt,mn){this.props=qe,this.context=Tt,this.refs=_e,this.updater=mn||ae}Pe.prototype.isReactComponent={},Pe.prototype.setState=function(qe,Tt){if(typeof qe!="object"&&typeof qe!="function"&&qe!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,qe,Tt,"setState")},Pe.prototype.forceUpdate=function(qe){this.updater.enqueueForceUpdate(this,qe,"forceUpdate")};function Ze(){}Ze.prototype=Pe.prototype;function tt(qe,Tt,mn){this.props=qe,this.context=Tt,this.refs=_e,this.updater=mn||ae}var ze=tt.prototype=new Ze;ze.constructor=tt,he(ze,Pe.prototype),ze.isPureReactComponent=!0;var Ae=Array.isArray,Ge=Object.prototype.hasOwnProperty,$e={current:null},ot={key:!0,ref:!0,__self:!0,__source:!0};function Pt(qe,Tt,mn){var hn,kt={},gn=null,wn=null;if(Tt!=null)for(hn in Tt.ref!==void 0&&(wn=Tt.ref),Tt.key!==void 0&&(gn=""+Tt.key),Tt)Ge.call(Tt,hn)&&!ot.hasOwnProperty(hn)&&(kt[hn]=Tt[hn]);var Fn=arguments.length-2;if(Fn===1)kt.children=mn;else if(1<Fn){for(var Rn=Array(Fn),An=0;An<Fn;An++)Rn[An]=arguments[An+2];kt.children=Rn}if(qe&&qe.defaultProps)for(hn in Fn=qe.defaultProps,Fn)kt[hn]===void 0&&(kt[hn]=Fn[hn]);return{$$typeof:o,type:qe,key:gn,ref:wn,props:kt,_owner:$e.current}}function Yt(qe,Tt){return{$$typeof:o,type:qe.type,key:Tt,ref:qe.ref,props:qe.props,_owner:qe._owner}}function ge(qe){return typeof qe=="object"&&qe!==null&&qe.$$typeof===o}function bt(qe){var Tt={"=":"=0",":":"=2"};return"$"+qe.replace(/[=:]/g,function(mn){return Tt[mn]})}var St=/\/+/g;function Bt(qe,Tt){return typeof qe=="object"&&qe!==null&&qe.key!=null?bt(""+qe.key):Tt.toString(36)}function Wt(qe,Tt,mn,hn,kt){var gn=typeof qe;(gn==="undefined"||gn==="boolean")&&(qe=null);var wn=!1;if(qe===null)wn=!0;else switch(gn){case"string":case"number":wn=!0;break;case"object":switch(qe.$$typeof){case o:case p:wn=!0}}if(wn)return wn=qe,kt=kt(wn),qe=hn===""?"."+Bt(wn,0):hn,Ae(kt)?(mn="",qe!=null&&(mn=qe.replace(St,"$&/")+"/"),Wt(kt,Tt,mn,"",function(An){return An})):kt!=null&&(ge(kt)&&(kt=Yt(kt,mn+(!kt.key||wn&&wn.key===kt.key?"":(""+kt.key).replace(St,"$&/")+"/")+qe)),Tt.push(kt)),1;if(wn=0,hn=hn===""?".":hn+":",Ae(qe))for(var Fn=0;Fn<qe.length;Fn++){gn=qe[Fn];var Rn=hn+Bt(gn,Fn);wn+=Wt(gn,Tt,mn,Rn,kt)}else if(Rn=ce(qe),typeof Rn=="function")for(qe=Rn.call(qe),Fn=0;!(gn=qe.next()).done;)gn=gn.value,Rn=hn+Bt(gn,Fn++),wn+=Wt(gn,Tt,mn,Rn,kt);else if(gn==="object")throw Tt=String(qe),Error("Objects are not valid as a React child (found: "+(Tt==="[object Object]"?"object with keys {"+Object.keys(qe).join(", ")+"}":Tt)+"). If you meant to render a collection of children, use an array instead.");return wn}function Ft(qe,Tt,mn){if(qe==null)return qe;var hn=[],kt=0;return Wt(qe,hn,"","",function(gn){return Tt.call(mn,gn,kt++)}),hn}function Nt(qe){if(qe._status===-1){var Tt=qe._result;Tt=Tt(),Tt.then(function(mn){(qe._status===0||qe._status===-1)&&(qe._status=1,qe._result=mn)},function(mn){(qe._status===0||qe._status===-1)&&(qe._status=2,qe._result=mn)}),qe._status===-1&&(qe._status=0,qe._result=Tt)}if(qe._status===1)return qe._result.default;throw qe._result}var cn={current:null},yt={transition:null},mt={ReactCurrentDispatcher:cn,ReactCurrentBatchConfig:yt,ReactCurrentOwner:$e};function jt(){throw Error("act(...) is not supported in production builds of React.")}return Xr.Children={map:Ft,forEach:function(qe,Tt,mn){Ft(qe,function(){Tt.apply(this,arguments)},mn)},count:function(qe){var Tt=0;return Ft(qe,function(){Tt++}),Tt},toArray:function(qe){return Ft(qe,function(Tt){return Tt})||[]},only:function(qe){if(!ge(qe))throw Error("React.Children.only expected to receive a single React element child.");return qe}},Xr.Component=Pe,Xr.Fragment=d,Xr.Profiler=D,Xr.PureComponent=tt,Xr.StrictMode=w,Xr.Suspense=V,Xr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mt,Xr.act=jt,Xr.cloneElement=function(qe,Tt,mn){if(qe==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+qe+".");var hn=he({},qe.props),kt=qe.key,gn=qe.ref,wn=qe._owner;if(Tt!=null){if(Tt.ref!==void 0&&(gn=Tt.ref,wn=$e.current),Tt.key!==void 0&&(kt=""+Tt.key),qe.type&&qe.type.defaultProps)var Fn=qe.type.defaultProps;for(Rn in Tt)Ge.call(Tt,Rn)&&!ot.hasOwnProperty(Rn)&&(hn[Rn]=Tt[Rn]===void 0&&Fn!==void 0?Fn[Rn]:Tt[Rn])}var Rn=arguments.length-2;if(Rn===1)hn.children=mn;else if(1<Rn){Fn=Array(Rn);for(var An=0;An<Rn;An++)Fn[An]=arguments[An+2];hn.children=Fn}return{$$typeof:o,type:qe.type,key:kt,ref:gn,props:hn,_owner:wn}},Xr.createContext=function(qe){return qe={$$typeof:I,_currentValue:qe,_currentValue2:qe,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},qe.Provider={$$typeof:E,_context:qe},qe.Consumer=qe},Xr.createElement=Pt,Xr.createFactory=function(qe){var Tt=Pt.bind(null,qe);return Tt.type=qe,Tt},Xr.createRef=function(){return{current:null}},Xr.forwardRef=function(qe){return{$$typeof:s,render:qe}},Xr.isValidElement=ge,Xr.lazy=function(qe){return{$$typeof:ue,_payload:{_status:-1,_result:qe},_init:Nt}},Xr.memo=function(qe,Tt){return{$$typeof:q,type:qe,compare:Tt===void 0?null:Tt}},Xr.startTransition=function(qe){var Tt=yt.transition;yt.transition={};try{qe()}finally{yt.transition=Tt}},Xr.unstable_act=jt,Xr.useCallback=function(qe,Tt){return cn.current.useCallback(qe,Tt)},Xr.useContext=function(qe){return cn.current.useContext(qe)},Xr.useDebugValue=function(){},Xr.useDeferredValue=function(qe){return cn.current.useDeferredValue(qe)},Xr.useEffect=function(qe,Tt){return cn.current.useEffect(qe,Tt)},Xr.useId=function(){return cn.current.useId()},Xr.useImperativeHandle=function(qe,Tt,mn){return cn.current.useImperativeHandle(qe,Tt,mn)},Xr.useInsertionEffect=function(qe,Tt){return cn.current.useInsertionEffect(qe,Tt)},Xr.useLayoutEffect=function(qe,Tt){return cn.current.useLayoutEffect(qe,Tt)},Xr.useMemo=function(qe,Tt){return cn.current.useMemo(qe,Tt)},Xr.useReducer=function(qe,Tt,mn){return cn.current.useReducer(qe,Tt,mn)},Xr.useRef=function(qe){return cn.current.useRef(qe)},Xr.useState=function(qe){return cn.current.useState(qe)},Xr.useSyncExternalStore=function(qe,Tt,mn){return cn.current.useSyncExternalStore(qe,Tt,mn)},Xr.useTransition=function(){return cn.current.useTransition()},Xr.version="18.3.1",Xr}var z_;function xg(){return z_||(z_=1,Cy.exports=Tw()),Cy.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_;function Mw(){if(G_)return Kf;G_=1;var o=xg(),p=Symbol.for("react.element"),d=Symbol.for("react.fragment"),w=Object.prototype.hasOwnProperty,D=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,E={key:!0,ref:!0,__self:!0,__source:!0};function I(s,V,q){var ue,te={},ce=null,ae=null;q!==void 0&&(ce=""+q),V.key!==void 0&&(ce=""+V.key),V.ref!==void 0&&(ae=V.ref);for(ue in V)w.call(V,ue)&&!E.hasOwnProperty(ue)&&(te[ue]=V[ue]);if(s&&s.defaultProps)for(ue in V=s.defaultProps,V)te[ue]===void 0&&(te[ue]=V[ue]);return{$$typeof:p,type:s,key:ce,ref:ae,props:te,_owner:D.current}}return Kf.Fragment=d,Kf.jsx=I,Kf.jsxs=I,Kf}var L_;function Pw(){return L_||(L_=1,wy.exports=Mw()),wy.exports}var $t=Pw(),im={},Dy={exports:{}},W0={},Iy={exports:{}},Ay={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_;function Ew(){return B_||(B_=1,function(o){function p(yt,mt){var jt=yt.length;yt.push(mt);e:for(;0<jt;){var qe=jt-1>>>1,Tt=yt[qe];if(0<D(Tt,mt))yt[qe]=mt,yt[jt]=Tt,jt=qe;else break e}}function d(yt){return yt.length===0?null:yt[0]}function w(yt){if(yt.length===0)return null;var mt=yt[0],jt=yt.pop();if(jt!==mt){yt[0]=jt;e:for(var qe=0,Tt=yt.length,mn=Tt>>>1;qe<mn;){var hn=2*(qe+1)-1,kt=yt[hn],gn=hn+1,wn=yt[gn];if(0>D(kt,jt))gn<Tt&&0>D(wn,kt)?(yt[qe]=wn,yt[gn]=jt,qe=gn):(yt[qe]=kt,yt[hn]=jt,qe=hn);else if(gn<Tt&&0>D(wn,jt))yt[qe]=wn,yt[gn]=jt,qe=gn;else break e}}return mt}function D(yt,mt){var jt=yt.sortIndex-mt.sortIndex;return jt!==0?jt:yt.id-mt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var E=performance;o.unstable_now=function(){return E.now()}}else{var I=Date,s=I.now();o.unstable_now=function(){return I.now()-s}}var V=[],q=[],ue=1,te=null,ce=3,ae=!1,he=!1,_e=!1,Pe=typeof setTimeout=="function"?setTimeout:null,Ze=typeof clearTimeout=="function"?clearTimeout:null,tt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ze(yt){for(var mt=d(q);mt!==null;){if(mt.callback===null)w(q);else if(mt.startTime<=yt)w(q),mt.sortIndex=mt.expirationTime,p(V,mt);else break;mt=d(q)}}function Ae(yt){if(_e=!1,ze(yt),!he)if(d(V)!==null)he=!0,Nt(Ge);else{var mt=d(q);mt!==null&&cn(Ae,mt.startTime-yt)}}function Ge(yt,mt){he=!1,_e&&(_e=!1,Ze(Pt),Pt=-1),ae=!0;var jt=ce;try{for(ze(mt),te=d(V);te!==null&&(!(te.expirationTime>mt)||yt&&!bt());){var qe=te.callback;if(typeof qe=="function"){te.callback=null,ce=te.priorityLevel;var Tt=qe(te.expirationTime<=mt);mt=o.unstable_now(),typeof Tt=="function"?te.callback=Tt:te===d(V)&&w(V),ze(mt)}else w(V);te=d(V)}if(te!==null)var mn=!0;else{var hn=d(q);hn!==null&&cn(Ae,hn.startTime-mt),mn=!1}return mn}finally{te=null,ce=jt,ae=!1}}var $e=!1,ot=null,Pt=-1,Yt=5,ge=-1;function bt(){return!(o.unstable_now()-ge<Yt)}function St(){if(ot!==null){var yt=o.unstable_now();ge=yt;var mt=!0;try{mt=ot(!0,yt)}finally{mt?Bt():($e=!1,ot=null)}}else $e=!1}var Bt;if(typeof tt=="function")Bt=function(){tt(St)};else if(typeof MessageChannel<"u"){var Wt=new MessageChannel,Ft=Wt.port2;Wt.port1.onmessage=St,Bt=function(){Ft.postMessage(null)}}else Bt=function(){Pe(St,0)};function Nt(yt){ot=yt,$e||($e=!0,Bt())}function cn(yt,mt){Pt=Pe(function(){yt(o.unstable_now())},mt)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(yt){yt.callback=null},o.unstable_continueExecution=function(){he||ae||(he=!0,Nt(Ge))},o.unstable_forceFrameRate=function(yt){0>yt||125<yt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Yt=0<yt?Math.floor(1e3/yt):5},o.unstable_getCurrentPriorityLevel=function(){return ce},o.unstable_getFirstCallbackNode=function(){return d(V)},o.unstable_next=function(yt){switch(ce){case 1:case 2:case 3:var mt=3;break;default:mt=ce}var jt=ce;ce=mt;try{return yt()}finally{ce=jt}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(yt,mt){switch(yt){case 1:case 2:case 3:case 4:case 5:break;default:yt=3}var jt=ce;ce=yt;try{return mt()}finally{ce=jt}},o.unstable_scheduleCallback=function(yt,mt,jt){var qe=o.unstable_now();switch(typeof jt=="object"&&jt!==null?(jt=jt.delay,jt=typeof jt=="number"&&0<jt?qe+jt:qe):jt=qe,yt){case 1:var Tt=-1;break;case 2:Tt=250;break;case 5:Tt=1073741823;break;case 4:Tt=1e4;break;default:Tt=5e3}return Tt=jt+Tt,yt={id:ue++,callback:mt,priorityLevel:yt,startTime:jt,expirationTime:Tt,sortIndex:-1},jt>qe?(yt.sortIndex=jt,p(q,yt),d(V)===null&&yt===d(q)&&(_e?(Ze(Pt),Pt=-1):_e=!0,cn(Ae,jt-qe))):(yt.sortIndex=Tt,p(V,yt),he||ae||(he=!0,Nt(Ge))),yt},o.unstable_shouldYield=bt,o.unstable_wrapCallback=function(yt){var mt=ce;return function(){var jt=ce;ce=mt;try{return yt.apply(this,arguments)}finally{ce=jt}}}}(Ay)),Ay}var O_;function kw(){return O_||(O_=1,Iy.exports=Ew()),Iy.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_;function Rw(){if(F_)return W0;F_=1;var o=xg(),p=kw();function d(a){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+a,x=1;x<arguments.length;x++)c+="&args[]="+encodeURIComponent(arguments[x]);return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var w=new Set,D={};function E(a,c){I(a,c),I(a+"Capture",c)}function I(a,c){for(D[a]=c,a=0;a<c.length;a++)w.add(c[a])}var s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),V=Object.prototype.hasOwnProperty,q=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ue={},te={};function ce(a){return V.call(te,a)?!0:V.call(ue,a)?!1:q.test(a)?te[a]=!0:(ue[a]=!0,!1)}function ae(a,c,x,S){if(x!==null&&x.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return S?!1:x!==null?!x.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function he(a,c,x,S){if(c===null||typeof c>"u"||ae(a,c,x,S))return!0;if(S)return!1;if(x!==null)switch(x.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function _e(a,c,x,S,U,$,le){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=S,this.attributeNamespace=U,this.mustUseProperty=x,this.propertyName=a,this.type=c,this.sanitizeURL=$,this.removeEmptyString=le}var Pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){Pe[a]=new _e(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var c=a[0];Pe[c]=new _e(c,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){Pe[a]=new _e(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){Pe[a]=new _e(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){Pe[a]=new _e(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){Pe[a]=new _e(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){Pe[a]=new _e(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){Pe[a]=new _e(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){Pe[a]=new _e(a,5,!1,a.toLowerCase(),null,!1,!1)});var Ze=/[\-:]([a-z])/g;function tt(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var c=a.replace(Ze,tt);Pe[c]=new _e(c,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var c=a.replace(Ze,tt);Pe[c]=new _e(c,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var c=a.replace(Ze,tt);Pe[c]=new _e(c,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){Pe[a]=new _e(a,1,!1,a.toLowerCase(),null,!1,!1)}),Pe.xlinkHref=new _e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){Pe[a]=new _e(a,1,!1,a.toLowerCase(),null,!0,!0)});function ze(a,c,x,S){var U=Pe.hasOwnProperty(c)?Pe[c]:null;(U!==null?U.type!==0:S||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(he(c,x,U,S)&&(x=null),S||U===null?ce(c)&&(x===null?a.removeAttribute(c):a.setAttribute(c,""+x)):U.mustUseProperty?a[U.propertyName]=x===null?U.type===3?!1:"":x:(c=U.attributeName,S=U.attributeNamespace,x===null?a.removeAttribute(c):(U=U.type,x=U===3||U===4&&x===!0?"":""+x,S?a.setAttributeNS(S,c,x):a.setAttribute(c,x))))}var Ae=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ge=Symbol.for("react.element"),$e=Symbol.for("react.portal"),ot=Symbol.for("react.fragment"),Pt=Symbol.for("react.strict_mode"),Yt=Symbol.for("react.profiler"),ge=Symbol.for("react.provider"),bt=Symbol.for("react.context"),St=Symbol.for("react.forward_ref"),Bt=Symbol.for("react.suspense"),Wt=Symbol.for("react.suspense_list"),Ft=Symbol.for("react.memo"),Nt=Symbol.for("react.lazy"),cn=Symbol.for("react.offscreen"),yt=Symbol.iterator;function mt(a){return a===null||typeof a!="object"?null:(a=yt&&a[yt]||a["@@iterator"],typeof a=="function"?a:null)}var jt=Object.assign,qe;function Tt(a){if(qe===void 0)try{throw Error()}catch(x){var c=x.stack.trim().match(/\n( *(at )?)/);qe=c&&c[1]||""}return`
`+qe+a}var mn=!1;function hn(a,c){if(!a||mn)return"";mn=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(It){var S=It}Reflect.construct(a,[],c)}else{try{c.call()}catch(It){S=It}a.call(c.prototype)}else{try{throw Error()}catch(It){S=It}a()}}catch(It){if(It&&S&&typeof It.stack=="string"){for(var U=It.stack.split(`
`),$=S.stack.split(`
`),le=U.length-1,Re=$.length-1;1<=le&&0<=Re&&U[le]!==$[Re];)Re--;for(;1<=le&&0<=Re;le--,Re--)if(U[le]!==$[Re]){if(le!==1||Re!==1)do if(le--,Re--,0>Re||U[le]!==$[Re]){var Xe=`
`+U[le].replace(" at new "," at ");return a.displayName&&Xe.includes("<anonymous>")&&(Xe=Xe.replace("<anonymous>",a.displayName)),Xe}while(1<=le&&0<=Re);break}}}finally{mn=!1,Error.prepareStackTrace=x}return(a=a?a.displayName||a.name:"")?Tt(a):""}function kt(a){switch(a.tag){case 5:return Tt(a.type);case 16:return Tt("Lazy");case 13:return Tt("Suspense");case 19:return Tt("SuspenseList");case 0:case 2:case 15:return a=hn(a.type,!1),a;case 11:return a=hn(a.type.render,!1),a;case 1:return a=hn(a.type,!0),a;default:return""}}function gn(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case ot:return"Fragment";case $e:return"Portal";case Yt:return"Profiler";case Pt:return"StrictMode";case Bt:return"Suspense";case Wt:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case bt:return(a.displayName||"Context")+".Consumer";case ge:return(a._context.displayName||"Context")+".Provider";case St:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case Ft:return c=a.displayName||null,c!==null?c:gn(a.type)||"Memo";case Nt:c=a._payload,a=a._init;try{return gn(a(c))}catch{}}return null}function wn(a){var c=a.type;switch(a.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=c.render,a=a.displayName||a.name||"",c.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gn(c);case 8:return c===Pt?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function Fn(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Rn(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function An(a){var c=Rn(a)?"checked":"value",x=Object.getOwnPropertyDescriptor(a.constructor.prototype,c),S=""+a[c];if(!a.hasOwnProperty(c)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var U=x.get,$=x.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return U.call(this)},set:function(le){S=""+le,$.call(this,le)}}),Object.defineProperty(a,c,{enumerable:x.enumerable}),{getValue:function(){return S},setValue:function(le){S=""+le},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function Nn(a){a._valueTracker||(a._valueTracker=An(a))}function Kn(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var x=c.getValue(),S="";return a&&(S=Rn(a)?a.checked?"true":"false":a.value),a=S,a!==x?(c.setValue(a),!0):!1}function Hn(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function yn(a,c){var x=c.checked;return jt({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:x??a._wrapperState.initialChecked})}function yr(a,c){var x=c.defaultValue==null?"":c.defaultValue,S=c.checked!=null?c.checked:c.defaultChecked;x=Fn(c.value!=null?c.value:x),a._wrapperState={initialChecked:S,initialValue:x,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function gi(a,c){c=c.checked,c!=null&&ze(a,"checked",c,!1)}function Ir(a,c){gi(a,c);var x=Fn(c.value),S=c.type;if(x!=null)S==="number"?(x===0&&a.value===""||a.value!=x)&&(a.value=""+x):a.value!==""+x&&(a.value=""+x);else if(S==="submit"||S==="reset"){a.removeAttribute("value");return}c.hasOwnProperty("value")?Li(a,c.type,x):c.hasOwnProperty("defaultValue")&&Li(a,c.type,Fn(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(a.defaultChecked=!!c.defaultChecked)}function Yr(a,c,x){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var S=c.type;if(!(S!=="submit"&&S!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+a._wrapperState.initialValue,x||c===a.value||(a.value=c),a.defaultValue=c}x=a.name,x!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,x!==""&&(a.name=x)}function Li(a,c,x){(c!=="number"||Hn(a.ownerDocument)!==a)&&(x==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+x&&(a.defaultValue=""+x))}var vr=Array.isArray;function ur(a,c,x,S){if(a=a.options,c){c={};for(var U=0;U<x.length;U++)c["$"+x[U]]=!0;for(x=0;x<a.length;x++)U=c.hasOwnProperty("$"+a[x].value),a[x].selected!==U&&(a[x].selected=U),U&&S&&(a[x].defaultSelected=!0)}else{for(x=""+Fn(x),c=null,U=0;U<a.length;U++){if(a[U].value===x){a[U].selected=!0,S&&(a[U].defaultSelected=!0);return}c!==null||a[U].disabled||(c=a[U])}c!==null&&(c.selected=!0)}}function Cn(a,c){if(c.dangerouslySetInnerHTML!=null)throw Error(d(91));return jt({},c,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Or(a,c){var x=c.value;if(x==null){if(x=c.children,c=c.defaultValue,x!=null){if(c!=null)throw Error(d(92));if(vr(x)){if(1<x.length)throw Error(d(93));x=x[0]}c=x}c==null&&(c=""),x=c}a._wrapperState={initialValue:Fn(x)}}function ni(a,c){var x=Fn(c.value),S=Fn(c.defaultValue);x!=null&&(x=""+x,x!==a.value&&(a.value=x),c.defaultValue==null&&a.defaultValue!==x&&(a.defaultValue=x)),S!=null&&(a.defaultValue=""+S)}function Wi(a){var c=a.textContent;c===a._wrapperState.initialValue&&c!==""&&c!==null&&(a.value=c)}function Ga(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hi(a,c){return a==null||a==="http://www.w3.org/1999/xhtml"?Ga(c):a==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Qr,Bi=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,x,S,U){MSApp.execUnsafeLocalFunction(function(){return a(c,x,S,U)})}:a}(function(a,c){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=c;else{for(Qr=Qr||document.createElement("div"),Qr.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=Qr.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;c.firstChild;)a.appendChild(c.firstChild)}});function wi(a,c){if(c){var x=a.firstChild;if(x&&x===a.lastChild&&x.nodeType===3){x.nodeValue=c;return}}a.textContent=c}var xr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ci=["Webkit","ms","Moz","O"];Object.keys(xr).forEach(function(a){Ci.forEach(function(c){c=c+a.charAt(0).toUpperCase()+a.substring(1),xr[c]=xr[a]})});function ri(a,c,x){return c==null||typeof c=="boolean"||c===""?"":x||typeof c!="number"||c===0||xr.hasOwnProperty(a)&&xr[a]?(""+c).trim():c+"px"}function _a(a,c){a=a.style;for(var x in c)if(c.hasOwnProperty(x)){var S=x.indexOf("--")===0,U=ri(x,c[x],S);x==="float"&&(x="cssFloat"),S?a.setProperty(x,U):a[x]=U}}var Fe=jt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ne(a,c){if(c){if(Fe[a]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(d(137,a));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(d(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(d(61))}if(c.style!=null&&typeof c.style!="object")throw Error(d(62))}}function oe(a,c){if(a.indexOf("-")===-1)return typeof c.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function Me(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var We=null,me=null,Je=null;function Ye(a){if(a=Ya(a)){if(typeof We!="function")throw Error(d(280));var c=a.stateNode;c&&(c=s0(c),We(a.stateNode,a.type,c))}}function at(a){me?Je?Je.push(a):Je=[a]:me=a}function pt(){if(me){var a=me,c=Je;if(Je=me=null,Ye(a),c)for(a=0;a<c.length;a++)Ye(c[a])}}function nt(a,c){return a(c)}function Rt(){}var Jt=!1;function pn(a,c,x){if(Jt)return a(c,x);Jt=!0;try{return nt(a,c,x)}finally{Jt=!1,(me!==null||Je!==null)&&(Rt(),pt())}}function Tn(a,c){var x=a.stateNode;if(x===null)return null;var S=s0(x);if(S===null)return null;x=S[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(a=a.type,S=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!S;break e;default:a=!1}if(a)return null;if(x&&typeof x!="function")throw Error(d(231,c,typeof x));return x}var Xn=!1;if(s)try{var On={};Object.defineProperty(On,"passive",{get:function(){Xn=!0}}),window.addEventListener("test",On,On),window.removeEventListener("test",On,On)}catch{Xn=!1}function Ct(a,c,x,S,U,$,le,Re,Xe){var It=Array.prototype.slice.call(arguments,3);try{c.apply(x,It)}catch(en){this.onError(en)}}var br=!1,fr=null,wr=!1,Ln=null,zt={onError:function(a){br=!0,fr=a}};function Gn(a,c,x,S,U,$,le,Re,Xe){br=!1,fr=null,Ct.apply(zt,arguments)}function nr(a,c,x,S,U,$,le,Re,Xe){if(Gn.apply(this,arguments),br){if(br){var It=fr;br=!1,fr=null}else throw Error(d(198));wr||(wr=!0,Ln=It)}}function jr(a){var c=a,x=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(x=c.return),a=c.return;while(a)}return c.tag===3?x:null}function Vr(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function Sa(a){if(jr(a)!==a)throw Error(d(188))}function or(a){var c=a.alternate;if(!c){if(c=jr(a),c===null)throw Error(d(188));return c!==a?null:a}for(var x=a,S=c;;){var U=x.return;if(U===null)break;var $=U.alternate;if($===null){if(S=U.return,S!==null){x=S;continue}break}if(U.child===$.child){for($=U.child;$;){if($===x)return Sa(U),a;if($===S)return Sa(U),c;$=$.sibling}throw Error(d(188))}if(x.return!==S.return)x=U,S=$;else{for(var le=!1,Re=U.child;Re;){if(Re===x){le=!0,x=U,S=$;break}if(Re===S){le=!0,S=U,x=$;break}Re=Re.sibling}if(!le){for(Re=$.child;Re;){if(Re===x){le=!0,x=$,S=U;break}if(Re===S){le=!0,S=$,x=U;break}Re=Re.sibling}if(!le)throw Error(d(189))}}if(x.alternate!==S)throw Error(d(190))}if(x.tag!==3)throw Error(d(188));return x.stateNode.current===x?a:c}function ns(a){return a=or(a),a!==null?rs(a):null}function rs(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var c=rs(a);if(c!==null)return c;a=a.sibling}return null}var Eo=p.unstable_scheduleCallback,ol=p.unstable_cancelCallback,qa=p.unstable_shouldYield,Fs=p.unstable_requestPaint,sr=p.unstable_now,si=p.unstable_getCurrentPriorityLevel,Wr=p.unstable_ImmediatePriority,Ns=p.unstable_UserBlockingPriority,lo=p.unstable_NormalPriority,n0=p.unstable_LowPriority,La=p.unstable_IdlePriority,na=null,uo=null;function sl(a){if(uo&&typeof uo.onCommitFiberRoot=="function")try{uo.onCommitFiberRoot(na,a,void 0,(a.current.flags&128)===128)}catch{}}var va=Math.clz32?Math.clz32:b0,bs=Math.log,r0=Math.LN2;function b0(a){return a>>>=0,a===0?32:31-(bs(a)/r0|0)|0}var ws=64,i0=4194304;function $s(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function ko(a,c){var x=a.pendingLanes;if(x===0)return 0;var S=0,U=a.suspendedLanes,$=a.pingedLanes,le=x&268435455;if(le!==0){var Re=le&~U;Re!==0?S=$s(Re):($&=le,$!==0&&(S=$s($)))}else le=x&~U,le!==0?S=$s(le):$!==0&&(S=$s($));if(S===0)return 0;if(c!==0&&c!==S&&(c&U)===0&&(U=S&-S,$=c&-c,U>=$||U===16&&($&4194240)!==0))return c;if((S&4)!==0&&(S|=x&16),c=a.entangledLanes,c!==0)for(a=a.entanglements,c&=S;0<c;)x=31-va(c),U=1<<x,S|=a[x],c&=~U;return S}function B(a,c){switch(a){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function J(a,c){for(var x=a.suspendedLanes,S=a.pingedLanes,U=a.expirationTimes,$=a.pendingLanes;0<$;){var le=31-va($),Re=1<<le,Xe=U[le];Xe===-1?((Re&x)===0||(Re&S)!==0)&&(U[le]=B(Re,c)):Xe<=c&&(a.expiredLanes|=Re),$&=~Re}}function fe(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Te(){var a=ws;return ws<<=1,(ws&4194240)===0&&(ws=64),a}function gt(a){for(var c=[],x=0;31>x;x++)c.push(a);return c}function ct(a,c,x){a.pendingLanes|=c,c!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,c=31-va(c),a[c]=x}function Ut(a,c){var x=a.pendingLanes&~c;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=c,a.mutableReadLanes&=c,a.entangledLanes&=c,c=a.entanglements;var S=a.eventTimes;for(a=a.expirationTimes;0<x;){var U=31-va(x),$=1<<U;c[U]=0,S[U]=-1,a[U]=-1,x&=~$}}function sn(a,c){var x=a.entangledLanes|=c;for(a=a.entanglements;x;){var S=31-va(x),U=1<<S;U&c|a[S]&c&&(a[S]|=c),x&=~U}}var _n=0;function Mn(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var xn,Fr,mi,ra,er,co=!1,Ta=[],Ma=null,li=null,ui=null,zr=new Map,Ai=new Map,Gr=[],w0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ba(a,c){switch(a){case"focusin":case"focusout":Ma=null;break;case"dragenter":case"dragleave":li=null;break;case"mouseover":case"mouseout":ui=null;break;case"pointerover":case"pointerout":zr.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ai.delete(c.pointerId)}}function ia(a,c,x,S,U,$){return a===null||a.nativeEvent!==$?(a={blockedOn:c,domEventName:x,eventSystemFlags:S,nativeEvent:$,targetContainers:[U]},c!==null&&(c=Ya(c),c!==null&&Fr(c)),a):(a.eventSystemFlags|=S,c=a.targetContainers,U!==null&&c.indexOf(U)===-1&&c.push(U),a)}function ho(a,c,x,S,U){switch(c){case"focusin":return Ma=ia(Ma,a,c,x,S,U),!0;case"dragenter":return li=ia(li,a,c,x,S,U),!0;case"mouseover":return ui=ia(ui,a,c,x,S,U),!0;case"pointerover":var $=U.pointerId;return zr.set($,ia(zr.get($)||null,a,c,x,S,U)),!0;case"gotpointercapture":return $=U.pointerId,Ai.set($,ia(Ai.get($)||null,a,c,x,S,U)),!0}return!1}function po(a){var c=_l(a.target);if(c!==null){var x=jr(c);if(x!==null){if(c=x.tag,c===13){if(c=Vr(x),c!==null){a.blockedOn=c,er(a.priority,function(){mi(x)});return}}else if(c===3&&x.stateNode.current.memoizedState.isDehydrated){a.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Ur(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var x=Cs(a.domEventName,a.eventSystemFlags,c[0],a.nativeEvent);if(x===null){x=a.nativeEvent;var S=new x.constructor(x.type,x);ve=S,x.target.dispatchEvent(S),ve=null}else return c=Ya(x),c!==null&&Fr(c),a.blockedOn=x,!1;c.shift()}return!0}function ci(a,c,x){Ur(a)&&x.delete(c)}function Un(){co=!1,Ma!==null&&Ur(Ma)&&(Ma=null),li!==null&&Ur(li)&&(li=null),ui!==null&&Ur(ui)&&(ui=null),zr.forEach(ci),Ai.forEach(ci)}function vn(a,c){a.blockedOn===c&&(a.blockedOn=null,co||(co=!0,p.unstable_scheduleCallback(p.unstable_NormalPriority,Un)))}function Ar(a){function c(U){return vn(U,a)}if(0<Ta.length){vn(Ta[0],a);for(var x=1;x<Ta.length;x++){var S=Ta[x];S.blockedOn===a&&(S.blockedOn=null)}}for(Ma!==null&&vn(Ma,a),li!==null&&vn(li,a),ui!==null&&vn(ui,a),zr.forEach(c),Ai.forEach(c),x=0;x<Gr.length;x++)S=Gr[x],S.blockedOn===a&&(S.blockedOn=null);for(;0<Gr.length&&(x=Gr[0],x.blockedOn===null);)po(x),x.blockedOn===null&&Gr.shift()}var Yn=Ae.ReactCurrentBatchConfig,fo=!0;function aa(a,c,x,S){var U=_n,$=Yn.transition;Yn.transition=null;try{_n=1,C0(a,c,x,S)}finally{_n=U,Yn.transition=$}}function ll(a,c,x,S){var U=_n,$=Yn.transition;Yn.transition=null;try{_n=4,C0(a,c,x,S)}finally{_n=U,Yn.transition=$}}function C0(a,c,x,S){if(fo){var U=Cs(a,c,x,S);if(U===null)Hu(a,c,S,js,x),Ba(a,S);else if(ho(U,a,c,x,S))S.stopPropagation();else if(Ba(a,S),c&4&&-1<w0.indexOf(a)){for(;U!==null;){var $=Ya(U);if($!==null&&xn($),$=Cs(a,c,x,S),$===null&&Hu(a,c,S,js,x),$===U)break;U=$}U!==null&&S.stopPropagation()}else Hu(a,c,S,null,x)}}var js=null;function Cs(a,c,x,S){if(js=null,a=Me(S),a=_l(a),a!==null)if(c=jr(a),c===null)a=null;else if(x=c.tag,x===13){if(a=Vr(c),a!==null)return a;a=null}else if(x===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null);return js=a,null}function a0(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(si()){case Wr:return 1;case Ns:return 4;case lo:case n0:return 16;case La:return 536870912;default:return 16}default:return 16}}var hi=null,ul=null,go=null;function cl(){if(go)return go;var a,c=ul,x=c.length,S,U="value"in hi?hi.value:hi.textContent,$=U.length;for(a=0;a<x&&c[a]===U[a];a++);var le=x-a;for(S=1;S<=le&&c[x-S]===U[$-S];S++);return go=U.slice(a,1<S?1-S:void 0)}function yi(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function Oi(){return!0}function Vs(){return!1}function Ei(a){function c(x,S,U,$,le){this._reactName=x,this._targetInst=U,this.type=S,this.nativeEvent=$,this.target=le,this.currentTarget=null;for(var Re in a)a.hasOwnProperty(Re)&&(x=a[Re],this[Re]=x?x($):$[Re]);return this.isDefaultPrevented=($.defaultPrevented!=null?$.defaultPrevented:$.returnValue===!1)?Oi:Vs,this.isPropagationStopped=Vs,this}return jt(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=Oi)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=Oi)},persist:function(){},isPersistent:Oi}),c}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ds=Ei(Si),hl=jt({},Si,{view:0,detail:0}),Y0=Ei(hl),xa,Fi,ki,mo=jt({},hl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uo,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ki&&(ki&&a.type==="mousemove"?(xa=a.screenX-ki.screenX,Fi=a.screenY-ki.screenY):Fi=xa=0,ki=a),xa)},movementY:function(a){return"movementY"in a?a.movementY:Fi}}),Zs=Ei(mo),Ro=jt({},mo,{dataTransfer:0}),Pa=Ei(Ro),qi=jt({},hl,{relatedTarget:0}),Hr=Ei(qi),Ws=jt({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),Q0=Ei(Ws),$c=jt({},Si,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),D0=Ei($c),jc=jt({},Si,{data:0}),I0=Ei(jc),pl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hs(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=Gl[a])?!!c[a]:!1}function Uo(){return Hs}var J0=jt({},hl,{key:function(a){if(a.key){var c=pl[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=yi(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?zl[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uo,charCode:function(a){return a.type==="keypress"?yi(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?yi(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),eu=Ei(J0),F=jt({},mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),X=Ei(F),pe=jt({},hl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uo}),Se=Ei(pe),_t=jt({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),st=Ei(_t),Ot=jt({},mo,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ln=Ei(Ot),Bn=[9,13,27,32],hr=s&&"CompositionEvent"in window,Qn=null;s&&"documentMode"in document&&(Qn=document.documentMode);var pi=s&&"TextEvent"in window&&!Qn,Oa=s&&(!hr||Qn&&8<Qn&&11>=Qn),zo=" ",yo=!1;function is(a,c){switch(a){case"keyup":return Bn.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ou(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var dl=!1;function fl(a,c){switch(a){case"compositionend":return Ou(c);case"keypress":return c.which!==32?null:(yo=!0,zo);case"textInput":return a=c.data,a===zo&&yo?null:a;default:return null}}function _p(a,c){if(dl)return a==="compositionend"||!hr&&is(a,c)?(a=cl(),go=ul=hi=null,dl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Oa&&c.locale!=="ko"?null:c.data;default:return null}}var Vc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zc(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!Vc[a.type]:c==="textarea"}function Uh(a,c,x,S){at(S),c=k0(c,"onChange"),0<c.length&&(x=new Ds("onChange","change",null,x,S),a.push({event:x,listeners:c}))}var as=null,o0=null;function vp(a){Lh(a,0)}function Fu(a){var c=dr(a);if(Kn(c))return a}function xp(a,c){if(a==="change")return c}var Cr=!1;if(s){var oa;if(s){var Nu="oninput"in document;if(!Nu){var Wc=document.createElement("div");Wc.setAttribute("oninput","return;"),Nu=typeof Wc.oninput=="function"}oa=Nu}else oa=!1;Cr=oa&&(!document.documentMode||9<document.documentMode)}function Hc(){as&&(as.detachEvent("onpropertychange",zh),o0=as=null)}function zh(a){if(a.propertyName==="value"&&Fu(o0)){var c=[];Uh(c,o0,a,Me(a)),pn(vp,c)}}function Gh(a,c,x){a==="focusin"?(Hc(),as=c,o0=x,as.attachEvent("onpropertychange",zh)):a==="focusout"&&Hc()}function tu(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Fu(o0)}function A0(a,c){if(a==="click")return Fu(c)}function it(a,c){if(a==="input"||a==="change")return Fu(c)}function Lt(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var wt=typeof Object.is=="function"?Object.is:Lt;function Sn(a,c){if(wt(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var x=Object.keys(a),S=Object.keys(c);if(x.length!==S.length)return!1;for(S=0;S<x.length;S++){var U=x[S];if(!V.call(c,U)||!wt(a[U],c[U]))return!1}return!0}function pr(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function qr(a,c){var x=pr(a);a=0;for(var S;x;){if(x.nodeType===3){if(S=a+x.textContent.length,a<=c&&S>=c)return{node:x,offset:c-a};a=S}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=pr(x)}}function sa(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?sa(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function Jr(){for(var a=window,c=Hn();c instanceof a.HTMLIFrameElement;){try{var x=typeof c.contentWindow.location.href=="string"}catch{x=!1}if(x)a=c.contentWindow;else break;c=Hn(a.document)}return c}function S0(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}function qc(a){var c=Jr(),x=a.focusedElem,S=a.selectionRange;if(c!==x&&x&&x.ownerDocument&&sa(x.ownerDocument.documentElement,x)){if(S!==null&&S0(x)){if(c=S.start,a=S.end,a===void 0&&(a=c),"selectionStart"in x)x.selectionStart=c,x.selectionEnd=Math.min(a,x.value.length);else if(a=(c=x.ownerDocument||document)&&c.defaultView||window,a.getSelection){a=a.getSelection();var U=x.textContent.length,$=Math.min(S.start,U);S=S.end===void 0?$:Math.min(S.end,U),!a.extend&&$>S&&(U=S,S=$,$=U),U=qr(x,$);var le=qr(x,S);U&&le&&(a.rangeCount!==1||a.anchorNode!==U.node||a.anchorOffset!==U.offset||a.focusNode!==le.node||a.focusOffset!==le.offset)&&(c=c.createRange(),c.setStart(U.node,U.offset),a.removeAllRanges(),$>S?(a.addRange(c),a.extend(le.node,le.offset)):(c.setEnd(le.node,le.offset),a.addRange(c)))}}for(c=[],a=x;a=a.parentNode;)a.nodeType===1&&c.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<c.length;x++)a=c[x],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var os=s&&"documentMode"in document&&11>=document.documentMode,Go=null,$u=null,Lo=null,Ka=!1;function ju(a,c,x){var S=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;Ka||Go==null||Go!==Hn(S)||(S=Go,"selectionStart"in S&&S0(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),Lo&&Sn(Lo,S)||(Lo=S,S=k0($u,"onSelect"),0<S.length&&(c=new Ds("onSelect","select",null,c,x),a.push({event:c,listeners:S}),c.target=Go)))}function Zr(a,c){var x={};return x[a.toLowerCase()]=c.toLowerCase(),x["Webkit"+a]="webkit"+c,x["Moz"+a]="moz"+c,x}var T0={animationend:Zr("Animation","AnimationEnd"),animationiteration:Zr("Animation","AnimationIteration"),animationstart:Zr("Animation","AnimationStart"),transitionend:Zr("Transition","TransitionEnd")},Ll={},M0={};s&&(M0=document.createElement("div").style,"AnimationEvent"in window||(delete T0.animationend.animation,delete T0.animationiteration.animation,delete T0.animationstart.animation),"TransitionEvent"in window||delete T0.transitionend.transition);function nu(a){if(Ll[a])return Ll[a];if(!T0[a])return a;var c=T0[a],x;for(x in c)if(c.hasOwnProperty(x)&&x in M0)return Ll[a]=c[x];return a}var Vu=nu("animationend"),gc=nu("animationiteration"),P0=nu("animationstart"),ss=nu("transitionend"),Bl=new Map,Kc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ls(a,c){Bl.set(a,c),E(c,[a])}for(var _r=0;_r<Kc.length;_r++){var ru=Kc[_r],iu=ru.toLowerCase(),Xc=ru[0].toUpperCase()+ru.slice(1);ls(iu,"on"+Xc)}ls(Vu,"onAnimationEnd"),ls(gc,"onAnimationIteration"),ls(P0,"onAnimationStart"),ls("dblclick","onDoubleClick"),ls("focusin","onFocus"),ls("focusout","onBlur"),ls(ss,"onTransitionEnd"),I("onMouseEnter",["mouseout","mouseover"]),I("onMouseLeave",["mouseout","mouseover"]),I("onPointerEnter",["pointerout","pointerover"]),I("onPointerLeave",["pointerout","pointerover"]),E("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),E("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),E("onBeforeInput",["compositionend","keypress","textInput","paste"]),E("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),E("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),E("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Is="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),au=new Set("cancel close invalid load scroll toggle".split(" ").concat(Is));function mc(a,c,x){var S=a.type||"unknown-event";a.currentTarget=x,nr(S,c,void 0,a),a.currentTarget=null}function Lh(a,c){c=(c&4)!==0;for(var x=0;x<a.length;x++){var S=a[x],U=S.event;S=S.listeners;e:{var $=void 0;if(c)for(var le=S.length-1;0<=le;le--){var Re=S[le],Xe=Re.instance,It=Re.currentTarget;if(Re=Re.listener,Xe!==$&&U.isPropagationStopped())break e;mc(U,Re,It),$=Xe}else for(le=0;le<S.length;le++){if(Re=S[le],Xe=Re.instance,It=Re.currentTarget,Re=Re.listener,Xe!==$&&U.isPropagationStopped())break e;mc(U,Re,It),$=Xe}}}if(wr)throw a=Ln,wr=!1,Ln=null,a}function Ri(a,c){var x=c[G0];x===void 0&&(x=c[G0]=new Set);var S=a+"__bubble";x.has(S)||(Wu(c,a,2,!1),x.add(S))}function Zu(a,c,x){var S=0;c&&(S|=4),Wu(x,a,S,c)}var gl="_reactListening"+Math.random().toString(36).slice(2);function ml(a){if(!a[gl]){a[gl]=!0,w.forEach(function(x){x!=="selectionchange"&&(au.has(x)||Zu(x,!1,a),Zu(x,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[gl]||(c[gl]=!0,Zu("selectionchange",!1,c))}}function Wu(a,c,x,S){switch(a0(c)){case 1:var U=aa;break;case 4:U=ll;break;default:U=C0}x=U.bind(null,c,x,a),U=void 0,!Xn||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(U=!0),S?U!==void 0?a.addEventListener(c,x,{capture:!0,passive:U}):a.addEventListener(c,x,!0):U!==void 0?a.addEventListener(c,x,{passive:U}):a.addEventListener(c,x,!1)}function Hu(a,c,x,S,U){var $=S;if((c&1)===0&&(c&2)===0&&S!==null)e:for(;;){if(S===null)return;var le=S.tag;if(le===3||le===4){var Re=S.stateNode.containerInfo;if(Re===U||Re.nodeType===8&&Re.parentNode===U)break;if(le===4)for(le=S.return;le!==null;){var Xe=le.tag;if((Xe===3||Xe===4)&&(Xe=le.stateNode.containerInfo,Xe===U||Xe.nodeType===8&&Xe.parentNode===U))return;le=le.return}for(;Re!==null;){if(le=_l(Re),le===null)return;if(Xe=le.tag,Xe===5||Xe===6){S=$=le;continue e}Re=Re.parentNode}}S=S.return}pn(function(){var It=$,en=Me(x),on=[];e:{var tn=Bl.get(a);if(tn!==void 0){var Dn=Ds,zn=a;switch(a){case"keypress":if(yi(x)===0)break e;case"keydown":case"keyup":Dn=eu;break;case"focusin":zn="focus",Dn=Hr;break;case"focusout":zn="blur",Dn=Hr;break;case"beforeblur":case"afterblur":Dn=Hr;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Dn=Zs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Dn=Pa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Dn=Se;break;case Vu:case gc:case P0:Dn=Q0;break;case ss:Dn=st;break;case"scroll":Dn=Y0;break;case"wheel":Dn=ln;break;case"copy":case"cut":case"paste":Dn=D0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Dn=X}var $n=(c&4)!==0,da=!$n&&a==="scroll",dt=$n?tn!==null?tn+"Capture":null:tn;$n=[];for(var et=It,vt;et!==null;){vt=et;var dn=vt.stateNode;if(vt.tag===5&&dn!==null&&(vt=dn,dt!==null&&(dn=Tn(et,dt),dn!=null&&$n.push(E0(et,dn,vt)))),da)break;et=et.return}0<$n.length&&(tn=new Dn(tn,zn,null,x,en),on.push({event:tn,listeners:$n}))}}if((c&7)===0){e:{if(tn=a==="mouseover"||a==="pointerover",Dn=a==="mouseout"||a==="pointerout",tn&&x!==ve&&(zn=x.relatedTarget||x.fromElement)&&(_l(zn)||zn[Bo]))break e;if((Dn||tn)&&(tn=en.window===en?en:(tn=en.ownerDocument)?tn.defaultView||tn.parentWindow:window,Dn?(zn=x.relatedTarget||x.toElement,Dn=It,zn=zn?_l(zn):null,zn!==null&&(da=jr(zn),zn!==da||zn.tag!==5&&zn.tag!==6)&&(zn=null)):(Dn=null,zn=It),Dn!==zn)){if($n=Zs,dn="onMouseLeave",dt="onMouseEnter",et="mouse",(a==="pointerout"||a==="pointerover")&&($n=X,dn="onPointerLeave",dt="onPointerEnter",et="pointer"),da=Dn==null?tn:dr(Dn),vt=zn==null?tn:dr(zn),tn=new $n(dn,et+"leave",Dn,x,en),tn.target=da,tn.relatedTarget=vt,dn=null,_l(en)===It&&($n=new $n(dt,et+"enter",zn,x,en),$n.target=vt,$n.relatedTarget=da,dn=$n),da=dn,Dn&&zn)t:{for($n=Dn,dt=zn,et=0,vt=$n;vt;vt=Ol(vt))et++;for(vt=0,dn=dt;dn;dn=Ol(dn))vt++;for(;0<et-vt;)$n=Ol($n),et--;for(;0<vt-et;)dt=Ol(dt),vt--;for(;et--;){if($n===dt||dt!==null&&$n===dt.alternate)break t;$n=Ol($n),dt=Ol(dt)}$n=null}else $n=null;Dn!==null&&Ni(on,tn,Dn,$n,!1),zn!==null&&da!==null&&Ni(on,da,zn,$n,!0)}}e:{if(tn=It?dr(It):window,Dn=tn.nodeName&&tn.nodeName.toLowerCase(),Dn==="select"||Dn==="input"&&tn.type==="file")var Vn=xp;else if(Zc(tn))if(Cr)Vn=it;else{Vn=tu;var ar=Gh}else(Dn=tn.nodeName)&&Dn.toLowerCase()==="input"&&(tn.type==="checkbox"||tn.type==="radio")&&(Vn=A0);if(Vn&&(Vn=Vn(a,It))){Uh(on,Vn,x,en);break e}ar&&ar(a,tn,It),a==="focusout"&&(ar=tn._wrapperState)&&ar.controlled&&tn.type==="number"&&Li(tn,"number",tn.value)}switch(ar=It?dr(It):window,a){case"focusin":(Zc(ar)||ar.contentEditable==="true")&&(Go=ar,$u=It,Lo=null);break;case"focusout":Lo=$u=Go=null;break;case"mousedown":Ka=!0;break;case"contextmenu":case"mouseup":case"dragend":Ka=!1,ju(on,x,en);break;case"selectionchange":if(os)break;case"keydown":case"keyup":ju(on,x,en)}var Jn;if(hr)e:{switch(a){case"compositionstart":var cr="onCompositionStart";break e;case"compositionend":cr="onCompositionEnd";break e;case"compositionupdate":cr="onCompositionUpdate";break e}cr=void 0}else dl?is(a,x)&&(cr="onCompositionEnd"):a==="keydown"&&x.keyCode===229&&(cr="onCompositionStart");cr&&(Oa&&x.locale!=="ko"&&(dl||cr!=="onCompositionStart"?cr==="onCompositionEnd"&&dl&&(Jn=cl()):(hi=en,ul="value"in hi?hi.value:hi.textContent,dl=!0)),ar=k0(It,cr),0<ar.length&&(cr=new I0(cr,a,null,x,en),on.push({event:cr,listeners:ar}),Jn?cr.data=Jn:(Jn=Ou(x),Jn!==null&&(cr.data=Jn)))),(Jn=pi?fl(a,x):_p(a,x))&&(It=k0(It,"onBeforeInput"),0<It.length&&(en=new I0("onBeforeInput","beforeinput",null,x,en),on.push({event:en,listeners:It}),en.data=Jn))}Lh(on,c)})}function E0(a,c,x){return{instance:a,listener:c,currentTarget:x}}function k0(a,c){for(var x=c+"Capture",S=[];a!==null;){var U=a,$=U.stateNode;U.tag===5&&$!==null&&(U=$,$=Tn(a,x),$!=null&&S.unshift(E0(a,$,U)),$=Tn(a,c),$!=null&&S.push(E0(a,$,U))),a=a.return}return S}function Ol(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function Ni(a,c,x,S,U){for(var $=c._reactName,le=[];x!==null&&x!==S;){var Re=x,Xe=Re.alternate,It=Re.stateNode;if(Xe!==null&&Xe===S)break;Re.tag===5&&It!==null&&(Re=It,U?(Xe=Tn(x,$),Xe!=null&&le.unshift(E0(x,Xe,Re))):U||(Xe=Tn(x,$),Xe!=null&&le.push(E0(x,Xe,Re)))),x=x.return}le.length!==0&&a.push({event:c,listeners:le})}var Fa=/\r\n?/g,yc=/\u0000|\uFFFD/g;function _c(a){return(typeof a=="string"?a:""+a).replace(Fa,`
`).replace(yc,"")}function qu(a,c,x){if(c=_c(c),_c(a)!==c&&x)throw Error(d(425))}function ou(){}var su=null,R0=null;function Ku(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var yl=typeof setTimeout=="function"?setTimeout:void 0,U0=typeof clearTimeout=="function"?clearTimeout:void 0,lu=typeof Promise=="function"?Promise:void 0,z0=typeof queueMicrotask=="function"?queueMicrotask:typeof lu<"u"?function(a){return lu.resolve(null).then(a).catch(Di)}:yl;function Di(a){setTimeout(function(){throw a})}function Fl(a,c){var x=c,S=0;do{var U=x.nextSibling;if(a.removeChild(x),U&&U.nodeType===8)if(x=U.data,x==="/$"){if(S===0){a.removeChild(U),Ar(c);return}S--}else x!=="$"&&x!=="$?"&&x!=="$!"||S++;x=U}while(x);Ar(c)}function ba(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return a}function Yc(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var x=a.data;if(x==="$"||x==="$!"||x==="$?"){if(c===0)return a;c--}else x==="/$"&&c++}a=a.previousSibling}return null}var Nl=Math.random().toString(36).slice(2),qs="__reactFiber$"+Nl,Xa="__reactProps$"+Nl,Bo="__reactContainer$"+Nl,G0="__reactEvents$"+Nl,de="__reactListeners$"+Nl,uu="__reactHandles$"+Nl;function _l(a){var c=a[qs];if(c)return c;for(var x=a.parentNode;x;){if(c=x[Bo]||x[qs]){if(x=c.alternate,c.child!==null||x!==null&&x.child!==null)for(a=Yc(a);a!==null;){if(x=a[qs])return x;a=Yc(a)}return c}a=x,x=a.parentNode}return null}function Ya(a){return a=a[qs]||a[Bo],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function dr(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(d(33))}function s0(a){return a[Xa]||null}var la=[],vl=-1;function _o(a){return{current:a}}function Ti(a){0>vl||(a.current=la[vl],la[vl]=null,vl--)}function Ii(a,c){vl++,la[vl]=a.current,a.current=c}var As={},Na=_o(As),Qa=_o(!1),vo=As;function xl(a,c){var x=a.type.contextTypes;if(!x)return As;var S=a.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===c)return S.__reactInternalMemoizedMaskedChildContext;var U={},$;for($ in x)U[$]=c[$];return S&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=c,a.__reactInternalMemoizedMaskedChildContext=U),U}function Oo(a){return a=a.childContextTypes,a!=null}function Ea(){Ti(Qa),Ti(Na)}function Ks(a,c,x){if(Na.current!==As)throw Error(d(168));Ii(Na,c),Ii(Qa,x)}function cu(a,c,x){var S=a.stateNode;if(c=c.childContextTypes,typeof S.getChildContext!="function")return x;S=S.getChildContext();for(var U in S)if(!(U in c))throw Error(d(108,wn(a)||"Unknown",U));return jt({},x,S)}function Ki(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||As,vo=Na.current,Ii(Na,a),Ii(Qa,Qa.current),!0}function hu(a,c,x){var S=a.stateNode;if(!S)throw Error(d(169));x?(a=cu(a,c,vo),S.__reactInternalMemoizedMergedChildContext=a,Ti(Qa),Ti(Na),Ii(Na,a)):Ti(Qa),Ii(Qa,x)}var Xs=null,Qc=!1,vc=!1;function xc(a){Xs===null?Xs=[a]:Xs.push(a)}function l0(a){Qc=!0,xc(a)}function Ss(){if(!vc&&Xs!==null){vc=!0;var a=0,c=_n;try{var x=Xs;for(_n=1;a<x.length;a++){var S=x[a];do S=S(!0);while(S!==null)}Xs=null,Qc=!1}catch(U){throw Xs!==null&&(Xs=Xs.slice(a+1)),Eo(Wr,Ss),U}finally{_n=c,vc=!1}}return null}var Fo=[],un=0,pu=null,du=0,Ts=[],Ja=0,bl=null,Ys=1,lr="";function $l(a,c){Fo[un++]=du,Fo[un++]=pu,pu=a,du=c}function bp(a,c,x){Ts[Ja++]=Ys,Ts[Ja++]=lr,Ts[Ja++]=bl,bl=a;var S=Ys;a=lr;var U=32-va(S)-1;S&=~(1<<U),x+=1;var $=32-va(c)+U;if(30<$){var le=U-U%5;$=(S&(1<<le)-1).toString(32),S>>=le,U-=le,Ys=1<<32-va(c)+U|x<<U|S,lr=$+a}else Ys=1<<$|x<<U|S,lr=a}function fu(a){a.return!==null&&($l(a,1),bp(a,1,0))}function L0(a){for(;a===pu;)pu=Fo[--un],Fo[un]=null,du=Fo[--un],Fo[un]=null;for(;a===bl;)bl=Ts[--Ja],Ts[Ja]=null,lr=Ts[--Ja],Ts[Ja]=null,Ys=Ts[--Ja],Ts[Ja]=null}var eo=null,No=null,_i=!1,$o=null;function jl(a,c){var x=rl(5,null,null,0);x.elementType="DELETED",x.stateNode=c,x.return=a,c=a.deletions,c===null?(a.deletions=[x],a.flags|=16):c.push(x)}function gu(a,c){switch(a.tag){case 5:var x=a.type;return c=c.nodeType!==1||x.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(a.stateNode=c,eo=a,No=ba(c.firstChild),!0):!1;case 6:return c=a.pendingProps===""||c.nodeType!==3?null:c,c!==null?(a.stateNode=c,eo=a,No=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(x=bl!==null?{id:Ys,overflow:lr}:null,a.memoizedState={dehydrated:c,treeContext:x,retryLane:1073741824},x=rl(18,null,null,0),x.stateNode=c,x.return=a,a.child=x,eo=a,No=null,!0):!1;default:return!1}}function u0(a){return(a.mode&1)!==0&&(a.flags&128)===0}function us(a){if(_i){var c=No;if(c){var x=c;if(!gu(a,c)){if(u0(a))throw Error(d(418));c=ba(x.nextSibling);var S=eo;c&&gu(a,c)?jl(S,x):(a.flags=a.flags&-4097|2,_i=!1,eo=a)}}else{if(u0(a))throw Error(d(418));a.flags=a.flags&-4097|2,_i=!1,eo=a}}}function Vl(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;eo=a}function ii(a){if(a!==eo)return!1;if(!_i)return Vl(a),_i=!0,!1;var c;if((c=a.tag!==3)&&!(c=a.tag!==5)&&(c=a.type,c=c!=="head"&&c!=="body"&&!Ku(a.type,a.memoizedProps)),c&&(c=No)){if(u0(a))throw mu(),Error(d(418));for(;c;)jl(a,c),c=ba(c.nextSibling)}if(Vl(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(d(317));e:{for(a=a.nextSibling,c=0;a;){if(a.nodeType===8){var x=a.data;if(x==="/$"){if(c===0){No=ba(a.nextSibling);break e}c--}else x!=="$"&&x!=="$!"&&x!=="$?"||c++}a=a.nextSibling}No=null}}else No=eo?ba(a.stateNode.nextSibling):null;return!0}function mu(){for(var a=No;a;)a=ba(a.nextSibling)}function Qs(){No=eo=null,_i=!1}function wl(a){$o===null?$o=[a]:$o.push(a)}var Bh=Ae.ReactCurrentBatchConfig;function Xu(a,c,x){if(a=x.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(x._owner){if(x=x._owner,x){if(x.tag!==1)throw Error(d(309));var S=x.stateNode}if(!S)throw Error(d(147,a));var U=S,$=""+a;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===$?c.ref:(c=function(le){var Re=U.refs;le===null?delete Re[$]:Re[$]=le},c._stringRef=$,c)}if(typeof a!="string")throw Error(d(284));if(!x._owner)throw Error(d(290,a))}return a}function yu(a,c){throw a=Object.prototype.toString.call(c),Error(d(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a))}function xo(a){var c=a._init;return c(a._payload)}function Yu(a){function c(dt,et){if(a){var vt=dt.deletions;vt===null?(dt.deletions=[et],dt.flags|=16):vt.push(et)}}function x(dt,et){if(!a)return null;for(;et!==null;)c(dt,et),et=et.sibling;return null}function S(dt,et){for(dt=new Map;et!==null;)et.key!==null?dt.set(et.key,et):dt.set(et.index,et),et=et.sibling;return dt}function U(dt,et){return dt=Ml(dt,et),dt.index=0,dt.sibling=null,dt}function $(dt,et,vt){return dt.index=vt,a?(vt=dt.alternate,vt!==null?(vt=vt.index,vt<et?(dt.flags|=2,et):vt):(dt.flags|=2,et)):(dt.flags|=1048576,et)}function le(dt){return a&&dt.alternate===null&&(dt.flags|=2),dt}function Re(dt,et,vt,dn){return et===null||et.tag!==6?(et=md(vt,dt.mode,dn),et.return=dt,et):(et=U(et,vt),et.return=dt,et)}function Xe(dt,et,vt,dn){var Vn=vt.type;return Vn===ot?en(dt,et,vt.props.children,dn,vt.key):et!==null&&(et.elementType===Vn||typeof Vn=="object"&&Vn!==null&&Vn.$$typeof===Nt&&xo(Vn)===et.type)?(dn=U(et,vt.props),dn.ref=Xu(dt,et,vt),dn.return=dt,dn):(dn=_h(vt.type,vt.key,vt.props,null,dt.mode,dn),dn.ref=Xu(dt,et,vt),dn.return=dt,dn)}function It(dt,et,vt,dn){return et===null||et.tag!==4||et.stateNode.containerInfo!==vt.containerInfo||et.stateNode.implementation!==vt.implementation?(et=yd(vt,dt.mode,dn),et.return=dt,et):(et=U(et,vt.children||[]),et.return=dt,et)}function en(dt,et,vt,dn,Vn){return et===null||et.tag!==7?(et=Ec(vt,dt.mode,dn,Vn),et.return=dt,et):(et=U(et,vt),et.return=dt,et)}function on(dt,et,vt){if(typeof et=="string"&&et!==""||typeof et=="number")return et=md(""+et,dt.mode,vt),et.return=dt,et;if(typeof et=="object"&&et!==null){switch(et.$$typeof){case Ge:return vt=_h(et.type,et.key,et.props,null,dt.mode,vt),vt.ref=Xu(dt,null,et),vt.return=dt,vt;case $e:return et=yd(et,dt.mode,vt),et.return=dt,et;case Nt:var dn=et._init;return on(dt,dn(et._payload),vt)}if(vr(et)||mt(et))return et=Ec(et,dt.mode,vt,null),et.return=dt,et;yu(dt,et)}return null}function tn(dt,et,vt,dn){var Vn=et!==null?et.key:null;if(typeof vt=="string"&&vt!==""||typeof vt=="number")return Vn!==null?null:Re(dt,et,""+vt,dn);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case Ge:return vt.key===Vn?Xe(dt,et,vt,dn):null;case $e:return vt.key===Vn?It(dt,et,vt,dn):null;case Nt:return Vn=vt._init,tn(dt,et,Vn(vt._payload),dn)}if(vr(vt)||mt(vt))return Vn!==null?null:en(dt,et,vt,dn,null);yu(dt,vt)}return null}function Dn(dt,et,vt,dn,Vn){if(typeof dn=="string"&&dn!==""||typeof dn=="number")return dt=dt.get(vt)||null,Re(et,dt,""+dn,Vn);if(typeof dn=="object"&&dn!==null){switch(dn.$$typeof){case Ge:return dt=dt.get(dn.key===null?vt:dn.key)||null,Xe(et,dt,dn,Vn);case $e:return dt=dt.get(dn.key===null?vt:dn.key)||null,It(et,dt,dn,Vn);case Nt:var ar=dn._init;return Dn(dt,et,vt,ar(dn._payload),Vn)}if(vr(dn)||mt(dn))return dt=dt.get(vt)||null,en(et,dt,dn,Vn,null);yu(et,dn)}return null}function zn(dt,et,vt,dn){for(var Vn=null,ar=null,Jn=et,cr=et=0,Co=null;Jn!==null&&cr<vt.length;cr++){Jn.index>cr?(Co=Jn,Jn=null):Co=Jn.sibling;var oi=tn(dt,Jn,vt[cr],dn);if(oi===null){Jn===null&&(Jn=Co);break}a&&Jn&&oi.alternate===null&&c(dt,Jn),et=$(oi,et,cr),ar===null?Vn=oi:ar.sibling=oi,ar=oi,Jn=Co}if(cr===vt.length)return x(dt,Jn),_i&&$l(dt,cr),Vn;if(Jn===null){for(;cr<vt.length;cr++)Jn=on(dt,vt[cr],dn),Jn!==null&&(et=$(Jn,et,cr),ar===null?Vn=Jn:ar.sibling=Jn,ar=Jn);return _i&&$l(dt,cr),Vn}for(Jn=S(dt,Jn);cr<vt.length;cr++)Co=Dn(Jn,dt,cr,vt[cr],dn),Co!==null&&(a&&Co.alternate!==null&&Jn.delete(Co.key===null?cr:Co.key),et=$(Co,et,cr),ar===null?Vn=Co:ar.sibling=Co,ar=Co);return a&&Jn.forEach(function(Su){return c(dt,Su)}),_i&&$l(dt,cr),Vn}function $n(dt,et,vt,dn){var Vn=mt(vt);if(typeof Vn!="function")throw Error(d(150));if(vt=Vn.call(vt),vt==null)throw Error(d(151));for(var ar=Vn=null,Jn=et,cr=et=0,Co=null,oi=vt.next();Jn!==null&&!oi.done;cr++,oi=vt.next()){Jn.index>cr?(Co=Jn,Jn=null):Co=Jn.sibling;var Su=tn(dt,Jn,oi.value,dn);if(Su===null){Jn===null&&(Jn=Co);break}a&&Jn&&Su.alternate===null&&c(dt,Jn),et=$(Su,et,cr),ar===null?Vn=Su:ar.sibling=Su,ar=Su,Jn=Co}if(oi.done)return x(dt,Jn),_i&&$l(dt,cr),Vn;if(Jn===null){for(;!oi.done;cr++,oi=vt.next())oi=on(dt,oi.value,dn),oi!==null&&(et=$(oi,et,cr),ar===null?Vn=oi:ar.sibling=oi,ar=oi);return _i&&$l(dt,cr),Vn}for(Jn=S(dt,Jn);!oi.done;cr++,oi=vt.next())oi=Dn(Jn,dt,cr,oi.value,dn),oi!==null&&(a&&oi.alternate!==null&&Jn.delete(oi.key===null?cr:oi.key),et=$(oi,et,cr),ar===null?Vn=oi:ar.sibling=oi,ar=oi);return a&&Jn.forEach(function(Mf){return c(dt,Mf)}),_i&&$l(dt,cr),Vn}function da(dt,et,vt,dn){if(typeof vt=="object"&&vt!==null&&vt.type===ot&&vt.key===null&&(vt=vt.props.children),typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case Ge:e:{for(var Vn=vt.key,ar=et;ar!==null;){if(ar.key===Vn){if(Vn=vt.type,Vn===ot){if(ar.tag===7){x(dt,ar.sibling),et=U(ar,vt.props.children),et.return=dt,dt=et;break e}}else if(ar.elementType===Vn||typeof Vn=="object"&&Vn!==null&&Vn.$$typeof===Nt&&xo(Vn)===ar.type){x(dt,ar.sibling),et=U(ar,vt.props),et.ref=Xu(dt,ar,vt),et.return=dt,dt=et;break e}x(dt,ar);break}else c(dt,ar);ar=ar.sibling}vt.type===ot?(et=Ec(vt.props.children,dt.mode,dn,vt.key),et.return=dt,dt=et):(dn=_h(vt.type,vt.key,vt.props,null,dt.mode,dn),dn.ref=Xu(dt,et,vt),dn.return=dt,dt=dn)}return le(dt);case $e:e:{for(ar=vt.key;et!==null;){if(et.key===ar)if(et.tag===4&&et.stateNode.containerInfo===vt.containerInfo&&et.stateNode.implementation===vt.implementation){x(dt,et.sibling),et=U(et,vt.children||[]),et.return=dt,dt=et;break e}else{x(dt,et);break}else c(dt,et);et=et.sibling}et=yd(vt,dt.mode,dn),et.return=dt,dt=et}return le(dt);case Nt:return ar=vt._init,da(dt,et,ar(vt._payload),dn)}if(vr(vt))return zn(dt,et,vt,dn);if(mt(vt))return $n(dt,et,vt,dn);yu(dt,vt)}return typeof vt=="string"&&vt!==""||typeof vt=="number"?(vt=""+vt,et!==null&&et.tag===6?(x(dt,et.sibling),et=U(et,vt),et.return=dt,dt=et):(x(dt,et),et=md(vt,dt.mode,dn),et.return=dt,dt=et),le(dt)):x(dt,et)}return da}var fn=Yu(!0),jn=Yu(!1),c0=_o(null),jo=null,Zl=null,Ui=null;function Cl(){Ui=Zl=jo=null}function Vo(a){var c=c0.current;Ti(c0),a._currentValue=c}function $a(a,c,x){for(;a!==null;){var S=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,S!==null&&(S.childLanes|=c)):S!==null&&(S.childLanes&c)!==c&&(S.childLanes|=c),a===x)break;a=a.return}}function cs(a,c){jo=a,Ui=Zl=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&c)!==0&&(Us=!0),a.firstContext=null)}function Nr(a){var c=a._currentValue;if(Ui!==a)if(a={context:a,memoizedValue:c,next:null},Zl===null){if(jo===null)throw Error(d(308));Zl=a,jo.dependencies={lanes:0,firstContext:a}}else Zl=Zl.next=a;return c}var ai=null;function B0(a){ai===null?ai=[a]:ai.push(a)}function O0(a,c,x,S){var U=c.interleaved;return U===null?(x.next=x,B0(c)):(x.next=U.next,U.next=x),c.interleaved=x,Ms(a,S)}function Ms(a,c){a.lanes|=c;var x=a.alternate;for(x!==null&&(x.lanes|=c),x=a,a=a.return;a!==null;)a.childLanes|=c,x=a.alternate,x!==null&&(x.childLanes|=c),x=a,a=a.return;return x.tag===3?x.stateNode:null}var ja=!1;function Qu(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jc(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function hs(a,c){return{eventTime:a,lane:c,tag:0,payload:null,callback:null,next:null}}function ps(a,c,x){var S=a.updateQueue;if(S===null)return null;if(S=S.shared,(Kr&2)!==0){var U=S.pending;return U===null?c.next=c:(c.next=U.next,U.next=c),S.pending=c,Ms(a,x)}return U=S.interleaved,U===null?(c.next=c,B0(S)):(c.next=U.next,U.next=c),S.interleaved=c,Ms(a,x)}function m(a,c,x){if(c=c.updateQueue,c!==null&&(c=c.shared,(x&4194240)!==0)){var S=c.lanes;S&=a.pendingLanes,x|=S,c.lanes=x,sn(a,x)}}function e(a,c){var x=a.updateQueue,S=a.alternate;if(S!==null&&(S=S.updateQueue,x===S)){var U=null,$=null;if(x=x.firstBaseUpdate,x!==null){do{var le={eventTime:x.eventTime,lane:x.lane,tag:x.tag,payload:x.payload,callback:x.callback,next:null};$===null?U=$=le:$=$.next=le,x=x.next}while(x!==null);$===null?U=$=c:$=$.next=c}else U=$=c;x={baseState:S.baseState,firstBaseUpdate:U,lastBaseUpdate:$,shared:S.shared,effects:S.effects},a.updateQueue=x;return}a=x.lastBaseUpdate,a===null?x.firstBaseUpdate=c:a.next=c,x.lastBaseUpdate=c}function n(a,c,x,S){var U=a.updateQueue;ja=!1;var $=U.firstBaseUpdate,le=U.lastBaseUpdate,Re=U.shared.pending;if(Re!==null){U.shared.pending=null;var Xe=Re,It=Xe.next;Xe.next=null,le===null?$=It:le.next=It,le=Xe;var en=a.alternate;en!==null&&(en=en.updateQueue,Re=en.lastBaseUpdate,Re!==le&&(Re===null?en.firstBaseUpdate=It:Re.next=It,en.lastBaseUpdate=Xe))}if($!==null){var on=U.baseState;le=0,en=It=Xe=null,Re=$;do{var tn=Re.lane,Dn=Re.eventTime;if((S&tn)===tn){en!==null&&(en=en.next={eventTime:Dn,lane:0,tag:Re.tag,payload:Re.payload,callback:Re.callback,next:null});e:{var zn=a,$n=Re;switch(tn=c,Dn=x,$n.tag){case 1:if(zn=$n.payload,typeof zn=="function"){on=zn.call(Dn,on,tn);break e}on=zn;break e;case 3:zn.flags=zn.flags&-65537|128;case 0:if(zn=$n.payload,tn=typeof zn=="function"?zn.call(Dn,on,tn):zn,tn==null)break e;on=jt({},on,tn);break e;case 2:ja=!0}}Re.callback!==null&&Re.lane!==0&&(a.flags|=64,tn=U.effects,tn===null?U.effects=[Re]:tn.push(Re))}else Dn={eventTime:Dn,lane:tn,tag:Re.tag,payload:Re.payload,callback:Re.callback,next:null},en===null?(It=en=Dn,Xe=on):en=en.next=Dn,le|=tn;if(Re=Re.next,Re===null){if(Re=U.shared.pending,Re===null)break;tn=Re,Re=tn.next,tn.next=null,U.lastBaseUpdate=tn,U.shared.pending=null}}while(!0);if(en===null&&(Xe=on),U.baseState=Xe,U.firstBaseUpdate=It,U.lastBaseUpdate=en,c=U.shared.interleaved,c!==null){U=c;do le|=U.lane,U=U.next;while(U!==c)}else $===null&&(U.shared.lanes=0);nc|=le,a.lanes=le,a.memoizedState=on}}function u(a,c,x){if(a=c.effects,c.effects=null,a!==null)for(c=0;c<a.length;c++){var S=a[c],U=S.callback;if(U!==null){if(S.callback=null,S=x,typeof U!="function")throw Error(d(191,U));U.call(S)}}}var f={},y=_o(f),C=_o(f),T=_o(f);function k(a){if(a===f)throw Error(d(174));return a}function z(a,c){switch(Ii(T,c),Ii(C,a),Ii(y,f),a=c.nodeType,a){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:Hi(null,"");break;default:a=a===8?c.parentNode:c,c=a.namespaceURI||null,a=a.tagName,c=Hi(c,a)}Ti(y),Ii(y,c)}function O(){Ti(y),Ti(C),Ti(T)}function W(a){k(T.current);var c=k(y.current),x=Hi(c,a.type);c!==x&&(Ii(C,a),Ii(y,x))}function Z(a){C.current===a&&(Ti(y),Ti(C))}var Q=_o(0);function ie(a){for(var c=a;c!==null;){if(c.tag===13){var x=c.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||x.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Ce=[];function we(){for(var a=0;a<Ce.length;a++)Ce[a]._workInProgressVersionPrimary=null;Ce.length=0}var De=Ae.ReactCurrentDispatcher,ke=Ae.ReactCurrentBatchConfig,Le=0,Ee=null,Be=null,je=null,Ve=!1,lt=!1,At=0,rt=0;function ht(){throw Error(d(321))}function Dt(a,c){if(c===null)return!1;for(var x=0;x<c.length&&x<a.length;x++)if(!wt(a[x],c[x]))return!1;return!0}function nn(a,c,x,S,U,$){if(Le=$,Ee=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,De.current=a===null||a.memoizedState===null?Js:Rs,a=x(S,U),lt){$=0;do{if(lt=!1,At=0,25<=$)throw Error(d(301));$+=1,je=Be=null,c.updateQueue=null,De.current=to,a=x(S,U)}while(lt)}if(De.current=F0,c=Be!==null&&Be.next!==null,Le=0,je=Be=Ee=null,Ve=!1,c)throw Error(d(300));return a}function rn(){var a=At!==0;return At=0,a}function Gt(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?Ee.memoizedState=je=a:je=je.next=a,je}function bn(){if(Be===null){var a=Ee.alternate;a=a!==null?a.memoizedState:null}else a=Be.next;var c=je===null?Ee.memoizedState:je.next;if(c!==null)je=c,Be=a;else{if(a===null)throw Error(d(310));Be=a,a={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},je===null?Ee.memoizedState=je=a:je=je.next=a}return je}function Zn(a,c){return typeof c=="function"?c(a):c}function Sr(a){var c=bn(),x=c.queue;if(x===null)throw Error(d(311));x.lastRenderedReducer=a;var S=Be,U=S.baseQueue,$=x.pending;if($!==null){if(U!==null){var le=U.next;U.next=$.next,$.next=le}S.baseQueue=U=$,x.pending=null}if(U!==null){$=U.next,S=S.baseState;var Re=le=null,Xe=null,It=$;do{var en=It.lane;if((Le&en)===en)Xe!==null&&(Xe=Xe.next={lane:0,action:It.action,hasEagerState:It.hasEagerState,eagerState:It.eagerState,next:null}),S=It.hasEagerState?It.eagerState:a(S,It.action);else{var on={lane:en,action:It.action,hasEagerState:It.hasEagerState,eagerState:It.eagerState,next:null};Xe===null?(Re=Xe=on,le=S):Xe=Xe.next=on,Ee.lanes|=en,nc|=en}It=It.next}while(It!==null&&It!==$);Xe===null?le=S:Xe.next=Re,wt(S,c.memoizedState)||(Us=!0),c.memoizedState=S,c.baseState=le,c.baseQueue=Xe,x.lastRenderedState=S}if(a=x.interleaved,a!==null){U=a;do $=U.lane,Ee.lanes|=$,nc|=$,U=U.next;while(U!==a)}else U===null&&(x.lanes=0);return[c.memoizedState,x.dispatch]}function di(a){var c=bn(),x=c.queue;if(x===null)throw Error(d(311));x.lastRenderedReducer=a;var S=x.dispatch,U=x.pending,$=c.memoizedState;if(U!==null){x.pending=null;var le=U=U.next;do $=a($,le.action),le=le.next;while(le!==U);wt($,c.memoizedState)||(Us=!0),c.memoizedState=$,c.baseQueue===null&&(c.baseState=$),x.lastRenderedState=$}return[$,S]}function ei(){}function Mi(a,c){var x=Ee,S=bn(),U=c(),$=!wt(S.memoizedState,U);if($&&(S.memoizedState=U,Us=!0),S=S.queue,fs(Dr.bind(null,x,S,a),[a]),S.getSnapshot!==c||$||je!==null&&je.memoizedState.tag&1){if(x.flags|=2048,Pr(9,Tr.bind(null,x,S,U,c),void 0,null),Da===null)throw Error(d(349));(Le&30)!==0||Pi(x,c,U)}return U}function Pi(a,c,x){a.flags|=16384,a={getSnapshot:c,value:x},c=Ee.updateQueue,c===null?(c={lastEffect:null,stores:null},Ee.updateQueue=c,c.stores=[a]):(x=c.stores,x===null?c.stores=[a]:x.push(a))}function Tr(a,c,x,S){c.value=x,c.getSnapshot=S,Xi(c)&&wa(a)}function Dr(a,c,x){return x(function(){Xi(c)&&wa(a)})}function Xi(a){var c=a.getSnapshot;a=a.value;try{var x=c();return!wt(a,x)}catch{return!0}}function wa(a){var c=Ms(a,1);c!==null&&Ql(c,a,1,-1)}function ua(a){var c=Gt();return typeof a=="function"&&(a=a()),c.memoizedState=c.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zn,lastRenderedState:a},c.queue=a,a=a.dispatch=Oh.bind(null,Ee,a),[c.memoizedState,a]}function Pr(a,c,x,S){return a={tag:a,create:c,destroy:x,deps:S,next:null},c=Ee.updateQueue,c===null?(c={lastEffect:null,stores:null},Ee.updateQueue=c,c.lastEffect=a.next=a):(x=c.lastEffect,x===null?c.lastEffect=a.next=a:(S=x.next,x.next=a,a.next=S,c.lastEffect=a)),a}function Dl(){return bn().memoizedState}function ds(a,c,x,S){var U=Gt();Ee.flags|=a,U.memoizedState=Pr(1|c,x,void 0,S===void 0?null:S)}function Ps(a,c,x,S){var U=bn();S=S===void 0?null:S;var $=void 0;if(Be!==null){var le=Be.memoizedState;if($=le.destroy,S!==null&&Dt(S,le.deps)){U.memoizedState=Pr(c,x,$,S);return}}Ee.flags|=a,U.memoizedState=Pr(1|c,x,$,S)}function Wl(a,c){return ds(8390656,8,a,c)}function fs(a,c){return Ps(2048,8,a,c)}function h0(a,c){return Ps(4,2,a,c)}function Zo(a,c){return Ps(4,4,a,c)}function Wo(a,c){if(typeof c=="function")return a=a(),c(a),function(){c(null)};if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function Hl(a,c,x){return x=x!=null?x.concat([a]):null,Ps(4,4,Wo.bind(null,c,a),x)}function Es(){}function p0(a,c){var x=bn();c=c===void 0?null:c;var S=x.memoizedState;return S!==null&&c!==null&&Dt(c,S[1])?S[0]:(x.memoizedState=[a,c],a)}function ca(a,c){var x=bn();c=c===void 0?null:c;var S=x.memoizedState;return S!==null&&c!==null&&Dt(c,S[1])?S[0]:(a=a(),x.memoizedState=[a,c],a)}function ha(a,c,x){return(Le&21)===0?(a.baseState&&(a.baseState=!1,Us=!0),a.memoizedState=x):(wt(x,c)||(x=Te(),Ee.lanes|=x,nc|=x,a.baseState=!0),c)}function bo(a,c){var x=_n;_n=x!==0&&4>x?x:4,a(!0);var S=ke.transition;ke.transition={};try{a(!1),c()}finally{_n=x,ke.transition=S}}function vi(){return bn().memoizedState}function eh(a,c,x){var S=ic(a);if(x={lane:S,action:x,hasEagerState:!1,eagerState:null,next:null},th(a))Ho(c,x);else if(x=O0(a,c,x,S),x!==null){var U=Gs();Ql(x,a,S,U),ks(x,c,S)}}function Oh(a,c,x){var S=ic(a),U={lane:S,action:x,hasEagerState:!1,eagerState:null,next:null};if(th(a))Ho(c,U);else{var $=a.alternate;if(a.lanes===0&&($===null||$.lanes===0)&&($=c.lastRenderedReducer,$!==null))try{var le=c.lastRenderedState,Re=$(le,x);if(U.hasEagerState=!0,U.eagerState=Re,wt(Re,le)){var Xe=c.interleaved;Xe===null?(U.next=U,B0(c)):(U.next=Xe.next,Xe.next=U),c.interleaved=U;return}}catch{}finally{}x=O0(a,c,U,S),x!==null&&(U=Gs(),Ql(x,a,S,U),ks(x,c,S))}}function th(a){var c=a.alternate;return a===Ee||c!==null&&c===Ee}function Ho(a,c){lt=Ve=!0;var x=a.pending;x===null?c.next=c:(c.next=x.next,x.next=c),a.pending=c}function ks(a,c,x){if((x&4194240)!==0){var S=c.lanes;S&=a.pendingLanes,x|=S,c.lanes=x,sn(a,x)}}var F0={readContext:Nr,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useInsertionEffect:ht,useLayoutEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useMutableSource:ht,useSyncExternalStore:ht,useId:ht,unstable_isNewReconciler:!1},Js={readContext:Nr,useCallback:function(a,c){return Gt().memoizedState=[a,c===void 0?null:c],a},useContext:Nr,useEffect:Wl,useImperativeHandle:function(a,c,x){return x=x!=null?x.concat([a]):null,ds(4194308,4,Wo.bind(null,c,a),x)},useLayoutEffect:function(a,c){return ds(4194308,4,a,c)},useInsertionEffect:function(a,c){return ds(4,2,a,c)},useMemo:function(a,c){var x=Gt();return c=c===void 0?null:c,a=a(),x.memoizedState=[a,c],a},useReducer:function(a,c,x){var S=Gt();return c=x!==void 0?x(c):c,S.memoizedState=S.baseState=c,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:c},S.queue=a,a=a.dispatch=eh.bind(null,Ee,a),[S.memoizedState,a]},useRef:function(a){var c=Gt();return a={current:a},c.memoizedState=a},useState:ua,useDebugValue:Es,useDeferredValue:function(a){return Gt().memoizedState=a},useTransition:function(){var a=ua(!1),c=a[0];return a=bo.bind(null,a[1]),Gt().memoizedState=a,[c,a]},useMutableSource:function(){},useSyncExternalStore:function(a,c,x){var S=Ee,U=Gt();if(_i){if(x===void 0)throw Error(d(407));x=x()}else{if(x=c(),Da===null)throw Error(d(349));(Le&30)!==0||Pi(S,c,x)}U.memoizedState=x;var $={value:x,getSnapshot:c};return U.queue=$,Wl(Dr.bind(null,S,$,a),[a]),S.flags|=2048,Pr(9,Tr.bind(null,S,$,x,c),void 0,null),x},useId:function(){var a=Gt(),c=Da.identifierPrefix;if(_i){var x=lr,S=Ys;x=(S&~(1<<32-va(S)-1)).toString(32)+x,c=":"+c+"R"+x,x=At++,0<x&&(c+="H"+x.toString(32)),c+=":"}else x=rt++,c=":"+c+"r"+x.toString(32)+":";return a.memoizedState=c},unstable_isNewReconciler:!1},Rs={readContext:Nr,useCallback:p0,useContext:Nr,useEffect:fs,useImperativeHandle:Hl,useInsertionEffect:h0,useLayoutEffect:Zo,useMemo:ca,useReducer:Sr,useRef:Dl,useState:function(){return Sr(Zn)},useDebugValue:Es,useDeferredValue:function(a){var c=bn();return ha(c,Be.memoizedState,a)},useTransition:function(){var a=Sr(Zn)[0],c=bn().memoizedState;return[a,c]},useMutableSource:ei,useSyncExternalStore:Mi,useId:vi,unstable_isNewReconciler:!1},to={readContext:Nr,useCallback:p0,useContext:Nr,useEffect:fs,useImperativeHandle:Hl,useInsertionEffect:h0,useLayoutEffect:Zo,useMemo:ca,useReducer:di,useRef:Dl,useState:function(){return di(Zn)},useDebugValue:Es,useDeferredValue:function(a){var c=bn();return Be===null?c.memoizedState=a:ha(c,Be.memoizedState,a)},useTransition:function(){var a=di(Zn)[0],c=bn().memoizedState;return[a,c]},useMutableSource:ei,useSyncExternalStore:Mi,useId:vi,unstable_isNewReconciler:!1};function Ca(a,c){if(a&&a.defaultProps){c=jt({},c),a=a.defaultProps;for(var x in a)c[x]===void 0&&(c[x]=a[x]);return c}return c}function _u(a,c,x,S){c=a.memoizedState,x=x(S,c),x=x==null?c:jt({},c,x),a.memoizedState=x,a.lanes===0&&(a.updateQueue.baseState=x)}var Il={isMounted:function(a){return(a=a._reactInternals)?jr(a)===a:!1},enqueueSetState:function(a,c,x){a=a._reactInternals;var S=Gs(),U=ic(a),$=hs(S,U);$.payload=c,x!=null&&($.callback=x),c=ps(a,$,U),c!==null&&(Ql(c,a,U,S),m(c,a,U))},enqueueReplaceState:function(a,c,x){a=a._reactInternals;var S=Gs(),U=ic(a),$=hs(S,U);$.tag=1,$.payload=c,x!=null&&($.callback=x),c=ps(a,$,U),c!==null&&(Ql(c,a,U,S),m(c,a,U))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var x=Gs(),S=ic(a),U=hs(x,S);U.tag=2,c!=null&&(U.callback=c),c=ps(a,U,S),c!==null&&(Ql(c,a,S,x),m(c,a,S))}};function bc(a,c,x,S,U,$,le){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(S,$,le):c.prototype&&c.prototype.isPureReactComponent?!Sn(x,S)||!Sn(U,$):!0}function Ju(a,c,x){var S=!1,U=As,$=c.contextType;return typeof $=="object"&&$!==null?$=Nr($):(U=Oo(c)?vo:Na.current,S=c.contextTypes,$=(S=S!=null)?xl(a,U):As),c=new c(x,$),a.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Il,a.stateNode=c,c._reactInternals=a,S&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=U,a.__reactInternalMemoizedMaskedChildContext=$),c}function ec(a,c,x,S){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(x,S),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(x,S),c.state!==a&&Il.enqueueReplaceState(c,c.state,null)}function wp(a,c,x,S){var U=a.stateNode;U.props=x,U.state=a.memoizedState,U.refs={},Qu(a);var $=c.contextType;typeof $=="object"&&$!==null?U.context=Nr($):($=Oo(c)?vo:Na.current,U.context=xl(a,$)),U.state=a.memoizedState,$=c.getDerivedStateFromProps,typeof $=="function"&&(_u(a,c,$,x),U.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof U.getSnapshotBeforeUpdate=="function"||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(c=U.state,typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount(),c!==U.state&&Il.enqueueReplaceState(U,U.state,null),n(a,x,U,S),U.state=a.memoizedState),typeof U.componentDidMount=="function"&&(a.flags|=4194308)}function Al(a,c){try{var x="",S=c;do x+=kt(S),S=S.return;while(S);var U=x}catch($){U=`
Error generating stack: `+$.message+`
`+$.stack}return{value:a,source:c,stack:U,digest:null}}function N0(a,c,x){return{value:a,source:null,stack:x??null,digest:c??null}}function wc(a,c){try{console.error(c.value)}catch(x){setTimeout(function(){throw x})}}var Bd=typeof WeakMap=="function"?WeakMap:Map;function Cc(a,c,x){x=hs(-1,x),x.tag=3,x.payload={element:null};var S=c.value;return x.callback=function(){Yh||(Yh=!0,mh=S),wc(a,c)},x}function Fh(a,c,x){x=hs(-1,x),x.tag=3;var S=a.type.getDerivedStateFromError;if(typeof S=="function"){var U=c.value;x.payload=function(){return S(U)},x.callback=function(){wc(a,c)}}var $=a.stateNode;return $!==null&&typeof $.componentDidCatch=="function"&&(x.callback=function(){wc(a,c),typeof S!="function"&&(Cu===null?Cu=new Set([this]):Cu.add(this));var le=c.stack;this.componentDidCatch(c.value,{componentStack:le!==null?le:""})}),x}function Nh(a,c,x){var S=a.pingCache;if(S===null){S=a.pingCache=new Bd;var U=new Set;S.set(c,U)}else U=S.get(c),U===void 0&&(U=new Set,S.set(c,U));U.has(x)||(U.add(x),a=Tf.bind(null,a,c,x),c.then(a,a))}function td(a){do{var c;if((c=a.tag===13)&&(c=a.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return a;a=a.return}while(a!==null);return null}function nd(a,c,x,S,U){return(a.mode&1)===0?(a===c?a.flags|=65536:(a.flags|=128,x.flags|=131072,x.flags&=-52805,x.tag===1&&(x.alternate===null?x.tag=17:(c=hs(-1,1),c.tag=2,ps(x,c,1))),x.lanes|=1),a):(a.flags|=65536,a.lanes=U,a)}var nh=Ae.ReactCurrentOwner,Us=!1;function no(a,c,x,S){c.child=a===null?jn(c,null,x,S):fn(c,a.child,x,S)}function rd(a,c,x,S,U){x=x.render;var $=c.ref;return cs(c,U),S=nn(a,c,x,S,$,U),x=rn(),a!==null&&!Us?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~U,Kl(a,c,U)):(_i&&x&&fu(c),c.flags|=1,no(a,c,S,U),c.child)}function Cp(a,c,x,S,U){if(a===null){var $=x.type;return typeof $=="function"&&!Up($)&&$.defaultProps===void 0&&x.compare===null&&x.defaultProps===void 0?(c.tag=15,c.type=$,gs(a,c,$,S,U)):(a=_h(x.type,null,S,c,c.mode,U),a.ref=c.ref,a.return=c,c.child=a)}if($=a.child,(a.lanes&U)===0){var le=$.memoizedProps;if(x=x.compare,x=x!==null?x:Sn,x(le,S)&&a.ref===c.ref)return Kl(a,c,U)}return c.flags|=1,a=Ml($,S),a.ref=c.ref,a.return=c,c.child=a}function gs(a,c,x,S,U){if(a!==null){var $=a.memoizedProps;if(Sn($,S)&&a.ref===c.ref)if(Us=!1,c.pendingProps=S=$,(a.lanes&U)!==0)(a.flags&131072)!==0&&(Us=!0);else return c.lanes=a.lanes,Kl(a,c,U)}return rh(a,c,x,S,U)}function id(a,c,x){var S=c.pendingProps,U=S.children,$=a!==null?a.memoizedState:null;if(S.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(dh,nl),nl|=x;else{if((x&1073741824)===0)return a=$!==null?$.baseLanes|x:x,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:a,cachePool:null,transitions:null},c.updateQueue=null,Ii(dh,nl),nl|=a,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},S=$!==null?$.baseLanes:x,Ii(dh,nl),nl|=S}else $!==null?(S=$.baseLanes|x,c.memoizedState=null):S=x,Ii(dh,nl),nl|=S;return no(a,c,U,x),c.child}function Dc(a,c){var x=c.ref;(a===null&&x!==null||a!==null&&a.ref!==x)&&(c.flags|=512,c.flags|=2097152)}function rh(a,c,x,S,U){var $=Oo(x)?vo:Na.current;return $=xl(c,$),cs(c,U),x=nn(a,c,x,S,$,U),S=rn(),a!==null&&!Us?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~U,Kl(a,c,U)):(_i&&S&&fu(c),c.flags|=1,no(a,c,x,U),c.child)}function ih(a,c,x,S,U){if(Oo(x)){var $=!0;Ki(c)}else $=!1;if(cs(c,U),c.stateNode===null)ms(a,c),Ju(c,x,S),wp(c,x,S,U),S=!0;else if(a===null){var le=c.stateNode,Re=c.memoizedProps;le.props=Re;var Xe=le.context,It=x.contextType;typeof It=="object"&&It!==null?It=Nr(It):(It=Oo(x)?vo:Na.current,It=xl(c,It));var en=x.getDerivedStateFromProps,on=typeof en=="function"||typeof le.getSnapshotBeforeUpdate=="function";on||typeof le.UNSAFE_componentWillReceiveProps!="function"&&typeof le.componentWillReceiveProps!="function"||(Re!==S||Xe!==It)&&ec(c,le,S,It),ja=!1;var tn=c.memoizedState;le.state=tn,n(c,S,le,U),Xe=c.memoizedState,Re!==S||tn!==Xe||Qa.current||ja?(typeof en=="function"&&(_u(c,x,en,S),Xe=c.memoizedState),(Re=ja||bc(c,x,Re,S,tn,Xe,It))?(on||typeof le.UNSAFE_componentWillMount!="function"&&typeof le.componentWillMount!="function"||(typeof le.componentWillMount=="function"&&le.componentWillMount(),typeof le.UNSAFE_componentWillMount=="function"&&le.UNSAFE_componentWillMount()),typeof le.componentDidMount=="function"&&(c.flags|=4194308)):(typeof le.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=S,c.memoizedState=Xe),le.props=S,le.state=Xe,le.context=It,S=Re):(typeof le.componentDidMount=="function"&&(c.flags|=4194308),S=!1)}else{le=c.stateNode,Jc(a,c),Re=c.memoizedProps,It=c.type===c.elementType?Re:Ca(c.type,Re),le.props=It,on=c.pendingProps,tn=le.context,Xe=x.contextType,typeof Xe=="object"&&Xe!==null?Xe=Nr(Xe):(Xe=Oo(x)?vo:Na.current,Xe=xl(c,Xe));var Dn=x.getDerivedStateFromProps;(en=typeof Dn=="function"||typeof le.getSnapshotBeforeUpdate=="function")||typeof le.UNSAFE_componentWillReceiveProps!="function"&&typeof le.componentWillReceiveProps!="function"||(Re!==on||tn!==Xe)&&ec(c,le,S,Xe),ja=!1,tn=c.memoizedState,le.state=tn,n(c,S,le,U);var zn=c.memoizedState;Re!==on||tn!==zn||Qa.current||ja?(typeof Dn=="function"&&(_u(c,x,Dn,S),zn=c.memoizedState),(It=ja||bc(c,x,It,S,tn,zn,Xe)||!1)?(en||typeof le.UNSAFE_componentWillUpdate!="function"&&typeof le.componentWillUpdate!="function"||(typeof le.componentWillUpdate=="function"&&le.componentWillUpdate(S,zn,Xe),typeof le.UNSAFE_componentWillUpdate=="function"&&le.UNSAFE_componentWillUpdate(S,zn,Xe)),typeof le.componentDidUpdate=="function"&&(c.flags|=4),typeof le.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof le.componentDidUpdate!="function"||Re===a.memoizedProps&&tn===a.memoizedState||(c.flags|=4),typeof le.getSnapshotBeforeUpdate!="function"||Re===a.memoizedProps&&tn===a.memoizedState||(c.flags|=1024),c.memoizedProps=S,c.memoizedState=zn),le.props=S,le.state=zn,le.context=Xe,S=It):(typeof le.componentDidUpdate!="function"||Re===a.memoizedProps&&tn===a.memoizedState||(c.flags|=4),typeof le.getSnapshotBeforeUpdate!="function"||Re===a.memoizedProps&&tn===a.memoizedState||(c.flags|=1024),S=!1)}return Dp(a,c,x,S,$,U)}function Dp(a,c,x,S,U,$){Dc(a,c);var le=(c.flags&128)!==0;if(!S&&!le)return U&&hu(c,x,!1),Kl(a,c,$);S=c.stateNode,nh.current=c;var Re=le&&typeof x.getDerivedStateFromError!="function"?null:S.render();return c.flags|=1,a!==null&&le?(c.child=fn(c,a.child,null,$),c.child=fn(c,null,Re,$)):no(a,c,Re,$),c.memoizedState=S.state,U&&hu(c,x,!0),c.child}function ad(a){var c=a.stateNode;c.pendingContext?Ks(a,c.pendingContext,c.pendingContext!==c.context):c.context&&Ks(a,c.context,!1),z(a,c.containerInfo)}function $0(a,c,x,S,U){return Qs(),wl(U),c.flags|=256,no(a,c,x,S),c.child}var $h={dehydrated:null,treeContext:null,retryLane:0};function ah(a){return{baseLanes:a,cachePool:null,transitions:null}}function jh(a,c,x){var S=c.pendingProps,U=Q.current,$=!1,le=(c.flags&128)!==0,Re;if((Re=le)||(Re=a!==null&&a.memoizedState===null?!1:(U&2)!==0),Re?($=!0,c.flags&=-129):(a===null||a.memoizedState!==null)&&(U|=1),Ii(Q,U&1),a===null)return us(c),a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((c.mode&1)===0?c.lanes=1:a.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(le=S.children,a=S.fallback,$?(S=c.mode,$=c.child,le={mode:"hidden",children:le},(S&1)===0&&$!==null?($.childLanes=0,$.pendingProps=le):$=zp(le,S,0,null),a=Ec(a,S,x,null),$.return=c,a.return=c,$.sibling=a,c.child=$,c.child.memoizedState=ah(x),c.memoizedState=$h,a):Ic(c,le));if(U=a.memoizedState,U!==null&&(Re=U.dehydrated,Re!==null))return ir(a,c,le,S,Re,U,x);if($){$=S.fallback,le=c.mode,U=a.child,Re=U.sibling;var Xe={mode:"hidden",children:S.children};return(le&1)===0&&c.child!==U?(S=c.child,S.childLanes=0,S.pendingProps=Xe,c.deletions=null):(S=Ml(U,Xe),S.subtreeFlags=U.subtreeFlags&14680064),Re!==null?$=Ml(Re,$):($=Ec($,le,x,null),$.flags|=2),$.return=c,S.return=c,S.sibling=$,c.child=S,S=$,$=c.child,le=a.child.memoizedState,le=le===null?ah(x):{baseLanes:le.baseLanes|x,cachePool:null,transitions:le.transitions},$.memoizedState=le,$.childLanes=a.childLanes&~x,c.memoizedState=$h,S}return $=a.child,a=$.sibling,S=Ml($,{mode:"visible",children:S.children}),(c.mode&1)===0&&(S.lanes=x),S.return=c,S.sibling=null,a!==null&&(x=c.deletions,x===null?(c.deletions=[a],c.flags|=16):x.push(a)),c.child=S,c.memoizedState=null,S}function Ic(a,c){return c=zp({mode:"visible",children:c},a.mode,0,null),c.return=a,a.child=c}function vu(a,c,x,S){return S!==null&&wl(S),fn(c,a.child,null,x),a=Ic(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function ir(a,c,x,S,U,$,le){if(x)return c.flags&256?(c.flags&=-257,S=N0(Error(d(422))),vu(a,c,le,S)):c.memoizedState!==null?(c.child=a.child,c.flags|=128,null):($=S.fallback,U=c.mode,S=zp({mode:"visible",children:S.children},U,0,null),$=Ec($,U,le,null),$.flags|=2,S.return=c,$.return=c,S.sibling=$,c.child=S,(c.mode&1)!==0&&fn(c,a.child,null,le),c.child.memoizedState=ah(le),c.memoizedState=$h,$);if((c.mode&1)===0)return vu(a,c,le,null);if(U.data==="$!"){if(S=U.nextSibling&&U.nextSibling.dataset,S)var Re=S.dgst;return S=Re,$=Error(d(419)),S=N0($,S,void 0),vu(a,c,le,S)}if(Re=(le&a.childLanes)!==0,Us||Re){if(S=Da,S!==null){switch(le&-le){case 4:U=2;break;case 16:U=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:U=32;break;case 536870912:U=268435456;break;default:U=0}U=(U&(S.suspendedLanes|le))!==0?0:U,U!==0&&U!==$.retryLane&&($.retryLane=U,Ms(a,U),Ql(S,a,U,-1))}return Ep(),S=N0(Error(d(421))),vu(a,c,le,S)}return U.data==="$?"?(c.flags|=128,c.child=a.child,c=rp.bind(null,a),U._reactRetry=c,null):(a=$.treeContext,No=ba(U.nextSibling),eo=c,_i=!0,$o=null,a!==null&&(Ts[Ja++]=Ys,Ts[Ja++]=lr,Ts[Ja++]=bl,Ys=a.id,lr=a.overflow,bl=c),c=Ic(c,S.children),c.flags|=4096,c)}function oh(a,c,x){a.lanes|=c;var S=a.alternate;S!==null&&(S.lanes|=c),$a(a.return,c,x)}function Ac(a,c,x,S,U){var $=a.memoizedState;$===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:S,tail:x,tailMode:U}:($.isBackwards=c,$.rendering=null,$.renderingStartTime=0,$.last=S,$.tail=x,$.tailMode=U)}function ql(a,c,x){var S=c.pendingProps,U=S.revealOrder,$=S.tail;if(no(a,c,S.children,x),S=Q.current,(S&2)!==0)S=S&1|2,c.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&oh(a,x,c);else if(a.tag===19)oh(a,x,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}S&=1}if(Ii(Q,S),(c.mode&1)===0)c.memoizedState=null;else switch(U){case"forwards":for(x=c.child,U=null;x!==null;)a=x.alternate,a!==null&&ie(a)===null&&(U=x),x=x.sibling;x=U,x===null?(U=c.child,c.child=null):(U=x.sibling,x.sibling=null),Ac(c,!1,U,x,$);break;case"backwards":for(x=null,U=c.child,c.child=null;U!==null;){if(a=U.alternate,a!==null&&ie(a)===null){c.child=U;break}a=U.sibling,U.sibling=x,x=U,U=a}Ac(c,!0,x,null,$);break;case"together":Ac(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function ms(a,c){(c.mode&1)===0&&a!==null&&(a.alternate=null,c.alternate=null,c.flags|=2)}function Kl(a,c,x){if(a!==null&&(c.dependencies=a.dependencies),nc|=c.lanes,(x&c.childLanes)===0)return null;if(a!==null&&c.child!==a.child)throw Error(d(153));if(c.child!==null){for(a=c.child,x=Ml(a,a.pendingProps),c.child=x,x.return=c;a.sibling!==null;)a=a.sibling,x=x.sibling=Ml(a,a.pendingProps),x.return=c;x.sibling=null}return c.child}function Ip(a,c,x){switch(c.tag){case 3:ad(c),Qs();break;case 5:W(c);break;case 1:Oo(c.type)&&Ki(c);break;case 4:z(c,c.stateNode.containerInfo);break;case 10:var S=c.type._context,U=c.memoizedProps.value;Ii(c0,S._currentValue),S._currentValue=U;break;case 13:if(S=c.memoizedState,S!==null)return S.dehydrated!==null?(Ii(Q,Q.current&1),c.flags|=128,null):(x&c.child.childLanes)!==0?jh(a,c,x):(Ii(Q,Q.current&1),a=Kl(a,c,x),a!==null?a.sibling:null);Ii(Q,Q.current&1);break;case 19:if(S=(x&c.childLanes)!==0,(a.flags&128)!==0){if(S)return ql(a,c,x);c.flags|=128}if(U=c.memoizedState,U!==null&&(U.rendering=null,U.tail=null,U.lastEffect=null),Ii(Q,Q.current),S)break;return null;case 22:case 23:return c.lanes=0,id(a,c,x)}return Kl(a,c,x)}var qo,Ap,Od,od;qo=function(a,c){for(var x=c.child;x!==null;){if(x.tag===5||x.tag===6)a.appendChild(x.stateNode);else if(x.tag!==4&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===c)break;for(;x.sibling===null;){if(x.return===null||x.return===c)return;x=x.return}x.sibling.return=x.return,x=x.sibling}},Ap=function(){},Od=function(a,c,x,S){var U=a.memoizedProps;if(U!==S){a=c.stateNode,k(y.current);var $=null;switch(x){case"input":U=yn(a,U),S=yn(a,S),$=[];break;case"select":U=jt({},U,{value:void 0}),S=jt({},S,{value:void 0}),$=[];break;case"textarea":U=Cn(a,U),S=Cn(a,S),$=[];break;default:typeof U.onClick!="function"&&typeof S.onClick=="function"&&(a.onclick=ou)}ne(x,S);var le;x=null;for(It in U)if(!S.hasOwnProperty(It)&&U.hasOwnProperty(It)&&U[It]!=null)if(It==="style"){var Re=U[It];for(le in Re)Re.hasOwnProperty(le)&&(x||(x={}),x[le]="")}else It!=="dangerouslySetInnerHTML"&&It!=="children"&&It!=="suppressContentEditableWarning"&&It!=="suppressHydrationWarning"&&It!=="autoFocus"&&(D.hasOwnProperty(It)?$||($=[]):($=$||[]).push(It,null));for(It in S){var Xe=S[It];if(Re=U!=null?U[It]:void 0,S.hasOwnProperty(It)&&Xe!==Re&&(Xe!=null||Re!=null))if(It==="style")if(Re){for(le in Re)!Re.hasOwnProperty(le)||Xe&&Xe.hasOwnProperty(le)||(x||(x={}),x[le]="");for(le in Xe)Xe.hasOwnProperty(le)&&Re[le]!==Xe[le]&&(x||(x={}),x[le]=Xe[le])}else x||($||($=[]),$.push(It,x)),x=Xe;else It==="dangerouslySetInnerHTML"?(Xe=Xe?Xe.__html:void 0,Re=Re?Re.__html:void 0,Xe!=null&&Re!==Xe&&($=$||[]).push(It,Xe)):It==="children"?typeof Xe!="string"&&typeof Xe!="number"||($=$||[]).push(It,""+Xe):It!=="suppressContentEditableWarning"&&It!=="suppressHydrationWarning"&&(D.hasOwnProperty(It)?(Xe!=null&&It==="onScroll"&&Ri("scroll",a),$||Re===Xe||($=[])):($=$||[]).push(It,Xe))}x&&($=$||[]).push("style",x);var It=$;(c.updateQueue=It)&&(c.flags|=4)}},od=function(a,c,x,S){x!==S&&(c.flags|=4)};function Vh(a,c){if(!_i)switch(a.tailMode){case"hidden":c=a.tail;for(var x=null;c!==null;)c.alternate!==null&&(x=c),c=c.sibling;x===null?a.tail=null:x.sibling=null;break;case"collapsed":x=a.tail;for(var S=null;x!==null;)x.alternate!==null&&(S=x),x=x.sibling;S===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:S.sibling=null}}function Ko(a){var c=a.alternate!==null&&a.alternate.child===a.child,x=0,S=0;if(c)for(var U=a.child;U!==null;)x|=U.lanes|U.childLanes,S|=U.subtreeFlags&14680064,S|=U.flags&14680064,U.return=a,U=U.sibling;else for(U=a.child;U!==null;)x|=U.lanes|U.childLanes,S|=U.subtreeFlags,S|=U.flags,U.return=a,U=U.sibling;return a.subtreeFlags|=S,a.childLanes=x,c}function sd(a,c,x){var S=c.pendingProps;switch(L0(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ko(c),null;case 1:return Oo(c.type)&&Ea(),Ko(c),null;case 3:return S=c.stateNode,O(),Ti(Qa),Ti(Na),we(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(a===null||a.child===null)&&(ii(c)?c.flags|=4:a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,$o!==null&&(Tc($o),$o=null))),Ap(a,c),Ko(c),null;case 5:Z(c);var U=k(T.current);if(x=c.type,a!==null&&c.stateNode!=null)Od(a,c,x,S,U),a.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!S){if(c.stateNode===null)throw Error(d(166));return Ko(c),null}if(a=k(y.current),ii(c)){S=c.stateNode,x=c.type;var $=c.memoizedProps;switch(S[qs]=c,S[Xa]=$,a=(c.mode&1)!==0,x){case"dialog":Ri("cancel",S),Ri("close",S);break;case"iframe":case"object":case"embed":Ri("load",S);break;case"video":case"audio":for(U=0;U<Is.length;U++)Ri(Is[U],S);break;case"source":Ri("error",S);break;case"img":case"image":case"link":Ri("error",S),Ri("load",S);break;case"details":Ri("toggle",S);break;case"input":yr(S,$),Ri("invalid",S);break;case"select":S._wrapperState={wasMultiple:!!$.multiple},Ri("invalid",S);break;case"textarea":Or(S,$),Ri("invalid",S)}ne(x,$),U=null;for(var le in $)if($.hasOwnProperty(le)){var Re=$[le];le==="children"?typeof Re=="string"?S.textContent!==Re&&($.suppressHydrationWarning!==!0&&qu(S.textContent,Re,a),U=["children",Re]):typeof Re=="number"&&S.textContent!==""+Re&&($.suppressHydrationWarning!==!0&&qu(S.textContent,Re,a),U=["children",""+Re]):D.hasOwnProperty(le)&&Re!=null&&le==="onScroll"&&Ri("scroll",S)}switch(x){case"input":Nn(S),Yr(S,$,!0);break;case"textarea":Nn(S),Wi(S);break;case"select":case"option":break;default:typeof $.onClick=="function"&&(S.onclick=ou)}S=U,c.updateQueue=S,S!==null&&(c.flags|=4)}else{le=U.nodeType===9?U:U.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Ga(x)),a==="http://www.w3.org/1999/xhtml"?x==="script"?(a=le.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof S.is=="string"?a=le.createElement(x,{is:S.is}):(a=le.createElement(x),x==="select"&&(le=a,S.multiple?le.multiple=!0:S.size&&(le.size=S.size))):a=le.createElementNS(a,x),a[qs]=c,a[Xa]=S,qo(a,c,!1,!1),c.stateNode=a;e:{switch(le=oe(x,S),x){case"dialog":Ri("cancel",a),Ri("close",a),U=S;break;case"iframe":case"object":case"embed":Ri("load",a),U=S;break;case"video":case"audio":for(U=0;U<Is.length;U++)Ri(Is[U],a);U=S;break;case"source":Ri("error",a),U=S;break;case"img":case"image":case"link":Ri("error",a),Ri("load",a),U=S;break;case"details":Ri("toggle",a),U=S;break;case"input":yr(a,S),U=yn(a,S),Ri("invalid",a);break;case"option":U=S;break;case"select":a._wrapperState={wasMultiple:!!S.multiple},U=jt({},S,{value:void 0}),Ri("invalid",a);break;case"textarea":Or(a,S),U=Cn(a,S),Ri("invalid",a);break;default:U=S}ne(x,U),Re=U;for($ in Re)if(Re.hasOwnProperty($)){var Xe=Re[$];$==="style"?_a(a,Xe):$==="dangerouslySetInnerHTML"?(Xe=Xe?Xe.__html:void 0,Xe!=null&&Bi(a,Xe)):$==="children"?typeof Xe=="string"?(x!=="textarea"||Xe!=="")&&wi(a,Xe):typeof Xe=="number"&&wi(a,""+Xe):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(D.hasOwnProperty($)?Xe!=null&&$==="onScroll"&&Ri("scroll",a):Xe!=null&&ze(a,$,Xe,le))}switch(x){case"input":Nn(a),Yr(a,S,!1);break;case"textarea":Nn(a),Wi(a);break;case"option":S.value!=null&&a.setAttribute("value",""+Fn(S.value));break;case"select":a.multiple=!!S.multiple,$=S.value,$!=null?ur(a,!!S.multiple,$,!1):S.defaultValue!=null&&ur(a,!!S.multiple,S.defaultValue,!0);break;default:typeof U.onClick=="function"&&(a.onclick=ou)}switch(x){case"button":case"input":case"select":case"textarea":S=!!S.autoFocus;break e;case"img":S=!0;break e;default:S=!1}}S&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Ko(c),null;case 6:if(a&&c.stateNode!=null)od(a,c,a.memoizedProps,S);else{if(typeof S!="string"&&c.stateNode===null)throw Error(d(166));if(x=k(T.current),k(y.current),ii(c)){if(S=c.stateNode,x=c.memoizedProps,S[qs]=c,($=S.nodeValue!==x)&&(a=eo,a!==null))switch(a.tag){case 3:qu(S.nodeValue,x,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&qu(S.nodeValue,x,(a.mode&1)!==0)}$&&(c.flags|=4)}else S=(x.nodeType===9?x:x.ownerDocument).createTextNode(S),S[qs]=c,c.stateNode=S}return Ko(c),null;case 13:if(Ti(Q),S=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(_i&&No!==null&&(c.mode&1)!==0&&(c.flags&128)===0)mu(),Qs(),c.flags|=98560,$=!1;else if($=ii(c),S!==null&&S.dehydrated!==null){if(a===null){if(!$)throw Error(d(318));if($=c.memoizedState,$=$!==null?$.dehydrated:null,!$)throw Error(d(317));$[qs]=c}else Qs(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Ko(c),$=!1}else $o!==null&&(Tc($o),$o=null),$=!0;if(!$)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=x,c):(S=S!==null,S!==(a!==null&&a.memoizedState!==null)&&S&&(c.child.flags|=8192,(c.mode&1)!==0&&(a===null||(Q.current&1)!==0?io===0&&(io=3):Ep())),c.updateQueue!==null&&(c.flags|=4),Ko(c),null);case 4:return O(),Ap(a,c),a===null&&ml(c.stateNode.containerInfo),Ko(c),null;case 10:return Vo(c.type._context),Ko(c),null;case 17:return Oo(c.type)&&Ea(),Ko(c),null;case 19:if(Ti(Q),$=c.memoizedState,$===null)return Ko(c),null;if(S=(c.flags&128)!==0,le=$.rendering,le===null)if(S)Vh($,!1);else{if(io!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(le=ie(a),le!==null){for(c.flags|=128,Vh($,!1),S=le.updateQueue,S!==null&&(c.updateQueue=S,c.flags|=4),c.subtreeFlags=0,S=x,x=c.child;x!==null;)$=x,a=S,$.flags&=14680066,le=$.alternate,le===null?($.childLanes=0,$.lanes=a,$.child=null,$.subtreeFlags=0,$.memoizedProps=null,$.memoizedState=null,$.updateQueue=null,$.dependencies=null,$.stateNode=null):($.childLanes=le.childLanes,$.lanes=le.lanes,$.child=le.child,$.subtreeFlags=0,$.deletions=null,$.memoizedProps=le.memoizedProps,$.memoizedState=le.memoizedState,$.updateQueue=le.updateQueue,$.type=le.type,a=le.dependencies,$.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),x=x.sibling;return Ii(Q,Q.current&1|2),c.child}a=a.sibling}$.tail!==null&&sr()>wu&&(c.flags|=128,S=!0,Vh($,!1),c.lanes=4194304)}else{if(!S)if(a=ie(le),a!==null){if(c.flags|=128,S=!0,x=a.updateQueue,x!==null&&(c.updateQueue=x,c.flags|=4),Vh($,!0),$.tail===null&&$.tailMode==="hidden"&&!le.alternate&&!_i)return Ko(c),null}else 2*sr()-$.renderingStartTime>wu&&x!==1073741824&&(c.flags|=128,S=!0,Vh($,!1),c.lanes=4194304);$.isBackwards?(le.sibling=c.child,c.child=le):(x=$.last,x!==null?x.sibling=le:c.child=le,$.last=le)}return $.tail!==null?(c=$.tail,$.rendering=c,$.tail=c.sibling,$.renderingStartTime=sr(),c.sibling=null,x=Q.current,Ii(Q,S?x&1|2:x&1),c):(Ko(c),null);case 22:case 23:return dd(),S=c.memoizedState!==null,a!==null&&a.memoizedState!==null!==S&&(c.flags|=8192),S&&(c.mode&1)!==0?(nl&1073741824)!==0&&(Ko(c),c.subtreeFlags&6&&(c.flags|=8192)):Ko(c),null;case 24:return null;case 25:return null}throw Error(d(156,c.tag))}function ld(a,c){switch(L0(c),c.tag){case 1:return Oo(c.type)&&Ea(),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return O(),Ti(Qa),Ti(Na),we(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 5:return Z(c),null;case 13:if(Ti(Q),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(d(340));Qs()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return Ti(Q),null;case 4:return O(),null;case 10:return Vo(c.type._context),null;case 22:case 23:return dd(),null;case 24:return null;default:return null}}var Zh=!1,xi=!1,ro=typeof WeakSet=="function"?WeakSet:Set,kn=null;function sh(a,c){var x=a.ref;if(x!==null)if(typeof x=="function")try{x(null)}catch(S){Yi(a,c,S)}else x.current=null}function Wh(a,c,x){try{x()}catch(S){Yi(a,c,S)}}var Fd=!1;function If(a,c){if(su=fo,a=Jr(),S0(a)){if("selectionStart"in a)var x={start:a.selectionStart,end:a.selectionEnd};else e:{x=(x=a.ownerDocument)&&x.defaultView||window;var S=x.getSelection&&x.getSelection();if(S&&S.rangeCount!==0){x=S.anchorNode;var U=S.anchorOffset,$=S.focusNode;S=S.focusOffset;try{x.nodeType,$.nodeType}catch{x=null;break e}var le=0,Re=-1,Xe=-1,It=0,en=0,on=a,tn=null;t:for(;;){for(var Dn;on!==x||U!==0&&on.nodeType!==3||(Re=le+U),on!==$||S!==0&&on.nodeType!==3||(Xe=le+S),on.nodeType===3&&(le+=on.nodeValue.length),(Dn=on.firstChild)!==null;)tn=on,on=Dn;for(;;){if(on===a)break t;if(tn===x&&++It===U&&(Re=le),tn===$&&++en===S&&(Xe=le),(Dn=on.nextSibling)!==null)break;on=tn,tn=on.parentNode}on=Dn}x=Re===-1||Xe===-1?null:{start:Re,end:Xe}}else x=null}x=x||{start:0,end:0}}else x=null;for(R0={focusedElem:a,selectionRange:x},fo=!1,kn=c;kn!==null;)if(c=kn,a=c.child,(c.subtreeFlags&1028)!==0&&a!==null)a.return=c,kn=a;else for(;kn!==null;){c=kn;try{var zn=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(zn!==null){var $n=zn.memoizedProps,da=zn.memoizedState,dt=c.stateNode,et=dt.getSnapshotBeforeUpdate(c.elementType===c.type?$n:Ca(c.type,$n),da);dt.__reactInternalSnapshotBeforeUpdate=et}break;case 3:var vt=c.stateNode.containerInfo;vt.nodeType===1?vt.textContent="":vt.nodeType===9&&vt.documentElement&&vt.removeChild(vt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(d(163))}}catch(dn){Yi(c,c.return,dn)}if(a=c.sibling,a!==null){a.return=c.return,kn=a;break}kn=c.return}return zn=Fd,Fd=!1,zn}function xu(a,c,x){var S=c.updateQueue;if(S=S!==null?S.lastEffect:null,S!==null){var U=S=S.next;do{if((U.tag&a)===a){var $=U.destroy;U.destroy=void 0,$!==void 0&&Wh(c,x,$)}U=U.next}while(U!==S)}}function Hh(a,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var x=c=c.next;do{if((x.tag&a)===a){var S=x.create;x.destroy=S()}x=x.next}while(x!==c)}}function lh(a){var c=a.ref;if(c!==null){var x=a.stateNode;switch(a.tag){case 5:a=x;break;default:a=x}typeof c=="function"?c(a):c.current=a}}function Nd(a){var c=a.alternate;c!==null&&(a.alternate=null,Nd(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&(delete c[qs],delete c[Xa],delete c[G0],delete c[de],delete c[uu])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function ud(a){return a.tag===5||a.tag===3||a.tag===4}function uh(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||ud(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function cd(a,c,x){var S=a.tag;if(S===5||S===6)a=a.stateNode,c?x.nodeType===8?x.parentNode.insertBefore(a,c):x.insertBefore(a,c):(x.nodeType===8?(c=x.parentNode,c.insertBefore(a,x)):(c=x,c.appendChild(a)),x=x._reactRootContainer,x!=null||c.onclick!==null||(c.onclick=ou));else if(S!==4&&(a=a.child,a!==null))for(cd(a,c,x),a=a.sibling;a!==null;)cd(a,c,x),a=a.sibling}function $i(a,c,x){var S=a.tag;if(S===5||S===6)a=a.stateNode,c?x.insertBefore(a,c):x.appendChild(a);else if(S!==4&&(a=a.child,a!==null))for($i(a,c,x),a=a.sibling;a!==null;)$i(a,c,x),a=a.sibling}var pa=null,Xl=!1;function Sl(a,c,x){for(x=x.child;x!==null;)ch(a,c,x),x=x.sibling}function ch(a,c,x){if(uo&&typeof uo.onCommitFiberUnmount=="function")try{uo.onCommitFiberUnmount(na,x)}catch{}switch(x.tag){case 5:xi||sh(x,c);case 6:var S=pa,U=Xl;pa=null,Sl(a,c,x),pa=S,Xl=U,pa!==null&&(Xl?(a=pa,x=x.stateNode,a.nodeType===8?a.parentNode.removeChild(x):a.removeChild(x)):pa.removeChild(x.stateNode));break;case 18:pa!==null&&(Xl?(a=pa,x=x.stateNode,a.nodeType===8?Fl(a.parentNode,x):a.nodeType===1&&Fl(a,x),Ar(a)):Fl(pa,x.stateNode));break;case 4:S=pa,U=Xl,pa=x.stateNode.containerInfo,Xl=!0,Sl(a,c,x),pa=S,Xl=U;break;case 0:case 11:case 14:case 15:if(!xi&&(S=x.updateQueue,S!==null&&(S=S.lastEffect,S!==null))){U=S=S.next;do{var $=U,le=$.destroy;$=$.tag,le!==void 0&&(($&2)!==0||($&4)!==0)&&Wh(x,c,le),U=U.next}while(U!==S)}Sl(a,c,x);break;case 1:if(!xi&&(sh(x,c),S=x.stateNode,typeof S.componentWillUnmount=="function"))try{S.props=x.memoizedProps,S.state=x.memoizedState,S.componentWillUnmount()}catch(Re){Yi(x,c,Re)}Sl(a,c,x);break;case 21:Sl(a,c,x);break;case 22:x.mode&1?(xi=(S=xi)||x.memoizedState!==null,Sl(a,c,x),xi=S):Sl(a,c,x);break;default:Sl(a,c,x)}}function j0(a){var c=a.updateQueue;if(c!==null){a.updateQueue=null;var x=a.stateNode;x===null&&(x=a.stateNode=new ro),c.forEach(function(S){var U=qd.bind(null,a,S);x.has(S)||(x.add(S),S.then(U,U))})}}function el(a,c){var x=c.deletions;if(x!==null)for(var S=0;S<x.length;S++){var U=x[S];try{var $=a,le=c,Re=le;e:for(;Re!==null;){switch(Re.tag){case 5:pa=Re.stateNode,Xl=!1;break e;case 3:pa=Re.stateNode.containerInfo,Xl=!0;break e;case 4:pa=Re.stateNode.containerInfo,Xl=!0;break e}Re=Re.return}if(pa===null)throw Error(d(160));ch($,le,U),pa=null,Xl=!1;var Xe=U.alternate;Xe!==null&&(Xe.return=null),U.return=null}catch(It){Yi(U,c,It)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)Sp(c,a),c=c.sibling}function Sp(a,c){var x=a.alternate,S=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(el(c,a),zs(a),S&4){try{xu(3,a,a.return),Hh(3,a)}catch($n){Yi(a,a.return,$n)}try{xu(5,a,a.return)}catch($n){Yi(a,a.return,$n)}}break;case 1:el(c,a),zs(a),S&512&&x!==null&&sh(x,x.return);break;case 5:if(el(c,a),zs(a),S&512&&x!==null&&sh(x,x.return),a.flags&32){var U=a.stateNode;try{wi(U,"")}catch($n){Yi(a,a.return,$n)}}if(S&4&&(U=a.stateNode,U!=null)){var $=a.memoizedProps,le=x!==null?x.memoizedProps:$,Re=a.type,Xe=a.updateQueue;if(a.updateQueue=null,Xe!==null)try{Re==="input"&&$.type==="radio"&&$.name!=null&&gi(U,$),oe(Re,le);var It=oe(Re,$);for(le=0;le<Xe.length;le+=2){var en=Xe[le],on=Xe[le+1];en==="style"?_a(U,on):en==="dangerouslySetInnerHTML"?Bi(U,on):en==="children"?wi(U,on):ze(U,en,on,It)}switch(Re){case"input":Ir(U,$);break;case"textarea":ni(U,$);break;case"select":var tn=U._wrapperState.wasMultiple;U._wrapperState.wasMultiple=!!$.multiple;var Dn=$.value;Dn!=null?ur(U,!!$.multiple,Dn,!1):tn!==!!$.multiple&&($.defaultValue!=null?ur(U,!!$.multiple,$.defaultValue,!0):ur(U,!!$.multiple,$.multiple?[]:"",!1))}U[Xa]=$}catch($n){Yi(a,a.return,$n)}}break;case 6:if(el(c,a),zs(a),S&4){if(a.stateNode===null)throw Error(d(162));U=a.stateNode,$=a.memoizedProps;try{U.nodeValue=$}catch($n){Yi(a,a.return,$n)}}break;case 3:if(el(c,a),zs(a),S&4&&x!==null&&x.memoizedState.isDehydrated)try{Ar(c.containerInfo)}catch($n){Yi(a,a.return,$n)}break;case 4:el(c,a),zs(a);break;case 13:el(c,a),zs(a),U=a.child,U.flags&8192&&($=U.memoizedState!==null,U.stateNode.isHidden=$,!$||U.alternate!==null&&U.alternate.memoizedState!==null||(Tp=sr())),S&4&&j0(a);break;case 22:if(en=x!==null&&x.memoizedState!==null,a.mode&1?(xi=(It=xi)||en,el(c,a),xi=It):el(c,a),zs(a),S&8192){if(It=a.memoizedState!==null,(a.stateNode.isHidden=It)&&!en&&(a.mode&1)!==0)for(kn=a,en=a.child;en!==null;){for(on=kn=en;kn!==null;){switch(tn=kn,Dn=tn.child,tn.tag){case 0:case 11:case 14:case 15:xu(4,tn,tn.return);break;case 1:sh(tn,tn.return);var zn=tn.stateNode;if(typeof zn.componentWillUnmount=="function"){S=tn,x=tn.return;try{c=S,zn.props=c.memoizedProps,zn.state=c.memoizedState,zn.componentWillUnmount()}catch($n){Yi(S,x,$n)}}break;case 5:sh(tn,tn.return);break;case 22:if(tn.memoizedState!==null){Tl(on);continue}}Dn!==null?(Dn.return=tn,kn=Dn):Tl(on)}en=en.sibling}e:for(en=null,on=a;;){if(on.tag===5){if(en===null){en=on;try{U=on.stateNode,It?($=U.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none"):(Re=on.stateNode,Xe=on.memoizedProps.style,le=Xe!=null&&Xe.hasOwnProperty("display")?Xe.display:null,Re.style.display=ri("display",le))}catch($n){Yi(a,a.return,$n)}}}else if(on.tag===6){if(en===null)try{on.stateNode.nodeValue=It?"":on.memoizedProps}catch($n){Yi(a,a.return,$n)}}else if((on.tag!==22&&on.tag!==23||on.memoizedState===null||on===a)&&on.child!==null){on.child.return=on,on=on.child;continue}if(on===a)break e;for(;on.sibling===null;){if(on.return===null||on.return===a)break e;en===on&&(en=null),on=on.return}en===on&&(en=null),on.sibling.return=on.return,on=on.sibling}}break;case 19:el(c,a),zs(a),S&4&&j0(a);break;case 21:break;default:el(c,a),zs(a)}}function zs(a){var c=a.flags;if(c&2){try{e:{for(var x=a.return;x!==null;){if(ud(x)){var S=x;break e}x=x.return}throw Error(d(160))}switch(S.tag){case 5:var U=S.stateNode;S.flags&32&&(wi(U,""),S.flags&=-33);var $=uh(a);$i(a,$,U);break;case 3:case 4:var le=S.stateNode.containerInfo,Re=uh(a);cd(a,Re,le);break;default:throw Error(d(161))}}catch(Xe){Yi(a,a.return,Xe)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function hh(a,c,x){kn=a,tc(a)}function tc(a,c,x){for(var S=(a.mode&1)!==0;kn!==null;){var U=kn,$=U.child;if(U.tag===22&&S){var le=U.memoizedState!==null||Zh;if(!le){var Re=U.alternate,Xe=Re!==null&&Re.memoizedState!==null||xi;Re=Zh;var It=xi;if(Zh=le,(xi=Xe)&&!It)for(kn=U;kn!==null;)le=kn,Xe=le.child,le.tag===22&&le.memoizedState!==null?ph(U):Xe!==null?(Xe.return=le,kn=Xe):ph(U);for(;$!==null;)kn=$,tc($),$=$.sibling;kn=U,Zh=Re,xi=It}tl(a)}else(U.subtreeFlags&8772)!==0&&$!==null?($.return=U,kn=$):tl(a)}}function tl(a){for(;kn!==null;){var c=kn;if((c.flags&8772)!==0){var x=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:xi||Hh(5,c);break;case 1:var S=c.stateNode;if(c.flags&4&&!xi)if(x===null)S.componentDidMount();else{var U=c.elementType===c.type?x.memoizedProps:Ca(c.type,x.memoizedProps);S.componentDidUpdate(U,x.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var $=c.updateQueue;$!==null&&u(c,$,S);break;case 3:var le=c.updateQueue;if(le!==null){if(x=null,c.child!==null)switch(c.child.tag){case 5:x=c.child.stateNode;break;case 1:x=c.child.stateNode}u(c,le,x)}break;case 5:var Re=c.stateNode;if(x===null&&c.flags&4){x=Re;var Xe=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":Xe.autoFocus&&x.focus();break;case"img":Xe.src&&(x.src=Xe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var It=c.alternate;if(It!==null){var en=It.memoizedState;if(en!==null){var on=en.dehydrated;on!==null&&Ar(on)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(d(163))}xi||c.flags&512&&lh(c)}catch(tn){Yi(c,c.return,tn)}}if(c===a){kn=null;break}if(x=c.sibling,x!==null){x.return=c.return,kn=x;break}kn=c.return}}function Tl(a){for(;kn!==null;){var c=kn;if(c===a){kn=null;break}var x=c.sibling;if(x!==null){x.return=c.return,kn=x;break}kn=c.return}}function ph(a){for(;kn!==null;){var c=kn;try{switch(c.tag){case 0:case 11:case 15:var x=c.return;try{Hh(4,c)}catch(Xe){Yi(c,x,Xe)}break;case 1:var S=c.stateNode;if(typeof S.componentDidMount=="function"){var U=c.return;try{S.componentDidMount()}catch(Xe){Yi(c,U,Xe)}}var $=c.return;try{lh(c)}catch(Xe){Yi(c,$,Xe)}break;case 5:var le=c.return;try{lh(c)}catch(Xe){Yi(c,le,Xe)}}}catch(Xe){Yi(c,c.return,Xe)}if(c===a){kn=null;break}var Re=c.sibling;if(Re!==null){Re.return=c.return,kn=Re;break}kn=c.return}}var $d=Math.ceil,qh=Ae.ReactCurrentDispatcher,bu=Ae.ReactCurrentOwner,Yl=Ae.ReactCurrentBatchConfig,Kr=0,Da=null,Ia=null,wo=0,nl=0,dh=_o(0),io=0,Kh=null,nc=0,Xh=0,fh=0,gh=null,ys=null,Tp=0,wu=1/0,V0=null,Yh=!1,mh=null,Cu=null,Qh=!1,Du=null,ao=0,Jh=0,ep=null,rc=-1,Sc=0;function Gs(){return(Kr&6)!==0?sr():rc!==-1?rc:rc=sr()}function ic(a){return(a.mode&1)===0?1:(Kr&2)!==0&&wo!==0?wo&-wo:Bh.transition!==null?(Sc===0&&(Sc=Te()),Sc):(a=_n,a!==0||(a=window.event,a=a===void 0?16:a0(a.type)),a)}function Ql(a,c,x,S){if(50<Jh)throw Jh=0,ep=null,Error(d(185));ct(a,x,S),((Kr&2)===0||a!==Da)&&(a===Da&&((Kr&2)===0&&(Xh|=x),io===4&&ac(a,wo)),Ls(a,S),x===1&&Kr===0&&(c.mode&1)===0&&(wu=sr()+500,Qc&&Ss()))}function Ls(a,c){var x=a.callbackNode;J(a,c);var S=ko(a,a===Da?wo:0);if(S===0)x!==null&&ol(x),a.callbackNode=null,a.callbackPriority=0;else if(c=S&-S,a.callbackPriority!==c){if(x!=null&&ol(x),c===1)a.tag===0?l0(Vd.bind(null,a)):xc(Vd.bind(null,a)),z0(function(){(Kr&6)===0&&Ss()}),x=null;else{switch(Mn(S)){case 1:x=Wr;break;case 4:x=Ns;break;case 16:x=lo;break;case 536870912:x=La;break;default:x=lo}x=gd(x,Mp.bind(null,a))}a.callbackPriority=c,a.callbackNode=x}}function Mp(a,c){if(rc=-1,Sc=0,(Kr&6)!==0)throw Error(d(327));var x=a.callbackNode;if(yh()&&a.callbackNode!==x)return null;var S=ko(a,a===Da?wo:0);if(S===0)return null;if((S&30)!==0||(S&a.expiredLanes)!==0||c)c=tp(a,S);else{c=S;var U=Kr;Kr|=2;var $=Pp();(Da!==a||wo!==c)&&(V0=null,wu=sr()+500,Pc(a,c));do try{Af();break}catch(Re){fd(a,Re)}while(!0);Cl(),qh.current=$,Kr=U,Ia!==null?c=0:(Da=null,wo=0,c=io)}if(c!==0){if(c===2&&(U=fe(a),U!==0&&(S=U,c=hd(a,U))),c===1)throw x=Kh,Pc(a,0),ac(a,S),Ls(a,sr()),x;if(c===6)ac(a,S);else{if(U=a.current.alternate,(S&30)===0&&!jd(U)&&(c=tp(a,S),c===2&&($=fe(a),$!==0&&(S=$,c=hd(a,$))),c===1))throw x=Kh,Pc(a,0),ac(a,S),Ls(a,sr()),x;switch(a.finishedWork=U,a.finishedLanes=S,c){case 0:case 1:throw Error(d(345));case 2:oc(a,ys,V0);break;case 3:if(ac(a,S),(S&130023424)===S&&(c=Tp+500-sr(),10<c)){if(ko(a,0)!==0)break;if(U=a.suspendedLanes,(U&S)!==S){Gs(),a.pingedLanes|=a.suspendedLanes&U;break}a.timeoutHandle=yl(oc.bind(null,a,ys,V0),c);break}oc(a,ys,V0);break;case 4:if(ac(a,S),(S&4194240)===S)break;for(c=a.eventTimes,U=-1;0<S;){var le=31-va(S);$=1<<le,le=c[le],le>U&&(U=le),S&=~$}if(S=U,S=sr()-S,S=(120>S?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*$d(S/1960))-S,10<S){a.timeoutHandle=yl(oc.bind(null,a,ys,V0),S);break}oc(a,ys,V0);break;case 5:oc(a,ys,V0);break;default:throw Error(d(329))}}}return Ls(a,sr()),a.callbackNode===x?Mp.bind(null,a):null}function hd(a,c){var x=gh;return a.current.memoizedState.isDehydrated&&(Pc(a,c).flags|=256),a=tp(a,c),a!==2&&(c=ys,ys=x,c!==null&&Tc(c)),a}function Tc(a){ys===null?ys=a:ys.push.apply(ys,a)}function jd(a){for(var c=a;;){if(c.flags&16384){var x=c.updateQueue;if(x!==null&&(x=x.stores,x!==null))for(var S=0;S<x.length;S++){var U=x[S],$=U.getSnapshot;U=U.value;try{if(!wt($(),U))return!1}catch{return!1}}}if(x=c.child,c.subtreeFlags&16384&&x!==null)x.return=c,c=x;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function ac(a,c){for(c&=~fh,c&=~Xh,a.suspendedLanes|=c,a.pingedLanes&=~c,a=a.expirationTimes;0<c;){var x=31-va(c),S=1<<x;a[x]=-1,c&=~S}}function Vd(a){if((Kr&6)!==0)throw Error(d(327));yh();var c=ko(a,0);if((c&1)===0)return Ls(a,sr()),null;var x=tp(a,c);if(a.tag!==0&&x===2){var S=fe(a);S!==0&&(c=S,x=hd(a,S))}if(x===1)throw x=Kh,Pc(a,0),ac(a,c),Ls(a,sr()),x;if(x===6)throw Error(d(345));return a.finishedWork=a.current.alternate,a.finishedLanes=c,oc(a,ys,V0),Ls(a,sr()),null}function pd(a,c){var x=Kr;Kr|=1;try{return a(c)}finally{Kr=x,Kr===0&&(wu=sr()+500,Qc&&Ss())}}function Mc(a){Du!==null&&Du.tag===0&&(Kr&6)===0&&yh();var c=Kr;Kr|=1;var x=Yl.transition,S=_n;try{if(Yl.transition=null,_n=1,a)return a()}finally{_n=S,Yl.transition=x,Kr=c,(Kr&6)===0&&Ss()}}function dd(){nl=dh.current,Ti(dh)}function Pc(a,c){a.finishedWork=null,a.finishedLanes=0;var x=a.timeoutHandle;if(x!==-1&&(a.timeoutHandle=-1,U0(x)),Ia!==null)for(x=Ia.return;x!==null;){var S=x;switch(L0(S),S.tag){case 1:S=S.type.childContextTypes,S!=null&&Ea();break;case 3:O(),Ti(Qa),Ti(Na),we();break;case 5:Z(S);break;case 4:O();break;case 13:Ti(Q);break;case 19:Ti(Q);break;case 10:Vo(S.type._context);break;case 22:case 23:dd()}x=x.return}if(Da=a,Ia=a=Ml(a.current,null),wo=nl=c,io=0,Kh=null,fh=Xh=nc=0,ys=gh=null,ai!==null){for(c=0;c<ai.length;c++)if(x=ai[c],S=x.interleaved,S!==null){x.interleaved=null;var U=S.next,$=x.pending;if($!==null){var le=$.next;$.next=U,S.next=le}x.pending=S}ai=null}return a}function fd(a,c){do{var x=Ia;try{if(Cl(),De.current=F0,Ve){for(var S=Ee.memoizedState;S!==null;){var U=S.queue;U!==null&&(U.pending=null),S=S.next}Ve=!1}if(Le=0,je=Be=Ee=null,lt=!1,At=0,bu.current=null,x===null||x.return===null){io=1,Kh=c,Ia=null;break}e:{var $=a,le=x.return,Re=x,Xe=c;if(c=wo,Re.flags|=32768,Xe!==null&&typeof Xe=="object"&&typeof Xe.then=="function"){var It=Xe,en=Re,on=en.tag;if((en.mode&1)===0&&(on===0||on===11||on===15)){var tn=en.alternate;tn?(en.updateQueue=tn.updateQueue,en.memoizedState=tn.memoizedState,en.lanes=tn.lanes):(en.updateQueue=null,en.memoizedState=null)}var Dn=td(le);if(Dn!==null){Dn.flags&=-257,nd(Dn,le,Re,$,c),Dn.mode&1&&Nh($,It,c),c=Dn,Xe=It;var zn=c.updateQueue;if(zn===null){var $n=new Set;$n.add(Xe),c.updateQueue=$n}else zn.add(Xe);break e}else{if((c&1)===0){Nh($,It,c),Ep();break e}Xe=Error(d(426))}}else if(_i&&Re.mode&1){var da=td(le);if(da!==null){(da.flags&65536)===0&&(da.flags|=256),nd(da,le,Re,$,c),wl(Al(Xe,Re));break e}}$=Xe=Al(Xe,Re),io!==4&&(io=2),gh===null?gh=[$]:gh.push($),$=le;do{switch($.tag){case 3:$.flags|=65536,c&=-c,$.lanes|=c;var dt=Cc($,Xe,c);e($,dt);break e;case 1:Re=Xe;var et=$.type,vt=$.stateNode;if(($.flags&128)===0&&(typeof et.getDerivedStateFromError=="function"||vt!==null&&typeof vt.componentDidCatch=="function"&&(Cu===null||!Cu.has(vt)))){$.flags|=65536,c&=-c,$.lanes|=c;var dn=Fh($,Re,c);e($,dn);break e}}$=$.return}while($!==null)}Wd(x)}catch(Vn){c=Vn,Ia===x&&x!==null&&(Ia=x=x.return);continue}break}while(!0)}function Pp(){var a=qh.current;return qh.current=F0,a===null?F0:a}function Ep(){(io===0||io===3||io===2)&&(io=4),Da===null||(nc&268435455)===0&&(Xh&268435455)===0||ac(Da,wo)}function tp(a,c){var x=Kr;Kr|=2;var S=Pp();(Da!==a||wo!==c)&&(V0=null,Pc(a,c));do try{Zd();break}catch(U){fd(a,U)}while(!0);if(Cl(),Kr=x,qh.current=S,Ia!==null)throw Error(d(261));return Da=null,wo=0,io}function Zd(){for(;Ia!==null;)np(Ia)}function Af(){for(;Ia!==null&&!qa();)np(Ia)}function np(a){var c=Rp(a.alternate,a,nl);a.memoizedProps=a.pendingProps,c===null?Wd(a):Ia=c,bu.current=null}function Wd(a){var c=a;do{var x=c.alternate;if(a=c.return,(c.flags&32768)===0){if(x=sd(x,c,nl),x!==null){Ia=x;return}}else{if(x=ld(x,c),x!==null){x.flags&=32767,Ia=x;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{io=6,Ia=null;return}}if(c=c.sibling,c!==null){Ia=c;return}Ia=c=a}while(c!==null);io===0&&(io=5)}function oc(a,c,x){var S=_n,U=Yl.transition;try{Yl.transition=null,_n=1,Sf(a,c,x,S)}finally{Yl.transition=U,_n=S}return null}function Sf(a,c,x,S){do yh();while(Du!==null);if((Kr&6)!==0)throw Error(d(327));x=a.finishedWork;var U=a.finishedLanes;if(x===null)return null;if(a.finishedWork=null,a.finishedLanes=0,x===a.current)throw Error(d(177));a.callbackNode=null,a.callbackPriority=0;var $=x.lanes|x.childLanes;if(Ut(a,$),a===Da&&(Ia=Da=null,wo=0),(x.subtreeFlags&2064)===0&&(x.flags&2064)===0||Qh||(Qh=!0,gd(lo,function(){return yh(),null})),$=(x.flags&15990)!==0,(x.subtreeFlags&15990)!==0||$){$=Yl.transition,Yl.transition=null;var le=_n;_n=1;var Re=Kr;Kr|=4,bu.current=null,If(a,x),Sp(x,a),qc(R0),fo=!!su,R0=su=null,a.current=x,hh(x),Fs(),Kr=Re,_n=le,Yl.transition=$}else a.current=x;if(Qh&&(Qh=!1,Du=a,ao=U),$=a.pendingLanes,$===0&&(Cu=null),sl(x.stateNode),Ls(a,sr()),c!==null)for(S=a.onRecoverableError,x=0;x<c.length;x++)U=c[x],S(U.value,{componentStack:U.stack,digest:U.digest});if(Yh)throw Yh=!1,a=mh,mh=null,a;return(ao&1)!==0&&a.tag!==0&&yh(),$=a.pendingLanes,($&1)!==0?a===ep?Jh++:(Jh=0,ep=a):Jh=0,Ss(),null}function yh(){if(Du!==null){var a=Mn(ao),c=Yl.transition,x=_n;try{if(Yl.transition=null,_n=16>a?16:a,Du===null)var S=!1;else{if(a=Du,Du=null,ao=0,(Kr&6)!==0)throw Error(d(331));var U=Kr;for(Kr|=4,kn=a.current;kn!==null;){var $=kn,le=$.child;if((kn.flags&16)!==0){var Re=$.deletions;if(Re!==null){for(var Xe=0;Xe<Re.length;Xe++){var It=Re[Xe];for(kn=It;kn!==null;){var en=kn;switch(en.tag){case 0:case 11:case 15:xu(8,en,$)}var on=en.child;if(on!==null)on.return=en,kn=on;else for(;kn!==null;){en=kn;var tn=en.sibling,Dn=en.return;if(Nd(en),en===It){kn=null;break}if(tn!==null){tn.return=Dn,kn=tn;break}kn=Dn}}}var zn=$.alternate;if(zn!==null){var $n=zn.child;if($n!==null){zn.child=null;do{var da=$n.sibling;$n.sibling=null,$n=da}while($n!==null)}}kn=$}}if(($.subtreeFlags&2064)!==0&&le!==null)le.return=$,kn=le;else e:for(;kn!==null;){if($=kn,($.flags&2048)!==0)switch($.tag){case 0:case 11:case 15:xu(9,$,$.return)}var dt=$.sibling;if(dt!==null){dt.return=$.return,kn=dt;break e}kn=$.return}}var et=a.current;for(kn=et;kn!==null;){le=kn;var vt=le.child;if((le.subtreeFlags&2064)!==0&&vt!==null)vt.return=le,kn=vt;else e:for(le=et;kn!==null;){if(Re=kn,(Re.flags&2048)!==0)try{switch(Re.tag){case 0:case 11:case 15:Hh(9,Re)}}catch(Vn){Yi(Re,Re.return,Vn)}if(Re===le){kn=null;break e}var dn=Re.sibling;if(dn!==null){dn.return=Re.return,kn=dn;break e}kn=Re.return}}if(Kr=U,Ss(),uo&&typeof uo.onPostCommitFiberRoot=="function")try{uo.onPostCommitFiberRoot(na,a)}catch{}S=!0}return S}finally{_n=x,Yl.transition=c}}return!1}function kp(a,c,x){c=Al(x,c),c=Cc(a,c,1),a=ps(a,c,1),c=Gs(),a!==null&&(ct(a,1,c),Ls(a,c))}function Yi(a,c,x){if(a.tag===3)kp(a,a,x);else for(;c!==null;){if(c.tag===3){kp(c,a,x);break}else if(c.tag===1){var S=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(Cu===null||!Cu.has(S))){a=Al(x,a),a=Fh(c,a,1),c=ps(c,a,1),a=Gs(),c!==null&&(ct(c,1,a),Ls(c,a));break}}c=c.return}}function Tf(a,c,x){var S=a.pingCache;S!==null&&S.delete(c),c=Gs(),a.pingedLanes|=a.suspendedLanes&x,Da===a&&(wo&x)===x&&(io===4||io===3&&(wo&130023424)===wo&&500>sr()-Tp?Pc(a,0):fh|=x),Ls(a,c)}function Hd(a,c){c===0&&((a.mode&1)===0?c=1:(c=i0,i0<<=1,(i0&130023424)===0&&(i0=4194304)));var x=Gs();a=Ms(a,c),a!==null&&(ct(a,c,x),Ls(a,x))}function rp(a){var c=a.memoizedState,x=0;c!==null&&(x=c.retryLane),Hd(a,x)}function qd(a,c){var x=0;switch(a.tag){case 13:var S=a.stateNode,U=a.memoizedState;U!==null&&(x=U.retryLane);break;case 19:S=a.stateNode;break;default:throw Error(d(314))}S!==null&&S.delete(c),Hd(a,x)}var Rp;Rp=function(a,c,x){if(a!==null)if(a.memoizedProps!==c.pendingProps||Qa.current)Us=!0;else{if((a.lanes&x)===0&&(c.flags&128)===0)return Us=!1,Ip(a,c,x);Us=(a.flags&131072)!==0}else Us=!1,_i&&(c.flags&1048576)!==0&&bp(c,du,c.index);switch(c.lanes=0,c.tag){case 2:var S=c.type;ms(a,c),a=c.pendingProps;var U=xl(c,Na.current);cs(c,x),U=nn(null,c,S,a,U,x);var $=rn();return c.flags|=1,typeof U=="object"&&U!==null&&typeof U.render=="function"&&U.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,Oo(S)?($=!0,Ki(c)):$=!1,c.memoizedState=U.state!==null&&U.state!==void 0?U.state:null,Qu(c),U.updater=Il,c.stateNode=U,U._reactInternals=c,wp(c,S,a,x),c=Dp(null,c,S,!0,$,x)):(c.tag=0,_i&&$&&fu(c),no(null,c,U,x),c=c.child),c;case 16:S=c.elementType;e:{switch(ms(a,c),a=c.pendingProps,U=S._init,S=U(S._payload),c.type=S,U=c.tag=Kd(S),a=Ca(S,a),U){case 0:c=rh(null,c,S,a,x);break e;case 1:c=ih(null,c,S,a,x);break e;case 11:c=rd(null,c,S,a,x);break e;case 14:c=Cp(null,c,S,Ca(S.type,a),x);break e}throw Error(d(306,S,""))}return c;case 0:return S=c.type,U=c.pendingProps,U=c.elementType===S?U:Ca(S,U),rh(a,c,S,U,x);case 1:return S=c.type,U=c.pendingProps,U=c.elementType===S?U:Ca(S,U),ih(a,c,S,U,x);case 3:e:{if(ad(c),a===null)throw Error(d(387));S=c.pendingProps,$=c.memoizedState,U=$.element,Jc(a,c),n(c,S,null,x);var le=c.memoizedState;if(S=le.element,$.isDehydrated)if($={element:S,isDehydrated:!1,cache:le.cache,pendingSuspenseBoundaries:le.pendingSuspenseBoundaries,transitions:le.transitions},c.updateQueue.baseState=$,c.memoizedState=$,c.flags&256){U=Al(Error(d(423)),c),c=$0(a,c,S,x,U);break e}else if(S!==U){U=Al(Error(d(424)),c),c=$0(a,c,S,x,U);break e}else for(No=ba(c.stateNode.containerInfo.firstChild),eo=c,_i=!0,$o=null,x=jn(c,null,S,x),c.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(Qs(),S===U){c=Kl(a,c,x);break e}no(a,c,S,x)}c=c.child}return c;case 5:return W(c),a===null&&us(c),S=c.type,U=c.pendingProps,$=a!==null?a.memoizedProps:null,le=U.children,Ku(S,U)?le=null:$!==null&&Ku(S,$)&&(c.flags|=32),Dc(a,c),no(a,c,le,x),c.child;case 6:return a===null&&us(c),null;case 13:return jh(a,c,x);case 4:return z(c,c.stateNode.containerInfo),S=c.pendingProps,a===null?c.child=fn(c,null,S,x):no(a,c,S,x),c.child;case 11:return S=c.type,U=c.pendingProps,U=c.elementType===S?U:Ca(S,U),rd(a,c,S,U,x);case 7:return no(a,c,c.pendingProps,x),c.child;case 8:return no(a,c,c.pendingProps.children,x),c.child;case 12:return no(a,c,c.pendingProps.children,x),c.child;case 10:e:{if(S=c.type._context,U=c.pendingProps,$=c.memoizedProps,le=U.value,Ii(c0,S._currentValue),S._currentValue=le,$!==null)if(wt($.value,le)){if($.children===U.children&&!Qa.current){c=Kl(a,c,x);break e}}else for($=c.child,$!==null&&($.return=c);$!==null;){var Re=$.dependencies;if(Re!==null){le=$.child;for(var Xe=Re.firstContext;Xe!==null;){if(Xe.context===S){if($.tag===1){Xe=hs(-1,x&-x),Xe.tag=2;var It=$.updateQueue;if(It!==null){It=It.shared;var en=It.pending;en===null?Xe.next=Xe:(Xe.next=en.next,en.next=Xe),It.pending=Xe}}$.lanes|=x,Xe=$.alternate,Xe!==null&&(Xe.lanes|=x),$a($.return,x,c),Re.lanes|=x;break}Xe=Xe.next}}else if($.tag===10)le=$.type===c.type?null:$.child;else if($.tag===18){if(le=$.return,le===null)throw Error(d(341));le.lanes|=x,Re=le.alternate,Re!==null&&(Re.lanes|=x),$a(le,x,c),le=$.sibling}else le=$.child;if(le!==null)le.return=$;else for(le=$;le!==null;){if(le===c){le=null;break}if($=le.sibling,$!==null){$.return=le.return,le=$;break}le=le.return}$=le}no(a,c,U.children,x),c=c.child}return c;case 9:return U=c.type,S=c.pendingProps.children,cs(c,x),U=Nr(U),S=S(U),c.flags|=1,no(a,c,S,x),c.child;case 14:return S=c.type,U=Ca(S,c.pendingProps),U=Ca(S.type,U),Cp(a,c,S,U,x);case 15:return gs(a,c,c.type,c.pendingProps,x);case 17:return S=c.type,U=c.pendingProps,U=c.elementType===S?U:Ca(S,U),ms(a,c),c.tag=1,Oo(S)?(a=!0,Ki(c)):a=!1,cs(c,x),Ju(c,S,U),wp(c,S,U,x),Dp(null,c,S,!0,a,x);case 19:return ql(a,c,x);case 22:return id(a,c,x)}throw Error(d(156,c.tag))};function gd(a,c){return Eo(a,c)}function ka(a,c,x,S){this.tag=a,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rl(a,c,x,S){return new ka(a,c,x,S)}function Up(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Kd(a){if(typeof a=="function")return Up(a)?1:0;if(a!=null){if(a=a.$$typeof,a===St)return 11;if(a===Ft)return 14}return 2}function Ml(a,c){var x=a.alternate;return x===null?(x=rl(a.tag,c,a.key,a.mode),x.elementType=a.elementType,x.type=a.type,x.stateNode=a.stateNode,x.alternate=a,a.alternate=x):(x.pendingProps=c,x.type=a.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=a.flags&14680064,x.childLanes=a.childLanes,x.lanes=a.lanes,x.child=a.child,x.memoizedProps=a.memoizedProps,x.memoizedState=a.memoizedState,x.updateQueue=a.updateQueue,c=a.dependencies,x.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},x.sibling=a.sibling,x.index=a.index,x.ref=a.ref,x}function _h(a,c,x,S,U,$){var le=2;if(S=a,typeof a=="function")Up(a)&&(le=1);else if(typeof a=="string")le=5;else e:switch(a){case ot:return Ec(x.children,U,$,c);case Pt:le=8,U|=8;break;case Yt:return a=rl(12,x,c,U|2),a.elementType=Yt,a.lanes=$,a;case Bt:return a=rl(13,x,c,U),a.elementType=Bt,a.lanes=$,a;case Wt:return a=rl(19,x,c,U),a.elementType=Wt,a.lanes=$,a;case cn:return zp(x,U,$,c);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case ge:le=10;break e;case bt:le=9;break e;case St:le=11;break e;case Ft:le=14;break e;case Nt:le=16,S=null;break e}throw Error(d(130,a==null?a:typeof a,""))}return c=rl(le,x,c,U),c.elementType=a,c.type=S,c.lanes=$,c}function Ec(a,c,x,S){return a=rl(7,a,S,c),a.lanes=x,a}function zp(a,c,x,S){return a=rl(22,a,S,c),a.elementType=cn,a.lanes=x,a.stateNode={isHidden:!1},a}function md(a,c,x){return a=rl(6,a,null,c),a.lanes=x,a}function yd(a,c,x){return c=rl(4,a.children!==null?a.children:[],a.key,c),c.lanes=x,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}function Xd(a,c,x,S,U){this.tag=c,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=S,this.onRecoverableError=U,this.mutableSourceEagerHydrationData=null}function Xo(a,c,x,S,U,$,le,Re,Xe){return a=new Xd(a,c,x,Re,Xe),c===1?(c=1,$===!0&&(c|=8)):c=0,$=rl(3,null,null,c),a.current=$,$.stateNode=a,$.memoizedState={element:S,isDehydrated:x,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qu($),a}function _d(a,c,x){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$e,key:S==null?null:""+S,children:a,containerInfo:c,implementation:x}}function vd(a){if(!a)return As;a=a._reactInternals;e:{if(jr(a)!==a||a.tag!==1)throw Error(d(170));var c=a;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(Oo(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(d(171))}if(a.tag===1){var x=a.type;if(Oo(x))return cu(a,x,c)}return c}function Iu(a,c,x,S,U,$,le,Re,Xe){return a=Xo(x,S,!0,a,U,$,le,Re,Xe),a.context=vd(null),x=a.current,S=Gs(),U=ic(x),$=hs(S,U),$.callback=c??null,ps(x,$,U),a.current.lanes=U,ct(a,U,S),Ls(a,S),a}function kc(a,c,x,S){var U=c.current,$=Gs(),le=ic(U);return x=vd(x),c.context===null?c.context=x:c.pendingContext=x,c=hs($,le),c.payload={element:a},S=S===void 0?null:S,S!==null&&(c.callback=S),a=ps(U,c,le),a!==null&&(Ql(a,U,le,$),m(a,U,le)),le}function sc(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function Rc(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var x=a.retryLane;a.retryLane=x!==0&&x<c?x:c}}function vh(a,c){Rc(a,c),(a=a.alternate)&&Rc(a,c)}function Gp(){return null}var Yd=typeof reportError=="function"?reportError:function(a){console.error(a)};function Lp(a){this._internalRoot=a}xh.prototype.render=Lp.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(d(409));kc(a,c,null,null)},xh.prototype.unmount=Lp.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;Mc(function(){kc(null,a,null,null)}),c[Bo]=null}};function xh(a){this._internalRoot=a}xh.prototype.unstable_scheduleHydration=function(a){if(a){var c=ra();a={blockedOn:null,target:a,priority:c};for(var x=0;x<Gr.length&&c!==0&&c<Gr[x].priority;x++);Gr.splice(x,0,a),x===0&&po(a)}};function Bp(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Op(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function xd(){}function Qd(a,c,x,S,U){if(U){if(typeof S=="function"){var $=S;S=function(){var It=sc(le);$.call(It)}}var le=Iu(c,S,a,0,null,!1,!1,"",xd);return a._reactRootContainer=le,a[Bo]=le.current,ml(a.nodeType===8?a.parentNode:a),Mc(),le}for(;U=a.lastChild;)a.removeChild(U);if(typeof S=="function"){var Re=S;S=function(){var It=sc(Xe);Re.call(It)}}var Xe=Xo(a,0,!1,null,null,!1,!1,"",xd);return a._reactRootContainer=Xe,a[Bo]=Xe.current,ml(a.nodeType===8?a.parentNode:a),Mc(function(){kc(c,Xe,x,S)}),Xe}function Au(a,c,x,S,U){var $=x._reactRootContainer;if($){var le=$;if(typeof U=="function"){var Re=U;U=function(){var Xe=sc(le);Re.call(Xe)}}kc(c,le,a,U)}else le=Qd(x,c,a,U,S);return sc(le)}xn=function(a){switch(a.tag){case 3:var c=a.stateNode;if(c.current.memoizedState.isDehydrated){var x=$s(c.pendingLanes);x!==0&&(sn(c,x|1),Ls(c,sr()),(Kr&6)===0&&(wu=sr()+500,Ss()))}break;case 13:Mc(function(){var S=Ms(a,1);if(S!==null){var U=Gs();Ql(S,a,1,U)}}),vh(a,1)}},Fr=function(a){if(a.tag===13){var c=Ms(a,134217728);if(c!==null){var x=Gs();Ql(c,a,134217728,x)}vh(a,134217728)}},mi=function(a){if(a.tag===13){var c=ic(a),x=Ms(a,c);if(x!==null){var S=Gs();Ql(x,a,c,S)}vh(a,c)}},ra=function(){return _n},er=function(a,c){var x=_n;try{return _n=a,c()}finally{_n=x}},We=function(a,c,x){switch(c){case"input":if(Ir(a,x),c=x.name,x.type==="radio"&&c!=null){for(x=a;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<x.length;c++){var S=x[c];if(S!==a&&S.form===a.form){var U=s0(S);if(!U)throw Error(d(90));Kn(S),Ir(S,U)}}}break;case"textarea":ni(a,x);break;case"select":c=x.value,c!=null&&ur(a,!!x.multiple,c,!1)}},nt=pd,Rt=Mc;var bd={usingClientEntryPoint:!1,Events:[Ya,dr,s0,at,pt,pd]},ip={findFiberByHostInstance:_l,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Jd={bundleType:ip.bundleType,version:ip.version,rendererPackageName:ip.rendererPackageName,rendererConfig:ip.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ae.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=ns(a),a===null?null:a.stateNode},findFiberByHostInstance:ip.findFiberByHostInstance||Gp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fp.isDisabled&&Fp.supportsFiber)try{na=Fp.inject(Jd),uo=Fp}catch{}}return W0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bd,W0.createPortal=function(a,c){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bp(c))throw Error(d(200));return _d(a,c,null,x)},W0.createRoot=function(a,c){if(!Bp(a))throw Error(d(299));var x=!1,S="",U=Yd;return c!=null&&(c.unstable_strictMode===!0&&(x=!0),c.identifierPrefix!==void 0&&(S=c.identifierPrefix),c.onRecoverableError!==void 0&&(U=c.onRecoverableError)),c=Xo(a,1,!1,null,null,x,!1,S,U),a[Bo]=c.current,ml(a.nodeType===8?a.parentNode:a),new Lp(c)},W0.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(d(188)):(a=Object.keys(a).join(","),Error(d(268,a)));return a=ns(c),a=a===null?null:a.stateNode,a},W0.flushSync=function(a){return Mc(a)},W0.hydrate=function(a,c,x){if(!Op(c))throw Error(d(200));return Au(null,a,c,!0,x)},W0.hydrateRoot=function(a,c,x){if(!Bp(a))throw Error(d(405));var S=x!=null&&x.hydratedSources||null,U=!1,$="",le=Yd;if(x!=null&&(x.unstable_strictMode===!0&&(U=!0),x.identifierPrefix!==void 0&&($=x.identifierPrefix),x.onRecoverableError!==void 0&&(le=x.onRecoverableError)),c=Iu(c,null,a,1,x??null,U,!1,$,le),a[Bo]=c.current,ml(a),S)for(a=0;a<S.length;a++)x=S[a],U=x._getVersion,U=U(x._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[x,U]:c.mutableSourceEagerHydrationData.push(x,U);return new xh(c)},W0.render=function(a,c,x){if(!Op(c))throw Error(d(200));return Au(null,a,c,!1,x)},W0.unmountComponentAtNode=function(a){if(!Op(a))throw Error(d(40));return a._reactRootContainer?(Mc(function(){Au(null,null,a,!1,function(){a._reactRootContainer=null,a[Bo]=null})}),!0):!1},W0.unstable_batchedUpdates=pd,W0.unstable_renderSubtreeIntoContainer=function(a,c,x,S){if(!Op(x))throw Error(d(200));if(a==null||a._reactInternals===void 0)throw Error(d(38));return Au(a,c,x,!1,S)},W0.version="18.3.1-next-f1338f8080-20240426",W0}var N_;function W2(){if(N_)return Dy.exports;N_=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(p){console.error(p)}}return o(),Dy.exports=Rw(),Dy.exports}var $_;function Uw(){if($_)return im;$_=1;var o=W2();return im.createRoot=o.createRoot,im.hydrateRoot=o.hydrateRoot,im}var zw=Uw(),He=xg();const Os=Fm(He),s1=Sw({__proto__:null,default:Os},[He]);var Sy={exports:{}},Ty,j_;function Gw(){if(j_)return Ty;j_=1;var o="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ty=o,Ty}var My,V_;function Lw(){if(V_)return My;V_=1;var o=Gw();function p(){}function d(){}return d.resetWarningCache=p,My=function(){function w(I,s,V,q,ue,te){if(te!==o){var ce=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw ce.name="Invariant Violation",ce}}w.isRequired=w;function D(){return w}var E={array:w,bigint:w,bool:w,func:w,number:w,object:w,string:w,symbol:w,any:w,arrayOf:D,element:w,elementType:w,instanceOf:D,node:w,objectOf:D,oneOf:D,oneOfType:D,shape:D,exact:D,checkPropTypes:d,resetWarningCache:p};return E.PropTypes=E,E},My}var Z_;function Bw(){return Z_||(Z_=1,Sy.exports=Lw()()),Sy.exports}var Ow=Bw();const Lr=Fm(Ow);var W_=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),Fw=new Uint8Array(16);function Nw(){if(!W_)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return W_(Fw)}var H2=[];for(var am=0;am<256;++am)H2[am]=(am+256).toString(16).substr(1);function $w(o,p){var d=0,w=H2;return[w[o[d++]],w[o[d++]],w[o[d++]],w[o[d++]],"-",w[o[d++]],w[o[d++]],"-",w[o[d++]],w[o[d++]],"-",w[o[d++]],w[o[d++]],"-",w[o[d++]],w[o[d++]],w[o[d++]],w[o[d++]],w[o[d++]],w[o[d++]]].join("")}function jw(o,p,d){var w=p&&d||0;typeof o=="string"&&(p=o==="binary"?new Array(16):null,o=null),o=o||{};var D=o.random||(o.rng||Nw)();if(D[6]=D[6]&15|64,D[8]=D[8]&63|128,p)for(var E=0;E<16;++E)p[w+E]=D[E];return p||$w(D)}function H_(o,p){var d=Object.keys(o);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(o);p&&(w=w.filter(function(D){return Object.getOwnPropertyDescriptor(o,D).enumerable})),d.push.apply(d,w)}return d}function l1(o){for(var p=1;p<arguments.length;p++){var d=arguments[p]!=null?arguments[p]:{};p%2?H_(Object(d),!0).forEach(function(w){cg(o,w,d[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(d)):H_(Object(d)).forEach(function(w){Object.defineProperty(o,w,Object.getOwnPropertyDescriptor(d,w))})}return o}function Vw(o,p){if(!(o instanceof p))throw new TypeError("Cannot call a class as a function")}function q_(o,p){for(var d=0;d<p.length;d++){var w=p[d];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(o,w.key,w)}}function Zw(o,p,d){return p&&q_(o.prototype,p),d&&q_(o,d),Object.defineProperty(o,"prototype",{writable:!1}),o}function cg(o,p,d){return p in o?Object.defineProperty(o,p,{value:d,enumerable:!0,configurable:!0,writable:!0}):o[p]=d,o}function Sm(){return Sm=Object.assign?Object.assign.bind():function(o){for(var p=1;p<arguments.length;p++){var d=arguments[p];for(var w in d)Object.prototype.hasOwnProperty.call(d,w)&&(o[w]=d[w])}return o},Sm.apply(this,arguments)}function Ww(o,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(p&&p.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),p&&u1(o,p)}function Tm(o){return Tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)},Tm(o)}function u1(o,p){return u1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,D){return w.__proto__=D,w},u1(o,p)}function Hw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qw(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function Kw(o,p){if(p&&(typeof p=="object"||typeof p=="function"))return p;if(p!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qw(o)}function Xw(o){var p=Hw();return function(){var w=Tm(o),D;if(p){var E=Tm(this).constructor;D=Reflect.construct(w,arguments,E)}else D=w.apply(this,arguments);return Kw(this,D)}}function Yw(o,p){if(o){if(typeof o=="string")return K_(o,p);var d=Object.prototype.toString.call(o).slice(8,-1);if(d==="Object"&&o.constructor&&(d=o.constructor.name),d==="Map"||d==="Set")return Array.from(o);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return K_(o,p)}}function K_(o,p){(p==null||p>o.length)&&(p=o.length);for(var d=0,w=new Array(p);d<p;d++)w[d]=o[d];return w}function Qw(o,p){var d=typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(!d){if(Array.isArray(o)||(d=Yw(o))||p){d&&(o=d);var w=0,D=function(){};return{s:D,n:function(){return w>=o.length?{done:!0}:{done:!1,value:o[w++]}},e:function(V){throw V},f:D}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var E=!0,I=!1,s;return{s:function(){d=d.call(o)},n:function(){var V=d.next();return E=V.done,V},e:function(V){I=!0,s=V},f:function(){try{!E&&d.return!=null&&d.return()}finally{if(I)throw s}}}}var X_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},om=function(o){return o&&o.Math==Math&&o},gp=om(typeof globalThis=="object"&&globalThis)||om(typeof window=="object"&&window)||om(typeof self=="object"&&self)||om(typeof X_=="object"&&X_)||function(){return this}()||Function("return this")(),V1={},mp=function(o){try{return!!o()}catch{return!0}},Jw=mp,ed=!Jw(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),eC=mp,Z1=!eC(function(){var o=(function(){}).bind();return typeof o!="function"||o.hasOwnProperty("prototype")}),tC=Z1,sm=Function.prototype.call,W1=tC?sm.bind(sm):function(){return sm.apply(sm,arguments)},q2={},K2={}.propertyIsEnumerable,X2=Object.getOwnPropertyDescriptor,nC=X2&&!K2.call({1:2},1);q2.f=nC?function(p){var d=X2(this,p);return!!d&&d.enumerable}:K2;var Y2=function(o,p){return{enumerable:!(o&1),configurable:!(o&2),writable:!(o&4),value:p}},Q2=Z1,J2=Function.prototype,c1=J2.call,rC=Q2&&J2.bind.bind(c1,c1),ex=function(o){return Q2?rC(o):function(){return c1.apply(o,arguments)}},tx=ex,iC=tx({}.toString),aC=tx("".slice),Nm=function(o){return aC(iC(o),8,-1)},oC=Nm,sC=ex,kh=function(o){if(oC(o)==="Function")return sC(o)},lC=kh,uC=mp,cC=Nm,Py=Object,hC=lC("".split),nx=uC(function(){return!Py("z").propertyIsEnumerable(0)})?function(o){return cC(o)=="String"?hC(o,""):Py(o)}:Py,rx=function(o){return o==null},pC=rx,dC=TypeError,ix=function(o){if(pC(o))throw dC("Can't call method on "+o);return o},fC=nx,gC=ix,$m=function(o){return fC(gC(o))},h1=typeof document=="object"&&document.all,mC=typeof h1>"u"&&h1!==void 0,ax={all:h1,IS_HTMLDDA:mC},ox=ax,yC=ox.all,dc=ox.IS_HTMLDDA?function(o){return typeof o=="function"||o===yC}:function(o){return typeof o=="function"},Y_=dc,sx=ax,_C=sx.all,bg=sx.IS_HTMLDDA?function(o){return typeof o=="object"?o!==null:Y_(o)||o===_C}:function(o){return typeof o=="object"?o!==null:Y_(o)},Ey=gp,vC=dc,xC=function(o){return vC(o)?o:void 0},wg=function(o,p){return arguments.length<2?xC(Ey[o]):Ey[o]&&Ey[o][p]},bC=kh,wC=bC({}.isPrototypeOf),CC=wg,DC=CC("navigator","userAgent")||"",lx=gp,ky=DC,Q_=lx.process,J_=lx.Deno,ev=Q_&&Q_.versions||J_&&J_.version,tv=ev&&ev.v8,Fc,Mm;tv&&(Fc=tv.split("."),Mm=Fc[0]>0&&Fc[0]<4?1:+(Fc[0]+Fc[1]));!Mm&&ky&&(Fc=ky.match(/Edge\/(\d+)/),(!Fc||Fc[1]>=74)&&(Fc=ky.match(/Chrome\/(\d+)/),Fc&&(Mm=+Fc[1])));var IC=Mm,nv=IC,AC=mp,ux=!!Object.getOwnPropertySymbols&&!AC(function(){var o=Symbol();return!String(o)||!(Object(o)instanceof Symbol)||!Symbol.sham&&nv&&nv<41}),SC=ux,cx=SC&&!Symbol.sham&&typeof Symbol.iterator=="symbol",TC=wg,MC=dc,PC=wC,EC=cx,kC=Object,hx=EC?function(o){return typeof o=="symbol"}:function(o){var p=TC("Symbol");return MC(p)&&PC(p.prototype,kC(o))},RC=String,UC=function(o){try{return RC(o)}catch{return"Object"}},zC=dc,GC=UC,LC=TypeError,px=function(o){if(zC(o))return o;throw LC(GC(o)+" is not a function")},BC=px,OC=rx,FC=function(o,p){var d=o[p];return OC(d)?void 0:BC(d)},Ry=W1,Uy=dc,zy=bg,NC=TypeError,$C=function(o,p){var d,w;if(p==="string"&&Uy(d=o.toString)&&!zy(w=Ry(d,o))||Uy(d=o.valueOf)&&!zy(w=Ry(d,o))||p!=="string"&&Uy(d=o.toString)&&!zy(w=Ry(d,o)))return w;throw NC("Can't convert object to primitive value")},H1={exports:{}},rv=gp,jC=Object.defineProperty,q1=function(o,p){try{jC(rv,o,{value:p,configurable:!0,writable:!0})}catch{rv[o]=p}return p},VC=gp,ZC=q1,iv="__core-js_shared__",WC=VC[iv]||ZC(iv,{}),K1=WC,av=K1;(H1.exports=function(o,p){return av[o]||(av[o]=p!==void 0?p:{})})("versions",[]).push({version:"3.25.5",mode:"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.5/LICENSE",source:"https://github.com/zloirock/core-js"});var HC=ix,qC=Object,dx=function(o){return qC(HC(o))},KC=kh,XC=dx,YC=KC({}.hasOwnProperty),Gd=Object.hasOwn||function(p,d){return YC(XC(p),d)},QC=kh,JC=0,eD=Math.random(),tD=QC(1 .toString),fx=function(o){return"Symbol("+(o===void 0?"":o)+")_"+tD(++JC+eD,36)},nD=gp,rD=H1.exports,ov=Gd,iD=fx,sv=ux,gx=cx,of=rD("wks"),Ud=nD.Symbol,lv=Ud&&Ud.for,aD=gx?Ud:Ud&&Ud.withoutSetter||iD,Cg=function(o){if(!ov(of,o)||!(sv||typeof of[o]=="string")){var p="Symbol."+o;sv&&ov(Ud,o)?of[o]=Ud[o]:gx&&lv?of[o]=lv(p):of[o]=aD(p)}return of[o]},oD=W1,uv=bg,cv=hx,sD=FC,lD=$C,uD=Cg,cD=TypeError,hD=uD("toPrimitive"),pD=function(o,p){if(!uv(o)||cv(o))return o;var d=sD(o,hD),w;if(d){if(p===void 0&&(p="default"),w=oD(d,o,p),!uv(w)||cv(w))return w;throw cD("Can't convert object to primitive value")}return p===void 0&&(p="number"),lD(o,p)},dD=pD,fD=hx,mx=function(o){var p=dD(o,"string");return fD(p)?p:p+""},gD=gp,hv=bg,p1=gD.document,mD=hv(p1)&&hv(p1.createElement),yx=function(o){return mD?p1.createElement(o):{}},yD=ed,_D=mp,vD=yx,_x=!yD&&!_D(function(){return Object.defineProperty(vD("div"),"a",{get:function(){return 7}}).a!=7}),xD=ed,bD=W1,wD=q2,CD=Y2,DD=$m,ID=mx,AD=Gd,SD=_x,pv=Object.getOwnPropertyDescriptor;V1.f=xD?pv:function(p,d){if(p=DD(p),d=ID(d),SD)try{return pv(p,d)}catch{}if(AD(p,d))return CD(!bD(wD.f,p,d),p[d])};var Cf={},TD=ed,MD=mp,vx=TD&&MD(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),PD=bg,ED=String,kD=TypeError,jm=function(o){if(PD(o))return o;throw kD(ED(o)+" is not an object")},RD=ed,UD=_x,zD=vx,lm=jm,dv=mx,GD=TypeError,Gy=Object.defineProperty,LD=Object.getOwnPropertyDescriptor,Ly="enumerable",By="configurable",Oy="writable";Cf.f=RD?zD?function(p,d,w){if(lm(p),d=dv(d),lm(w),typeof p=="function"&&d==="prototype"&&"value"in w&&Oy in w&&!w[Oy]){var D=LD(p,d);D&&D[Oy]&&(p[d]=w.value,w={configurable:By in w?w[By]:D[By],enumerable:Ly in w?w[Ly]:D[Ly],writable:!1})}return Gy(p,d,w)}:Gy:function(p,d,w){if(lm(p),d=dv(d),lm(w),UD)try{return Gy(p,d,w)}catch{}if("get"in w||"set"in w)throw GD("Accessors not supported");return"value"in w&&(p[d]=w.value),p};var BD=ed,OD=Cf,FD=Y2,xx=BD?function(o,p,d){return OD.f(o,p,FD(1,d))}:function(o,p,d){return o[p]=d,o},bx={exports:{}},d1=ed,ND=Gd,wx=Function.prototype,$D=d1&&Object.getOwnPropertyDescriptor,jD=ND(wx,"name"),VD=jD&&(!d1||d1&&$D(wx,"name").configurable),ZD={CONFIGURABLE:VD},WD=kh,HD=dc,f1=K1,qD=WD(Function.toString);HD(f1.inspectSource)||(f1.inspectSource=function(o){return qD(o)});var Cx=f1.inspectSource,KD=gp,XD=dc,fv=KD.WeakMap,YD=XD(fv)&&/native code/.test(String(fv)),QD=H1.exports,JD=fx,gv=QD("keys"),Dx=function(o){return gv[o]||(gv[o]=JD(o))},X1={},eI=YD,Ix=gp,tI=xx,Fy=Gd,Ny=K1,nI=Dx,rI=X1,mv="Object already initialized",yv=Ix.TypeError,iI=Ix.WeakMap,g1,Pm,m1,aI=function(o){return m1(o)?Pm(o):g1(o,{})};if(eI||Ny.state){var Ih=Ny.state||(Ny.state=new iI);Ih.get=Ih.get,Ih.has=Ih.has,Ih.set=Ih.set,g1=function(o,p){if(Ih.has(o))throw yv(mv);return p.facade=o,Ih.set(o,p),p},Pm=function(o){return Ih.get(o)||{}},m1=function(o){return Ih.has(o)}}else{var sf=nI("state");rI[sf]=!0,g1=function(o,p){if(Fy(o,sf))throw yv(mv);return p.facade=o,tI(o,sf,p),p},Pm=function(o){return Fy(o,sf)?o[sf]:{}},m1=function(o){return Fy(o,sf)}}var oI={get:Pm,enforce:aI},sI=mp,lI=dc,um=Gd,y1=ed,uI=ZD.CONFIGURABLE,cI=Cx,Ax=oI,hI=Ax.enforce,pI=Ax.get,vm=Object.defineProperty,dI=y1&&!sI(function(){return vm(function(){},"length",{value:8}).length!==8}),fI=String(String).split("String"),gI=bx.exports=function(o,p,d){String(p).slice(0,7)==="Symbol("&&(p="["+String(p).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),d&&d.getter&&(p="get "+p),d&&d.setter&&(p="set "+p),(!um(o,"name")||uI&&o.name!==p)&&(y1?vm(o,"name",{value:p,configurable:!0}):o.name=p),dI&&d&&um(d,"arity")&&o.length!==d.arity&&vm(o,"length",{value:d.arity});try{d&&um(d,"constructor")&&d.constructor?y1&&vm(o,"prototype",{writable:!1}):o.prototype&&(o.prototype=void 0)}catch{}var w=hI(o);return um(w,"source")||(w.source=fI.join(typeof p=="string"?p:"")),o};Function.prototype.toString=gI(function(){return lI(this)&&pI(this).source||cI(this)},"toString");var mI=dc,yI=Cf,_I=bx.exports,vI=q1,xI=function(o,p,d,w){w||(w={});var D=w.enumerable,E=w.name!==void 0?w.name:p;if(mI(d)&&_I(d,E,w),w.global)D?o[p]=d:vI(p,d);else{try{w.unsafe?o[p]&&(D=!0):delete o[p]}catch{}D?o[p]=d:yI.f(o,p,{value:d,enumerable:!1,configurable:!w.nonConfigurable,writable:!w.nonWritable})}return o},Sx={},bI=Math.ceil,wI=Math.floor,CI=Math.trunc||function(p){var d=+p;return(d>0?wI:bI)(d)},DI=CI,Tx=function(o){var p=+o;return p!==p||p===0?0:DI(p)},II=Tx,AI=Math.max,SI=Math.min,TI=function(o,p){var d=II(o);return d<0?AI(d+p,0):SI(d,p)},MI=Tx,PI=Math.min,EI=function(o){return o>0?PI(MI(o),9007199254740991):0},kI=EI,Mx=function(o){return kI(o.length)},RI=$m,UI=TI,zI=Mx,GI=function(o){return function(p,d,w){var D=RI(p),E=zI(D),I=UI(w,E),s;if(o&&d!=d){for(;E>I;)if(s=D[I++],s!=s)return!0}else for(;E>I;I++)if((o||I in D)&&D[I]===d)return o||I||0;return!o&&-1}},LI={indexOf:GI(!1)},BI=kh,$y=Gd,OI=$m,FI=LI.indexOf,NI=X1,_v=BI([].push),Px=function(o,p){var d=OI(o),w=0,D=[],E;for(E in d)!$y(NI,E)&&$y(d,E)&&_v(D,E);for(;p.length>w;)$y(d,E=p[w++])&&(~FI(D,E)||_v(D,E));return D},Y1=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],$I=Px,jI=Y1,VI=jI.concat("length","prototype");Sx.f=Object.getOwnPropertyNames||function(p){return $I(p,VI)};var Ex={};Ex.f=Object.getOwnPropertySymbols;var ZI=wg,WI=kh,HI=Sx,qI=Ex,KI=jm,XI=WI([].concat),YI=ZI("Reflect","ownKeys")||function(p){var d=HI.f(KI(p)),w=qI.f;return w?XI(d,w(p)):d},vv=Gd,QI=YI,JI=V1,e3=Cf,t3=function(o,p,d){for(var w=QI(p),D=e3.f,E=JI.f,I=0;I<w.length;I++){var s=w[I];!vv(o,s)&&!(d&&vv(d,s))&&D(o,s,E(p,s))}},n3=mp,r3=dc,i3=/#|\.prototype\./,Dg=function(o,p){var d=o3[a3(o)];return d==l3?!0:d==s3?!1:r3(p)?n3(p):!!p},a3=Dg.normalize=function(o){return String(o).replace(i3,".").toLowerCase()},o3=Dg.data={},s3=Dg.NATIVE="N",l3=Dg.POLYFILL="P",u3=Dg,jy=gp,c3=V1.f,h3=xx,p3=xI,d3=q1,f3=t3,g3=u3,m3=function(o,p){var d=o.target,w=o.global,D=o.stat,E,I,s,V,q,ue;if(w?I=jy:D?I=jy[d]||d3(d,{}):I=(jy[d]||{}).prototype,I)for(s in p){if(q=p[s],o.dontCallGetSet?(ue=c3(I,s),V=ue&&ue.value):V=I[s],E=g3(w?s:d+(D?".":"#")+s,o.forced),!E&&V!==void 0){if(typeof q==typeof V)continue;f3(q,V)}(o.sham||V&&V.sham)&&h3(q,"sham",!0),p3(I,s,q,o)}},xv=kh,y3=px,_3=Z1,v3=xv(xv.bind),x3=function(o,p){return y3(o),p===void 0?o:_3?v3(o,p):function(){return o.apply(p,arguments)}},b3=Nm,w3=Array.isArray||function(p){return b3(p)=="Array"},C3=Cg,D3=C3("toStringTag"),kx={};kx[D3]="z";var I3=String(kx)==="[object z]",A3=I3,S3=dc,xm=Nm,T3=Cg,M3=T3("toStringTag"),P3=Object,E3=xm(function(){return arguments}())=="Arguments",k3=function(o,p){try{return o[p]}catch{}},R3=A3?xm:function(o){var p,d,w;return o===void 0?"Undefined":o===null?"Null":typeof(d=k3(p=P3(o),M3))=="string"?d:E3?xm(p):(w=xm(p))=="Object"&&S3(p.callee)?"Arguments":w},U3=kh,z3=mp,Rx=dc,G3=R3,L3=wg,B3=Cx,Ux=function(){},O3=[],zx=L3("Reflect","construct"),Q1=/^\s*(?:class|function)\b/,F3=U3(Q1.exec),N3=!Q1.exec(Ux),Xf=function(p){if(!Rx(p))return!1;try{return zx(Ux,O3,p),!0}catch{return!1}},Gx=function(p){if(!Rx(p))return!1;switch(G3(p)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return N3||!!F3(Q1,B3(p))}catch{return!0}};Gx.sham=!0;var $3=!zx||z3(function(){var o;return Xf(Xf.call)||!Xf(Object)||!Xf(function(){o=!0})||o})?Gx:Xf,bv=w3,j3=$3,V3=bg,Z3=Cg,W3=Z3("species"),wv=Array,H3=function(o){var p;return bv(o)&&(p=o.constructor,j3(p)&&(p===wv||bv(p.prototype))?p=void 0:V3(p)&&(p=p[W3],p===null&&(p=void 0))),p===void 0?wv:p},q3=H3,K3=function(o,p){return new(q3(o))(p===0?0:p)},X3=x3,Y3=kh,Q3=nx,J3=dx,eA=Mx,tA=K3,Cv=Y3([].push),nA=function(o){var p=o==1,d=o==2,w=o==3,D=o==4,E=o==6,I=o==7,s=o==5||E;return function(V,q,ue,te){for(var ce=J3(V),ae=Q3(ce),he=X3(q,ue),_e=eA(ae),Pe=0,Ze=te||tA,tt=p?Ze(V,_e):d||I?Ze(V,0):void 0,ze,Ae;_e>Pe;Pe++)if((s||Pe in ae)&&(ze=ae[Pe],Ae=he(ze,Pe,ce),o))if(p)tt[Pe]=Ae;else if(Ae)switch(o){case 3:return!0;case 5:return ze;case 6:return Pe;case 2:Cv(tt,ze)}else switch(o){case 4:return!1;case 7:Cv(tt,ze)}return E?-1:w||D?D:tt}},rA={find:nA(5)},Lx={},iA=Px,aA=Y1,oA=Object.keys||function(p){return iA(p,aA)},sA=ed,lA=vx,uA=Cf,cA=jm,hA=$m,pA=oA;Lx.f=sA&&!lA?Object.defineProperties:function(p,d){cA(p);for(var w=hA(d),D=pA(d),E=D.length,I=0,s;E>I;)uA.f(p,s=D[I++],w[s]);return p};var dA=wg,fA=dA("document","documentElement"),gA=jm,mA=Lx,Dv=Y1,yA=X1,_A=fA,vA=yx,xA=Dx,Iv=">",Av="<",_1="prototype",v1="script",Bx=xA("IE_PROTO"),Vy=function(){},Ox=function(o){return Av+v1+Iv+o+Av+"/"+v1+Iv},Sv=function(o){o.write(Ox("")),o.close();var p=o.parentWindow.Object;return o=null,p},bA=function(){var o=vA("iframe"),p="java"+v1+":",d;return o.style.display="none",_A.appendChild(o),o.src=String(p),d=o.contentWindow.document,d.open(),d.write(Ox("document.F=Object")),d.close(),d.F},cm,bm=function(){try{cm=new ActiveXObject("htmlfile")}catch{}bm=typeof document<"u"?document.domain&&cm?Sv(cm):bA():Sv(cm);for(var o=Dv.length;o--;)delete bm[_1][Dv[o]];return bm()};yA[Bx]=!0;var wA=Object.create||function(p,d){var w;return p!==null?(Vy[_1]=gA(p),w=new Vy,Vy[_1]=null,w[Bx]=p):w=bm(),d===void 0?w:mA.f(w,d)},CA=Cg,DA=wA,IA=Cf.f,x1=CA("unscopables"),b1=Array.prototype;b1[x1]==null&&IA(b1,x1,{configurable:!0,value:DA(null)});var AA=function(o){b1[x1][o]=!0},SA=m3,TA=rA.find,MA=AA,w1="find",Fx=!0;w1 in[]&&Array(1)[w1](function(){Fx=!1});SA({target:"Array",proto:!0,forced:Fx},{find:function(p){return TA(this,p,arguments.length>1?arguments[1]:void 0)}});MA(w1);var cc={GLOBAL:{HIDE:"__react_tooltip_hide_event",REBUILD:"__react_tooltip_rebuild_event",SHOW:"__react_tooltip_show_event"}},Zy=function(p,d){var w;typeof window.CustomEvent=="function"?w=new window.CustomEvent(p,{detail:d}):(w=document.createEvent("Event"),w.initEvent(p,!1,!0,d)),window.dispatchEvent(w)};function PA(o){o.hide=function(p){Zy(cc.GLOBAL.HIDE,{target:p})},o.rebuild=function(){Zy(cc.GLOBAL.REBUILD)},o.show=function(p){Zy(cc.GLOBAL.SHOW,{target:p})},o.prototype.globalRebuild=function(){this.mount&&(this.unbindListener(),this.bindListener())},o.prototype.globalShow=function(p){if(this.mount){var d=p&&p.detail&&p.detail.target&&!0||!1;this.showTooltip({currentTarget:d&&p.detail.target},!0)}},o.prototype.globalHide=function(p){if(this.mount){var d=p&&p.detail&&p.detail.target&&!0||!1;this.hideTooltip({currentTarget:d&&p.detail.target},d)}}}function EA(o){o.prototype.bindWindowEvents=function(p){window.removeEventListener(cc.GLOBAL.HIDE,this.globalHide),window.addEventListener(cc.GLOBAL.HIDE,this.globalHide,!1),window.removeEventListener(cc.GLOBAL.REBUILD,this.globalRebuild),window.addEventListener(cc.GLOBAL.REBUILD,this.globalRebuild,!1),window.removeEventListener(cc.GLOBAL.SHOW,this.globalShow),window.addEventListener(cc.GLOBAL.SHOW,this.globalShow,!1),p&&(window.removeEventListener("resize",this.onWindowResize),window.addEventListener("resize",this.onWindowResize,!1))},o.prototype.unbindWindowEvents=function(){window.removeEventListener(cc.GLOBAL.HIDE,this.globalHide),window.removeEventListener(cc.GLOBAL.REBUILD,this.globalRebuild),window.removeEventListener(cc.GLOBAL.SHOW,this.globalShow),window.removeEventListener("resize",this.onWindowResize)},o.prototype.onWindowResize=function(){this.mount&&this.hideTooltip()}}var Nx=function(p,d){var w=this.state.show,D=this.props.id,E=this.isCapture(d.currentTarget),I=d.currentTarget.getAttribute("currentItem");E||d.stopPropagation(),w&&I==="true"?p||this.hideTooltip(d):(d.currentTarget.setAttribute("currentItem","true"),kA(d.currentTarget,this.getTargetArray(D)),this.showTooltip(d))},kA=function(p,d){for(var w=0;w<d.length;w++)p!==d[w]?d[w].setAttribute("currentItem","false"):d[w].setAttribute("currentItem","true")},Wy={id:"9b69f92e-d3fe-498b-b1b4-c5e63a51b0cf",set:function(p,d,w){if(this.id in p){var D=p[this.id];D[d]=w}else Object.defineProperty(p,this.id,{configurable:!0,value:cg({},d,w)})},get:function(p,d){var w=p[this.id];if(w!==void 0)return w[d]}};function RA(o){o.prototype.isCustomEvent=function(p){var d=this.state.event;return d||!!p.getAttribute("data-event")},o.prototype.customBindListener=function(p){var d=this,w=this.state,D=w.event,E=w.eventOff,I=p.getAttribute("data-event")||D,s=p.getAttribute("data-event-off")||E;I.split(" ").forEach(function(V){p.removeEventListener(V,Wy.get(p,V));var q=Nx.bind(d,s);Wy.set(p,V,q),p.addEventListener(V,q,!1)}),s&&s.split(" ").forEach(function(V){p.removeEventListener(V,d.hideTooltip),p.addEventListener(V,d.hideTooltip,!1)})},o.prototype.customUnbindListener=function(p){var d=this.state,w=d.event,D=d.eventOff,E=w||p.getAttribute("data-event"),I=D||p.getAttribute("data-event-off");p.removeEventListener(E,Wy.get(p,w)),I&&p.removeEventListener(I,this.hideTooltip)}}function UA(o){o.prototype.isCapture=function(p){return p&&p.getAttribute("data-iscapture")==="true"||this.props.isCapture||!1}}function zA(o){o.prototype.getEffect=function(p){var d=p.getAttribute("data-effect");return d||this.props.effect||"float"}}var GA=function(p){var d={};for(var w in p)typeof p[w]=="function"?d[w]=p[w].bind(p):d[w]=p[w];return d},Yf=function(p,d,w){for(var D=d.respectEffect,E=D===void 0?!1:D,I=d.customEvent,s=I===void 0?!1:I,V=this.props.id,q=null,ue,te=w.target,ce;q===null&&te!==null;)ce=te,q=te.getAttribute("data-tip")||null,ue=te.getAttribute("data-for")||null,te=te.parentElement;if(te=ce||w.target,!(this.isCustomEvent(te)&&!s)){var ae=V==null&&ue==null||ue===V;if(q!=null&&(!E||this.getEffect(te)==="float")&&ae){var he=GA(w);he.currentTarget=te,p(he)}}},Tv=function(p,d){var w={};return p.forEach(function(D){var E=D.getAttribute(d);E&&E.split(" ").forEach(function(I){return w[I]=!0})}),w},Mv=function(){return document.getElementsByTagName("body")[0]};function LA(o){o.prototype.isBodyMode=function(){return!!this.props.bodyMode},o.prototype.bindBodyListener=function(p){var d=this,w=this.state,D=w.event,E=w.eventOff,I=w.possibleCustomEvents,s=w.possibleCustomEventsOff,V=Mv(),q=Tv(p,"data-event"),ue=Tv(p,"data-event-off");D!=null&&(q[D]=!0),E!=null&&(ue[E]=!0),I.split(" ").forEach(function(_e){return q[_e]=!0}),s.split(" ").forEach(function(_e){return ue[_e]=!0}),this.unbindBodyListener(V);var te=this.bodyModeListeners={};D==null&&(te.mouseover=Yf.bind(this,this.showTooltip,{}),te.mousemove=Yf.bind(this,this.updateTooltip,{respectEffect:!0}),te.mouseout=Yf.bind(this,this.hideTooltip,{}));for(var ce in q)te[ce]=Yf.bind(this,function(_e){var Pe=_e.currentTarget.getAttribute("data-event-off")||E;Nx.call(d,Pe,_e)},{customEvent:!0});for(var ae in ue)te[ae]=Yf.bind(this,this.hideTooltip,{customEvent:!0});for(var he in te)V.addEventListener(he,te[he])},o.prototype.unbindBodyListener=function(p){p=p||Mv();var d=this.bodyModeListeners;for(var w in d)p.removeEventListener(w,d[w])}}var BA=function(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver};function OA(o){o.prototype.bindRemovalTracker=function(){var p=this,d=BA();if(d!=null){var w=new d(function(D){for(var E=0;E<D.length;E++)for(var I=D[E],s=0;s<I.removedNodes.length;s++){var V=I.removedNodes[s];if(V===p.state.currentTarget){p.hideTooltip();return}}});w.observe(window.document,{childList:!0,subtree:!0}),this.removalTracker=w}},o.prototype.unbindRemovalTracker=function(){this.removalTracker&&(this.removalTracker.disconnect(),this.removalTracker=null)}}function Pv(o,p,d,w,D,E,I){var s=C1(d),V=s.width,q=s.height,ue=C1(p),te=ue.width,ce=ue.height,ae=FA(o,p,E),he=ae.mouseX,_e=ae.mouseY,Pe=NA(E,te,ce,V,q),Ze=$A(I),tt=Ze.extraOffsetX,ze=Ze.extraOffsetY,Ae=window.innerWidth,Ge=window.innerHeight,$e=jA(d),ot=$e.parentTop,Pt=$e.parentLeft,Yt=function(kt){var gn=Pe[kt].l;return he+gn+tt},ge=function(kt){var gn=Pe[kt].r;return he+gn+tt},bt=function(kt){var gn=Pe[kt].t;return _e+gn+ze},St=function(kt){var gn=Pe[kt].b;return _e+gn+ze},Bt=function(kt){return Yt(kt)<0},Wt=function(kt){return ge(kt)>Ae},Ft=function(kt){return bt(kt)<0},Nt=function(kt){return St(kt)>Ge},cn=function(kt){return Bt(kt)||Wt(kt)||Ft(kt)||Nt(kt)},yt=function(kt){return!cn(kt)},mt={top:yt("top"),bottom:yt("bottom"),left:yt("left"),right:yt("right")};function jt(){var hn=D.split(",").concat(w,["top","bottom","left","right"]),kt=Qw(hn),gn;try{for(kt.s();!(gn=kt.n()).done;){var wn=gn.value;if(mt[wn])return wn}}catch(Fn){kt.e(Fn)}finally{kt.f()}return w}var qe=jt(),Tt=!1,mn;return qe&&qe!==w&&(Tt=!0,mn=qe),Tt?{isNewState:!0,newState:{place:mn}}:{isNewState:!1,position:{left:parseInt(Yt(w)-Pt,10),top:parseInt(bt(w)-ot,10)}}}var C1=function(p){var d=p.getBoundingClientRect(),w=d.height,D=d.width;return{height:parseInt(w,10),width:parseInt(D,10)}},FA=function(p,d,w){var D=d.getBoundingClientRect(),E=D.top,I=D.left,s=C1(d),V=s.width,q=s.height;return w==="float"?{mouseX:p.clientX,mouseY:p.clientY}:{mouseX:I+V/2,mouseY:E+q/2}},NA=function(p,d,w,D,E){var I,s,V,q,ue=3,te=2,ce=12;return p==="float"?(I={l:-(D/2),r:D/2,t:-(E+ue+te),b:-3},V={l:-(D/2),r:D/2,t:ue+ce,b:E+ue+te+ce},q={l:-(D+ue+te),r:-3,t:-(E/2),b:E/2},s={l:ue,r:D+ue+te,t:-(E/2),b:E/2}):p==="solid"&&(I={l:-(D/2),r:D/2,t:-(w/2+E+te),b:-(w/2)},V={l:-(D/2),r:D/2,t:w/2,b:w/2+E+te},q={l:-(D+d/2+te),r:-(d/2),t:-(E/2),b:E/2},s={l:d/2,r:D+d/2+te,t:-(E/2),b:E/2}),{top:I,bottom:V,left:q,right:s}},$A=function(p){var d=0,w=0;Object.prototype.toString.apply(p)==="[object String]"&&(p=JSON.parse(p.toString().replace(/'/g,'"')));for(var D in p)D==="top"?w-=parseInt(p[D],10):D==="bottom"?w+=parseInt(p[D],10):D==="left"?d-=parseInt(p[D],10):D==="right"&&(d+=parseInt(p[D],10));return{extraOffsetX:d,extraOffsetY:w}},jA=function(p){for(var d=p;d;){var w=window.getComputedStyle(d);if(w.getPropertyValue("transform")!=="none"||w.getPropertyValue("will-change")==="transform")break;d=d.parentElement}var D=d&&d.getBoundingClientRect().top||0,E=d&&d.getBoundingClientRect().left||0;return{parentTop:D,parentLeft:E}};function Ev(o,p,d,w){if(p)return p;if(d!=null)return d;if(d===null)return null;var D=/<br\s*\/?>/;return!w||w==="false"||!D.test(o)?o:o.split(D).map(function(E,I){return Os.createElement("span",{key:I,className:"multi-line"},E)})}function kv(o){var p={};return Object.keys(o).filter(function(d){return/(^aria-\w+$|^role$)/.test(d)}).forEach(function(d){p[d]=o[d]}),p}function Hy(o){var p=o.length;return o.hasOwnProperty?Array.prototype.slice.call(o):new Array(p).fill().map(function(d){return o[d]})}function VA(){return"t"+jw()}var ZA=`.__react_component_tooltip {
  border-radius: 3px;
  display: inline-block;
  font-size: 13px;
  left: -999em;
  opacity: 0;
  position: fixed;
  pointer-events: none;
  transition: opacity 0.3s ease-out;
  top: -999em;
  visibility: hidden;
  z-index: 999;
}
.__react_component_tooltip.allow_hover, .__react_component_tooltip.allow_click {
  pointer-events: auto;
}
.__react_component_tooltip::before, .__react_component_tooltip::after {
  content: "";
  width: 0;
  height: 0;
  position: absolute;
}
.__react_component_tooltip.show {
  opacity: 0.9;
  margin-top: 0;
  margin-left: 0;
  visibility: visible;
}
.__react_component_tooltip.place-top::before {
  bottom: 0;
  left: 50%;
  margin-left: -11px;
}
.__react_component_tooltip.place-bottom::before {
  top: 0;
  left: 50%;
  margin-left: -11px;
}
.__react_component_tooltip.place-left::before {
  right: 0;
  top: 50%;
  margin-top: -9px;
}
.__react_component_tooltip.place-right::before {
  left: 0;
  top: 50%;
  margin-top: -9px;
}
.__react_component_tooltip .multi-line {
  display: block;
  padding: 2px 0;
  text-align: center;
}`,Rv={dark:{text:"#fff",background:"#222",border:"transparent",arrow:"#222"},success:{text:"#fff",background:"#8DC572",border:"transparent",arrow:"#8DC572"},warning:{text:"#fff",background:"#F0AD4E",border:"transparent",arrow:"#F0AD4E"},error:{text:"#fff",background:"#BE6464",border:"transparent",arrow:"#BE6464"},info:{text:"#fff",background:"#337AB7",border:"transparent",arrow:"#337AB7"},light:{text:"#222",background:"#fff",border:"transparent",arrow:"#fff"}};function WA(o){return Rv[o]?l1({},Rv[o]):void 0}var HA="8px 21px",qA={tooltip:3,arrow:0};function KA(o,p,d,w,D,E){return XA(o,YA(p,d,w),D,E)}function XA(o,p){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:HA,w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:qA,D=p.text,E=p.background,I=p.border,s=p.arrow,V=w.arrow,q=w.tooltip;return`
  	.`.concat(o,` {
	    color: `).concat(D,`;
	    background: `).concat(E,`;
	    border: 1px solid `).concat(I,`;
	    border-radius: `).concat(q,`px;
	    padding: `).concat(d,`;
  	}

  	.`).concat(o,`.place-top {
        margin-top: -10px;
    }
    .`).concat(o,`.place-top::before {
        content: "";
        background-color: inherit;
        position: absolute;
        z-index: 2;
        width: 20px;
        height: 12px;
    }
    .`).concat(o,`.place-top::after {
        content: "";
        position: absolute;
        width: 10px;
        height: 10px;
        border-top-right-radius: `).concat(V,`px;
        border: 1px solid `).concat(I,`;
        background-color: `).concat(s,`;
        z-index: -2;
        bottom: -6px;
        left: 50%;
        margin-left: -6px;
        transform: rotate(135deg);
    }

    .`).concat(o,`.place-bottom {
        margin-top: 10px;
    }
    .`).concat(o,`.place-bottom::before {
        content: "";
        background-color: inherit;
        position: absolute;
        z-index: -1;
        width: 18px;
        height: 10px;
    }
    .`).concat(o,`.place-bottom::after {
        content: "";
        position: absolute;
        width: 10px;
        height: 10px;
        border-top-right-radius: `).concat(V,`px;
        border: 1px solid `).concat(I,`;
        background-color: `).concat(s,`;
        z-index: -2;
        top: -6px;
        left: 50%;
        margin-left: -6px;
        transform: rotate(45deg);
    }

    .`).concat(o,`.place-left {
        margin-left: -10px;
    }
    .`).concat(o,`.place-left::before {
        content: "";
        background-color: inherit;
        position: absolute;
        z-index: -1;
        width: 10px;
        height: 18px;
    }
    .`).concat(o,`.place-left::after {
        content: "";
        position: absolute;
        width: 10px;
        height: 10px;
        border-top-right-radius: `).concat(V,`px;
        border: 1px solid `).concat(I,`;
        background-color: `).concat(s,`;
        z-index: -2;
        right: -6px;
        top: 50%;
        margin-top: -6px;
        transform: rotate(45deg);
    }

    .`).concat(o,`.place-right {
        margin-left: 10px;
    }
    .`).concat(o,`.place-right::before {
        content: "";
        background-color: inherit;
        position: absolute;
        z-index: -1;
        width: 10px;
        height: 18px;
    }
    .`).concat(o,`.place-right::after {
        content: "";
        position: absolute;
        width: 10px;
        height: 10px;
        border-top-right-radius: `).concat(V,`px;
        border: 1px solid `).concat(I,`;
        background-color: `).concat(s,`;
        z-index: -2;
        left: -6px;
        top: 50%;
        margin-top: -6px;
        transform: rotate(-135deg);
    }
  `)}function YA(o,p,d){var w=o.text,D=o.background,E=o.border,I=o.arrow?o.arrow:o.background,s=WA(p);return w&&(s.text=w),D&&(s.background=D),d&&(E?s.border=E:s.border=p==="light"?"black":"white"),I&&(s.arrow=I),s}var H0,Qf,QA=PA(H0=EA(H0=RA(H0=UA(H0=zA(H0=LA(H0=OA(H0=(Qf=function(o){Ww(d,o);var p=Xw(d);function d(w){var D;return Vw(this,d),D=p.call(this,w),D.state={uuid:w.uuid||VA(),place:w.place||"top",desiredPlace:w.place||"top",type:w.type||"dark",effect:w.effect||"float",show:!1,border:!1,borderClass:"border",customColors:{},customRadius:{},offset:{},padding:w.padding,extraClass:"",html:!1,delayHide:0,delayShow:0,event:w.event||null,eventOff:w.eventOff||null,currentEvent:null,currentTarget:null,ariaProps:kv(w),isEmptyTip:!1,disable:!1,possibleCustomEvents:w.possibleCustomEvents||"",possibleCustomEventsOff:w.possibleCustomEventsOff||"",originTooltip:null,isMultiline:!1},D.bind(["showTooltip","updateTooltip","hideTooltip","hideTooltipOnScroll","getTooltipContent","globalRebuild","globalShow","globalHide","onWindowResize","mouseOnToolTip"]),D.mount=!0,D.delayShowLoop=null,D.delayHideLoop=null,D.delayReshow=null,D.intervalUpdateContent=null,D}return Zw(d,[{key:"bind",value:function(D){var E=this;D.forEach(function(I){E[I]=E[I].bind(E)})}},{key:"componentDidMount",value:function(){var D=this.props;D.insecure;var E=D.resizeHide,I=D.disableInternalStyle;this.mount=!0,this.bindListener(),this.bindWindowEvents(E),I||this.injectStyles()}},{key:"componentWillUnmount",value:function(){this.mount=!1,this.clearTimer(),this.unbindListener(),this.removeScrollListener(this.state.currentTarget),this.unbindWindowEvents()}},{key:"injectStyles",value:function(){var D=this.tooltipRef;if(D){for(var E=D.parentNode;E.parentNode;)E=E.parentNode;var I;switch(E.constructor.name){case"Document":case"HTMLDocument":case void 0:I=E.head;break;case"ShadowRoot":default:I=E;break}if(!I.querySelector("style[data-react-tooltip]")){var s=document.createElement("style");s.textContent=ZA,s.setAttribute("data-react-tooltip","true"),I.appendChild(s)}}}},{key:"mouseOnToolTip",value:function(){var D=this.state.show;return D&&this.tooltipRef?(this.tooltipRef.matches||(this.tooltipRef.msMatchesSelector?this.tooltipRef.matches=this.tooltipRef.msMatchesSelector:this.tooltipRef.matches=this.tooltipRef.mozMatchesSelector),this.tooltipRef.matches(":hover")):!1}},{key:"getTargetArray",value:function(D){var E=[],I;if(!D)I="[data-tip]:not([data-for])";else{var s=D.replace(/\\/g,"\\\\").replace(/"/g,'\\"');I='[data-tip][data-for="'.concat(s,'"]')}return Hy(document.getElementsByTagName("*")).filter(function(V){return V.shadowRoot}).forEach(function(V){E=E.concat(Hy(V.shadowRoot.querySelectorAll(I)))}),E.concat(Hy(document.querySelectorAll(I)))}},{key:"bindListener",value:function(){var D=this,E=this.props,I=E.id,s=E.globalEventOff,V=E.isCapture,q=this.getTargetArray(I);q.forEach(function(ue){ue.getAttribute("currentItem")===null&&ue.setAttribute("currentItem","false"),D.unbindBasicListener(ue),D.isCustomEvent(ue)&&D.customUnbindListener(ue)}),this.isBodyMode()?this.bindBodyListener(q):q.forEach(function(ue){var te=D.isCapture(ue),ce=D.getEffect(ue);if(D.isCustomEvent(ue)){D.customBindListener(ue);return}ue.addEventListener("mouseenter",D.showTooltip,te),ue.addEventListener("focus",D.showTooltip,te),ce==="float"&&ue.addEventListener("mousemove",D.updateTooltip,te),ue.addEventListener("mouseleave",D.hideTooltip,te),ue.addEventListener("blur",D.hideTooltip,te)}),s&&(window.removeEventListener(s,this.hideTooltip),window.addEventListener(s,this.hideTooltip,V)),this.bindRemovalTracker()}},{key:"unbindListener",value:function(){var D=this,E=this.props,I=E.id,s=E.globalEventOff;if(this.isBodyMode())this.unbindBodyListener();else{var V=this.getTargetArray(I);V.forEach(function(q){D.unbindBasicListener(q),D.isCustomEvent(q)&&D.customUnbindListener(q)})}s&&window.removeEventListener(s,this.hideTooltip),this.unbindRemovalTracker()}},{key:"unbindBasicListener",value:function(D){var E=this.isCapture(D);D.removeEventListener("mouseenter",this.showTooltip,E),D.removeEventListener("mousemove",this.updateTooltip,E),D.removeEventListener("mouseleave",this.hideTooltip,E)}},{key:"getTooltipContent",value:function(){var D=this.props,E=D.getContent,I=D.children,s;return E&&(Array.isArray(E)?s=E[0]&&E[0](this.state.originTooltip):s=E(this.state.originTooltip)),Ev(this.state.originTooltip,I,s,this.state.isMultiline)}},{key:"isEmptyTip",value:function(D){return typeof D=="string"&&D===""||D===null}},{key:"showTooltip",value:function(D,E){if(this.tooltipRef){if(E){var I=this.getTargetArray(this.props.id),s=I.some(function(Pt){return Pt===D.currentTarget});if(!s)return}var V=this.props,q=V.multiline,ue=V.getContent,te=D.currentTarget.getAttribute("data-tip"),ce=D.currentTarget.getAttribute("data-multiline")||q||!1,ae=D instanceof window.FocusEvent||E,he=!0;D.currentTarget.getAttribute("data-scroll-hide")?he=D.currentTarget.getAttribute("data-scroll-hide")==="true":this.props.scrollHide!=null&&(he=this.props.scrollHide),D&&D.currentTarget&&D.currentTarget.setAttribute&&D.currentTarget.setAttribute("aria-describedby",this.props.id||this.state.uuid);var _e=D.currentTarget.getAttribute("data-place")||this.props.place||"top",Pe=ae&&"solid"||this.getEffect(D.currentTarget),Ze=D.currentTarget.getAttribute("data-offset")||this.props.offset||{},tt=Pv(D,D.currentTarget,this.tooltipRef,_e.split(",")[0],_e,Pe,Ze);tt.position&&this.props.overridePosition&&(tt.position=this.props.overridePosition(tt.position,D,D.currentTarget,this.tooltipRef,_e,_e,Pe,Ze));var ze=tt.isNewState?tt.newState.place:_e.split(",")[0];this.clearTimer();var Ae=D.currentTarget,Ge=this.state.show?Ae.getAttribute("data-delay-update")||this.props.delayUpdate:0,$e=this,ot=function(){$e.setState({originTooltip:te,isMultiline:ce,desiredPlace:_e,place:ze,type:Ae.getAttribute("data-type")||$e.props.type||"dark",customColors:{text:Ae.getAttribute("data-text-color")||$e.props.textColor||null,background:Ae.getAttribute("data-background-color")||$e.props.backgroundColor||null,border:Ae.getAttribute("data-border-color")||$e.props.borderColor||null,arrow:Ae.getAttribute("data-arrow-color")||$e.props.arrowColor||null},customRadius:{tooltip:Ae.getAttribute("data-tooltip-radius")||$e.props.tooltipRadius||"3",arrow:Ae.getAttribute("data-arrow-radius")||$e.props.arrowRadius||"0"},effect:Pe,offset:Ze,padding:Ae.getAttribute("data-padding")||$e.props.padding,html:(Ae.getAttribute("data-html")?Ae.getAttribute("data-html")==="true":$e.props.html)||!1,delayShow:Ae.getAttribute("data-delay-show")||$e.props.delayShow||0,delayHide:Ae.getAttribute("data-delay-hide")||$e.props.delayHide||0,delayUpdate:Ae.getAttribute("data-delay-update")||$e.props.delayUpdate||0,border:(Ae.getAttribute("data-border")?Ae.getAttribute("data-border")==="true":$e.props.border)||!1,borderClass:Ae.getAttribute("data-border-class")||$e.props.borderClass||"border",extraClass:Ae.getAttribute("data-class")||$e.props.class||$e.props.className||"",disable:(Ae.getAttribute("data-tip-disable")?Ae.getAttribute("data-tip-disable")==="true":$e.props.disable)||!1,currentTarget:Ae},function(){he&&$e.addScrollListener($e.state.currentTarget),$e.updateTooltip(D),ue&&Array.isArray(ue)&&($e.intervalUpdateContent=setInterval(function(){if($e.mount){var Yt=$e.props.getContent,ge=Ev(te,"",Yt[0](),ce),bt=$e.isEmptyTip(ge);$e.setState({isEmptyTip:bt}),$e.updatePosition()}},ue[1]))})};Ge?this.delayReshow=setTimeout(ot,Ge):ot()}}},{key:"updateTooltip",value:function(D){var E=this,I=this.state,s=I.delayShow,V=I.disable,q=this.props,ue=q.afterShow,te=q.disable,ce=this.getTooltipContent(),ae=D.currentTarget||D.target;if(!this.mouseOnToolTip()&&!(this.isEmptyTip(ce)||V||te)){var he=this.state.show?0:parseInt(s,10),_e=function(){if(Array.isArray(ce)&&ce.length>0||ce){var Ze=!E.state.show;E.setState({currentEvent:D,currentTarget:ae,show:!0},function(){E.updatePosition(function(){Ze&&ue&&ue(D)})})}};this.delayShowLoop&&clearTimeout(this.delayShowLoop),he?this.delayShowLoop=setTimeout(_e,he):(this.delayShowLoop=null,_e())}}},{key:"listenForTooltipExit",value:function(){var D=this.state.show;D&&this.tooltipRef&&this.tooltipRef.addEventListener("mouseleave",this.hideTooltip)}},{key:"removeListenerForTooltipExit",value:function(){var D=this.state.show;D&&this.tooltipRef&&this.tooltipRef.removeEventListener("mouseleave",this.hideTooltip)}},{key:"hideTooltip",value:function(D,E){var I=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{isScroll:!1},V=this.state.disable,q=s.isScroll,ue=q?0:this.state.delayHide,te=this.props,ce=te.afterHide,ae=te.disable,he=this.getTooltipContent();if(this.mount&&!(this.isEmptyTip(he)||V||ae)){if(E){var _e=this.getTargetArray(this.props.id),Pe=_e.some(function(tt){return tt===D.currentTarget});if(!Pe||!this.state.show)return}D&&D.currentTarget&&D.currentTarget.removeAttribute&&D.currentTarget.removeAttribute("aria-describedby");var Ze=function(){var ze=I.state.show;if(I.mouseOnToolTip()){I.listenForTooltipExit();return}I.removeListenerForTooltipExit(),I.setState({show:!1},function(){I.removeScrollListener(I.state.currentTarget),ze&&ce&&ce(D)})};this.clearTimer(),ue?this.delayHideLoop=setTimeout(Ze,parseInt(ue,10)):Ze()}}},{key:"hideTooltipOnScroll",value:function(D,E){this.hideTooltip(D,E,{isScroll:!0})}},{key:"addScrollListener",value:function(D){var E=this.isCapture(D);window.addEventListener("scroll",this.hideTooltipOnScroll,E)}},{key:"removeScrollListener",value:function(D){var E=this.isCapture(D);window.removeEventListener("scroll",this.hideTooltipOnScroll,E)}},{key:"updatePosition",value:function(D){var E=this,I=this.state,s=I.currentEvent,V=I.currentTarget,q=I.place,ue=I.desiredPlace,te=I.effect,ce=I.offset,ae=this.tooltipRef,he=Pv(s,V,ae,q,ue,te,ce);if(he.position&&this.props.overridePosition&&(he.position=this.props.overridePosition(he.position,s,V,ae,q,ue,te,ce)),he.isNewState)return this.setState(he.newState,function(){E.updatePosition(D)});D&&typeof D=="function"&&D(),ae.style.left=he.position.left+"px",ae.style.top=he.position.top+"px"}},{key:"clearTimer",value:function(){this.delayShowLoop&&(clearTimeout(this.delayShowLoop),this.delayShowLoop=null),this.delayHideLoop&&(clearTimeout(this.delayHideLoop),this.delayHideLoop=null),this.delayReshow&&(clearTimeout(this.delayReshow),this.delayReshow=null),this.intervalUpdateContent&&(clearInterval(this.intervalUpdateContent),this.intervalUpdateContent=null)}},{key:"hasCustomColors",value:function(){var D=this;return!!(Object.keys(this.state.customColors).find(function(E){return E!=="border"&&D.state.customColors[E]})||this.state.border&&this.state.customColors.border)}},{key:"render",value:function(){var D=this,E=this.state,I=E.extraClass,s=E.html,V=E.ariaProps,q=E.disable,ue=E.uuid,te=this.getTooltipContent(),ce=this.isEmptyTip(te),ae=this.props.disableInternalStyle?"":KA(this.state.uuid,this.state.customColors,this.state.type,this.state.border,this.state.padding,this.state.customRadius),he="__react_component_tooltip"+" ".concat(this.state.uuid)+(this.state.show&&!q&&!ce?" show":"")+(this.state.border?" "+this.state.borderClass:"")+" place-".concat(this.state.place)+" type-".concat(this.hasCustomColors()?"custom":this.state.type)+(this.props.delayUpdate?" allow_hover":"")+(this.props.clickable?" allow_click":""),_e=this.props.wrapper;d.supportedWrappers.indexOf(_e)<0&&(_e=d.defaultProps.wrapper);var Pe=[he,I].filter(Boolean).join(" ");if(s){var Ze="".concat(te).concat(ae?`
<style aria-hidden="true">`.concat(ae,"</style>"):"");return Os.createElement(_e,Sm({className:"".concat(Pe),id:this.props.id||ue,ref:function(ze){return D.tooltipRef=ze}},V,{"data-id":"tooltip",dangerouslySetInnerHTML:{__html:Ze}}))}else return Os.createElement(_e,Sm({className:"".concat(Pe),id:this.props.id||ue},V,{ref:function(ze){return D.tooltipRef=ze},"data-id":"tooltip"}),ae&&Os.createElement("style",{dangerouslySetInnerHTML:{__html:ae},"aria-hidden":"true"}),te)}}],[{key:"propTypes",get:function(){return{uuid:Lr.string,children:Lr.any,place:Lr.string,type:Lr.string,effect:Lr.string,offset:Lr.object,padding:Lr.string,multiline:Lr.bool,border:Lr.bool,borderClass:Lr.string,textColor:Lr.string,backgroundColor:Lr.string,borderColor:Lr.string,arrowColor:Lr.string,arrowRadius:Lr.string,tooltipRadius:Lr.string,insecure:Lr.bool,class:Lr.string,className:Lr.string,id:Lr.string,html:Lr.bool,delayHide:Lr.number,delayUpdate:Lr.number,delayShow:Lr.number,event:Lr.string,eventOff:Lr.string,isCapture:Lr.bool,globalEventOff:Lr.string,getContent:Lr.any,afterShow:Lr.func,afterHide:Lr.func,overridePosition:Lr.func,disable:Lr.bool,scrollHide:Lr.bool,resizeHide:Lr.bool,wrapper:Lr.string,bodyMode:Lr.bool,possibleCustomEvents:Lr.string,possibleCustomEventsOff:Lr.string,clickable:Lr.bool,disableInternalStyle:Lr.bool}}},{key:"getDerivedStateFromProps",value:function(D,E){var I=E.ariaProps,s=kv(D),V=Object.keys(s).some(function(q){return s[q]!==I[q]});return V?l1(l1({},E),{},{ariaProps:s}):null}}]),d}(Os.Component),cg(Qf,"defaultProps",{insecure:!0,resizeHide:!0,wrapper:"div",clickable:!1}),cg(Qf,"supportedWrappers",["div","span"]),cg(Qf,"displayName","ReactTooltip"),Qf))||H0)||H0)||H0)||H0)||H0)||H0)||H0,wm={exports:{}};/**
 * MapLibre GL JS
 * @license 3-Clause BSD. Full text of license: https://github.com/maplibre/maplibre-gl-js/blob/v5.5.0/LICENSE.txt
 */var JA=wm.exports,Uv;function eS(){return Uv||(Uv=1,function(o,p){(function(d,w){o.exports=w()})(JA,function(){var d={},w={};function D(I,s,V){if(w[I]=V,I==="index"){var q="var sharedModule = {}; ("+w.shared+")(sharedModule); ("+w.worker+")(sharedModule);",ue={};return w.shared(ue),w.index(d,ue),typeof window<"u"&&d.setWorkerUrl(window.URL.createObjectURL(new Blob([q],{type:"text/javascript"}))),d}}D("shared",["exports"],function(I){function s(i,t,r,l){return new(r||(r=Promise))(function(g,v){function b(R){try{P(l.next(R))}catch(G){v(G)}}function A(R){try{P(l.throw(R))}catch(G){v(G)}}function P(R){var G;R.done?g(R.value):(G=R.value,G instanceof r?G:new r(function(N){N(G)})).then(b,A)}P((l=l.apply(i,t||[])).next())})}function V(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var q,ue;function te(){if(ue)return q;function i(t,r){this.x=t,this.y=r}return ue=1,q=i,i.prototype={clone:function(){return new i(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,r){return this.clone()._rotateAround(t,r)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var r=t.x-this.x,l=t.y-this.y;return r*r+l*l},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,r){return Math.atan2(this.x*r-this.y*t,this.x*t+this.y*r)},_matMult:function(t){var r=t[2]*this.x+t[3]*this.y;return this.x=t[0]*this.x+t[1]*this.y,this.y=r,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var r=Math.cos(t),l=Math.sin(t),g=l*this.x+r*this.y;return this.x=r*this.x-l*this.y,this.y=g,this},_rotateAround:function(t,r){var l=Math.cos(t),g=Math.sin(t),v=r.y+g*(this.x-r.x)+l*(this.y-r.y);return this.x=r.x+l*(this.x-r.x)-g*(this.y-r.y),this.y=v,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},i.convert=function(t){return t instanceof i?t:Array.isArray(t)?new i(t[0],t[1]):t},q}typeof SuppressedError=="function"&&SuppressedError;var ce,ae,he=V(te()),_e=function(){if(ae)return ce;function i(t,r,l,g){this.cx=3*t,this.bx=3*(l-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*r,this.by=3*(g-r)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=r,this.p2x=l,this.p2y=g}return ae=1,ce=i,i.prototype={sampleCurveX:function(t){return((this.ax*t+this.bx)*t+this.cx)*t},sampleCurveY:function(t){return((this.ay*t+this.by)*t+this.cy)*t},sampleCurveDerivativeX:function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},solveCurveX:function(t,r){if(r===void 0&&(r=1e-6),t<0)return 0;if(t>1)return 1;for(var l=t,g=0;g<8;g++){var v=this.sampleCurveX(l)-t;if(Math.abs(v)<r)return l;var b=this.sampleCurveDerivativeX(l);if(Math.abs(b)<1e-6)break;l-=v/b}var A=0,P=1;for(l=t,g=0;g<20&&(v=this.sampleCurveX(l),!(Math.abs(v-t)<r));g++)t>v?A=l:P=l,l=.5*(P-A)+A;return l},solve:function(t,r){return this.sampleCurveY(this.solveCurveX(t,r))}},ce}(),Pe=V(_e);let Ze,tt;function ze(){return Ze==null&&(Ze=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),Ze}function Ae(){if(tt==null&&(tt=!1,ze())){const t=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(t){for(let l=0;l<5*5;l++){const g=4*l;t.fillStyle=`rgb(${g},${g+1},${g+2})`,t.fillRect(l%5,Math.floor(l/5),1,1)}const r=t.getImageData(0,0,5,5).data;for(let l=0;l<5*5*4;l++)if(l%4!=3&&r[l]!==l){tt=!0;break}}}return tt||!1}var Ge=1e-6,$e=typeof Float32Array<"u"?Float32Array:Array;function ot(){var i=new $e(9);return $e!=Float32Array&&(i[1]=0,i[2]=0,i[3]=0,i[5]=0,i[6]=0,i[7]=0),i[0]=1,i[4]=1,i[8]=1,i}function Pt(i){return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function Yt(){var i=new $e(3);return $e!=Float32Array&&(i[0]=0,i[1]=0,i[2]=0),i}function ge(i){return Math.hypot(i[0],i[1],i[2])}function bt(i,t,r){var l=new $e(3);return l[0]=i,l[1]=t,l[2]=r,l}Math.hypot||(Math.hypot=function(){for(var i=0,t=arguments.length;t--;)i+=arguments[t]*arguments[t];return Math.sqrt(i)});var St,Bt=ge;function Wt(i,t,r){var l=t[0],g=t[1],v=t[2],b=t[3];return i[0]=r[0]*l+r[4]*g+r[8]*v+r[12]*b,i[1]=r[1]*l+r[5]*g+r[9]*v+r[13]*b,i[2]=r[2]*l+r[6]*g+r[10]*v+r[14]*b,i[3]=r[3]*l+r[7]*g+r[11]*v+r[15]*b,i}function Ft(){var i=new $e(4);return $e!=Float32Array&&(i[0]=0,i[1]=0,i[2]=0),i[3]=1,i}function Nt(){var i=new $e(2);return $e!=Float32Array&&(i[0]=0,i[1]=0),i}function cn(i,t){var r=new $e(2);return r[0]=i,r[1]=t,r}Yt(),St=new $e(4),$e!=Float32Array&&(St[0]=0,St[1]=0,St[2]=0,St[3]=0),Yt(),bt(1,0,0),bt(0,1,0),Ft(),Ft(),ot(),Nt();const yt=8192;function mt(i,t,r){return t*(yt/(i.tileSize*Math.pow(2,r-i.tileID.overscaledZ)))}function jt(i,t){return(i%t+t)%t}function qe(i,t,r){return i*(1-r)+t*r}function Tt(i){if(i<=0)return 0;if(i>=1)return 1;const t=i*i,r=t*i;return 4*(i<.5?r:3*(i-t)+r-.75)}function mn(i,t,r,l){const g=new Pe(i,t,r,l);return v=>g.solve(v)}const hn=mn(.25,.1,.25,1);function kt(i,t,r){return Math.min(r,Math.max(t,i))}function gn(i,t,r){const l=r-t,g=((i-t)%l+l)%l+t;return g===t?r:g}function wn(i,...t){for(const r of t)for(const l in r)i[l]=r[l];return i}let Fn=1;function Rn(i,t,r){const l={};for(const g in i)l[g]=t.call(this,i[g],g,i);return l}function An(i,t,r){const l={};for(const g in i)t.call(this,i[g],g,i)&&(l[g]=i[g]);return l}function Nn(i){return Array.isArray(i)?i.map(Nn):typeof i=="object"&&i?Rn(i,Nn):i}const Kn={};function Hn(i){Kn[i]||(typeof console<"u"&&console.warn(i),Kn[i]=!0)}function yn(i,t,r){return(r.y-i.y)*(t.x-i.x)>(t.y-i.y)*(r.x-i.x)}function yr(i){return typeof WorkerGlobalScope<"u"&&i!==void 0&&i instanceof WorkerGlobalScope}let gi=null;function Ir(i){return typeof ImageBitmap<"u"&&i instanceof ImageBitmap}const Yr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Li(i,t,r,l,g){return s(this,void 0,void 0,function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const v=new VideoFrame(i,{timestamp:0});try{const b=v==null?void 0:v.format;if(!b||!b.startsWith("BGR")&&!b.startsWith("RGB"))throw new Error(`Unrecognized format ${b}`);const A=b.startsWith("BGR"),P=new Uint8ClampedArray(l*g*4);if(yield v.copyTo(P,function(R,G,N,H,Y){const ee=4*Math.max(1,0),se=(Math.max(0,N)-N)*H*4+ee,xe=4*H,Ie=Math.max(0,G),Ke=Math.max(0,N);return{rect:{x:Ie,y:Ke,width:Math.min(R.width,G+H)-Ie,height:Math.min(R.height,N+Y)-Ke},layout:[{offset:se,stride:xe}]}}(i,t,r,l,g)),A)for(let R=0;R<P.length;R+=4){const G=P[R];P[R]=P[R+2],P[R+2]=G}return P}finally{v.close()}})}let vr,ur;function Cn(i,t,r,l){return i.addEventListener(t,r,l),{unsubscribe:()=>{i.removeEventListener(t,r,l)}}}function Or(i){return i*Math.PI/180}function ni(i){return i/Math.PI*180}const Wi={touchstart:!0,touchmove:!0,touchmoveWindow:!0,touchend:!0,touchcancel:!0},Ga={dblclick:!0,click:!0,mouseover:!0,mouseout:!0,mousedown:!0,mousemove:!0,mousemoveWindow:!0,mouseup:!0,mouseupWindow:!0,contextmenu:!0,wheel:!0},Hi="AbortError";function Qr(){return new Error(Hi)}const Bi={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function wi(i){return Bi.REGISTERED_PROTOCOLS[i.substring(0,i.indexOf("://"))]}const xr="global-dispatcher";class Ci extends Error{constructor(t,r,l,g){super(`AJAXError: ${r} (${t}): ${l}`),this.status=t,this.statusText=r,this.url=l,this.body=g}}const ri=()=>yr(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,_a=function(i,t){if(/:\/\//.test(i.url)&&!/^https?:|^file:/.test(i.url)){const l=wi(i.url);if(l)return l(i,t);if(yr(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:i,targetMapId:xr},t)}if(!(/^file:/.test(r=i.url)||/^file:/.test(ri())&&!/^\w+:/.test(r))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return function(l,g){return s(this,void 0,void 0,function*(){const v=new Request(l.url,{method:l.method||"GET",body:l.body,credentials:l.credentials,headers:l.headers,cache:l.cache,referrer:ri(),signal:g.signal});let b,A;l.type!=="json"||v.headers.has("Accept")||v.headers.set("Accept","application/json");try{b=yield fetch(v)}catch(R){throw new Ci(0,R.message,l.url,new Blob)}if(!b.ok){const R=yield b.blob();throw new Ci(b.status,b.statusText,l.url,R)}A=l.type==="arrayBuffer"||l.type==="image"?b.arrayBuffer():l.type==="json"?b.json():b.text();const P=yield A;if(g.signal.aborted)throw Qr();return{data:P,cacheControl:b.headers.get("Cache-Control"),expires:b.headers.get("Expires")}})}(i,t);if(yr(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:i,mustQueue:!0,targetMapId:xr},t)}var r;return function(l,g){return new Promise((v,b)=>{var A;const P=new XMLHttpRequest;P.open(l.method||"GET",l.url,!0),l.type!=="arrayBuffer"&&l.type!=="image"||(P.responseType="arraybuffer");for(const R in l.headers)P.setRequestHeader(R,l.headers[R]);l.type==="json"&&(P.responseType="text",!((A=l.headers)===null||A===void 0)&&A.Accept||P.setRequestHeader("Accept","application/json")),P.withCredentials=l.credentials==="include",P.onerror=()=>{b(new Error(P.statusText))},P.onload=()=>{if(!g.signal.aborted)if((P.status>=200&&P.status<300||P.status===0)&&P.response!==null){let R=P.response;if(l.type==="json")try{R=JSON.parse(P.response)}catch(G){return void b(G)}v({data:R,cacheControl:P.getResponseHeader("Cache-Control"),expires:P.getResponseHeader("Expires")})}else{const R=new Blob([P.response],{type:P.getResponseHeader("Content-Type")});b(new Ci(P.status,P.statusText,l.url,R))}},g.signal.addEventListener("abort",()=>{P.abort(),b(Qr())}),P.send(l.body)})}(i,t)};function Fe(i){if(!i||i.indexOf("://")<=0||i.indexOf("data:image/")===0||i.indexOf("blob:")===0)return!0;const t=new URL(i),r=window.location;return t.protocol===r.protocol&&t.host===r.host}function ne(i,t,r){r[i]&&r[i].indexOf(t)!==-1||(r[i]=r[i]||[],r[i].push(t))}function oe(i,t,r){if(r&&r[i]){const l=r[i].indexOf(t);l!==-1&&r[i].splice(l,1)}}class ve{constructor(t,r={}){wn(this,r),this.type=t}}class Me extends ve{constructor(t,r={}){super("error",wn({error:t},r))}}class We{on(t,r){return this._listeners=this._listeners||{},ne(t,r,this._listeners),{unsubscribe:()=>{this.off(t,r)}}}off(t,r){return oe(t,r,this._listeners),oe(t,r,this._oneTimeListeners),this}once(t,r){return r?(this._oneTimeListeners=this._oneTimeListeners||{},ne(t,r,this._oneTimeListeners),this):new Promise(l=>this.once(t,l))}fire(t,r){typeof t=="string"&&(t=new ve(t,r||{}));const l=t.type;if(this.listens(l)){t.target=this;const g=this._listeners&&this._listeners[l]?this._listeners[l].slice():[];for(const A of g)A.call(this,t);const v=this._oneTimeListeners&&this._oneTimeListeners[l]?this._oneTimeListeners[l].slice():[];for(const A of v)oe(l,A,this._oneTimeListeners),A.call(this,t);const b=this._eventedParent;b&&(wn(t,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),b.fire(t))}else t instanceof Me&&console.error(t.error);return this}listens(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)}setEventedParent(t,r){return this._eventedParent=t,this._eventedParentData=r,this}}var me={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},centerAltitude:{type:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},roll:{type:"number",default:0,units:"degrees"},state:{type:"state",default:{}},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"projectionDefinition",default:"mercator","property-type":"data-constant",transition:!1,expression:{interpolated:!0,parameters:["zoom"]}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"numberArray",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-altitude":{type:"numberArray",default:45,minimum:0,maximum:90,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"colorArray",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"colorArray",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-method":{type:"enum",values:{standard:{},basic:{},combined:{},igor:{},multidirectional:{}},default:"standard",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const Je=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Ye(i,t){const r={};for(const l in i)l!=="ref"&&(r[l]=i[l]);return Je.forEach(l=>{l in t&&(r[l]=t[l])}),r}function at(i,t){if(Array.isArray(i)){if(!Array.isArray(t)||i.length!==t.length)return!1;for(let r=0;r<i.length;r++)if(!at(i[r],t[r]))return!1;return!0}if(typeof i=="object"&&i!==null&&t!==null){if(typeof t!="object"||Object.keys(i).length!==Object.keys(t).length)return!1;for(const r in i)if(!at(i[r],t[r]))return!1;return!0}return i===t}function pt(i,t){i.push(t)}function nt(i,t,r){pt(r,{command:"addSource",args:[i,t[i]]})}function Rt(i,t,r){pt(t,{command:"removeSource",args:[i]}),r[i]=!0}function Jt(i,t,r,l){Rt(i,r,l),nt(i,t,r)}function pn(i,t,r){let l;for(l in i[r])if(Object.prototype.hasOwnProperty.call(i[r],l)&&l!=="data"&&!at(i[r][l],t[r][l]))return!1;for(l in t[r])if(Object.prototype.hasOwnProperty.call(t[r],l)&&l!=="data"&&!at(i[r][l],t[r][l]))return!1;return!0}function Tn(i,t,r,l,g,v){i=i||{},t=t||{};for(const b in i)Object.prototype.hasOwnProperty.call(i,b)&&(at(i[b],t[b])||r.push({command:v,args:[l,b,t[b],g]}));for(const b in t)Object.prototype.hasOwnProperty.call(t,b)&&!Object.prototype.hasOwnProperty.call(i,b)&&(at(i[b],t[b])||r.push({command:v,args:[l,b,t[b],g]}))}function Xn(i){return i.id}function On(i,t){return i[t.id]=t,i}class Ct{constructor(t,r,l,g){this.message=(t?`${t}: `:"")+l,g&&(this.identifier=g),r!=null&&r.__line__&&(this.line=r.__line__)}}function br(i,...t){for(const r of t)for(const l in r)i[l]=r[l];return i}class fr extends Error{constructor(t,r){super(r),this.message=r,this.key=t}}class wr{constructor(t,r=[]){this.parent=t,this.bindings={};for(const[l,g]of r)this.bindings[l]=g}concat(t){return new wr(this,t)}get(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(`${t} not found in scope.`)}has(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)}}const Ln={kind:"null"},zt={kind:"number"},Gn={kind:"string"},nr={kind:"boolean"},jr={kind:"color"},Vr={kind:"projectionDefinition"},Sa={kind:"object"},or={kind:"value"},ns={kind:"collator"},rs={kind:"formatted"},Eo={kind:"padding"},ol={kind:"colorArray"},qa={kind:"numberArray"},Fs={kind:"resolvedImage"},sr={kind:"variableAnchorOffsetCollection"};function si(i,t){return{kind:"array",itemType:i,N:t}}function Wr(i){if(i.kind==="array"){const t=Wr(i.itemType);return typeof i.N=="number"?`array<${t}, ${i.N}>`:i.itemType.kind==="value"?"array":`array<${t}>`}return i.kind}const Ns=[Ln,zt,Gn,nr,jr,Vr,rs,Sa,si(or),Eo,qa,ol,Fs,sr];function lo(i,t){if(t.kind==="error")return null;if(i.kind==="array"){if(t.kind==="array"&&(t.N===0&&t.itemType.kind==="value"||!lo(i.itemType,t.itemType))&&(typeof i.N!="number"||i.N===t.N))return null}else{if(i.kind===t.kind)return null;if(i.kind==="value"){for(const r of Ns)if(!lo(r,t))return null}}return`Expected ${Wr(i)} but found ${Wr(t)} instead.`}function n0(i,t){return t.some(r=>r.kind===i.kind)}function La(i,t){return t.some(r=>r==="null"?i===null:r==="array"?Array.isArray(i):r==="object"?i&&!Array.isArray(i)&&typeof i=="object":r===typeof i)}function na(i,t){return i.kind==="array"&&t.kind==="array"?i.itemType.kind===t.itemType.kind&&typeof i.N=="number":i.kind===t.kind}const uo=.96422,sl=.82521,va=4/29,bs=6/29,r0=3*bs*bs,b0=bs*bs*bs,ws=Math.PI/180,i0=180/Math.PI;function $s(i){return(i%=360)<0&&(i+=360),i}function ko([i,t,r,l]){let g,v;const b=J((.2225045*(i=B(i))+.7168786*(t=B(t))+.0606169*(r=B(r)))/1);i===t&&t===r?g=v=b:(g=J((.4360747*i+.3850649*t+.1430804*r)/uo),v=J((.0139322*i+.0971045*t+.7141733*r)/sl));const A=116*b-16;return[A<0?0:A,500*(g-b),200*(b-v),l]}function B(i){return i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4)}function J(i){return i>b0?Math.pow(i,1/3):i/r0+va}function fe([i,t,r,l]){let g=(i+16)/116,v=isNaN(t)?g:g+t/500,b=isNaN(r)?g:g-r/200;return g=1*gt(g),v=uo*gt(v),b=sl*gt(b),[Te(3.1338561*v-1.6168667*g-.4906146*b),Te(-.9787684*v+1.9161415*g+.033454*b),Te(.0719453*v-.2289914*g+1.4052427*b),l]}function Te(i){return(i=i<=.00304?12.92*i:1.055*Math.pow(i,1/2.4)-.055)<0?0:i>1?1:i}function gt(i){return i>bs?i*i*i:r0*(i-va)}const ct=Object.hasOwn||function(i,t){return Object.prototype.hasOwnProperty.call(i,t)};function Ut(i,t){return ct(i,t)?i[t]:void 0}function sn(i){return parseInt(i.padEnd(2,i),16)/255}function _n(i,t){return Mn(t?i/100:i,0,1)}function Mn(i,t,r){return Math.min(Math.max(t,i),r)}function xn(i){return!i.some(Number.isNaN)}const Fr={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};function mi(i,t,r){return i+r*(t-i)}function ra(i,t,r){return i.map((l,g)=>mi(l,t[g],r))}class er{constructor(t,r,l,g=1,v=!0){this.r=t,this.g=r,this.b=l,this.a=g,v||(this.r*=g,this.g*=g,this.b*=g,g||this.overwriteGetter("rgb",[t,r,l,g]))}static parse(t){if(t instanceof er)return t;if(typeof t!="string")return;const r=function(l){if((l=l.toLowerCase().trim())==="transparent")return[0,0,0,0];const g=Ut(Fr,l);if(g){const[b,A,P]=g;return[b/255,A/255,P/255,1]}if(l.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(l)){const b=l.length<6?1:2;let A=1;return[sn(l.slice(A,A+=b)),sn(l.slice(A,A+=b)),sn(l.slice(A,A+=b)),sn(l.slice(A,A+b)||"ff")]}if(l.startsWith("rgb")){const b=l.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(b){const[A,P,R,G,N,H,Y,ee,se,xe,Ie,Ke]=b,Ue=[G||" ",Y||" ",xe].join("");if(Ue==="  "||Ue==="  /"||Ue===",,"||Ue===",,,"){const K=[R,H,se].join(""),ye=K==="%%%"?100:K===""?255:0;if(ye){const Oe=[Mn(+P/ye,0,1),Mn(+N/ye,0,1),Mn(+ee/ye,0,1),Ie?_n(+Ie,Ke):1];if(xn(Oe))return Oe}}return}}const v=l.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(v){const[b,A,P,R,G,N,H,Y,ee]=v,se=[P||" ",G||" ",H].join("");if(se==="  "||se==="  /"||se===",,"||se===",,,"){const xe=[+A,Mn(+R,0,100),Mn(+N,0,100),Y?_n(+Y,ee):1];if(xn(xe))return function([Ie,Ke,Ue,K]){function ye(Oe){const ft=(Oe+Ie/30)%12,Zt=Ke*Math.min(Ue,1-Ue);return Ue-Zt*Math.max(-1,Math.min(ft-3,9-ft,1))}return Ie=$s(Ie),Ke/=100,Ue/=100,[ye(0),ye(8),ye(4),K]}(xe)}}}(t);return r?new er(...r,!1):void 0}get rgb(){const{r:t,g:r,b:l,a:g}=this,v=g||1/0;return this.overwriteGetter("rgb",[t/v,r/v,l/v,g])}get hcl(){return this.overwriteGetter("hcl",function(t){const[r,l,g,v]=ko(t),b=Math.sqrt(l*l+g*g);return[Math.round(1e4*b)?$s(Math.atan2(g,l)*i0):NaN,b,r,v]}(this.rgb))}get lab(){return this.overwriteGetter("lab",ko(this.rgb))}overwriteGetter(t,r){return Object.defineProperty(this,t,{value:r}),r}toString(){const[t,r,l,g]=this.rgb;return`rgba(${[t,r,l].map(v=>Math.round(255*v)).join(",")},${g})`}static interpolate(t,r,l,g="rgb"){switch(g){case"rgb":{const[v,b,A,P]=ra(t.rgb,r.rgb,l);return new er(v,b,A,P,!1)}case"hcl":{const[v,b,A,P]=t.hcl,[R,G,N,H]=r.hcl;let Y,ee;if(isNaN(v)||isNaN(R))isNaN(v)?isNaN(R)?Y=NaN:(Y=R,A!==1&&A!==0||(ee=G)):(Y=v,N!==1&&N!==0||(ee=b));else{let Ue=R-v;R>v&&Ue>180?Ue-=360:R<v&&v-R>180&&(Ue+=360),Y=v+l*Ue}const[se,xe,Ie,Ke]=function([Ue,K,ye,Oe]){return Ue=isNaN(Ue)?0:Ue*ws,fe([ye,Math.cos(Ue)*K,Math.sin(Ue)*K,Oe])}([Y,ee??mi(b,G,l),mi(A,N,l),mi(P,H,l)]);return new er(se,xe,Ie,Ke,!1)}case"lab":{const[v,b,A,P]=fe(ra(t.lab,r.lab,l));return new er(v,b,A,P,!1)}}}}er.black=new er(0,0,0,1),er.white=new er(1,1,1,1),er.transparent=new er(0,0,0,0),er.red=new er(1,0,0,1);class co{constructor(t,r,l){this.sensitivity=t?r?"variant":"case":r?"accent":"base",this.locale=l,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(t,r){return this.collator.compare(t,r)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}const Ta=["bottom","center","top"];class Ma{constructor(t,r,l,g,v,b){this.text=t,this.image=r,this.scale=l,this.fontStack=g,this.textColor=v,this.verticalAlign=b}}class li{constructor(t){this.sections=t}static fromString(t){return new li([new Ma(t,null,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(t=>t.text.length!==0||t.image&&t.image.name.length!==0)}static factory(t){return t instanceof li?t:li.fromString(t)}toString(){return this.sections.length===0?"":this.sections.map(t=>t.text).join("")}}class ui{constructor(t){this.values=t.slice()}static parse(t){if(t instanceof ui)return t;if(typeof t=="number")return new ui([t,t,t,t]);if(Array.isArray(t)&&!(t.length<1||t.length>4)){for(const r of t)if(typeof r!="number")return;switch(t.length){case 1:t=[t[0],t[0],t[0],t[0]];break;case 2:t=[t[0],t[1],t[0],t[1]];break;case 3:t=[t[0],t[1],t[2],t[1]]}return new ui(t)}}toString(){return JSON.stringify(this.values)}static interpolate(t,r,l){return new ui(ra(t.values,r.values,l))}}class zr{constructor(t){this.values=t.slice()}static parse(t){if(t instanceof zr)return t;if(typeof t=="number")return new zr([t]);if(Array.isArray(t)){for(const r of t)if(typeof r!="number")return;return new zr(t)}}toString(){return JSON.stringify(this.values)}static interpolate(t,r,l){return new zr(ra(t.values,r.values,l))}}class Ai{constructor(t){this.values=t.slice()}static parse(t){if(t instanceof Ai)return t;if(typeof t=="string"){const l=er.parse(t);return l?new Ai([l]):void 0}if(!Array.isArray(t))return;const r=[];for(const l of t){if(typeof l!="string")return;const g=er.parse(l);if(!g)return;r.push(g)}return new Ai(r)}toString(){return JSON.stringify(this.values)}static interpolate(t,r,l,g="rgb"){const v=[];if(t.values.length!=r.values.length)throw new Error(`colorArray: Arrays have mismatched length (${t.values.length} vs. ${r.values.length}), cannot interpolate.`);for(let b=0;b<t.values.length;b++)v.push(er.interpolate(t.values[b],r.values[b],l,g));return new Ai(v)}}class Gr extends Error{constructor(t){super(t),this.name="RuntimeError"}toJSON(){return this.message}}const w0=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class Ba{constructor(t){this.values=t.slice()}static parse(t){if(t instanceof Ba)return t;if(Array.isArray(t)&&!(t.length<1)&&t.length%2==0){for(let r=0;r<t.length;r+=2){const l=t[r],g=t[r+1];if(typeof l!="string"||!w0.has(l)||!Array.isArray(g)||g.length!==2||typeof g[0]!="number"||typeof g[1]!="number")return}return new Ba(t)}}toString(){return JSON.stringify(this.values)}static interpolate(t,r,l){const g=t.values,v=r.values;if(g.length!==v.length)throw new Gr(`Cannot interpolate values of different length. from: ${t.toString()}, to: ${r.toString()}`);const b=[];for(let A=0;A<g.length;A+=2){if(g[A]!==v[A])throw new Gr(`Cannot interpolate values containing mismatched anchors. from[${A}]: ${g[A]}, to[${A}]: ${v[A]}`);b.push(g[A]);const[P,R]=g[A+1],[G,N]=v[A+1];b.push([mi(P,G,l),mi(R,N,l)])}return new Ba(b)}}class ia{constructor(t){this.name=t.name,this.available=t.available}toString(){return this.name}static fromString(t){return t?new ia({name:t,available:!1}):null}}class ho{constructor(t,r,l){this.from=t,this.to=r,this.transition=l}static interpolate(t,r,l){return new ho(t,r,l)}static parse(t){return t instanceof ho?t:Array.isArray(t)&&t.length===3&&typeof t[0]=="string"&&typeof t[1]=="string"&&typeof t[2]=="number"?new ho(t[0],t[1],t[2]):typeof t=="object"&&typeof t.from=="string"&&typeof t.to=="string"&&typeof t.transition=="number"?new ho(t.from,t.to,t.transition):typeof t=="string"?new ho(t,t,1):void 0}}function po(i,t,r,l){return typeof i=="number"&&i>=0&&i<=255&&typeof t=="number"&&t>=0&&t<=255&&typeof r=="number"&&r>=0&&r<=255?l===void 0||typeof l=="number"&&l>=0&&l<=1?null:`Invalid rgba value [${[i,t,r,l].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof l=="number"?[i,t,r,l]:[i,t,r]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Ur(i){if(i===null||typeof i=="string"||typeof i=="boolean"||typeof i=="number"||i instanceof ho||i instanceof er||i instanceof co||i instanceof li||i instanceof ui||i instanceof zr||i instanceof Ai||i instanceof Ba||i instanceof ia)return!0;if(Array.isArray(i)){for(const t of i)if(!Ur(t))return!1;return!0}if(typeof i=="object"){for(const t in i)if(!Ur(i[t]))return!1;return!0}return!1}function ci(i){if(i===null)return Ln;if(typeof i=="string")return Gn;if(typeof i=="boolean")return nr;if(typeof i=="number")return zt;if(i instanceof er)return jr;if(i instanceof ho)return Vr;if(i instanceof co)return ns;if(i instanceof li)return rs;if(i instanceof ui)return Eo;if(i instanceof zr)return qa;if(i instanceof Ai)return ol;if(i instanceof Ba)return sr;if(i instanceof ia)return Fs;if(Array.isArray(i)){const t=i.length;let r;for(const l of i){const g=ci(l);if(r){if(r===g)continue;r=or;break}r=g}return si(r||or,t)}return Sa}function Un(i){const t=typeof i;return i===null?"":t==="string"||t==="number"||t==="boolean"?String(i):i instanceof er||i instanceof ho||i instanceof li||i instanceof ui||i instanceof zr||i instanceof Ai||i instanceof Ba||i instanceof ia?i.toString():JSON.stringify(i)}class vn{constructor(t,r){this.type=t,this.value=r}static parse(t,r){if(t.length!==2)return r.error(`'literal' expression requires exactly one argument, but found ${t.length-1} instead.`);if(!Ur(t[1]))return r.error("invalid value");const l=t[1];let g=ci(l);const v=r.expectedType;return g.kind!=="array"||g.N!==0||!v||v.kind!=="array"||typeof v.N=="number"&&v.N!==0||(g=v),new vn(g,l)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}const Ar={string:Gn,number:zt,boolean:nr,object:Sa};class Yn{constructor(t,r){this.type=t,this.args=r}static parse(t,r){if(t.length<2)return r.error("Expected at least one argument.");let l,g=1;const v=t[0];if(v==="array"){let A,P;if(t.length>2){const R=t[1];if(typeof R!="string"||!(R in Ar)||R==="object")return r.error('The item type argument of "array" must be one of string, number, boolean',1);A=Ar[R],g++}else A=or;if(t.length>3){if(t[2]!==null&&(typeof t[2]!="number"||t[2]<0||t[2]!==Math.floor(t[2])))return r.error('The length argument to "array" must be a positive integer literal',2);P=t[2],g++}l=si(A,P)}else{if(!Ar[v])throw new Error(`Types doesn't contain name = ${v}`);l=Ar[v]}const b=[];for(;g<t.length;g++){const A=r.parse(t[g],g,or);if(!A)return null;b.push(A)}return new Yn(l,b)}evaluate(t){for(let r=0;r<this.args.length;r++){const l=this.args[r].evaluate(t);if(!lo(this.type,ci(l)))return l;if(r===this.args.length-1)throw new Gr(`Expected value to be of type ${Wr(this.type)}, but found ${Wr(ci(l))} instead.`)}throw new Error}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}}const fo={"to-boolean":nr,"to-color":jr,"to-number":zt,"to-string":Gn};class aa{constructor(t,r){this.type=t,this.args=r}static parse(t,r){if(t.length<2)return r.error("Expected at least one argument.");const l=t[0];if(!fo[l])throw new Error(`Can't parse ${l} as it is not part of the known types`);if((l==="to-boolean"||l==="to-string")&&t.length!==2)return r.error("Expected one argument.");const g=fo[l],v=[];for(let b=1;b<t.length;b++){const A=r.parse(t[b],b,or);if(!A)return null;v.push(A)}return new aa(g,v)}evaluate(t){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(t);case"color":{let r,l;for(const g of this.args){if(r=g.evaluate(t),l=null,r instanceof er)return r;if(typeof r=="string"){const v=t.parseColor(r);if(v)return v}else if(Array.isArray(r)&&(l=r.length<3||r.length>4?`Invalid rgba value ${JSON.stringify(r)}: expected an array containing either three or four numeric values.`:po(r[0],r[1],r[2],r[3]),!l))return new er(r[0]/255,r[1]/255,r[2]/255,r[3])}throw new Gr(l||`Could not parse color from value '${typeof r=="string"?r:JSON.stringify(r)}'`)}case"padding":{let r;for(const l of this.args){r=l.evaluate(t);const g=ui.parse(r);if(g)return g}throw new Gr(`Could not parse padding from value '${typeof r=="string"?r:JSON.stringify(r)}'`)}case"numberArray":{let r;for(const l of this.args){r=l.evaluate(t);const g=zr.parse(r);if(g)return g}throw new Gr(`Could not parse numberArray from value '${typeof r=="string"?r:JSON.stringify(r)}'`)}case"colorArray":{let r;for(const l of this.args){r=l.evaluate(t);const g=Ai.parse(r);if(g)return g}throw new Gr(`Could not parse colorArray from value '${typeof r=="string"?r:JSON.stringify(r)}'`)}case"variableAnchorOffsetCollection":{let r;for(const l of this.args){r=l.evaluate(t);const g=Ba.parse(r);if(g)return g}throw new Gr(`Could not parse variableAnchorOffsetCollection from value '${typeof r=="string"?r:JSON.stringify(r)}'`)}case"number":{let r=null;for(const l of this.args){if(r=l.evaluate(t),r===null)return 0;const g=Number(r);if(!isNaN(g))return g}throw new Gr(`Could not convert ${JSON.stringify(r)} to number.`)}case"formatted":return li.fromString(Un(this.args[0].evaluate(t)));case"resolvedImage":return ia.fromString(Un(this.args[0].evaluate(t)));case"projectionDefinition":return this.args[0].evaluate(t);default:return Un(this.args[0].evaluate(t))}}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}}const ll=["Unknown","Point","LineString","Polygon"];class C0{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache=new Map,this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?ll[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(t){let r=this._parseColorCache.get(t);return r||(r=er.parse(t),this._parseColorCache.set(t,r)),r}}class js{constructor(t,r,l=[],g,v=new wr,b=[]){this.registry=t,this.path=l,this.key=l.map(A=>`[${A}]`).join(""),this.scope=v,this.errors=b,this.expectedType=g,this._isConstant=r}parse(t,r,l,g,v={}){return r?this.concat(r,l,g)._parse(t,v):this._parse(t,v)}_parse(t,r){function l(g,v,b){return b==="assert"?new Yn(v,[g]):b==="coerce"?new aa(v,[g]):g}if(t!==null&&typeof t!="string"&&typeof t!="boolean"&&typeof t!="number"||(t=["literal",t]),Array.isArray(t)){if(t.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const g=t[0];if(typeof g!="string")return this.error(`Expression name must be a string, but found ${typeof g} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const v=this.registry[g];if(v){let b=v.parse(t,this);if(!b)return null;if(this.expectedType){const A=this.expectedType,P=b.type;if(A.kind!=="string"&&A.kind!=="number"&&A.kind!=="boolean"&&A.kind!=="object"&&A.kind!=="array"||P.kind!=="value"){if(A.kind==="projectionDefinition"&&["string","array"].includes(P.kind)||["color","formatted","resolvedImage"].includes(A.kind)&&["value","string"].includes(P.kind)||["padding","numberArray"].includes(A.kind)&&["value","number","array"].includes(P.kind)||A.kind==="colorArray"&&["value","string","array"].includes(P.kind)||A.kind==="variableAnchorOffsetCollection"&&["value","array"].includes(P.kind))b=l(b,A,r.typeAnnotation||"coerce");else if(this.checkSubtype(A,P))return null}else b=l(b,A,r.typeAnnotation||"assert")}if(!(b instanceof vn)&&b.type.kind!=="resolvedImage"&&this._isConstant(b)){const A=new C0;try{b=new vn(b.type,b.evaluate(A))}catch(P){return this.error(P.message),null}}return b}return this.error(`Unknown expression "${g}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(t===void 0?"'undefined' value invalid. Use null instead.":typeof t=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof t} instead.`)}concat(t,r,l){const g=typeof t=="number"?this.path.concat(t):this.path,v=l?this.scope.concat(l):this.scope;return new js(this.registry,this._isConstant,g,r||null,v,this.errors)}error(t,...r){const l=`${this.key}${r.map(g=>`[${g}]`).join("")}`;this.errors.push(new fr(l,t))}checkSubtype(t,r){const l=lo(t,r);return l&&this.error(l),l}}class Cs{constructor(t,r){this.type=r.type,this.bindings=[].concat(t),this.result=r}evaluate(t){return this.result.evaluate(t)}eachChild(t){for(const r of this.bindings)t(r[1]);t(this.result)}static parse(t,r){if(t.length<4)return r.error(`Expected at least 3 arguments, but found ${t.length-1} instead.`);const l=[];for(let v=1;v<t.length-1;v+=2){const b=t[v];if(typeof b!="string")return r.error(`Expected string, but found ${typeof b} instead.`,v);if(/[^a-zA-Z0-9_]/.test(b))return r.error("Variable names must contain only alphanumeric characters or '_'.",v);const A=r.parse(t[v+1],v+1);if(!A)return null;l.push([b,A])}const g=r.parse(t[t.length-1],t.length-1,r.expectedType,l);return g?new Cs(l,g):null}outputDefined(){return this.result.outputDefined()}}class a0{constructor(t,r){this.type=r.type,this.name=t,this.boundExpression=r}static parse(t,r){if(t.length!==2||typeof t[1]!="string")return r.error("'var' expression requires exactly one string literal argument.");const l=t[1];return r.scope.has(l)?new a0(l,r.scope.get(l)):r.error(`Unknown variable "${l}". Make sure "${l}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(t){return this.boundExpression.evaluate(t)}eachChild(){}outputDefined(){return!1}}class hi{constructor(t,r,l){this.type=t,this.index=r,this.input=l}static parse(t,r){if(t.length!==3)return r.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const l=r.parse(t[1],1,zt),g=r.parse(t[2],2,si(r.expectedType||or));return l&&g?new hi(g.type.itemType,l,g):null}evaluate(t){const r=this.index.evaluate(t),l=this.input.evaluate(t);if(r<0)throw new Gr(`Array index out of bounds: ${r} < 0.`);if(r>=l.length)throw new Gr(`Array index out of bounds: ${r} > ${l.length-1}.`);if(r!==Math.floor(r))throw new Gr(`Array index must be an integer, but found ${r} instead.`);return l[r]}eachChild(t){t(this.index),t(this.input)}outputDefined(){return!1}}class ul{constructor(t,r){this.type=nr,this.needle=t,this.haystack=r}static parse(t,r){if(t.length!==3)return r.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const l=r.parse(t[1],1,or),g=r.parse(t[2],2,or);return l&&g?n0(l.type,[nr,Gn,zt,Ln,or])?new ul(l,g):r.error(`Expected first argument to be of type boolean, string, number or null, but found ${Wr(l.type)} instead`):null}evaluate(t){const r=this.needle.evaluate(t),l=this.haystack.evaluate(t);if(!l)return!1;if(!La(r,["boolean","string","number","null"]))throw new Gr(`Expected first argument to be of type boolean, string, number or null, but found ${Wr(ci(r))} instead.`);if(!La(l,["string","array"]))throw new Gr(`Expected second argument to be of type array or string, but found ${Wr(ci(l))} instead.`);return l.indexOf(r)>=0}eachChild(t){t(this.needle),t(this.haystack)}outputDefined(){return!0}}class go{constructor(t,r,l){this.type=zt,this.needle=t,this.haystack=r,this.fromIndex=l}static parse(t,r){if(t.length<=2||t.length>=5)return r.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const l=r.parse(t[1],1,or),g=r.parse(t[2],2,or);if(!l||!g)return null;if(!n0(l.type,[nr,Gn,zt,Ln,or]))return r.error(`Expected first argument to be of type boolean, string, number or null, but found ${Wr(l.type)} instead`);if(t.length===4){const v=r.parse(t[3],3,zt);return v?new go(l,g,v):null}return new go(l,g)}evaluate(t){const r=this.needle.evaluate(t),l=this.haystack.evaluate(t);if(!La(r,["boolean","string","number","null"]))throw new Gr(`Expected first argument to be of type boolean, string, number or null, but found ${Wr(ci(r))} instead.`);let g;if(this.fromIndex&&(g=this.fromIndex.evaluate(t)),La(l,["string"])){const v=l.indexOf(r,g);return v===-1?-1:[...l.slice(0,v)].length}if(La(l,["array"]))return l.indexOf(r,g);throw new Gr(`Expected second argument to be of type array or string, but found ${Wr(ci(l))} instead.`)}eachChild(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex)}outputDefined(){return!1}}class cl{constructor(t,r,l,g,v,b){this.inputType=t,this.type=r,this.input=l,this.cases=g,this.outputs=v,this.otherwise=b}static parse(t,r){if(t.length<5)return r.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if(t.length%2!=1)return r.error("Expected an even number of arguments.");let l,g;r.expectedType&&r.expectedType.kind!=="value"&&(g=r.expectedType);const v={},b=[];for(let R=2;R<t.length-1;R+=2){let G=t[R];const N=t[R+1];Array.isArray(G)||(G=[G]);const H=r.concat(R);if(G.length===0)return H.error("Expected at least one branch label.");for(const ee of G){if(typeof ee!="number"&&typeof ee!="string")return H.error("Branch labels must be numbers or strings.");if(typeof ee=="number"&&Math.abs(ee)>Number.MAX_SAFE_INTEGER)return H.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof ee=="number"&&Math.floor(ee)!==ee)return H.error("Numeric branch labels must be integer values.");if(l){if(H.checkSubtype(l,ci(ee)))return null}else l=ci(ee);if(v[String(ee)]!==void 0)return H.error("Branch labels must be unique.");v[String(ee)]=b.length}const Y=r.parse(N,R,g);if(!Y)return null;g=g||Y.type,b.push(Y)}const A=r.parse(t[1],1,or);if(!A)return null;const P=r.parse(t[t.length-1],t.length-1,g);return P?A.type.kind!=="value"&&r.concat(1).checkSubtype(l,A.type)?null:new cl(l,g,A,v,b,P):null}evaluate(t){const r=this.input.evaluate(t);return(ci(r)===this.inputType&&this.outputs[this.cases[r]]||this.otherwise).evaluate(t)}eachChild(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)}outputDefined(){return this.outputs.every(t=>t.outputDefined())&&this.otherwise.outputDefined()}}class yi{constructor(t,r,l){this.type=t,this.branches=r,this.otherwise=l}static parse(t,r){if(t.length<4)return r.error(`Expected at least 3 arguments, but found only ${t.length-1}.`);if(t.length%2!=0)return r.error("Expected an odd number of arguments.");let l;r.expectedType&&r.expectedType.kind!=="value"&&(l=r.expectedType);const g=[];for(let b=1;b<t.length-1;b+=2){const A=r.parse(t[b],b,nr);if(!A)return null;const P=r.parse(t[b+1],b+1,l);if(!P)return null;g.push([A,P]),l=l||P.type}const v=r.parse(t[t.length-1],t.length-1,l);if(!v)return null;if(!l)throw new Error("Can't infer output type");return new yi(l,g,v)}evaluate(t){for(const[r,l]of this.branches)if(r.evaluate(t))return l.evaluate(t);return this.otherwise.evaluate(t)}eachChild(t){for(const[r,l]of this.branches)t(r),t(l);t(this.otherwise)}outputDefined(){return this.branches.every(([t,r])=>r.outputDefined())&&this.otherwise.outputDefined()}}class Oi{constructor(t,r,l,g){this.type=t,this.input=r,this.beginIndex=l,this.endIndex=g}static parse(t,r){if(t.length<=2||t.length>=5)return r.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const l=r.parse(t[1],1,or),g=r.parse(t[2],2,zt);if(!l||!g)return null;if(!n0(l.type,[si(or),Gn,or]))return r.error(`Expected first argument to be of type array or string, but found ${Wr(l.type)} instead`);if(t.length===4){const v=r.parse(t[3],3,zt);return v?new Oi(l.type,l,g,v):null}return new Oi(l.type,l,g)}evaluate(t){const r=this.input.evaluate(t),l=this.beginIndex.evaluate(t);let g;if(this.endIndex&&(g=this.endIndex.evaluate(t)),La(r,["string"]))return[...r].slice(l,g).join("");if(La(r,["array"]))return r.slice(l,g);throw new Gr(`Expected first argument to be of type array or string, but found ${Wr(ci(r))} instead.`)}eachChild(t){t(this.input),t(this.beginIndex),this.endIndex&&t(this.endIndex)}outputDefined(){return!1}}function Vs(i,t){const r=i.length-1;let l,g,v=0,b=r,A=0;for(;v<=b;)if(A=Math.floor((v+b)/2),l=i[A],g=i[A+1],l<=t){if(A===r||t<g)return A;v=A+1}else{if(!(l>t))throw new Gr("Input is not a number.");b=A-1}return 0}class Ei{constructor(t,r,l){this.type=t,this.input=r,this.labels=[],this.outputs=[];for(const[g,v]of l)this.labels.push(g),this.outputs.push(v)}static parse(t,r){if(t.length-1<4)return r.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return r.error("Expected an even number of arguments.");const l=r.parse(t[1],1,zt);if(!l)return null;const g=[];let v=null;r.expectedType&&r.expectedType.kind!=="value"&&(v=r.expectedType);for(let b=1;b<t.length;b+=2){const A=b===1?-1/0:t[b],P=t[b+1],R=b,G=b+1;if(typeof A!="number")return r.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',R);if(g.length&&g[g.length-1][0]>=A)return r.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',R);const N=r.parse(P,G,v);if(!N)return null;v=v||N.type,g.push([A,N])}return new Ei(v,l,g)}evaluate(t){const r=this.labels,l=this.outputs;if(r.length===1)return l[0].evaluate(t);const g=this.input.evaluate(t);if(g<=r[0])return l[0].evaluate(t);const v=r.length;return g>=r[v-1]?l[v-1].evaluate(t):l[Vs(r,g)].evaluate(t)}eachChild(t){t(this.input);for(const r of this.outputs)t(r)}outputDefined(){return this.outputs.every(t=>t.outputDefined())}}function Si(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Ds,hl,Y0=function(){if(hl)return Ds;function i(t,r,l,g){this.cx=3*t,this.bx=3*(l-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*r,this.by=3*(g-r)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=r,this.p2x=l,this.p2y=g}return hl=1,Ds=i,i.prototype={sampleCurveX:function(t){return((this.ax*t+this.bx)*t+this.cx)*t},sampleCurveY:function(t){return((this.ay*t+this.by)*t+this.cy)*t},sampleCurveDerivativeX:function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},solveCurveX:function(t,r){if(r===void 0&&(r=1e-6),t<0)return 0;if(t>1)return 1;for(var l=t,g=0;g<8;g++){var v=this.sampleCurveX(l)-t;if(Math.abs(v)<r)return l;var b=this.sampleCurveDerivativeX(l);if(Math.abs(b)<1e-6)break;l-=v/b}var A=0,P=1;for(l=t,g=0;g<20&&(v=this.sampleCurveX(l),!(Math.abs(v-t)<r));g++)t>v?A=l:P=l,l=.5*(P-A)+A;return l},solve:function(t,r){return this.sampleCurveY(this.solveCurveX(t,r))}},Ds}(),xa=Si(Y0);class Fi{constructor(t,r,l,g,v){this.type=t,this.operator=r,this.interpolation=l,this.input=g,this.labels=[],this.outputs=[];for(const[b,A]of v)this.labels.push(b),this.outputs.push(A)}static interpolationFactor(t,r,l,g){let v=0;if(t.name==="exponential")v=ki(r,t.base,l,g);else if(t.name==="linear")v=ki(r,1,l,g);else if(t.name==="cubic-bezier"){const b=t.controlPoints;v=new xa(b[0],b[1],b[2],b[3]).solve(ki(r,1,l,g))}return v}static parse(t,r){let[l,g,v,...b]=t;if(!Array.isArray(g)||g.length===0)return r.error("Expected an interpolation type expression.",1);if(g[0]==="linear")g={name:"linear"};else if(g[0]==="exponential"){const R=g[1];if(typeof R!="number")return r.error("Exponential interpolation requires a numeric base.",1,1);g={name:"exponential",base:R}}else{if(g[0]!=="cubic-bezier")return r.error(`Unknown interpolation type ${String(g[0])}`,1,0);{const R=g.slice(1);if(R.length!==4||R.some(G=>typeof G!="number"||G<0||G>1))return r.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);g={name:"cubic-bezier",controlPoints:R}}}if(t.length-1<4)return r.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return r.error("Expected an even number of arguments.");if(v=r.parse(v,2,zt),!v)return null;const A=[];let P=null;l!=="interpolate-hcl"&&l!=="interpolate-lab"||r.expectedType==ol?r.expectedType&&r.expectedType.kind!=="value"&&(P=r.expectedType):P=jr;for(let R=0;R<b.length;R+=2){const G=b[R],N=b[R+1],H=R+3,Y=R+4;if(typeof G!="number")return r.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',H);if(A.length&&A[A.length-1][0]>=G)return r.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',H);const ee=r.parse(N,Y,P);if(!ee)return null;P=P||ee.type,A.push([G,ee])}return na(P,zt)||na(P,Vr)||na(P,jr)||na(P,Eo)||na(P,qa)||na(P,ol)||na(P,sr)||na(P,si(zt))?new Fi(P,l,g,v,A):r.error(`Type ${Wr(P)} is not interpolatable.`)}evaluate(t){const r=this.labels,l=this.outputs;if(r.length===1)return l[0].evaluate(t);const g=this.input.evaluate(t);if(g<=r[0])return l[0].evaluate(t);const v=r.length;if(g>=r[v-1])return l[v-1].evaluate(t);const b=Vs(r,g),A=Fi.interpolationFactor(this.interpolation,g,r[b],r[b+1]),P=l[b].evaluate(t),R=l[b+1].evaluate(t);switch(this.operator){case"interpolate":switch(this.type.kind){case"number":return mi(P,R,A);case"color":return er.interpolate(P,R,A);case"padding":return ui.interpolate(P,R,A);case"colorArray":return Ai.interpolate(P,R,A);case"numberArray":return zr.interpolate(P,R,A);case"variableAnchorOffsetCollection":return Ba.interpolate(P,R,A);case"array":return ra(P,R,A);case"projectionDefinition":return ho.interpolate(P,R,A)}case"interpolate-hcl":switch(this.type.kind){case"color":return er.interpolate(P,R,A,"hcl");case"colorArray":return Ai.interpolate(P,R,A,"hcl")}case"interpolate-lab":switch(this.type.kind){case"color":return er.interpolate(P,R,A,"lab");case"colorArray":return Ai.interpolate(P,R,A,"lab")}}}eachChild(t){t(this.input);for(const r of this.outputs)t(r)}outputDefined(){return this.outputs.every(t=>t.outputDefined())}}function ki(i,t,r,l){const g=l-r,v=i-r;return g===0?0:t===1?v/g:(Math.pow(t,v)-1)/(Math.pow(t,g)-1)}const mo={color:er.interpolate,number:mi,padding:ui.interpolate,numberArray:zr.interpolate,colorArray:Ai.interpolate,variableAnchorOffsetCollection:Ba.interpolate,array:ra};class Zs{constructor(t,r){this.type=t,this.args=r}static parse(t,r){if(t.length<2)return r.error("Expected at least one argument.");let l=null;const g=r.expectedType;g&&g.kind!=="value"&&(l=g);const v=[];for(const A of t.slice(1)){const P=r.parse(A,1+v.length,l,void 0,{typeAnnotation:"omit"});if(!P)return null;l=l||P.type,v.push(P)}if(!l)throw new Error("No output type");const b=g&&v.some(A=>lo(g,A.type));return new Zs(b?or:l,v)}evaluate(t){let r,l=null,g=0;for(const v of this.args)if(g++,l=v.evaluate(t),l&&l instanceof ia&&!l.available&&(r||(r=l.name),l=null,g===this.args.length&&(l=r)),l!==null)break;return l}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}}function Ro(i,t){return i==="=="||i==="!="?t.kind==="boolean"||t.kind==="string"||t.kind==="number"||t.kind==="null"||t.kind==="value":t.kind==="string"||t.kind==="number"||t.kind==="value"}function Pa(i,t,r,l){return l.compare(t,r)===0}function qi(i,t,r){const l=i!=="=="&&i!=="!=";return class $x{constructor(v,b,A){this.type=nr,this.lhs=v,this.rhs=b,this.collator=A,this.hasUntypedArgument=v.type.kind==="value"||b.type.kind==="value"}static parse(v,b){if(v.length!==3&&v.length!==4)return b.error("Expected two or three arguments.");const A=v[0];let P=b.parse(v[1],1,or);if(!P)return null;if(!Ro(A,P.type))return b.concat(1).error(`"${A}" comparisons are not supported for type '${Wr(P.type)}'.`);let R=b.parse(v[2],2,or);if(!R)return null;if(!Ro(A,R.type))return b.concat(2).error(`"${A}" comparisons are not supported for type '${Wr(R.type)}'.`);if(P.type.kind!==R.type.kind&&P.type.kind!=="value"&&R.type.kind!=="value")return b.error(`Cannot compare types '${Wr(P.type)}' and '${Wr(R.type)}'.`);l&&(P.type.kind==="value"&&R.type.kind!=="value"?P=new Yn(R.type,[P]):P.type.kind!=="value"&&R.type.kind==="value"&&(R=new Yn(P.type,[R])));let G=null;if(v.length===4){if(P.type.kind!=="string"&&R.type.kind!=="string"&&P.type.kind!=="value"&&R.type.kind!=="value")return b.error("Cannot use collator to compare non-string types.");if(G=b.parse(v[3],3,ns),!G)return null}return new $x(P,R,G)}evaluate(v){const b=this.lhs.evaluate(v),A=this.rhs.evaluate(v);if(l&&this.hasUntypedArgument){const P=ci(b),R=ci(A);if(P.kind!==R.kind||P.kind!=="string"&&P.kind!=="number")throw new Gr(`Expected arguments for "${i}" to be (string, string) or (number, number), but found (${P.kind}, ${R.kind}) instead.`)}if(this.collator&&!l&&this.hasUntypedArgument){const P=ci(b),R=ci(A);if(P.kind!=="string"||R.kind!=="string")return t(v,b,A)}return this.collator?r(v,b,A,this.collator.evaluate(v)):t(v,b,A)}eachChild(v){v(this.lhs),v(this.rhs),this.collator&&v(this.collator)}outputDefined(){return!0}}}const Hr=qi("==",function(i,t,r){return t===r},Pa),Ws=qi("!=",function(i,t,r){return t!==r},function(i,t,r,l){return!Pa(0,t,r,l)}),Q0=qi("<",function(i,t,r){return t<r},function(i,t,r,l){return l.compare(t,r)<0}),$c=qi(">",function(i,t,r){return t>r},function(i,t,r,l){return l.compare(t,r)>0}),D0=qi("<=",function(i,t,r){return t<=r},function(i,t,r,l){return l.compare(t,r)<=0}),jc=qi(">=",function(i,t,r){return t>=r},function(i,t,r,l){return l.compare(t,r)>=0});class I0{constructor(t,r,l){this.type=ns,this.locale=l,this.caseSensitive=t,this.diacriticSensitive=r}static parse(t,r){if(t.length!==2)return r.error("Expected one argument.");const l=t[1];if(typeof l!="object"||Array.isArray(l))return r.error("Collator options argument must be an object.");const g=r.parse(l["case-sensitive"]!==void 0&&l["case-sensitive"],1,nr);if(!g)return null;const v=r.parse(l["diacritic-sensitive"]!==void 0&&l["diacritic-sensitive"],1,nr);if(!v)return null;let b=null;return l.locale&&(b=r.parse(l.locale,1,Gn),!b)?null:new I0(g,v,b)}evaluate(t){return new co(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)}eachChild(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)}outputDefined(){return!1}}class pl{constructor(t,r,l,g,v){this.type=Gn,this.number=t,this.locale=r,this.currency=l,this.minFractionDigits=g,this.maxFractionDigits=v}static parse(t,r){if(t.length!==3)return r.error("Expected two arguments.");const l=r.parse(t[1],1,zt);if(!l)return null;const g=t[2];if(typeof g!="object"||Array.isArray(g))return r.error("NumberFormat options argument must be an object.");let v=null;if(g.locale&&(v=r.parse(g.locale,1,Gn),!v))return null;let b=null;if(g.currency&&(b=r.parse(g.currency,1,Gn),!b))return null;let A=null;if(g["min-fraction-digits"]&&(A=r.parse(g["min-fraction-digits"],1,zt),!A))return null;let P=null;return g["max-fraction-digits"]&&(P=r.parse(g["max-fraction-digits"],1,zt),!P)?null:new pl(l,v,b,A,P)}evaluate(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))}eachChild(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)}outputDefined(){return!1}}class zl{constructor(t){this.type=rs,this.sections=t}static parse(t,r){if(t.length<2)return r.error("Expected at least one argument.");const l=t[1];if(!Array.isArray(l)&&typeof l=="object")return r.error("First argument must be an image or text section.");const g=[];let v=!1;for(let b=1;b<=t.length-1;++b){const A=t[b];if(v&&typeof A=="object"&&!Array.isArray(A)){v=!1;let P=null;if(A["font-scale"]&&(P=r.parse(A["font-scale"],1,zt),!P))return null;let R=null;if(A["text-font"]&&(R=r.parse(A["text-font"],1,si(Gn)),!R))return null;let G=null;if(A["text-color"]&&(G=r.parse(A["text-color"],1,jr),!G))return null;let N=null;if(A["vertical-align"]){if(typeof A["vertical-align"]=="string"&&!Ta.includes(A["vertical-align"]))return r.error(`'vertical-align' must be one of: 'bottom', 'center', 'top' but found '${A["vertical-align"]}' instead.`);if(N=r.parse(A["vertical-align"],1,Gn),!N)return null}const H=g[g.length-1];H.scale=P,H.font=R,H.textColor=G,H.verticalAlign=N}else{const P=r.parse(t[b],1,or);if(!P)return null;const R=P.type.kind;if(R!=="string"&&R!=="value"&&R!=="null"&&R!=="resolvedImage")return r.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");v=!0,g.push({content:P,scale:null,font:null,textColor:null,verticalAlign:null})}}return new zl(g)}evaluate(t){return new li(this.sections.map(r=>{const l=r.content.evaluate(t);return ci(l)===Fs?new Ma("",l,null,null,null,r.verticalAlign?r.verticalAlign.evaluate(t):null):new Ma(Un(l),null,r.scale?r.scale.evaluate(t):null,r.font?r.font.evaluate(t).join(","):null,r.textColor?r.textColor.evaluate(t):null,r.verticalAlign?r.verticalAlign.evaluate(t):null)}))}eachChild(t){for(const r of this.sections)t(r.content),r.scale&&t(r.scale),r.font&&t(r.font),r.textColor&&t(r.textColor),r.verticalAlign&&t(r.verticalAlign)}outputDefined(){return!1}}class Gl{constructor(t){this.type=Fs,this.input=t}static parse(t,r){if(t.length!==2)return r.error("Expected two arguments.");const l=r.parse(t[1],1,Gn);return l?new Gl(l):r.error("No image name provided.")}evaluate(t){const r=this.input.evaluate(t),l=ia.fromString(r);return l&&t.availableImages&&(l.available=t.availableImages.indexOf(r)>-1),l}eachChild(t){t(this.input)}outputDefined(){return!1}}class Hs{constructor(t){this.type=zt,this.input=t}static parse(t,r){if(t.length!==2)return r.error(`Expected 1 argument, but found ${t.length-1} instead.`);const l=r.parse(t[1],1);return l?l.type.kind!=="array"&&l.type.kind!=="string"&&l.type.kind!=="value"?r.error(`Expected argument of type string or array, but found ${Wr(l.type)} instead.`):new Hs(l):null}evaluate(t){const r=this.input.evaluate(t);if(typeof r=="string")return[...r].length;if(Array.isArray(r))return r.length;throw new Gr(`Expected value to be of type string or array, but found ${Wr(ci(r))} instead.`)}eachChild(t){t(this.input)}outputDefined(){return!1}}const Uo=8192;function J0(i,t){const r=(180+i[0])/360,l=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+i[1]*Math.PI/360)))/360,g=Math.pow(2,t.z);return[Math.round(r*g*Uo),Math.round(l*g*Uo)]}function eu(i,t){const r=Math.pow(2,t.z);return[(g=(i[0]/Uo+t.x)/r,360*g-180),(l=(i[1]/Uo+t.y)/r,360/Math.PI*Math.atan(Math.exp((180-360*l)*Math.PI/180))-90)];var l,g}function F(i,t){i[0]=Math.min(i[0],t[0]),i[1]=Math.min(i[1],t[1]),i[2]=Math.max(i[2],t[0]),i[3]=Math.max(i[3],t[1])}function X(i,t){return!(i[0]<=t[0]||i[2]>=t[2]||i[1]<=t[1]||i[3]>=t[3])}function pe(i,t,r){const l=i[0]-t[0],g=i[1]-t[1],v=i[0]-r[0],b=i[1]-r[1];return l*b-v*g==0&&l*v<=0&&g*b<=0}function Se(i,t,r,l){return(g=[l[0]-r[0],l[1]-r[1]])[0]*(v=[t[0]-i[0],t[1]-i[1]])[1]-g[1]*v[0]!=0&&!(!hr(i,t,r,l)||!hr(r,l,i,t));var g,v}function _t(i,t,r){for(const l of r)for(let g=0;g<l.length-1;++g)if(Se(i,t,l[g],l[g+1]))return!0;return!1}function st(i,t,r=!1){let l=!1;for(const A of t)for(let P=0;P<A.length-1;P++){if(pe(i,A[P],A[P+1]))return r;(v=A[P])[1]>(g=i)[1]!=(b=A[P+1])[1]>g[1]&&g[0]<(b[0]-v[0])*(g[1]-v[1])/(b[1]-v[1])+v[0]&&(l=!l)}var g,v,b;return l}function Ot(i,t){for(const r of t)if(st(i,r))return!0;return!1}function ln(i,t){for(const r of i)if(!st(r,t))return!1;for(let r=0;r<i.length-1;++r)if(_t(i[r],i[r+1],t))return!1;return!0}function Bn(i,t){for(const r of t)if(ln(i,r))return!0;return!1}function hr(i,t,r,l){const g=l[0]-r[0],v=l[1]-r[1],b=(i[0]-r[0])*v-g*(i[1]-r[1]),A=(t[0]-r[0])*v-g*(t[1]-r[1]);return b>0&&A<0||b<0&&A>0}function Qn(i,t,r){const l=[];for(let g=0;g<i.length;g++){const v=[];for(let b=0;b<i[g].length;b++){const A=J0(i[g][b],r);F(t,A),v.push(A)}l.push(v)}return l}function pi(i,t,r){const l=[];for(let g=0;g<i.length;g++){const v=Qn(i[g],t,r);l.push(v)}return l}function Oa(i,t,r,l){if(i[0]<r[0]||i[0]>r[2]){const g=.5*l;let v=i[0]-r[0]>g?-l:r[0]-i[0]>g?l:0;v===0&&(v=i[0]-r[2]>g?-l:r[2]-i[0]>g?l:0),i[0]+=v}F(t,i)}function zo(i,t,r,l){const g=Math.pow(2,l.z)*Uo,v=[l.x*Uo,l.y*Uo],b=[];for(const A of i)for(const P of A){const R=[P.x+v[0],P.y+v[1]];Oa(R,t,r,g),b.push(R)}return b}function yo(i,t,r,l){const g=Math.pow(2,l.z)*Uo,v=[l.x*Uo,l.y*Uo],b=[];for(const P of i){const R=[];for(const G of P){const N=[G.x+v[0],G.y+v[1]];F(t,N),R.push(N)}b.push(R)}if(t[2]-t[0]<=g/2){(A=t)[0]=A[1]=1/0,A[2]=A[3]=-1/0;for(const P of b)for(const R of P)Oa(R,t,r,g)}var A;return b}class is{constructor(t,r){this.type=nr,this.geojson=t,this.geometries=r}static parse(t,r){if(t.length!==2)return r.error(`'within' expression requires exactly one argument, but found ${t.length-1} instead.`);if(Ur(t[1])){const l=t[1];if(l.type==="FeatureCollection"){const g=[];for(const v of l.features){const{type:b,coordinates:A}=v.geometry;b==="Polygon"&&g.push(A),b==="MultiPolygon"&&g.push(...A)}if(g.length)return new is(l,{type:"MultiPolygon",coordinates:g})}else if(l.type==="Feature"){const g=l.geometry.type;if(g==="Polygon"||g==="MultiPolygon")return new is(l,l.geometry)}else if(l.type==="Polygon"||l.type==="MultiPolygon")return new is(l,l)}return r.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(t){if(t.geometry()!=null&&t.canonicalID()!=null){if(t.geometryType()==="Point")return function(r,l){const g=[1/0,1/0,-1/0,-1/0],v=[1/0,1/0,-1/0,-1/0],b=r.canonicalID();if(l.type==="Polygon"){const A=Qn(l.coordinates,v,b),P=zo(r.geometry(),g,v,b);if(!X(g,v))return!1;for(const R of P)if(!st(R,A))return!1}if(l.type==="MultiPolygon"){const A=pi(l.coordinates,v,b),P=zo(r.geometry(),g,v,b);if(!X(g,v))return!1;for(const R of P)if(!Ot(R,A))return!1}return!0}(t,this.geometries);if(t.geometryType()==="LineString")return function(r,l){const g=[1/0,1/0,-1/0,-1/0],v=[1/0,1/0,-1/0,-1/0],b=r.canonicalID();if(l.type==="Polygon"){const A=Qn(l.coordinates,v,b),P=yo(r.geometry(),g,v,b);if(!X(g,v))return!1;for(const R of P)if(!ln(R,A))return!1}if(l.type==="MultiPolygon"){const A=pi(l.coordinates,v,b),P=yo(r.geometry(),g,v,b);if(!X(g,v))return!1;for(const R of P)if(!Bn(R,A))return!1}return!0}(t,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}let Ou=class{constructor(i=[],t=(r,l)=>r<l?-1:r>l?1:0){if(this.data=i,this.length=this.data.length,this.compare=t,this.length>0)for(let r=(this.length>>1)-1;r>=0;r--)this._down(r)}push(i){this.data.push(i),this._up(this.length++)}pop(){if(this.length===0)return;const i=this.data[0],t=this.data.pop();return--this.length>0&&(this.data[0]=t,this._down(0)),i}peek(){return this.data[0]}_up(i){const{data:t,compare:r}=this,l=t[i];for(;i>0;){const g=i-1>>1,v=t[g];if(r(l,v)>=0)break;t[i]=v,i=g}t[i]=l}_down(i){const{data:t,compare:r}=this,l=this.length>>1,g=t[i];for(;i<l;){let v=1+(i<<1);const b=v+1;if(b<this.length&&r(t[b],t[v])<0&&(v=b),r(t[v],g)>=0)break;t[i]=t[v],i=v}t[i]=g}};function dl(i,t,r=0,l=i.length-1,g=_p){for(;l>r;){if(l-r>600){const P=l-r+1,R=t-r+1,G=Math.log(P),N=.5*Math.exp(2*G/3),H=.5*Math.sqrt(G*N*(P-N)/P)*(R-P/2<0?-1:1);dl(i,t,Math.max(r,Math.floor(t-R*N/P+H)),Math.min(l,Math.floor(t+(P-R)*N/P+H)),g)}const v=i[t];let b=r,A=l;for(fl(i,r,t),g(i[l],v)>0&&fl(i,r,l);b<A;){for(fl(i,b,A),b++,A--;g(i[b],v)<0;)b++;for(;g(i[A],v)>0;)A--}g(i[r],v)===0?fl(i,r,A):(A++,fl(i,A,l)),A<=t&&(r=A+1),t<=A&&(l=A-1)}}function fl(i,t,r){const l=i[t];i[t]=i[r],i[r]=l}function _p(i,t){return i<t?-1:i>t?1:0}function Vc(i,t){if(i.length<=1)return[i];const r=[];let l,g;for(const v of i){const b=Uh(v);b!==0&&(v.area=Math.abs(b),g===void 0&&(g=b<0),g===b<0?(l&&r.push(l),l=[v]):l.push(v))}if(l&&r.push(l),t>1)for(let v=0;v<r.length;v++)r[v].length<=t||(dl(r[v],t,1,r[v].length-1,Zc),r[v]=r[v].slice(0,t));return r}function Zc(i,t){return t.area-i.area}function Uh(i){let t=0;for(let r,l,g=0,v=i.length,b=v-1;g<v;b=g++)r=i[g],l=i[b],t+=(l.x-r.x)*(r.y+l.y);return t}const as=1/298.257223563,o0=as*(2-as),vp=Math.PI/180;class Fu{constructor(t){const r=6378.137*vp*1e3,l=Math.cos(t*vp),g=1/(1-o0*(1-l*l)),v=Math.sqrt(g);this.kx=r*v*l,this.ky=r*v*g*(1-o0)}distance(t,r){const l=this.wrap(t[0]-r[0])*this.kx,g=(t[1]-r[1])*this.ky;return Math.sqrt(l*l+g*g)}pointOnLine(t,r){let l,g,v,b,A=1/0;for(let P=0;P<t.length-1;P++){let R=t[P][0],G=t[P][1],N=this.wrap(t[P+1][0]-R)*this.kx,H=(t[P+1][1]-G)*this.ky,Y=0;N===0&&H===0||(Y=(this.wrap(r[0]-R)*this.kx*N+(r[1]-G)*this.ky*H)/(N*N+H*H),Y>1?(R=t[P+1][0],G=t[P+1][1]):Y>0&&(R+=N/this.kx*Y,G+=H/this.ky*Y)),N=this.wrap(r[0]-R)*this.kx,H=(r[1]-G)*this.ky;const ee=N*N+H*H;ee<A&&(A=ee,l=R,g=G,v=P,b=Y)}return{point:[l,g],index:v,t:Math.max(0,Math.min(1,b))}}wrap(t){for(;t<-180;)t+=360;for(;t>180;)t-=360;return t}}function xp(i,t){return t[0]-i[0]}function Cr(i){return i[1]-i[0]+1}function oa(i,t){return i[1]>=i[0]&&i[1]<t}function Nu(i,t){if(i[0]>i[1])return[null,null];const r=Cr(i);if(t){if(r===2)return[i,null];const g=Math.floor(r/2);return[[i[0],i[0]+g],[i[0]+g,i[1]]]}if(r===1)return[i,null];const l=Math.floor(r/2)-1;return[[i[0],i[0]+l],[i[0]+l+1,i[1]]]}function Wc(i,t){if(!oa(t,i.length))return[1/0,1/0,-1/0,-1/0];const r=[1/0,1/0,-1/0,-1/0];for(let l=t[0];l<=t[1];++l)F(r,i[l]);return r}function Hc(i){const t=[1/0,1/0,-1/0,-1/0];for(const r of i)for(const l of r)F(t,l);return t}function zh(i){return i[0]!==-1/0&&i[1]!==-1/0&&i[2]!==1/0&&i[3]!==1/0}function Gh(i,t,r){if(!zh(i)||!zh(t))return NaN;let l=0,g=0;return i[2]<t[0]&&(l=t[0]-i[2]),i[0]>t[2]&&(l=i[0]-t[2]),i[1]>t[3]&&(g=i[1]-t[3]),i[3]<t[1]&&(g=t[1]-i[3]),r.distance([0,0],[l,g])}function tu(i,t,r){const l=r.pointOnLine(t,i);return r.distance(i,l.point)}function A0(i,t,r,l,g){const v=Math.min(tu(i,[r,l],g),tu(t,[r,l],g)),b=Math.min(tu(r,[i,t],g),tu(l,[i,t],g));return Math.min(v,b)}function it(i,t,r,l,g){if(!oa(t,i.length)||!oa(l,r.length))return 1/0;let v=1/0;for(let b=t[0];b<t[1];++b){const A=i[b],P=i[b+1];for(let R=l[0];R<l[1];++R){const G=r[R],N=r[R+1];if(Se(A,P,G,N))return 0;v=Math.min(v,A0(A,P,G,N,g))}}return v}function Lt(i,t,r,l,g){if(!oa(t,i.length)||!oa(l,r.length))return NaN;let v=1/0;for(let b=t[0];b<=t[1];++b)for(let A=l[0];A<=l[1];++A)if(v=Math.min(v,g.distance(i[b],r[A])),v===0)return v;return v}function wt(i,t,r){if(st(i,t,!0))return 0;let l=1/0;for(const g of t){const v=g[0],b=g[g.length-1];if(v!==b&&(l=Math.min(l,tu(i,[b,v],r)),l===0))return l;const A=r.pointOnLine(g,i);if(l=Math.min(l,r.distance(i,A.point)),l===0)return l}return l}function Sn(i,t,r,l){if(!oa(t,i.length))return NaN;for(let v=t[0];v<=t[1];++v)if(st(i[v],r,!0))return 0;let g=1/0;for(let v=t[0];v<t[1];++v){const b=i[v],A=i[v+1];for(const P of r)for(let R=0,G=P.length,N=G-1;R<G;N=R++){const H=P[N],Y=P[R];if(Se(b,A,H,Y))return 0;g=Math.min(g,A0(b,A,H,Y,l))}}return g}function pr(i,t){for(const r of i)for(const l of r)if(st(l,t,!0))return!0;return!1}function qr(i,t,r,l=1/0){const g=Hc(i),v=Hc(t);if(l!==1/0&&Gh(g,v,r)>=l)return l;if(X(g,v)){if(pr(i,t))return 0}else if(pr(t,i))return 0;let b=1/0;for(const A of i)for(let P=0,R=A.length,G=R-1;P<R;G=P++){const N=A[G],H=A[P];for(const Y of t)for(let ee=0,se=Y.length,xe=se-1;ee<se;xe=ee++){const Ie=Y[xe],Ke=Y[ee];if(Se(N,H,Ie,Ke))return 0;b=Math.min(b,A0(N,H,Ie,Ke,r))}}return b}function sa(i,t,r,l,g,v){if(!v)return;const b=Gh(Wc(l,v),g,r);b<t&&i.push([b,v,[0,0]])}function Jr(i,t,r,l,g,v,b){if(!v||!b)return;const A=Gh(Wc(l,v),Wc(g,b),r);A<t&&i.push([A,v,b])}function S0(i,t,r,l,g=1/0){let v=Math.min(l.distance(i[0],r[0][0]),g);if(v===0)return v;const b=new Ou([[0,[0,i.length-1],[0,0]]],xp),A=Hc(r);for(;b.length>0;){const P=b.pop();if(P[0]>=v)continue;const R=P[1],G=t?50:100;if(Cr(R)<=G){if(!oa(R,i.length))return NaN;if(t){const N=Sn(i,R,r,l);if(isNaN(N)||N===0)return N;v=Math.min(v,N)}else for(let N=R[0];N<=R[1];++N){const H=wt(i[N],r,l);if(v=Math.min(v,H),v===0)return 0}}else{const N=Nu(R,t);sa(b,v,l,i,A,N[0]),sa(b,v,l,i,A,N[1])}}return v}function qc(i,t,r,l,g,v=1/0){let b=Math.min(v,g.distance(i[0],r[0]));if(b===0)return b;const A=new Ou([[0,[0,i.length-1],[0,r.length-1]]],xp);for(;A.length>0;){const P=A.pop();if(P[0]>=b)continue;const R=P[1],G=P[2],N=t?50:100,H=l?50:100;if(Cr(R)<=N&&Cr(G)<=H){if(!oa(R,i.length)&&oa(G,r.length))return NaN;let Y;if(t&&l)Y=it(i,R,r,G,g),b=Math.min(b,Y);else if(t&&!l){const ee=i.slice(R[0],R[1]+1);for(let se=G[0];se<=G[1];++se)if(Y=tu(r[se],ee,g),b=Math.min(b,Y),b===0)return b}else if(!t&&l){const ee=r.slice(G[0],G[1]+1);for(let se=R[0];se<=R[1];++se)if(Y=tu(i[se],ee,g),b=Math.min(b,Y),b===0)return b}else Y=Lt(i,R,r,G,g),b=Math.min(b,Y)}else{const Y=Nu(R,t),ee=Nu(G,l);Jr(A,b,g,i,r,Y[0],ee[0]),Jr(A,b,g,i,r,Y[0],ee[1]),Jr(A,b,g,i,r,Y[1],ee[0]),Jr(A,b,g,i,r,Y[1],ee[1])}}return b}function os(i){return i.type==="MultiPolygon"?i.coordinates.map(t=>({type:"Polygon",coordinates:t})):i.type==="MultiLineString"?i.coordinates.map(t=>({type:"LineString",coordinates:t})):i.type==="MultiPoint"?i.coordinates.map(t=>({type:"Point",coordinates:t})):[i]}class Go{constructor(t,r){this.type=zt,this.geojson=t,this.geometries=r}static parse(t,r){if(t.length!==2)return r.error(`'distance' expression requires exactly one argument, but found ${t.length-1} instead.`);if(Ur(t[1])){const l=t[1];if(l.type==="FeatureCollection")return new Go(l,l.features.map(g=>os(g.geometry)).flat());if(l.type==="Feature")return new Go(l,os(l.geometry));if("type"in l&&"coordinates"in l)return new Go(l,os(l))}return r.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(t){if(t.geometry()!=null&&t.canonicalID()!=null){if(t.geometryType()==="Point")return function(r,l){const g=r.geometry(),v=g.flat().map(P=>eu([P.x,P.y],r.canonical));if(g.length===0)return NaN;const b=new Fu(v[0][1]);let A=1/0;for(const P of l){switch(P.type){case"Point":A=Math.min(A,qc(v,!1,[P.coordinates],!1,b,A));break;case"LineString":A=Math.min(A,qc(v,!1,P.coordinates,!0,b,A));break;case"Polygon":A=Math.min(A,S0(v,!1,P.coordinates,b,A))}if(A===0)return A}return A}(t,this.geometries);if(t.geometryType()==="LineString")return function(r,l){const g=r.geometry(),v=g.flat().map(P=>eu([P.x,P.y],r.canonical));if(g.length===0)return NaN;const b=new Fu(v[0][1]);let A=1/0;for(const P of l){switch(P.type){case"Point":A=Math.min(A,qc(v,!0,[P.coordinates],!1,b,A));break;case"LineString":A=Math.min(A,qc(v,!0,P.coordinates,!0,b,A));break;case"Polygon":A=Math.min(A,S0(v,!0,P.coordinates,b,A))}if(A===0)return A}return A}(t,this.geometries);if(t.geometryType()==="Polygon")return function(r,l){const g=r.geometry();if(g.length===0||g[0].length===0)return NaN;const v=Vc(g,0).map(P=>P.map(R=>R.map(G=>eu([G.x,G.y],r.canonical)))),b=new Fu(v[0][0][0][1]);let A=1/0;for(const P of l)for(const R of v){switch(P.type){case"Point":A=Math.min(A,S0([P.coordinates],!1,R,b,A));break;case"LineString":A=Math.min(A,S0(P.coordinates,!0,R,b,A));break;case"Polygon":A=Math.min(A,qr(R,P.coordinates,b,A))}if(A===0)return A}return A}(t,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}class $u{constructor(t){this.type=or,this.key=t}static parse(t,r){if(t.length!==2)return r.error(`Expected 1 argument, but found ${t.length-1} instead.`);const l=t[1];return l==null?r.error("Global state property must be defined."):typeof l!="string"?r.error(`Global state property must be string, but found ${typeof t[1]} instead.`):new $u(l)}evaluate(t){var r;const l=(r=t.globals)===null||r===void 0?void 0:r.globalState;return l&&Object.keys(l).length!==0?Ut(l,this.key):null}eachChild(){}outputDefined(){return!1}}const Lo={"==":Hr,"!=":Ws,">":$c,"<":Q0,">=":jc,"<=":D0,array:Yn,at:hi,boolean:Yn,case:yi,coalesce:Zs,collator:I0,format:zl,image:Gl,in:ul,"index-of":go,interpolate:Fi,"interpolate-hcl":Fi,"interpolate-lab":Fi,length:Hs,let:Cs,literal:vn,match:cl,number:Yn,"number-format":pl,object:Yn,slice:Oi,step:Ei,string:Yn,"to-boolean":aa,"to-color":aa,"to-number":aa,"to-string":aa,var:a0,within:is,distance:Go,"global-state":$u};class Ka{constructor(t,r,l,g){this.name=t,this.type=r,this._evaluate=l,this.args=g}evaluate(t){return this._evaluate(t,this.args)}eachChild(t){this.args.forEach(t)}outputDefined(){return!1}static parse(t,r){const l=t[0],g=Ka.definitions[l];if(!g)return r.error(`Unknown expression "${l}". If you wanted a literal array, use ["literal", [...]].`,0);const v=Array.isArray(g)?g[0]:g.type,b=Array.isArray(g)?[[g[1],g[2]]]:g.overloads,A=b.filter(([R])=>!Array.isArray(R)||R.length===t.length-1);let P=null;for(const[R,G]of A){P=new js(r.registry,M0,r.path,null,r.scope);const N=[];let H=!1;for(let Y=1;Y<t.length;Y++){const ee=t[Y],se=Array.isArray(R)?R[Y-1]:R.type,xe=P.parse(ee,1+N.length,se);if(!xe){H=!0;break}N.push(xe)}if(!H)if(Array.isArray(R)&&R.length!==N.length)P.error(`Expected ${R.length} arguments, but found ${N.length} instead.`);else{for(let Y=0;Y<N.length;Y++){const ee=Array.isArray(R)?R[Y]:R.type,se=N[Y];P.concat(Y+1).checkSubtype(ee,se.type)}if(P.errors.length===0)return new Ka(l,v,G,N)}}if(A.length===1)r.errors.push(...P.errors);else{const R=(A.length?A:b).map(([N])=>{return H=N,Array.isArray(H)?`(${H.map(Wr).join(", ")})`:`(${Wr(H.type)}...)`;var H}).join(" | "),G=[];for(let N=1;N<t.length;N++){const H=r.parse(t[N],1+G.length);if(!H)return null;G.push(Wr(H.type))}r.error(`Expected arguments of type ${R}, but found (${G.join(", ")}) instead.`)}return null}static register(t,r){Ka.definitions=r;for(const l in r)t[l]=Ka}}function ju(i,[t,r,l,g]){t=t.evaluate(i),r=r.evaluate(i),l=l.evaluate(i);const v=g?g.evaluate(i):1,b=po(t,r,l,v);if(b)throw new Gr(b);return new er(t/255,r/255,l/255,v,!1)}function Zr(i,t){return i in t}function T0(i,t){const r=t[i];return r===void 0?null:r}function Ll(i){return{type:i}}function M0(i){if(i instanceof a0)return M0(i.boundExpression);if(i instanceof Ka&&i.name==="error"||i instanceof I0||i instanceof is||i instanceof Go||i instanceof $u)return!1;const t=i instanceof aa||i instanceof Yn;let r=!0;return i.eachChild(l=>{r=t?r&&M0(l):r&&l instanceof vn}),!!r&&nu(i)&&gc(i,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function nu(i){if(i instanceof Ka&&(i.name==="get"&&i.args.length===1||i.name==="feature-state"||i.name==="has"&&i.args.length===1||i.name==="properties"||i.name==="geometry-type"||i.name==="id"||/^filter-/.test(i.name))||i instanceof is||i instanceof Go)return!1;let t=!0;return i.eachChild(r=>{t&&!nu(r)&&(t=!1)}),t}function Vu(i){if(i instanceof Ka&&i.name==="feature-state")return!1;let t=!0;return i.eachChild(r=>{t&&!Vu(r)&&(t=!1)}),t}function gc(i,t){if(i instanceof Ka&&t.indexOf(i.name)>=0)return!1;let r=!0;return i.eachChild(l=>{r&&!gc(l,t)&&(r=!1)}),r}function P0(i){return{result:"success",value:i}}function ss(i){return{result:"error",value:i}}function Bl(i){return i["property-type"]==="data-driven"||i["property-type"]==="cross-faded-data-driven"}function Kc(i){return!!i.expression&&i.expression.parameters.indexOf("zoom")>-1}function ls(i){return!!i.expression&&i.expression.interpolated}function _r(i){return i instanceof Number?"number":i instanceof String?"string":i instanceof Boolean?"boolean":Array.isArray(i)?"array":i===null?"null":typeof i}function ru(i){return typeof i=="object"&&i!==null&&!Array.isArray(i)&&ci(i)===Sa}function iu(i){return i}function Xc(i,t){const r=i.stops&&typeof i.stops[0][0]=="object",l=r||!(r||i.property!==void 0),g=i.type||(ls(t)?"exponential":"interval"),v=function(G){switch(G.type){case"color":return er.parse;case"padding":return ui.parse;case"numberArray":return zr.parse;case"colorArray":return Ai.parse;default:return null}}(t);if(v&&((i=br({},i)).stops&&(i.stops=i.stops.map(G=>[G[0],v(G[1])])),i.default=v(i.default?i.default:t.default)),i.colorSpace&&(b=i.colorSpace)!=="rgb"&&b!=="hcl"&&b!=="lab")throw new Error(`Unknown color space: "${i.colorSpace}"`);var b;const A=function(G){switch(G){case"exponential":return Lh;case"interval":return mc;case"categorical":return au;case"identity":return Ri;default:throw new Error(`Unknown function type "${G}"`)}}(g);let P,R;if(g==="categorical"){P=Object.create(null);for(const G of i.stops)P[G[0]]=G[1];R=typeof i.stops[0][0]}if(r){const G={},N=[];for(let ee=0;ee<i.stops.length;ee++){const se=i.stops[ee],xe=se[0].zoom;G[xe]===void 0&&(G[xe]={zoom:xe,type:i.type,property:i.property,default:i.default,stops:[]},N.push(xe)),G[xe].stops.push([se[0].value,se[1]])}const H=[];for(const ee of N)H.push([G[ee].zoom,Xc(G[ee],t)]);const Y={name:"linear"};return{kind:"composite",interpolationType:Y,interpolationFactor:Fi.interpolationFactor.bind(void 0,Y),zoomStops:H.map(ee=>ee[0]),evaluate:({zoom:ee},se)=>Lh({stops:H,base:i.base},t,ee).evaluate(ee,se)}}if(l){const G=g==="exponential"?{name:"exponential",base:i.base!==void 0?i.base:1}:null;return{kind:"camera",interpolationType:G,interpolationFactor:Fi.interpolationFactor.bind(void 0,G),zoomStops:i.stops.map(N=>N[0]),evaluate:({zoom:N})=>A(i,t,N,P,R)}}return{kind:"source",evaluate(G,N){const H=N&&N.properties?N.properties[i.property]:void 0;return H===void 0?Is(i.default,t.default):A(i,t,H,P,R)}}}function Is(i,t,r){return i!==void 0?i:t!==void 0?t:r!==void 0?r:void 0}function au(i,t,r,l,g){return Is(typeof r===g?l[r]:void 0,i.default,t.default)}function mc(i,t,r){if(_r(r)!=="number")return Is(i.default,t.default);const l=i.stops.length;if(l===1||r<=i.stops[0][0])return i.stops[0][1];if(r>=i.stops[l-1][0])return i.stops[l-1][1];const g=Vs(i.stops.map(v=>v[0]),r);return i.stops[g][1]}function Lh(i,t,r){const l=i.base!==void 0?i.base:1;if(_r(r)!=="number")return Is(i.default,t.default);const g=i.stops.length;if(g===1||r<=i.stops[0][0])return i.stops[0][1];if(r>=i.stops[g-1][0])return i.stops[g-1][1];const v=Vs(i.stops.map(G=>G[0]),r),b=function(G,N,H,Y){const ee=Y-H,se=G-H;return ee===0?0:N===1?se/ee:(Math.pow(N,se)-1)/(Math.pow(N,ee)-1)}(r,l,i.stops[v][0],i.stops[v+1][0]),A=i.stops[v][1],P=i.stops[v+1][1],R=mo[t.type]||iu;return typeof A.evaluate=="function"?{evaluate(...G){const N=A.evaluate.apply(void 0,G),H=P.evaluate.apply(void 0,G);if(N!==void 0&&H!==void 0)return R(N,H,b,i.colorSpace)}}:R(A,P,b,i.colorSpace)}function Ri(i,t,r){switch(t.type){case"color":r=er.parse(r);break;case"formatted":r=li.fromString(r.toString());break;case"resolvedImage":r=ia.fromString(r.toString());break;case"padding":r=ui.parse(r);break;case"colorArray":r=Ai.parse(r);break;case"numberArray":r=zr.parse(r);break;default:_r(r)===t.type||t.type==="enum"&&t.values[r]||(r=void 0)}return Is(r,i.default,t.default)}Ka.register(Lo,{error:[{kind:"error"},[Gn],(i,[t])=>{throw new Gr(t.evaluate(i))}],typeof:[Gn,[or],(i,[t])=>Wr(ci(t.evaluate(i)))],"to-rgba":[si(zt,4),[jr],(i,[t])=>{const[r,l,g,v]=t.evaluate(i).rgb;return[255*r,255*l,255*g,v]}],rgb:[jr,[zt,zt,zt],ju],rgba:[jr,[zt,zt,zt,zt],ju],has:{type:nr,overloads:[[[Gn],(i,[t])=>Zr(t.evaluate(i),i.properties())],[[Gn,Sa],(i,[t,r])=>Zr(t.evaluate(i),r.evaluate(i))]]},get:{type:or,overloads:[[[Gn],(i,[t])=>T0(t.evaluate(i),i.properties())],[[Gn,Sa],(i,[t,r])=>T0(t.evaluate(i),r.evaluate(i))]]},"feature-state":[or,[Gn],(i,[t])=>T0(t.evaluate(i),i.featureState||{})],properties:[Sa,[],i=>i.properties()],"geometry-type":[Gn,[],i=>i.geometryType()],id:[or,[],i=>i.id()],zoom:[zt,[],i=>i.globals.zoom],"heatmap-density":[zt,[],i=>i.globals.heatmapDensity||0],"line-progress":[zt,[],i=>i.globals.lineProgress||0],accumulated:[or,[],i=>i.globals.accumulated===void 0?null:i.globals.accumulated],"+":[zt,Ll(zt),(i,t)=>{let r=0;for(const l of t)r+=l.evaluate(i);return r}],"*":[zt,Ll(zt),(i,t)=>{let r=1;for(const l of t)r*=l.evaluate(i);return r}],"-":{type:zt,overloads:[[[zt,zt],(i,[t,r])=>t.evaluate(i)-r.evaluate(i)],[[zt],(i,[t])=>-t.evaluate(i)]]},"/":[zt,[zt,zt],(i,[t,r])=>t.evaluate(i)/r.evaluate(i)],"%":[zt,[zt,zt],(i,[t,r])=>t.evaluate(i)%r.evaluate(i)],ln2:[zt,[],()=>Math.LN2],pi:[zt,[],()=>Math.PI],e:[zt,[],()=>Math.E],"^":[zt,[zt,zt],(i,[t,r])=>Math.pow(t.evaluate(i),r.evaluate(i))],sqrt:[zt,[zt],(i,[t])=>Math.sqrt(t.evaluate(i))],log10:[zt,[zt],(i,[t])=>Math.log(t.evaluate(i))/Math.LN10],ln:[zt,[zt],(i,[t])=>Math.log(t.evaluate(i))],log2:[zt,[zt],(i,[t])=>Math.log(t.evaluate(i))/Math.LN2],sin:[zt,[zt],(i,[t])=>Math.sin(t.evaluate(i))],cos:[zt,[zt],(i,[t])=>Math.cos(t.evaluate(i))],tan:[zt,[zt],(i,[t])=>Math.tan(t.evaluate(i))],asin:[zt,[zt],(i,[t])=>Math.asin(t.evaluate(i))],acos:[zt,[zt],(i,[t])=>Math.acos(t.evaluate(i))],atan:[zt,[zt],(i,[t])=>Math.atan(t.evaluate(i))],min:[zt,Ll(zt),(i,t)=>Math.min(...t.map(r=>r.evaluate(i)))],max:[zt,Ll(zt),(i,t)=>Math.max(...t.map(r=>r.evaluate(i)))],abs:[zt,[zt],(i,[t])=>Math.abs(t.evaluate(i))],round:[zt,[zt],(i,[t])=>{const r=t.evaluate(i);return r<0?-Math.round(-r):Math.round(r)}],floor:[zt,[zt],(i,[t])=>Math.floor(t.evaluate(i))],ceil:[zt,[zt],(i,[t])=>Math.ceil(t.evaluate(i))],"filter-==":[nr,[Gn,or],(i,[t,r])=>i.properties()[t.value]===r.value],"filter-id-==":[nr,[or],(i,[t])=>i.id()===t.value],"filter-type-==":[nr,[Gn],(i,[t])=>i.geometryType()===t.value],"filter-<":[nr,[Gn,or],(i,[t,r])=>{const l=i.properties()[t.value],g=r.value;return typeof l==typeof g&&l<g}],"filter-id-<":[nr,[or],(i,[t])=>{const r=i.id(),l=t.value;return typeof r==typeof l&&r<l}],"filter->":[nr,[Gn,or],(i,[t,r])=>{const l=i.properties()[t.value],g=r.value;return typeof l==typeof g&&l>g}],"filter-id->":[nr,[or],(i,[t])=>{const r=i.id(),l=t.value;return typeof r==typeof l&&r>l}],"filter-<=":[nr,[Gn,or],(i,[t,r])=>{const l=i.properties()[t.value],g=r.value;return typeof l==typeof g&&l<=g}],"filter-id-<=":[nr,[or],(i,[t])=>{const r=i.id(),l=t.value;return typeof r==typeof l&&r<=l}],"filter->=":[nr,[Gn,or],(i,[t,r])=>{const l=i.properties()[t.value],g=r.value;return typeof l==typeof g&&l>=g}],"filter-id->=":[nr,[or],(i,[t])=>{const r=i.id(),l=t.value;return typeof r==typeof l&&r>=l}],"filter-has":[nr,[or],(i,[t])=>t.value in i.properties()],"filter-has-id":[nr,[],i=>i.id()!==null&&i.id()!==void 0],"filter-type-in":[nr,[si(Gn)],(i,[t])=>t.value.indexOf(i.geometryType())>=0],"filter-id-in":[nr,[si(or)],(i,[t])=>t.value.indexOf(i.id())>=0],"filter-in-small":[nr,[Gn,si(or)],(i,[t,r])=>r.value.indexOf(i.properties()[t.value])>=0],"filter-in-large":[nr,[Gn,si(or)],(i,[t,r])=>function(l,g,v,b){for(;v<=b;){const A=v+b>>1;if(g[A]===l)return!0;g[A]>l?b=A-1:v=A+1}return!1}(i.properties()[t.value],r.value,0,r.value.length-1)],all:{type:nr,overloads:[[[nr,nr],(i,[t,r])=>t.evaluate(i)&&r.evaluate(i)],[Ll(nr),(i,t)=>{for(const r of t)if(!r.evaluate(i))return!1;return!0}]]},any:{type:nr,overloads:[[[nr,nr],(i,[t,r])=>t.evaluate(i)||r.evaluate(i)],[Ll(nr),(i,t)=>{for(const r of t)if(r.evaluate(i))return!0;return!1}]]},"!":[nr,[nr],(i,[t])=>!t.evaluate(i)],"is-supported-script":[nr,[Gn],(i,[t])=>{const r=i.globals&&i.globals.isSupportedScript;return!r||r(t.evaluate(i))}],upcase:[Gn,[Gn],(i,[t])=>t.evaluate(i).toUpperCase()],downcase:[Gn,[Gn],(i,[t])=>t.evaluate(i).toLowerCase()],concat:[Gn,Ll(or),(i,t)=>t.map(r=>Un(r.evaluate(i))).join("")],"resolved-locale":[Gn,[ns],(i,[t])=>t.evaluate(i).resolvedLocale()]});class Zu{constructor(t,r){this.expression=t,this._warningHistory={},this._evaluator=new C0,this._defaultValue=r?function(l){if(l.type==="color"&&ru(l.default))return new er(0,0,0,0);switch(l.type){case"color":return er.parse(l.default)||null;case"padding":return ui.parse(l.default)||null;case"numberArray":return zr.parse(l.default)||null;case"colorArray":return Ai.parse(l.default)||null;case"variableAnchorOffsetCollection":return Ba.parse(l.default)||null;case"projectionDefinition":return ho.parse(l.default)||null;default:return l.default===void 0?null:l.default}}(r):null,this._enumValues=r&&r.type==="enum"?r.values:null}evaluateWithoutErrorHandling(t,r,l,g,v,b){return this._evaluator.globals=t,this._evaluator.feature=r,this._evaluator.featureState=l,this._evaluator.canonical=g,this._evaluator.availableImages=v||null,this._evaluator.formattedSection=b,this.expression.evaluate(this._evaluator)}evaluate(t,r,l,g,v,b){this._evaluator.globals=t,this._evaluator.feature=r||null,this._evaluator.featureState=l||null,this._evaluator.canonical=g,this._evaluator.availableImages=v||null,this._evaluator.formattedSection=b||null;try{const A=this.expression.evaluate(this._evaluator);if(A==null||typeof A=="number"&&A!=A)return this._defaultValue;if(this._enumValues&&!(A in this._enumValues))throw new Gr(`Expected value to be one of ${Object.keys(this._enumValues).map(P=>JSON.stringify(P)).join(", ")}, but found ${JSON.stringify(A)} instead.`);return A}catch(A){return this._warningHistory[A.message]||(this._warningHistory[A.message]=!0,typeof console<"u"&&console.warn(A.message)),this._defaultValue}}}function gl(i){return Array.isArray(i)&&i.length>0&&typeof i[0]=="string"&&i[0]in Lo}function ml(i,t){const r=new js(Lo,M0,[],t?function(g){const v={color:jr,string:Gn,number:zt,enum:Gn,boolean:nr,formatted:rs,padding:Eo,numberArray:qa,colorArray:ol,projectionDefinition:Vr,resolvedImage:Fs,variableAnchorOffsetCollection:sr};return g.type==="array"?si(v[g.value]||or,g.length):v[g.type]}(t):void 0),l=r.parse(i,void 0,void 0,void 0,t&&t.type==="string"?{typeAnnotation:"coerce"}:void 0);return l?P0(new Zu(l,t)):ss(r.errors)}class Wu{constructor(t,r){this.kind=t,this._styleExpression=r,this.isStateDependent=t!=="constant"&&!Vu(r.expression)}evaluateWithoutErrorHandling(t,r,l,g,v,b){return this._styleExpression.evaluateWithoutErrorHandling(t,r,l,g,v,b)}evaluate(t,r,l,g,v,b){return this._styleExpression.evaluate(t,r,l,g,v,b)}}class Hu{constructor(t,r,l,g){this.kind=t,this.zoomStops=l,this._styleExpression=r,this.isStateDependent=t!=="camera"&&!Vu(r.expression),this.interpolationType=g}evaluateWithoutErrorHandling(t,r,l,g,v,b){return this._styleExpression.evaluateWithoutErrorHandling(t,r,l,g,v,b)}evaluate(t,r,l,g,v,b){return this._styleExpression.evaluate(t,r,l,g,v,b)}interpolationFactor(t,r,l){return this.interpolationType?Fi.interpolationFactor(this.interpolationType,t,r,l):0}}function E0(i,t){const r=ml(i,t);if(r.result==="error")return r;const l=r.value.expression,g=nu(l);if(!g&&!Bl(t))return ss([new fr("","data expressions not supported")]);const v=gc(l,["zoom"]);if(!v&&!Kc(t))return ss([new fr("","zoom expressions not supported")]);const b=Ol(l);return b||v?b instanceof fr?ss([b]):b instanceof Fi&&!ls(t)?ss([new fr("",'"interpolate" expressions cannot be used with this property')]):P0(b?new Hu(g?"camera":"composite",r.value,b.labels,b instanceof Fi?b.interpolation:void 0):new Wu(g?"constant":"source",r.value)):ss([new fr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class k0{constructor(t,r){this._parameters=t,this._specification=r,br(this,Xc(this._parameters,this._specification))}static deserialize(t){return new k0(t._parameters,t._specification)}static serialize(t){return{_parameters:t._parameters,_specification:t._specification}}}function Ol(i){let t=null;if(i instanceof Cs)t=Ol(i.result);else if(i instanceof Zs){for(const r of i.args)if(t=Ol(r),t)break}else(i instanceof Ei||i instanceof Fi)&&i.input instanceof Ka&&i.input.name==="zoom"&&(t=i);return t instanceof fr||i.eachChild(r=>{const l=Ol(r);l instanceof fr?t=l:!t&&l?t=new fr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):t&&l&&t!==l&&(t=new fr("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),t}function Ni(i){if(i===!0||i===!1)return!0;if(!Array.isArray(i)||i.length===0)return!1;switch(i[0]){case"has":return i.length>=2&&i[1]!=="$id"&&i[1]!=="$type";case"in":return i.length>=3&&(typeof i[1]!="string"||Array.isArray(i[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return i.length!==3||Array.isArray(i[1])||Array.isArray(i[2]);case"any":case"all":for(const t of i.slice(1))if(!Ni(t)&&typeof t!="boolean")return!1;return!0;default:return!0}}const Fa={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function yc(i){if(i==null)return{filter:()=>!0,needGeometry:!1};Ni(i)||(i=ou(i));const t=ml(i,Fa);if(t.result==="error")throw new Error(t.value.map(r=>`${r.key}: ${r.message}`).join(", "));return{filter:(r,l,g)=>t.value.evaluate(r,l,{},g),needGeometry:qu(i)}}function _c(i,t){return i<t?-1:i>t?1:0}function qu(i){if(!Array.isArray(i))return!1;if(i[0]==="within"||i[0]==="distance")return!0;for(let t=1;t<i.length;t++)if(qu(i[t]))return!0;return!1}function ou(i){if(!i)return!0;const t=i[0];return i.length<=1?t!=="any":t==="=="?su(i[1],i[2],"=="):t==="!="?yl(su(i[1],i[2],"==")):t==="<"||t===">"||t==="<="||t===">="?su(i[1],i[2],t):t==="any"?(r=i.slice(1),["any"].concat(r.map(ou))):t==="all"?["all"].concat(i.slice(1).map(ou)):t==="none"?["all"].concat(i.slice(1).map(ou).map(yl)):t==="in"?R0(i[1],i.slice(2)):t==="!in"?yl(R0(i[1],i.slice(2))):t==="has"?Ku(i[1]):t!=="!has"||yl(Ku(i[1]));var r}function su(i,t,r){switch(i){case"$type":return[`filter-type-${r}`,t];case"$id":return[`filter-id-${r}`,t];default:return[`filter-${r}`,i,t]}}function R0(i,t){if(t.length===0)return!1;switch(i){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some(r=>typeof r!=typeof t[0])?["filter-in-large",i,["literal",t.sort(_c)]]:["filter-in-small",i,["literal",t]]}}function Ku(i){switch(i){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",i]}}function yl(i){return["!",i]}function U0(i){const t=typeof i;if(t==="number"||t==="boolean"||t==="string"||i==null)return JSON.stringify(i);if(Array.isArray(i)){let g="[";for(const v of i)g+=`${U0(v)},`;return`${g}]`}const r=Object.keys(i).sort();let l="{";for(let g=0;g<r.length;g++)l+=`${JSON.stringify(r[g])}:${U0(i[r[g]])},`;return`${l}}`}function lu(i){let t="";for(const r of Je)t+=`/${U0(i[r])}`;return t}function z0(i){const t=i.value;return t?[new Ct(i.key,t,"constants have been deprecated as of v8")]:[]}function Di(i){return i instanceof Number||i instanceof String||i instanceof Boolean?i.valueOf():i}function Fl(i){if(Array.isArray(i))return i.map(Fl);if(i instanceof Object&&!(i instanceof Number||i instanceof String||i instanceof Boolean)){const t={};for(const r in i)t[r]=Fl(i[r]);return t}return Di(i)}function ba(i){const t=i.key,r=i.value,l=i.valueSpec||{},g=i.objectElementValidators||{},v=i.style,b=i.styleSpec,A=i.validateSpec;let P=[];const R=_r(r);if(R!=="object")return[new Ct(t,r,`object expected, ${R} found`)];for(const G in r){const N=G.split(".")[0],H=Ut(l,N)||l["*"];let Y;if(Ut(g,N))Y=g[N];else if(Ut(l,N))Y=A;else if(g["*"])Y=g["*"];else{if(!l["*"]){P.push(new Ct(t,r[G],`unknown property "${G}"`));continue}Y=A}P=P.concat(Y({key:(t&&`${t}.`)+G,value:r[G],valueSpec:H,style:v,styleSpec:b,object:r,objectKey:G,validateSpec:A},r))}for(const G in l)g[G]||l[G].required&&l[G].default===void 0&&r[G]===void 0&&P.push(new Ct(t,r,`missing required property "${G}"`));return P}function Yc(i){const t=i.value,r=i.valueSpec,l=i.style,g=i.styleSpec,v=i.key,b=i.arrayElementValidator||i.validateSpec;if(_r(t)!=="array")return[new Ct(v,t,`array expected, ${_r(t)} found`)];if(r.length&&t.length!==r.length)return[new Ct(v,t,`array length ${r.length} expected, length ${t.length} found`)];if(r["min-length"]&&t.length<r["min-length"])return[new Ct(v,t,`array length at least ${r["min-length"]} expected, length ${t.length} found`)];let A={type:r.value,values:r.values};g.$version<7&&(A.function=r.function),_r(r.value)==="object"&&(A=r.value);let P=[];for(let R=0;R<t.length;R++)P=P.concat(b({array:t,arrayIndex:R,value:t[R],valueSpec:A,validateSpec:i.validateSpec,style:l,styleSpec:g,key:`${v}[${R}]`}));return P}function Nl(i){const t=i.key,r=i.value,l=i.valueSpec;let g=_r(r);return g==="number"&&r!=r&&(g="NaN"),g!=="number"?[new Ct(t,r,`number expected, ${g} found`)]:"minimum"in l&&r<l.minimum?[new Ct(t,r,`${r} is less than the minimum value ${l.minimum}`)]:"maximum"in l&&r>l.maximum?[new Ct(t,r,`${r} is greater than the maximum value ${l.maximum}`)]:[]}function qs(i){const t=i.valueSpec,r=Di(i.value.type);let l,g,v,b={};const A=r!=="categorical"&&i.value.property===void 0,P=!A,R=_r(i.value.stops)==="array"&&_r(i.value.stops[0])==="array"&&_r(i.value.stops[0][0])==="object",G=ba({key:i.key,value:i.value,valueSpec:i.styleSpec.function,validateSpec:i.validateSpec,style:i.style,styleSpec:i.styleSpec,objectElementValidators:{stops:function(Y){if(r==="identity")return[new Ct(Y.key,Y.value,'identity function may not have a "stops" property')];let ee=[];const se=Y.value;return ee=ee.concat(Yc({key:Y.key,value:se,valueSpec:Y.valueSpec,validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec,arrayElementValidator:N})),_r(se)==="array"&&se.length===0&&ee.push(new Ct(Y.key,se,"array must have at least one stop")),ee},default:function(Y){return Y.validateSpec({key:Y.key,value:Y.value,valueSpec:t,validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec})}}});return r==="identity"&&A&&G.push(new Ct(i.key,i.value,'missing required property "property"')),r==="identity"||i.value.stops||G.push(new Ct(i.key,i.value,'missing required property "stops"')),r==="exponential"&&i.valueSpec.expression&&!ls(i.valueSpec)&&G.push(new Ct(i.key,i.value,"exponential functions not supported")),i.styleSpec.$version>=8&&(P&&!Bl(i.valueSpec)?G.push(new Ct(i.key,i.value,"property functions not supported")):A&&!Kc(i.valueSpec)&&G.push(new Ct(i.key,i.value,"zoom functions not supported"))),r!=="categorical"&&!R||i.value.property!==void 0||G.push(new Ct(i.key,i.value,'"property" property is required')),G;function N(Y){let ee=[];const se=Y.value,xe=Y.key;if(_r(se)!=="array")return[new Ct(xe,se,`array expected, ${_r(se)} found`)];if(se.length!==2)return[new Ct(xe,se,`array length 2 expected, length ${se.length} found`)];if(R){if(_r(se[0])!=="object")return[new Ct(xe,se,`object expected, ${_r(se[0])} found`)];if(se[0].zoom===void 0)return[new Ct(xe,se,"object stop key must have zoom")];if(se[0].value===void 0)return[new Ct(xe,se,"object stop key must have value")];if(v&&v>Di(se[0].zoom))return[new Ct(xe,se[0].zoom,"stop zoom values must appear in ascending order")];Di(se[0].zoom)!==v&&(v=Di(se[0].zoom),g=void 0,b={}),ee=ee.concat(ba({key:`${xe}[0]`,value:se[0],valueSpec:{zoom:{}},validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec,objectElementValidators:{zoom:Nl,value:H}}))}else ee=ee.concat(H({key:`${xe}[0]`,value:se[0],validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec},se));return gl(Fl(se[1]))?ee.concat([new Ct(`${xe}[1]`,se[1],"expressions are not allowed in function stops.")]):ee.concat(Y.validateSpec({key:`${xe}[1]`,value:se[1],valueSpec:t,validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec}))}function H(Y,ee){const se=_r(Y.value),xe=Di(Y.value),Ie=Y.value!==null?Y.value:ee;if(l){if(se!==l)return[new Ct(Y.key,Ie,`${se} stop domain type must match previous stop domain type ${l}`)]}else l=se;if(se!=="number"&&se!=="string"&&se!=="boolean")return[new Ct(Y.key,Ie,"stop domain value must be a number, string, or boolean")];if(se!=="number"&&r!=="categorical"){let Ke=`number expected, ${se} found`;return Bl(t)&&r===void 0&&(Ke+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Ct(Y.key,Ie,Ke)]}return r!=="categorical"||se!=="number"||isFinite(xe)&&Math.floor(xe)===xe?r!=="categorical"&&se==="number"&&g!==void 0&&xe<g?[new Ct(Y.key,Ie,"stop domain values must appear in ascending order")]:(g=xe,r==="categorical"&&xe in b?[new Ct(Y.key,Ie,"stop domain values must be unique")]:(b[xe]=!0,[])):[new Ct(Y.key,Ie,`integer expected, found ${xe}`)]}}function Xa(i){const t=(i.expressionContext==="property"?E0:ml)(Fl(i.value),i.valueSpec);if(t.result==="error")return t.value.map(l=>new Ct(`${i.key}${l.key}`,i.value,l.message));const r=t.value.expression||t.value._styleExpression.expression;if(i.expressionContext==="property"&&i.propertyKey==="text-font"&&!r.outputDefined())return[new Ct(i.key,i.value,`Invalid data expression for "${i.propertyKey}". Output values must be contained as literals within the expression.`)];if(i.expressionContext==="property"&&i.propertyType==="layout"&&!Vu(r))return[new Ct(i.key,i.value,'"feature-state" data expressions are not supported with layout properties.')];if(i.expressionContext==="filter"&&!Vu(r))return[new Ct(i.key,i.value,'"feature-state" data expressions are not supported with filters.')];if(i.expressionContext&&i.expressionContext.indexOf("cluster")===0){if(!gc(r,["zoom","feature-state"]))return[new Ct(i.key,i.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(i.expressionContext==="cluster-initial"&&!nu(r))return[new Ct(i.key,i.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Bo(i){const t=i.key,r=i.value,l=_r(r);return l!=="string"?[new Ct(t,r,`color expected, ${l} found`)]:er.parse(String(r))?[]:[new Ct(t,r,`color expected, "${r}" found`)]}function G0(i){const t=i.key,r=i.value,l=i.valueSpec,g=[];return Array.isArray(l.values)?l.values.indexOf(Di(r))===-1&&g.push(new Ct(t,r,`expected one of [${l.values.join(", ")}], ${JSON.stringify(r)} found`)):Object.keys(l.values).indexOf(Di(r))===-1&&g.push(new Ct(t,r,`expected one of [${Object.keys(l.values).join(", ")}], ${JSON.stringify(r)} found`)),g}function de(i){return Ni(Fl(i.value))?Xa(br({},i,{expressionContext:"filter",valueSpec:{value:"boolean"}})):uu(i)}function uu(i){const t=i.value,r=i.key;if(_r(t)!=="array")return[new Ct(r,t,`array expected, ${_r(t)} found`)];const l=i.styleSpec;let g,v=[];if(t.length<1)return[new Ct(r,t,"filter array must have at least 1 element")];switch(v=v.concat(G0({key:`${r}[0]`,value:t[0],valueSpec:l.filter_operator,style:i.style,styleSpec:i.styleSpec})),Di(t[0])){case"<":case"<=":case">":case">=":t.length>=2&&Di(t[1])==="$type"&&v.push(new Ct(r,t,`"$type" cannot be use with operator "${t[0]}"`));case"==":case"!=":t.length!==3&&v.push(new Ct(r,t,`filter array for operator "${t[0]}" must have 3 elements`));case"in":case"!in":t.length>=2&&(g=_r(t[1]),g!=="string"&&v.push(new Ct(`${r}[1]`,t[1],`string expected, ${g} found`)));for(let b=2;b<t.length;b++)g=_r(t[b]),Di(t[1])==="$type"?v=v.concat(G0({key:`${r}[${b}]`,value:t[b],valueSpec:l.geometry_type,style:i.style,styleSpec:i.styleSpec})):g!=="string"&&g!=="number"&&g!=="boolean"&&v.push(new Ct(`${r}[${b}]`,t[b],`string, number, or boolean expected, ${g} found`));break;case"any":case"all":case"none":for(let b=1;b<t.length;b++)v=v.concat(uu({key:`${r}[${b}]`,value:t[b],style:i.style,styleSpec:i.styleSpec}));break;case"has":case"!has":g=_r(t[1]),t.length!==2?v.push(new Ct(r,t,`filter array for "${t[0]}" operator must have 2 elements`)):g!=="string"&&v.push(new Ct(`${r}[1]`,t[1],`string expected, ${g} found`))}return v}function _l(i,t){const r=i.key,l=i.validateSpec,g=i.style,v=i.styleSpec,b=i.value,A=i.objectKey,P=v[`${t}_${i.layerType}`];if(!P)return[];const R=A.match(/^(.*)-transition$/);if(t==="paint"&&R&&P[R[1]]&&P[R[1]].transition)return l({key:r,value:b,valueSpec:v.transition,style:g,styleSpec:v});const G=i.valueSpec||P[A];if(!G)return[new Ct(r,b,`unknown property "${A}"`)];let N;if(_r(b)==="string"&&Bl(G)&&!G.tokens&&(N=/^{([^}]+)}$/.exec(b)))return[new Ct(r,b,`"${A}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(N[1])} }\`.`)];const H=[];return i.layerType==="symbol"&&(A==="text-field"&&g&&!g.glyphs&&H.push(new Ct(r,b,'use of "text-field" requires a style "glyphs" property')),A==="text-font"&&ru(Fl(b))&&Di(b.type)==="identity"&&H.push(new Ct(r,b,'"text-font" does not support identity functions'))),H.concat(l({key:i.key,value:b,valueSpec:G,style:g,styleSpec:v,expressionContext:"property",propertyType:t,propertyKey:A}))}function Ya(i){return _l(i,"paint")}function dr(i){return _l(i,"layout")}function s0(i){let t=[];const r=i.value,l=i.key,g=i.style,v=i.styleSpec;if(_r(r)!=="object")return[new Ct(l,r,`object expected, ${_r(r)} found`)];r.type||r.ref||t.push(new Ct(l,r,'either "type" or "ref" is required'));let b=Di(r.type);const A=Di(r.ref);if(r.id){const P=Di(r.id);for(let R=0;R<i.arrayIndex;R++){const G=g.layers[R];Di(G.id)===P&&t.push(new Ct(l,r.id,`duplicate layer id "${r.id}", previously used at line ${G.id.__line__}`))}}if("ref"in r){let P;["type","source","source-layer","filter","layout"].forEach(R=>{R in r&&t.push(new Ct(l,r[R],`"${R}" is prohibited for ref layers`))}),g.layers.forEach(R=>{Di(R.id)===A&&(P=R)}),P?P.ref?t.push(new Ct(l,r.ref,"ref cannot reference another ref layer")):b=Di(P.type):t.push(new Ct(l,r.ref,`ref layer "${A}" not found`))}else if(b!=="background")if(r.source){const P=g.sources&&g.sources[r.source],R=P&&Di(P.type);P?R==="vector"&&b==="raster"?t.push(new Ct(l,r.source,`layer "${r.id}" requires a raster source`)):R!=="raster-dem"&&b==="hillshade"?t.push(new Ct(l,r.source,`layer "${r.id}" requires a raster-dem source`)):R==="raster"&&b!=="raster"?t.push(new Ct(l,r.source,`layer "${r.id}" requires a vector source`)):R!=="vector"||r["source-layer"]?R==="raster-dem"&&b!=="hillshade"?t.push(new Ct(l,r.source,"raster-dem source can only be used with layer type 'hillshade'.")):b!=="line"||!r.paint||!r.paint["line-gradient"]||R==="geojson"&&P.lineMetrics||t.push(new Ct(l,r,`layer "${r.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):t.push(new Ct(l,r,`layer "${r.id}" must specify a "source-layer"`)):t.push(new Ct(l,r.source,`source "${r.source}" not found`))}else t.push(new Ct(l,r,'missing required property "source"'));return t=t.concat(ba({key:l,value:r,valueSpec:v.layer,style:i.style,styleSpec:i.styleSpec,validateSpec:i.validateSpec,objectElementValidators:{"*":()=>[],type:()=>i.validateSpec({key:`${l}.type`,value:r.type,valueSpec:v.layer.type,style:i.style,styleSpec:i.styleSpec,validateSpec:i.validateSpec,object:r,objectKey:"type"}),filter:de,layout:P=>ba({layer:r,key:P.key,value:P.value,style:P.style,styleSpec:P.styleSpec,validateSpec:P.validateSpec,objectElementValidators:{"*":R=>dr(br({layerType:b},R))}}),paint:P=>ba({layer:r,key:P.key,value:P.value,style:P.style,styleSpec:P.styleSpec,validateSpec:P.validateSpec,objectElementValidators:{"*":R=>Ya(br({layerType:b},R))}})}})),t}function la(i){const t=i.value,r=i.key,l=_r(t);return l!=="string"?[new Ct(r,t,`string expected, ${l} found`)]:[]}const vl={promoteId:function({key:i,value:t}){if(_r(t)==="string")return la({key:i,value:t});{const r=[];for(const l in t)r.push(...la({key:`${i}.${l}`,value:t[l]}));return r}}};function _o(i){const t=i.value,r=i.key,l=i.styleSpec,g=i.style,v=i.validateSpec;if(!t.type)return[new Ct(r,t,'"type" is required')];const b=Di(t.type);let A;switch(b){case"vector":case"raster":return A=ba({key:r,value:t,valueSpec:l[`source_${b.replace("-","_")}`],style:i.style,styleSpec:l,objectElementValidators:vl,validateSpec:v}),A;case"raster-dem":return A=function(P){var R;const G=(R=P.sourceName)!==null&&R!==void 0?R:"",N=P.value,H=P.styleSpec,Y=H.source_raster_dem,ee=P.style;let se=[];const xe=_r(N);if(N===void 0)return se;if(xe!=="object")return se.push(new Ct("source_raster_dem",N,`object expected, ${xe} found`)),se;const Ie=Di(N.encoding)==="custom",Ke=["redFactor","greenFactor","blueFactor","baseShift"],Ue=P.value.encoding?`"${P.value.encoding}"`:"Default";for(const K in N)!Ie&&Ke.includes(K)?se.push(new Ct(K,N[K],`In "${G}": "${K}" is only valid when "encoding" is set to "custom". ${Ue} encoding found`)):Y[K]?se=se.concat(P.validateSpec({key:K,value:N[K],valueSpec:Y[K],validateSpec:P.validateSpec,style:ee,styleSpec:H})):se.push(new Ct(K,N[K],`unknown property "${K}"`));return se}({sourceName:r,value:t,style:i.style,styleSpec:l,validateSpec:v}),A;case"geojson":if(A=ba({key:r,value:t,valueSpec:l.source_geojson,style:g,styleSpec:l,validateSpec:v,objectElementValidators:vl}),t.cluster)for(const P in t.clusterProperties){const[R,G]=t.clusterProperties[P],N=typeof R=="string"?[R,["accumulated"],["get",P]]:R;A.push(...Xa({key:`${r}.${P}.map`,value:G,expressionContext:"cluster-map"})),A.push(...Xa({key:`${r}.${P}.reduce`,value:N,expressionContext:"cluster-reduce"}))}return A;case"video":return ba({key:r,value:t,valueSpec:l.source_video,style:g,validateSpec:v,styleSpec:l});case"image":return ba({key:r,value:t,valueSpec:l.source_image,style:g,validateSpec:v,styleSpec:l});case"canvas":return[new Ct(r,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return G0({key:`${r}.type`,value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]}})}}function Ti(i){const t=i.value,r=i.styleSpec,l=r.light,g=i.style;let v=[];const b=_r(t);if(t===void 0)return v;if(b!=="object")return v=v.concat([new Ct("light",t,`object expected, ${b} found`)]),v;for(const A in t){const P=A.match(/^(.*)-transition$/);v=v.concat(P&&l[P[1]]&&l[P[1]].transition?i.validateSpec({key:A,value:t[A],valueSpec:r.transition,validateSpec:i.validateSpec,style:g,styleSpec:r}):l[A]?i.validateSpec({key:A,value:t[A],valueSpec:l[A],validateSpec:i.validateSpec,style:g,styleSpec:r}):[new Ct(A,t[A],`unknown property "${A}"`)])}return v}function Ii(i){const t=i.value,r=i.styleSpec,l=r.sky,g=i.style,v=_r(t);if(t===void 0)return[];if(v!=="object")return[new Ct("sky",t,`object expected, ${v} found`)];let b=[];for(const A in t)b=b.concat(l[A]?i.validateSpec({key:A,value:t[A],valueSpec:l[A],style:g,styleSpec:r}):[new Ct(A,t[A],`unknown property "${A}"`)]);return b}function As(i){const t=i.value,r=i.styleSpec,l=r.terrain,g=i.style;let v=[];const b=_r(t);if(t===void 0)return v;if(b!=="object")return v=v.concat([new Ct("terrain",t,`object expected, ${b} found`)]),v;for(const A in t)v=v.concat(l[A]?i.validateSpec({key:A,value:t[A],valueSpec:l[A],validateSpec:i.validateSpec,style:g,styleSpec:r}):[new Ct(A,t[A],`unknown property "${A}"`)]);return v}function Na(i){let t=[];const r=i.value,l=i.key;if(Array.isArray(r)){const g=[],v=[];for(const b in r)r[b].id&&g.includes(r[b].id)&&t.push(new Ct(l,r,`all the sprites' ids must be unique, but ${r[b].id} is duplicated`)),g.push(r[b].id),r[b].url&&v.includes(r[b].url)&&t.push(new Ct(l,r,`all the sprites' URLs must be unique, but ${r[b].url} is duplicated`)),v.push(r[b].url),t=t.concat(ba({key:`${l}[${b}]`,value:r[b],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:i.validateSpec}));return t}return la({key:l,value:r})}function Qa(i){return t=i.value,t&&t.constructor===Object?[]:[new Ct(i.key,i.value,`object expected, ${_r(i.value)} found`)];var t}const vo={"*":()=>[],array:Yc,boolean:function(i){const t=i.value,r=i.key,l=_r(t);return l!=="boolean"?[new Ct(r,t,`boolean expected, ${l} found`)]:[]},number:Nl,color:Bo,constants:z0,enum:G0,filter:de,function:qs,layer:s0,object:ba,source:_o,light:Ti,sky:Ii,terrain:As,projection:function(i){const t=i.value,r=i.styleSpec,l=r.projection,g=i.style,v=_r(t);if(t===void 0)return[];if(v!=="object")return[new Ct("projection",t,`object expected, ${v} found`)];let b=[];for(const A in t)b=b.concat(l[A]?i.validateSpec({key:A,value:t[A],valueSpec:l[A],style:g,styleSpec:r}):[new Ct(A,t[A],`unknown property "${A}"`)]);return b},projectionDefinition:function(i){const t=i.key;let r=i.value;r=r instanceof String?r.valueOf():r;const l=_r(r);return l!=="array"||function(g){return Array.isArray(g)&&g.length===3&&typeof g[0]=="string"&&typeof g[1]=="string"&&typeof g[2]=="number"}(r)||function(g){return!!["interpolate","step","literal"].includes(g[0])}(r)?["array","string"].includes(l)?[]:[new Ct(t,r,`projection expected, invalid type "${l}" found`)]:[new Ct(t,r,`projection expected, invalid array ${JSON.stringify(r)} found`)]},string:la,formatted:function(i){return la(i).length===0?[]:Xa(i)},resolvedImage:function(i){return la(i).length===0?[]:Xa(i)},padding:function(i){const t=i.key,r=i.value;if(_r(r)==="array"){if(r.length<1||r.length>4)return[new Ct(t,r,`padding requires 1 to 4 values; ${r.length} values found`)];const l={type:"number"};let g=[];for(let v=0;v<r.length;v++)g=g.concat(i.validateSpec({key:`${t}[${v}]`,value:r[v],validateSpec:i.validateSpec,valueSpec:l}));return g}return Nl({key:t,value:r,valueSpec:{}})},numberArray:function(i){const t=i.key,r=i.value;if(_r(r)==="array"){const l={type:"number"};if(r.length<1)return[new Ct(t,r,"array length at least 1 expected, length 0 found")];let g=[];for(let v=0;v<r.length;v++)g=g.concat(i.validateSpec({key:`${t}[${v}]`,value:r[v],validateSpec:i.validateSpec,valueSpec:l}));return g}return Nl({key:t,value:r,valueSpec:{}})},colorArray:function(i){const t=i.key,r=i.value;if(_r(r)==="array"){if(r.length<1)return[new Ct(t,r,"array length at least 1 expected, length 0 found")];let l=[];for(let g=0;g<r.length;g++)l=l.concat(Bo({key:`${t}[${g}]`,value:r[g]}));return l}return Bo({key:t,value:r})},variableAnchorOffsetCollection:function(i){const t=i.key,r=i.value,l=_r(r),g=i.styleSpec;if(l!=="array"||r.length<1||r.length%2!=0)return[new Ct(t,r,"variableAnchorOffsetCollection requires a non-empty array of even length")];let v=[];for(let b=0;b<r.length;b+=2)v=v.concat(G0({key:`${t}[${b}]`,value:r[b],valueSpec:g.layout_symbol["text-anchor"]})),v=v.concat(Yc({key:`${t}[${b+1}]`,value:r[b+1],valueSpec:{length:2,value:"number"},validateSpec:i.validateSpec,style:i.style,styleSpec:g}));return v},sprite:Na,state:Qa};function xl(i){const t=i.value,r=i.valueSpec,l=i.styleSpec;return i.validateSpec=xl,r.expression&&ru(Di(t))?qs(i):r.expression&&gl(Fl(t))?Xa(i):r.type&&vo[r.type]?vo[r.type](i):ba(br({},i,{valueSpec:r.type?l[r.type]:r}))}function Oo(i){const t=i.value,r=i.key,l=la(i);return l.length||(t.indexOf("{fontstack}")===-1&&l.push(new Ct(r,t,'"glyphs" url must include a "{fontstack}" token')),t.indexOf("{range}")===-1&&l.push(new Ct(r,t,'"glyphs" url must include a "{range}" token'))),l}function Ea(i,t=me){let r=[];return r=r.concat(xl({key:"",value:i,valueSpec:t.$root,styleSpec:t,style:i,validateSpec:xl,objectElementValidators:{glyphs:Oo,"*":()=>[]}})),i.constants&&(r=r.concat(z0({key:"constants",value:i.constants}))),cu(r)}function Ks(i){return function(t){return i({...t,validateSpec:xl})}}function cu(i){return[].concat(i).sort((t,r)=>t.line-r.line)}function Ki(i){return function(...t){return cu(i.apply(this,t))}}Ea.source=Ki(Ks(_o)),Ea.sprite=Ki(Ks(Na)),Ea.glyphs=Ki(Ks(Oo)),Ea.light=Ki(Ks(Ti)),Ea.sky=Ki(Ks(Ii)),Ea.terrain=Ki(Ks(As)),Ea.state=Ki(Ks(Qa)),Ea.layer=Ki(Ks(s0)),Ea.filter=Ki(Ks(de)),Ea.paintProperty=Ki(Ks(Ya)),Ea.layoutProperty=Ki(Ks(dr));const hu=Ea,Xs=hu.light,Qc=hu.sky,vc=hu.paintProperty,xc=hu.layoutProperty;function l0(i,t){let r=!1;if(t&&t.length)for(const l of t)i.fire(new Me(new Error(l.message))),r=!0;return r}class Ss{constructor(t,r,l){const g=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;const b=new Int32Array(this.arrayBuffer);t=b[0],this.d=(r=b[1])+2*(l=b[2]);for(let P=0;P<this.d*this.d;P++){const R=b[3+P],G=b[3+P+1];g.push(R===G?null:b.subarray(R,G))}const A=b[3+g.length+1];this.keys=b.subarray(b[3+g.length],A),this.bboxes=b.subarray(A),this.insert=this._insertReadonly}else{this.d=r+2*l;for(let b=0;b<this.d*this.d;b++)g.push([]);this.keys=[],this.bboxes=[]}this.n=r,this.extent=t,this.padding=l,this.scale=r/t,this.uid=0;const v=l/r*t;this.min=-v,this.max=t+v}insert(t,r,l,g,v){this._forEachCell(r,l,g,v,this._insertCell,this.uid++,void 0,void 0),this.keys.push(t),this.bboxes.push(r),this.bboxes.push(l),this.bboxes.push(g),this.bboxes.push(v)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(t,r,l,g,v,b){this.cells[v].push(b)}query(t,r,l,g,v){const b=this.min,A=this.max;if(t<=b&&r<=b&&A<=l&&A<=g&&!v)return Array.prototype.slice.call(this.keys);{const P=[];return this._forEachCell(t,r,l,g,this._queryCell,P,{},v),P}}_queryCell(t,r,l,g,v,b,A,P){const R=this.cells[v];if(R!==null){const G=this.keys,N=this.bboxes;for(let H=0;H<R.length;H++){const Y=R[H];if(A[Y]===void 0){const ee=4*Y;(P?P(N[ee+0],N[ee+1],N[ee+2],N[ee+3]):t<=N[ee+2]&&r<=N[ee+3]&&l>=N[ee+0]&&g>=N[ee+1])?(A[Y]=!0,b.push(G[Y])):A[Y]=!1}}}}_forEachCell(t,r,l,g,v,b,A,P){const R=this._convertToCellCoord(t),G=this._convertToCellCoord(r),N=this._convertToCellCoord(l),H=this._convertToCellCoord(g);for(let Y=R;Y<=N;Y++)for(let ee=G;ee<=H;ee++){const se=this.d*ee+Y;if((!P||P(this._convertFromCellCoord(Y),this._convertFromCellCoord(ee),this._convertFromCellCoord(Y+1),this._convertFromCellCoord(ee+1)))&&v.call(this,t,r,l,g,se,b,A,P))return}}_convertFromCellCoord(t){return(t-this.padding)/this.scale}_convertToCellCoord(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const t=this.cells,r=3+this.cells.length+1+1;let l=0;for(let b=0;b<this.cells.length;b++)l+=this.cells[b].length;const g=new Int32Array(r+l+this.keys.length+this.bboxes.length);g[0]=this.extent,g[1]=this.n,g[2]=this.padding;let v=r;for(let b=0;b<t.length;b++){const A=t[b];g[3+b]=v,g.set(A,v),v+=A.length}return g[3+t.length]=v,g.set(this.keys,v),v+=this.keys.length,g[3+t.length+1]=v,g.set(this.bboxes,v),v+=this.bboxes.length,g.buffer}static serialize(t,r){const l=t.toArrayBuffer();return r&&r.push(l),{buffer:l}}static deserialize(t){return new Ss(t.buffer)}}const Fo={};function un(i,t,r={}){if(Fo[i])throw new Error(`${i} is already registered.`);Object.defineProperty(t,"_classRegistryKey",{value:i,writeable:!1}),Fo[i]={klass:t,omit:r.omit||[],shallow:r.shallow||[]}}un("Object",Object),un("TransferableGridIndex",Ss),un("Color",er),un("Error",Error),un("AJAXError",Ci),un("ResolvedImage",ia),un("StylePropertyFunction",k0),un("StyleExpression",Zu,{omit:["_evaluator"]}),un("ZoomDependentExpression",Hu),un("ZoomConstantExpression",Wu),un("CompoundExpression",Ka,{omit:["_evaluate"]});for(const i in Lo)Lo[i]._classRegistryKey||un(`Expression_${i}`,Lo[i]);function pu(i){return i&&typeof ArrayBuffer<"u"&&(i instanceof ArrayBuffer||i.constructor&&i.constructor.name==="ArrayBuffer")}function du(i){return i.$name||i.constructor._classRegistryKey}function Ts(i){return!function(t){if(t===null||typeof t!="object")return!1;const r=du(t);return!(!r||r==="Object")}(i)&&(i==null||typeof i=="boolean"||typeof i=="number"||typeof i=="string"||i instanceof Boolean||i instanceof Number||i instanceof String||i instanceof Date||i instanceof RegExp||i instanceof Blob||i instanceof Error||pu(i)||Ir(i)||ArrayBuffer.isView(i)||i instanceof ImageData)}function Ja(i,t){if(Ts(i))return(pu(i)||Ir(i))&&t&&t.push(i),ArrayBuffer.isView(i)&&t&&t.push(i.buffer),i instanceof ImageData&&t&&t.push(i.data.buffer),i;if(Array.isArray(i)){const v=[];for(const b of i)v.push(Ja(b,t));return v}if(typeof i!="object")throw new Error("can't serialize object of type "+typeof i);const r=du(i);if(!r)throw new Error(`can't serialize object of unregistered class ${i.constructor.name}`);if(!Fo[r])throw new Error(`${r} is not registered.`);const{klass:l}=Fo[r],g=l.serialize?l.serialize(i,t):{};if(l.serialize){if(t&&g===t[t.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const v in i){if(!i.hasOwnProperty(v)||Fo[r].omit.indexOf(v)>=0)continue;const b=i[v];g[v]=Fo[r].shallow.indexOf(v)>=0?b:Ja(b,t)}i instanceof Error&&(g.message=i.message)}if(g.$name)throw new Error("$name property is reserved for worker serialization logic.");return r!=="Object"&&(g.$name=r),g}function bl(i){if(Ts(i))return i;if(Array.isArray(i))return i.map(bl);if(typeof i!="object")throw new Error("can't deserialize object of type "+typeof i);const t=du(i)||"Object";if(!Fo[t])throw new Error(`can't deserialize unregistered class ${t}`);const{klass:r}=Fo[t];if(!r)throw new Error(`can't deserialize unregistered class ${t}`);if(r.deserialize)return r.deserialize(i);const l=Object.create(r.prototype);for(const g of Object.keys(i)){if(g==="$name")continue;const v=i[g];l[g]=Fo[t].shallow.indexOf(g)>=0?v:bl(v)}return l}class Ys{constructor(){this.first=!0}update(t,r){const l=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=l,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=l,!0):(this.lastFloorZoom>l?(this.lastIntegerZoom=l+1,this.lastIntegerZoomTime=r):this.lastFloorZoom<l&&(this.lastIntegerZoom=l,this.lastIntegerZoomTime=r),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=l,!0))}}const lr={"Latin-1 Supplement":i=>i>=128&&i<=255,"Hangul Jamo":i=>i>=4352&&i<=4607,Khmer:i=>i>=6016&&i<=6143,"General Punctuation":i=>i>=8192&&i<=8303,"Letterlike Symbols":i=>i>=8448&&i<=8527,"Number Forms":i=>i>=8528&&i<=8591,"Miscellaneous Technical":i=>i>=8960&&i<=9215,"Control Pictures":i=>i>=9216&&i<=9279,"Optical Character Recognition":i=>i>=9280&&i<=9311,"Enclosed Alphanumerics":i=>i>=9312&&i<=9471,"Geometric Shapes":i=>i>=9632&&i<=9727,"Miscellaneous Symbols":i=>i>=9728&&i<=9983,"Miscellaneous Symbols and Arrows":i=>i>=11008&&i<=11263,"Ideographic Description Characters":i=>i>=12272&&i<=12287,"CJK Symbols and Punctuation":i=>i>=12288&&i<=12351,Hiragana:i=>i>=12352&&i<=12447,Katakana:i=>i>=12448&&i<=12543,Kanbun:i=>i>=12688&&i<=12703,"CJK Strokes":i=>i>=12736&&i<=12783,"Enclosed CJK Letters and Months":i=>i>=12800&&i<=13055,"CJK Compatibility":i=>i>=13056&&i<=13311,"Yijing Hexagram Symbols":i=>i>=19904&&i<=19967,"CJK Unified Ideographs":i=>i>=19968&&i<=40959,"Hangul Syllables":i=>i>=44032&&i<=55215,"Private Use Area":i=>i>=57344&&i<=63743,"Vertical Forms":i=>i>=65040&&i<=65055,"CJK Compatibility Forms":i=>i>=65072&&i<=65103,"Small Form Variants":i=>i>=65104&&i<=65135,"Halfwidth and Fullwidth Forms":i=>i>=65280&&i<=65519};function $l(i){for(const t of i)if(_i(t.charCodeAt(0)))return!0;return!1}function bp(i){for(const t of i)if(!eo(t.charCodeAt(0)))return!1;return!0}function fu(i){const t=i.map(r=>{try{return new RegExp(`\\p{sc=${r}}`,"u").source}catch{return null}}).filter(r=>r);return new RegExp(t.join("|"),"u")}const L0=fu(["Arab","Dupl","Mong","Ougr","Syrc"]);function eo(i){return!L0.test(String.fromCodePoint(i))}const No=fu(["Bopo","Hani","Hira","Kana","Kits","Nshu","Tang","Yiii"]);function _i(i){return!(i!==746&&i!==747&&(i<4352||!(lr["CJK Compatibility Forms"](i)&&!(i>=65097&&i<=65103)||lr["CJK Compatibility"](i)||lr["CJK Strokes"](i)||!(!lr["CJK Symbols and Punctuation"](i)||i>=12296&&i<=12305||i>=12308&&i<=12319||i===12336)||lr["Enclosed CJK Letters and Months"](i)||lr["Ideographic Description Characters"](i)||lr.Kanbun(i)||lr.Katakana(i)&&i!==12540||!(!lr["Halfwidth and Fullwidth Forms"](i)||i===65288||i===65289||i===65293||i>=65306&&i<=65310||i===65339||i===65341||i===65343||i>=65371&&i<=65503||i===65507||i>=65512&&i<=65519)||!(!lr["Small Form Variants"](i)||i>=65112&&i<=65118||i>=65123&&i<=65126)||lr["Vertical Forms"](i)||lr["Yijing Hexagram Symbols"](i)||new RegExp("\\p{sc=Cans}","u").test(String.fromCodePoint(i))||new RegExp("\\p{sc=Hang}","u").test(String.fromCodePoint(i))||No.test(String.fromCodePoint(i)))))}function $o(i){return!(_i(i)||function(t){return!!(lr["Latin-1 Supplement"](t)&&(t===167||t===169||t===174||t===177||t===188||t===189||t===190||t===215||t===247)||lr["General Punctuation"](t)&&(t===8214||t===8224||t===8225||t===8240||t===8241||t===8251||t===8252||t===8258||t===8263||t===8264||t===8265||t===8273)||lr["Letterlike Symbols"](t)||lr["Number Forms"](t)||lr["Miscellaneous Technical"](t)&&(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||t===9003||t>=9085&&t<=9114||t>=9150&&t<=9165||t===9167||t>=9169&&t<=9179||t>=9186&&t<=9215)||lr["Control Pictures"](t)&&t!==9251||lr["Optical Character Recognition"](t)||lr["Enclosed Alphanumerics"](t)||lr["Geometric Shapes"](t)||lr["Miscellaneous Symbols"](t)&&!(t>=9754&&t<=9759)||lr["Miscellaneous Symbols and Arrows"](t)&&(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243)||lr["CJK Symbols and Punctuation"](t)||lr.Katakana(t)||lr["Private Use Area"](t)||lr["CJK Compatibility Forms"](t)||lr["Small Form Variants"](t)||lr["Halfwidth and Fullwidth Forms"](t)||t===8734||t===8756||t===8757||t>=9984&&t<=10087||t>=10102&&t<=10131||t===65532||t===65533)}(i))}const jl=fu(["Adlm","Arab","Armi","Avst","Chrs","Cprt","Egyp","Elym","Gara","Hatr","Hebr","Hung","Khar","Lydi","Mand","Mani","Mend","Merc","Mero","Narb","Nbat","Nkoo","Orkh","Palm","Phli","Phlp","Phnx","Prti","Rohg","Samr","Sarb","Sogo","Syrc","Thaa","Todr","Yezi"]);function gu(i){return jl.test(String.fromCodePoint(i))}function u0(i,t){return!(!t&&gu(i)||i>=2304&&i<=3583||i>=3840&&i<=4255||lr.Khmer(i))}function us(i){for(const t of i)if(gu(t.charCodeAt(0)))return!0;return!1}const Vl=new class{constructor(){this.TIMEOUT=5e3,this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null,this.loadScriptResolve=()=>{}}setState(i){this.pluginStatus=i.pluginStatus,this.pluginURL=i.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(i){if(Vl.isParsed())throw new Error("RTL text plugin already registered.");this.applyArabicShaping=i.applyArabicShaping,this.processBidirectionalText=i.processBidirectionalText,this.processStyledBidirectionalText=i.processStyledBidirectionalText,this.loadScriptResolve()}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getRTLTextPluginStatus(){return this.pluginStatus}syncState(i,t){return s(this,void 0,void 0,function*(){if(this.isParsed())return this.getState();if(i.pluginStatus!=="loading")return this.setState(i),i;const r=i.pluginURL,l=new Promise(v=>{this.loadScriptResolve=v});t(r);const g=new Promise(v=>setTimeout(()=>v(),this.TIMEOUT));if(yield Promise.race([l,g]),this.isParsed()){const v={pluginStatus:"loaded",pluginURL:r};return this.setState(v),v}throw this.setState({pluginStatus:"error",pluginURL:""}),new Error(`RTL Text Plugin failed to import scripts from ${r}`)})}};class ii{constructor(t,r){this.zoom=t,r?(this.now=r.now,this.fadeDuration=r.fadeDuration,this.zoomHistory=r.zoomHistory,this.transition=r.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Ys,this.transition={})}isSupportedScript(t){return function(r,l){for(const g of r)if(!u0(g.charCodeAt(0),l))return!1;return!0}(t,Vl.getRTLTextPluginStatus()==="loaded")}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const t=this.zoom,r=t-Math.floor(t),l=this.crossFadingFactor();return t>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:r+(1-r)*l}:{fromScale:.5,toScale:1,t:1-(1-l)*r}}}class mu{constructor(t,r){this.property=t,this.value=r,this.expression=function(l,g){if(ru(l))return new k0(l,g);if(gl(l)){const v=E0(l,g);if(v.result==="error")throw new Error(v.value.map(b=>`${b.key}: ${b.message}`).join(", "));return v.value}{let v=l;return g.type==="color"&&typeof l=="string"?v=er.parse(l):g.type!=="padding"||typeof l!="number"&&!Array.isArray(l)?g.type!=="numberArray"||typeof l!="number"&&!Array.isArray(l)?g.type!=="colorArray"||typeof l!="string"&&!Array.isArray(l)?g.type==="variableAnchorOffsetCollection"&&Array.isArray(l)?v=Ba.parse(l):g.type==="projectionDefinition"&&typeof l=="string"&&(v=ho.parse(l)):v=Ai.parse(l):v=zr.parse(l):v=ui.parse(l),{kind:"constant",evaluate:()=>v}}}(r===void 0?t.specification.default:r,t.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(t,r,l){return this.property.possiblyEvaluate(this,t,r,l)}}class Qs{constructor(t){this.property=t,this.value=new mu(t,void 0)}transitioned(t,r){return new Bh(this.property,this.value,r,wn({},t.transition,this.transition),t.now)}untransitioned(){return new Bh(this.property,this.value,null,{},0)}}class wl{constructor(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)}getValue(t){return Nn(this._values[t].value.value)}setValue(t,r){Object.prototype.hasOwnProperty.call(this._values,t)||(this._values[t]=new Qs(this._values[t].property)),this._values[t].value=new mu(this._values[t].property,r===null?void 0:Nn(r))}getTransition(t){return Nn(this._values[t].transition)}setTransition(t,r){Object.prototype.hasOwnProperty.call(this._values,t)||(this._values[t]=new Qs(this._values[t].property)),this._values[t].transition=Nn(r)||void 0}serialize(){const t={};for(const r of Object.keys(this._values)){const l=this.getValue(r);l!==void 0&&(t[r]=l);const g=this.getTransition(r);g!==void 0&&(t[`${r}-transition`]=g)}return t}transitioned(t,r){const l=new Xu(this._properties);for(const g of Object.keys(this._values))l._values[g]=this._values[g].transitioned(t,r._values[g]);return l}untransitioned(){const t=new Xu(this._properties);for(const r of Object.keys(this._values))t._values[r]=this._values[r].untransitioned();return t}}class Bh{constructor(t,r,l,g,v){this.property=t,this.value=r,this.begin=v+g.delay||0,this.end=this.begin+g.duration||0,t.specification.transition&&(g.delay||g.duration)&&(this.prior=l)}possiblyEvaluate(t,r,l){const g=t.now||0,v=this.value.possiblyEvaluate(t,r,l),b=this.prior;if(b){if(g>this.end)return this.prior=null,v;if(this.value.isDataDriven())return this.prior=null,v;if(g<this.begin)return b.possiblyEvaluate(t,r,l);{const A=(g-this.begin)/(this.end-this.begin);return this.property.interpolate(b.possiblyEvaluate(t,r,l),v,Tt(A))}}return v}}class Xu{constructor(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)}possiblyEvaluate(t,r,l){const g=new Yu(this._properties);for(const v of Object.keys(this._values))g._values[v]=this._values[v].possiblyEvaluate(t,r,l);return g}hasTransition(){for(const t of Object.keys(this._values))if(this._values[t].prior)return!0;return!1}}class yu{constructor(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)}hasValue(t){return this._values[t].value!==void 0}getValue(t){return Nn(this._values[t].value)}setValue(t,r){this._values[t]=new mu(this._values[t].property,r===null?void 0:Nn(r))}serialize(){const t={};for(const r of Object.keys(this._values)){const l=this.getValue(r);l!==void 0&&(t[r]=l)}return t}possiblyEvaluate(t,r,l){const g=new Yu(this._properties);for(const v of Object.keys(this._values))g._values[v]=this._values[v].possiblyEvaluate(t,r,l);return g}}class xo{constructor(t,r,l){this.property=t,this.value=r,this.parameters=l}isConstant(){return this.value.kind==="constant"}constantOr(t){return this.value.kind==="constant"?this.value.value:t}evaluate(t,r,l,g){return this.property.evaluate(this.value,this.parameters,t,r,l,g)}}class Yu{constructor(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)}get(t){return this._values[t]}}class fn{constructor(t){this.specification=t}possiblyEvaluate(t,r){if(t.isDataDriven())throw new Error("Value should not be data driven");return t.expression.evaluate(r)}interpolate(t,r,l){const g=mo[this.specification.type];return g?g(t,r,l):t}}class jn{constructor(t,r){this.specification=t,this.overrides=r}possiblyEvaluate(t,r,l,g){return new xo(this,t.expression.kind==="constant"||t.expression.kind==="camera"?{kind:"constant",value:t.expression.evaluate(r,null,{},l,g)}:t.expression,r)}interpolate(t,r,l){if(t.value.kind!=="constant"||r.value.kind!=="constant")return t;if(t.value.value===void 0||r.value.value===void 0)return new xo(this,{kind:"constant",value:void 0},t.parameters);const g=mo[this.specification.type];if(g){const v=g(t.value.value,r.value.value,l);return new xo(this,{kind:"constant",value:v},t.parameters)}return t}evaluate(t,r,l,g,v,b){return t.kind==="constant"?t.value:t.evaluate(r,l,g,v,b)}}class c0 extends jn{possiblyEvaluate(t,r,l,g){if(t.value===void 0)return new xo(this,{kind:"constant",value:void 0},r);if(t.expression.kind==="constant"){const v=t.expression.evaluate(r,null,{},l,g),b=t.property.specification.type==="resolvedImage"&&typeof v!="string"?v.name:v,A=this._calculate(b,b,b,r);return new xo(this,{kind:"constant",value:A},r)}if(t.expression.kind==="camera"){const v=this._calculate(t.expression.evaluate({zoom:r.zoom-1}),t.expression.evaluate({zoom:r.zoom}),t.expression.evaluate({zoom:r.zoom+1}),r);return new xo(this,{kind:"constant",value:v},r)}return new xo(this,t.expression,r)}evaluate(t,r,l,g,v,b){if(t.kind==="source"){const A=t.evaluate(r,l,g,v,b);return this._calculate(A,A,A,r)}return t.kind==="composite"?this._calculate(t.evaluate({zoom:Math.floor(r.zoom)-1},l,g),t.evaluate({zoom:Math.floor(r.zoom)},l,g),t.evaluate({zoom:Math.floor(r.zoom)+1},l,g),r):t.value}_calculate(t,r,l,g){return g.zoom>g.zoomHistory.lastIntegerZoom?{from:t,to:r}:{from:l,to:r}}interpolate(t){return t}}class jo{constructor(t){this.specification=t}possiblyEvaluate(t,r,l,g){if(t.value!==void 0){if(t.expression.kind==="constant"){const v=t.expression.evaluate(r,null,{},l,g);return this._calculate(v,v,v,r)}return this._calculate(t.expression.evaluate(new ii(Math.floor(r.zoom-1),r)),t.expression.evaluate(new ii(Math.floor(r.zoom),r)),t.expression.evaluate(new ii(Math.floor(r.zoom+1),r)),r)}}_calculate(t,r,l,g){return g.zoom>g.zoomHistory.lastIntegerZoom?{from:t,to:r}:{from:l,to:r}}interpolate(t){return t}}class Zl{constructor(t){this.specification=t}possiblyEvaluate(t,r,l,g){return!!t.expression.evaluate(r,null,{},l,g)}interpolate(){return!1}}class Ui{constructor(t){this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const r in t){const l=t[r];l.specification.overridable&&this.overridableProperties.push(r);const g=this.defaultPropertyValues[r]=new mu(l,void 0),v=this.defaultTransitionablePropertyValues[r]=new Qs(l);this.defaultTransitioningPropertyValues[r]=v.untransitioned(),this.defaultPossiblyEvaluatedValues[r]=g.possiblyEvaluate({})}}}un("DataDrivenProperty",jn),un("DataConstantProperty",fn),un("CrossFadedDataDrivenProperty",c0),un("CrossFadedProperty",jo),un("ColorRampProperty",Zl);const Cl="-transition";class Vo extends We{constructor(t,r){if(super(),this.id=t.id,this.type=t.type,this._featureFilter={filter:()=>!0,needGeometry:!1},t.type!=="custom"&&(this.metadata=t.metadata,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,t.type!=="background"&&(this.source=t.source,this.sourceLayer=t["source-layer"],this.filter=t.filter),r.layout&&(this._unevaluatedLayout=new yu(r.layout)),r.paint)){this._transitionablePaint=new wl(r.paint);for(const l in t.paint)this.setPaintProperty(l,t.paint[l],{validate:!1});for(const l in t.layout)this.setLayoutProperty(l,t.layout[l],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Yu(r.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(t){return t==="visibility"?this.visibility:this._unevaluatedLayout.getValue(t)}setLayoutProperty(t,r,l={}){r!=null&&this._validate(xc,`layers.${this.id}.layout.${t}`,t,r,l)||(t!=="visibility"?this._unevaluatedLayout.setValue(t,r):this.visibility=r)}getPaintProperty(t){return t.endsWith(Cl)?this._transitionablePaint.getTransition(t.slice(0,-11)):this._transitionablePaint.getValue(t)}setPaintProperty(t,r,l={}){if(r!=null&&this._validate(vc,`layers.${this.id}.paint.${t}`,t,r,l))return!1;if(t.endsWith(Cl))return this._transitionablePaint.setTransition(t.slice(0,-11),r||void 0),!1;{const g=this._transitionablePaint._values[t],v=g.property.specification["property-type"]==="cross-faded-data-driven",b=g.value.isDataDriven(),A=g.value;this._transitionablePaint.setValue(t,r),this._handleSpecialPaintPropertyUpdate(t);const P=this._transitionablePaint._values[t].value;return P.isDataDriven()||b||v||this._handleOverridablePaintPropertyUpdate(t,A,P)}}_handleSpecialPaintPropertyUpdate(t){}_handleOverridablePaintPropertyUpdate(t,r,l){return!1}isHidden(t){return!!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||this.visibility==="none"}updateTransitions(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(t,r){t.getCrossfadeParameters&&(this._crossfadeParameters=t.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t,void 0,r)),this.paint=this._transitioningPaint.possiblyEvaluate(t,void 0,r)}serialize(){const t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(t.layout=t.layout||{},t.layout.visibility=this.visibility),An(t,(r,l)=>!(r===void 0||l==="layout"&&!Object.keys(r).length||l==="paint"&&!Object.keys(r).length))}_validate(t,r,l,g,v={}){return(!v||v.validate!==!1)&&l0(this,t.call(hu,{key:r,layerType:this.type,objectKey:l,value:g,styleSpec:me,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const t in this.paint._values){const r=this.paint.get(t);if(r instanceof xo&&Bl(r.property.specification)&&(r.value.kind==="source"||r.value.kind==="composite")&&r.value.isStateDependent)return!0}return!1}}const $a={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class cs{constructor(t,r){this._structArray=t,this._pos1=r*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Nr{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(t,r){return t._trim(),r&&(t.isTransferred=!0,r.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}}static deserialize(t){const r=Object.create(this.prototype);return r.arrayBuffer=t.arrayBuffer,r.length=t.length,r.capacity=t.arrayBuffer.byteLength/r.bytesPerElement,r._refreshViews(),r}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(t){this.reserve(t),this.length=t}reserve(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const r=this.uint8;this._refreshViews(),r&&this.uint8.set(r)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function ai(i,t=1){let r=0,l=0;return{members:i.map(g=>{const v=$a[g.type].BYTES_PER_ELEMENT,b=r=B0(r,Math.max(t,v)),A=g.components||1;return l=Math.max(l,v),r+=v*A,{name:g.name,type:g.type,components:A,offset:b}}),size:B0(r,Math.max(l,t)),alignment:t}}function B0(i,t){return Math.ceil(i/t)*t}class O0 extends Nr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,r){const l=this.length;return this.resize(l+1),this.emplace(l,t,r)}emplace(t,r,l){const g=2*t;return this.int16[g+0]=r,this.int16[g+1]=l,t}}O0.prototype.bytesPerElement=4,un("StructArrayLayout2i4",O0);class Ms extends Nr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,r,l){const g=this.length;return this.resize(g+1),this.emplace(g,t,r,l)}emplace(t,r,l,g){const v=3*t;return this.int16[v+0]=r,this.int16[v+1]=l,this.int16[v+2]=g,t}}Ms.prototype.bytesPerElement=6,un("StructArrayLayout3i6",Ms);class ja extends Nr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,r,l,g){const v=this.length;return this.resize(v+1),this.emplace(v,t,r,l,g)}emplace(t,r,l,g,v){const b=4*t;return this.int16[b+0]=r,this.int16[b+1]=l,this.int16[b+2]=g,this.int16[b+3]=v,t}}ja.prototype.bytesPerElement=8,un("StructArrayLayout4i8",ja);class Qu extends Nr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,r,l,g,v,b){const A=this.length;return this.resize(A+1),this.emplace(A,t,r,l,g,v,b)}emplace(t,r,l,g,v,b,A){const P=6*t;return this.int16[P+0]=r,this.int16[P+1]=l,this.int16[P+2]=g,this.int16[P+3]=v,this.int16[P+4]=b,this.int16[P+5]=A,t}}Qu.prototype.bytesPerElement=12,un("StructArrayLayout2i4i12",Qu);class Jc extends Nr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,r,l,g,v,b){const A=this.length;return this.resize(A+1),this.emplace(A,t,r,l,g,v,b)}emplace(t,r,l,g,v,b,A){const P=4*t,R=8*t;return this.int16[P+0]=r,this.int16[P+1]=l,this.uint8[R+4]=g,this.uint8[R+5]=v,this.uint8[R+6]=b,this.uint8[R+7]=A,t}}Jc.prototype.bytesPerElement=8,un("StructArrayLayout2i4ub8",Jc);class hs extends Nr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,r){const l=this.length;return this.resize(l+1),this.emplace(l,t,r)}emplace(t,r,l){const g=2*t;return this.float32[g+0]=r,this.float32[g+1]=l,t}}hs.prototype.bytesPerElement=8,un("StructArrayLayout2f8",hs);class ps extends Nr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,r,l,g,v,b,A,P,R,G){const N=this.length;return this.resize(N+1),this.emplace(N,t,r,l,g,v,b,A,P,R,G)}emplace(t,r,l,g,v,b,A,P,R,G,N){const H=10*t;return this.uint16[H+0]=r,this.uint16[H+1]=l,this.uint16[H+2]=g,this.uint16[H+3]=v,this.uint16[H+4]=b,this.uint16[H+5]=A,this.uint16[H+6]=P,this.uint16[H+7]=R,this.uint16[H+8]=G,this.uint16[H+9]=N,t}}ps.prototype.bytesPerElement=20,un("StructArrayLayout10ui20",ps);class m extends Nr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,r,l,g,v,b,A,P,R,G,N,H){const Y=this.length;return this.resize(Y+1),this.emplace(Y,t,r,l,g,v,b,A,P,R,G,N,H)}emplace(t,r,l,g,v,b,A,P,R,G,N,H,Y){const ee=12*t;return this.int16[ee+0]=r,this.int16[ee+1]=l,this.int16[ee+2]=g,this.int16[ee+3]=v,this.uint16[ee+4]=b,this.uint16[ee+5]=A,this.uint16[ee+6]=P,this.uint16[ee+7]=R,this.int16[ee+8]=G,this.int16[ee+9]=N,this.int16[ee+10]=H,this.int16[ee+11]=Y,t}}m.prototype.bytesPerElement=24,un("StructArrayLayout4i4ui4i24",m);class e extends Nr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,r,l){const g=this.length;return this.resize(g+1),this.emplace(g,t,r,l)}emplace(t,r,l,g){const v=3*t;return this.float32[v+0]=r,this.float32[v+1]=l,this.float32[v+2]=g,t}}e.prototype.bytesPerElement=12,un("StructArrayLayout3f12",e);class n extends Nr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(t){const r=this.length;return this.resize(r+1),this.emplace(r,t)}emplace(t,r){return this.uint32[1*t+0]=r,t}}n.prototype.bytesPerElement=4,un("StructArrayLayout1ul4",n);class u extends Nr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,r,l,g,v,b,A,P,R){const G=this.length;return this.resize(G+1),this.emplace(G,t,r,l,g,v,b,A,P,R)}emplace(t,r,l,g,v,b,A,P,R,G){const N=10*t,H=5*t;return this.int16[N+0]=r,this.int16[N+1]=l,this.int16[N+2]=g,this.int16[N+3]=v,this.int16[N+4]=b,this.int16[N+5]=A,this.uint32[H+3]=P,this.uint16[N+8]=R,this.uint16[N+9]=G,t}}u.prototype.bytesPerElement=20,un("StructArrayLayout6i1ul2ui20",u);class f extends Nr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,r,l,g,v,b){const A=this.length;return this.resize(A+1),this.emplace(A,t,r,l,g,v,b)}emplace(t,r,l,g,v,b,A){const P=6*t;return this.int16[P+0]=r,this.int16[P+1]=l,this.int16[P+2]=g,this.int16[P+3]=v,this.int16[P+4]=b,this.int16[P+5]=A,t}}f.prototype.bytesPerElement=12,un("StructArrayLayout2i2i2i12",f);class y extends Nr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,r,l,g,v){const b=this.length;return this.resize(b+1),this.emplace(b,t,r,l,g,v)}emplace(t,r,l,g,v,b){const A=4*t,P=8*t;return this.float32[A+0]=r,this.float32[A+1]=l,this.float32[A+2]=g,this.int16[P+6]=v,this.int16[P+7]=b,t}}y.prototype.bytesPerElement=16,un("StructArrayLayout2f1f2i16",y);class C extends Nr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,r,l,g,v,b){const A=this.length;return this.resize(A+1),this.emplace(A,t,r,l,g,v,b)}emplace(t,r,l,g,v,b,A){const P=16*t,R=4*t,G=8*t;return this.uint8[P+0]=r,this.uint8[P+1]=l,this.float32[R+1]=g,this.float32[R+2]=v,this.int16[G+6]=b,this.int16[G+7]=A,t}}C.prototype.bytesPerElement=16,un("StructArrayLayout2ub2f2i16",C);class T extends Nr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,r,l){const g=this.length;return this.resize(g+1),this.emplace(g,t,r,l)}emplace(t,r,l,g){const v=3*t;return this.uint16[v+0]=r,this.uint16[v+1]=l,this.uint16[v+2]=g,t}}T.prototype.bytesPerElement=6,un("StructArrayLayout3ui6",T);class k extends Nr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,r,l,g,v,b,A,P,R,G,N,H,Y,ee,se,xe,Ie){const Ke=this.length;return this.resize(Ke+1),this.emplace(Ke,t,r,l,g,v,b,A,P,R,G,N,H,Y,ee,se,xe,Ie)}emplace(t,r,l,g,v,b,A,P,R,G,N,H,Y,ee,se,xe,Ie,Ke){const Ue=24*t,K=12*t,ye=48*t;return this.int16[Ue+0]=r,this.int16[Ue+1]=l,this.uint16[Ue+2]=g,this.uint16[Ue+3]=v,this.uint32[K+2]=b,this.uint32[K+3]=A,this.uint32[K+4]=P,this.uint16[Ue+10]=R,this.uint16[Ue+11]=G,this.uint16[Ue+12]=N,this.float32[K+7]=H,this.float32[K+8]=Y,this.uint8[ye+36]=ee,this.uint8[ye+37]=se,this.uint8[ye+38]=xe,this.uint32[K+10]=Ie,this.int16[Ue+22]=Ke,t}}k.prototype.bytesPerElement=48,un("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",k);class z extends Nr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,r,l,g,v,b,A,P,R,G,N,H,Y,ee,se,xe,Ie,Ke,Ue,K,ye,Oe,ft,Zt,xt,Mt,Qt,Ht){const Xt=this.length;return this.resize(Xt+1),this.emplace(Xt,t,r,l,g,v,b,A,P,R,G,N,H,Y,ee,se,xe,Ie,Ke,Ue,K,ye,Oe,ft,Zt,xt,Mt,Qt,Ht)}emplace(t,r,l,g,v,b,A,P,R,G,N,H,Y,ee,se,xe,Ie,Ke,Ue,K,ye,Oe,ft,Zt,xt,Mt,Qt,Ht,Xt){const Et=32*t,In=16*t;return this.int16[Et+0]=r,this.int16[Et+1]=l,this.int16[Et+2]=g,this.int16[Et+3]=v,this.int16[Et+4]=b,this.int16[Et+5]=A,this.int16[Et+6]=P,this.int16[Et+7]=R,this.uint16[Et+8]=G,this.uint16[Et+9]=N,this.uint16[Et+10]=H,this.uint16[Et+11]=Y,this.uint16[Et+12]=ee,this.uint16[Et+13]=se,this.uint16[Et+14]=xe,this.uint16[Et+15]=Ie,this.uint16[Et+16]=Ke,this.uint16[Et+17]=Ue,this.uint16[Et+18]=K,this.uint16[Et+19]=ye,this.uint16[Et+20]=Oe,this.uint16[Et+21]=ft,this.uint16[Et+22]=Zt,this.uint32[In+12]=xt,this.float32[In+13]=Mt,this.float32[In+14]=Qt,this.uint16[Et+30]=Ht,this.uint16[Et+31]=Xt,t}}z.prototype.bytesPerElement=64,un("StructArrayLayout8i15ui1ul2f2ui64",z);class O extends Nr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t){const r=this.length;return this.resize(r+1),this.emplace(r,t)}emplace(t,r){return this.float32[1*t+0]=r,t}}O.prototype.bytesPerElement=4,un("StructArrayLayout1f4",O);class W extends Nr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,r,l){const g=this.length;return this.resize(g+1),this.emplace(g,t,r,l)}emplace(t,r,l,g){const v=3*t;return this.uint16[6*t+0]=r,this.float32[v+1]=l,this.float32[v+2]=g,t}}W.prototype.bytesPerElement=12,un("StructArrayLayout1ui2f12",W);class Z extends Nr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,r,l){const g=this.length;return this.resize(g+1),this.emplace(g,t,r,l)}emplace(t,r,l,g){const v=4*t;return this.uint32[2*t+0]=r,this.uint16[v+2]=l,this.uint16[v+3]=g,t}}Z.prototype.bytesPerElement=8,un("StructArrayLayout1ul2ui8",Z);class Q extends Nr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,r){const l=this.length;return this.resize(l+1),this.emplace(l,t,r)}emplace(t,r,l){const g=2*t;return this.uint16[g+0]=r,this.uint16[g+1]=l,t}}Q.prototype.bytesPerElement=4,un("StructArrayLayout2ui4",Q);class ie extends Nr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t){const r=this.length;return this.resize(r+1),this.emplace(r,t)}emplace(t,r){return this.uint16[1*t+0]=r,t}}ie.prototype.bytesPerElement=2,un("StructArrayLayout1ui2",ie);class Ce extends Nr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,r,l,g){const v=this.length;return this.resize(v+1),this.emplace(v,t,r,l,g)}emplace(t,r,l,g,v){const b=4*t;return this.float32[b+0]=r,this.float32[b+1]=l,this.float32[b+2]=g,this.float32[b+3]=v,t}}Ce.prototype.bytesPerElement=16,un("StructArrayLayout4f16",Ce);class we extends cs{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new he(this.anchorPointX,this.anchorPointY)}}we.prototype.size=20;class De extends u{get(t){return new we(this,t)}}un("CollisionBoxArray",De);class ke extends cs{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(t){this._structArray.uint8[this._pos1+37]=t}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(t){this._structArray.uint8[this._pos1+38]=t}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(t){this._structArray.uint32[this._pos4+10]=t}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}ke.prototype.size=48;class Le extends k{get(t){return new ke(this,t)}}un("PlacedSymbolArray",Le);class Ee extends cs{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(t){this._structArray.uint32[this._pos4+12]=t}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}Ee.prototype.size=64;class Be extends z{get(t){return new Ee(this,t)}}un("SymbolInstanceArray",Be);class je extends O{getoffsetX(t){return this.float32[1*t+0]}}un("GlyphOffsetArray",je);class Ve extends Ms{getx(t){return this.int16[3*t+0]}gety(t){return this.int16[3*t+1]}gettileUnitDistanceFromAnchor(t){return this.int16[3*t+2]}}un("SymbolLineVertexArray",Ve);class lt extends cs{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}lt.prototype.size=12;class At extends W{get(t){return new lt(this,t)}}un("TextAnchorOffsetArray",At);class rt extends cs{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}rt.prototype.size=8;class ht extends Z{get(t){return new rt(this,t)}}un("FeatureIndexArray",ht);class Dt extends O0{}class nn extends O0{}class rn extends O0{}class Gt extends Qu{}class bn extends Jc{}class Zn extends hs{}class Sr extends ps{}class di extends m{}class ei extends e{}class Mi extends n{}class Pi extends f{}class Tr extends C{}class Dr extends T{}class Xi extends Q{}const wa=ai([{name:"a_pos",components:2,type:"Int16"}],4),{members:ua}=wa;class Pr{constructor(t=[]){this._forceNewSegmentOnNextPrepare=!1,this.segments=t}prepareSegment(t,r,l,g){const v=this.segments[this.segments.length-1];return t>Pr.MAX_VERTEX_ARRAY_LENGTH&&Hn(`Max vertices per segment is ${Pr.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${t}. Consider using the \`fillLargeMeshArrays\` function if you require meshes with more than ${Pr.MAX_VERTEX_ARRAY_LENGTH} vertices.`),this._forceNewSegmentOnNextPrepare||!v||v.vertexLength+t>Pr.MAX_VERTEX_ARRAY_LENGTH||v.sortKey!==g?this.createNewSegment(r,l,g):v}createNewSegment(t,r,l){const g={vertexOffset:t.length,primitiveOffset:r.length,vertexLength:0,primitiveLength:0,vaos:{}};return l!==void 0&&(g.sortKey=l),this._forceNewSegmentOnNextPrepare=!1,this.segments.push(g),g}getOrCreateLatestSegment(t,r,l){return this.prepareSegment(0,t,r,l)}forceNewSegmentOnNextPrepare(){this._forceNewSegmentOnNextPrepare=!0}get(){return this.segments}destroy(){for(const t of this.segments)for(const r in t.vaos)t.vaos[r].destroy()}static simpleSegment(t,r,l,g){return new Pr([{vertexOffset:t,primitiveOffset:r,vertexLength:l,primitiveLength:g,vaos:{},sortKey:0}])}}function Dl(i,t){return 256*(i=kt(Math.floor(i),0,255))+kt(Math.floor(t),0,255)}Pr.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,un("SegmentVector",Pr);const ds=ai([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var Ps,Wl,fs,h0={exports:{}},Zo={exports:{}},Wo={exports:{}},Hl=function(){if(fs)return h0.exports;fs=1;var i=(Ps||(Ps=1,Zo.exports=function(r,l){var g,v,b,A,P,R,G,N;for(v=r.length-(g=3&r.length),b=l,P=3432918353,R=461845907,N=0;N<v;)G=255&r.charCodeAt(N)|(255&r.charCodeAt(++N))<<8|(255&r.charCodeAt(++N))<<16|(255&r.charCodeAt(++N))<<24,++N,b=27492+(65535&(A=5*(65535&(b=(b^=G=(65535&(G=(G=(65535&G)*P+(((G>>>16)*P&65535)<<16)&4294967295)<<15|G>>>17))*R+(((G>>>16)*R&65535)<<16)&4294967295)<<13|b>>>19))+((5*(b>>>16)&65535)<<16)&4294967295))+((58964+(A>>>16)&65535)<<16);switch(G=0,g){case 3:G^=(255&r.charCodeAt(N+2))<<16;case 2:G^=(255&r.charCodeAt(N+1))<<8;case 1:b^=G=(65535&(G=(G=(65535&(G^=255&r.charCodeAt(N)))*P+(((G>>>16)*P&65535)<<16)&4294967295)<<15|G>>>17))*R+(((G>>>16)*R&65535)<<16)&4294967295}return b^=r.length,b=2246822507*(65535&(b^=b>>>16))+((2246822507*(b>>>16)&65535)<<16)&4294967295,b=3266489909*(65535&(b^=b>>>13))+((3266489909*(b>>>16)&65535)<<16)&4294967295,(b^=b>>>16)>>>0}),Zo.exports),t=(Wl||(Wl=1,Wo.exports=function(r,l){for(var g,v=r.length,b=l^v,A=0;v>=4;)g=1540483477*(65535&(g=255&r.charCodeAt(A)|(255&r.charCodeAt(++A))<<8|(255&r.charCodeAt(++A))<<16|(255&r.charCodeAt(++A))<<24))+((1540483477*(g>>>16)&65535)<<16),b=1540483477*(65535&b)+((1540483477*(b>>>16)&65535)<<16)^(g=1540483477*(65535&(g^=g>>>24))+((1540483477*(g>>>16)&65535)<<16)),v-=4,++A;switch(v){case 3:b^=(255&r.charCodeAt(A+2))<<16;case 2:b^=(255&r.charCodeAt(A+1))<<8;case 1:b=1540483477*(65535&(b^=255&r.charCodeAt(A)))+((1540483477*(b>>>16)&65535)<<16)}return b=1540483477*(65535&(b^=b>>>13))+((1540483477*(b>>>16)&65535)<<16),(b^=b>>>15)>>>0}),Wo.exports);return h0.exports=i,h0.exports.murmur3=i,h0.exports.murmur2=t,h0.exports}(),Es=V(Hl);class p0{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(t,r,l,g){this.ids.push(ca(t)),this.positions.push(r,l,g)}getPositions(t){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const r=ca(t);let l=0,g=this.ids.length-1;for(;l<g;){const b=l+g>>1;this.ids[b]>=r?g=b:l=b+1}const v=[];for(;this.ids[l]===r;)v.push({index:this.positions[3*l],start:this.positions[3*l+1],end:this.positions[3*l+2]}),l++;return v}static serialize(t,r){const l=new Float64Array(t.ids),g=new Uint32Array(t.positions);return ha(l,g,0,l.length-1),r&&r.push(l.buffer,g.buffer),{ids:l,positions:g}}static deserialize(t){const r=new p0;return r.ids=t.ids,r.positions=t.positions,r.indexed=!0,r}}function ca(i){const t=+i;return!isNaN(t)&&t<=Number.MAX_SAFE_INTEGER?t:Es(String(i))}function ha(i,t,r,l){for(;r<l;){const g=i[r+l>>1];let v=r-1,b=l+1;for(;;){do v++;while(i[v]<g);do b--;while(i[b]>g);if(v>=b)break;bo(i,v,b),bo(t,3*v,3*b),bo(t,3*v+1,3*b+1),bo(t,3*v+2,3*b+2)}b-r<l-b?(ha(i,t,r,b),r=b+1):(ha(i,t,b+1,l),l=b)}}function bo(i,t,r){const l=i[t];i[t]=i[r],i[r]=l}un("FeaturePositionMap",p0);class vi{constructor(t,r){this.gl=t.gl,this.location=r}}class eh extends vi{constructor(t,r){super(t,r),this.current=0}set(t){this.current!==t&&(this.current=t,this.gl.uniform1f(this.location,t))}}class Oh extends vi{constructor(t,r){super(t,r),this.current=[0,0,0,0]}set(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]&&t[3]===this.current[3]||(this.current=t,this.gl.uniform4f(this.location,t[0],t[1],t[2],t[3]))}}class th extends vi{constructor(t,r){super(t,r),this.current=er.transparent}set(t){t.r===this.current.r&&t.g===this.current.g&&t.b===this.current.b&&t.a===this.current.a||(this.current=t,this.gl.uniform4f(this.location,t.r,t.g,t.b,t.a))}}const Ho=new Float32Array(16);function ks(i){return[Dl(255*i.r,255*i.g),Dl(255*i.b,255*i.a)]}class F0{constructor(t,r,l){this.value=t,this.uniformNames=r.map(g=>`u_${g}`),this.type=l}setUniform(t,r,l){t.set(l.constantOr(this.value))}getBinding(t,r,l){return this.type==="color"?new th(t,r):new eh(t,r)}}class Js{constructor(t,r){this.uniformNames=r.map(l=>`u_${l}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(t,r){this.pixelRatioFrom=r.pixelRatio,this.pixelRatioTo=t.pixelRatio,this.patternFrom=r.tlbr,this.patternTo=t.tlbr}setUniform(t,r,l,g){const v=g==="u_pattern_to"?this.patternTo:g==="u_pattern_from"?this.patternFrom:g==="u_pixel_ratio_to"?this.pixelRatioTo:g==="u_pixel_ratio_from"?this.pixelRatioFrom:null;v&&t.set(v)}getBinding(t,r,l){return l.substr(0,9)==="u_pattern"?new Oh(t,r):new eh(t,r)}}class Rs{constructor(t,r,l,g){this.expression=t,this.type=l,this.maxValue=0,this.paintVertexAttributes=r.map(v=>({name:`a_${v}`,type:"Float32",components:l==="color"?2:1,offset:0})),this.paintVertexArray=new g}populatePaintArray(t,r,l,g,v){const b=this.paintVertexArray.length,A=this.expression.evaluate(new ii(0),r,{},g,[],v);this.paintVertexArray.resize(t),this._setPaintValue(b,t,A)}updatePaintArray(t,r,l,g){const v=this.expression.evaluate({zoom:0},l,g);this._setPaintValue(t,r,v)}_setPaintValue(t,r,l){if(this.type==="color"){const g=ks(l);for(let v=t;v<r;v++)this.paintVertexArray.emplace(v,g[0],g[1])}else{for(let g=t;g<r;g++)this.paintVertexArray.emplace(g,l);this.maxValue=Math.max(this.maxValue,Math.abs(l))}}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class to{constructor(t,r,l,g,v,b){this.expression=t,this.uniformNames=r.map(A=>`u_${A}_t`),this.type=l,this.useIntegerZoom=g,this.zoom=v,this.maxValue=0,this.paintVertexAttributes=r.map(A=>({name:`a_${A}`,type:"Float32",components:l==="color"?4:2,offset:0})),this.paintVertexArray=new b}populatePaintArray(t,r,l,g,v){const b=this.expression.evaluate(new ii(this.zoom),r,{},g,[],v),A=this.expression.evaluate(new ii(this.zoom+1),r,{},g,[],v),P=this.paintVertexArray.length;this.paintVertexArray.resize(t),this._setPaintValue(P,t,b,A)}updatePaintArray(t,r,l,g){const v=this.expression.evaluate({zoom:this.zoom},l,g),b=this.expression.evaluate({zoom:this.zoom+1},l,g);this._setPaintValue(t,r,v,b)}_setPaintValue(t,r,l,g){if(this.type==="color"){const v=ks(l),b=ks(g);for(let A=t;A<r;A++)this.paintVertexArray.emplace(A,v[0],v[1],b[0],b[1])}else{for(let v=t;v<r;v++)this.paintVertexArray.emplace(v,l,g);this.maxValue=Math.max(this.maxValue,Math.abs(l),Math.abs(g))}}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(t,r){const l=this.useIntegerZoom?Math.floor(r.zoom):r.zoom,g=kt(this.expression.interpolationFactor(l,this.zoom,this.zoom+1),0,1);t.set(g)}getBinding(t,r,l){return new eh(t,r)}}class Ca{constructor(t,r,l,g,v,b){this.expression=t,this.type=r,this.useIntegerZoom=l,this.zoom=g,this.layerId=b,this.zoomInPaintVertexArray=new v,this.zoomOutPaintVertexArray=new v}populatePaintArray(t,r,l){const g=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(t),this.zoomOutPaintVertexArray.resize(t),this._setPaintValues(g,t,r.patterns&&r.patterns[this.layerId],l)}updatePaintArray(t,r,l,g,v){this._setPaintValues(t,r,l.patterns&&l.patterns[this.layerId],v)}_setPaintValues(t,r,l,g){if(!g||!l)return;const{min:v,mid:b,max:A}=l,P=g[v],R=g[b],G=g[A];if(P&&R&&G)for(let N=t;N<r;N++)this.zoomInPaintVertexArray.emplace(N,R.tl[0],R.tl[1],R.br[0],R.br[1],P.tl[0],P.tl[1],P.br[0],P.br[1],R.pixelRatio,P.pixelRatio),this.zoomOutPaintVertexArray.emplace(N,R.tl[0],R.tl[1],R.br[0],R.br[1],G.tl[0],G.tl[1],G.br[0],G.br[1],R.pixelRatio,G.pixelRatio)}upload(t){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=t.createVertexBuffer(this.zoomInPaintVertexArray,ds.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=t.createVertexBuffer(this.zoomOutPaintVertexArray,ds.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class _u{constructor(t,r,l){this.binders={},this._buffers=[];const g=[];for(const v in t.paint._values){if(!l(v))continue;const b=t.paint.get(v);if(!(b instanceof xo&&Bl(b.property.specification)))continue;const A=bc(v,t.type),P=b.value,R=b.property.specification.type,G=b.property.useIntegerZoom,N=b.property.specification["property-type"],H=N==="cross-faded"||N==="cross-faded-data-driven";if(P.kind==="constant")this.binders[v]=H?new Js(P.value,A):new F0(P.value,A,R),g.push(`/u_${v}`);else if(P.kind==="source"||H){const Y=Ju(v,R,"source");this.binders[v]=H?new Ca(P,R,G,r,Y,t.id):new Rs(P,A,R,Y),g.push(`/a_${v}`)}else{const Y=Ju(v,R,"composite");this.binders[v]=new to(P,A,R,G,r,Y),g.push(`/z_${v}`)}}this.cacheKey=g.sort().join("")}getMaxValue(t){const r=this.binders[t];return r instanceof Rs||r instanceof to?r.maxValue:0}populatePaintArrays(t,r,l,g,v){for(const b in this.binders){const A=this.binders[b];(A instanceof Rs||A instanceof to||A instanceof Ca)&&A.populatePaintArray(t,r,l,g,v)}}setConstantPatternPositions(t,r){for(const l in this.binders){const g=this.binders[l];g instanceof Js&&g.setConstantPatternPositions(t,r)}}updatePaintArrays(t,r,l,g,v){let b=!1;for(const A in t){const P=r.getPositions(A);for(const R of P){const G=l.feature(R.index);for(const N in this.binders){const H=this.binders[N];if((H instanceof Rs||H instanceof to||H instanceof Ca)&&H.expression.isStateDependent===!0){const Y=g.paint.get(N);H.expression=Y.value,H.updatePaintArray(R.start,R.end,G,t[A],v),b=!0}}}}return b}defines(){const t=[];for(const r in this.binders){const l=this.binders[r];(l instanceof F0||l instanceof Js)&&t.push(...l.uniformNames.map(g=>`#define HAS_UNIFORM_${g}`))}return t}getBinderAttributes(){const t=[];for(const r in this.binders){const l=this.binders[r];if(l instanceof Rs||l instanceof to)for(let g=0;g<l.paintVertexAttributes.length;g++)t.push(l.paintVertexAttributes[g].name);else if(l instanceof Ca)for(let g=0;g<ds.members.length;g++)t.push(ds.members[g].name)}return t}getBinderUniforms(){const t=[];for(const r in this.binders){const l=this.binders[r];if(l instanceof F0||l instanceof Js||l instanceof to)for(const g of l.uniformNames)t.push(g)}return t}getPaintVertexBuffers(){return this._buffers}getUniforms(t,r){const l=[];for(const g in this.binders){const v=this.binders[g];if(v instanceof F0||v instanceof Js||v instanceof to){for(const b of v.uniformNames)if(r[b]){const A=v.getBinding(t,r[b],b);l.push({name:b,property:g,binding:A})}}}return l}setUniforms(t,r,l,g){for(const{name:v,property:b,binding:A}of r)this.binders[b].setUniform(A,g,l.get(b),v)}updatePaintBuffers(t){this._buffers=[];for(const r in this.binders){const l=this.binders[r];if(t&&l instanceof Ca){const g=t.fromScale===2?l.zoomInPaintVertexBuffer:l.zoomOutPaintVertexBuffer;g&&this._buffers.push(g)}else(l instanceof Rs||l instanceof to)&&l.paintVertexBuffer&&this._buffers.push(l.paintVertexBuffer)}}upload(t){for(const r in this.binders){const l=this.binders[r];(l instanceof Rs||l instanceof to||l instanceof Ca)&&l.upload(t)}this.updatePaintBuffers()}destroy(){for(const t in this.binders){const r=this.binders[t];(r instanceof Rs||r instanceof to||r instanceof Ca)&&r.destroy()}}}class Il{constructor(t,r,l=()=>!0){this.programConfigurations={};for(const g of t)this.programConfigurations[g.id]=new _u(g,r,l);this.needsUpload=!1,this._featureMap=new p0,this._bufferOffset=0}populatePaintArrays(t,r,l,g,v,b){for(const A in this.programConfigurations)this.programConfigurations[A].populatePaintArrays(t,r,g,v,b);r.id!==void 0&&this._featureMap.add(r.id,l,this._bufferOffset,t),this._bufferOffset=t,this.needsUpload=!0}updatePaintArrays(t,r,l,g){for(const v of l)this.needsUpload=this.programConfigurations[v.id].updatePaintArrays(t,this._featureMap,r,v,g)||this.needsUpload}get(t){return this.programConfigurations[t]}upload(t){if(this.needsUpload){for(const r in this.programConfigurations)this.programConfigurations[r].upload(t);this.needsUpload=!1}}destroy(){for(const t in this.programConfigurations)this.programConfigurations[t].destroy()}}function bc(i,t){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[i]||[i.replace(`${t}-`,"").replace(/-/g,"_")]}function Ju(i,t,r){const l={color:{source:hs,composite:Ce},number:{source:O,composite:hs}},g=function(v){return{"line-pattern":{source:Sr,composite:Sr},"fill-pattern":{source:Sr,composite:Sr},"fill-extrusion-pattern":{source:Sr,composite:Sr}}[v]}(i);return g&&g[r]||l[t][r]}un("ConstantBinder",F0),un("CrossFadedConstantBinder",Js),un("SourceExpressionBinder",Rs),un("CrossFadedCompositeBinder",Ca),un("CompositeExpressionBinder",to),un("ProgramConfiguration",_u,{omit:["_buffers"]}),un("ProgramConfigurationSet",Il);const ec=Math.pow(2,14)-1,wp=-ec-1;function Al(i){const t=yt/i.extent,r=i.loadGeometry();for(let l=0;l<r.length;l++){const g=r[l];for(let v=0;v<g.length;v++){const b=g[v],A=Math.round(b.x*t),P=Math.round(b.y*t);b.x=kt(A,wp,ec),b.y=kt(P,wp,ec),(A<b.x||A>b.x+1||P<b.y||P>b.y+1)&&Hn("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return r}function N0(i,t){return{type:i.type,id:i.id,properties:i.properties,geometry:t?Al(i):[]}}const wc=-32768;function Bd(i,t,r,l,g){i.emplaceBack(wc+8*t+l,wc+8*r+g)}class Cc{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(r=>r.id),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new nn,this.indexArray=new Dr,this.segments=new Pr,this.programConfigurations=new Il(t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter(r=>r.isStateDependent()).map(r=>r.id)}populate(t,r,l){const g=this.layers[0],v=[];let b=null,A=!1,P=g.type==="heatmap";if(g.type==="circle"){const G=g;b=G.layout.get("circle-sort-key"),A=!b.isConstant(),P=P||G.paint.get("circle-pitch-alignment")==="map"}const R=P?r.subdivisionGranularity.circle:1;for(const{feature:G,id:N,index:H,sourceLayerIndex:Y}of t){const ee=this.layers[0]._featureFilter.needGeometry,se=N0(G,ee);if(!this.layers[0]._featureFilter.filter(new ii(this.zoom),se,l))continue;const xe=A?b.evaluate(se,{},l):void 0,Ie={id:N,properties:G.properties,type:G.type,sourceLayerIndex:Y,index:H,geometry:ee?se.geometry:Al(G),patterns:{},sortKey:xe};v.push(Ie)}A&&v.sort((G,N)=>G.sortKey-N.sortKey);for(const G of v){const{geometry:N,index:H,sourceLayerIndex:Y}=G,ee=t[H].feature;this.addFeature(G,N,H,l,R),r.featureIndex.insert(ee,N,H,Y,this.index)}}update(t,r,l){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,r,this.stateDependentLayers,l)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,ua),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(t,r,l,g,v=1){let b;switch(v){case 1:b=[0,7];break;case 3:b=[0,2,5,7];break;case 5:b=[0,1,3,4,6,7];break;case 7:b=[0,1,2,3,4,5,6,7];break;default:throw new Error(`Invalid circle bucket granularity: ${v}; valid values are 1, 3, 5, 7.`)}const A=b.length;for(const P of r)for(const R of P){const G=R.x,N=R.y;if(G<0||G>=yt||N<0||N>=yt)continue;const H=this.segments.prepareSegment(A*A,this.layoutVertexArray,this.indexArray,t.sortKey),Y=H.vertexLength;for(let ee=0;ee<A;ee++)for(let se=0;se<A;se++)Bd(this.layoutVertexArray,G,N,b[se],b[ee]);for(let ee=0;ee<A-1;ee++)for(let se=0;se<A-1;se++){const xe=Y+ee*A+se,Ie=Y+(ee+1)*A+se;this.indexArray.emplaceBack(xe,Ie+1,xe+1),this.indexArray.emplaceBack(xe,Ie,Ie+1)}H.vertexLength+=A*A,H.primitiveLength+=(A-1)*(A-1)*2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,l,{},g)}}function Fh(i,t){for(let r=0;r<i.length;r++)if(gs(t,i[r]))return!0;for(let r=0;r<t.length;r++)if(gs(i,t[r]))return!0;return!!nh(i,t)}function Nh(i,t,r){return!!gs(i,t)||!!no(t,i,r)}function td(i,t){if(i.length===1)return Cp(t,i[0]);for(let r=0;r<t.length;r++){const l=t[r];for(let g=0;g<l.length;g++)if(gs(i,l[g]))return!0}for(let r=0;r<i.length;r++)if(Cp(t,i[r]))return!0;for(let r=0;r<t.length;r++)if(nh(i,t[r]))return!0;return!1}function nd(i,t,r){if(i.length>1){if(nh(i,t))return!0;for(let l=0;l<t.length;l++)if(no(t[l],i,r))return!0}for(let l=0;l<i.length;l++)if(no(i[l],t,r))return!0;return!1}function nh(i,t){if(i.length===0||t.length===0)return!1;for(let r=0;r<i.length-1;r++){const l=i[r],g=i[r+1];for(let v=0;v<t.length-1;v++)if(Us(l,g,t[v],t[v+1]))return!0}return!1}function Us(i,t,r,l){return yn(i,r,l)!==yn(t,r,l)&&yn(i,t,r)!==yn(i,t,l)}function no(i,t,r){const l=r*r;if(t.length===1)return i.distSqr(t[0])<l;for(let g=1;g<t.length;g++)if(rd(i,t[g-1],t[g])<l)return!0;return!1}function rd(i,t,r){const l=t.distSqr(r);if(l===0)return i.distSqr(t);const g=((i.x-t.x)*(r.x-t.x)+(i.y-t.y)*(r.y-t.y))/l;return i.distSqr(g<0?t:g>1?r:r.sub(t)._mult(g)._add(t))}function Cp(i,t){for(let r=0;r<i.length;r++)if(gs(i[r],t))return!0;return!1}function gs(i,t){let r=!1;for(let l=0,g=i.length-1;l<i.length;g=l++){const v=i[l],b=i[g];v.y>t.y!=b.y>t.y&&t.x<(b.x-v.x)*(t.y-v.y)/(b.y-v.y)+v.x&&(r=!r)}return r}function id(i,t,r){const l=r[0],g=r[2];if(i.x<l.x&&t.x<l.x||i.x>g.x&&t.x>g.x||i.y<l.y&&t.y<l.y||i.y>g.y&&t.y>g.y)return!1;const v=yn(i,t,r[0]);return v!==yn(i,t,r[1])||v!==yn(i,t,r[2])||v!==yn(i,t,r[3])}function Dc(i,t,r){const l=t.paint.get(i).value;return l.kind==="constant"?l.value:r.programConfigurations.get(t.id).getMaxValue(i)}function rh(i){return Math.sqrt(i[0]*i[0]+i[1]*i[1])}function ih(i,t,r,l,g){if(!t[0]&&!t[1])return i;const v=he.convert(t)._mult(g);r==="viewport"&&v._rotate(-l);const b=[];for(let A=0;A<i.length;A++)b.push(i[A].sub(v));return b}let Dp,ad;un("CircleBucket",Cc,{omit:["layers"]});var $0={get paint(){return ad=ad||new Ui({"circle-radius":new jn(me.paint_circle["circle-radius"]),"circle-color":new jn(me.paint_circle["circle-color"]),"circle-blur":new jn(me.paint_circle["circle-blur"]),"circle-opacity":new jn(me.paint_circle["circle-opacity"]),"circle-translate":new fn(me.paint_circle["circle-translate"]),"circle-translate-anchor":new fn(me.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new fn(me.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new fn(me.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new jn(me.paint_circle["circle-stroke-width"]),"circle-stroke-color":new jn(me.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new jn(me.paint_circle["circle-stroke-opacity"])})},get layout(){return Dp=Dp||new Ui({"circle-sort-key":new jn(me.layout_circle["circle-sort-key"])})}};class $h extends Vo{constructor(t){super(t,$0)}createBucket(t){return new Cc(t)}queryRadius(t){const r=t;return Dc("circle-radius",this,r)+Dc("circle-stroke-width",this,r)+rh(this.paint.get("circle-translate"))}queryIntersectsFeature({queryGeometry:t,feature:r,featureState:l,geometry:g,transform:v,pixelsToTileUnits:b,unwrappedTileID:A,getElevation:P}){const R=ih(t,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),-v.bearingInRadians,b),G=this.paint.get("circle-radius").evaluate(r,l)+this.paint.get("circle-stroke-width").evaluate(r,l),N=this.paint.get("circle-pitch-alignment")==="map",H=N?R:function(ee,se,xe,Ie){return ee.map(Ke=>ah(Ke,se,xe,Ie))}(R,v,A,P),Y=N?G*b:G;for(const ee of g)for(const se of ee){const xe=N?se:ah(se,v,A,P);let Ie=Y;const Ke=v.projectTileCoordinates(se.x,se.y,A,P).signedDistanceFromCamera;if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Ie*=Ke/v.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Ie*=v.cameraToCenterDistance/Ke),Nh(H,xe,Ie))return!0}return!1}}function ah(i,t,r,l){const g=t.projectTileCoordinates(i.x,i.y,r,l).point;return new he((.5*g.x+.5)*t.width,(.5*-g.y+.5)*t.height)}class jh extends Cc{}let Ic;un("HeatmapBucket",jh,{omit:["layers"]});var vu={get paint(){return Ic=Ic||new Ui({"heatmap-radius":new jn(me.paint_heatmap["heatmap-radius"]),"heatmap-weight":new jn(me.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new fn(me.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Zl(me.paint_heatmap["heatmap-color"]),"heatmap-opacity":new fn(me.paint_heatmap["heatmap-opacity"])})}};function ir(i,{width:t,height:r},l,g){if(g){if(g instanceof Uint8ClampedArray)g=new Uint8Array(g.buffer);else if(g.length!==t*r*l)throw new RangeError(`mismatched image size. expected: ${g.length} but got: ${t*r*l}`)}else g=new Uint8Array(t*r*l);return i.width=t,i.height=r,i.data=g,i}function oh(i,{width:t,height:r},l){if(t===i.width&&r===i.height)return;const g=ir({},{width:t,height:r},l);Ac(i,g,{x:0,y:0},{x:0,y:0},{width:Math.min(i.width,t),height:Math.min(i.height,r)},l),i.width=t,i.height=r,i.data=g.data}function Ac(i,t,r,l,g,v){if(g.width===0||g.height===0)return t;if(g.width>i.width||g.height>i.height||r.x>i.width-g.width||r.y>i.height-g.height)throw new RangeError("out of range source coordinates for image copy");if(g.width>t.width||g.height>t.height||l.x>t.width-g.width||l.y>t.height-g.height)throw new RangeError("out of range destination coordinates for image copy");const b=i.data,A=t.data;if(b===A)throw new Error("srcData equals dstData, so image is already copied");for(let P=0;P<g.height;P++){const R=((r.y+P)*i.width+r.x)*v,G=((l.y+P)*t.width+l.x)*v;for(let N=0;N<g.width*v;N++)A[G+N]=b[R+N]}return t}class ql{constructor(t,r){ir(this,t,1,r)}resize(t){oh(this,t,1)}clone(){return new ql({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(t,r,l,g,v){Ac(t,r,l,g,v,1)}}class ms{constructor(t,r){ir(this,t,4,r)}resize(t){oh(this,t,4)}replace(t,r){r?this.data.set(t):this.data=t instanceof Uint8ClampedArray?new Uint8Array(t.buffer):t}clone(){return new ms({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(t,r,l,g,v){Ac(t,r,l,g,v,4)}}function Kl(i){const t={},r=i.resolution||256,l=i.clips?i.clips.length:1,g=i.image||new ms({width:r,height:l});if(Math.log(r)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${r}`);const v=(b,A,P)=>{t[i.evaluationKey]=P;const R=i.expression.evaluate(t);g.data[b+A+0]=Math.floor(255*R.r/R.a),g.data[b+A+1]=Math.floor(255*R.g/R.a),g.data[b+A+2]=Math.floor(255*R.b/R.a),g.data[b+A+3]=Math.floor(255*R.a)};if(i.clips)for(let b=0,A=0;b<l;++b,A+=4*r)for(let P=0,R=0;P<r;P++,R+=4){const G=P/(r-1),{start:N,end:H}=i.clips[b];v(A,R,N*(1-G)+H*G)}else for(let b=0,A=0;b<r;b++,A+=4)v(0,A,b/(r-1));return g}un("AlphaImage",ql),un("RGBAImage",ms);const Ip="big-fb";class qo extends Vo{createBucket(t){return new jh(t)}constructor(t){super(t,vu),this.heatmapFbos=new Map,this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(t){t==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=Kl({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbos.has(Ip)&&this.heatmapFbos.delete(Ip)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let Ap;var Od={get paint(){return Ap=Ap||new Ui({"hillshade-illumination-direction":new fn(me.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-altitude":new fn(me.paint_hillshade["hillshade-illumination-altitude"]),"hillshade-illumination-anchor":new fn(me.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new fn(me.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new fn(me.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new fn(me.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new fn(me.paint_hillshade["hillshade-accent-color"]),"hillshade-method":new fn(me.paint_hillshade["hillshade-method"])})}};class od extends Vo{constructor(t){super(t,Od),this.recalculate({zoom:0,zoomHistory:{}},void 0)}getIlluminationProperties(){let t=this.paint.get("hillshade-illumination-direction").values,r=this.paint.get("hillshade-illumination-altitude").values,l=this.paint.get("hillshade-highlight-color").values,g=this.paint.get("hillshade-shadow-color").values;const v=Math.max(t.length,r.length,l.length,g.length);t=t.concat(Array(v-t.length).fill(t.at(-1))),r=r.concat(Array(v-r.length).fill(r.at(-1))),l=l.concat(Array(v-l.length).fill(l.at(-1))),g=g.concat(Array(v-g.length).fill(g.at(-1)));const b=r.map(Or);return{directionRadians:t.map(Or),altitudeRadians:b,shadowColor:g,highlightColor:l}}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}const Vh=ai([{name:"a_pos",components:2,type:"Int16"}],4),{members:Ko}=Vh;function sd(i,t,r){const l=r.patternDependencies;let g=!1;for(const v of t){const b=v.paint.get(`${i}-pattern`);b.isConstant()||(g=!0);const A=b.constantOr(null);A&&(g=!0,l[A.to]=!0,l[A.from]=!0)}return g}function ld(i,t,r,l,g){const v=g.patternDependencies;for(const b of t){const A=b.paint.get(`${i}-pattern`).value;if(A.kind!=="constant"){let P=A.evaluate({zoom:l-1},r,{},g.availableImages),R=A.evaluate({zoom:l},r,{},g.availableImages),G=A.evaluate({zoom:l+1},r,{},g.availableImages);P=P&&P.name?P.name:P,R=R&&R.name?R.name:R,G=G&&G.name?G.name:G,v[P]=!0,v[R]=!0,v[G]=!0,r.patterns[b.id]={min:P,mid:R,max:G}}}return r}function Zh(i,t,r,l,g){let v;if(g===function(b,A,P,R){let G=0;for(let N=A,H=P-R;N<P;N+=R)G+=(b[H]-b[N])*(b[N+1]+b[H+1]),H=N;return G}(i,t,r,l)>0)for(let b=t;b<r;b+=l)v=Sp(b/l|0,i[b],i[b+1],v);else for(let b=r-l;b>=t;b-=l)v=Sp(b/l|0,i[b],i[b+1],v);return v&&pa(v,v.next)&&(zs(v),v=v.next),v}function xi(i,t){if(!i)return i;t||(t=i);let r,l=i;do if(r=!1,l.steiner||!pa(l,l.next)&&$i(l.prev,l,l.next)!==0)l=l.next;else{if(zs(l),l=t=l.prev,l===l.next)break;r=!0}while(r||l!==t);return t}function ro(i,t,r,l,g,v,b){if(!i)return;!b&&v&&function(P,R,G,N){let H=P;do H.z===0&&(H.z=lh(H.x,H.y,R,G,N)),H.prevZ=H.prev,H.nextZ=H.next,H=H.next;while(H!==P);H.prevZ.nextZ=null,H.prevZ=null,function(Y){let ee,se=1;do{let xe,Ie=Y;Y=null;let Ke=null;for(ee=0;Ie;){ee++;let Ue=Ie,K=0;for(let Oe=0;Oe<se&&(K++,Ue=Ue.nextZ,Ue);Oe++);let ye=se;for(;K>0||ye>0&&Ue;)K!==0&&(ye===0||!Ue||Ie.z<=Ue.z)?(xe=Ie,Ie=Ie.nextZ,K--):(xe=Ue,Ue=Ue.nextZ,ye--),Ke?Ke.nextZ=xe:Y=xe,xe.prevZ=Ke,Ke=xe;Ie=Ue}Ke.nextZ=null,se*=2}while(ee>1)}(H)}(i,l,g,v);let A=i;for(;i.prev!==i.next;){const P=i.prev,R=i.next;if(v?sh(i,l,g,v):kn(i))t.push(P.i,i.i,R.i),zs(i),i=R.next,A=R.next;else if((i=R)===A){b?b===1?ro(i=Wh(xi(i),t),t,r,l,g,v,2):b===2&&Fd(i,t,r,l,g,v):ro(xi(i),t,r,l,g,v,1);break}}}function kn(i){const t=i.prev,r=i,l=i.next;if($i(t,r,l)>=0)return!1;const g=t.x,v=r.x,b=l.x,A=t.y,P=r.y,R=l.y,G=Math.min(g,v,b),N=Math.min(A,P,R),H=Math.max(g,v,b),Y=Math.max(A,P,R);let ee=l.next;for(;ee!==t;){if(ee.x>=G&&ee.x<=H&&ee.y>=N&&ee.y<=Y&&uh(g,A,v,P,b,R,ee.x,ee.y)&&$i(ee.prev,ee,ee.next)>=0)return!1;ee=ee.next}return!0}function sh(i,t,r,l){const g=i.prev,v=i,b=i.next;if($i(g,v,b)>=0)return!1;const A=g.x,P=v.x,R=b.x,G=g.y,N=v.y,H=b.y,Y=Math.min(A,P,R),ee=Math.min(G,N,H),se=Math.max(A,P,R),xe=Math.max(G,N,H),Ie=lh(Y,ee,t,r,l),Ke=lh(se,xe,t,r,l);let Ue=i.prevZ,K=i.nextZ;for(;Ue&&Ue.z>=Ie&&K&&K.z<=Ke;){if(Ue.x>=Y&&Ue.x<=se&&Ue.y>=ee&&Ue.y<=xe&&Ue!==g&&Ue!==b&&uh(A,G,P,N,R,H,Ue.x,Ue.y)&&$i(Ue.prev,Ue,Ue.next)>=0||(Ue=Ue.prevZ,K.x>=Y&&K.x<=se&&K.y>=ee&&K.y<=xe&&K!==g&&K!==b&&uh(A,G,P,N,R,H,K.x,K.y)&&$i(K.prev,K,K.next)>=0))return!1;K=K.nextZ}for(;Ue&&Ue.z>=Ie;){if(Ue.x>=Y&&Ue.x<=se&&Ue.y>=ee&&Ue.y<=xe&&Ue!==g&&Ue!==b&&uh(A,G,P,N,R,H,Ue.x,Ue.y)&&$i(Ue.prev,Ue,Ue.next)>=0)return!1;Ue=Ue.prevZ}for(;K&&K.z<=Ke;){if(K.x>=Y&&K.x<=se&&K.y>=ee&&K.y<=xe&&K!==g&&K!==b&&uh(A,G,P,N,R,H,K.x,K.y)&&$i(K.prev,K,K.next)>=0)return!1;K=K.nextZ}return!0}function Wh(i,t){let r=i;do{const l=r.prev,g=r.next.next;!pa(l,g)&&Xl(l,r,r.next,g)&&j0(l,g)&&j0(g,l)&&(t.push(l.i,r.i,g.i),zs(r),zs(r.next),r=i=g),r=r.next}while(r!==i);return xi(r)}function Fd(i,t,r,l,g,v){let b=i;do{let A=b.next.next;for(;A!==b.prev;){if(b.i!==A.i&&cd(b,A)){let P=el(b,A);return b=xi(b,b.next),P=xi(P,P.next),ro(b,t,r,l,g,v,0),void ro(P,t,r,l,g,v,0)}A=A.next}b=b.next}while(b!==i)}function If(i,t){let r=i.x-t.x;return r===0&&(r=i.y-t.y,r===0)&&(r=(i.next.y-i.y)/(i.next.x-i.x)-(t.next.y-t.y)/(t.next.x-t.x)),r}function xu(i,t){const r=function(g,v){let b=v;const A=g.x,P=g.y;let R,G=-1/0;if(pa(g,b))return b;do{if(pa(g,b.next))return b.next;if(P<=b.y&&P>=b.next.y&&b.next.y!==b.y){const se=b.x+(P-b.y)*(b.next.x-b.x)/(b.next.y-b.y);if(se<=A&&se>G&&(G=se,R=b.x<b.next.x?b:b.next,se===A))return R}b=b.next}while(b!==v);if(!R)return null;const N=R,H=R.x,Y=R.y;let ee=1/0;b=R;do{if(A>=b.x&&b.x>=H&&A!==b.x&&ud(P<Y?A:G,P,H,Y,P<Y?G:A,P,b.x,b.y)){const se=Math.abs(P-b.y)/(A-b.x);j0(b,g)&&(se<ee||se===ee&&(b.x>R.x||b.x===R.x&&Hh(R,b)))&&(R=b,ee=se)}b=b.next}while(b!==N);return R}(i,t);if(!r)return t;const l=el(r,i);return xi(l,l.next),xi(r,r.next)}function Hh(i,t){return $i(i.prev,i,t.prev)<0&&$i(t.next,i,i.next)<0}function lh(i,t,r,l,g){return(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i=(i-r)*g|0)|i<<8))|i<<4))|i<<2))|i<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-l)*g|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Nd(i){let t=i,r=i;do(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next;while(t!==i);return r}function ud(i,t,r,l,g,v,b,A){return(g-b)*(t-A)>=(i-b)*(v-A)&&(i-b)*(l-A)>=(r-b)*(t-A)&&(r-b)*(v-A)>=(g-b)*(l-A)}function uh(i,t,r,l,g,v,b,A){return!(i===b&&t===A)&&ud(i,t,r,l,g,v,b,A)}function cd(i,t){return i.next.i!==t.i&&i.prev.i!==t.i&&!function(r,l){let g=r;do{if(g.i!==r.i&&g.next.i!==r.i&&g.i!==l.i&&g.next.i!==l.i&&Xl(g,g.next,r,l))return!0;g=g.next}while(g!==r);return!1}(i,t)&&(j0(i,t)&&j0(t,i)&&function(r,l){let g=r,v=!1;const b=(r.x+l.x)/2,A=(r.y+l.y)/2;do g.y>A!=g.next.y>A&&g.next.y!==g.y&&b<(g.next.x-g.x)*(A-g.y)/(g.next.y-g.y)+g.x&&(v=!v),g=g.next;while(g!==r);return v}(i,t)&&($i(i.prev,i,t.prev)||$i(i,t.prev,t))||pa(i,t)&&$i(i.prev,i,i.next)>0&&$i(t.prev,t,t.next)>0)}function $i(i,t,r){return(t.y-i.y)*(r.x-t.x)-(t.x-i.x)*(r.y-t.y)}function pa(i,t){return i.x===t.x&&i.y===t.y}function Xl(i,t,r,l){const g=ch($i(i,t,r)),v=ch($i(i,t,l)),b=ch($i(r,l,i)),A=ch($i(r,l,t));return g!==v&&b!==A||!(g!==0||!Sl(i,r,t))||!(v!==0||!Sl(i,l,t))||!(b!==0||!Sl(r,i,l))||!(A!==0||!Sl(r,t,l))}function Sl(i,t,r){return t.x<=Math.max(i.x,r.x)&&t.x>=Math.min(i.x,r.x)&&t.y<=Math.max(i.y,r.y)&&t.y>=Math.min(i.y,r.y)}function ch(i){return i>0?1:i<0?-1:0}function j0(i,t){return $i(i.prev,i,i.next)<0?$i(i,t,i.next)>=0&&$i(i,i.prev,t)>=0:$i(i,t,i.prev)<0||$i(i,i.next,t)<0}function el(i,t){const r=hh(i.i,i.x,i.y),l=hh(t.i,t.x,t.y),g=i.next,v=t.prev;return i.next=t,t.prev=i,r.next=g,g.prev=r,l.next=r,r.prev=l,v.next=l,l.prev=v,l}function Sp(i,t,r,l){const g=hh(i,t,r);return l?(g.next=l.next,g.prev=l,l.next.prev=g,l.next=g):(g.prev=g,g.next=g),g}function zs(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function hh(i,t,r){return{i,x:t,y:r,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}class tc{constructor(t,r){if(r>t)throw new Error("Min granularity must not be greater than base granularity.");this._baseZoomGranularity=t,this._minGranularity=r}getGranularityForZoomLevel(t){return Math.max(Math.floor(this._baseZoomGranularity/(1<<t)),this._minGranularity,1)}}class tl{constructor(t){this.fill=t.fill,this.line=t.line,this.tile=t.tile,this.stencil=t.stencil,this.circle=t.circle}}tl.noSubdivision=new tl({fill:new tc(0,0),line:new tc(0,0),tile:new tc(0,0),stencil:new tc(0,0),circle:1}),un("SubdivisionGranularityExpression",tc),un("SubdivisionGranularitySetting",tl);const Tl=-32768,ph=32767;class $d{constructor(t,r){this._vertexBuffer=[],this._vertexDictionary=new Map,this._used=!1,this._granularity=t,this._granularityCellSize=yt/t,this._canonical=r}_getKey(t,r){return(t+=32768)<<16|(r+=32768)<<0}_vertexToIndex(t,r){if(t<-32768||r<-32768||t>32767||r>32767)throw new Error("Vertex coordinates are out of signed 16 bit integer range.");const l=0|Math.round(t),g=0|Math.round(r),v=this._getKey(l,g);if(this._vertexDictionary.has(v))return this._vertexDictionary.get(v);const b=this._vertexBuffer.length/2;return this._vertexDictionary.set(v,b),this._vertexBuffer.push(l,g),b}_subdivideTrianglesScanline(t){if(this._granularity<2)return function(g,v){const b=[];for(let A=0;A<v.length;A+=3){const P=v[A],R=v[A+1],G=v[A+2],N=g[2*P],H=g[2*P+1];(g[2*R]-N)*(g[2*G+1]-H)-(g[2*R+1]-H)*(g[2*G]-N)>0?(b.push(P),b.push(G),b.push(R)):(b.push(P),b.push(R),b.push(G))}return b}(this._vertexBuffer,t);const r=[],l=t.length;for(let g=0;g<l;g+=3){const v=[t[g+0],t[g+1],t[g+2]],b=[this._vertexBuffer[2*t[g+0]+0],this._vertexBuffer[2*t[g+0]+1],this._vertexBuffer[2*t[g+1]+0],this._vertexBuffer[2*t[g+1]+1],this._vertexBuffer[2*t[g+2]+0],this._vertexBuffer[2*t[g+2]+1]];let A=1/0,P=1/0,R=-1/0,G=-1/0;for(let se=0;se<3;se++){const xe=b[2*se],Ie=b[2*se+1];A=Math.min(A,xe),R=Math.max(R,xe),P=Math.min(P,Ie),G=Math.max(G,Ie)}if(A===R||P===G)continue;const N=Math.floor(A/this._granularityCellSize),H=Math.ceil(R/this._granularityCellSize),Y=Math.floor(P/this._granularityCellSize),ee=Math.ceil(G/this._granularityCellSize);if(N!==H||Y!==ee)for(let se=Y;se<ee;se++){const xe=this._scanlineGenerateVertexRingForCellRow(se,b,v);Yl(this._vertexBuffer,xe,r)}else r.push(...v)}return r}_scanlineGenerateVertexRingForCellRow(t,r,l){const g=t*this._granularityCellSize,v=g+this._granularityCellSize,b=[];for(let A=0;A<3;A++){const P=r[2*A],R=r[2*A+1],G=r[2*(A+1)%6],N=r[(2*(A+1)+1)%6],H=r[2*(A+2)%6],Y=r[(2*(A+2)+1)%6],ee=G-P,se=N-R,xe=ee===0,Ie=se===0,Ke=(g-R)/se,Ue=(v-R)/se,K=Math.min(Ke,Ue),ye=Math.max(Ke,Ue);if(!Ie&&(K>=1||ye<=0)||Ie&&(R<g||R>v)){N>=g&&N<=v&&b.push(l[(A+1)%3]);continue}!Ie&&K>0&&b.push(this._vertexToIndex(P+ee*K,R+se*K));const Oe=P+ee*Math.max(K,0),ft=P+ee*Math.min(ye,1);xe||this._generateIntraEdgeVertices(b,P,R,G,N,Oe,ft),!Ie&&ye<1&&b.push(this._vertexToIndex(P+ee*ye,R+se*ye)),(Ie||N>=g&&N<=v)&&b.push(l[(A+1)%3]),!Ie&&(N<=g||N>=v)&&this._generateInterEdgeVertices(b,P,R,G,N,H,Y,ft,g,v)}return b}_generateIntraEdgeVertices(t,r,l,g,v,b,A){const P=g-r,R=v-l,G=R===0,N=G?Math.min(r,g):Math.min(b,A),H=G?Math.max(r,g):Math.max(b,A),Y=Math.floor(N/this._granularityCellSize)+1,ee=Math.ceil(H/this._granularityCellSize)-1;if(G?r<g:b<A)for(let se=Y;se<=ee;se++){const xe=se*this._granularityCellSize;t.push(this._vertexToIndex(xe,l+R*(xe-r)/P))}else for(let se=ee;se>=Y;se--){const xe=se*this._granularityCellSize;t.push(this._vertexToIndex(xe,l+R*(xe-r)/P))}}_generateInterEdgeVertices(t,r,l,g,v,b,A,P,R,G){const N=v-l,H=b-g,Y=A-v,ee=(R-v)/Y,se=(G-v)/Y,xe=Math.min(ee,se),Ie=Math.max(ee,se),Ke=g+H*xe;let Ue=Math.floor(Math.min(Ke,P)/this._granularityCellSize)+1,K=Math.ceil(Math.max(Ke,P)/this._granularityCellSize)-1,ye=P<Ke;const Oe=Y===0;if(Oe&&(A===R||A===G))return;if(Oe||xe>=1||Ie<=0){const Zt=l-A,xt=b+(r-b)*Math.min((R-A)/Zt,(G-A)/Zt);Ue=Math.floor(Math.min(xt,P)/this._granularityCellSize)+1,K=Math.ceil(Math.max(xt,P)/this._granularityCellSize)-1,ye=P<xt}const ft=N>0?G:R;if(ye)for(let Zt=Ue;Zt<=K;Zt++)t.push(this._vertexToIndex(Zt*this._granularityCellSize,ft));else for(let Zt=K;Zt>=Ue;Zt--)t.push(this._vertexToIndex(Zt*this._granularityCellSize,ft))}_generateOutline(t){const r=[];for(const l of t){const g=bu(l,this._granularity,!0),v=this._pointArrayToIndices(g),b=[];for(let A=1;A<v.length;A++)b.push(v[A-1]),b.push(v[A]);r.push(b)}return r}_handlePoles(t){let r=!1,l=!1;this._canonical&&(this._canonical.y===0&&(r=!0),this._canonical.y===(1<<this._canonical.z)-1&&(l=!0)),(r||l)&&this._fillPoles(t,r,l)}_ensureNoPoleVertices(){const t=this._vertexBuffer;for(let r=0;r<t.length;r+=2){const l=t[r+1];l===Tl&&(t[r+1]=-32767),l===ph&&(t[r+1]=32766)}}_generatePoleQuad(t,r,l,g,v,b){g>v!=(b===Tl)?(t.push(r),t.push(l),t.push(this._vertexToIndex(g,b)),t.push(l),t.push(this._vertexToIndex(v,b)),t.push(this._vertexToIndex(g,b))):(t.push(l),t.push(r),t.push(this._vertexToIndex(g,b)),t.push(this._vertexToIndex(v,b)),t.push(l),t.push(this._vertexToIndex(g,b)))}_fillPoles(t,r,l){const g=this._vertexBuffer,v=yt,b=t.length;for(let A=2;A<b;A+=3){const P=t[A-2],R=t[A-1],G=t[A],N=g[2*P],H=g[2*P+1],Y=g[2*R],ee=g[2*R+1],se=g[2*G],xe=g[2*G+1];r&&(H===0&&ee===0&&this._generatePoleQuad(t,P,R,N,Y,Tl),ee===0&&xe===0&&this._generatePoleQuad(t,R,G,Y,se,Tl),xe===0&&H===0&&this._generatePoleQuad(t,G,P,se,N,Tl)),l&&(H===v&&ee===v&&this._generatePoleQuad(t,P,R,N,Y,ph),ee===v&&xe===v&&this._generatePoleQuad(t,R,G,Y,se,ph),xe===v&&H===v&&this._generatePoleQuad(t,G,P,se,N,ph))}}_initializeVertices(t){for(let r=0;r<t.length;r+=2)this._vertexToIndex(t[r],t[r+1])}subdividePolygonInternal(t,r){if(this._used)throw new Error("Subdivision: multiple use not allowed.");this._used=!0;const{flattened:l,holeIndices:g}=function(A){const P=[],R=[];for(const G of A)if(G.length!==0){G!==A[0]&&P.push(R.length/2);for(let N=0;N<G.length;N++)R.push(G[N].x),R.push(G[N].y)}return{flattened:R,holeIndices:P}}(t);let v;this._initializeVertices(l);try{const A=function(R,G,N=2){const H=G&&G.length,Y=H?G[0]*N:R.length;let ee=Zh(R,0,Y,N,!0);const se=[];if(!ee||ee.next===ee.prev)return se;let xe,Ie,Ke;if(H&&(ee=function(Ue,K,ye,Oe){const ft=[];for(let Zt=0,xt=K.length;Zt<xt;Zt++){const Mt=Zh(Ue,K[Zt]*Oe,Zt<xt-1?K[Zt+1]*Oe:Ue.length,Oe,!1);Mt===Mt.next&&(Mt.steiner=!0),ft.push(Nd(Mt))}ft.sort(If);for(let Zt=0;Zt<ft.length;Zt++)ye=xu(ft[Zt],ye);return ye}(R,G,ee,N)),R.length>80*N){xe=1/0,Ie=1/0;let Ue=-1/0,K=-1/0;for(let ye=N;ye<Y;ye+=N){const Oe=R[ye],ft=R[ye+1];Oe<xe&&(xe=Oe),ft<Ie&&(Ie=ft),Oe>Ue&&(Ue=Oe),ft>K&&(K=ft)}Ke=Math.max(Ue-xe,K-Ie),Ke=Ke!==0?32767/Ke:0}return ro(ee,se,N,xe,Ie,Ke,0),se}(l,g),P=this._convertIndices(l,A);v=this._subdivideTrianglesScanline(P)}catch(A){console.error(A)}let b=[];return r&&(b=this._generateOutline(t)),this._ensureNoPoleVertices(),this._handlePoles(v),{verticesFlattened:this._vertexBuffer,indicesTriangles:v,indicesLineList:b}}_convertIndices(t,r){const l=[];for(let g=0;g<r.length;g++)l.push(this._vertexToIndex(t[2*r[g]],t[2*r[g]+1]));return l}_pointArrayToIndices(t){const r=[];for(let l=0;l<t.length;l++){const g=t[l];r.push(this._vertexToIndex(g.x,g.y))}return r}}function qh(i,t,r,l=!0){return new $d(r,t).subdividePolygonInternal(i,l)}function bu(i,t,r=!1){if(!i||i.length<1)return[];if(i.length<2)return[];const l=i[0],g=i[i.length-1],v=r&&(l.x!==g.x||l.y!==g.y);if(t<2)return v?[...i,i[0]]:[...i];const b=Math.floor(yt/t),A=[];A.push(new he(i[0].x,i[0].y));const P=i.length,R=v?P:P-1;for(let G=0;G<R;G++){const N=i[G],H=G<P-1?i[G+1]:i[0],Y=N.x,ee=N.y,se=H.x,xe=H.y,Ie=Y!==se,Ke=ee!==xe;if(!Ie&&!Ke)continue;const Ue=se-Y,K=xe-ee,ye=Math.abs(Ue),Oe=Math.abs(K);let ft=Y,Zt=ee;for(;;){const Mt=Ue>0?(Math.floor(ft/b)+1)*b:(Math.ceil(ft/b)-1)*b,Qt=K>0?(Math.floor(Zt/b)+1)*b:(Math.ceil(Zt/b)-1)*b,Ht=Math.abs(ft-Mt),Xt=Math.abs(Zt-Qt),Et=Math.abs(ft-se),In=Math.abs(Zt-xe),qn=Ie?Ht/ye:Number.POSITIVE_INFINITY,Wn=Ke?Xt/Oe:Number.POSITIVE_INFINITY;if((Et<=Ht||!Ie)&&(In<=Xt||!Ke))break;if(qn<Wn&&Ie||!Ke){ft=Mt,Zt+=K*qn;const En=new he(ft,Math.round(Zt));A[A.length-1].x===En.x&&A[A.length-1].y===En.y||A.push(En)}else{ft+=Ue*Wn,Zt=Qt;const En=new he(Math.round(ft),Zt);A[A.length-1].x===En.x&&A[A.length-1].y===En.y||A.push(En)}}const xt=new he(se,xe);A[A.length-1].x===xt.x&&A[A.length-1].y===xt.y||A.push(xt)}return A}function Yl(i,t,r){if(t.length===0)throw new Error("Subdivision vertex ring is empty.");let l=0,g=i[2*t[0]];for(let P=1;P<t.length;P++){const R=i[2*t[P]];R<g&&(g=R,l=P)}const v=t.length;let b=l,A=(b+1)%v;for(;;){const P=b-1>=0?b-1:v-1,R=(A+1)%v,G=i[2*t[P]],N=i[2*t[R]],H=i[2*t[b]],Y=i[2*t[b]+1],ee=i[2*t[A]+1];let se=!1;if(G<N)se=!0;else if(G>N)se=!1;else{const xe=ee-Y,Ie=-(i[2*t[A]]-H),Ke=Y<ee?1:-1;((G-H)*xe+(i[2*t[P]+1]-Y)*Ie)*Ke>((N-H)*xe+(i[2*t[R]+1]-Y)*Ie)*Ke&&(se=!0)}if(se){const xe=t[P],Ie=t[b],Ke=t[A];xe!==Ie&&xe!==Ke&&Ie!==Ke&&r.push(Ke,Ie,xe),b--,b<0&&(b=v-1)}else{const xe=t[R],Ie=t[b],Ke=t[A];xe!==Ie&&xe!==Ke&&Ie!==Ke&&r.push(Ke,Ie,xe),A++,A>=v&&(A=0)}if(P===R)break}}function Kr(i,t,r,l,g,v,b,A,P){const R=g.length/2,G=b&&A&&P;if(R<Pr.MAX_VERTEX_ARRAY_LENGTH){const N=t.prepareSegment(R,r,l),H=N.vertexLength;for(let se=0;se<v.length;se+=3)l.emplaceBack(H+v[se],H+v[se+1],H+v[se+2]);let Y,ee;N.vertexLength+=R,N.primitiveLength+=v.length/3,G&&(ee=b.prepareSegment(R,r,A),Y=ee.vertexLength,ee.vertexLength+=R);for(let se=0;se<g.length;se+=2)i(g[se],g[se+1]);if(G)for(let se=0;se<P.length;se++){const xe=P[se];for(let Ie=1;Ie<xe.length;Ie+=2)A.emplaceBack(Y+xe[Ie-1],Y+xe[Ie]);ee.primitiveLength+=xe.length/2}}else(function(N,H,Y,ee,se,xe){const Ie=[];for(let Oe=0;Oe<ee.length/2;Oe++)Ie.push(-1);const Ke={count:0};let Ue=0,K=N.getOrCreateLatestSegment(H,Y),ye=K.vertexLength;for(let Oe=2;Oe<se.length;Oe+=3){const ft=se[Oe-2],Zt=se[Oe-1],xt=se[Oe];let Mt=Ie[ft]<Ue,Qt=Ie[Zt]<Ue,Ht=Ie[xt]<Ue;K.vertexLength+((Mt?1:0)+(Qt?1:0)+(Ht?1:0))>Pr.MAX_VERTEX_ARRAY_LENGTH&&(K=N.createNewSegment(H,Y),Ue=Ke.count,Mt=!0,Qt=!0,Ht=!0,ye=0);const Xt=Da(Ie,ee,xe,Ke,ft,Mt,K),Et=Da(Ie,ee,xe,Ke,Zt,Qt,K),In=Da(Ie,ee,xe,Ke,xt,Ht,K);Y.emplaceBack(ye+Xt-Ue,ye+Et-Ue,ye+In-Ue),K.primitiveLength++}})(t,r,l,g,v,i),G&&function(N,H,Y,ee,se,xe){const Ie=[];for(let Oe=0;Oe<ee.length/2;Oe++)Ie.push(-1);const Ke={count:0};let Ue=0,K=N.getOrCreateLatestSegment(H,Y),ye=K.vertexLength;for(let Oe=0;Oe<se.length;Oe++){const ft=se[Oe];for(let Zt=1;Zt<se[Oe].length;Zt+=2){const xt=ft[Zt-1],Mt=ft[Zt];let Qt=Ie[xt]<Ue,Ht=Ie[Mt]<Ue;K.vertexLength+((Qt?1:0)+(Ht?1:0))>Pr.MAX_VERTEX_ARRAY_LENGTH&&(K=N.createNewSegment(H,Y),Ue=Ke.count,Qt=!0,Ht=!0,ye=0);const Xt=Da(Ie,ee,xe,Ke,xt,Qt,K),Et=Da(Ie,ee,xe,Ke,Mt,Ht,K);Y.emplaceBack(ye+Xt-Ue,ye+Et-Ue),K.primitiveLength++}}}(b,r,A,g,P,i),t.forceNewSegmentOnNextPrepare(),b==null||b.forceNewSegmentOnNextPrepare()}function Da(i,t,r,l,g,v,b){if(v){const A=l.count;return r(t[2*g],t[2*g+1]),i[g]=l.count,l.count++,b.vertexLength++,A}return i[g]}class Ia{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(r=>r.id),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new rn,this.indexArray=new Dr,this.indexArray2=new Xi,this.programConfigurations=new Il(t.layers,t.zoom),this.segments=new Pr,this.segments2=new Pr,this.stateDependentLayerIds=this.layers.filter(r=>r.isStateDependent()).map(r=>r.id)}populate(t,r,l){this.hasPattern=sd("fill",this.layers,r);const g=this.layers[0].layout.get("fill-sort-key"),v=!g.isConstant(),b=[];for(const{feature:A,id:P,index:R,sourceLayerIndex:G}of t){const N=this.layers[0]._featureFilter.needGeometry,H=N0(A,N);if(!this.layers[0]._featureFilter.filter(new ii(this.zoom),H,l))continue;const Y=v?g.evaluate(H,{},l,r.availableImages):void 0,ee={id:P,properties:A.properties,type:A.type,sourceLayerIndex:G,index:R,geometry:N?H.geometry:Al(A),patterns:{},sortKey:Y};b.push(ee)}v&&b.sort((A,P)=>A.sortKey-P.sortKey);for(const A of b){const{geometry:P,index:R,sourceLayerIndex:G}=A;if(this.hasPattern){const N=ld("fill",this.layers,A,this.zoom,r);this.patternFeatures.push(N)}else this.addFeature(A,P,R,l,{},r.subdivisionGranularity);r.featureIndex.insert(t[R].feature,P,R,G,this.index)}}update(t,r,l){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,r,this.stateDependentLayers,l)}addFeatures(t,r,l){for(const g of this.patternFeatures)this.addFeature(g,g.geometry,g.index,r,l,t.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Ko),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(t,r,l,g,v,b){for(const A of Vc(r,500)){const P=qh(A,g,b.fill.getGranularityForZoomLevel(g.z)),R=this.layoutVertexArray;Kr((G,N)=>{R.emplaceBack(G,N)},this.segments,this.layoutVertexArray,this.indexArray,P.verticesFlattened,P.indicesTriangles,this.segments2,this.indexArray2,P.indicesLineList)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,l,v,g)}}let wo,nl;un("FillBucket",Ia,{omit:["layers","patternFeatures"]});var dh={get paint(){return nl=nl||new Ui({"fill-antialias":new fn(me.paint_fill["fill-antialias"]),"fill-opacity":new jn(me.paint_fill["fill-opacity"]),"fill-color":new jn(me.paint_fill["fill-color"]),"fill-outline-color":new jn(me.paint_fill["fill-outline-color"]),"fill-translate":new fn(me.paint_fill["fill-translate"]),"fill-translate-anchor":new fn(me.paint_fill["fill-translate-anchor"]),"fill-pattern":new c0(me.paint_fill["fill-pattern"])})},get layout(){return wo=wo||new Ui({"fill-sort-key":new jn(me.layout_fill["fill-sort-key"])})}};class io extends Vo{constructor(t){super(t,dh)}recalculate(t,r){super.recalculate(t,r);const l=this.paint._values["fill-outline-color"];l.value.kind==="constant"&&l.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(t){return new Ia(t)}queryRadius(){return rh(this.paint.get("fill-translate"))}queryIntersectsFeature({queryGeometry:t,geometry:r,transform:l,pixelsToTileUnits:g}){return td(ih(t,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),-l.bearingInRadians,g),r)}isTileClipped(){return!0}}const Kh=ai([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),nc=ai([{name:"a_centroid",components:2,type:"Int16"}],4),{members:Xh}=Kh;var fh,gh,ys,Tp,wu,V0,Yh,mh={};function Cu(){if(gh)return fh;gh=1;var i=te();function t(g,v,b,A,P){this.properties={},this.extent=b,this.type=0,this._pbf=g,this._geometry=-1,this._keys=A,this._values=P,g.readFields(r,this,v)}function r(g,v,b){g==1?v.id=b.readVarint():g==2?function(A,P){for(var R=A.readVarint()+A.pos;A.pos<R;){var G=P._keys[A.readVarint()],N=P._values[A.readVarint()];P.properties[G]=N}}(b,v):g==3?v.type=b.readVarint():g==4&&(v._geometry=b.pos)}function l(g){for(var v,b,A=0,P=0,R=g.length,G=R-1;P<R;G=P++)A+=((b=g[G]).x-(v=g[P]).x)*(v.y+b.y);return A}return fh=t,t.types=["Unknown","Point","LineString","Polygon"],t.prototype.loadGeometry=function(){var g=this._pbf;g.pos=this._geometry;for(var v,b=g.readVarint()+g.pos,A=1,P=0,R=0,G=0,N=[];g.pos<b;){if(P<=0){var H=g.readVarint();A=7&H,P=H>>3}if(P--,A===1||A===2)R+=g.readSVarint(),G+=g.readSVarint(),A===1&&(v&&N.push(v),v=[]),v.push(new i(R,G));else{if(A!==7)throw new Error("unknown command "+A);v&&v.push(v[0].clone())}}return v&&N.push(v),N},t.prototype.bbox=function(){var g=this._pbf;g.pos=this._geometry;for(var v=g.readVarint()+g.pos,b=1,A=0,P=0,R=0,G=1/0,N=-1/0,H=1/0,Y=-1/0;g.pos<v;){if(A<=0){var ee=g.readVarint();b=7&ee,A=ee>>3}if(A--,b===1||b===2)(P+=g.readSVarint())<G&&(G=P),P>N&&(N=P),(R+=g.readSVarint())<H&&(H=R),R>Y&&(Y=R);else if(b!==7)throw new Error("unknown command "+b)}return[G,H,N,Y]},t.prototype.toGeoJSON=function(g,v,b){var A,P,R=this.extent*Math.pow(2,b),G=this.extent*g,N=this.extent*v,H=this.loadGeometry(),Y=t.types[this.type];function ee(Ie){for(var Ke=0;Ke<Ie.length;Ke++){var Ue=Ie[Ke];Ie[Ke]=[360*(Ue.x+G)/R-180,360/Math.PI*Math.atan(Math.exp((180-360*(Ue.y+N)/R)*Math.PI/180))-90]}}switch(this.type){case 1:var se=[];for(A=0;A<H.length;A++)se[A]=H[A][0];ee(H=se);break;case 2:for(A=0;A<H.length;A++)ee(H[A]);break;case 3:for(H=function(Ie){var Ke=Ie.length;if(Ke<=1)return[Ie];for(var Ue,K,ye=[],Oe=0;Oe<Ke;Oe++){var ft=l(Ie[Oe]);ft!==0&&(K===void 0&&(K=ft<0),K===ft<0?(Ue&&ye.push(Ue),Ue=[Ie[Oe]]):Ue.push(Ie[Oe]))}return Ue&&ye.push(Ue),ye}(H),A=0;A<H.length;A++)for(P=0;P<H[A].length;P++)ee(H[A][P])}H.length===1?H=H[0]:Y="Multi"+Y;var xe={type:"Feature",geometry:{type:Y,coordinates:H},properties:this.properties};return"id"in this&&(xe.id=this.id),xe},fh}function Qh(){if(Tp)return ys;Tp=1;var i=Cu();function t(l,g){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=l,this._keys=[],this._values=[],this._features=[],l.readFields(r,this,g),this.length=this._features.length}function r(l,g,v){l===15?g.version=v.readVarint():l===1?g.name=v.readString():l===5?g.extent=v.readVarint():l===2?g._features.push(v.pos):l===3?g._keys.push(v.readString()):l===4&&g._values.push(function(b){for(var A=null,P=b.readVarint()+b.pos;b.pos<P;){var R=b.readVarint()>>3;A=R===1?b.readString():R===2?b.readFloat():R===3?b.readDouble():R===4?b.readVarint64():R===5?b.readVarint():R===6?b.readSVarint():R===7?b.readBoolean():null}return A}(v))}return ys=t,t.prototype.feature=function(l){if(l<0||l>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[l];var g=this._pbf.readVarint()+this._pbf.pos;return new i(this._pbf,g,this.extent,this._keys,this._values)},ys}function Du(){return Yh||(Yh=1,mh.VectorTile=function(){if(V0)return wu;V0=1;var i=Qh();function t(r,l,g){if(r===3){var v=new i(g,g.readVarint()+g.pos);v.length&&(l[v.name]=v)}}return wu=function(r,l){this.layers=r.readFields(t,{},l)},wu}(),mh.VectorTileFeature=Cu(),mh.VectorTileLayer=Qh()),mh}var ao=V(Du());const Jh=ao.VectorTileFeature.types,ep=Math.pow(2,13);function rc(i,t,r,l,g,v,b,A){i.emplaceBack(t,r,2*Math.floor(l*ep)+b,g*ep*2,v*ep*2,Math.round(A))}class Sc{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(r=>r.id),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Gt,this.centroidVertexArray=new Dt,this.indexArray=new Dr,this.programConfigurations=new Il(t.layers,t.zoom),this.segments=new Pr,this.stateDependentLayerIds=this.layers.filter(r=>r.isStateDependent()).map(r=>r.id)}populate(t,r,l){this.features=[],this.hasPattern=sd("fill-extrusion",this.layers,r);for(const{feature:g,id:v,index:b,sourceLayerIndex:A}of t){const P=this.layers[0]._featureFilter.needGeometry,R=N0(g,P);if(!this.layers[0]._featureFilter.filter(new ii(this.zoom),R,l))continue;const G={id:v,sourceLayerIndex:A,index:b,geometry:P?R.geometry:Al(g),properties:g.properties,type:g.type,patterns:{}};this.hasPattern?this.features.push(ld("fill-extrusion",this.layers,G,this.zoom,r)):this.addFeature(G,G.geometry,b,l,{},r.subdivisionGranularity),r.featureIndex.insert(g,G.geometry,b,A,this.index,!0)}}addFeatures(t,r,l){for(const g of this.features){const{geometry:v}=g;this.addFeature(g,v,g.index,r,l,t.subdivisionGranularity)}}update(t,r,l){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,r,this.stateDependentLayers,l)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Xh),this.centroidVertexBuffer=t.createVertexBuffer(this.centroidVertexArray,nc.members,!0),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(t,r,l,g,v,b){for(const A of Vc(r,500)){const P={x:0,y:0,sampleCount:0},R=this.layoutVertexArray.length;this.processPolygon(P,g,t,A,b);const G=this.layoutVertexArray.length-R,N=Math.floor(P.x/P.sampleCount),H=Math.floor(P.y/P.sampleCount);for(let Y=0;Y<G;Y++)this.centroidVertexArray.emplaceBack(N,H)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,l,v,g)}processPolygon(t,r,l,g,v){if(g.length<1||Ql(g[0]))return;for(const N of g)N.length!==0&&Gs(t,N);const b={segment:this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray)},A=v.fill.getGranularityForZoomLevel(r.z),P=Jh[l.type]==="Polygon";for(const N of g){if(N.length===0||Ql(N))continue;const H=bu(N,A,P);this._generateSideFaces(H,b)}if(!P)return;const R=qh(g,r,A,!1),G=this.layoutVertexArray;Kr((N,H)=>{rc(G,N,H,0,0,1,1,0)},this.segments,this.layoutVertexArray,this.indexArray,R.verticesFlattened,R.indicesTriangles)}_generateSideFaces(t,r){let l=0;for(let g=1;g<t.length;g++){const v=t[g],b=t[g-1];if(ic(v,b))continue;r.segment.vertexLength+4>Pr.MAX_VERTEX_ARRAY_LENGTH&&(r.segment=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const A=v.sub(b)._perp()._unit(),P=b.dist(v);l+P>32768&&(l=0),rc(this.layoutVertexArray,v.x,v.y,A.x,A.y,0,0,l),rc(this.layoutVertexArray,v.x,v.y,A.x,A.y,0,1,l),l+=P,rc(this.layoutVertexArray,b.x,b.y,A.x,A.y,0,0,l),rc(this.layoutVertexArray,b.x,b.y,A.x,A.y,0,1,l);const R=r.segment.vertexLength;this.indexArray.emplaceBack(R,R+2,R+1),this.indexArray.emplaceBack(R+1,R+2,R+3),r.segment.vertexLength+=4,r.segment.primitiveLength+=2}}}function Gs(i,t){for(let r=0;r<t.length;r++){const l=t[r];r===t.length-1&&t[0].x===l.x&&t[0].y===l.y||(i.x+=l.x,i.y+=l.y,i.sampleCount++)}}function ic(i,t){return i.x===t.x&&(i.x<0||i.x>yt)||i.y===t.y&&(i.y<0||i.y>yt)}function Ql(i){return i.every(t=>t.x<0)||i.every(t=>t.x>yt)||i.every(t=>t.y<0)||i.every(t=>t.y>yt)}let Ls;un("FillExtrusionBucket",Sc,{omit:["layers","features"]});var Mp={get paint(){return Ls=Ls||new Ui({"fill-extrusion-opacity":new fn(me["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new jn(me["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new fn(me["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new fn(me["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new c0(me["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new jn(me["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new jn(me["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new fn(me["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class hd extends Vo{constructor(t){super(t,Mp)}createBucket(t){return new Sc(t)}queryRadius(){return rh(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature({queryGeometry:t,feature:r,featureState:l,geometry:g,transform:v,pixelsToTileUnits:b,pixelPosMatrix:A}){const P=ih(t,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),-v.bearingInRadians,b),R=this.paint.get("fill-extrusion-height").evaluate(r,l),G=this.paint.get("fill-extrusion-base").evaluate(r,l),N=function(Y,ee,se){const xe=[];for(const Ie of Y){const Ke=[Ie.x,Ie.y,0,1];Wt(Ke,Ke,ee),xe.push(new he(Ke[0]/Ke[3],Ke[1]/Ke[3]))}return xe}(P,A),H=function(Y,ee,se,xe){const Ie=[],Ke=[],Ue=xe[8]*ee,K=xe[9]*ee,ye=xe[10]*ee,Oe=xe[11]*ee,ft=xe[8]*se,Zt=xe[9]*se,xt=xe[10]*se,Mt=xe[11]*se;for(const Qt of Y){const Ht=[],Xt=[];for(const Et of Qt){const In=Et.x,qn=Et.y,Wn=xe[0]*In+xe[4]*qn+xe[12],En=xe[1]*In+xe[5]*qn+xe[13],Er=xe[2]*In+xe[6]*qn+xe[14],Qi=xe[3]*In+xe[7]*qn+xe[15],oo=Er+ye,vs=Qi+Oe,g0=Wn+ft,El=En+Zt,Yo=Er+xt,Ji=Qi+Mt,Io=new he((Wn+Ue)/vs,(En+K)/vs);Io.z=oo/vs,Ht.push(Io);const Qo=new he(g0/Ji,El/Ji);Qo.z=Yo/Ji,Xt.push(Qo)}Ie.push(Ht),Ke.push(Xt)}return[Ie,Ke]}(g,G,R,A);return function(Y,ee,se){let xe=1/0;td(se,ee)&&(xe=jd(se,ee[0]));for(let Ie=0;Ie<ee.length;Ie++){const Ke=ee[Ie],Ue=Y[Ie];for(let K=0;K<Ke.length-1;K++){const ye=Ke[K],Oe=[ye,Ke[K+1],Ue[K+1],Ue[K],ye];Fh(se,Oe)&&(xe=Math.min(xe,jd(se,Oe)))}}return xe!==1/0&&xe}(H[0],H[1],N)}}function Tc(i,t){return i.x*t.x+i.y*t.y}function jd(i,t){if(i.length===1){let r=0;const l=t[r++];let g;for(;!g||l.equals(g);)if(g=t[r++],!g)return 1/0;for(;r<t.length;r++){const v=t[r],b=i[0],A=g.sub(l),P=v.sub(l),R=b.sub(l),G=Tc(A,A),N=Tc(A,P),H=Tc(P,P),Y=Tc(R,A),ee=Tc(R,P),se=G*H-N*N,xe=(H*Y-N*ee)/se,Ie=(G*ee-N*Y)/se,Ke=l.z*(1-xe-Ie)+g.z*xe+v.z*Ie;if(isFinite(Ke))return Ke}return 1/0}{let r=1/0;for(const l of t)r=Math.min(r,l.z);return r}}const ac=ai([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:Vd}=ac,pd=ai([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:Mc}=pd,dd=ao.VectorTileFeature.types,Pc=Math.cos(Math.PI/180*37.5),fd=Math.pow(2,14)/.5;class Pp{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(r=>r.id),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(r=>{this.gradients[r.id]={}}),this.layoutVertexArray=new bn,this.layoutVertexArray2=new Zn,this.indexArray=new Dr,this.programConfigurations=new Il(t.layers,t.zoom),this.segments=new Pr,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(r=>r.isStateDependent()).map(r=>r.id)}populate(t,r,l){this.hasPattern=sd("line",this.layers,r);const g=this.layers[0].layout.get("line-sort-key"),v=!g.isConstant(),b=[];for(const{feature:A,id:P,index:R,sourceLayerIndex:G}of t){const N=this.layers[0]._featureFilter.needGeometry,H=N0(A,N);if(!this.layers[0]._featureFilter.filter(new ii(this.zoom),H,l))continue;const Y=v?g.evaluate(H,{},l):void 0,ee={id:P,properties:A.properties,type:A.type,sourceLayerIndex:G,index:R,geometry:N?H.geometry:Al(A),patterns:{},sortKey:Y};b.push(ee)}v&&b.sort((A,P)=>A.sortKey-P.sortKey);for(const A of b){const{geometry:P,index:R,sourceLayerIndex:G}=A;if(this.hasPattern){const N=ld("line",this.layers,A,this.zoom,r);this.patternFeatures.push(N)}else this.addFeature(A,P,R,l,{},r.subdivisionGranularity);r.featureIndex.insert(t[R].feature,P,R,G,this.index)}}update(t,r,l){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,r,this.stateDependentLayers,l)}addFeatures(t,r,l){for(const g of this.patternFeatures)this.addFeature(g,g.geometry,g.index,r,l,t.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=t.createVertexBuffer(this.layoutVertexArray2,Mc)),this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Vd),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(t){if(t.properties&&Object.prototype.hasOwnProperty.call(t.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(t.properties,"mapbox_clip_end"))return{start:+t.properties.mapbox_clip_start,end:+t.properties.mapbox_clip_end}}addFeature(t,r,l,g,v,b){const A=this.layers[0].layout,P=A.get("line-join").evaluate(t,{}),R=A.get("line-cap"),G=A.get("line-miter-limit"),N=A.get("line-round-limit");this.lineClips=this.lineFeatureClips(t);for(const H of r)this.addLine(H,t,P,R,G,N,g,b);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,l,v,g)}addLine(t,r,l,g,v,b,A,P){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,t=bu(t,A?P.line.getGranularityForZoomLevel(A.z):1),this.lineClips){this.lineClipsArray.push(this.lineClips);for(let Ue=0;Ue<t.length-1;Ue++)this.totalDistance+=t[Ue].dist(t[Ue+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const R=dd[r.type]==="Polygon";let G=t.length;for(;G>=2&&t[G-1].equals(t[G-2]);)G--;let N=0;for(;N<G-1&&t[N].equals(t[N+1]);)N++;if(G<(R?3:2))return;l==="bevel"&&(v=1.05);const H=this.overscaling<=16?15*yt/(512*this.overscaling):0,Y=this.segments.prepareSegment(10*G,this.layoutVertexArray,this.indexArray);let ee,se,xe,Ie,Ke;this.e1=this.e2=-1,R&&(ee=t[G-2],Ke=t[N].sub(ee)._unit()._perp());for(let Ue=N;Ue<G;Ue++){if(xe=Ue===G-1?R?t[N+1]:void 0:t[Ue+1],xe&&t[Ue].equals(xe))continue;Ke&&(Ie=Ke),ee&&(se=ee),ee=t[Ue],Ke=xe?xe.sub(ee)._unit()._perp():Ie,Ie=Ie||Ke;let K=Ie.add(Ke);K.x===0&&K.y===0||K._unit();const ye=Ie.x*Ke.x+Ie.y*Ke.y,Oe=K.x*Ke.x+K.y*Ke.y,ft=Oe!==0?1/Oe:1/0,Zt=2*Math.sqrt(2-2*Oe),xt=Oe<Pc&&se&&xe,Mt=Ie.x*Ke.y-Ie.y*Ke.x>0;if(xt&&Ue>N){const Xt=ee.dist(se);if(Xt>2*H){const Et=ee.sub(ee.sub(se)._mult(H/Xt)._round());this.updateDistance(se,Et),this.addCurrentVertex(Et,Ie,0,0,Y),se=Et}}const Qt=se&&xe;let Ht=Qt?l:R?"butt":g;if(Qt&&Ht==="round"&&(ft<b?Ht="miter":ft<=2&&(Ht="fakeround")),Ht==="miter"&&ft>v&&(Ht="bevel"),Ht==="bevel"&&(ft>2&&(Ht="flipbevel"),ft<v&&(Ht="miter")),se&&this.updateDistance(se,ee),Ht==="miter")K._mult(ft),this.addCurrentVertex(ee,K,0,0,Y);else if(Ht==="flipbevel"){if(ft>100)K=Ke.mult(-1);else{const Xt=ft*Ie.add(Ke).mag()/Ie.sub(Ke).mag();K._perp()._mult(Xt*(Mt?-1:1))}this.addCurrentVertex(ee,K,0,0,Y),this.addCurrentVertex(ee,K.mult(-1),0,0,Y)}else if(Ht==="bevel"||Ht==="fakeround"){const Xt=-Math.sqrt(ft*ft-1),Et=Mt?Xt:0,In=Mt?0:Xt;if(se&&this.addCurrentVertex(ee,Ie,Et,In,Y),Ht==="fakeround"){const qn=Math.round(180*Zt/Math.PI/20);for(let Wn=1;Wn<qn;Wn++){let En=Wn/qn;if(En!==.5){const Qi=En-.5;En+=En*Qi*(En-1)*((1.0904+ye*(ye*(3.55645-1.43519*ye)-3.2452))*Qi*Qi+(.848013+ye*(.215638*ye-1.06021)))}const Er=Ke.sub(Ie)._mult(En)._add(Ie)._unit()._mult(Mt?-1:1);this.addHalfVertex(ee,Er.x,Er.y,!1,Mt,0,Y)}}xe&&this.addCurrentVertex(ee,Ke,-Et,-In,Y)}else if(Ht==="butt")this.addCurrentVertex(ee,K,0,0,Y);else if(Ht==="square"){const Xt=se?1:-1;this.addCurrentVertex(ee,K,Xt,Xt,Y)}else Ht==="round"&&(se&&(this.addCurrentVertex(ee,Ie,0,0,Y),this.addCurrentVertex(ee,Ie,1,1,Y,!0)),xe&&(this.addCurrentVertex(ee,Ke,-1,-1,Y,!0),this.addCurrentVertex(ee,Ke,0,0,Y)));if(xt&&Ue<G-1){const Xt=ee.dist(xe);if(Xt>2*H){const Et=ee.add(xe.sub(ee)._mult(H/Xt)._round());this.updateDistance(ee,Et),this.addCurrentVertex(Et,Ke,0,0,Y),ee=Et}}}}addCurrentVertex(t,r,l,g,v,b=!1){const A=r.y*g-r.x,P=-r.y-r.x*g;this.addHalfVertex(t,r.x+r.y*l,r.y-r.x*l,b,!1,l,v),this.addHalfVertex(t,A,P,b,!0,-g,v),this.distance>fd/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(t,r,l,g,v,b))}addHalfVertex({x:t,y:r},l,g,v,b,A,P){const R=.5*(this.lineClips?this.scaledDistance*(fd-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((t<<1)+(v?1:0),(r<<1)+(b?1:0),Math.round(63*l)+128,Math.round(63*g)+128,1+(A===0?0:A<0?-1:1)|(63&R)<<2,R>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const G=P.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,G,this.e2),P.primitiveLength++),b?this.e2=G:this.e1=G}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(t,r){this.distance+=t.dist(r),this.updateScaledDistance()}}let Ep,tp;un("LineBucket",Pp,{omit:["layers","patternFeatures"]});var Zd={get paint(){return tp=tp||new Ui({"line-opacity":new jn(me.paint_line["line-opacity"]),"line-color":new jn(me.paint_line["line-color"]),"line-translate":new fn(me.paint_line["line-translate"]),"line-translate-anchor":new fn(me.paint_line["line-translate-anchor"]),"line-width":new jn(me.paint_line["line-width"]),"line-gap-width":new jn(me.paint_line["line-gap-width"]),"line-offset":new jn(me.paint_line["line-offset"]),"line-blur":new jn(me.paint_line["line-blur"]),"line-dasharray":new jo(me.paint_line["line-dasharray"]),"line-pattern":new c0(me.paint_line["line-pattern"]),"line-gradient":new Zl(me.paint_line["line-gradient"])})},get layout(){return Ep=Ep||new Ui({"line-cap":new fn(me.layout_line["line-cap"]),"line-join":new jn(me.layout_line["line-join"]),"line-miter-limit":new fn(me.layout_line["line-miter-limit"]),"line-round-limit":new fn(me.layout_line["line-round-limit"]),"line-sort-key":new jn(me.layout_line["line-sort-key"])})}};class Af extends jn{possiblyEvaluate(t,r){return r=new ii(Math.floor(r.zoom),{now:r.now,fadeDuration:r.fadeDuration,zoomHistory:r.zoomHistory,transition:r.transition}),super.possiblyEvaluate(t,r)}evaluate(t,r,l,g){return r=wn({},r,{zoom:Math.floor(r.zoom)}),super.evaluate(t,r,l,g)}}let np;class Wd extends Vo{constructor(t){super(t,Zd),this.gradientVersion=0,np||(np=new Af(Zd.paint.properties["line-width"].specification),np.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(t){if(t==="line-gradient"){const r=this.gradientExpression();this.stepInterpolant=!!function(l){return l._styleExpression!==void 0}(r)&&r._styleExpression.expression instanceof Ei,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(t,r){super.recalculate(t,r),this.paint._values["line-floorwidth"]=np.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,t)}createBucket(t){return new Pp(t)}queryRadius(t){const r=t,l=oc(Dc("line-width",this,r),Dc("line-gap-width",this,r)),g=Dc("line-offset",this,r);return l/2+Math.abs(g)+rh(this.paint.get("line-translate"))}queryIntersectsFeature({queryGeometry:t,feature:r,featureState:l,geometry:g,transform:v,pixelsToTileUnits:b}){const A=ih(t,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),-v.bearingInRadians,b),P=b/2*oc(this.paint.get("line-width").evaluate(r,l),this.paint.get("line-gap-width").evaluate(r,l)),R=this.paint.get("line-offset").evaluate(r,l);return R&&(g=function(G,N){const H=[];for(let Y=0;Y<G.length;Y++){const ee=G[Y],se=[];for(let xe=0;xe<ee.length;xe++){const Ie=ee[xe-1],Ke=ee[xe],Ue=ee[xe+1],K=xe===0?new he(0,0):Ke.sub(Ie)._unit()._perp(),ye=xe===ee.length-1?new he(0,0):Ue.sub(Ke)._unit()._perp(),Oe=K._add(ye)._unit(),ft=Oe.x*ye.x+Oe.y*ye.y;ft!==0&&Oe._mult(1/ft),se.push(Oe._mult(N)._add(Ke))}H.push(se)}return H}(g,R*b)),function(G,N,H){for(let Y=0;Y<N.length;Y++){const ee=N[Y];if(G.length>=3){for(let se=0;se<ee.length;se++)if(gs(G,ee[se]))return!0}if(nd(G,ee,H))return!0}return!1}(A,g,P)}isTileClipped(){return!0}}function oc(i,t){return t>0?t+2*i:i}const Sf=ai([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),yh=ai([{name:"a_projected_pos",components:3,type:"Float32"}],4);ai([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const kp=ai([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_box_real",components:2,type:"Int16"}]);ai([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const Yi=ai([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),Tf=ai([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Hd(i,t,r){return i.sections.forEach(l=>{l.text=function(g,v,b){const A=v.layout.get("text-transform").evaluate(b,{});return A==="uppercase"?g=g.toLocaleUpperCase():A==="lowercase"&&(g=g.toLocaleLowerCase()),Vl.applyArabicShaping&&(g=Vl.applyArabicShaping(g)),g}(l.text,t,r)}),i}ai([{name:"triangle",components:3,type:"Uint16"}]),ai([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),ai([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),ai([{type:"Float32",name:"offsetX"}]),ai([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),ai([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const rp={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};var qd,Rp,gd,ka=24,rl={};function Up(){return qd||(qd=1,rl.read=function(i,t,r,l,g){var v,b,A=8*g-l-1,P=(1<<A)-1,R=P>>1,G=-7,N=r?g-1:0,H=r?-1:1,Y=i[t+N];for(N+=H,v=Y&(1<<-G)-1,Y>>=-G,G+=A;G>0;v=256*v+i[t+N],N+=H,G-=8);for(b=v&(1<<-G)-1,v>>=-G,G+=l;G>0;b=256*b+i[t+N],N+=H,G-=8);if(v===0)v=1-R;else{if(v===P)return b?NaN:1/0*(Y?-1:1);b+=Math.pow(2,l),v-=R}return(Y?-1:1)*b*Math.pow(2,v-l)},rl.write=function(i,t,r,l,g,v){var b,A,P,R=8*v-g-1,G=(1<<R)-1,N=G>>1,H=g===23?Math.pow(2,-24)-Math.pow(2,-77):0,Y=l?0:v-1,ee=l?1:-1,se=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(A=isNaN(t)?1:0,b=G):(b=Math.floor(Math.log(t)/Math.LN2),t*(P=Math.pow(2,-b))<1&&(b--,P*=2),(t+=b+N>=1?H/P:H*Math.pow(2,1-N))*P>=2&&(b++,P/=2),b+N>=G?(A=0,b=G):b+N>=1?(A=(t*P-1)*Math.pow(2,g),b+=N):(A=t*Math.pow(2,N-1)*Math.pow(2,g),b=0));g>=8;i[r+Y]=255&A,Y+=ee,A/=256,g-=8);for(b=b<<g|A,R+=g;R>0;i[r+Y]=255&b,Y+=ee,b/=256,R-=8);i[r+Y-ee]|=128*se}),rl}function Kd(){if(gd)return Rp;gd=1,Rp=t;var i=Up();function t(K){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(K)?K:new Uint8Array(K||0),this.pos=0,this.type=0,this.length=this.buf.length}t.Varint=0,t.Fixed64=1,t.Bytes=2,t.Fixed32=5;var r=4294967296,l=1/r,g=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");function v(K){return K.type===t.Bytes?K.readVarint()+K.pos:K.pos+1}function b(K,ye,Oe){return Oe?4294967296*ye+(K>>>0):4294967296*(ye>>>0)+(K>>>0)}function A(K,ye,Oe){var ft=ye<=16383?1:ye<=2097151?2:ye<=268435455?3:Math.floor(Math.log(ye)/(7*Math.LN2));Oe.realloc(ft);for(var Zt=Oe.pos-1;Zt>=K;Zt--)Oe.buf[Zt+ft]=Oe.buf[Zt]}function P(K,ye){for(var Oe=0;Oe<K.length;Oe++)ye.writeVarint(K[Oe])}function R(K,ye){for(var Oe=0;Oe<K.length;Oe++)ye.writeSVarint(K[Oe])}function G(K,ye){for(var Oe=0;Oe<K.length;Oe++)ye.writeFloat(K[Oe])}function N(K,ye){for(var Oe=0;Oe<K.length;Oe++)ye.writeDouble(K[Oe])}function H(K,ye){for(var Oe=0;Oe<K.length;Oe++)ye.writeBoolean(K[Oe])}function Y(K,ye){for(var Oe=0;Oe<K.length;Oe++)ye.writeFixed32(K[Oe])}function ee(K,ye){for(var Oe=0;Oe<K.length;Oe++)ye.writeSFixed32(K[Oe])}function se(K,ye){for(var Oe=0;Oe<K.length;Oe++)ye.writeFixed64(K[Oe])}function xe(K,ye){for(var Oe=0;Oe<K.length;Oe++)ye.writeSFixed64(K[Oe])}function Ie(K,ye){return(K[ye]|K[ye+1]<<8|K[ye+2]<<16)+16777216*K[ye+3]}function Ke(K,ye,Oe){K[Oe]=ye,K[Oe+1]=ye>>>8,K[Oe+2]=ye>>>16,K[Oe+3]=ye>>>24}function Ue(K,ye){return(K[ye]|K[ye+1]<<8|K[ye+2]<<16)+(K[ye+3]<<24)}return t.prototype={destroy:function(){this.buf=null},readFields:function(K,ye,Oe){for(Oe=Oe||this.length;this.pos<Oe;){var ft=this.readVarint(),Zt=ft>>3,xt=this.pos;this.type=7&ft,K(Zt,ye,this),this.pos===xt&&this.skip(ft)}return ye},readMessage:function(K,ye){return this.readFields(K,ye,this.readVarint()+this.pos)},readFixed32:function(){var K=Ie(this.buf,this.pos);return this.pos+=4,K},readSFixed32:function(){var K=Ue(this.buf,this.pos);return this.pos+=4,K},readFixed64:function(){var K=Ie(this.buf,this.pos)+Ie(this.buf,this.pos+4)*r;return this.pos+=8,K},readSFixed64:function(){var K=Ie(this.buf,this.pos)+Ue(this.buf,this.pos+4)*r;return this.pos+=8,K},readFloat:function(){var K=i.read(this.buf,this.pos,!0,23,4);return this.pos+=4,K},readDouble:function(){var K=i.read(this.buf,this.pos,!0,52,8);return this.pos+=8,K},readVarint:function(K){var ye,Oe,ft=this.buf;return ye=127&(Oe=ft[this.pos++]),Oe<128?ye:(ye|=(127&(Oe=ft[this.pos++]))<<7,Oe<128?ye:(ye|=(127&(Oe=ft[this.pos++]))<<14,Oe<128?ye:(ye|=(127&(Oe=ft[this.pos++]))<<21,Oe<128?ye:function(Zt,xt,Mt){var Qt,Ht,Xt=Mt.buf;if(Qt=(112&(Ht=Xt[Mt.pos++]))>>4,Ht<128||(Qt|=(127&(Ht=Xt[Mt.pos++]))<<3,Ht<128)||(Qt|=(127&(Ht=Xt[Mt.pos++]))<<10,Ht<128)||(Qt|=(127&(Ht=Xt[Mt.pos++]))<<17,Ht<128)||(Qt|=(127&(Ht=Xt[Mt.pos++]))<<24,Ht<128)||(Qt|=(1&(Ht=Xt[Mt.pos++]))<<31,Ht<128))return b(Zt,Qt,xt);throw new Error("Expected varint not more than 10 bytes")}(ye|=(15&(Oe=ft[this.pos]))<<28,K,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var K=this.readVarint();return K%2==1?(K+1)/-2:K/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var K=this.readVarint()+this.pos,ye=this.pos;return this.pos=K,K-ye>=12&&g?function(Oe,ft,Zt){return g.decode(Oe.subarray(ft,Zt))}(this.buf,ye,K):function(Oe,ft,Zt){for(var xt="",Mt=ft;Mt<Zt;){var Qt,Ht,Xt,Et=Oe[Mt],In=null,qn=Et>239?4:Et>223?3:Et>191?2:1;if(Mt+qn>Zt)break;qn===1?Et<128&&(In=Et):qn===2?(192&(Qt=Oe[Mt+1]))==128&&(In=(31&Et)<<6|63&Qt)<=127&&(In=null):qn===3?(Ht=Oe[Mt+2],(192&(Qt=Oe[Mt+1]))==128&&(192&Ht)==128&&((In=(15&Et)<<12|(63&Qt)<<6|63&Ht)<=2047||In>=55296&&In<=57343)&&(In=null)):qn===4&&(Ht=Oe[Mt+2],Xt=Oe[Mt+3],(192&(Qt=Oe[Mt+1]))==128&&(192&Ht)==128&&(192&Xt)==128&&((In=(15&Et)<<18|(63&Qt)<<12|(63&Ht)<<6|63&Xt)<=65535||In>=1114112)&&(In=null)),In===null?(In=65533,qn=1):In>65535&&(In-=65536,xt+=String.fromCharCode(In>>>10&1023|55296),In=56320|1023&In),xt+=String.fromCharCode(In),Mt+=qn}return xt}(this.buf,ye,K)},readBytes:function(){var K=this.readVarint()+this.pos,ye=this.buf.subarray(this.pos,K);return this.pos=K,ye},readPackedVarint:function(K,ye){if(this.type!==t.Bytes)return K.push(this.readVarint(ye));var Oe=v(this);for(K=K||[];this.pos<Oe;)K.push(this.readVarint(ye));return K},readPackedSVarint:function(K){if(this.type!==t.Bytes)return K.push(this.readSVarint());var ye=v(this);for(K=K||[];this.pos<ye;)K.push(this.readSVarint());return K},readPackedBoolean:function(K){if(this.type!==t.Bytes)return K.push(this.readBoolean());var ye=v(this);for(K=K||[];this.pos<ye;)K.push(this.readBoolean());return K},readPackedFloat:function(K){if(this.type!==t.Bytes)return K.push(this.readFloat());var ye=v(this);for(K=K||[];this.pos<ye;)K.push(this.readFloat());return K},readPackedDouble:function(K){if(this.type!==t.Bytes)return K.push(this.readDouble());var ye=v(this);for(K=K||[];this.pos<ye;)K.push(this.readDouble());return K},readPackedFixed32:function(K){if(this.type!==t.Bytes)return K.push(this.readFixed32());var ye=v(this);for(K=K||[];this.pos<ye;)K.push(this.readFixed32());return K},readPackedSFixed32:function(K){if(this.type!==t.Bytes)return K.push(this.readSFixed32());var ye=v(this);for(K=K||[];this.pos<ye;)K.push(this.readSFixed32());return K},readPackedFixed64:function(K){if(this.type!==t.Bytes)return K.push(this.readFixed64());var ye=v(this);for(K=K||[];this.pos<ye;)K.push(this.readFixed64());return K},readPackedSFixed64:function(K){if(this.type!==t.Bytes)return K.push(this.readSFixed64());var ye=v(this);for(K=K||[];this.pos<ye;)K.push(this.readSFixed64());return K},skip:function(K){var ye=7&K;if(ye===t.Varint)for(;this.buf[this.pos++]>127;);else if(ye===t.Bytes)this.pos=this.readVarint()+this.pos;else if(ye===t.Fixed32)this.pos+=4;else{if(ye!==t.Fixed64)throw new Error("Unimplemented type: "+ye);this.pos+=8}},writeTag:function(K,ye){this.writeVarint(K<<3|ye)},realloc:function(K){for(var ye=this.length||16;ye<this.pos+K;)ye*=2;if(ye!==this.length){var Oe=new Uint8Array(ye);Oe.set(this.buf),this.buf=Oe,this.length=ye}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(K){this.realloc(4),Ke(this.buf,K,this.pos),this.pos+=4},writeSFixed32:function(K){this.realloc(4),Ke(this.buf,K,this.pos),this.pos+=4},writeFixed64:function(K){this.realloc(8),Ke(this.buf,-1&K,this.pos),Ke(this.buf,Math.floor(K*l),this.pos+4),this.pos+=8},writeSFixed64:function(K){this.realloc(8),Ke(this.buf,-1&K,this.pos),Ke(this.buf,Math.floor(K*l),this.pos+4),this.pos+=8},writeVarint:function(K){(K=+K||0)>268435455||K<0?function(ye,Oe){var ft,Zt;if(ye>=0?(ft=ye%4294967296|0,Zt=ye/4294967296|0):(Zt=~(-ye/4294967296),4294967295^(ft=~(-ye%4294967296))?ft=ft+1|0:(ft=0,Zt=Zt+1|0)),ye>=18446744073709552e3||ye<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");Oe.realloc(10),function(xt,Mt,Qt){Qt.buf[Qt.pos++]=127&xt|128,xt>>>=7,Qt.buf[Qt.pos++]=127&xt|128,xt>>>=7,Qt.buf[Qt.pos++]=127&xt|128,xt>>>=7,Qt.buf[Qt.pos++]=127&xt|128,Qt.buf[Qt.pos]=127&(xt>>>=7)}(ft,0,Oe),function(xt,Mt){var Qt=(7&xt)<<4;Mt.buf[Mt.pos++]|=Qt|((xt>>>=3)?128:0),xt&&(Mt.buf[Mt.pos++]=127&xt|((xt>>>=7)?128:0),xt&&(Mt.buf[Mt.pos++]=127&xt|((xt>>>=7)?128:0),xt&&(Mt.buf[Mt.pos++]=127&xt|((xt>>>=7)?128:0),xt&&(Mt.buf[Mt.pos++]=127&xt|((xt>>>=7)?128:0),xt&&(Mt.buf[Mt.pos++]=127&xt)))))}(Zt,Oe)}(K,this):(this.realloc(4),this.buf[this.pos++]=127&K|(K>127?128:0),K<=127||(this.buf[this.pos++]=127&(K>>>=7)|(K>127?128:0),K<=127||(this.buf[this.pos++]=127&(K>>>=7)|(K>127?128:0),K<=127||(this.buf[this.pos++]=K>>>7&127))))},writeSVarint:function(K){this.writeVarint(K<0?2*-K-1:2*K)},writeBoolean:function(K){this.writeVarint(!!K)},writeString:function(K){K=String(K),this.realloc(4*K.length),this.pos++;var ye=this.pos;this.pos=function(ft,Zt,xt){for(var Mt,Qt,Ht=0;Ht<Zt.length;Ht++){if((Mt=Zt.charCodeAt(Ht))>55295&&Mt<57344){if(!Qt){Mt>56319||Ht+1===Zt.length?(ft[xt++]=239,ft[xt++]=191,ft[xt++]=189):Qt=Mt;continue}if(Mt<56320){ft[xt++]=239,ft[xt++]=191,ft[xt++]=189,Qt=Mt;continue}Mt=Qt-55296<<10|Mt-56320|65536,Qt=null}else Qt&&(ft[xt++]=239,ft[xt++]=191,ft[xt++]=189,Qt=null);Mt<128?ft[xt++]=Mt:(Mt<2048?ft[xt++]=Mt>>6|192:(Mt<65536?ft[xt++]=Mt>>12|224:(ft[xt++]=Mt>>18|240,ft[xt++]=Mt>>12&63|128),ft[xt++]=Mt>>6&63|128),ft[xt++]=63&Mt|128)}return xt}(this.buf,K,this.pos);var Oe=this.pos-ye;Oe>=128&&A(ye,Oe,this),this.pos=ye-1,this.writeVarint(Oe),this.pos+=Oe},writeFloat:function(K){this.realloc(4),i.write(this.buf,K,this.pos,!0,23,4),this.pos+=4},writeDouble:function(K){this.realloc(8),i.write(this.buf,K,this.pos,!0,52,8),this.pos+=8},writeBytes:function(K){var ye=K.length;this.writeVarint(ye),this.realloc(ye);for(var Oe=0;Oe<ye;Oe++)this.buf[this.pos++]=K[Oe]},writeRawMessage:function(K,ye){this.pos++;var Oe=this.pos;K(ye,this);var ft=this.pos-Oe;ft>=128&&A(Oe,ft,this),this.pos=Oe-1,this.writeVarint(ft),this.pos+=ft},writeMessage:function(K,ye,Oe){this.writeTag(K,t.Bytes),this.writeRawMessage(ye,Oe)},writePackedVarint:function(K,ye){ye.length&&this.writeMessage(K,P,ye)},writePackedSVarint:function(K,ye){ye.length&&this.writeMessage(K,R,ye)},writePackedBoolean:function(K,ye){ye.length&&this.writeMessage(K,H,ye)},writePackedFloat:function(K,ye){ye.length&&this.writeMessage(K,G,ye)},writePackedDouble:function(K,ye){ye.length&&this.writeMessage(K,N,ye)},writePackedFixed32:function(K,ye){ye.length&&this.writeMessage(K,Y,ye)},writePackedSFixed32:function(K,ye){ye.length&&this.writeMessage(K,ee,ye)},writePackedFixed64:function(K,ye){ye.length&&this.writeMessage(K,se,ye)},writePackedSFixed64:function(K,ye){ye.length&&this.writeMessage(K,xe,ye)},writeBytesField:function(K,ye){this.writeTag(K,t.Bytes),this.writeBytes(ye)},writeFixed32Field:function(K,ye){this.writeTag(K,t.Fixed32),this.writeFixed32(ye)},writeSFixed32Field:function(K,ye){this.writeTag(K,t.Fixed32),this.writeSFixed32(ye)},writeFixed64Field:function(K,ye){this.writeTag(K,t.Fixed64),this.writeFixed64(ye)},writeSFixed64Field:function(K,ye){this.writeTag(K,t.Fixed64),this.writeSFixed64(ye)},writeVarintField:function(K,ye){this.writeTag(K,t.Varint),this.writeVarint(ye)},writeSVarintField:function(K,ye){this.writeTag(K,t.Varint),this.writeSVarint(ye)},writeStringField:function(K,ye){this.writeTag(K,t.Bytes),this.writeString(ye)},writeFloatField:function(K,ye){this.writeTag(K,t.Fixed32),this.writeFloat(ye)},writeDoubleField:function(K,ye){this.writeTag(K,t.Fixed64),this.writeDouble(ye)},writeBooleanField:function(K,ye){this.writeVarintField(K,!!ye)}},Rp}var Ml=V(Kd());const _h=3;function Ec(i,t,r){i===1&&r.readMessage(zp,t)}function zp(i,t,r){if(i===3){const{id:l,bitmap:g,width:v,height:b,left:A,top:P,advance:R}=r.readMessage(md,{});t.push({id:l,bitmap:new ql({width:v+2*_h,height:b+2*_h},g),metrics:{width:v,height:b,left:A,top:P,advance:R}})}}function md(i,t,r){i===1?t.id=r.readVarint():i===2?t.bitmap=r.readBytes():i===3?t.width=r.readVarint():i===4?t.height=r.readVarint():i===5?t.left=r.readSVarint():i===6?t.top=r.readSVarint():i===7&&(t.advance=r.readVarint())}const yd=_h;function Xd(i){let t=0,r=0;for(const b of i)t+=b.w*b.h,r=Math.max(r,b.w);i.sort((b,A)=>A.h-b.h);const l=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),r),h:1/0}];let g=0,v=0;for(const b of i)for(let A=l.length-1;A>=0;A--){const P=l[A];if(!(b.w>P.w||b.h>P.h)){if(b.x=P.x,b.y=P.y,v=Math.max(v,b.y+b.h),g=Math.max(g,b.x+b.w),b.w===P.w&&b.h===P.h){const R=l.pop();A<l.length&&(l[A]=R)}else b.h===P.h?(P.x+=b.w,P.w-=b.w):b.w===P.w?(P.y+=b.h,P.h-=b.h):(l.push({x:P.x+b.w,y:P.y,w:P.w-b.w,h:b.h}),P.y+=b.h,P.h-=b.h);break}}return{w:g,h:v,fill:t/(g*v)||0}}const Xo=1;class _d{constructor(t,{pixelRatio:r,version:l,stretchX:g,stretchY:v,content:b,textFitWidth:A,textFitHeight:P}){this.paddedRect=t,this.pixelRatio=r,this.stretchX=g,this.stretchY=v,this.content=b,this.version=l,this.textFitWidth=A,this.textFitHeight=P}get tl(){return[this.paddedRect.x+Xo,this.paddedRect.y+Xo]}get br(){return[this.paddedRect.x+this.paddedRect.w-Xo,this.paddedRect.y+this.paddedRect.h-Xo]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*Xo)/this.pixelRatio,(this.paddedRect.h-2*Xo)/this.pixelRatio]}}class vd{constructor(t,r){const l={},g={};this.haveRenderCallbacks=[];const v=[];this.addImages(t,l,v),this.addImages(r,g,v);const{w:b,h:A}=Xd(v),P=new ms({width:b||1,height:A||1});for(const R in t){const G=t[R],N=l[R].paddedRect;ms.copy(G.data,P,{x:0,y:0},{x:N.x+Xo,y:N.y+Xo},G.data)}for(const R in r){const G=r[R],N=g[R].paddedRect,H=N.x+Xo,Y=N.y+Xo,ee=G.data.width,se=G.data.height;ms.copy(G.data,P,{x:0,y:0},{x:H,y:Y},G.data),ms.copy(G.data,P,{x:0,y:se-1},{x:H,y:Y-1},{width:ee,height:1}),ms.copy(G.data,P,{x:0,y:0},{x:H,y:Y+se},{width:ee,height:1}),ms.copy(G.data,P,{x:ee-1,y:0},{x:H-1,y:Y},{width:1,height:se}),ms.copy(G.data,P,{x:0,y:0},{x:H+ee,y:Y},{width:1,height:se})}this.image=P,this.iconPositions=l,this.patternPositions=g}addImages(t,r,l){for(const g in t){const v=t[g],b={x:0,y:0,w:v.data.width+2*Xo,h:v.data.height+2*Xo};l.push(b),r[g]=new _d(b,v),v.hasRenderCallback&&this.haveRenderCallbacks.push(g)}}patchUpdatedImages(t,r){t.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const l in t.updatedImages)this.patchUpdatedImage(this.iconPositions[l],t.getImage(l),r),this.patchUpdatedImage(this.patternPositions[l],t.getImage(l),r)}patchUpdatedImage(t,r,l){if(!t||!r||t.version===r.version)return;t.version=r.version;const[g,v]=t.tl;l.update(r.data,void 0,{x:g,y:v})}}var Iu;un("ImagePosition",_d),un("ImageAtlas",vd),I.al=void 0,(Iu=I.al||(I.al={}))[Iu.none=0]="none",Iu[Iu.horizontal=1]="horizontal",Iu[Iu.vertical=2]="vertical",Iu[Iu.horizontalOnly=3]="horizontalOnly";const kc=-17;class sc{constructor(){this.scale=1,this.fontStack="",this.imageName=null,this.verticalAlign="bottom"}static forText(t,r,l){const g=new sc;return g.scale=t||1,g.fontStack=r,g.verticalAlign=l||"bottom",g}static forImage(t,r){const l=new sc;return l.imageName=t,l.verticalAlign=r||"bottom",l}}class Rc{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(t,r){const l=new Rc;for(let g=0;g<t.sections.length;g++){const v=t.sections[g];v.image?l.addImageSection(v):l.addTextSection(v,r)}return l}length(){return this.text.length}getSection(t){return this.sections[this.sectionIndex[t]]}getSectionIndex(t){return this.sectionIndex[t]}getCharCode(t){return this.text.charCodeAt(t)}verticalizePunctuation(){this.text=function(t){let r="";for(let l=0;l<t.length;l++){const g=t.charCodeAt(l+1)||null,v=t.charCodeAt(l-1)||null;r+=g&&$o(g)&&!rp[t[l+1]]||v&&$o(v)&&!rp[t[l-1]]||!rp[t[l]]?t[l]:rp[t[l]]}return r}(this.text)}trim(){let t=0;for(let l=0;l<this.text.length&&Gp[this.text.charCodeAt(l)];l++)t++;let r=this.text.length;for(let l=this.text.length-1;l>=0&&l>=t&&Gp[this.text.charCodeAt(l)];l--)r--;this.text=this.text.substring(t,r),this.sectionIndex=this.sectionIndex.slice(t,r)}substring(t,r){const l=new Rc;return l.text=this.text.substring(t,r),l.sectionIndex=this.sectionIndex.slice(t,r),l.sections=this.sections,l}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((t,r)=>Math.max(t,this.sections[r].scale),0)}getMaxImageSize(t){let r=0,l=0;for(let g=0;g<this.length();g++){const v=this.getSection(g);if(v.imageName){const b=t[v.imageName];if(!b)continue;const A=b.displaySize;r=Math.max(r,A[0]),l=Math.max(l,A[1])}}return{maxImageWidth:r,maxImageHeight:l}}addTextSection(t,r){this.text+=t.text,this.sections.push(sc.forText(t.scale,t.fontStack||r,t.verticalAlign));const l=this.sections.length-1;for(let g=0;g<t.text.length;++g)this.sectionIndex.push(l)}addImageSection(t){const r=t.image?t.image.name:"";if(r.length===0)return void Hn("Can't add FormattedSection with an empty image.");const l=this.getNextImageSectionCharCode();l?(this.text+=String.fromCharCode(l),this.sections.push(sc.forImage(r,t.verticalAlign)),this.sectionIndex.push(this.sections.length-1)):Hn("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function vh(i,t,r,l,g,v,b,A,P,R,G,N,H,Y,ee){const se=Rc.fromFeature(i,g);let xe;N===I.al.vertical&&se.verticalizePunctuation();const{processBidirectionalText:Ie,processStyledBidirectionalText:Ke}=Vl;if(Ie&&se.sections.length===1){xe=[];const ye=Ie(se.toString(),Au(se,R,v,t,l,Y));for(const Oe of ye){const ft=new Rc;ft.text=Oe,ft.sections=se.sections;for(let Zt=0;Zt<Oe.length;Zt++)ft.sectionIndex.push(0);xe.push(ft)}}else if(Ke){xe=[];const ye=Ke(se.text,se.sectionIndex,Au(se,R,v,t,l,Y));for(const Oe of ye){const ft=new Rc;ft.text=Oe[0],ft.sectionIndex=Oe[1],ft.sections=se.sections,xe.push(ft)}}else xe=function(ye,Oe){const ft=[],Zt=ye.text;let xt=0;for(const Mt of Oe)ft.push(ye.substring(xt,Mt)),xt=Mt;return xt<Zt.length&&ft.push(ye.substring(xt,Zt.length)),ft}(se,Au(se,R,v,t,l,Y));const Ue=[],K={positionedLines:Ue,text:se.toString(),top:G[1],bottom:G[1],left:G[0],right:G[0],writingMode:N,iconsInText:!1,verticalizable:!1};return function(ye,Oe,ft,Zt,xt,Mt,Qt,Ht,Xt,Et,In,qn){let Wn=0,En=0,Er=0,Qi=0;const oo=Ht==="right"?1:Ht==="left"?0:.5,vs=ka/qn;let g0=0;for(const Ji of xt){Ji.trim();const Io=Ji.getMaxScale(),Qo={positionedGlyphs:[],lineOffset:0};ye.positionedLines[g0]=Qo;const Jo=Qo.positionedGlyphs;let il=0;if(!Ji.length()){En+=Mt,++g0;continue}const m0=ip(Zt,Ji,vs);for(let kl=0;kl<Ji.length();kl++){const so=Ji.getSection(kl),So=Ji.getSectionIndex(kl),To=Ji.getCharCode(kl),Va=Fp(Xt,In,To);let ji;if(so.imageName){if(ye.iconsInText=!0,so.scale=so.scale*vs,ji=c(so,Va,Io,m0,Zt),!ji)continue;il=Math.max(il,ji.imageOffset)}else if(ji=a(so,To,Va,m0,Oe,ft),!ji)continue;const{rect:Pu,metrics:Wp,baselineOffset:Eu}=ji;Jo.push({glyph:To,imageName:so.imageName,x:Wn,y:En+Eu+kc,vertical:Va,scale:so.scale,fontStack:so.fontStack,sectionIndex:So,metrics:Wp,rect:Pu}),Va?(ye.verticalizable=!0,Wn+=(so.imageName?Wp.advance:ka)*so.scale+Et):Wn+=Wp.advance*so.scale+Et}Jo.length!==0&&(Er=Math.max(Wn-Et,Er),x(Jo,0,Jo.length-1,oo)),Wn=0,Qo.lineOffset=Math.max(il,(Io-1)*ka);const Ao=Mt*Io+il;En+=Ao,Qi=Math.max(Ao,Qi),++g0}const{horizontalAlign:El,verticalAlign:Yo}=bd(Qt);(function(Ji,Io,Qo,Jo,il,m0,Ao,kl,so){const So=(Io-Qo)*il;let To=0;To=m0!==Ao?-kl*Jo-kc:-Jo*so*Ao+.5*Ao;for(const Va of Ji)for(const ji of Va.positionedGlyphs)ji.x+=So,ji.y+=To})(ye.positionedLines,oo,El,Yo,Er,Qi,Mt,En,xt.length),ye.top+=-Yo*En,ye.bottom=ye.top+En,ye.left+=-El*Er,ye.right=ye.left+Er}(K,t,r,l,xe,b,A,P,N,R,H,ee),!function(ye){for(const Oe of ye)if(Oe.positionedGlyphs.length!==0)return!1;return!0}(Ue)&&K}const Gp={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Yd={10:!0,32:!0,38:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0},Lp={40:!0};function xh(i,t,r,l,g,v){if(t.imageName){const b=l[t.imageName];return b?b.displaySize[0]*t.scale*ka/v+g:0}{const b=r[t.fontStack],A=b&&b[i];return A?A.metrics.advance*t.scale+g:0}}function Bp(i,t,r,l){const g=Math.pow(i-t,2);return l?i<t?g/2:2*g:g+Math.abs(r)*r}function Op(i,t,r){let l=0;return i===10&&(l-=1e4),r&&(l+=150),i!==40&&i!==65288||(l+=50),t!==41&&t!==65289||(l+=50),l}function xd(i,t,r,l,g,v){let b=null,A=Bp(t,r,g,v);for(const P of l){const R=Bp(t-P.x,r,g,v)+P.badness;R<=A&&(b=P,A=R)}return{index:i,x:t,priorBreak:b,badness:A}}function Qd(i){return i?Qd(i.priorBreak).concat(i.index):[]}function Au(i,t,r,l,g,v){if(!i)return[];const b=[],A=function(N,H,Y,ee,se,xe){let Ie=0;for(let Ke=0;Ke<N.length();Ke++){const Ue=N.getSection(Ke);Ie+=xh(N.getCharCode(Ke),Ue,ee,se,H,xe)}return Ie/Math.max(1,Math.ceil(Ie/Y))}(i,t,r,l,g,v),P=i.text.indexOf("​")>=0;let R=0;for(let N=0;N<i.length();N++){const H=i.getSection(N),Y=i.getCharCode(N);if(Gp[Y]||(R+=xh(Y,H,l,g,t,v)),N<i.length()-1){const ee=!((G=Y)<11904)&&(!!lr["CJK Compatibility Forms"](G)||!!lr["CJK Compatibility"](G)||!!lr["CJK Strokes"](G)||!!lr["CJK Symbols and Punctuation"](G)||!!lr["Enclosed CJK Letters and Months"](G)||!!lr["Halfwidth and Fullwidth Forms"](G)||!!lr["Ideographic Description Characters"](G)||!!lr["Vertical Forms"](G)||No.test(String.fromCodePoint(G)));(Yd[Y]||ee||H.imageName||N!==i.length()-2&&Lp[i.getCharCode(N+1)])&&b.push(xd(N+1,R,A,b,Op(Y,i.getCharCode(N+1),ee&&P),!1))}}var G;return Qd(xd(i.length(),R,A,b,0,!0))}function bd(i){let t=.5,r=.5;switch(i){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(i){case"bottom":case"bottom-right":case"bottom-left":r=1;break;case"top":case"top-right":case"top-left":r=0}return{horizontalAlign:t,verticalAlign:r}}function ip(i,t,r){const l=t.getMaxScale()*ka,{maxImageWidth:g,maxImageHeight:v}=t.getMaxImageSize(i),b=Math.max(l,v*r);return{verticalLineContentWidth:Math.max(l,g*r),horizontalLineContentHeight:b}}function Jd(i){switch(i){case"top":return 0;case"center":return .5;default:return 1}}function Fp(i,t,r){return!(i===I.al.horizontal||!t&&!_i(r)||t&&(Gp[r]||(l=r,new RegExp("\\p{sc=Arab}","u").test(String.fromCodePoint(l)))));var l}function a(i,t,r,l,g,v){const b=v[i.fontStack],A=function(R,G,N,H){if(R&&R.rect)return R;const Y=G[N.fontStack],ee=Y&&Y[H];return ee?{rect:null,metrics:ee.metrics}:null}(b&&b[t],g,i,t);if(A===null)return null;let P;if(r)P=l.verticalLineContentWidth-i.scale*ka;else{const R=Jd(i.verticalAlign);P=(l.horizontalLineContentHeight-i.scale*ka)*R}return{rect:A.rect,metrics:A.metrics,baselineOffset:P}}function c(i,t,r,l,g){const v=g[i.imageName];if(!v)return null;const b=v.paddedRect,A=v.displaySize,P={width:A[0],height:A[1],left:Xo,top:-3,advance:t?A[1]:A[0]};let R;if(t)R=l.verticalLineContentWidth-A[1]*i.scale;else{const G=Jd(i.verticalAlign);R=(l.horizontalLineContentHeight-A[1]*i.scale)*G}return{rect:b,metrics:P,baselineOffset:R,imageOffset:(t?A[0]:A[1])*i.scale-ka*r}}function x(i,t,r,l){if(l===0)return;const g=i[r],v=(i[r].x+g.metrics.advance*g.scale)*l;for(let b=t;b<=r;b++)i[b].x-=v}function S(i,t,r){const{horizontalAlign:l,verticalAlign:g}=bd(r),v=t[0]-i.displaySize[0]*l,b=t[1]-i.displaySize[1]*g;return{image:i,top:b,bottom:b+i.displaySize[1],left:v,right:v+i.displaySize[0]}}function U(i){var t,r;let l=i.left,g=i.top,v=i.right-l,b=i.bottom-g;const A=(t=i.image.textFitWidth)!==null&&t!==void 0?t:"stretchOrShrink",P=(r=i.image.textFitHeight)!==null&&r!==void 0?r:"stretchOrShrink",R=(i.image.content[2]-i.image.content[0])/(i.image.content[3]-i.image.content[1]);if(P==="proportional"){if(A==="stretchOnly"&&v/b<R||A==="proportional"){const G=Math.ceil(b*R);l*=G/v,v=G}}else if(A==="proportional"&&P==="stretchOnly"&&R!==0&&v/b>R){const G=Math.ceil(v/R);g*=G/b,b=G}return{x1:l,y1:g,x2:l+v,y2:g+b}}function $(i,t,r,l,g,v){const b=i.image;let A;if(b.content){const xe=b.content,Ie=b.pixelRatio||1;A=[xe[0]/Ie,xe[1]/Ie,b.displaySize[0]-xe[2]/Ie,b.displaySize[1]-xe[3]/Ie]}const P=t.left*v,R=t.right*v;let G,N,H,Y;r==="width"||r==="both"?(Y=g[0]+P-l[3],N=g[0]+R+l[1]):(Y=g[0]+(P+R-b.displaySize[0])/2,N=Y+b.displaySize[0]);const ee=t.top*v,se=t.bottom*v;return r==="height"||r==="both"?(G=g[1]+ee-l[0],H=g[1]+se+l[2]):(G=g[1]+(ee+se-b.displaySize[1])/2,H=G+b.displaySize[1]),{image:b,top:G,right:N,bottom:H,left:Y,collisionPadding:A}}const le=255,Re=128,Xe=le*Re;function It(i,t){const{expression:r}=t;if(r.kind==="constant")return{kind:"constant",layoutSize:r.evaluate(new ii(i+1))};if(r.kind==="source")return{kind:"source"};{const{zoomStops:l,interpolationType:g}=r;let v=0;for(;v<l.length&&l[v]<=i;)v++;v=Math.max(0,v-1);let b=v;for(;b<l.length&&l[b]<i+1;)b++;b=Math.min(l.length-1,b);const A=l[v],P=l[b];return r.kind==="composite"?{kind:"composite",minZoom:A,maxZoom:P,interpolationType:g}:{kind:"camera",minZoom:A,maxZoom:P,minSize:r.evaluate(new ii(A)),maxSize:r.evaluate(new ii(P)),interpolationType:g}}}function en(i,t,r){let l="never";const g=i.get(t);return g?l=g:i.get(r)&&(l="always"),l}const on=ao.VectorTileFeature.types,tn=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Dn(i,t,r,l,g,v,b,A,P,R,G,N,H){const Y=A?Math.min(Xe,Math.round(A[0])):0,ee=A?Math.min(Xe,Math.round(A[1])):0;i.emplaceBack(t,r,Math.round(32*l),Math.round(32*g),v,b,(Y<<1)+(P?1:0),ee,16*R,16*G,256*N,256*H)}function zn(i,t,r){i.emplaceBack(t.x,t.y,r),i.emplaceBack(t.x,t.y,r),i.emplaceBack(t.x,t.y,r),i.emplaceBack(t.x,t.y,r)}function $n(i){for(const t of i.sections)if(us(t.text))return!0;return!1}class da{constructor(t){this.layoutVertexArray=new di,this.indexArray=new Dr,this.programConfigurations=t,this.segments=new Pr,this.dynamicLayoutVertexArray=new ei,this.opacityVertexArray=new Mi,this.hasVisibleVertices=!1,this.placedSymbolArray=new Le}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(t,r,l,g){this.isEmpty()||(l&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Sf.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,r),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,yh.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,tn,!0),this.opacityVertexBuffer.itemSize=1),(l||g)&&this.programConfigurations.upload(t))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}un("SymbolBuffers",da);class dt{constructor(t,r,l){this.layoutVertexArray=new t,this.layoutAttributes=r,this.indexArray=new l,this.segments=new Pr,this.collisionVertexArray=new Tr}upload(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,kp.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}un("CollisionBuffers",dt);class et{constructor(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(b=>b.id),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[];const r=this.layers[0]._unevaluatedLayout._values;this.textSizeData=It(this.zoom,r["text-size"]),this.iconSizeData=It(this.zoom,r["icon-size"]);const l=this.layers[0].layout,g=l.get("symbol-sort-key"),v=l.get("symbol-z-order");this.canOverlap=en(l,"text-overlap","text-allow-overlap")!=="never"||en(l,"icon-overlap","icon-allow-overlap")!=="never"||l.get("text-ignore-placement")||l.get("icon-ignore-placement"),this.sortFeaturesByKey=v!=="viewport-y"&&!g.isConstant(),this.sortFeaturesByY=(v==="viewport-y"||v==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,l.get("symbol-placement")==="point"&&(this.writingModes=l.get("text-writing-mode").map(b=>I.al[b])),this.stateDependentLayerIds=this.layers.filter(b=>b.isStateDependent()).map(b=>b.id),this.sourceID=t.sourceID}createArrays(){this.text=new da(new Il(this.layers,this.zoom,t=>/^text/.test(t))),this.icon=new da(new Il(this.layers,this.zoom,t=>/^icon/.test(t))),this.glyphOffsetArray=new je,this.lineVertexArray=new Ve,this.symbolInstances=new Be,this.textAnchorOffsets=new At}calculateGlyphDependencies(t,r,l,g,v){for(let b=0;b<t.length;b++)if(r[t.charCodeAt(b)]=!0,(l||g)&&v){const A=rp[t.charAt(b)];A&&(r[A.charCodeAt(0)]=!0)}}populate(t,r,l){const g=this.layers[0],v=g.layout,b=v.get("text-font"),A=v.get("text-field"),P=v.get("icon-image"),R=(A.value.kind!=="constant"||A.value.value instanceof li&&!A.value.value.isEmpty()||A.value.value.toString().length>0)&&(b.value.kind!=="constant"||b.value.value.length>0),G=P.value.kind!=="constant"||!!P.value.value||Object.keys(P.parameters).length>0,N=v.get("symbol-sort-key");if(this.features=[],!R&&!G)return;const H=r.iconDependencies,Y=r.glyphDependencies,ee=r.availableImages,se=new ii(this.zoom);for(const{feature:xe,id:Ie,index:Ke,sourceLayerIndex:Ue}of t){const K=g._featureFilter.needGeometry,ye=N0(xe,K);if(!g._featureFilter.filter(se,ye,l))continue;let Oe,ft;if(K||(ye.geometry=Al(xe)),R){const xt=g.getValueAndResolveTokens("text-field",ye,l,ee),Mt=li.factory(xt),Qt=this.hasRTLText=this.hasRTLText||$n(Mt);(!Qt||Vl.getRTLTextPluginStatus()==="unavailable"||Qt&&Vl.isParsed())&&(Oe=Hd(Mt,g,ye))}if(G){const xt=g.getValueAndResolveTokens("icon-image",ye,l,ee);ft=xt instanceof ia?xt:ia.fromString(xt)}if(!Oe&&!ft)continue;const Zt=this.sortFeaturesByKey?N.evaluate(ye,{},l):void 0;if(this.features.push({id:Ie,text:Oe,icon:ft,index:Ke,sourceLayerIndex:Ue,geometry:ye.geometry,properties:xe.properties,type:on[xe.type],sortKey:Zt}),ft&&(H[ft.name]=!0),Oe){const xt=b.evaluate(ye,{},l).join(","),Mt=v.get("text-rotation-alignment")!=="viewport"&&v.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(I.al.vertical)>=0;for(const Qt of Oe.sections)if(Qt.image)H[Qt.image.name]=!0;else{const Ht=$l(Oe.toString()),Xt=Qt.fontStack||xt,Et=Y[Xt]=Y[Xt]||{};this.calculateGlyphDependencies(Qt.text,Et,Mt,this.allowVerticalPlacement,Ht)}}}v.get("symbol-placement")==="line"&&(this.features=function(xe){const Ie={},Ke={},Ue=[];let K=0;function ye(xt){Ue.push(xe[xt]),K++}function Oe(xt,Mt,Qt){const Ht=Ke[xt];return delete Ke[xt],Ke[Mt]=Ht,Ue[Ht].geometry[0].pop(),Ue[Ht].geometry[0]=Ue[Ht].geometry[0].concat(Qt[0]),Ht}function ft(xt,Mt,Qt){const Ht=Ie[Mt];return delete Ie[Mt],Ie[xt]=Ht,Ue[Ht].geometry[0].shift(),Ue[Ht].geometry[0]=Qt[0].concat(Ue[Ht].geometry[0]),Ht}function Zt(xt,Mt,Qt){const Ht=Qt?Mt[0][Mt[0].length-1]:Mt[0][0];return`${xt}:${Ht.x}:${Ht.y}`}for(let xt=0;xt<xe.length;xt++){const Mt=xe[xt],Qt=Mt.geometry,Ht=Mt.text?Mt.text.toString():null;if(!Ht){ye(xt);continue}const Xt=Zt(Ht,Qt),Et=Zt(Ht,Qt,!0);if(Xt in Ke&&Et in Ie&&Ke[Xt]!==Ie[Et]){const In=ft(Xt,Et,Qt),qn=Oe(Xt,Et,Ue[In].geometry);delete Ie[Xt],delete Ke[Et],Ke[Zt(Ht,Ue[qn].geometry,!0)]=qn,Ue[In].geometry=null}else Xt in Ke?Oe(Xt,Et,Qt):Et in Ie?ft(Xt,Et,Qt):(ye(xt),Ie[Xt]=K-1,Ke[Et]=K-1)}return Ue.filter(xt=>xt.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((xe,Ie)=>xe.sortKey-Ie.sortKey)}update(t,r,l){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,r,this.layers,l),this.icon.programConfigurations.updatePaintArrays(t,r,this.layers,l))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(t){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(t),this.iconCollisionBox.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(t,r){const l=this.lineVertexArray.length;if(t.segment!==void 0){let g=t.dist(r[t.segment+1]),v=t.dist(r[t.segment]);const b={};for(let A=t.segment+1;A<r.length;A++)b[A]={x:r[A].x,y:r[A].y,tileUnitDistanceFromAnchor:g},A<r.length-1&&(g+=r[A+1].dist(r[A]));for(let A=t.segment||0;A>=0;A--)b[A]={x:r[A].x,y:r[A].y,tileUnitDistanceFromAnchor:v},A>0&&(v+=r[A-1].dist(r[A]));for(let A=0;A<r.length;A++){const P=b[A];this.lineVertexArray.emplaceBack(P.x,P.y,P.tileUnitDistanceFromAnchor)}}return{lineStartIndex:l,lineLength:this.lineVertexArray.length-l}}addSymbols(t,r,l,g,v,b,A,P,R,G,N,H){const Y=t.indexArray,ee=t.layoutVertexArray,se=t.segments.prepareSegment(4*r.length,ee,Y,this.canOverlap?b.sortKey:void 0),xe=this.glyphOffsetArray.length,Ie=se.vertexLength,Ke=this.allowVerticalPlacement&&A===I.al.vertical?Math.PI/2:0,Ue=b.text&&b.text.sections;for(let K=0;K<r.length;K++){const{tl:ye,tr:Oe,bl:ft,br:Zt,tex:xt,pixelOffsetTL:Mt,pixelOffsetBR:Qt,minFontScaleX:Ht,minFontScaleY:Xt,glyphOffset:Et,isSDF:In,sectionIndex:qn}=r[K],Wn=se.vertexLength,En=Et[1];Dn(ee,P.x,P.y,ye.x,En+ye.y,xt.x,xt.y,l,In,Mt.x,Mt.y,Ht,Xt),Dn(ee,P.x,P.y,Oe.x,En+Oe.y,xt.x+xt.w,xt.y,l,In,Qt.x,Mt.y,Ht,Xt),Dn(ee,P.x,P.y,ft.x,En+ft.y,xt.x,xt.y+xt.h,l,In,Mt.x,Qt.y,Ht,Xt),Dn(ee,P.x,P.y,Zt.x,En+Zt.y,xt.x+xt.w,xt.y+xt.h,l,In,Qt.x,Qt.y,Ht,Xt),zn(t.dynamicLayoutVertexArray,P,Ke),Y.emplaceBack(Wn,Wn+2,Wn+1),Y.emplaceBack(Wn+1,Wn+2,Wn+3),se.vertexLength+=4,se.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Et[0]),K!==r.length-1&&qn===r[K+1].sectionIndex||t.programConfigurations.populatePaintArrays(ee.length,b,b.index,{},H,Ue&&Ue[qn])}t.placedSymbolArray.emplaceBack(P.x,P.y,xe,this.glyphOffsetArray.length-xe,Ie,R,G,P.segment,l?l[0]:0,l?l[1]:0,g[0],g[1],A,0,!1,0,N)}_addCollisionDebugVertex(t,r,l,g,v,b){return r.emplaceBack(0,0),t.emplaceBack(l.x,l.y,g,v,Math.round(b.x),Math.round(b.y))}addCollisionDebugVertices(t,r,l,g,v,b,A){const P=v.segments.prepareSegment(4,v.layoutVertexArray,v.indexArray),R=P.vertexLength,G=v.layoutVertexArray,N=v.collisionVertexArray,H=A.anchorX,Y=A.anchorY;this._addCollisionDebugVertex(G,N,b,H,Y,new he(t,r)),this._addCollisionDebugVertex(G,N,b,H,Y,new he(l,r)),this._addCollisionDebugVertex(G,N,b,H,Y,new he(l,g)),this._addCollisionDebugVertex(G,N,b,H,Y,new he(t,g)),P.vertexLength+=4;const ee=v.indexArray;ee.emplaceBack(R,R+1),ee.emplaceBack(R+1,R+2),ee.emplaceBack(R+2,R+3),ee.emplaceBack(R+3,R),P.primitiveLength+=4}addDebugCollisionBoxes(t,r,l,g){for(let v=t;v<r;v++){const b=this.collisionBoxArray.get(v);this.addCollisionDebugVertices(b.x1,b.y1,b.x2,b.y2,g?this.textCollisionBox:this.iconCollisionBox,b.anchorPoint,l)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new dt(Pi,Yi.members,Xi),this.iconCollisionBox=new dt(Pi,Yi.members,Xi);for(let t=0;t<this.symbolInstances.length;t++){const r=this.symbolInstances.get(t);this.addDebugCollisionBoxes(r.textBoxStartIndex,r.textBoxEndIndex,r,!0),this.addDebugCollisionBoxes(r.verticalTextBoxStartIndex,r.verticalTextBoxEndIndex,r,!0),this.addDebugCollisionBoxes(r.iconBoxStartIndex,r.iconBoxEndIndex,r,!1),this.addDebugCollisionBoxes(r.verticalIconBoxStartIndex,r.verticalIconBoxEndIndex,r,!1)}}_deserializeCollisionBoxesForSymbol(t,r,l,g,v,b,A,P,R){const G={};for(let N=r;N<l;N++){const H=t.get(N);G.textBox={x1:H.x1,y1:H.y1,x2:H.x2,y2:H.y2,anchorPointX:H.anchorPointX,anchorPointY:H.anchorPointY},G.textFeatureIndex=H.featureIndex;break}for(let N=g;N<v;N++){const H=t.get(N);G.verticalTextBox={x1:H.x1,y1:H.y1,x2:H.x2,y2:H.y2,anchorPointX:H.anchorPointX,anchorPointY:H.anchorPointY},G.verticalTextFeatureIndex=H.featureIndex;break}for(let N=b;N<A;N++){const H=t.get(N);G.iconBox={x1:H.x1,y1:H.y1,x2:H.x2,y2:H.y2,anchorPointX:H.anchorPointX,anchorPointY:H.anchorPointY},G.iconFeatureIndex=H.featureIndex;break}for(let N=P;N<R;N++){const H=t.get(N);G.verticalIconBox={x1:H.x1,y1:H.y1,x2:H.x2,y2:H.y2,anchorPointX:H.anchorPointX,anchorPointY:H.anchorPointY},G.verticalIconFeatureIndex=H.featureIndex;break}return G}deserializeCollisionBoxes(t){this.collisionArrays=[];for(let r=0;r<this.symbolInstances.length;r++){const l=this.symbolInstances.get(r);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,l.textBoxStartIndex,l.textBoxEndIndex,l.verticalTextBoxStartIndex,l.verticalTextBoxEndIndex,l.iconBoxStartIndex,l.iconBoxEndIndex,l.verticalIconBoxStartIndex,l.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(t,r){const l=t.placedSymbolArray.get(r),g=l.vertexStartIndex+4*l.numGlyphs;for(let v=l.vertexStartIndex;v<g;v+=4)t.indexArray.emplaceBack(v,v+2,v+1),t.indexArray.emplaceBack(v+1,v+2,v+3)}getSortedSymbolIndexes(t){if(this.sortedAngle===t&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const r=Math.sin(t),l=Math.cos(t),g=[],v=[],b=[];for(let A=0;A<this.symbolInstances.length;++A){b.push(A);const P=this.symbolInstances.get(A);g.push(0|Math.round(r*P.anchorX+l*P.anchorY)),v.push(P.featureIndex)}return b.sort((A,P)=>g[A]-g[P]||v[P]-v[A]),b}addToSortKeyRanges(t,r){const l=this.sortKeyRanges[this.sortKeyRanges.length-1];l&&l.sortKey===r?l.symbolInstanceEnd=t+1:this.sortKeyRanges.push({sortKey:r,symbolInstanceStart:t,symbolInstanceEnd:t+1})}sortFeatures(t){if(this.sortFeaturesByY&&this.sortedAngle!==t&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(t),this.sortedAngle=t,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const r of this.symbolInstanceIndexes){const l=this.symbolInstances.get(r);this.featureSortOrder.push(l.featureIndex),[l.rightJustifiedTextSymbolIndex,l.centerJustifiedTextSymbolIndex,l.leftJustifiedTextSymbolIndex].forEach((g,v,b)=>{g>=0&&b.indexOf(g)===v&&this.addIndicesForPlacedSymbol(this.text,g)}),l.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,l.verticalPlacedTextSymbolIndex),l.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,l.placedIconSymbolIndex),l.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,l.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let vt,dn;un("SymbolBucket",et,{omit:["layers","collisionBoxArray","features","compareText"]}),et.MAX_GLYPHS=65535,et.addDynamicAttributes=zn;var Vn={get paint(){return dn=dn||new Ui({"icon-opacity":new jn(me.paint_symbol["icon-opacity"]),"icon-color":new jn(me.paint_symbol["icon-color"]),"icon-halo-color":new jn(me.paint_symbol["icon-halo-color"]),"icon-halo-width":new jn(me.paint_symbol["icon-halo-width"]),"icon-halo-blur":new jn(me.paint_symbol["icon-halo-blur"]),"icon-translate":new fn(me.paint_symbol["icon-translate"]),"icon-translate-anchor":new fn(me.paint_symbol["icon-translate-anchor"]),"text-opacity":new jn(me.paint_symbol["text-opacity"]),"text-color":new jn(me.paint_symbol["text-color"],{runtimeType:jr,getOverride:i=>i.textColor,hasOverride:i=>!!i.textColor}),"text-halo-color":new jn(me.paint_symbol["text-halo-color"]),"text-halo-width":new jn(me.paint_symbol["text-halo-width"]),"text-halo-blur":new jn(me.paint_symbol["text-halo-blur"]),"text-translate":new fn(me.paint_symbol["text-translate"]),"text-translate-anchor":new fn(me.paint_symbol["text-translate-anchor"])})},get layout(){return vt=vt||new Ui({"symbol-placement":new fn(me.layout_symbol["symbol-placement"]),"symbol-spacing":new fn(me.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new fn(me.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new jn(me.layout_symbol["symbol-sort-key"]),"symbol-z-order":new fn(me.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new fn(me.layout_symbol["icon-allow-overlap"]),"icon-overlap":new fn(me.layout_symbol["icon-overlap"]),"icon-ignore-placement":new fn(me.layout_symbol["icon-ignore-placement"]),"icon-optional":new fn(me.layout_symbol["icon-optional"]),"icon-rotation-alignment":new fn(me.layout_symbol["icon-rotation-alignment"]),"icon-size":new jn(me.layout_symbol["icon-size"]),"icon-text-fit":new fn(me.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new fn(me.layout_symbol["icon-text-fit-padding"]),"icon-image":new jn(me.layout_symbol["icon-image"]),"icon-rotate":new jn(me.layout_symbol["icon-rotate"]),"icon-padding":new jn(me.layout_symbol["icon-padding"]),"icon-keep-upright":new fn(me.layout_symbol["icon-keep-upright"]),"icon-offset":new jn(me.layout_symbol["icon-offset"]),"icon-anchor":new jn(me.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new fn(me.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new fn(me.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new fn(me.layout_symbol["text-rotation-alignment"]),"text-field":new jn(me.layout_symbol["text-field"]),"text-font":new jn(me.layout_symbol["text-font"]),"text-size":new jn(me.layout_symbol["text-size"]),"text-max-width":new jn(me.layout_symbol["text-max-width"]),"text-line-height":new fn(me.layout_symbol["text-line-height"]),"text-letter-spacing":new jn(me.layout_symbol["text-letter-spacing"]),"text-justify":new jn(me.layout_symbol["text-justify"]),"text-radial-offset":new jn(me.layout_symbol["text-radial-offset"]),"text-variable-anchor":new fn(me.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new jn(me.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new jn(me.layout_symbol["text-anchor"]),"text-max-angle":new fn(me.layout_symbol["text-max-angle"]),"text-writing-mode":new fn(me.layout_symbol["text-writing-mode"]),"text-rotate":new jn(me.layout_symbol["text-rotate"]),"text-padding":new fn(me.layout_symbol["text-padding"]),"text-keep-upright":new fn(me.layout_symbol["text-keep-upright"]),"text-transform":new jn(me.layout_symbol["text-transform"]),"text-offset":new jn(me.layout_symbol["text-offset"]),"text-allow-overlap":new fn(me.layout_symbol["text-allow-overlap"]),"text-overlap":new fn(me.layout_symbol["text-overlap"]),"text-ignore-placement":new fn(me.layout_symbol["text-ignore-placement"]),"text-optional":new fn(me.layout_symbol["text-optional"])})}};class ar{constructor(t){if(t.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=t.property.overrides?t.property.overrides.runtimeType:Ln,this.defaultValue=t}evaluate(t){if(t.formattedSection){const r=this.defaultValue.property.overrides;if(r&&r.hasOverride(t.formattedSection))return r.getOverride(t.formattedSection)}return t.feature&&t.featureState?this.defaultValue.evaluate(t.feature,t.featureState):this.defaultValue.property.specification.default}eachChild(t){this.defaultValue.isConstant()||t(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}un("FormatSectionOverride",ar,{omit:["defaultValue"]});class Jn extends Vo{constructor(t){super(t,Vn)}recalculate(t,r){if(super.recalculate(t,r),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const l=this.layout.get("text-writing-mode");if(l){const g=[];for(const v of l)g.indexOf(v)<0&&g.push(v);this.layout._values["text-writing-mode"]=g}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(t,r,l,g){const v=this.layout.get(t).evaluate(r,{},l,g),b=this._unevaluatedLayout._values[t];return b.isDataDriven()||gl(b.value)||!v?v:function(A,P){return P.replace(/{([^{}]+)}/g,(R,G)=>A&&G in A?String(A[G]):"")}(r.properties,v)}createBucket(t){return new et(t)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const t of Vn.paint.overridableProperties){if(!Jn.hasPaintOverride(this.layout,t))continue;const r=this.paint.get(t),l=new ar(r),g=new Zu(l,r.property.specification);let v=null;v=r.value.kind==="constant"||r.value.kind==="source"?new Wu("source",g):new Hu("composite",g,r.value.zoomStops),this.paint._values[t]=new xo(r.property,v,r.parameters)}}_handleOverridablePaintPropertyUpdate(t,r,l){return!(!this.layout||r.isDataDriven()||l.isDataDriven())&&Jn.hasPaintOverride(this.layout,t)}static hasPaintOverride(t,r){const l=t.get("text-field"),g=Vn.paint.properties[r];let v=!1;const b=A=>{for(const P of A)if(g.overrides&&g.overrides.hasOverride(P))return void(v=!0)};if(l.value.kind==="constant"&&l.value.value instanceof li)b(l.value.value.sections);else if(l.value.kind==="source"){const A=R=>{v||(R instanceof vn&&ci(R.value)===rs?b(R.value.sections):R instanceof zl?b(R.sections):R.eachChild(A))},P=l.value;P._styleExpression&&A(P._styleExpression.expression)}return v}}let cr;var Co={get paint(){return cr=cr||new Ui({"background-color":new fn(me.paint_background["background-color"]),"background-pattern":new jo(me.paint_background["background-pattern"]),"background-opacity":new fn(me.paint_background["background-opacity"])})}};class oi extends Vo{constructor(t){super(t,Co)}}let Su;var Mf={get paint(){return Su=Su||new Ui({"raster-opacity":new fn(me.paint_raster["raster-opacity"]),"raster-hue-rotate":new fn(me.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new fn(me.paint_raster["raster-brightness-min"]),"raster-brightness-max":new fn(me.paint_raster["raster-brightness-max"]),"raster-saturation":new fn(me.paint_raster["raster-saturation"]),"raster-contrast":new fn(me.paint_raster["raster-contrast"]),"raster-resampling":new fn(me.paint_raster["raster-resampling"]),"raster-fade-duration":new fn(me.paint_raster["raster-fade-duration"])})}};class sy extends Vo{constructor(t){super(t,Mf)}}class ly extends Vo{constructor(t){super(t,{}),this.onAdd=r=>{this.implementation.onAdd&&this.implementation.onAdd(r,r.painter.context.gl)},this.onRemove=r=>{this.implementation.onRemove&&this.implementation.onRemove(r,r.painter.context.gl)},this.implementation=t}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class uy{constructor(t){this._methodToThrottle=t,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._methodToThrottle()},0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}const cy={once:!0},Pf=63710088e-1;class bh{constructor(t,r){if(isNaN(t)||isNaN(r))throw new Error(`Invalid LngLat object: (${t}, ${r})`);if(this.lng=+t,this.lat=+r,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new bh(gn(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(t){const r=Math.PI/180,l=this.lat*r,g=t.lat*r,v=Math.sin(l)*Math.sin(g)+Math.cos(l)*Math.cos(g)*Math.cos((t.lng-this.lng)*r);return Pf*Math.acos(Math.min(v,1))}static convert(t){if(t instanceof bh)return t;if(Array.isArray(t)&&(t.length===2||t.length===3))return new bh(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&typeof t=="object"&&t!==null)return new bh(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const Ug=2*Math.PI*Pf;function zg(i){return Ug*Math.cos(i*Math.PI/180)}function Z0(i){return(180+i)/360}function Gg(i){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+i*Math.PI/360)))/360}function Lg(i,t){return i/zg(t)}function Uc(i){return 360/Math.PI*Math.atan(Math.exp((180-360*i)*Math.PI/180))-90}function Mr(i,t){return i*zg(Uc(t))}class wd{constructor(t,r,l=0){this.x=+t,this.y=+r,this.z=+l}static fromLngLat(t,r=0){const l=bh.convert(t);return new wd(Z0(l.lng),Gg(l.lat),Lg(r,l.lat))}toLngLat(){return new bh(360*this.x-180,Uc(this.y))}toAltitude(){return Mr(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/Ug*(t=Uc(this.y),1/Math.cos(t*Math.PI/180));var t}}function Pl(i,t,r){var l=2*Math.PI*6378137/256/Math.pow(2,r);return[i*l-2*Math.PI*6378137/2,t*l-2*Math.PI*6378137/2]}class Ra{constructor(t,r,l){if(!function(g,v,b){return!(g<0||g>25||b<0||b>=Math.pow(2,g)||v<0||v>=Math.pow(2,g))}(t,r,l))throw new Error(`x=${r}, y=${l}, z=${t} outside of bounds. 0<=x<${Math.pow(2,t)}, 0<=y<${Math.pow(2,t)} 0<=z<=25 `);this.z=t,this.x=r,this.y=l,this.key=Np(0,t,t,r,l)}equals(t){return this.z===t.z&&this.x===t.x&&this.y===t.y}url(t,r,l){const g=(b=this.y,A=this.z,P=Pl(256*(v=this.x),256*(b=Math.pow(2,A)-b-1),A),R=Pl(256*(v+1),256*(b+1),A),P[0]+","+P[1]+","+R[0]+","+R[1]);var v,b,A,P,R;const G=function(N,H,Y){let ee,se="";for(let xe=N;xe>0;xe--)ee=1<<xe-1,se+=(H&ee?1:0)+(Y&ee?2:0);return se}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(l==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,r>1?"@2x":"").replace(/{quadkey}/g,G).replace(/{bbox-epsg-3857}/g,g)}isChildOf(t){const r=this.z-t.z;return r>0&&t.x===this.x>>r&&t.y===this.y>>r}getTilePoint(t){const r=Math.pow(2,this.z);return new he((t.x*r-this.x)*yt,(t.y*r-this.y)*yt)}toString(){return`${this.z}/${this.x}/${this.y}`}}class Bg{constructor(t,r){this.wrap=t,this.canonical=r,this.key=Np(t,r.z,r.z,r.x,r.y)}}class Do{constructor(t,r,l,g,v){if(this.terrainRttPosMatrix32f=null,t<l)throw new Error(`overscaledZ should be >= z; overscaledZ = ${t}; z = ${l}`);this.overscaledZ=t,this.wrap=r,this.canonical=new Ra(l,+g,+v),this.key=Np(r,t,l,g,v)}clone(){return new Do(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)}scaledTo(t){if(t>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${t}; overscaledZ = ${this.overscaledZ}`);const r=this.canonical.z-t;return t>this.canonical.z?new Do(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Do(t,this.wrap,t,this.canonical.x>>r,this.canonical.y>>r)}calculateScaledKey(t,r){if(t>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${t}; overscaledZ = ${this.overscaledZ}`);const l=this.canonical.z-t;return t>this.canonical.z?Np(this.wrap*+r,t,this.canonical.z,this.canonical.x,this.canonical.y):Np(this.wrap*+r,t,t,this.canonical.x>>l,this.canonical.y>>l)}isChildOf(t){if(t.wrap!==this.wrap)return!1;const r=this.canonical.z-t.canonical.z;return t.overscaledZ===0||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>r&&t.canonical.y===this.canonical.y>>r}children(t){if(this.overscaledZ>=t)return[new Do(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const r=this.canonical.z+1,l=2*this.canonical.x,g=2*this.canonical.y;return[new Do(r,this.wrap,r,l,g),new Do(r,this.wrap,r,l+1,g),new Do(r,this.wrap,r,l,g+1),new Do(r,this.wrap,r,l+1,g+1)]}isLessThan(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))}wrapped(){return new Do(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(t){return new Do(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Bg(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(t){return this.canonical.getTilePoint(new wd(t.x-this.wrap,t.y))}}function Np(i,t,r,l,g){(i*=2)<0&&(i=-1*i-1);const v=1<<r;return(v*v*i+v*g+l).toString(36)+r.toString(36)+t.toString(36)}un("CanonicalTileID",Ra),un("OverscaledTileID",Do,{omit:["terrainRttPosMatrix32f"]});class Og{constructor(t,r,l,g=1,v=1,b=1,A=0){if(this.uid=t,r.height!==r.width)throw new RangeError("DEM tiles must be square");if(l&&!["mapbox","terrarium","custom"].includes(l))return void Hn(`"${l}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=r.height;const P=this.dim=r.height-2;switch(this.data=new Uint32Array(r.data.buffer),l){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=g,this.greenFactor=v,this.blueFactor=b,this.baseShift=A;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let R=0;R<P;R++)this.data[this._idx(-1,R)]=this.data[this._idx(0,R)],this.data[this._idx(P,R)]=this.data[this._idx(P-1,R)],this.data[this._idx(R,-1)]=this.data[this._idx(R,0)],this.data[this._idx(R,P)]=this.data[this._idx(R,P-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(P,-1)]=this.data[this._idx(P-1,0)],this.data[this._idx(-1,P)]=this.data[this._idx(0,P-1)],this.data[this._idx(P,P)]=this.data[this._idx(P-1,P-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let R=0;R<P;R++)for(let G=0;G<P;G++){const N=this.get(R,G);N>this.max&&(this.max=N),N<this.min&&(this.min=N)}}get(t,r){const l=new Uint8Array(this.data.buffer),g=4*this._idx(t,r);return this.unpack(l[g],l[g+1],l[g+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(t,r){if(t<-1||t>=this.dim+1||r<-1||r>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(r+1)*this.stride+(t+1)}unpack(t,r,l){return t*this.redFactor+r*this.greenFactor+l*this.blueFactor-this.baseShift}getPixels(){return new ms({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(t,r,l){if(this.dim!==t.dim)throw new Error("dem dimension mismatch");let g=r*this.dim,v=r*this.dim+this.dim,b=l*this.dim,A=l*this.dim+this.dim;switch(r){case-1:g=v-1;break;case 1:v=g+1}switch(l){case-1:b=A-1;break;case 1:A=b+1}const P=-r*this.dim,R=-l*this.dim;for(let G=b;G<A;G++)for(let N=g;N<v;N++)this.data[this._idx(N,G)]=t.data[this._idx(N+P,G+R)]}}un("DEMData",Og);class Fg{constructor(t){this._stringToNumber={},this._numberToString=[];for(let r=0;r<t.length;r++){const l=t[r];this._stringToNumber[l]=r,this._numberToString[r]=l}}encode(t){return this._stringToNumber[t]}decode(t){if(t>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${t} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[t]}}class Ng{constructor(t,r,l,g,v){this.type="Feature",this._vectorTileFeature=t,t._z=r,t._x=l,t._y=g,this.properties=t.properties,this.id=v}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(t){this._geometry=t}toJSON(){const t={geometry:this.geometry};for(const r in this)r!=="_geometry"&&r!=="_vectorTileFeature"&&(t[r]=this[r]);return t}}class $g{constructor(t,r){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=new Ss(yt,16,0),this.grid3D=new Ss(yt,16,0),this.featureIndexArray=new ht,this.promoteId=r}insert(t,r,l,g,v,b){const A=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(l,g,v);const P=b?this.grid3D:this.grid;for(let R=0;R<r.length;R++){const G=r[R],N=[1/0,1/0,-1/0,-1/0];for(let H=0;H<G.length;H++){const Y=G[H];N[0]=Math.min(N[0],Y.x),N[1]=Math.min(N[1],Y.y),N[2]=Math.max(N[2],Y.x),N[3]=Math.max(N[3],Y.y)}N[0]<yt&&N[1]<yt&&N[2]>=0&&N[3]>=0&&P.insert(A,N[0],N[1],N[2],N[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new ao.VectorTile(new Ml(this.rawTileData)).layers,this.sourceLayerCoder=new Fg(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(t,r,l,g){this.loadVTLayers();const v=t.params,b=yt/t.tileSize/t.scale,A=yc(v.filter),P=t.queryGeometry,R=t.queryPadding*b,G=jg(P),N=this.grid.query(G.minX-R,G.minY-R,G.maxX+R,G.maxY+R),H=jg(t.cameraQueryGeometry),Y=this.grid3D.query(H.minX-R,H.minY-R,H.maxX+R,H.maxY+R,(xe,Ie,Ke,Ue)=>function(K,ye,Oe,ft,Zt){for(const Mt of K)if(ye<=Mt.x&&Oe<=Mt.y&&ft>=Mt.x&&Zt>=Mt.y)return!0;const xt=[new he(ye,Oe),new he(ye,Zt),new he(ft,Zt),new he(ft,Oe)];if(K.length>2){for(const Mt of xt)if(gs(K,Mt))return!0}for(let Mt=0;Mt<K.length-1;Mt++)if(id(K[Mt],K[Mt+1],xt))return!0;return!1}(t.cameraQueryGeometry,xe-R,Ie-R,Ke+R,Ue+R));for(const xe of Y)N.push(xe);N.sort(zc);const ee={};let se;for(let xe=0;xe<N.length;xe++){const Ie=N[xe];if(Ie===se)continue;se=Ie;const Ke=this.featureIndexArray.get(Ie);let Ue=null;this.loadMatchingFeature(ee,Ke.bucketIndex,Ke.sourceLayerIndex,Ke.featureIndex,A,v.layers,v.availableImages,r,l,g,(K,ye,Oe)=>(Ue||(Ue=Al(K)),ye.queryIntersectsFeature({queryGeometry:P,feature:K,featureState:Oe,geometry:Ue,zoom:this.z,transform:t.transform,pixelsToTileUnits:b,pixelPosMatrix:t.pixelPosMatrix,unwrappedTileID:this.tileID.toUnwrapped(),getElevation:t.getElevation})))}return ee}loadMatchingFeature(t,r,l,g,v,b,A,P,R,G,N){const H=this.bucketLayerIDs[r];if(b&&!H.some(xe=>b.has(xe)))return;const Y=this.sourceLayerCoder.decode(l),ee=this.vtLayers[Y].feature(g);if(v.needGeometry){const xe=N0(ee,!0);if(!v.filter(new ii(this.tileID.overscaledZ),xe,this.tileID.canonical))return}else if(!v.filter(new ii(this.tileID.overscaledZ),ee))return;const se=this.getId(ee,Y);for(let xe=0;xe<H.length;xe++){const Ie=H[xe];if(b&&!b.has(Ie))continue;const Ke=P[Ie];if(!Ke)continue;let Ue={};se&&G&&(Ue=G.getState(Ke.sourceLayer||"_geojsonTileLayer",se));const K=wn({},R[Ie]);K.paint=ef(K.paint,Ke.paint,ee,Ue,A),K.layout=ef(K.layout,Ke.layout,ee,Ue,A);const ye=!N||N(ee,Ke,Ue);if(!ye)continue;const Oe=new Ng(ee,this.z,this.x,this.y,se);Oe.layer=K;let ft=t[Ie];ft===void 0&&(ft=t[Ie]=[]),ft.push({featureIndex:g,feature:Oe,intersectionZ:ye})}}lookupSymbolFeatures(t,r,l,g,v,b,A,P){const R={};this.loadVTLayers();const G=yc(v);for(const N of t)this.loadMatchingFeature(R,l,g,N,G,b,A,P,r);return R}hasLayer(t){for(const r of this.bucketLayerIDs)for(const l of r)if(t===l)return!0;return!1}getId(t,r){var l;let g=t.id;return this.promoteId&&(g=t.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[r]],typeof g=="boolean"&&(g=Number(g)),g===void 0&&(!((l=t.properties)===null||l===void 0)&&l.cluster)&&this.promoteId&&(g=Number(t.properties.cluster_id))),g}}function ef(i,t,r,l,g){return Rn(i,(v,b)=>{const A=t instanceof Yu?t.get(b):null;return A&&A.evaluate?A.evaluate(r,l,g):A})}function jg(i){let t=1/0,r=1/0,l=-1/0,g=-1/0;for(const v of i)t=Math.min(t,v.x),r=Math.min(r,v.y),l=Math.max(l,v.x),g=Math.max(g,v.y);return{minX:t,minY:r,maxX:l,maxY:g}}function zc(i,t){return t-i}function Ef(i,t,r,l,g){const v=[];for(let b=0;b<i.length;b++){const A=i[b];let P;for(let R=0;R<A.length-1;R++){let G=A[R],N=A[R+1];G.x<t&&N.x<t||(G.x<t?G=new he(t,G.y+(t-G.x)/(N.x-G.x)*(N.y-G.y))._round():N.x<t&&(N=new he(t,G.y+(t-G.x)/(N.x-G.x)*(N.y-G.y))._round()),G.y<r&&N.y<r||(G.y<r?G=new he(G.x+(r-G.y)/(N.y-G.y)*(N.x-G.x),r)._round():N.y<r&&(N=new he(G.x+(r-G.y)/(N.y-G.y)*(N.x-G.x),r)._round()),G.x>=l&&N.x>=l||(G.x>=l?G=new he(l,G.y+(l-G.x)/(N.x-G.x)*(N.y-G.y))._round():N.x>=l&&(N=new he(l,G.y+(l-G.x)/(N.x-G.x)*(N.y-G.y))._round()),G.y>=g&&N.y>=g||(G.y>=g?G=new he(G.x+(g-G.y)/(N.y-G.y)*(N.x-G.x),g)._round():N.y>=g&&(N=new he(G.x+(g-G.y)/(N.y-G.y)*(N.x-G.x),g)._round()),P&&G.equals(P[P.length-1])||(P=[G],v.push(P)),P.push(N)))))}}return v}un("FeatureIndex",$g,{omit:["rawTileData","sourceLayerCoder"]});class Tu extends he{constructor(t,r,l,g){super(t,r),this.angle=l,g!==void 0&&(this.segment=g)}clone(){return new Tu(this.x,this.y,this.angle,this.segment)}}function Aa(i,t,r,l,g){if(t.segment===void 0||r===0)return!0;let v=t,b=t.segment+1,A=0;for(;A>-r/2;){if(b--,b<0)return!1;A-=i[b].dist(v),v=i[b]}A+=i[b].dist(i[b+1]),b++;const P=[];let R=0;for(;A<r/2;){const G=i[b],N=i[b+1];if(!N)return!1;let H=i[b-1].angleTo(G)-G.angleTo(N);for(H=Math.abs((H+3*Math.PI)%(2*Math.PI)-Math.PI),P.push({distance:A,angleDelta:H}),R+=H;A-P[0].distance>l;)R-=P.shift().angleDelta;if(R>g)return!1;b++,A+=G.dist(N)}return!0}function Ua(i){let t=0;for(let r=0;r<i.length-1;r++)t+=i[r].dist(i[r+1]);return t}function kf(i,t,r){return i?.6*t*r:0}function Vg(i,t){return Math.max(i?i.right-i.left:0,t?t.right-t.left:0)}function hy(i,t,r,l,g,v){const b=kf(r,g,v),A=Vg(r,l)*v;let P=0;const R=Ua(i)/2;for(let G=0;G<i.length-1;G++){const N=i[G],H=i[G+1],Y=N.dist(H);if(P+Y>R){const ee=(R-P)/Y,se=mo.number(N.x,H.x,ee),xe=mo.number(N.y,H.y,ee),Ie=new Tu(se,xe,H.angleTo(N),G);return Ie._round(),!b||Aa(i,Ie,A,b,t)?Ie:void 0}P+=Y}}function py(i,t,r,l,g,v,b,A,P){const R=kf(l,v,b),G=Vg(l,g),N=G*b,H=i[0].x===0||i[0].x===P||i[0].y===0||i[0].y===P;return t-N<t/4&&(t=N+t/4),Zg(i,H?t/2*A%t:(G/2+2*v)*b*A%t,t,R,r,N,H,!1,P)}function Zg(i,t,r,l,g,v,b,A,P){const R=v/2,G=Ua(i);let N=0,H=t-r,Y=[];for(let ee=0;ee<i.length-1;ee++){const se=i[ee],xe=i[ee+1],Ie=se.dist(xe),Ke=xe.angleTo(se);for(;H+r<N+Ie;){H+=r;const Ue=(H-N)/Ie,K=mo.number(se.x,xe.x,Ue),ye=mo.number(se.y,xe.y,Ue);if(K>=0&&K<P&&ye>=0&&ye<P&&H-R>=0&&H+R<=G){const Oe=new Tu(K,ye,Ke,ee);Oe._round(),l&&!Aa(i,Oe,v,l,g)||Y.push(Oe)}}N+=Ie}return A||Y.length||b||(Y=Zg(i,N/2,r,l,g,v,b,!0,P)),Y}un("Anchor",Tu);const Cd=Xo;function Wg(i,t,r,l){const g=[],v=i.image,b=v.pixelRatio,A=v.paddedRect.w-2*Cd,P=v.paddedRect.h-2*Cd;let R={x1:i.left,y1:i.top,x2:i.right,y2:i.bottom};const G=v.stretchX||[[0,A]],N=v.stretchY||[[0,P]],H=(Et,In)=>Et+In[1]-In[0],Y=G.reduce(H,0),ee=N.reduce(H,0),se=A-Y,xe=P-ee;let Ie=0,Ke=Y,Ue=0,K=ee,ye=0,Oe=se,ft=0,Zt=xe;if(v.content&&l){const Et=v.content,In=Et[2]-Et[0],qn=Et[3]-Et[1];(v.textFitWidth||v.textFitHeight)&&(R=U(i)),Ie=Dd(G,0,Et[0]),Ue=Dd(N,0,Et[1]),Ke=Dd(G,Et[0],Et[2]),K=Dd(N,Et[1],Et[3]),ye=Et[0]-Ie,ft=Et[1]-Ue,Oe=In-Ke,Zt=qn-K}const xt=R.x1,Mt=R.y1,Qt=R.x2-xt,Ht=R.y2-Mt,Xt=(Et,In,qn,Wn)=>{const En=jp(Et.stretch-Ie,Ke,Qt,xt),Er=tf(Et.fixed-ye,Oe,Et.stretch,Y),Qi=jp(In.stretch-Ue,K,Ht,Mt),oo=tf(In.fixed-ft,Zt,In.stretch,ee),vs=jp(qn.stretch-Ie,Ke,Qt,xt),g0=tf(qn.fixed-ye,Oe,qn.stretch,Y),El=jp(Wn.stretch-Ue,K,Ht,Mt),Yo=tf(Wn.fixed-ft,Zt,Wn.stretch,ee),Ji=new he(En,Qi),Io=new he(vs,Qi),Qo=new he(vs,El),Jo=new he(En,El),il=new he(Er/b,oo/b),m0=new he(g0/b,Yo/b),Ao=t*Math.PI/180;if(Ao){const So=Math.sin(Ao),To=Math.cos(Ao),Va=[To,-So,So,To];Ji._matMult(Va),Io._matMult(Va),Jo._matMult(Va),Qo._matMult(Va)}const kl=Et.stretch+Et.fixed,so=In.stretch+In.fixed;return{tl:Ji,tr:Io,bl:Jo,br:Qo,tex:{x:v.paddedRect.x+Cd+kl,y:v.paddedRect.y+Cd+so,w:qn.stretch+qn.fixed-kl,h:Wn.stretch+Wn.fixed-so},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:il,pixelOffsetBR:m0,minFontScaleX:Oe/b/Qt,minFontScaleY:Zt/b/Ht,isSDF:r}};if(l&&(v.stretchX||v.stretchY)){const Et=$p(G,se,Y),In=$p(N,xe,ee);for(let qn=0;qn<Et.length-1;qn++){const Wn=Et[qn],En=Et[qn+1];for(let Er=0;Er<In.length-1;Er++)g.push(Xt(Wn,In[Er],En,In[Er+1]))}}else g.push(Xt({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:A+1},{fixed:0,stretch:P+1}));return g}function Dd(i,t,r){let l=0;for(const g of i)l+=Math.max(t,Math.min(r,g[1]))-Math.max(t,Math.min(r,g[0]));return l}function $p(i,t,r){const l=[{fixed:-1,stretch:0}];for(const[g,v]of i){const b=l[l.length-1];l.push({fixed:g-b.stretch,stretch:b.stretch}),l.push({fixed:g-b.stretch,stretch:b.stretch+(v-g)})}return l.push({fixed:t+Cd,stretch:r}),l}function jp(i,t,r,l){return i/t*r+l}function tf(i,t,r,l){return i-t*r/l}class Id{constructor(t,r,l,g,v,b,A,P,R,G){var N;if(this.boxStartIndex=t.length,R){let H=b.top,Y=b.bottom;const ee=b.collisionPadding;ee&&(H-=ee[1],Y+=ee[3]);let se=Y-H;se>0&&(se=Math.max(10,se),this.circleDiameter=se)}else{const H=!((N=b.image)===null||N===void 0)&&N.content&&(b.image.textFitWidth||b.image.textFitHeight)?U(b):{x1:b.left,y1:b.top,x2:b.right,y2:b.bottom};H.y1=H.y1*A-P[0],H.y2=H.y2*A+P[2],H.x1=H.x1*A-P[3],H.x2=H.x2*A+P[1];const Y=b.collisionPadding;if(Y&&(H.x1-=Y[0]*A,H.y1-=Y[1]*A,H.x2+=Y[2]*A,H.y2+=Y[3]*A),G){const ee=new he(H.x1,H.y1),se=new he(H.x2,H.y1),xe=new he(H.x1,H.y2),Ie=new he(H.x2,H.y2),Ke=G*Math.PI/180;ee._rotate(Ke),se._rotate(Ke),xe._rotate(Ke),Ie._rotate(Ke),H.x1=Math.min(ee.x,se.x,xe.x,Ie.x),H.x2=Math.max(ee.x,se.x,xe.x,Ie.x),H.y1=Math.min(ee.y,se.y,xe.y,Ie.y),H.y2=Math.max(ee.y,se.y,xe.y,Ie.y)}t.emplaceBack(r.x,r.y,H.x1,H.y1,H.x2,H.y2,l,g,v)}this.boxEndIndex=t.length}}class nf{constructor(t=[],r=(l,g)=>l<g?-1:l>g?1:0){if(this.data=t,this.length=this.data.length,this.compare=r,this.length>0)for(let l=(this.length>>1)-1;l>=0;l--)this._down(l)}push(t){this.data.push(t),this._up(this.length++)}pop(){if(this.length===0)return;const t=this.data[0],r=this.data.pop();return--this.length>0&&(this.data[0]=r,this._down(0)),t}peek(){return this.data[0]}_up(t){const{data:r,compare:l}=this,g=r[t];for(;t>0;){const v=t-1>>1,b=r[v];if(l(g,b)>=0)break;r[t]=b,t=v}r[t]=g}_down(t){const{data:r,compare:l}=this,g=this.length>>1,v=r[t];for(;t<g;){let b=1+(t<<1);const A=b+1;if(A<this.length&&l(r[A],r[b])<0&&(b=A),l(r[b],v)>=0)break;r[t]=r[b],t=b}r[t]=v}}function d0(i,t=1,r=!1){let l=1/0,g=1/0,v=-1/0,b=-1/0;const A=i[0];for(let Y=0;Y<A.length;Y++){const ee=A[Y];(!Y||ee.x<l)&&(l=ee.x),(!Y||ee.y<g)&&(g=ee.y),(!Y||ee.x>v)&&(v=ee.x),(!Y||ee.y>b)&&(b=ee.y)}const P=Math.min(v-l,b-g);let R=P/2;const G=new nf([],Vp);if(P===0)return new he(l,g);for(let Y=l;Y<v;Y+=P)for(let ee=g;ee<b;ee+=P)G.push(new Zp(Y+R,ee+R,R,i));let N=function(Y){let ee=0,se=0,xe=0;const Ie=Y[0];for(let Ke=0,Ue=Ie.length,K=Ue-1;Ke<Ue;K=Ke++){const ye=Ie[Ke],Oe=Ie[K],ft=ye.x*Oe.y-Oe.x*ye.y;se+=(ye.x+Oe.x)*ft,xe+=(ye.y+Oe.y)*ft,ee+=3*ft}return new Zp(se/ee,xe/ee,0,Y)}(i),H=G.length;for(;G.length;){const Y=G.pop();(Y.d>N.d||!N.d)&&(N=Y,r&&console.log("found best %d after %d probes",Math.round(1e4*Y.d)/1e4,H)),Y.max-N.d<=t||(R=Y.h/2,G.push(new Zp(Y.p.x-R,Y.p.y-R,R,i)),G.push(new Zp(Y.p.x+R,Y.p.y-R,R,i)),G.push(new Zp(Y.p.x-R,Y.p.y+R,R,i)),G.push(new Zp(Y.p.x+R,Y.p.y+R,R,i)),H+=4)}return r&&(console.log(`num probes: ${H}`),console.log(`best distance: ${N.d}`)),N.p}function Vp(i,t){return t.max-i.max}function Zp(i,t,r,l){this.p=new he(i,t),this.h=r,this.d=function(g,v){let b=!1,A=1/0;for(let P=0;P<v.length;P++){const R=v[P];for(let G=0,N=R.length,H=N-1;G<N;H=G++){const Y=R[G],ee=R[H];Y.y>g.y!=ee.y>g.y&&g.x<(ee.x-Y.x)*(g.y-Y.y)/(ee.y-Y.y)+Y.x&&(b=!b),A=Math.min(A,rd(g,Y,ee))}}return(b?1:-1)*Math.sqrt(A)}(this.p,l),this.max=this.d+this.h*Math.SQRT2}var _s;I.aB=void 0,(_s=I.aB||(I.aB={}))[_s.center=1]="center",_s[_s.left=2]="left",_s[_s.right=3]="right",_s[_s.top=4]="top",_s[_s.bottom=5]="bottom",_s[_s["top-left"]=6]="top-left",_s[_s["top-right"]=7]="top-right",_s[_s["bottom-left"]=8]="bottom-left",_s[_s["bottom-right"]=9]="bottom-right";const wh=7,Rf=Number.POSITIVE_INFINITY;function Hg(i,t){return t[1]!==Rf?function(r,l,g){let v=0,b=0;switch(l=Math.abs(l),g=Math.abs(g),r){case"top-right":case"top-left":case"top":b=g-wh;break;case"bottom-right":case"bottom-left":case"bottom":b=-g+wh}switch(r){case"top-right":case"bottom-right":case"right":v=-l;break;case"top-left":case"bottom-left":case"left":v=l}return[v,b]}(i,t[0],t[1]):function(r,l){let g=0,v=0;l<0&&(l=0);const b=l/Math.SQRT2;switch(r){case"top-right":case"top-left":v=b-wh;break;case"bottom-right":case"bottom-left":v=-b+wh;break;case"bottom":v=-l+wh;break;case"top":v=l-wh}switch(r){case"top-right":case"bottom-right":g=-b;break;case"top-left":case"bottom-left":g=b;break;case"left":g=l;break;case"right":g=-l}return[g,v]}(i,t[0])}function Uf(i,t,r){var l;const g=i.layout,v=(l=g.get("text-variable-anchor-offset"))===null||l===void 0?void 0:l.evaluate(t,{},r);if(v){const A=v.values,P=[];for(let R=0;R<A.length;R+=2){const G=P[R]=A[R],N=A[R+1].map(H=>H*ka);G.startsWith("top")?N[1]-=wh:G.startsWith("bottom")&&(N[1]+=wh),P[R+1]=N}return new Ba(P)}const b=g.get("text-variable-anchor");if(b){let A;A=i._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[g.get("text-radial-offset").evaluate(t,{},r)*ka,Rf]:g.get("text-offset").evaluate(t,{},r).map(R=>R*ka);const P=[];for(const R of b)P.push(R,Hg(R,A));return new Ba(P)}return null}function Mu(i){switch(i){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Rr(i,t,r,l,g,v,b,A,P,R,G,N){let H=v.textMaxSize.evaluate(t,{});H===void 0&&(H=b);const Y=i.layers[0].layout,ee=Y.get("icon-offset").evaluate(t,{},G),se=f0(r.horizontal),xe=b/24,Ie=i.tilePixelRatio*xe,Ke=i.tilePixelRatio*H/24,Ue=i.tilePixelRatio*A,K=i.tilePixelRatio*Y.get("symbol-spacing"),ye=Y.get("text-padding")*i.tilePixelRatio,Oe=function(qn,Wn,En,Er=1){const Qi=qn.get("icon-padding").evaluate(Wn,{},En),oo=Qi&&Qi.values;return[oo[0]*Er,oo[1]*Er,oo[2]*Er,oo[3]*Er]}(Y,t,G,i.tilePixelRatio),ft=Y.get("text-max-angle")/180*Math.PI,Zt=Y.get("text-rotation-alignment")!=="viewport"&&Y.get("symbol-placement")!=="point",xt=Y.get("icon-rotation-alignment")==="map"&&Y.get("symbol-placement")!=="point",Mt=Y.get("symbol-placement"),Qt=K/2,Ht=Y.get("icon-text-fit");let Xt;l&&Ht!=="none"&&(i.allowVerticalPlacement&&r.vertical&&(Xt=$(l,r.vertical,Ht,Y.get("icon-text-fit-padding"),ee,xe)),se&&(l=$(l,se,Ht,Y.get("icon-text-fit-padding"),ee,xe)));const Et=G?N.line.getGranularityForZoomLevel(G.z):1,In=(qn,Wn)=>{Wn.x<0||Wn.x>=yt||Wn.y<0||Wn.y>=yt||function(En,Er,Qi,oo,vs,g0,El,Yo,Ji,Io,Qo,Jo,il,m0,Ao,kl,so,So,To,Va,ji,Pu,Wp,Eu,fy){const Hp=En.addToLineVertexArray(Er,Qi);let ap,qp,Dh,op,jf=0,Yg=0,Qg=0,Jg=0,Sd=-1,Vf=-1;const Gc={};let em=Es("");if(En.allowVerticalPlacement&&oo.vertical){const Bs=Yo.layout.get("text-rotate").evaluate(ji,{},Eu)+90;Dh=new Id(Ji,Er,Io,Qo,Jo,oo.vertical,il,m0,Ao,Bs),El&&(op=new Id(Ji,Er,Io,Qo,Jo,El,so,So,Ao,Bs))}if(vs){const Bs=Yo.layout.get("icon-rotate").evaluate(ji,{}),y0=Yo.layout.get("icon-text-fit")!=="none",Lc=Wg(vs,Bs,Wp,y0),_0=El?Wg(El,Bs,Wp,y0):void 0;qp=new Id(Ji,Er,Io,Qo,Jo,vs,so,So,!1,Bs),jf=4*Lc.length;const sp=En.iconSizeData;let lc=null;sp.kind==="source"?(lc=[Re*Yo.layout.get("icon-size").evaluate(ji,{})],lc[0]>Xe&&Hn(`${En.layerIds[0]}: Value for "icon-size" is >= ${le}. Reduce your "icon-size".`)):sp.kind==="composite"&&(lc=[Re*Pu.compositeIconSizes[0].evaluate(ji,{},Eu),Re*Pu.compositeIconSizes[1].evaluate(ji,{},Eu)],(lc[0]>Xe||lc[1]>Xe)&&Hn(`${En.layerIds[0]}: Value for "icon-size" is >= ${le}. Reduce your "icon-size".`)),En.addSymbols(En.icon,Lc,lc,Va,To,ji,I.al.none,Er,Hp.lineStartIndex,Hp.lineLength,-1,Eu),Sd=En.icon.placedSymbolArray.length-1,_0&&(Yg=4*_0.length,En.addSymbols(En.icon,_0,lc,Va,To,ji,I.al.vertical,Er,Hp.lineStartIndex,Hp.lineLength,-1,Eu),Vf=En.icon.placedSymbolArray.length-1)}const Rl=Object.keys(oo.horizontal);for(const Bs of Rl){const y0=oo.horizontal[Bs];if(!ap){em=Es(y0.text);const _0=Yo.layout.get("text-rotate").evaluate(ji,{},Eu);ap=new Id(Ji,Er,Io,Qo,Jo,y0,il,m0,Ao,_0)}const Lc=y0.positionedLines.length===1;if(Qg+=zf(En,Er,y0,g0,Yo,Ao,ji,kl,Hp,oo.vertical?I.al.horizontal:I.al.horizontalOnly,Lc?Rl:[Bs],Gc,Sd,Pu,Eu),Lc)break}oo.vertical&&(Jg+=zf(En,Er,oo.vertical,g0,Yo,Ao,ji,kl,Hp,I.al.vertical,["vertical"],Gc,Vf,Pu,Eu));const Zf=ap?ap.boxStartIndex:En.collisionBoxArray.length,gy=ap?ap.boxEndIndex:En.collisionBoxArray.length,my=Dh?Dh.boxStartIndex:En.collisionBoxArray.length,yy=Dh?Dh.boxEndIndex:En.collisionBoxArray.length,_y=qp?qp.boxStartIndex:En.collisionBoxArray.length,Wf=qp?qp.boxEndIndex:En.collisionBoxArray.length,vy=op?op.boxStartIndex:En.collisionBoxArray.length,Hf=op?op.boxEndIndex:En.collisionBoxArray.length;let ku=-1;const af=(Bs,y0)=>Bs&&Bs.circleDiameter?Math.max(Bs.circleDiameter,y0):y0;ku=af(ap,ku),ku=af(Dh,ku),ku=af(qp,ku),ku=af(op,ku);const tm=ku>-1?1:0;tm&&(ku*=fy/ka),En.glyphOffsetArray.length>=et.MAX_GLYPHS&&Hn("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),ji.sortKey!==void 0&&En.addToSortKeyRanges(En.symbolInstances.length,ji.sortKey);const xy=Uf(Yo,ji,Eu),[nm,by]=function(Bs,y0){const Lc=Bs.length,_0=y0==null?void 0:y0.values;if((_0==null?void 0:_0.length)>0)for(let sp=0;sp<_0.length;sp+=2){const lc=_0[sp+1];Bs.emplaceBack(I.aB[_0[sp]],lc[0],lc[1])}return[Lc,Bs.length]}(En.textAnchorOffsets,xy);En.symbolInstances.emplaceBack(Er.x,Er.y,Gc.right>=0?Gc.right:-1,Gc.center>=0?Gc.center:-1,Gc.left>=0?Gc.left:-1,Gc.vertical||-1,Sd,Vf,em,Zf,gy,my,yy,_y,Wf,vy,Hf,Io,Qg,Jg,jf,Yg,tm,0,il,ku,nm,by)}(i,Wn,qn,r,l,g,Xt,i.layers[0],i.collisionBoxArray,t.index,t.sourceLayerIndex,i.index,Ie,[ye,ye,ye,ye],Zt,P,Ue,Oe,xt,ee,t,v,R,G,b)};if(Mt==="line")for(const qn of Ef(t.geometry,0,0,yt,yt)){const Wn=bu(qn,Et),En=py(Wn,K,ft,r.vertical||se,l,24,Ke,i.overscaling,yt);for(const Er of En)se&&qg(i,se.text,Qt,Er)||In(Wn,Er)}else if(Mt==="line-center"){for(const qn of t.geometry)if(qn.length>1){const Wn=bu(qn,Et),En=hy(Wn,ft,r.vertical||se,l,24,Ke);En&&In(Wn,En)}}else if(t.type==="Polygon")for(const qn of Vc(t.geometry,0)){const Wn=d0(qn,16);In(bu(qn[0],Et,!0),new Tu(Wn.x,Wn.y,0))}else if(t.type==="LineString")for(const qn of t.geometry){const Wn=bu(qn,Et);In(Wn,new Tu(Wn[0].x,Wn[0].y,0))}else if(t.type==="Point")for(const qn of t.geometry)for(const Wn of qn)In([Wn],new Tu(Wn.x,Wn.y,0))}function zf(i,t,r,l,g,v,b,A,P,R,G,N,H,Y,ee){const se=function(Ke,Ue,K,ye,Oe,ft,Zt,xt){const Mt=ye.layout.get("text-rotate").evaluate(ft,{})*Math.PI/180,Qt=[];for(const Ht of Ue.positionedLines)for(const Xt of Ht.positionedGlyphs){if(!Xt.rect)continue;const Et=Xt.rect||{};let In=yd+1,qn=!0,Wn=1,En=0;const Er=(Oe||xt)&&Xt.vertical,Qi=Xt.metrics.advance*Xt.scale/2;if(xt&&Ue.verticalizable&&(En=Ht.lineOffset/2-(Xt.imageName?-(ka-Xt.metrics.width*Xt.scale)/2:(Xt.scale-1)*ka)),Xt.imageName){const So=Zt[Xt.imageName];qn=So.sdf,Wn=So.pixelRatio,In=Xo/Wn}const oo=Oe?[Xt.x+Qi,Xt.y]:[0,0];let vs=Oe?[0,0]:[Xt.x+Qi+K[0],Xt.y+K[1]-En],g0=[0,0];Er&&(g0=vs,vs=[0,0]);const El=Xt.metrics.isDoubleResolution?2:1,Yo=(Xt.metrics.left-In)*Xt.scale-Qi+vs[0],Ji=(-Xt.metrics.top-In)*Xt.scale+vs[1],Io=Yo+Et.w/El*Xt.scale/Wn,Qo=Ji+Et.h/El*Xt.scale/Wn,Jo=new he(Yo,Ji),il=new he(Io,Ji),m0=new he(Yo,Qo),Ao=new he(Io,Qo);if(Er){const So=new he(-Qi,Qi-kc),To=-Math.PI/2,Va=ka/2-Qi,ji=new he(5-kc-Va,-(Xt.imageName?Va:0)),Pu=new he(...g0);Jo._rotateAround(To,So)._add(ji)._add(Pu),il._rotateAround(To,So)._add(ji)._add(Pu),m0._rotateAround(To,So)._add(ji)._add(Pu),Ao._rotateAround(To,So)._add(ji)._add(Pu)}if(Mt){const So=Math.sin(Mt),To=Math.cos(Mt),Va=[To,-So,So,To];Jo._matMult(Va),il._matMult(Va),m0._matMult(Va),Ao._matMult(Va)}const kl=new he(0,0),so=new he(0,0);Qt.push({tl:Jo,tr:il,bl:m0,br:Ao,tex:Et,writingMode:Ue.writingMode,glyphOffset:oo,sectionIndex:Xt.sectionIndex,isSDF:qn,pixelOffsetTL:kl,pixelOffsetBR:so,minFontScaleX:0,minFontScaleY:0})}return Qt}(0,r,A,g,v,b,l,i.allowVerticalPlacement),xe=i.textSizeData;let Ie=null;xe.kind==="source"?(Ie=[Re*g.layout.get("text-size").evaluate(b,{})],Ie[0]>Xe&&Hn(`${i.layerIds[0]}: Value for "text-size" is >= ${le}. Reduce your "text-size".`)):xe.kind==="composite"&&(Ie=[Re*Y.compositeTextSizes[0].evaluate(b,{},ee),Re*Y.compositeTextSizes[1].evaluate(b,{},ee)],(Ie[0]>Xe||Ie[1]>Xe)&&Hn(`${i.layerIds[0]}: Value for "text-size" is >= ${le}. Reduce your "text-size".`)),i.addSymbols(i.text,se,Ie,A,v,b,R,t,P.lineStartIndex,P.lineLength,H,ee);for(const Ke of G)N[Ke]=i.text.placedSymbolArray.length-1;return 4*se.length}function f0(i){for(const t in i)return i[t];return null}function qg(i,t,r,l){const g=i.compareText;if(t in g){const v=g[t];for(let b=v.length-1;b>=0;b--)if(l.dist(v[b])<r)return!0}else g[t]=[];return g[t].push(l),!1}const Kg=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class bi{static from(t){if(!(t instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[r,l]=new Uint8Array(t,0,2);if(r!==219)throw new Error("Data does not appear to be in a KDBush format.");const g=l>>4;if(g!==1)throw new Error(`Got v${g} data when expected v1.`);const v=Kg[15&l];if(!v)throw new Error("Unrecognized array type.");const[b]=new Uint16Array(t,2,1),[A]=new Uint32Array(t,4,1);return new bi(A,b,v,t)}constructor(t,r=64,l=Float64Array,g){if(isNaN(t)||t<0)throw new Error(`Unpexpected numItems value: ${t}.`);this.numItems=+t,this.nodeSize=Math.min(Math.max(+r,2),65535),this.ArrayType=l,this.IndexArrayType=t<65536?Uint16Array:Uint32Array;const v=Kg.indexOf(this.ArrayType),b=2*t*this.ArrayType.BYTES_PER_ELEMENT,A=t*this.IndexArrayType.BYTES_PER_ELEMENT,P=(8-A%8)%8;if(v<0)throw new Error(`Unexpected typed array class: ${l}.`);g&&g instanceof ArrayBuffer?(this.data=g,this.ids=new this.IndexArrayType(this.data,8,t),this.coords=new this.ArrayType(this.data,8+A+P,2*t),this._pos=2*t,this._finished=!0):(this.data=new ArrayBuffer(8+b+A+P),this.ids=new this.IndexArrayType(this.data,8,t),this.coords=new this.ArrayType(this.data,8+A+P,2*t),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+v]),new Uint16Array(this.data,2,1)[0]=r,new Uint32Array(this.data,4,1)[0]=t)}add(t,r){const l=this._pos>>1;return this.ids[l]=l,this.coords[this._pos++]=t,this.coords[this._pos++]=r,l}finish(){const t=this._pos>>1;if(t!==this.numItems)throw new Error(`Added ${t} items when expected ${this.numItems}.`);return Gf(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(t,r,l,g){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:v,coords:b,nodeSize:A}=this,P=[0,v.length-1,0],R=[];for(;P.length;){const G=P.pop()||0,N=P.pop()||0,H=P.pop()||0;if(N-H<=A){for(let xe=H;xe<=N;xe++){const Ie=b[2*xe],Ke=b[2*xe+1];Ie>=t&&Ie<=l&&Ke>=r&&Ke<=g&&R.push(v[xe])}continue}const Y=H+N>>1,ee=b[2*Y],se=b[2*Y+1];ee>=t&&ee<=l&&se>=r&&se<=g&&R.push(v[Y]),(G===0?t<=ee:r<=se)&&(P.push(H),P.push(Y-1),P.push(1-G)),(G===0?l>=ee:g>=se)&&(P.push(Y+1),P.push(N),P.push(1-G))}return R}within(t,r,l){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:g,coords:v,nodeSize:b}=this,A=[0,g.length-1,0],P=[],R=l*l;for(;A.length;){const G=A.pop()||0,N=A.pop()||0,H=A.pop()||0;if(N-H<=b){for(let xe=H;xe<=N;xe++)Xg(v[2*xe],v[2*xe+1],t,r)<=R&&P.push(g[xe]);continue}const Y=H+N>>1,ee=v[2*Y],se=v[2*Y+1];Xg(ee,se,t,r)<=R&&P.push(g[Y]),(G===0?t-l<=ee:r-l<=se)&&(A.push(H),A.push(Y-1),A.push(1-G)),(G===0?t+l>=ee:r+l>=se)&&(A.push(Y+1),A.push(N),A.push(1-G))}return P}}function Gf(i,t,r,l,g,v){if(g-l<=r)return;const b=l+g>>1;Lf(i,t,b,l,g,v),Gf(i,t,r,l,b-1,1-v),Gf(i,t,r,b+1,g,1-v)}function Lf(i,t,r,l,g,v){for(;g>l;){if(g-l>600){const R=g-l+1,G=r-l+1,N=Math.log(R),H=.5*Math.exp(2*N/3),Y=.5*Math.sqrt(N*H*(R-H)/R)*(G-R/2<0?-1:1);Lf(i,t,r,Math.max(l,Math.floor(r-G*H/R+Y)),Math.min(g,Math.floor(r+(R-G)*H/R+Y)),v)}const b=t[2*r+v];let A=l,P=g;for(Ch(i,t,l,r),t[2*g+v]>b&&Ch(i,t,l,g);A<P;){for(Ch(i,t,A,P),A++,P--;t[2*A+v]<b;)A++;for(;t[2*P+v]>b;)P--}t[2*l+v]===b?Ch(i,t,l,P):(P++,Ch(i,t,P,g)),P<=r&&(l=P+1),r<=P&&(g=P-1)}}function Ch(i,t,r,l){Bf(i,r,l),Bf(t,2*r,2*l),Bf(t,2*r+1,2*l+1)}function Bf(i,t,r){const l=i[t];i[t]=i[r],i[r]=l}function Xg(i,t,r,l){const g=i-r,v=t-l;return g*g+v*v}var Of;I.co=void 0,(Of=I.co||(I.co={})).create="create",Of.load="load",Of.fullLoad="fullLoad";let rf=null,Ad=[];const Ff=1e3/60,Nf="loadTime",$f="fullLoadTime",dy={mark(i){performance.mark(i)},frame(i){const t=i;rf!=null&&Ad.push(t-rf),rf=t},clearMetrics(){rf=null,Ad=[],performance.clearMeasures(Nf),performance.clearMeasures($f);for(const i in I.co)performance.clearMarks(I.co[i])},getPerformanceMetrics(){performance.measure(Nf,I.co.create,I.co.load),performance.measure($f,I.co.create,I.co.fullLoad);const i=performance.getEntriesByName(Nf)[0].duration,t=performance.getEntriesByName($f)[0].duration,r=Ad.length,l=1/(Ad.reduce((v,b)=>v+b,0)/r/1e3),g=Ad.filter(v=>v>Ff).reduce((v,b)=>v+(b-Ff)/Ff,0);return{loadTime:i,fullLoadTime:t,fps:l,percentDroppedFrames:g/(r+g)*100,totalFrames:r}}};I.$=wd,I.A=$e,I.B=mo,I.C=ii,I.D=fn,I.E=We,I.F=Qc,I.G=function(i){if(gi==null){const t=i.navigator?i.navigator.userAgent:null;gi=!!i.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return gi},I.H=class{constructor(i,t){this.target=i,this.mapId=t,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new uy(()=>this.process()),this.subscription=Cn(this.target,"message",r=>this.receive(r),!1),this.globalScope=yr(self)?i:window}registerMessageHandler(i,t){this.messageHandlers[i]=t}sendAsync(i,t){return new Promise((r,l)=>{const g=Math.round(1e18*Math.random()).toString(36).substring(0,10),v=t?Cn(t.signal,"abort",()=>{v==null||v.unsubscribe(),delete this.resolveRejects[g];const P={id:g,type:"<cancel>",origin:location.origin,targetMapId:i.targetMapId,sourceMapId:this.mapId};this.target.postMessage(P)},cy):null;this.resolveRejects[g]={resolve:P=>{v==null||v.unsubscribe(),r(P)},reject:P=>{v==null||v.unsubscribe(),l(P)}};const b=[],A=Object.assign(Object.assign({},i),{id:g,sourceMapId:this.mapId,origin:location.origin,data:Ja(i.data,b)});this.target.postMessage(A,{transfer:b})})}receive(i){const t=i.data,r=t.id;if(!(t.origin!=="file://"&&location.origin!=="file://"&&t.origin!=="resource://android"&&location.origin!=="resource://android"&&t.origin!==location.origin||t.targetMapId&&this.mapId!==t.targetMapId)){if(t.type==="<cancel>"){delete this.tasks[r];const l=this.abortControllers[r];return delete this.abortControllers[r],void(l&&l.abort())}if(yr(self)||t.mustQueue)return this.tasks[r]=t,this.taskQueue.push(r),void this.invoker.trigger();this.processTask(r,t)}}process(){if(this.taskQueue.length===0)return;const i=this.taskQueue.shift(),t=this.tasks[i];delete this.tasks[i],this.taskQueue.length>0&&this.invoker.trigger(),t&&this.processTask(i,t)}processTask(i,t){return s(this,void 0,void 0,function*(){if(t.type==="<response>"){const g=this.resolveRejects[i];return delete this.resolveRejects[i],g?void(t.error?g.reject(bl(t.error)):g.resolve(bl(t.data))):void 0}if(!this.messageHandlers[t.type])return void this.completeTask(i,new Error(`Could not find a registered handler for ${t.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));const r=bl(t.data),l=new AbortController;this.abortControllers[i]=l;try{const g=yield this.messageHandlers[t.type](t.sourceMapId,r,l);this.completeTask(i,null,g)}catch(g){this.completeTask(i,g)}})}completeTask(i,t,r){const l=[];delete this.abortControllers[i];const g={id:i,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:t?Ja(t):null,data:Ja(r,l)};this.target.postMessage(g,{transfer:l})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},I.I=_d,I.J=xr,I.K=function(){var i=new $e(16);return $e!=Float32Array&&(i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[11]=0,i[12]=0,i[13]=0,i[14]=0),i[0]=1,i[5]=1,i[10]=1,i[15]=1,i},I.L=function(i,t,r){var l,g,v,b,A,P,R,G,N,H,Y,ee,se=r[0],xe=r[1],Ie=r[2];return t===i?(i[12]=t[0]*se+t[4]*xe+t[8]*Ie+t[12],i[13]=t[1]*se+t[5]*xe+t[9]*Ie+t[13],i[14]=t[2]*se+t[6]*xe+t[10]*Ie+t[14],i[15]=t[3]*se+t[7]*xe+t[11]*Ie+t[15]):(g=t[1],v=t[2],b=t[3],A=t[4],P=t[5],R=t[6],G=t[7],N=t[8],H=t[9],Y=t[10],ee=t[11],i[0]=l=t[0],i[1]=g,i[2]=v,i[3]=b,i[4]=A,i[5]=P,i[6]=R,i[7]=G,i[8]=N,i[9]=H,i[10]=Y,i[11]=ee,i[12]=l*se+A*xe+N*Ie+t[12],i[13]=g*se+P*xe+H*Ie+t[13],i[14]=v*se+R*xe+Y*Ie+t[14],i[15]=b*se+G*xe+ee*Ie+t[15]),i},I.M=function(i,t,r){var l=r[0],g=r[1],v=r[2];return i[0]=t[0]*l,i[1]=t[1]*l,i[2]=t[2]*l,i[3]=t[3]*l,i[4]=t[4]*g,i[5]=t[5]*g,i[6]=t[6]*g,i[7]=t[7]*g,i[8]=t[8]*v,i[9]=t[9]*v,i[10]=t[10]*v,i[11]=t[11]*v,i[12]=t[12],i[13]=t[13],i[14]=t[14],i[15]=t[15],i},I.N=function(i,t,r){var l=t[0],g=t[1],v=t[2],b=t[3],A=t[4],P=t[5],R=t[6],G=t[7],N=t[8],H=t[9],Y=t[10],ee=t[11],se=t[12],xe=t[13],Ie=t[14],Ke=t[15],Ue=r[0],K=r[1],ye=r[2],Oe=r[3];return i[0]=Ue*l+K*A+ye*N+Oe*se,i[1]=Ue*g+K*P+ye*H+Oe*xe,i[2]=Ue*v+K*R+ye*Y+Oe*Ie,i[3]=Ue*b+K*G+ye*ee+Oe*Ke,i[4]=(Ue=r[4])*l+(K=r[5])*A+(ye=r[6])*N+(Oe=r[7])*se,i[5]=Ue*g+K*P+ye*H+Oe*xe,i[6]=Ue*v+K*R+ye*Y+Oe*Ie,i[7]=Ue*b+K*G+ye*ee+Oe*Ke,i[8]=(Ue=r[8])*l+(K=r[9])*A+(ye=r[10])*N+(Oe=r[11])*se,i[9]=Ue*g+K*P+ye*H+Oe*xe,i[10]=Ue*v+K*R+ye*Y+Oe*Ie,i[11]=Ue*b+K*G+ye*ee+Oe*Ke,i[12]=(Ue=r[12])*l+(K=r[13])*A+(ye=r[14])*N+(Oe=r[15])*se,i[13]=Ue*g+K*P+ye*H+Oe*xe,i[14]=Ue*v+K*R+ye*Y+Oe*Ie,i[15]=Ue*b+K*G+ye*ee+Oe*Ke,i},I.O=function(i,t){const r={};for(let l=0;l<t.length;l++){const g=t[l];g in i&&(r[g]=i[g])}return r},I.P=he,I.Q=bh,I.R=ms,I.S=Gg,I.T=wl,I.U=Z0,I.V=ze,I.W=Ae,I.X=Li,I.Y=Do,I.Z=yt,I._=s,I.a=Bi,I.a$=function(i,t,r){var l=Math.sin(r),g=Math.cos(r),v=t[4],b=t[5],A=t[6],P=t[7],R=t[8],G=t[9],N=t[10],H=t[11];return t!==i&&(i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[12]=t[12],i[13]=t[13],i[14]=t[14],i[15]=t[15]),i[4]=v*g+R*l,i[5]=b*g+G*l,i[6]=A*g+N*l,i[7]=P*g+H*l,i[8]=R*g-v*l,i[9]=G*g-b*l,i[10]=N*g-A*l,i[11]=H*g-P*l,i},I.a0=25,I.a1=Ra,I.a2=i=>{const t=window.document.createElement("video");return t.muted=!0,new Promise(r=>{t.onloadstart=()=>{r(t)};for(const l of i){const g=window.document.createElement("source");Fe(l)||(t.crossOrigin="Anonymous"),g.src=l,t.appendChild(g)}})},I.a3=Ct,I.a4=function(){return Fn++},I.a5=De,I.a6=et,I.a7=yc,I.a8=N0,I.a9=Ng,I.aA=function(i,t,r,l,g=!1){if(!r[0]&&!r[1])return[0,0];const v=g?l==="map"?-i.bearingInRadians:0:l==="viewport"?i.bearingInRadians:0;if(v){const b=Math.sin(v),A=Math.cos(v);r=[r[0]*A-r[1]*b,r[0]*b+r[1]*A]}return[g?r[0]:mt(t,r[0],i.zoom),g?r[1]:mt(t,r[1],i.zoom)]},I.aC=en,I.aD=Mu,I.aE=bd,I.aF=bi,I.aG=ai,I.aH=tl,I.aI=Dt,I.aJ=Pr,I.aK=Dr,I.aL=gn,I.aM=ni,I.aN=Mr,I.aO=function(i,t,r){return i[0]=t[0]*r,i[1]=t[1]*r,i[2]=t[2]*r,i},I.aP=function(i,t,r){return i[0]=t[0]+r[0],i[1]=t[1]+r[1],i[2]=t[2]+r[2],i},I.aQ=function(i){var t=new $e(3);return t[0]=i[0],t[1]=i[1],t[2]=i[2],t},I.aR=function(i,t,r){return i[0]=t[0]*r[0],i[1]=t[1]*r[1],i[2]=t[2]*r[2],i[3]=t[3]*r[3],i},I.aS=function(i,t,r){return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],i},I.aT=function(i,t){var r=t[0],l=t[1],g=t[2],v=r*r+l*l+g*g;return v>0&&(v=1/Math.sqrt(v)),i[0]=t[0]*v,i[1]=t[1]*v,i[2]=t[2]*v,i},I.aU=function(i,t,r){var l=t[0],g=t[1],v=t[2],b=r[0],A=r[1],P=r[2];return i[0]=g*P-v*A,i[1]=v*b-l*P,i[2]=l*A-g*b,i},I.aV=function(i,t){return i[0]*t[0]+i[1]*t[1]+i[2]*t[2]},I.aW=Bg,I.aX=Np,I.aY=function(i,t,r,l,g){var v,b=1/Math.tan(t/2);return i[0]=b/r,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=b,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[11]=-1,i[12]=0,i[13]=0,i[15]=0,g!=null&&g!==1/0?(i[10]=(g+l)*(v=1/(l-g)),i[14]=2*g*l*v):(i[10]=-1,i[14]=-2*l),i},I.aZ=function(i){var t=new $e(16);return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],t},I.a_=function(i,t,r){var l=Math.sin(r),g=Math.cos(r),v=t[0],b=t[1],A=t[2],P=t[3],R=t[4],G=t[5],N=t[6],H=t[7];return t!==i&&(i[8]=t[8],i[9]=t[9],i[10]=t[10],i[11]=t[11],i[12]=t[12],i[13]=t[13],i[14]=t[14],i[15]=t[15]),i[0]=v*g+R*l,i[1]=b*g+G*l,i[2]=A*g+N*l,i[3]=P*g+H*l,i[4]=R*g-v*l,i[5]=G*g-b*l,i[6]=N*g-A*l,i[7]=H*g-P*l,i},I.aa=function(i){const t={};if(i.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(r,l,g,v)=>{const b=g||v;return t[l]=!b||b.toLowerCase(),""}),t["max-age"]){const r=parseInt(t["max-age"],10);isNaN(r)?delete t["max-age"]:t["max-age"]=r}return t},I.ab=Or,I.ac=function(i){return Math.pow(2,i)},I.ad=Pt,I.ae=kt,I.af=85.051129,I.ag=Lg,I.ah=function(i){return Math.log(i)/Math.LN2},I.ai=function(i){var t=i[0],r=i[1];return t*t+r*r},I.aj=function(i,t){const r=[];for(const l in i)l in t||r.push(l);return r},I.ak=function(i,t){let r=0,l=0;if(i.kind==="constant")l=i.layoutSize;else if(i.kind!=="source"){const{interpolationType:g,minZoom:v,maxZoom:b}=i,A=g?kt(Fi.interpolationFactor(g,t,v,b),0,1):0;i.kind==="camera"?l=mo.number(i.minSize,i.maxSize,A):r=A}return{uSizeT:r,uSize:l}},I.am=function(i,{uSize:t,uSizeT:r},{lowerSize:l,upperSize:g}){return i.kind==="source"?l/Re:i.kind==="composite"?mo.number(l/Re,g/Re,r):t},I.an=function(i,t){var r=t[0],l=t[1],g=t[2],v=t[3],b=t[4],A=t[5],P=t[6],R=t[7],G=t[8],N=t[9],H=t[10],Y=t[11],ee=t[12],se=t[13],xe=t[14],Ie=t[15],Ke=r*A-l*b,Ue=r*P-g*b,K=r*R-v*b,ye=l*P-g*A,Oe=l*R-v*A,ft=g*R-v*P,Zt=G*se-N*ee,xt=G*xe-H*ee,Mt=G*Ie-Y*ee,Qt=N*xe-H*se,Ht=N*Ie-Y*se,Xt=H*Ie-Y*xe,Et=Ke*Xt-Ue*Ht+K*Qt+ye*Mt-Oe*xt+ft*Zt;return Et?(i[0]=(A*Xt-P*Ht+R*Qt)*(Et=1/Et),i[1]=(g*Ht-l*Xt-v*Qt)*Et,i[2]=(se*ft-xe*Oe+Ie*ye)*Et,i[3]=(H*Oe-N*ft-Y*ye)*Et,i[4]=(P*Mt-b*Xt-R*xt)*Et,i[5]=(r*Xt-g*Mt+v*xt)*Et,i[6]=(xe*K-ee*ft-Ie*Ue)*Et,i[7]=(G*ft-H*K+Y*Ue)*Et,i[8]=(b*Ht-A*Mt+R*Zt)*Et,i[9]=(l*Mt-r*Ht-v*Zt)*Et,i[10]=(ee*Oe-se*K+Ie*Ke)*Et,i[11]=(N*K-G*Oe-Y*Ke)*Et,i[12]=(A*xt-b*Qt-P*Zt)*Et,i[13]=(r*Qt-l*xt+g*Zt)*Et,i[14]=(se*Ue-ee*ye-xe*Ke)*Et,i[15]=(G*ye-N*Ue+H*Ke)*Et,i):null},I.ao=Nt,I.ap=function(i){return Math.hypot(i[0],i[1])},I.aq=function(i){return i[0]=0,i[1]=0,i},I.ar=function(i,t,r){return i[0]=t[0]*r,i[1]=t[1]*r,i},I.as=zn,I.at=Wt,I.au=function(i,t,r,l){const g=t.y-i.y,v=t.x-i.x,b=l.y-r.y,A=l.x-r.x,P=b*v-A*g;if(P===0)return null;const R=(A*(i.y-r.y)-b*(i.x-r.x))/P;return new he(i.x+R*v,i.y+R*g)},I.av=Ef,I.aw=Fh,I.ax=function(i){let t=1/0,r=1/0,l=-1/0,g=-1/0;for(const v of i)t=Math.min(t,v.x),r=Math.min(r,v.y),l=Math.max(l,v.x),g=Math.max(g,v.y);return[t,r,l,g]},I.ay=ka,I.az=mt,I.b=Ir,I.b$=class extends ie{},I.b0=function(){const i=new Float32Array(16);return Pt(i),i},I.b1=function(){const i=new Float64Array(16);return Pt(i),i},I.b2=function(){return new Float64Array(16)},I.b3=function(i,t,r){const l=new Float64Array(4);return function(g,v,b,A){var P=.5*Math.PI/180;v*=P,b*=P,A*=P;var R=Math.sin(v),G=Math.cos(v),N=Math.sin(b),H=Math.cos(b),Y=Math.sin(A),ee=Math.cos(A);g[0]=R*H*ee-G*N*Y,g[1]=G*N*ee+R*H*Y,g[2]=G*H*Y-R*N*ee,g[3]=G*H*ee+R*N*Y}(l,i,t-90,r),l},I.b4=function(i,t,r,l){var g,v,b,A,P,R=t[0],G=t[1],N=t[2],H=t[3],Y=r[0],ee=r[1],se=r[2],xe=r[3];return(v=R*Y+G*ee+N*se+H*xe)<0&&(v=-v,Y=-Y,ee=-ee,se=-se,xe=-xe),1-v>Ge?(g=Math.acos(v),b=Math.sin(g),A=Math.sin((1-l)*g)/b,P=Math.sin(l*g)/b):(A=1-l,P=l),i[0]=A*R+P*Y,i[1]=A*G+P*ee,i[2]=A*N+P*se,i[3]=A*H+P*xe,i},I.b5=function(i){const t=new Float64Array(9);var r,l,g,v,b,A,P,R,G,N,H,Y,ee,se,xe,Ie,Ke,Ue;N=(g=(l=i)[0])*(P=g+g),H=(v=l[1])*P,ee=(b=l[2])*P,se=b*(R=v+v),Ie=(A=l[3])*P,Ke=A*R,Ue=A*(G=b+b),(r=t)[0]=1-(Y=v*R)-(xe=b*G),r[3]=H-Ue,r[6]=ee+Ke,r[1]=H+Ue,r[4]=1-N-xe,r[7]=se-Ie,r[2]=ee-Ke,r[5]=se+Ie,r[8]=1-N-Y;const K=ni(-Math.asin(kt(t[2],-1,1)));let ye,Oe;return Math.hypot(t[5],t[8])<.001?(ye=0,Oe=-ni(Math.atan2(t[3],t[4]))):(ye=ni(t[5]===0&&t[8]===0?0:Math.atan2(t[5],t[8])),Oe=ni(t[1]===0&&t[0]===0?0:Math.atan2(t[1],t[0]))),{roll:ye,pitch:K+90,bearing:Oe}},I.b6=function(i,t){return i.roll==t.roll&&i.pitch==t.pitch&&i.bearing==t.bearing},I.b7=er,I.b8=eh,I.b9=Tl,I.bA=function(i){if(i.type==="custom")return new ly(i);switch(i.type){case"background":return new oi(i);case"circle":return new $h(i);case"fill":return new io(i);case"fill-extrusion":return new hd(i);case"heatmap":return new qo(i);case"hillshade":return new od(i);case"line":return new Wd(i);case"raster":return new sy(i);case"symbol":return new Jn(i)}},I.bB=Nn,I.bC=function(i,t){if(!i)return[{command:"setStyle",args:[t]}];let r=[];try{if(!at(i.version,t.version))return[{command:"setStyle",args:[t]}];at(i.center,t.center)||r.push({command:"setCenter",args:[t.center]}),at(i.state,t.state)||r.push({command:"setGlobalState",args:[t.state]}),at(i.centerAltitude,t.centerAltitude)||r.push({command:"setCenterAltitude",args:[t.centerAltitude]}),at(i.zoom,t.zoom)||r.push({command:"setZoom",args:[t.zoom]}),at(i.bearing,t.bearing)||r.push({command:"setBearing",args:[t.bearing]}),at(i.pitch,t.pitch)||r.push({command:"setPitch",args:[t.pitch]}),at(i.roll,t.roll)||r.push({command:"setRoll",args:[t.roll]}),at(i.sprite,t.sprite)||r.push({command:"setSprite",args:[t.sprite]}),at(i.glyphs,t.glyphs)||r.push({command:"setGlyphs",args:[t.glyphs]}),at(i.transition,t.transition)||r.push({command:"setTransition",args:[t.transition]}),at(i.light,t.light)||r.push({command:"setLight",args:[t.light]}),at(i.terrain,t.terrain)||r.push({command:"setTerrain",args:[t.terrain]}),at(i.sky,t.sky)||r.push({command:"setSky",args:[t.sky]}),at(i.projection,t.projection)||r.push({command:"setProjection",args:[t.projection]});const l={},g=[];(function(b,A,P,R){let G;for(G in A=A||{},b=b||{})Object.prototype.hasOwnProperty.call(b,G)&&(Object.prototype.hasOwnProperty.call(A,G)||Rt(G,P,R));for(G in A)Object.prototype.hasOwnProperty.call(A,G)&&(Object.prototype.hasOwnProperty.call(b,G)?at(b[G],A[G])||(b[G].type==="geojson"&&A[G].type==="geojson"&&pn(b,A,G)?pt(P,{command:"setGeoJSONSourceData",args:[G,A[G].data]}):Jt(G,A,P,R)):nt(G,A,P))})(i.sources,t.sources,g,l);const v=[];i.layers&&i.layers.forEach(b=>{"source"in b&&l[b.source]?r.push({command:"removeLayer",args:[b.id]}):v.push(b)}),r=r.concat(g),function(b,A,P){A=A||[];const R=(b=b||[]).map(Xn),G=A.map(Xn),N=b.reduce(On,{}),H=A.reduce(On,{}),Y=R.slice(),ee=Object.create(null);let se,xe,Ie,Ke,Ue;for(let K=0,ye=0;K<R.length;K++)se=R[K],Object.prototype.hasOwnProperty.call(H,se)?ye++:(pt(P,{command:"removeLayer",args:[se]}),Y.splice(Y.indexOf(se,ye),1));for(let K=0,ye=0;K<G.length;K++)se=G[G.length-1-K],Y[Y.length-1-K]!==se&&(Object.prototype.hasOwnProperty.call(N,se)?(pt(P,{command:"removeLayer",args:[se]}),Y.splice(Y.lastIndexOf(se,Y.length-ye),1)):ye++,Ke=Y[Y.length-K],pt(P,{command:"addLayer",args:[H[se],Ke]}),Y.splice(Y.length-K,0,se),ee[se]=!0);for(let K=0;K<G.length;K++)if(se=G[K],xe=N[se],Ie=H[se],!ee[se]&&!at(xe,Ie))if(at(xe.source,Ie.source)&&at(xe["source-layer"],Ie["source-layer"])&&at(xe.type,Ie.type)){for(Ue in Tn(xe.layout,Ie.layout,P,se,null,"setLayoutProperty"),Tn(xe.paint,Ie.paint,P,se,null,"setPaintProperty"),at(xe.filter,Ie.filter)||pt(P,{command:"setFilter",args:[se,Ie.filter]}),at(xe.minzoom,Ie.minzoom)&&at(xe.maxzoom,Ie.maxzoom)||pt(P,{command:"setLayerZoomRange",args:[se,Ie.minzoom,Ie.maxzoom]}),xe)Object.prototype.hasOwnProperty.call(xe,Ue)&&Ue!=="layout"&&Ue!=="paint"&&Ue!=="filter"&&Ue!=="metadata"&&Ue!=="minzoom"&&Ue!=="maxzoom"&&(Ue.indexOf("paint.")===0?Tn(xe[Ue],Ie[Ue],P,se,Ue.slice(6),"setPaintProperty"):at(xe[Ue],Ie[Ue])||pt(P,{command:"setLayerProperty",args:[se,Ue,Ie[Ue]]}));for(Ue in Ie)Object.prototype.hasOwnProperty.call(Ie,Ue)&&!Object.prototype.hasOwnProperty.call(xe,Ue)&&Ue!=="layout"&&Ue!=="paint"&&Ue!=="filter"&&Ue!=="metadata"&&Ue!=="minzoom"&&Ue!=="maxzoom"&&(Ue.indexOf("paint.")===0?Tn(xe[Ue],Ie[Ue],P,se,Ue.slice(6),"setPaintProperty"):at(xe[Ue],Ie[Ue])||pt(P,{command:"setLayerProperty",args:[se,Ue,Ie[Ue]]}))}else pt(P,{command:"removeLayer",args:[se]}),Ke=Y[Y.lastIndexOf(se)+1],pt(P,{command:"addLayer",args:[Ie,Ke]})}(v,t.layers,r)}catch(l){console.warn("Unable to compute style diff:",l),r=[{command:"setStyle",args:[t]}]}return r},I.bD=function(i){const t=[],r=i.id;return r===void 0&&t.push({message:`layers.${r}: missing required property "id"`}),i.render===void 0&&t.push({message:`layers.${r}: missing required method "render"`}),i.renderingMode&&i.renderingMode!=="2d"&&i.renderingMode!=="3d"&&t.push({message:`layers.${r}: property "renderingMode" must be either "2d" or "3d"`}),t},I.bE=function i(t,r){if(Array.isArray(t)){if(!Array.isArray(r)||t.length!==r.length)return!1;for(let l=0;l<t.length;l++)if(!i(t[l],r[l]))return!1;return!0}if(typeof t=="object"&&t!==null&&r!==null){if(typeof r!="object"||Object.keys(t).length!==Object.keys(r).length)return!1;for(const l in t)if(!i(t[l],r[l]))return!1;return!0}return t===r},I.bF=Rn,I.bG=An,I.bH=class extends vi{constructor(i,t){super(i,t),this.current=0}set(i){this.current!==i&&(this.current=i,this.gl.uniform1i(this.location,i))}},I.bI=th,I.bJ=class extends vi{constructor(i,t){super(i,t),this.current=Ho}set(i){if(i[12]!==this.current[12]||i[0]!==this.current[0])return this.current=i,void this.gl.uniformMatrix4fv(this.location,!1,i);for(let t=1;t<16;t++)if(i[t]!==this.current[t]){this.current=i,this.gl.uniformMatrix4fv(this.location,!1,i);break}}},I.bK=Oh,I.bL=class extends vi{constructor(i,t){super(i,t),this.current=[0,0,0]}set(i){i[0]===this.current[0]&&i[1]===this.current[1]&&i[2]===this.current[2]||(this.current=i,this.gl.uniform3f(this.location,i[0],i[1],i[2]))}},I.bM=class extends vi{constructor(i,t){super(i,t),this.current=[0,0]}set(i){i[0]===this.current[0]&&i[1]===this.current[1]||(this.current=i,this.gl.uniform2f(this.location,i[0],i[1]))}},I.bN=ot,I.bO=function(i,t){var r=Math.sin(t),l=Math.cos(t);return i[0]=l,i[1]=r,i[2]=0,i[3]=-r,i[4]=l,i[5]=0,i[6]=0,i[7]=0,i[8]=1,i},I.bP=function(i,t,r){var l=t[0],g=t[1],v=t[2];return i[0]=l*r[0]+g*r[3]+v*r[6],i[1]=l*r[1]+g*r[4]+v*r[7],i[2]=l*r[2]+g*r[5]+v*r[8],i},I.bQ=function(i,t,r,l,g,v,b){var A=1/(t-r),P=1/(l-g),R=1/(v-b);return i[0]=-2*A,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=-2*P,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=2*R,i[11]=0,i[12]=(t+r)*A,i[13]=(g+l)*P,i[14]=(b+v)*R,i[15]=1,i},I.bR=class extends vi{constructor(i,t){super(i,t),this.current=new Array}set(i){if(i!=this.current){this.current=i;const t=new Float32Array(4*i.length);for(let r=0;r<i.length;r++)t[4*r]=i[r].r,t[4*r+1]=i[r].g,t[4*r+2]=i[r].b,t[4*r+3]=i[r].a;this.gl.uniform4fv(this.location,t)}}},I.bS=class extends vi{constructor(i,t){super(i,t),this.current=new Array}set(i){if(i!=this.current){this.current=i;const t=new Float32Array(i);this.gl.uniform1fv(this.location,t)}}},I.bT=class extends y{},I.bU=Tf,I.bV=class extends T{},I.bW=Ip,I.bX=function(i){return i<=1?1:Math.pow(2,Math.ceil(Math.log(i)/Math.LN2))},I.bY=Kl,I.bZ=function(i,t,r){var l=t[0],g=t[1],v=t[2],b=r[3]*l+r[7]*g+r[11]*v+r[15];return i[0]=(r[0]*l+r[4]*g+r[8]*v+r[12])/(b=b||1),i[1]=(r[1]*l+r[5]*g+r[9]*v+r[13])/b,i[2]=(r[2]*l+r[6]*g+r[10]*v+r[14])/b,i},I.b_=class extends ja{},I.ba=ph,I.bb=tc,I.bc=qe,I.bd=Tt,I.be=ho,I.bf=function(i,t,r,l,g){return qe(l,g,kt((i-t)/(r-t),0,1))},I.bg=jt,I.bh=function(){return new Float64Array(3)},I.bi=function(i,t,r,l){return i[0]=t[0]+r[0]*l,i[1]=t[1]+r[1]*l,i[2]=t[2]+r[2]*l,i},I.bj=Bt,I.bk=function(){return new Float64Array(4)},I.bl=function(i,t,r,l){var g=[],v=[];return g[0]=t[0]-r[0],g[1]=t[1]-r[1],g[2]=t[2]-r[2],v[0]=g[0]*Math.cos(l)-g[1]*Math.sin(l),v[1]=g[0]*Math.sin(l)+g[1]*Math.cos(l),v[2]=g[2],i[0]=v[0]+r[0],i[1]=v[1]+r[1],i[2]=v[2]+r[2],i},I.bm=function(i,t,r,l){var g=[],v=[];return g[0]=t[0]-r[0],g[1]=t[1]-r[1],g[2]=t[2]-r[2],v[0]=g[0],v[1]=g[1]*Math.cos(l)-g[2]*Math.sin(l),v[2]=g[1]*Math.sin(l)+g[2]*Math.cos(l),i[0]=v[0]+r[0],i[1]=v[1]+r[1],i[2]=v[2]+r[2],i},I.bn=function(i,t,r,l){var g=[],v=[];return g[0]=t[0]-r[0],g[1]=t[1]-r[1],g[2]=t[2]-r[2],v[0]=g[2]*Math.sin(l)+g[0]*Math.cos(l),v[1]=g[1],v[2]=g[2]*Math.cos(l)-g[0]*Math.sin(l),i[0]=v[0]+r[0],i[1]=v[1]+r[1],i[2]=v[2]+r[2],i},I.bo=ge,I.bp=function(i,t,r){var l=Math.sin(r),g=Math.cos(r),v=t[0],b=t[1],A=t[2],P=t[3],R=t[8],G=t[9],N=t[10],H=t[11];return t!==i&&(i[4]=t[4],i[5]=t[5],i[6]=t[6],i[7]=t[7],i[12]=t[12],i[13]=t[13],i[14]=t[14],i[15]=t[15]),i[0]=v*g-R*l,i[1]=b*g-G*l,i[2]=A*g-N*l,i[3]=P*g-H*l,i[8]=v*l+R*g,i[9]=b*l+G*g,i[10]=A*l+N*g,i[11]=P*l+H*g,i},I.bq=function(i,t){const r=jt(i,360),l=jt(t,360),g=l-r,v=l>r?g-360:g+360;return Math.abs(g)<Math.abs(v)?g:v},I.br=function(i){return i[0]=0,i[1]=0,i[2]=0,i},I.bs=function(i,t,r,l){const g=Math.sqrt(i*i+t*t),v=Math.sqrt(r*r+l*l);i/=g,t/=g,r/=v,l/=v;const b=Math.acos(i*r+t*l);return-t*r+i*l>0?b:-b},I.bt=function(i,t){return i[0]*t[0]+i[1]*t[1]+i[2]*t[2]+i[3]},I.bu=Pf,I.bv=function(i,t){const r=jt(i,2*Math.PI),l=jt(t,2*Math.PI);return Math.min(Math.abs(r-l),Math.abs(r-l+2*Math.PI),Math.abs(r-l-2*Math.PI))},I.bw=function(){const i={},t=me.$version;for(const r in me.$root){const l=me.$root[r];if(l.required){let g=null;g=r==="version"?t:l.type==="array"?[]:{},g!=null&&(i[r]=g)}}return i},I.bx=Ys,I.by=ri,I.bz=function(i){i=i.slice();const t=Object.create(null);for(let r=0;r<i.length;r++)t[i[r].id]=i[r];for(let r=0;r<i.length;r++)"ref"in i[r]&&(i[r]=Ye(i[r],t[i[r].ref]));return i},I.c=Qr,I.c0=function(i,t){return i[0]===t[0]&&i[1]===t[1]&&i[2]===t[2]&&i[3]===t[3]&&i[4]===t[4]&&i[5]===t[5]&&i[6]===t[6]&&i[7]===t[7]&&i[8]===t[8]&&i[9]===t[9]&&i[10]===t[10]&&i[11]===t[11]&&i[12]===t[12]&&i[13]===t[13]&&i[14]===t[14]&&i[15]===t[15]},I.c1=function(i,t){var r=i[0],l=i[1],g=i[2],v=i[3],b=i[4],A=i[5],P=i[6],R=i[7],G=i[8],N=i[9],H=i[10],Y=i[11],ee=i[12],se=i[13],xe=i[14],Ie=i[15],Ke=t[0],Ue=t[1],K=t[2],ye=t[3],Oe=t[4],ft=t[5],Zt=t[6],xt=t[7],Mt=t[8],Qt=t[9],Ht=t[10],Xt=t[11],Et=t[12],In=t[13],qn=t[14],Wn=t[15];return Math.abs(r-Ke)<=Ge*Math.max(1,Math.abs(r),Math.abs(Ke))&&Math.abs(l-Ue)<=Ge*Math.max(1,Math.abs(l),Math.abs(Ue))&&Math.abs(g-K)<=Ge*Math.max(1,Math.abs(g),Math.abs(K))&&Math.abs(v-ye)<=Ge*Math.max(1,Math.abs(v),Math.abs(ye))&&Math.abs(b-Oe)<=Ge*Math.max(1,Math.abs(b),Math.abs(Oe))&&Math.abs(A-ft)<=Ge*Math.max(1,Math.abs(A),Math.abs(ft))&&Math.abs(P-Zt)<=Ge*Math.max(1,Math.abs(P),Math.abs(Zt))&&Math.abs(R-xt)<=Ge*Math.max(1,Math.abs(R),Math.abs(xt))&&Math.abs(G-Mt)<=Ge*Math.max(1,Math.abs(G),Math.abs(Mt))&&Math.abs(N-Qt)<=Ge*Math.max(1,Math.abs(N),Math.abs(Qt))&&Math.abs(H-Ht)<=Ge*Math.max(1,Math.abs(H),Math.abs(Ht))&&Math.abs(Y-Xt)<=Ge*Math.max(1,Math.abs(Y),Math.abs(Xt))&&Math.abs(ee-Et)<=Ge*Math.max(1,Math.abs(ee),Math.abs(Et))&&Math.abs(se-In)<=Ge*Math.max(1,Math.abs(se),Math.abs(In))&&Math.abs(xe-qn)<=Ge*Math.max(1,Math.abs(xe),Math.abs(qn))&&Math.abs(Ie-Wn)<=Ge*Math.max(1,Math.abs(Ie),Math.abs(Wn))},I.c2=function(i,t){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4],i[5]=t[5],i[6]=t[6],i[7]=t[7],i[8]=t[8],i[9]=t[9],i[10]=t[10],i[11]=t[11],i[12]=t[12],i[13]=t[13],i[14]=t[14],i[15]=t[15],i},I.c3=i=>i.type==="symbol",I.c4=i=>i.type==="circle",I.c5=i=>i.type==="heatmap",I.c6=i=>i.type==="line",I.c7=i=>i.type==="fill",I.c8=i=>i.type==="fill-extrusion",I.c9=i=>i.type==="hillshade",I.cA=Ia,I.cB=Sc,I.cC=ao,I.cD=Ml,I.cE=class{constructor(i){this._marks={start:[i.url,"start"].join("#"),end:[i.url,"end"].join("#"),measure:i.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let i=performance.getEntriesByName(this._marks.measure);return i.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),i=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),i}},I.cF=function(i,t,r,l,g){return s(this,void 0,void 0,function*(){if(Ae())try{return yield Li(i,t,r,l,g)}catch{}return function(v,b,A,P,R){const G=v.width,N=v.height;vr&&ur||(vr=new OffscreenCanvas(G,N),ur=vr.getContext("2d",{willReadFrequently:!0})),vr.width=G,vr.height=N,ur.drawImage(v,0,0,G,N);const H=ur.getImageData(b,A,P,R);return ur.clearRect(0,0,G,N),H.data}(i,t,r,l,g)})},I.cG=Og,I.cH=V,I.cI=te,I.cJ=Du,I.cK=Kd,I.cL=ml,I.cM=Vl,I.ca=i=>i.type==="raster",I.cb=i=>i.type==="background",I.cc=i=>i.type==="custom",I.cd=mn,I.ce=function(i,t,r){const l=cn(t.x-r.x,t.y-r.y),g=cn(i.x-r.x,i.y-r.y);var v,b;return ni(Math.atan2(l[0]*g[1]-l[1]*g[0],(v=l)[0]*(b=g)[0]+v[1]*b[1]))},I.cf=hn,I.cg=function(i,t){return Ga[t]&&(i instanceof MouseEvent||i instanceof WheelEvent)},I.ch=function(i,t){return Wi[t]&&"touches"in i},I.ci=function(i){return Wi[i]||Ga[i]},I.cj=function(i,t,r){var l=t[0],g=t[1];return i[0]=r[0]*l+r[4]*g+r[12],i[1]=r[1]*l+r[5]*g+r[13],i},I.ck=function(i,t){const{x:r,y:l}=wd.fromLngLat(t);return!(i<0||i>25||l<0||l>=1||r<0||r>=1)},I.cl=function(i,t){return i[0]=t[0],i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=t[1],i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=t[2],i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i},I.cm=class extends Ms{},I.cn=dy,I.cp=function(i){return i.message===Hi},I.cq=Ci,I.cr=function(i,t){Bi.REGISTERED_PROTOCOLS[i]=t},I.cs=function(i){delete Bi.REGISTERED_PROTOCOLS[i]},I.ct=function(i,t){const r={};for(let g=0;g<i.length;g++){const v=t&&t[i[g].id]||lu(i[g]);t&&(t[i[g].id]=v);let b=r[v];b||(b=r[v]=[]),b.push(i[g])}const l=[];for(const g in r)l.push(r[g]);return l},I.cu=un,I.cv=Fg,I.cw=$g,I.cx=vd,I.cy=function(i){i.bucket.createArrays(),i.bucket.tilePixelRatio=yt/(512*i.bucket.overscaling),i.bucket.compareText={},i.bucket.iconsNeedLinear=!1;const t=i.bucket.layers[0],r=t.layout,l=t._unevaluatedLayout._values,g={layoutIconSize:l["icon-size"].possiblyEvaluate(new ii(i.bucket.zoom+1),i.canonical),layoutTextSize:l["text-size"].possiblyEvaluate(new ii(i.bucket.zoom+1),i.canonical),textMaxSize:l["text-size"].possiblyEvaluate(new ii(18))};if(i.bucket.textSizeData.kind==="composite"){const{minZoom:R,maxZoom:G}=i.bucket.textSizeData;g.compositeTextSizes=[l["text-size"].possiblyEvaluate(new ii(R),i.canonical),l["text-size"].possiblyEvaluate(new ii(G),i.canonical)]}if(i.bucket.iconSizeData.kind==="composite"){const{minZoom:R,maxZoom:G}=i.bucket.iconSizeData;g.compositeIconSizes=[l["icon-size"].possiblyEvaluate(new ii(R),i.canonical),l["icon-size"].possiblyEvaluate(new ii(G),i.canonical)]}const v=r.get("text-line-height")*ka,b=r.get("text-rotation-alignment")!=="viewport"&&r.get("symbol-placement")!=="point",A=r.get("text-keep-upright"),P=r.get("text-size");for(const R of i.bucket.features){const G=r.get("text-font").evaluate(R,{},i.canonical).join(","),N=P.evaluate(R,{},i.canonical),H=g.layoutTextSize.evaluate(R,{},i.canonical),Y=g.layoutIconSize.evaluate(R,{},i.canonical),ee={horizontal:{},vertical:void 0},se=R.text;let xe,Ie=[0,0];if(se){const K=se.toString(),ye=r.get("text-letter-spacing").evaluate(R,{},i.canonical)*ka,Oe=bp(K)?ye:0,ft=r.get("text-anchor").evaluate(R,{},i.canonical),Zt=Uf(t,R,i.canonical);if(!Zt){const Ht=r.get("text-radial-offset").evaluate(R,{},i.canonical);Ie=Ht?Hg(ft,[Ht*ka,Rf]):r.get("text-offset").evaluate(R,{},i.canonical).map(Xt=>Xt*ka)}let xt=b?"center":r.get("text-justify").evaluate(R,{},i.canonical);const Mt=r.get("symbol-placement")==="point"?r.get("text-max-width").evaluate(R,{},i.canonical)*ka:1/0,Qt=()=>{i.bucket.allowVerticalPlacement&&$l(K)&&(ee.vertical=vh(se,i.glyphMap,i.glyphPositions,i.imagePositions,G,Mt,v,ft,"left",Oe,Ie,I.al.vertical,!0,H,N))};if(!b&&Zt){const Ht=new Set;if(xt==="auto")for(let Et=0;Et<Zt.values.length;Et+=2)Ht.add(Mu(Zt.values[Et]));else Ht.add(xt);let Xt=!1;for(const Et of Ht)if(!ee.horizontal[Et])if(Xt)ee.horizontal[Et]=ee.horizontal[0];else{const In=vh(se,i.glyphMap,i.glyphPositions,i.imagePositions,G,Mt,v,"center",Et,Oe,Ie,I.al.horizontal,!1,H,N);In&&(ee.horizontal[Et]=In,Xt=In.positionedLines.length===1)}Qt()}else{xt==="auto"&&(xt=Mu(ft));const Ht=vh(se,i.glyphMap,i.glyphPositions,i.imagePositions,G,Mt,v,ft,xt,Oe,Ie,I.al.horizontal,!1,H,N);Ht&&(ee.horizontal[xt]=Ht),Qt(),$l(K)&&b&&A&&(ee.vertical=vh(se,i.glyphMap,i.glyphPositions,i.imagePositions,G,Mt,v,ft,xt,Oe,Ie,I.al.vertical,!1,H,N))}}let Ke=!1;if(R.icon&&R.icon.name){const K=i.imageMap[R.icon.name];K&&(xe=S(i.imagePositions[R.icon.name],r.get("icon-offset").evaluate(R,{},i.canonical),r.get("icon-anchor").evaluate(R,{},i.canonical)),Ke=!!K.sdf,i.bucket.sdfIcons===void 0?i.bucket.sdfIcons=Ke:i.bucket.sdfIcons!==Ke&&Hn("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(K.pixelRatio!==i.bucket.pixelRatio||r.get("icon-rotate").constantOr(1)!==0)&&(i.bucket.iconsNeedLinear=!0))}const Ue=f0(ee.horizontal)||ee.vertical;i.bucket.iconsInText=!!Ue&&Ue.iconsInText,(Ue||xe)&&Rr(i.bucket,R,ee,xe,i.imageMap,g,H,Y,Ie,Ke,i.canonical,i.subdivisionGranularity)}i.showCollisionBoxes&&i.bucket.generateCollisionDebugBuffers()},I.cz=Pp,I.d=Fe,I.e=wn,I.f=i=>s(void 0,void 0,void 0,function*(){if(i.byteLength===0)return createImageBitmap(new ImageData(1,1));const t=new Blob([new Uint8Array(i)],{type:"image/png"});try{return createImageBitmap(t)}catch(r){throw new Error(`Could not load image because of ${r.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}}),I.g=wi,I.h=i=>new Promise((t,r)=>{const l=new Image;l.onload=()=>{t(l),URL.revokeObjectURL(l.src),l.onload=null,window.requestAnimationFrame(()=>{l.src=Yr})},l.onerror=()=>r(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const g=new Blob([new Uint8Array(i)],{type:"image/png"});l.src=i.byteLength?URL.createObjectURL(g):Yr}),I.i=yr,I.j=(i,t)=>_a(wn(i,{type:"json"}),t),I.k=Me,I.l=ve,I.m=_a,I.n=(i,t)=>_a(wn(i,{type:"arrayBuffer"}),t),I.o=function(i){return new Ml(i).readFields(Ec,[])},I.p=Xd,I.q=ql,I.r=Ui,I.s=Cn,I.t=Xs,I.u=lr,I.v=me,I.w=Hn,I.x=l0,I.y=hu,I.z=function([i,t,r]){return t+=90,t*=Math.PI/180,r*=Math.PI/180,{x:i*Math.cos(t)*Math.sin(r),y:i*Math.sin(t)*Math.sin(r),z:i*Math.cos(r)}}}),D("worker",["./shared"],function(I){class s{constructor(ne){this.keyCache={},ne&&this.replace(ne)}replace(ne){this._layerConfigs={},this._layers={},this.update(ne,[])}update(ne,oe){for(const Me of ne){this._layerConfigs[Me.id]=Me;const We=this._layers[Me.id]=I.bA(Me);We._featureFilter=I.a7(We.filter),this.keyCache[Me.id]&&delete this.keyCache[Me.id]}for(const Me of oe)delete this.keyCache[Me],delete this._layerConfigs[Me],delete this._layers[Me];this.familiesBySource={};const ve=I.ct(Object.values(this._layerConfigs),this.keyCache);for(const Me of ve){const We=Me.map(nt=>this._layers[nt.id]),me=We[0];if(me.visibility==="none")continue;const Je=me.source||"";let Ye=this.familiesBySource[Je];Ye||(Ye=this.familiesBySource[Je]={});const at=me.sourceLayer||"_geojsonTileLayer";let pt=Ye[at];pt||(pt=Ye[at]=[]),pt.push(We)}}}class V{constructor(ne){const oe={},ve=[];for(const Je in ne){const Ye=ne[Je],at=oe[Je]={};for(const pt in Ye){const nt=Ye[+pt];if(!nt||nt.bitmap.width===0||nt.bitmap.height===0)continue;const Rt={x:0,y:0,w:nt.bitmap.width+2,h:nt.bitmap.height+2};ve.push(Rt),at[pt]={rect:Rt,metrics:nt.metrics}}}const{w:Me,h:We}=I.p(ve),me=new I.q({width:Me||1,height:We||1});for(const Je in ne){const Ye=ne[Je];for(const at in Ye){const pt=Ye[+at];if(!pt||pt.bitmap.width===0||pt.bitmap.height===0)continue;const nt=oe[Je][at].rect;I.q.copy(pt.bitmap,me,{x:0,y:0},{x:nt.x+1,y:nt.y+1},pt.bitmap)}}this.image=me,this.positions=oe}}I.cu("GlyphAtlas",V);class q{constructor(ne){this.tileID=new I.Y(ne.tileID.overscaledZ,ne.tileID.wrap,ne.tileID.canonical.z,ne.tileID.canonical.x,ne.tileID.canonical.y),this.uid=ne.uid,this.zoom=ne.zoom,this.pixelRatio=ne.pixelRatio,this.tileSize=ne.tileSize,this.source=ne.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=ne.showCollisionBoxes,this.collectResourceTiming=!!ne.collectResourceTiming,this.returnDependencies=!!ne.returnDependencies,this.promoteId=ne.promoteId,this.inFlightDependencies=[]}parse(ne,oe,ve,Me,We){return I._(this,void 0,void 0,function*(){this.status="parsing",this.data=ne,this.collisionBoxArray=new I.a5;const me=new I.cv(Object.keys(ne.layers).sort()),Je=new I.cw(this.tileID,this.promoteId);Je.bucketLayerIDs=[];const Ye={},at={featureIndex:Je,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:ve,subdivisionGranularity:We},pt=oe.familiesBySource[this.source];for(const Ln in pt){const zt=ne.layers[Ln];if(!zt)continue;zt.version===1&&I.w(`Vector tile source "${this.source}" layer "${Ln}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Gn=me.encode(Ln),nr=[];for(let jr=0;jr<zt.length;jr++){const Vr=zt.feature(jr),Sa=Je.getId(Vr,Ln);nr.push({feature:Vr,id:Sa,index:jr,sourceLayerIndex:Gn})}for(const jr of pt[Ln]){const Vr=jr[0];Vr.source!==this.source&&I.w(`layer.source = ${Vr.source} does not equal this.source = ${this.source}`),Vr.minzoom&&this.zoom<Math.floor(Vr.minzoom)||Vr.maxzoom&&this.zoom>=Vr.maxzoom||Vr.visibility!=="none"&&(ue(jr,this.zoom,ve),(Ye[Vr.id]=Vr.createBucket({index:Je.bucketLayerIDs.length,layers:jr,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Gn,sourceID:this.source})).populate(nr,at,this.tileID.canonical),Je.bucketLayerIDs.push(jr.map(Sa=>Sa.id)))}}const nt=I.bF(at.glyphDependencies,Ln=>Object.keys(Ln).map(Number));this.inFlightDependencies.forEach(Ln=>Ln==null?void 0:Ln.abort()),this.inFlightDependencies=[];let Rt=Promise.resolve({});if(Object.keys(nt).length){const Ln=new AbortController;this.inFlightDependencies.push(Ln),Rt=Me.sendAsync({type:"GG",data:{stacks:nt,source:this.source,tileID:this.tileID,type:"glyphs"}},Ln)}const Jt=Object.keys(at.iconDependencies);let pn=Promise.resolve({});if(Jt.length){const Ln=new AbortController;this.inFlightDependencies.push(Ln),pn=Me.sendAsync({type:"GI",data:{icons:Jt,source:this.source,tileID:this.tileID,type:"icons"}},Ln)}const Tn=Object.keys(at.patternDependencies);let Xn=Promise.resolve({});if(Tn.length){const Ln=new AbortController;this.inFlightDependencies.push(Ln),Xn=Me.sendAsync({type:"GI",data:{icons:Tn,source:this.source,tileID:this.tileID,type:"patterns"}},Ln)}const[On,Ct,br]=yield Promise.all([Rt,pn,Xn]),fr=new V(On),wr=new I.cx(Ct,br);for(const Ln in Ye){const zt=Ye[Ln];zt instanceof I.a6?(ue(zt.layers,this.zoom,ve),I.cy({bucket:zt,glyphMap:On,glyphPositions:fr.positions,imageMap:Ct,imagePositions:wr.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical,subdivisionGranularity:at.subdivisionGranularity})):zt.hasPattern&&(zt instanceof I.cz||zt instanceof I.cA||zt instanceof I.cB)&&(ue(zt.layers,this.zoom,ve),zt.addFeatures(at,this.tileID.canonical,wr.patternPositions))}return this.status="done",{buckets:Object.values(Ye).filter(Ln=>!Ln.isEmpty()),featureIndex:Je,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:fr.image,imageAtlas:wr,glyphMap:this.returnDependencies?On:null,iconMap:this.returnDependencies?Ct:null,glyphPositions:this.returnDependencies?fr.positions:null}})}}function ue(Fe,ne,oe){const ve=new I.C(ne);for(const Me of Fe)Me.recalculate(ve,oe)}class te{constructor(ne,oe,ve){this.actor=ne,this.layerIndex=oe,this.availableImages=ve,this.fetching={},this.loading={},this.loaded={}}loadVectorTile(ne,oe){return I._(this,void 0,void 0,function*(){const ve=yield I.n(ne.request,oe);try{return{vectorTile:new I.cC.VectorTile(new I.cD(ve.data)),rawData:ve.data,cacheControl:ve.cacheControl,expires:ve.expires}}catch(Me){const We=new Uint8Array(ve.data);let me=`Unable to parse the tile at ${ne.request.url}, `;throw me+=We[0]===31&&We[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${Me.message}`,new Error(me)}})}loadTile(ne){return I._(this,void 0,void 0,function*(){const oe=ne.uid,ve=!!(ne&&ne.request&&ne.request.collectResourceTiming)&&new I.cE(ne.request),Me=new q(ne);this.loading[oe]=Me;const We=new AbortController;Me.abort=We;try{const me=yield this.loadVectorTile(ne,We);if(delete this.loading[oe],!me)return null;const Je=me.rawData,Ye={};me.expires&&(Ye.expires=me.expires),me.cacheControl&&(Ye.cacheControl=me.cacheControl);const at={};if(ve){const nt=ve.finish();nt&&(at.resourceTiming=JSON.parse(JSON.stringify(nt)))}Me.vectorTile=me.vectorTile;const pt=Me.parse(me.vectorTile,this.layerIndex,this.availableImages,this.actor,ne.subdivisionGranularity);this.loaded[oe]=Me,this.fetching[oe]={rawTileData:Je,cacheControl:Ye,resourceTiming:at};try{const nt=yield pt;return I.e({rawTileData:Je.slice(0)},nt,Ye,at)}finally{delete this.fetching[oe]}}catch(me){throw delete this.loading[oe],Me.status="done",this.loaded[oe]=Me,me}})}reloadTile(ne){return I._(this,void 0,void 0,function*(){const oe=ne.uid;if(!this.loaded||!this.loaded[oe])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");const ve=this.loaded[oe];if(ve.showCollisionBoxes=ne.showCollisionBoxes,ve.status==="parsing"){const Me=yield ve.parse(ve.vectorTile,this.layerIndex,this.availableImages,this.actor,ne.subdivisionGranularity);let We;if(this.fetching[oe]){const{rawTileData:me,cacheControl:Je,resourceTiming:Ye}=this.fetching[oe];delete this.fetching[oe],We=I.e({rawTileData:me.slice(0)},Me,Je,Ye)}else We=Me;return We}if(ve.status==="done"&&ve.vectorTile)return ve.parse(ve.vectorTile,this.layerIndex,this.availableImages,this.actor,ne.subdivisionGranularity)})}abortTile(ne){return I._(this,void 0,void 0,function*(){const oe=this.loading,ve=ne.uid;oe&&oe[ve]&&oe[ve].abort&&(oe[ve].abort.abort(),delete oe[ve])})}removeTile(ne){return I._(this,void 0,void 0,function*(){this.loaded&&this.loaded[ne.uid]&&delete this.loaded[ne.uid]})}}class ce{constructor(){this.loaded={}}loadTile(ne){return I._(this,void 0,void 0,function*(){const{uid:oe,encoding:ve,rawImageData:Me,redFactor:We,greenFactor:me,blueFactor:Je,baseShift:Ye}=ne,at=Me.width+2,pt=Me.height+2,nt=I.b(Me)?new I.R({width:at,height:pt},yield I.cF(Me,-1,-1,at,pt)):Me,Rt=new I.cG(oe,nt,ve,We,me,Je,Ye);return this.loaded=this.loaded||{},this.loaded[oe]=Rt,Rt})}removeTile(ne){const oe=this.loaded,ve=ne.uid;oe&&oe[ve]&&delete oe[ve]}}var ae,he,_e=function(){if(he)return ae;function Fe(oe,ve){if(oe.length!==0){ne(oe[0],ve);for(var Me=1;Me<oe.length;Me++)ne(oe[Me],!ve)}}function ne(oe,ve){for(var Me=0,We=0,me=0,Je=oe.length,Ye=Je-1;me<Je;Ye=me++){var at=(oe[me][0]-oe[Ye][0])*(oe[Ye][1]+oe[me][1]),pt=Me+at;We+=Math.abs(Me)>=Math.abs(at)?Me-pt+at:at-pt+Me,Me=pt}Me+We>=0!=!!ve&&oe.reverse()}return he=1,ae=function oe(ve,Me){var We,me=ve&&ve.type;if(me==="FeatureCollection")for(We=0;We<ve.features.length;We++)oe(ve.features[We],Me);else if(me==="GeometryCollection")for(We=0;We<ve.geometries.length;We++)oe(ve.geometries[We],Me);else if(me==="Feature")oe(ve.geometry,Me);else if(me==="Polygon")Fe(ve.coordinates,Me);else if(me==="MultiPolygon")for(We=0;We<ve.coordinates.length;We++)Fe(ve.coordinates[We],Me);return ve}}(),Pe=I.cH(_e);const Ze=I.cC.VectorTileFeature.prototype.toGeoJSON;class tt{constructor(ne){this._feature=ne,this.extent=I.Z,this.type=ne.type,this.properties=ne.tags,"id"in ne&&!isNaN(ne.id)&&(this.id=parseInt(ne.id,10))}loadGeometry(){if(this._feature.type===1){const ne=[];for(const oe of this._feature.geometry)ne.push([new I.P(oe[0],oe[1])]);return ne}{const ne=[];for(const oe of this._feature.geometry){const ve=[];for(const Me of oe)ve.push(new I.P(Me[0],Me[1]));ne.push(ve)}return ne}}toGeoJSON(ne,oe,ve){return Ze.call(this,ne,oe,ve)}}class ze{constructor(ne){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=I.Z,this.length=ne.length,this._features=ne}feature(ne){return new tt(this._features[ne])}}var Ae,Ge,$e,ot={exports:{}},Pt=function(){if($e)return ot.exports;$e=1;var Fe=I.cK(),ne=function(){if(Ge)return Ae;Ge=1;var pt=I.cI(),nt=I.cJ().VectorTileFeature;function Rt(pn,Tn){this.options=Tn||{},this.features=pn,this.length=pn.length}function Jt(pn,Tn){this.id=typeof pn.id=="number"?pn.id:void 0,this.type=pn.type,this.rawGeometry=pn.type===1?[pn.geometry]:pn.geometry,this.properties=pn.tags,this.extent=Tn||4096}return Ae=Rt,Rt.prototype.feature=function(pn){return new Jt(this.features[pn],this.options.extent)},Jt.prototype.loadGeometry=function(){var pn=this.rawGeometry;this.geometry=[];for(var Tn=0;Tn<pn.length;Tn++){for(var Xn=pn[Tn],On=[],Ct=0;Ct<Xn.length;Ct++)On.push(new pt(Xn[Ct][0],Xn[Ct][1]));this.geometry.push(On)}return this.geometry},Jt.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var pn=this.geometry,Tn=1/0,Xn=-1/0,On=1/0,Ct=-1/0,br=0;br<pn.length;br++)for(var fr=pn[br],wr=0;wr<fr.length;wr++){var Ln=fr[wr];Tn=Math.min(Tn,Ln.x),Xn=Math.max(Xn,Ln.x),On=Math.min(On,Ln.y),Ct=Math.max(Ct,Ln.y)}return[Tn,On,Xn,Ct]},Jt.prototype.toGeoJSON=nt.prototype.toGeoJSON,Ae}();function oe(pt){var nt=new Fe;return function(Rt,Jt){for(var pn in Rt.layers)Jt.writeMessage(3,ve,Rt.layers[pn])}(pt,nt),nt.finish()}function ve(pt,nt){var Rt;nt.writeVarintField(15,pt.version||1),nt.writeStringField(1,pt.name||""),nt.writeVarintField(5,pt.extent||4096);var Jt={keys:[],values:[],keycache:{},valuecache:{}};for(Rt=0;Rt<pt.length;Rt++)Jt.feature=pt.feature(Rt),nt.writeMessage(2,Me,Jt);var pn=Jt.keys;for(Rt=0;Rt<pn.length;Rt++)nt.writeStringField(3,pn[Rt]);var Tn=Jt.values;for(Rt=0;Rt<Tn.length;Rt++)nt.writeMessage(4,at,Tn[Rt])}function Me(pt,nt){var Rt=pt.feature;Rt.id!==void 0&&nt.writeVarintField(1,Rt.id),nt.writeMessage(2,We,pt),nt.writeVarintField(3,Rt.type),nt.writeMessage(4,Ye,Rt)}function We(pt,nt){var Rt=pt.feature,Jt=pt.keys,pn=pt.values,Tn=pt.keycache,Xn=pt.valuecache;for(var On in Rt.properties){var Ct=Rt.properties[On],br=Tn[On];if(Ct!==null){br===void 0&&(Jt.push(On),Tn[On]=br=Jt.length-1),nt.writeVarint(br);var fr=typeof Ct;fr!=="string"&&fr!=="boolean"&&fr!=="number"&&(Ct=JSON.stringify(Ct));var wr=fr+":"+Ct,Ln=Xn[wr];Ln===void 0&&(pn.push(Ct),Xn[wr]=Ln=pn.length-1),nt.writeVarint(Ln)}}}function me(pt,nt){return(nt<<3)+(7&pt)}function Je(pt){return pt<<1^pt>>31}function Ye(pt,nt){for(var Rt=pt.loadGeometry(),Jt=pt.type,pn=0,Tn=0,Xn=Rt.length,On=0;On<Xn;On++){var Ct=Rt[On],br=1;Jt===1&&(br=Ct.length),nt.writeVarint(me(1,br));for(var fr=Jt===3?Ct.length-1:Ct.length,wr=0;wr<fr;wr++){wr===1&&Jt!==1&&nt.writeVarint(me(2,fr-1));var Ln=Ct[wr].x-pn,zt=Ct[wr].y-Tn;nt.writeVarint(Je(Ln)),nt.writeVarint(Je(zt)),pn+=Ln,Tn+=zt}Jt===3&&nt.writeVarint(me(7,1))}}function at(pt,nt){var Rt=typeof pt;Rt==="string"?nt.writeStringField(1,pt):Rt==="boolean"?nt.writeBooleanField(7,pt):Rt==="number"&&(pt%1!=0?nt.writeDoubleField(3,pt):pt<0?nt.writeSVarintField(6,pt):nt.writeVarintField(5,pt))}return ot.exports=oe,ot.exports.fromVectorTileJs=oe,ot.exports.fromGeojsonVt=function(pt,nt){nt=nt||{};var Rt={};for(var Jt in pt)Rt[Jt]=new ne(pt[Jt].features,nt),Rt[Jt].name=Jt,Rt[Jt].version=nt.version,Rt[Jt].extent=nt.extent;return oe({layers:Rt})},ot.exports.GeoJSONWrapper=ne,ot.exports}(),Yt=I.cH(Pt);const ge={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Fe=>Fe},bt=Math.fround||(St=new Float32Array(1),Fe=>(St[0]=+Fe,St[0]));var St;const Bt=3,Wt=5,Ft=6;class Nt{constructor(ne){this.options=Object.assign(Object.create(ge),ne),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(ne){const{log:oe,minZoom:ve,maxZoom:Me}=this.options;oe&&console.time("total time");const We=`prepare ${ne.length} points`;oe&&console.time(We),this.points=ne;const me=[];for(let Ye=0;Ye<ne.length;Ye++){const at=ne[Ye];if(!at.geometry)continue;const[pt,nt]=at.geometry.coordinates,Rt=bt(mt(pt)),Jt=bt(jt(nt));me.push(Rt,Jt,1/0,Ye,-1,1),this.options.reduce&&me.push(0)}let Je=this.trees[Me+1]=this._createTree(me);oe&&console.timeEnd(We);for(let Ye=Me;Ye>=ve;Ye--){const at=+Date.now();Je=this.trees[Ye]=this._createTree(this._cluster(Je,Ye)),oe&&console.log("z%d: %d clusters in %dms",Ye,Je.numItems,+Date.now()-at)}return oe&&console.timeEnd("total time"),this}getClusters(ne,oe){let ve=((ne[0]+180)%360+360)%360-180;const Me=Math.max(-90,Math.min(90,ne[1]));let We=ne[2]===180?180:((ne[2]+180)%360+360)%360-180;const me=Math.max(-90,Math.min(90,ne[3]));if(ne[2]-ne[0]>=360)ve=-180,We=180;else if(ve>We){const nt=this.getClusters([ve,Me,180,me],oe),Rt=this.getClusters([-180,Me,We,me],oe);return nt.concat(Rt)}const Je=this.trees[this._limitZoom(oe)],Ye=Je.range(mt(ve),jt(me),mt(We),jt(Me)),at=Je.data,pt=[];for(const nt of Ye){const Rt=this.stride*nt;pt.push(at[Rt+Wt]>1?cn(at,Rt,this.clusterProps):this.points[at[Rt+Bt]])}return pt}getChildren(ne){const oe=this._getOriginId(ne),ve=this._getOriginZoom(ne),Me="No cluster with the specified id.",We=this.trees[ve];if(!We)throw new Error(Me);const me=We.data;if(oe*this.stride>=me.length)throw new Error(Me);const Je=this.options.radius/(this.options.extent*Math.pow(2,ve-1)),Ye=We.within(me[oe*this.stride],me[oe*this.stride+1],Je),at=[];for(const pt of Ye){const nt=pt*this.stride;me[nt+4]===ne&&at.push(me[nt+Wt]>1?cn(me,nt,this.clusterProps):this.points[me[nt+Bt]])}if(at.length===0)throw new Error(Me);return at}getLeaves(ne,oe,ve){const Me=[];return this._appendLeaves(Me,ne,oe=oe||10,ve=ve||0,0),Me}getTile(ne,oe,ve){const Me=this.trees[this._limitZoom(ne)],We=Math.pow(2,ne),{extent:me,radius:Je}=this.options,Ye=Je/me,at=(ve-Ye)/We,pt=(ve+1+Ye)/We,nt={features:[]};return this._addTileFeatures(Me.range((oe-Ye)/We,at,(oe+1+Ye)/We,pt),Me.data,oe,ve,We,nt),oe===0&&this._addTileFeatures(Me.range(1-Ye/We,at,1,pt),Me.data,We,ve,We,nt),oe===We-1&&this._addTileFeatures(Me.range(0,at,Ye/We,pt),Me.data,-1,ve,We,nt),nt.features.length?nt:null}getClusterExpansionZoom(ne){let oe=this._getOriginZoom(ne)-1;for(;oe<=this.options.maxZoom;){const ve=this.getChildren(ne);if(oe++,ve.length!==1)break;ne=ve[0].properties.cluster_id}return oe}_appendLeaves(ne,oe,ve,Me,We){const me=this.getChildren(oe);for(const Je of me){const Ye=Je.properties;if(Ye&&Ye.cluster?We+Ye.point_count<=Me?We+=Ye.point_count:We=this._appendLeaves(ne,Ye.cluster_id,ve,Me,We):We<Me?We++:ne.push(Je),ne.length===ve)break}return We}_createTree(ne){const oe=new I.aF(ne.length/this.stride|0,this.options.nodeSize,Float32Array);for(let ve=0;ve<ne.length;ve+=this.stride)oe.add(ne[ve],ne[ve+1]);return oe.finish(),oe.data=ne,oe}_addTileFeatures(ne,oe,ve,Me,We,me){for(const Je of ne){const Ye=Je*this.stride,at=oe[Ye+Wt]>1;let pt,nt,Rt;if(at)pt=yt(oe,Ye,this.clusterProps),nt=oe[Ye],Rt=oe[Ye+1];else{const Tn=this.points[oe[Ye+Bt]];pt=Tn.properties;const[Xn,On]=Tn.geometry.coordinates;nt=mt(Xn),Rt=jt(On)}const Jt={type:1,geometry:[[Math.round(this.options.extent*(nt*We-ve)),Math.round(this.options.extent*(Rt*We-Me))]],tags:pt};let pn;pn=at||this.options.generateId?oe[Ye+Bt]:this.points[oe[Ye+Bt]].id,pn!==void 0&&(Jt.id=pn),me.features.push(Jt)}}_limitZoom(ne){return Math.max(this.options.minZoom,Math.min(Math.floor(+ne),this.options.maxZoom+1))}_cluster(ne,oe){const{radius:ve,extent:Me,reduce:We,minPoints:me}=this.options,Je=ve/(Me*Math.pow(2,oe)),Ye=ne.data,at=[],pt=this.stride;for(let nt=0;nt<Ye.length;nt+=pt){if(Ye[nt+2]<=oe)continue;Ye[nt+2]=oe;const Rt=Ye[nt],Jt=Ye[nt+1],pn=ne.within(Ye[nt],Ye[nt+1],Je),Tn=Ye[nt+Wt];let Xn=Tn;for(const On of pn){const Ct=On*pt;Ye[Ct+2]>oe&&(Xn+=Ye[Ct+Wt])}if(Xn>Tn&&Xn>=me){let On,Ct=Rt*Tn,br=Jt*Tn,fr=-1;const wr=((nt/pt|0)<<5)+(oe+1)+this.points.length;for(const Ln of pn){const zt=Ln*pt;if(Ye[zt+2]<=oe)continue;Ye[zt+2]=oe;const Gn=Ye[zt+Wt];Ct+=Ye[zt]*Gn,br+=Ye[zt+1]*Gn,Ye[zt+4]=wr,We&&(On||(On=this._map(Ye,nt,!0),fr=this.clusterProps.length,this.clusterProps.push(On)),We(On,this._map(Ye,zt)))}Ye[nt+4]=wr,at.push(Ct/Xn,br/Xn,1/0,wr,-1,Xn),We&&at.push(fr)}else{for(let On=0;On<pt;On++)at.push(Ye[nt+On]);if(Xn>1)for(const On of pn){const Ct=On*pt;if(!(Ye[Ct+2]<=oe)){Ye[Ct+2]=oe;for(let br=0;br<pt;br++)at.push(Ye[Ct+br])}}}}return at}_getOriginId(ne){return ne-this.points.length>>5}_getOriginZoom(ne){return(ne-this.points.length)%32}_map(ne,oe,ve){if(ne[oe+Wt]>1){const me=this.clusterProps[ne[oe+Ft]];return ve?Object.assign({},me):me}const Me=this.points[ne[oe+Bt]].properties,We=this.options.map(Me);return ve&&We===Me?Object.assign({},We):We}}function cn(Fe,ne,oe){return{type:"Feature",id:Fe[ne+Bt],properties:yt(Fe,ne,oe),geometry:{type:"Point",coordinates:[(ve=Fe[ne],360*(ve-.5)),qe(Fe[ne+1])]}};var ve}function yt(Fe,ne,oe){const ve=Fe[ne+Wt],Me=ve>=1e4?`${Math.round(ve/1e3)}k`:ve>=1e3?Math.round(ve/100)/10+"k":ve,We=Fe[ne+Ft],me=We===-1?{}:Object.assign({},oe[We]);return Object.assign(me,{cluster:!0,cluster_id:Fe[ne+Bt],point_count:ve,point_count_abbreviated:Me})}function mt(Fe){return Fe/360+.5}function jt(Fe){const ne=Math.sin(Fe*Math.PI/180),oe=.5-.25*Math.log((1+ne)/(1-ne))/Math.PI;return oe<0?0:oe>1?1:oe}function qe(Fe){const ne=(180-360*Fe)*Math.PI/180;return 360*Math.atan(Math.exp(ne))/Math.PI-90}function Tt(Fe,ne,oe,ve){let Me=ve;const We=ne+(oe-ne>>1);let me,Je=oe-ne;const Ye=Fe[ne],at=Fe[ne+1],pt=Fe[oe],nt=Fe[oe+1];for(let Rt=ne+3;Rt<oe;Rt+=3){const Jt=mn(Fe[Rt],Fe[Rt+1],Ye,at,pt,nt);if(Jt>Me)me=Rt,Me=Jt;else if(Jt===Me){const pn=Math.abs(Rt-We);pn<Je&&(me=Rt,Je=pn)}}Me>ve&&(me-ne>3&&Tt(Fe,ne,me,ve),Fe[me+2]=Me,oe-me>3&&Tt(Fe,me,oe,ve))}function mn(Fe,ne,oe,ve,Me,We){let me=Me-oe,Je=We-ve;if(me!==0||Je!==0){const Ye=((Fe-oe)*me+(ne-ve)*Je)/(me*me+Je*Je);Ye>1?(oe=Me,ve=We):Ye>0&&(oe+=me*Ye,ve+=Je*Ye)}return me=Fe-oe,Je=ne-ve,me*me+Je*Je}function hn(Fe,ne,oe,ve){const Me={id:Fe??null,type:ne,geometry:oe,tags:ve,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if(ne==="Point"||ne==="MultiPoint"||ne==="LineString")kt(Me,oe);else if(ne==="Polygon")kt(Me,oe[0]);else if(ne==="MultiLineString")for(const We of oe)kt(Me,We);else if(ne==="MultiPolygon")for(const We of oe)kt(Me,We[0]);return Me}function kt(Fe,ne){for(let oe=0;oe<ne.length;oe+=3)Fe.minX=Math.min(Fe.minX,ne[oe]),Fe.minY=Math.min(Fe.minY,ne[oe+1]),Fe.maxX=Math.max(Fe.maxX,ne[oe]),Fe.maxY=Math.max(Fe.maxY,ne[oe+1])}function gn(Fe,ne,oe,ve){if(!ne.geometry)return;const Me=ne.geometry.coordinates;if(Me&&Me.length===0)return;const We=ne.geometry.type,me=Math.pow(oe.tolerance/((1<<oe.maxZoom)*oe.extent),2);let Je=[],Ye=ne.id;if(oe.promoteId?Ye=ne.properties[oe.promoteId]:oe.generateId&&(Ye=ve||0),We==="Point")wn(Me,Je);else if(We==="MultiPoint")for(const at of Me)wn(at,Je);else if(We==="LineString")Fn(Me,Je,me,!1);else if(We==="MultiLineString"){if(oe.lineMetrics){for(const at of Me)Je=[],Fn(at,Je,me,!1),Fe.push(hn(Ye,"LineString",Je,ne.properties));return}Rn(Me,Je,me,!1)}else if(We==="Polygon")Rn(Me,Je,me,!0);else{if(We!=="MultiPolygon"){if(We==="GeometryCollection"){for(const at of ne.geometry.geometries)gn(Fe,{id:Ye,geometry:at,properties:ne.properties},oe,ve);return}throw new Error("Input data is not a valid GeoJSON object.")}for(const at of Me){const pt=[];Rn(at,pt,me,!0),Je.push(pt)}}Fe.push(hn(Ye,We,Je,ne.properties))}function wn(Fe,ne){ne.push(An(Fe[0]),Nn(Fe[1]),0)}function Fn(Fe,ne,oe,ve){let Me,We,me=0;for(let Ye=0;Ye<Fe.length;Ye++){const at=An(Fe[Ye][0]),pt=Nn(Fe[Ye][1]);ne.push(at,pt,0),Ye>0&&(me+=ve?(Me*pt-at*We)/2:Math.sqrt(Math.pow(at-Me,2)+Math.pow(pt-We,2))),Me=at,We=pt}const Je=ne.length-3;ne[2]=1,Tt(ne,0,Je,oe),ne[Je+2]=1,ne.size=Math.abs(me),ne.start=0,ne.end=ne.size}function Rn(Fe,ne,oe,ve){for(let Me=0;Me<Fe.length;Me++){const We=[];Fn(Fe[Me],We,oe,ve),ne.push(We)}}function An(Fe){return Fe/360+.5}function Nn(Fe){const ne=Math.sin(Fe*Math.PI/180),oe=.5-.25*Math.log((1+ne)/(1-ne))/Math.PI;return oe<0?0:oe>1?1:oe}function Kn(Fe,ne,oe,ve,Me,We,me,Je){if(ve/=ne,We>=(oe/=ne)&&me<ve)return Fe;if(me<oe||We>=ve)return null;const Ye=[];for(const at of Fe){const pt=at.geometry;let nt=at.type;const Rt=Me===0?at.minX:at.minY,Jt=Me===0?at.maxX:at.maxY;if(Rt>=oe&&Jt<ve){Ye.push(at);continue}if(Jt<oe||Rt>=ve)continue;let pn=[];if(nt==="Point"||nt==="MultiPoint")Hn(pt,pn,oe,ve,Me);else if(nt==="LineString")yn(pt,pn,oe,ve,Me,!1,Je.lineMetrics);else if(nt==="MultiLineString")gi(pt,pn,oe,ve,Me,!1);else if(nt==="Polygon")gi(pt,pn,oe,ve,Me,!0);else if(nt==="MultiPolygon")for(const Tn of pt){const Xn=[];gi(Tn,Xn,oe,ve,Me,!0),Xn.length&&pn.push(Xn)}if(pn.length){if(Je.lineMetrics&&nt==="LineString"){for(const Tn of pn)Ye.push(hn(at.id,nt,Tn,at.tags));continue}nt!=="LineString"&&nt!=="MultiLineString"||(pn.length===1?(nt="LineString",pn=pn[0]):nt="MultiLineString"),nt!=="Point"&&nt!=="MultiPoint"||(nt=pn.length===3?"Point":"MultiPoint"),Ye.push(hn(at.id,nt,pn,at.tags))}}return Ye.length?Ye:null}function Hn(Fe,ne,oe,ve,Me){for(let We=0;We<Fe.length;We+=3){const me=Fe[We+Me];me>=oe&&me<=ve&&Ir(ne,Fe[We],Fe[We+1],Fe[We+2])}}function yn(Fe,ne,oe,ve,Me,We,me){let Je=yr(Fe);const Ye=Me===0?Yr:Li;let at,pt,nt=Fe.start;for(let Xn=0;Xn<Fe.length-3;Xn+=3){const On=Fe[Xn],Ct=Fe[Xn+1],br=Fe[Xn+2],fr=Fe[Xn+3],wr=Fe[Xn+4],Ln=Me===0?On:Ct,zt=Me===0?fr:wr;let Gn=!1;me&&(at=Math.sqrt(Math.pow(On-fr,2)+Math.pow(Ct-wr,2))),Ln<oe?zt>oe&&(pt=Ye(Je,On,Ct,fr,wr,oe),me&&(Je.start=nt+at*pt)):Ln>ve?zt<ve&&(pt=Ye(Je,On,Ct,fr,wr,ve),me&&(Je.start=nt+at*pt)):Ir(Je,On,Ct,br),zt<oe&&Ln>=oe&&(pt=Ye(Je,On,Ct,fr,wr,oe),Gn=!0),zt>ve&&Ln<=ve&&(pt=Ye(Je,On,Ct,fr,wr,ve),Gn=!0),!We&&Gn&&(me&&(Je.end=nt+at*pt),ne.push(Je),Je=yr(Fe)),me&&(nt+=at)}let Rt=Fe.length-3;const Jt=Fe[Rt],pn=Fe[Rt+1],Tn=Me===0?Jt:pn;Tn>=oe&&Tn<=ve&&Ir(Je,Jt,pn,Fe[Rt+2]),Rt=Je.length-3,We&&Rt>=3&&(Je[Rt]!==Je[0]||Je[Rt+1]!==Je[1])&&Ir(Je,Je[0],Je[1],Je[2]),Je.length&&ne.push(Je)}function yr(Fe){const ne=[];return ne.size=Fe.size,ne.start=Fe.start,ne.end=Fe.end,ne}function gi(Fe,ne,oe,ve,Me,We){for(const me of Fe)yn(me,ne,oe,ve,Me,We,!1)}function Ir(Fe,ne,oe,ve){Fe.push(ne,oe,ve)}function Yr(Fe,ne,oe,ve,Me,We){const me=(We-ne)/(ve-ne);return Ir(Fe,We,oe+(Me-oe)*me,1),me}function Li(Fe,ne,oe,ve,Me,We){const me=(We-oe)/(Me-oe);return Ir(Fe,ne+(ve-ne)*me,We,1),me}function vr(Fe,ne){const oe=[];for(let ve=0;ve<Fe.length;ve++){const Me=Fe[ve],We=Me.type;let me;if(We==="Point"||We==="MultiPoint"||We==="LineString")me=ur(Me.geometry,ne);else if(We==="MultiLineString"||We==="Polygon"){me=[];for(const Je of Me.geometry)me.push(ur(Je,ne))}else if(We==="MultiPolygon"){me=[];for(const Je of Me.geometry){const Ye=[];for(const at of Je)Ye.push(ur(at,ne));me.push(Ye)}}oe.push(hn(Me.id,We,me,Me.tags))}return oe}function ur(Fe,ne){const oe=[];oe.size=Fe.size,Fe.start!==void 0&&(oe.start=Fe.start,oe.end=Fe.end);for(let ve=0;ve<Fe.length;ve+=3)oe.push(Fe[ve]+ne,Fe[ve+1],Fe[ve+2]);return oe}function Cn(Fe,ne){if(Fe.transformed)return Fe;const oe=1<<Fe.z,ve=Fe.x,Me=Fe.y;for(const We of Fe.features){const me=We.geometry,Je=We.type;if(We.geometry=[],Je===1)for(let Ye=0;Ye<me.length;Ye+=2)We.geometry.push(Or(me[Ye],me[Ye+1],ne,oe,ve,Me));else for(let Ye=0;Ye<me.length;Ye++){const at=[];for(let pt=0;pt<me[Ye].length;pt+=2)at.push(Or(me[Ye][pt],me[Ye][pt+1],ne,oe,ve,Me));We.geometry.push(at)}}return Fe.transformed=!0,Fe}function Or(Fe,ne,oe,ve,Me,We){return[Math.round(oe*(Fe*ve-Me)),Math.round(oe*(ne*ve-We))]}function ni(Fe,ne,oe,ve,Me){const We=ne===Me.maxZoom?0:Me.tolerance/((1<<ne)*Me.extent),me={features:[],numPoints:0,numSimplified:0,numFeatures:Fe.length,source:null,x:oe,y:ve,z:ne,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(const Je of Fe)Wi(me,Je,We,Me);return me}function Wi(Fe,ne,oe,ve){const Me=ne.geometry,We=ne.type,me=[];if(Fe.minX=Math.min(Fe.minX,ne.minX),Fe.minY=Math.min(Fe.minY,ne.minY),Fe.maxX=Math.max(Fe.maxX,ne.maxX),Fe.maxY=Math.max(Fe.maxY,ne.maxY),We==="Point"||We==="MultiPoint")for(let Je=0;Je<Me.length;Je+=3)me.push(Me[Je],Me[Je+1]),Fe.numPoints++,Fe.numSimplified++;else if(We==="LineString")Ga(me,Me,Fe,oe,!1,!1);else if(We==="MultiLineString"||We==="Polygon")for(let Je=0;Je<Me.length;Je++)Ga(me,Me[Je],Fe,oe,We==="Polygon",Je===0);else if(We==="MultiPolygon")for(let Je=0;Je<Me.length;Je++){const Ye=Me[Je];for(let at=0;at<Ye.length;at++)Ga(me,Ye[at],Fe,oe,!0,at===0)}if(me.length){let Je=ne.tags||null;if(We==="LineString"&&ve.lineMetrics){Je={};for(const at in ne.tags)Je[at]=ne.tags[at];Je.mapbox_clip_start=Me.start/Me.size,Je.mapbox_clip_end=Me.end/Me.size}const Ye={geometry:me,type:We==="Polygon"||We==="MultiPolygon"?3:We==="LineString"||We==="MultiLineString"?2:1,tags:Je};ne.id!==null&&(Ye.id=ne.id),Fe.features.push(Ye)}}function Ga(Fe,ne,oe,ve,Me,We){const me=ve*ve;if(ve>0&&ne.size<(Me?me:ve))return void(oe.numPoints+=ne.length/3);const Je=[];for(let Ye=0;Ye<ne.length;Ye+=3)(ve===0||ne[Ye+2]>me)&&(oe.numSimplified++,Je.push(ne[Ye],ne[Ye+1])),oe.numPoints++;Me&&function(Ye,at){let pt=0;for(let nt=0,Rt=Ye.length,Jt=Rt-2;nt<Rt;Jt=nt,nt+=2)pt+=(Ye[nt]-Ye[Jt])*(Ye[nt+1]+Ye[Jt+1]);if(pt>0===at)for(let nt=0,Rt=Ye.length;nt<Rt/2;nt+=2){const Jt=Ye[nt],pn=Ye[nt+1];Ye[nt]=Ye[Rt-2-nt],Ye[nt+1]=Ye[Rt-1-nt],Ye[Rt-2-nt]=Jt,Ye[Rt-1-nt]=pn}}(Je,We),Fe.push(Je)}const Hi={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class Qr{constructor(ne,oe){const ve=(oe=this.options=function(We,me){for(const Je in me)We[Je]=me[Je];return We}(Object.create(Hi),oe)).debug;if(ve&&console.time("preprocess data"),oe.maxZoom<0||oe.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(oe.promoteId&&oe.generateId)throw new Error("promoteId and generateId cannot be used together.");let Me=function(We,me){const Je=[];if(We.type==="FeatureCollection")for(let Ye=0;Ye<We.features.length;Ye++)gn(Je,We.features[Ye],me,Ye);else gn(Je,We.type==="Feature"?We:{geometry:We},me);return Je}(ne,oe);this.tiles={},this.tileCoords=[],ve&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",oe.indexMaxZoom,oe.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Me=function(We,me){const Je=me.buffer/me.extent;let Ye=We;const at=Kn(We,1,-1-Je,Je,0,-1,2,me),pt=Kn(We,1,1-Je,2+Je,0,-1,2,me);return(at||pt)&&(Ye=Kn(We,1,-Je,1+Je,0,-1,2,me)||[],at&&(Ye=vr(at,1).concat(Ye)),pt&&(Ye=Ye.concat(vr(pt,-1)))),Ye}(Me,oe),Me.length&&this.splitTile(Me,0,0,0),ve&&(Me.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(ne,oe,ve,Me,We,me,Je){const Ye=[ne,oe,ve,Me],at=this.options,pt=at.debug;for(;Ye.length;){Me=Ye.pop(),ve=Ye.pop(),oe=Ye.pop(),ne=Ye.pop();const nt=1<<oe,Rt=Bi(oe,ve,Me);let Jt=this.tiles[Rt];if(!Jt&&(pt>1&&console.time("creation"),Jt=this.tiles[Rt]=ni(ne,oe,ve,Me,at),this.tileCoords.push({z:oe,x:ve,y:Me}),pt)){pt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",oe,ve,Me,Jt.numFeatures,Jt.numPoints,Jt.numSimplified),console.timeEnd("creation"));const Gn=`z${oe}`;this.stats[Gn]=(this.stats[Gn]||0)+1,this.total++}if(Jt.source=ne,We==null){if(oe===at.indexMaxZoom||Jt.numPoints<=at.indexMaxPoints)continue}else{if(oe===at.maxZoom||oe===We)continue;if(We!=null){const Gn=We-oe;if(ve!==me>>Gn||Me!==Je>>Gn)continue}}if(Jt.source=null,ne.length===0)continue;pt>1&&console.time("clipping");const pn=.5*at.buffer/at.extent,Tn=.5-pn,Xn=.5+pn,On=1+pn;let Ct=null,br=null,fr=null,wr=null,Ln=Kn(ne,nt,ve-pn,ve+Xn,0,Jt.minX,Jt.maxX,at),zt=Kn(ne,nt,ve+Tn,ve+On,0,Jt.minX,Jt.maxX,at);ne=null,Ln&&(Ct=Kn(Ln,nt,Me-pn,Me+Xn,1,Jt.minY,Jt.maxY,at),br=Kn(Ln,nt,Me+Tn,Me+On,1,Jt.minY,Jt.maxY,at),Ln=null),zt&&(fr=Kn(zt,nt,Me-pn,Me+Xn,1,Jt.minY,Jt.maxY,at),wr=Kn(zt,nt,Me+Tn,Me+On,1,Jt.minY,Jt.maxY,at),zt=null),pt>1&&console.timeEnd("clipping"),Ye.push(Ct||[],oe+1,2*ve,2*Me),Ye.push(br||[],oe+1,2*ve,2*Me+1),Ye.push(fr||[],oe+1,2*ve+1,2*Me),Ye.push(wr||[],oe+1,2*ve+1,2*Me+1)}}getTile(ne,oe,ve){ne=+ne,oe=+oe,ve=+ve;const Me=this.options,{extent:We,debug:me}=Me;if(ne<0||ne>24)return null;const Je=1<<ne,Ye=Bi(ne,oe=oe+Je&Je-1,ve);if(this.tiles[Ye])return Cn(this.tiles[Ye],We);me>1&&console.log("drilling down to z%d-%d-%d",ne,oe,ve);let at,pt=ne,nt=oe,Rt=ve;for(;!at&&pt>0;)pt--,nt>>=1,Rt>>=1,at=this.tiles[Bi(pt,nt,Rt)];return at&&at.source?(me>1&&(console.log("found parent tile z%d-%d-%d",pt,nt,Rt),console.time("drilling down")),this.splitTile(at.source,pt,nt,Rt,ne,oe,ve),me>1&&console.timeEnd("drilling down"),this.tiles[Ye]?Cn(this.tiles[Ye],We):null):null}}function Bi(Fe,ne,oe){return 32*((1<<Fe)*oe+ne)+Fe}function wi(Fe,ne){return ne?Fe.properties[ne]:Fe.id}function xr(Fe,ne){if(Fe==null)return!0;if(Fe.type==="Feature")return wi(Fe,ne)!=null;if(Fe.type==="FeatureCollection"){const oe=new Set;for(const ve of Fe.features){const Me=wi(ve,ne);if(Me==null||oe.has(Me))return!1;oe.add(Me)}return!0}return!1}function Ci(Fe,ne){const oe=new Map;if(Fe!=null)if(Fe.type==="Feature")oe.set(wi(Fe,ne),Fe);else for(const ve of Fe.features)oe.set(wi(ve,ne),ve);return oe}class ri extends te{constructor(){super(...arguments),this._dataUpdateable=new Map}loadVectorTile(ne,oe){return I._(this,void 0,void 0,function*(){const ve=ne.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");const Me=this._geoJSONIndex.getTile(ve.z,ve.x,ve.y);if(!Me)return null;const We=new ze(Me.features);let me=Yt(We);return me.byteOffset===0&&me.byteLength===me.buffer.byteLength||(me=new Uint8Array(me)),{vectorTile:We,rawData:me.buffer}})}loadData(ne){return I._(this,void 0,void 0,function*(){var oe;(oe=this._pendingRequest)===null||oe===void 0||oe.abort();const ve=!!(ne&&ne.request&&ne.request.collectResourceTiming)&&new I.cE(ne.request);this._pendingRequest=new AbortController;try{this._pendingData=this.loadAndProcessGeoJSON(ne,this._pendingRequest),this._geoJSONIndex=ne.cluster?new Nt(function({superclusterOptions:me,clusterProperties:Je}){if(!Je||!me)return me;const Ye={},at={},pt={accumulated:null,zoom:0},nt={properties:null},Rt=Object.keys(Je);for(const Jt of Rt){const[pn,Tn]=Je[Jt],Xn=I.cL(Tn),On=I.cL(typeof pn=="string"?[pn,["accumulated"],["get",Jt]]:pn);Ye[Jt]=Xn.value,at[Jt]=On.value}return me.map=Jt=>{nt.properties=Jt;const pn={};for(const Tn of Rt)pn[Tn]=Ye[Tn].evaluate(pt,nt);return pn},me.reduce=(Jt,pn)=>{nt.properties=pn;for(const Tn of Rt)pt.accumulated=Jt[Tn],Jt[Tn]=at[Tn].evaluate(pt,nt)},me}(ne)).load((yield this._pendingData).features):(Me=yield this._pendingData,new Qr(Me,ne.geojsonVtOptions)),this.loaded={};const We={};if(ve){const me=ve.finish();me&&(We.resourceTiming={},We.resourceTiming[ne.source]=JSON.parse(JSON.stringify(me)))}return We}catch(We){if(delete this._pendingRequest,I.cp(We))return{abandoned:!0};throw We}var Me})}getData(){return I._(this,void 0,void 0,function*(){return this._pendingData})}reloadTile(ne){const oe=this.loaded;return oe&&oe[ne.uid]?super.reloadTile(ne):this.loadTile(ne)}loadAndProcessGeoJSON(ne,oe){return I._(this,void 0,void 0,function*(){let ve=yield this.loadGeoJSON(ne,oe);if(delete this._pendingRequest,typeof ve!="object")throw new Error(`Input data given to '${ne.source}' is not a valid GeoJSON object.`);if(Pe(ve,!0),ne.filter){const Me=I.cL(ne.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(Me.result==="error")throw new Error(Me.value.map(me=>`${me.key}: ${me.message}`).join(", "));ve={type:"FeatureCollection",features:ve.features.filter(me=>Me.value.evaluate({zoom:0},me))}}return ve})}loadGeoJSON(ne,oe){return I._(this,void 0,void 0,function*(){const{promoteId:ve}=ne;if(ne.request){const Me=yield I.j(ne.request,oe);return this._dataUpdateable=xr(Me.data,ve)?Ci(Me.data,ve):void 0,Me.data}if(typeof ne.data=="string")try{const Me=JSON.parse(ne.data);return this._dataUpdateable=xr(Me,ve)?Ci(Me,ve):void 0,Me}catch{throw new Error(`Input data given to '${ne.source}' is not a valid GeoJSON object.`)}if(!ne.dataDiff)throw new Error(`Input data given to '${ne.source}' is not a valid GeoJSON object.`);if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${ne.source}`);return function(Me,We,me){var Je,Ye,at,pt;if(We.removeAll&&Me.clear(),We.remove)for(const nt of We.remove)Me.delete(nt);if(We.add)for(const nt of We.add){const Rt=wi(nt,me);Rt!=null&&Me.set(Rt,nt)}if(We.update)for(const nt of We.update){let Rt=Me.get(nt.id);if(Rt==null)continue;const Jt=!nt.removeAllProperties&&(((Je=nt.removeProperties)===null||Je===void 0?void 0:Je.length)>0||((Ye=nt.addOrUpdateProperties)===null||Ye===void 0?void 0:Ye.length)>0);if((nt.newGeometry||nt.removeAllProperties||Jt)&&(Rt=Object.assign({},Rt),Me.set(nt.id,Rt),Jt&&(Rt.properties=Object.assign({},Rt.properties))),nt.newGeometry&&(Rt.geometry=nt.newGeometry),nt.removeAllProperties)Rt.properties={};else if(((at=nt.removeProperties)===null||at===void 0?void 0:at.length)>0)for(const pn of nt.removeProperties)Object.prototype.hasOwnProperty.call(Rt.properties,pn)&&delete Rt.properties[pn];if(((pt=nt.addOrUpdateProperties)===null||pt===void 0?void 0:pt.length)>0)for(const{key:pn,value:Tn}of nt.addOrUpdateProperties)Rt.properties[pn]=Tn}}(this._dataUpdateable,ne.dataDiff,ve),{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())}})}removeSource(ne){return I._(this,void 0,void 0,function*(){this._pendingRequest&&this._pendingRequest.abort()})}getClusterExpansionZoom(ne){return this._geoJSONIndex.getClusterExpansionZoom(ne.clusterId)}getClusterChildren(ne){return this._geoJSONIndex.getChildren(ne.clusterId)}getClusterLeaves(ne){return this._geoJSONIndex.getLeaves(ne.clusterId,ne.limit,ne.offset)}}class _a{constructor(ne){this.self=ne,this.actor=new I.H(ne),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.self.registerWorkerSource=(oe,ve)=>{if(this.externalWorkerSourceTypes[oe])throw new Error(`Worker source with name "${oe}" already registered.`);this.externalWorkerSourceTypes[oe]=ve},this.self.addProtocol=I.cr,this.self.removeProtocol=I.cs,this.self.registerRTLTextPlugin=oe=>{I.cM.setMethods(oe)},this.actor.registerMessageHandler("LDT",(oe,ve)=>this._getDEMWorkerSource(oe,ve.source).loadTile(ve)),this.actor.registerMessageHandler("RDT",(oe,ve)=>I._(this,void 0,void 0,function*(){this._getDEMWorkerSource(oe,ve.source).removeTile(ve)})),this.actor.registerMessageHandler("GCEZ",(oe,ve)=>I._(this,void 0,void 0,function*(){return this._getWorkerSource(oe,ve.type,ve.source).getClusterExpansionZoom(ve)})),this.actor.registerMessageHandler("GCC",(oe,ve)=>I._(this,void 0,void 0,function*(){return this._getWorkerSource(oe,ve.type,ve.source).getClusterChildren(ve)})),this.actor.registerMessageHandler("GCL",(oe,ve)=>I._(this,void 0,void 0,function*(){return this._getWorkerSource(oe,ve.type,ve.source).getClusterLeaves(ve)})),this.actor.registerMessageHandler("LD",(oe,ve)=>this._getWorkerSource(oe,ve.type,ve.source).loadData(ve)),this.actor.registerMessageHandler("GD",(oe,ve)=>this._getWorkerSource(oe,ve.type,ve.source).getData()),this.actor.registerMessageHandler("LT",(oe,ve)=>this._getWorkerSource(oe,ve.type,ve.source).loadTile(ve)),this.actor.registerMessageHandler("RT",(oe,ve)=>this._getWorkerSource(oe,ve.type,ve.source).reloadTile(ve)),this.actor.registerMessageHandler("AT",(oe,ve)=>this._getWorkerSource(oe,ve.type,ve.source).abortTile(ve)),this.actor.registerMessageHandler("RMT",(oe,ve)=>this._getWorkerSource(oe,ve.type,ve.source).removeTile(ve)),this.actor.registerMessageHandler("RS",(oe,ve)=>I._(this,void 0,void 0,function*(){if(!this.workerSources[oe]||!this.workerSources[oe][ve.type]||!this.workerSources[oe][ve.type][ve.source])return;const Me=this.workerSources[oe][ve.type][ve.source];delete this.workerSources[oe][ve.type][ve.source],Me.removeSource!==void 0&&Me.removeSource(ve)})),this.actor.registerMessageHandler("RM",oe=>I._(this,void 0,void 0,function*(){delete this.layerIndexes[oe],delete this.availableImages[oe],delete this.workerSources[oe],delete this.demWorkerSources[oe]})),this.actor.registerMessageHandler("SR",(oe,ve)=>I._(this,void 0,void 0,function*(){this.referrer=ve})),this.actor.registerMessageHandler("SRPS",(oe,ve)=>this._syncRTLPluginState(oe,ve)),this.actor.registerMessageHandler("IS",(oe,ve)=>I._(this,void 0,void 0,function*(){this.self.importScripts(ve)})),this.actor.registerMessageHandler("SI",(oe,ve)=>this._setImages(oe,ve)),this.actor.registerMessageHandler("UL",(oe,ve)=>I._(this,void 0,void 0,function*(){this._getLayerIndex(oe).update(ve.layers,ve.removedIds)})),this.actor.registerMessageHandler("SL",(oe,ve)=>I._(this,void 0,void 0,function*(){this._getLayerIndex(oe).replace(ve)}))}_setImages(ne,oe){return I._(this,void 0,void 0,function*(){this.availableImages[ne]=oe;for(const ve in this.workerSources[ne]){const Me=this.workerSources[ne][ve];for(const We in Me)Me[We].availableImages=oe}})}_syncRTLPluginState(ne,oe){return I._(this,void 0,void 0,function*(){return yield I.cM.syncState(oe,this.self.importScripts)})}_getAvailableImages(ne){let oe=this.availableImages[ne];return oe||(oe=[]),oe}_getLayerIndex(ne){let oe=this.layerIndexes[ne];return oe||(oe=this.layerIndexes[ne]=new s),oe}_getWorkerSource(ne,oe,ve){if(this.workerSources[ne]||(this.workerSources[ne]={}),this.workerSources[ne][oe]||(this.workerSources[ne][oe]={}),!this.workerSources[ne][oe][ve]){const Me={sendAsync:(We,me)=>(We.targetMapId=ne,this.actor.sendAsync(We,me))};switch(oe){case"vector":this.workerSources[ne][oe][ve]=new te(Me,this._getLayerIndex(ne),this._getAvailableImages(ne));break;case"geojson":this.workerSources[ne][oe][ve]=new ri(Me,this._getLayerIndex(ne),this._getAvailableImages(ne));break;default:this.workerSources[ne][oe][ve]=new this.externalWorkerSourceTypes[oe](Me,this._getLayerIndex(ne),this._getAvailableImages(ne))}}return this.workerSources[ne][oe][ve]}_getDEMWorkerSource(ne,oe){return this.demWorkerSources[ne]||(this.demWorkerSources[ne]={}),this.demWorkerSources[ne][oe]||(this.demWorkerSources[ne][oe]=new ce),this.demWorkerSources[ne][oe]}}return I.i(self)&&(self.worker=new _a(self)),_a}),D("index",["exports","./shared"],function(I,s){var V="5.5.0";function q(){var m=new s.A(4);return s.A!=Float32Array&&(m[1]=0,m[2]=0),m[0]=1,m[3]=1,m}let ue,te;const ce={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(m,e,n){const u=requestAnimationFrame(y=>{f(),e(y)}),{unsubscribe:f}=s.s(m.signal,"abort",()=>{f(),cancelAnimationFrame(u),n(s.c())},!1)},frameAsync(m){return new Promise((e,n)=>{this.frame(m,e,n)})},getImageData(m,e=0){return this.getImageCanvasContext(m).getImageData(-e,-e,m.width+2*e,m.height+2*e)},getImageCanvasContext(m){const e=window.document.createElement("canvas"),n=e.getContext("2d",{willReadFrequently:!0});if(!n)throw new Error("failed to create canvas 2d context");return e.width=m.width,e.height=m.height,n.drawImage(m,0,0,m.width,m.height),n},resolveURL:m=>(ue||(ue=document.createElement("a")),ue.href=m,ue.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(te==null&&(te=matchMedia("(prefers-reduced-motion: reduce)")),te.matches)}};class ae{static testProp(e){if(!ae.docStyle)return e[0];for(let n=0;n<e.length;n++)if(e[n]in ae.docStyle)return e[n];return e[0]}static create(e,n,u){const f=window.document.createElement(e);return n!==void 0&&(f.className=n),u&&u.appendChild(f),f}static createNS(e,n){return window.document.createElementNS(e,n)}static disableDrag(){ae.docStyle&&ae.selectProp&&(ae.userSelect=ae.docStyle[ae.selectProp],ae.docStyle[ae.selectProp]="none")}static enableDrag(){ae.docStyle&&ae.selectProp&&(ae.docStyle[ae.selectProp]=ae.userSelect)}static setTransform(e,n){e.style[ae.transformProp]=n}static addEventListener(e,n,u,f={}){e.addEventListener(n,u,"passive"in f?f:f.capture)}static removeEventListener(e,n,u,f={}){e.removeEventListener(n,u,"passive"in f?f:f.capture)}static suppressClickInternal(e){e.preventDefault(),e.stopPropagation(),window.removeEventListener("click",ae.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",ae.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",ae.suppressClickInternal,!0)},0)}static getScale(e){const n=e.getBoundingClientRect();return{x:n.width/e.offsetWidth||1,y:n.height/e.offsetHeight||1,boundingClientRect:n}}static getPoint(e,n,u){const f=n.boundingClientRect;return new s.P((u.clientX-f.left)/n.x-e.clientLeft,(u.clientY-f.top)/n.y-e.clientTop)}static mousePos(e,n){const u=ae.getScale(e);return ae.getPoint(e,u,n)}static touchPos(e,n){const u=[],f=ae.getScale(e);for(let y=0;y<n.length;y++)u.push(ae.getPoint(e,f,n[y]));return u}static mouseButton(e){return e.button}static remove(e){e.parentNode&&e.parentNode.removeChild(e)}static sanitize(e){const n=new DOMParser().parseFromString(e,"text/html").body||document.createElement("body"),u=n.querySelectorAll("script");for(const f of u)f.remove();return ae.clean(n),n.innerHTML}static isPossiblyDangerous(e,n){const u=n.replace(/\s+/g,"").toLowerCase();return!(!["src","href","xlink:href"].includes(e)||!u.includes("javascript:")&&!u.includes("data:"))||!!e.startsWith("on")||void 0}static clean(e){const n=e.children;for(const u of n)ae.removeAttributes(u),ae.clean(u)}static removeAttributes(e){for(const{name:n,value:u}of e.attributes)ae.isPossiblyDangerous(n,u)&&e.removeAttribute(n)}}ae.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,ae.selectProp=ae.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),ae.transformProp=ae.testProp(["transform","WebkitTransform"]);const he={supported:!1,testSupport:function(m){!Ze&&Pe&&(tt?ze(m):_e=m)}};let _e,Pe,Ze=!1,tt=!1;function ze(m){const e=m.createTexture();m.bindTexture(m.TEXTURE_2D,e);try{if(m.texImage2D(m.TEXTURE_2D,0,m.RGBA,m.RGBA,m.UNSIGNED_BYTE,Pe),m.isContextLost())return;he.supported=!0}catch{}m.deleteTexture(e),Ze=!0}var Ae;typeof document<"u"&&(Pe=document.createElement("img"),Pe.onload=()=>{_e&&ze(_e),_e=null,tt=!0},Pe.onerror=()=>{Ze=!0,_e=null},Pe.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(m){let e,n,u,f;m.resetRequestQueue=()=>{e=[],n=0,u=0,f={}},m.addThrottleControl=k=>{const z=u++;return f[z]=k,z},m.removeThrottleControl=k=>{delete f[k],C()},m.getImage=(k,z,O=!0)=>new Promise((W,Z)=>{he.supported&&(k.headers||(k.headers={}),k.headers.accept="image/webp,*/*"),s.e(k,{type:"image"}),e.push({abortController:z,requestParameters:k,supportImageRefresh:O,state:"queued",onError:Q=>{Z(Q)},onSuccess:Q=>{W(Q)}}),C()});const y=k=>s._(this,void 0,void 0,function*(){k.state="running";const{requestParameters:z,supportImageRefresh:O,onError:W,onSuccess:Z,abortController:Q}=k,ie=O===!1&&!s.i(self)&&!s.g(z.url)&&(!z.headers||Object.keys(z.headers).reduce((De,ke)=>De&&ke==="accept",!0));n++;const Ce=ie?T(z,Q):s.m(z,Q);try{const De=yield Ce;delete k.abortController,k.state="completed",De.data instanceof HTMLImageElement||s.b(De.data)?Z(De):De.data&&Z({data:yield(we=De.data,typeof createImageBitmap=="function"?s.f(we):s.h(we)),cacheControl:De.cacheControl,expires:De.expires})}catch(De){delete k.abortController,W(De)}finally{n--,C()}var we}),C=()=>{const k=(()=>{for(const z of Object.keys(f))if(f[z]())return!0;return!1})()?s.a.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:s.a.MAX_PARALLEL_IMAGE_REQUESTS;for(let z=n;z<k&&e.length>0;z++){const O=e.shift();O.abortController.signal.aborted?z--:y(O)}},T=(k,z)=>new Promise((O,W)=>{const Z=new Image,Q=k.url,ie=k.credentials;ie&&ie==="include"?Z.crossOrigin="use-credentials":(ie&&ie==="same-origin"||!s.d(Q))&&(Z.crossOrigin="anonymous"),z.signal.addEventListener("abort",()=>{Z.src="",W(s.c())}),Z.fetchPriority="high",Z.onload=()=>{Z.onerror=Z.onload=null,O({data:Z})},Z.onerror=()=>{Z.onerror=Z.onload=null,z.signal.aborted||W(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},Z.src=Q})}(Ae||(Ae={})),Ae.resetRequestQueue();class Ge{constructor(e){this._transformRequestFn=e}transformRequest(e,n){return this._transformRequestFn&&this._transformRequestFn(e,n)||{url:e}}setTransformRequest(e){this._transformRequestFn=e}}function $e(m){const e=[];if(typeof m=="string")e.push({id:"default",url:m});else if(m&&m.length>0){const n=[];for(const{id:u,url:f}of m){const y=`${u}${f}`;n.indexOf(y)===-1&&(n.push(y),e.push({id:u,url:f}))}}return e}function ot(m,e,n){try{const u=new URL(m);return u.pathname+=`${e}${n}`,u.toString()}catch{throw new Error(`Invalid sprite URL "${m}", must be absolute. Modify style specification directly or use TransformStyleFunction to correct the issue dynamically`)}}class Pt{constructor(e,n,u,f){this.context=e,this.format=u,this.texture=e.gl.createTexture(),this.update(n,f)}update(e,n,u){const{width:f,height:y}=e,C=!(this.size&&this.size[0]===f&&this.size[1]===y||u),{context:T}=this,{gl:k}=T;if(this.useMipmap=!!(n&&n.useMipmap),k.bindTexture(k.TEXTURE_2D,this.texture),T.pixelStoreUnpackFlipY.set(!1),T.pixelStoreUnpack.set(1),T.pixelStoreUnpackPremultiplyAlpha.set(this.format===k.RGBA&&(!n||n.premultiply!==!1)),C)this.size=[f,y],e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement||e instanceof ImageData||s.b(e)?k.texImage2D(k.TEXTURE_2D,0,this.format,this.format,k.UNSIGNED_BYTE,e):k.texImage2D(k.TEXTURE_2D,0,this.format,f,y,0,this.format,k.UNSIGNED_BYTE,e.data);else{const{x:z,y:O}=u||{x:0,y:0};e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement||e instanceof ImageData||s.b(e)?k.texSubImage2D(k.TEXTURE_2D,0,z,O,k.RGBA,k.UNSIGNED_BYTE,e):k.texSubImage2D(k.TEXTURE_2D,0,z,O,f,y,k.RGBA,k.UNSIGNED_BYTE,e.data)}this.useMipmap&&this.isSizePowerOfTwo()&&k.generateMipmap(k.TEXTURE_2D),T.pixelStoreUnpackFlipY.setDefault(),T.pixelStoreUnpack.setDefault(),T.pixelStoreUnpackPremultiplyAlpha.setDefault()}bind(e,n,u){const{context:f}=this,{gl:y}=f;y.bindTexture(y.TEXTURE_2D,this.texture),u!==y.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(u=y.LINEAR),e!==this.filter&&(y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MAG_FILTER,e),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MIN_FILTER,u||e),this.filter=e),n!==this.wrap&&(y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_S,n),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_T,n),this.wrap=n)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:e}=this.context;e.deleteTexture(this.texture),this.texture=null}}function Yt(m){const{userImage:e}=m;return!!(e&&e.render&&e.render())&&(m.data.replace(new Uint8Array(e.data.buffer)),!0)}class ge extends s.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new s.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(e){if(this.loaded!==e&&(this.loaded=e,e)){for(const{ids:n,promiseResolve:u}of this.requestors)u(this._getImagesForIds(n));this.requestors=[]}}getImage(e){const n=this.images[e];if(n&&!n.data&&n.spriteData){const u=n.spriteData;n.data=new s.R({width:u.width,height:u.height},u.context.getImageData(u.x,u.y,u.width,u.height).data),n.spriteData=null}return n}addImage(e,n){if(this.images[e])throw new Error(`Image id ${e} already exist, use updateImage instead`);this._validate(e,n)&&(this.images[e]=n)}_validate(e,n){let u=!0;const f=n.data||n.spriteData;return this._validateStretch(n.stretchX,f&&f.width)||(this.fire(new s.k(new Error(`Image "${e}" has invalid "stretchX" value`))),u=!1),this._validateStretch(n.stretchY,f&&f.height)||(this.fire(new s.k(new Error(`Image "${e}" has invalid "stretchY" value`))),u=!1),this._validateContent(n.content,n)||(this.fire(new s.k(new Error(`Image "${e}" has invalid "content" value`))),u=!1),u}_validateStretch(e,n){if(!e)return!0;let u=0;for(const f of e){if(f[0]<u||f[1]<f[0]||n<f[1])return!1;u=f[1]}return!0}_validateContent(e,n){if(!e)return!0;if(e.length!==4)return!1;const u=n.spriteData,f=u&&u.width||n.data.width,y=u&&u.height||n.data.height;return!(e[0]<0||f<e[0]||e[1]<0||y<e[1]||e[2]<0||f<e[2]||e[3]<0||y<e[3]||e[2]<e[0]||e[3]<e[1])}updateImage(e,n,u=!0){const f=this.getImage(e);if(u&&(f.data.width!==n.data.width||f.data.height!==n.data.height))throw new Error(`size mismatch between old image (${f.data.width}x${f.data.height}) and new image (${n.data.width}x${n.data.height}).`);n.version=f.version+1,this.images[e]=n,this.updatedImages[e]=!0}removeImage(e){const n=this.images[e];delete this.images[e],delete this.patterns[e],n.userImage&&n.userImage.onRemove&&n.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(e){return new Promise((n,u)=>{let f=!0;if(!this.isLoaded())for(const y of e)this.images[y]||(f=!1);this.isLoaded()||f?n(this._getImagesForIds(e)):this.requestors.push({ids:e,promiseResolve:n})})}_getImagesForIds(e){const n={};for(const u of e){let f=this.getImage(u);f||(this.fire(new s.l("styleimagemissing",{id:u})),f=this.getImage(u)),f?n[u]={data:f.data.clone(),pixelRatio:f.pixelRatio,sdf:f.sdf,version:f.version,stretchX:f.stretchX,stretchY:f.stretchY,content:f.content,textFitWidth:f.textFitWidth,textFitHeight:f.textFitHeight,hasRenderCallback:!!(f.userImage&&f.userImage.render)}:s.w(`Image "${u}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return n}getPixelSize(){const{width:e,height:n}=this.atlasImage;return{width:e,height:n}}getPattern(e){const n=this.patterns[e],u=this.getImage(e);if(!u)return null;if(n&&n.position.version===u.version)return n.position;if(n)n.position.version=u.version;else{const f={w:u.data.width+2,h:u.data.height+2,x:0,y:0},y=new s.I(f,u);this.patterns[e]={bin:f,position:y}}return this._updatePatternAtlas(),this.patterns[e].position}bind(e){const n=e.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new Pt(e,this.atlasImage,n.RGBA),this.atlasTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)}_updatePatternAtlas(){const e=[];for(const y in this.patterns)e.push(this.patterns[y].bin);const{w:n,h:u}=s.p(e),f=this.atlasImage;f.resize({width:n||1,height:u||1});for(const y in this.patterns){const{bin:C}=this.patterns[y],T=C.x+1,k=C.y+1,z=this.getImage(y).data,O=z.width,W=z.height;s.R.copy(z,f,{x:0,y:0},{x:T,y:k},{width:O,height:W}),s.R.copy(z,f,{x:0,y:W-1},{x:T,y:k-1},{width:O,height:1}),s.R.copy(z,f,{x:0,y:0},{x:T,y:k+W},{width:O,height:1}),s.R.copy(z,f,{x:O-1,y:0},{x:T-1,y:k},{width:1,height:W}),s.R.copy(z,f,{x:0,y:0},{x:T+O,y:k},{width:1,height:W})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(e){for(const n of e){if(this.callbackDispatchedThisFrame[n])continue;this.callbackDispatchedThisFrame[n]=!0;const u=this.getImage(n);u||s.w(`Image with ID: "${n}" was not found`),Yt(u)&&this.updateImage(n,u)}}}const bt=1e20;function St(m,e,n,u,f,y,C,T,k){for(let z=e;z<e+u;z++)Bt(m,n*y+z,y,f,C,T,k);for(let z=n;z<n+f;z++)Bt(m,z*y+e,1,u,C,T,k)}function Bt(m,e,n,u,f,y,C){y[0]=0,C[0]=-1e20,C[1]=bt,f[0]=m[e];for(let T=1,k=0,z=0;T<u;T++){f[T]=m[e+T*n];const O=T*T;do{const W=y[k];z=(f[T]-f[W]+O-W*W)/(T-W)/2}while(z<=C[k]&&--k>-1);k++,y[k]=T,C[k]=z,C[k+1]=bt}for(let T=0,k=0;T<u;T++){for(;C[k+1]<T;)k++;const z=y[k],O=T-z;m[e+T*n]=f[z]+O*O}}class Wt{constructor(e,n){this.requestManager=e,this.localIdeographFontFamily=n,this.entries={}}setURL(e){this.url=e}getGlyphs(e){return s._(this,void 0,void 0,function*(){const n=[];for(const y in e)for(const C of e[y])n.push(this._getAndCacheGlyphsPromise(y,C));const u=yield Promise.all(n),f={};for(const{stack:y,id:C,glyph:T}of u)f[y]||(f[y]={}),f[y][C]=T&&{id:T.id,bitmap:T.bitmap.clone(),metrics:T.metrics};return f})}_getAndCacheGlyphsPromise(e,n){return s._(this,void 0,void 0,function*(){let u=this.entries[e];u||(u=this.entries[e]={glyphs:{},requests:{},ranges:{}});let f=u.glyphs[n];if(f!==void 0)return{stack:e,id:n,glyph:f};if(f=this._tinySDF(u,e,n),f)return u.glyphs[n]=f,{stack:e,id:n,glyph:f};const y=Math.floor(n/256);if(256*y>65535)throw new Error("glyphs > 65535 not supported");if(u.ranges[y])return{stack:e,id:n,glyph:f};if(!this.url)throw new Error("glyphsUrl is not set");if(!u.requests[y]){const T=Wt.loadGlyphRange(e,y,this.url,this.requestManager);u.requests[y]=T}const C=yield u.requests[y];for(const T in C)this._doesCharSupportLocalGlyph(+T)||(u.glyphs[+T]=C[+T]);return u.ranges[y]=!0,{stack:e,id:n,glyph:C[n]||null}})}_doesCharSupportLocalGlyph(e){return!!this.localIdeographFontFamily&&(new RegExp("\\p{Ideo}|\\p{sc=Hang}|\\p{sc=Hira}|\\p{sc=Kana}","u").test(String.fromCodePoint(e))||s.u["CJK Unified Ideographs"](e)||s.u["Hangul Syllables"](e)||s.u.Hiragana(e)||s.u.Katakana(e)||s.u["CJK Symbols and Punctuation"](e)||s.u["Halfwidth and Fullwidth Forms"](e))}_tinySDF(e,n,u){const f=this.localIdeographFontFamily;if(!f||!this._doesCharSupportLocalGlyph(u))return;let y=e.tinySDF;if(!y){let T="400";/bold/i.test(n)?T="900":/medium/i.test(n)?T="500":/light/i.test(n)&&(T="200"),y=e.tinySDF=new Wt.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:f,fontWeight:T})}const C=y.draw(String.fromCharCode(u));return{id:u,bitmap:new s.q({width:C.width||60,height:C.height||60},C.data),metrics:{width:C.glyphWidth/2||24,height:C.glyphHeight/2||24,left:C.glyphLeft/2+.5||0,top:C.glyphTop/2-27.5||-8,advance:C.glyphAdvance/2||24,isDoubleResolution:!0}}}}Wt.loadGlyphRange=function(m,e,n,u){return s._(this,void 0,void 0,function*(){const f=256*e,y=f+255,C=u.transformRequest(n.replace("{fontstack}",m).replace("{range}",`${f}-${y}`),"Glyphs"),T=yield s.n(C,new AbortController);if(!T||!T.data)throw new Error(`Could not load glyph range. range: ${e}, ${f}-${y}`);const k={};for(const z of s.o(T.data))k[z.id]=z;return k})},Wt.TinySDF=class{constructor({fontSize:m=24,buffer:e=3,radius:n=8,cutoff:u=.25,fontFamily:f="sans-serif",fontWeight:y="normal",fontStyle:C="normal"}={}){this.buffer=e,this.cutoff=u,this.radius=n;const T=this.size=m+4*e,k=this._createCanvas(T),z=this.ctx=k.getContext("2d",{willReadFrequently:!0});z.font=`${C} ${y} ${m}px ${f}`,z.textBaseline="alphabetic",z.textAlign="left",z.fillStyle="black",this.gridOuter=new Float64Array(T*T),this.gridInner=new Float64Array(T*T),this.f=new Float64Array(T),this.z=new Float64Array(T+1),this.v=new Uint16Array(T)}_createCanvas(m){const e=document.createElement("canvas");return e.width=e.height=m,e}draw(m){const{width:e,actualBoundingBoxAscent:n,actualBoundingBoxDescent:u,actualBoundingBoxLeft:f,actualBoundingBoxRight:y}=this.ctx.measureText(m),C=Math.ceil(n),T=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(y-f))),k=Math.min(this.size-this.buffer,C+Math.ceil(u)),z=T+2*this.buffer,O=k+2*this.buffer,W=Math.max(z*O,0),Z=new Uint8ClampedArray(W),Q={data:Z,width:z,height:O,glyphWidth:T,glyphHeight:k,glyphTop:C,glyphLeft:0,glyphAdvance:e};if(T===0||k===0)return Q;const{ctx:ie,buffer:Ce,gridInner:we,gridOuter:De}=this;ie.clearRect(Ce,Ce,T,k),ie.fillText(m,Ce,Ce+C);const ke=ie.getImageData(Ce,Ce,T,k);De.fill(bt,0,W),we.fill(0,0,W);for(let Le=0;Le<k;Le++)for(let Ee=0;Ee<T;Ee++){const Be=ke.data[4*(Le*T+Ee)+3]/255;if(Be===0)continue;const je=(Le+Ce)*z+Ee+Ce;if(Be===1)De[je]=0,we[je]=bt;else{const Ve=.5-Be;De[je]=Ve>0?Ve*Ve:0,we[je]=Ve<0?Ve*Ve:0}}St(De,0,0,z,O,z,this.f,this.v,this.z),St(we,Ce,Ce,T,k,z,this.f,this.v,this.z);for(let Le=0;Le<W;Le++){const Ee=Math.sqrt(De[Le])-Math.sqrt(we[Le]);Z[Le]=Math.round(255-255*(Ee/this.radius+this.cutoff))}return Q}};class Ft{constructor(){this.specification=s.v.light.position}possiblyEvaluate(e,n){return s.z(e.expression.evaluate(n))}interpolate(e,n,u){return{x:s.B.number(e.x,n.x,u),y:s.B.number(e.y,n.y,u),z:s.B.number(e.z,n.z,u)}}}let Nt;class cn extends s.E{constructor(e){super(),Nt=Nt||new s.r({anchor:new s.D(s.v.light.anchor),position:new Ft,color:new s.D(s.v.light.color),intensity:new s.D(s.v.light.intensity)}),this._transitionable=new s.T(Nt),this.setLight(e),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(e,n={}){if(!this._validate(s.t,e,n))for(const u in e){const f=e[u];u.endsWith("-transition")?this._transitionable.setTransition(u.slice(0,-11),f):this._transitionable.setValue(u,f)}}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}_validate(e,n,u){return(!u||u.validate!==!1)&&s.x(this,e.call(s.y,{value:n,style:{glyphs:!0,sprite:!0},styleSpec:s.v}))}}const yt=new s.r({"sky-color":new s.D(s.v.sky["sky-color"]),"horizon-color":new s.D(s.v.sky["horizon-color"]),"fog-color":new s.D(s.v.sky["fog-color"]),"fog-ground-blend":new s.D(s.v.sky["fog-ground-blend"]),"horizon-fog-blend":new s.D(s.v.sky["horizon-fog-blend"]),"sky-horizon-blend":new s.D(s.v.sky["sky-horizon-blend"]),"atmosphere-blend":new s.D(s.v.sky["atmosphere-blend"])});class mt extends s.E{constructor(e){super(),this._transitionable=new s.T(yt),this.setSky(e),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new s.C(0))}setSky(e,n={}){if(!this._validate(s.F,e,n)){e||(e={"sky-color":"transparent","horizon-color":"transparent","fog-color":"transparent","fog-ground-blend":1,"atmosphere-blend":0});for(const u in e){const f=e[u];u.endsWith("-transition")?this._transitionable.setTransition(u.slice(0,-11),f):this._transitionable.setValue(u,f)}}}getSky(){return this._transitionable.serialize()}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}_validate(e,n,u={}){return(u==null?void 0:u.validate)!==!1&&s.x(this,e.call(s.y,s.e({value:n,style:{glyphs:!0,sprite:!0},styleSpec:s.v})))}calculateFogBlendOpacity(e){return e<60?0:e<70?(e-60)/10:1}}class jt{constructor(e,n){this.width=e,this.height=n,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(e,n){const u=e.join(",")+String(n);return this.dashEntry[u]||(this.dashEntry[u]=this.addDash(e,n)),this.dashEntry[u]}getDashRanges(e,n,u){const f=[];let y=e.length%2==1?-e[e.length-1]*u:0,C=e[0]*u,T=!0;f.push({left:y,right:C,isDash:T,zeroLength:e[0]===0});let k=e[0];for(let z=1;z<e.length;z++){T=!T;const O=e[z];y=k*u,k+=O,C=k*u,f.push({left:y,right:C,isDash:T,zeroLength:O===0})}return f}addRoundDash(e,n,u){const f=n/2;for(let y=-u;y<=u;y++){const C=this.width*(this.nextRow+u+y);let T=0,k=e[T];for(let z=0;z<this.width;z++){z/k.right>1&&(k=e[++T]);const O=Math.abs(z-k.left),W=Math.abs(z-k.right),Z=Math.min(O,W);let Q;const ie=y/u*(f+1);if(k.isDash){const Ce=f-Math.abs(ie);Q=Math.sqrt(Z*Z+Ce*Ce)}else Q=f-Math.sqrt(Z*Z+ie*ie);this.data[C+z]=Math.max(0,Math.min(255,Q+128))}}}addRegularDash(e){for(let T=e.length-1;T>=0;--T){const k=e[T],z=e[T+1];k.zeroLength?e.splice(T,1):z&&z.isDash===k.isDash&&(z.left=k.left,e.splice(T,1))}const n=e[0],u=e[e.length-1];n.isDash===u.isDash&&(n.left=u.left-this.width,u.right=n.right+this.width);const f=this.width*this.nextRow;let y=0,C=e[y];for(let T=0;T<this.width;T++){T/C.right>1&&(C=e[++y]);const k=Math.abs(T-C.left),z=Math.abs(T-C.right),O=Math.min(k,z);this.data[f+T]=Math.max(0,Math.min(255,(C.isDash?O:-O)+128))}}addDash(e,n){const u=n?7:0,f=2*u+1;if(this.nextRow+f>this.height)return s.w("LineAtlas out of space"),null;let y=0;for(let T=0;T<e.length;T++)y+=e[T];if(y!==0){const T=this.width/y,k=this.getDashRanges(e,this.width,T);n?this.addRoundDash(k,T,u):this.addRegularDash(k)}const C={y:(this.nextRow+u+.5)/this.height,height:2*u/this.height,width:y};return this.nextRow+=f,this.dirty=!0,C}bind(e){const n=e.gl;this.texture?(n.bindTexture(n.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,n.texSubImage2D(n.TEXTURE_2D,0,0,0,this.width,this.height,n.ALPHA,n.UNSIGNED_BYTE,this.data))):(this.texture=n.createTexture(),n.bindTexture(n.TEXTURE_2D,this.texture),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.REPEAT),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.REPEAT),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texImage2D(n.TEXTURE_2D,0,n.ALPHA,this.width,this.height,0,n.ALPHA,n.UNSIGNED_BYTE,this.data))}}const qe="maplibre_preloaded_worker_pool";class Tt{constructor(){this.active={}}acquire(e){if(!this.workers)for(this.workers=[];this.workers.length<Tt.workerCount;)this.workers.push(new Worker(s.a.WORKER_URL));return this.active[e]=!0,this.workers.slice()}release(e){delete this.active[e],this.numActive()===0&&(this.workers.forEach(n=>{n.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[qe]}numActive(){return Object.keys(this.active).length}}const mn=Math.floor(ce.hardwareConcurrency/2);let hn,kt;function gn(){return hn||(hn=new Tt),hn}Tt.workerCount=s.G(globalThis)?Math.max(Math.min(mn,3),1):1;class wn{constructor(e,n){this.workerPool=e,this.actors=[],this.currentActor=0,this.id=n;const u=this.workerPool.acquire(n);for(let f=0;f<u.length;f++){const y=new s.H(u[f],n);y.name=`Worker ${f}`,this.actors.push(y)}if(!this.actors.length)throw new Error("No actors found")}broadcast(e,n){const u=[];for(const f of this.actors)u.push(f.sendAsync({type:e,data:n}));return Promise.all(u)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(e=!0){this.actors.forEach(n=>{n.remove()}),this.actors=[],e&&this.workerPool.release(this.id)}registerMessageHandler(e,n){for(const u of this.actors)u.registerMessageHandler(e,n)}}function Fn(){return kt||(kt=new wn(gn(),s.J),kt.registerMessageHandler("GR",(m,e,n)=>s.m(e,n))),kt}function Rn(m,e){const n=s.K();return s.L(n,n,[1,1,0]),s.M(n,n,[.5*m.width,.5*m.height,1]),m.calculatePosMatrix?s.N(n,n,m.calculatePosMatrix(e.toUnwrapped())):n}function An(m,e,n,u,f,y,C){var T;const k=function(Z,Q,ie){if(Z)for(const Ce of Z){const we=Q[Ce];if(we&&we.source===ie&&we.type==="fill-extrusion")return!0}else for(const Ce in Q){const we=Q[Ce];if(we.source===ie&&we.type==="fill-extrusion")return!0}return!1}((T=f==null?void 0:f.layers)!==null&&T!==void 0?T:null,e,m.id),z=y.maxPitchScaleFactor(),O=m.tilesIn(u,z,k);O.sort(Nn);const W=[];for(const Z of O)W.push({wrappedTileID:Z.tileID.wrapped().key,queryResults:Z.tile.queryRenderedFeatures(e,n,m._state,Z.queryGeometry,Z.cameraQueryGeometry,Z.scale,f,y,z,Rn(m.transform,Z.tileID),C?(Q,ie)=>C(Z.tileID,Q,ie):void 0)});return function(Z,Q){for(const ie in Z)for(const Ce of Z[ie])Kn(Ce,Q);return Z}(function(Z){const Q={},ie={};for(const Ce of Z){const we=Ce.queryResults,De=Ce.wrappedTileID,ke=ie[De]=ie[De]||{};for(const Le in we){const Ee=we[Le],Be=ke[Le]=ke[Le]||{},je=Q[Le]=Q[Le]||[];for(const Ve of Ee)Be[Ve.featureIndex]||(Be[Ve.featureIndex]=!0,je.push(Ve))}}return Q}(W),m)}function Nn(m,e){const n=m.tileID,u=e.tileID;return n.overscaledZ-u.overscaledZ||n.canonical.y-u.canonical.y||n.wrap-u.wrap||n.canonical.x-u.canonical.x}function Kn(m,e){const n=m.feature,u=e.getFeatureState(n.layer["source-layer"],n.id);n.source=n.layer.source,n.layer["source-layer"]&&(n.sourceLayer=n.layer["source-layer"]),n.state=u}function Hn(m,e,n){return s._(this,void 0,void 0,function*(){let u=m;if(m.url?u=(yield s.j(e.transformRequest(m.url,"Source"),n)).data:yield ce.frameAsync(n),!u)return null;const f=s.O(s.e(u,m),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in u&&u.vector_layers&&(f.vectorLayerIds=u.vector_layers.map(y=>y.id)),f})}class yn{constructor(e,n){e&&(n?this.setSouthWest(e).setNorthEast(n):Array.isArray(e)&&(e.length===4?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1])))}setNorthEast(e){return this._ne=e instanceof s.Q?new s.Q(e.lng,e.lat):s.Q.convert(e),this}setSouthWest(e){return this._sw=e instanceof s.Q?new s.Q(e.lng,e.lat):s.Q.convert(e),this}extend(e){const n=this._sw,u=this._ne;let f,y;if(e instanceof s.Q)f=e,y=e;else{if(!(e instanceof yn))return Array.isArray(e)?e.length===4||e.every(Array.isArray)?this.extend(yn.convert(e)):this.extend(s.Q.convert(e)):e&&("lng"in e||"lon"in e)&&"lat"in e?this.extend(s.Q.convert(e)):this;if(f=e._sw,y=e._ne,!f||!y)return this}return n||u?(n.lng=Math.min(f.lng,n.lng),n.lat=Math.min(f.lat,n.lat),u.lng=Math.max(y.lng,u.lng),u.lat=Math.max(y.lat,u.lat)):(this._sw=new s.Q(f.lng,f.lat),this._ne=new s.Q(y.lng,y.lat)),this}getCenter(){return new s.Q((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new s.Q(this.getWest(),this.getNorth())}getSouthEast(){return new s.Q(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(e){const{lng:n,lat:u}=s.Q.convert(e);let f=this._sw.lng<=n&&n<=this._ne.lng;return this._sw.lng>this._ne.lng&&(f=this._sw.lng>=n&&n>=this._ne.lng),this._sw.lat<=u&&u<=this._ne.lat&&f}static convert(e){return e instanceof yn?e:e&&new yn(e)}static fromLngLat(e,n=0){const u=360*n/40075017,f=u/Math.cos(Math.PI/180*e.lat);return new yn(new s.Q(e.lng-f,e.lat-u),new s.Q(e.lng+f,e.lat+u))}adjustAntiMeridian(){const e=new s.Q(this._sw.lng,this._sw.lat),n=new s.Q(this._ne.lng,this._ne.lat);return new yn(e,e.lng>n.lng?new s.Q(n.lng+360,n.lat):n)}}class yr{constructor(e,n,u){this.bounds=yn.convert(this.validateBounds(e)),this.minzoom=n||0,this.maxzoom=u||24}validateBounds(e){return Array.isArray(e)&&e.length===4?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]}contains(e){const n=Math.pow(2,e.z),u=Math.floor(s.U(this.bounds.getWest())*n),f=Math.floor(s.S(this.bounds.getNorth())*n),y=Math.ceil(s.U(this.bounds.getEast())*n),C=Math.ceil(s.S(this.bounds.getSouth())*n);return e.x>=u&&e.x<y&&e.y>=f&&e.y<C}}class gi extends s.E{constructor(e,n,u,f){if(super(),this.id=e,this.dispatcher=u,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,s.e(this,s.O(n,["url","scheme","tileSize","promoteId"])),this._options=s.e({type:"vector"},n),this._collectResourceTiming=n.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(f)}load(){return s._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new s.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const e=yield Hn(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),e&&(s.e(this,e),e.bounds&&(this.tileBounds=new yr(e.bounds,this.minzoom,this.maxzoom)),this.fire(new s.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.l("data",{dataType:"source",sourceDataType:"content"})))}catch(e){this._tileJSONRequest=null,this.fire(new s.k(e))}})}loaded(){return this._loaded}hasTile(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}onAdd(e){this.map=e,this.load()}setSourceProperty(e){this._tileJSONRequest&&this._tileJSONRequest.abort(),e(),this.load()}setTiles(e){return this.setSourceProperty(()=>{this._options.tiles=e}),this}setUrl(e){return this.setSourceProperty(()=>{this.url=e,this._options.url=e}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return s.e({},this._options)}loadTile(e){return s._(this,void 0,void 0,function*(){const n=e.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),u={request:this.map._requestManager.transformRequest(n,"Tile"),uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,tileSize:this.tileSize*e.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity};u.request.collectResourceTiming=this._collectResourceTiming;let f="RT";if(e.actor&&e.state!=="expired"){if(e.state==="loading")return new Promise((y,C)=>{e.reloadPromise={resolve:y,reject:C}})}else e.actor=this.dispatcher.getActor(),f="LT";e.abortController=new AbortController;try{const y=yield e.actor.sendAsync({type:f,data:u},e.abortController);if(delete e.abortController,e.aborted)return;this._afterTileLoadWorkerResponse(e,y)}catch(y){if(delete e.abortController,e.aborted)return;if(y&&y.status!==404)throw y;this._afterTileLoadWorkerResponse(e,null)}})}_afterTileLoadWorkerResponse(e,n){if(n&&n.resourceTiming&&(e.resourceTiming=n.resourceTiming),n&&this.map._refreshExpiredTiles&&e.setExpiryData(n),e.loadVectorData(n,this.map.painter),e.reloadPromise){const u=e.reloadPromise;e.reloadPromise=null,this.loadTile(e).then(u.resolve).catch(u.reject)}}abortTile(e){return s._(this,void 0,void 0,function*(){e.abortController&&(e.abortController.abort(),delete e.abortController),e.actor&&(yield e.actor.sendAsync({type:"AT",data:{uid:e.uid,type:this.type,source:this.id}}))})}unloadTile(e){return s._(this,void 0,void 0,function*(){e.unloadVectorData(),e.actor&&(yield e.actor.sendAsync({type:"RMT",data:{uid:e.uid,type:this.type,source:this.id}}))})}hasTransition(){return!1}}class Ir extends s.E{constructor(e,n,u,f){super(),this.id=e,this.dispatcher=u,this.setEventedParent(f),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=s.e({type:"raster"},n),s.e(this,s.O(n,["url","scheme","tileSize"]))}load(){return s._(this,arguments,void 0,function*(e=!1){this._loaded=!1,this.fire(new s.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const n=yield Hn(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,n&&(s.e(this,n),n.bounds&&(this.tileBounds=new yr(n.bounds,this.minzoom,this.maxzoom)),this.fire(new s.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.l("data",{dataType:"source",sourceDataType:"content",sourceDataChanged:e})))}catch(n){this._tileJSONRequest=null,this.fire(new s.k(n))}})}loaded(){return this._loaded}onAdd(e){this.map=e,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(e){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),e(),this.load(!0)}setTiles(e){return this.setSourceProperty(()=>{this._options.tiles=e}),this}setUrl(e){return this.setSourceProperty(()=>{this.url=e,this._options.url=e}),this}serialize(){return s.e({},this._options)}hasTile(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}loadTile(e){return s._(this,void 0,void 0,function*(){const n=e.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);e.abortController=new AbortController;try{const u=yield Ae.getImage(this.map._requestManager.transformRequest(n,"Tile"),e.abortController,this.map._refreshExpiredTiles);if(delete e.abortController,e.aborted)return void(e.state="unloaded");if(u&&u.data){this.map._refreshExpiredTiles&&(u.cacheControl||u.expires)&&e.setExpiryData({cacheControl:u.cacheControl,expires:u.expires});const f=this.map.painter.context,y=f.gl,C=u.data;e.texture=this.map.painter.getTileTexture(C.width),e.texture?e.texture.update(C,{useMipmap:!0}):(e.texture=new Pt(f,C,y.RGBA,{useMipmap:!0}),e.texture.bind(y.LINEAR,y.CLAMP_TO_EDGE,y.LINEAR_MIPMAP_NEAREST)),e.state="loaded"}}catch(u){if(delete e.abortController,e.aborted)e.state="unloaded";else if(u)throw e.state="errored",u}})}abortTile(e){return s._(this,void 0,void 0,function*(){e.abortController&&(e.abortController.abort(),delete e.abortController)})}unloadTile(e){return s._(this,void 0,void 0,function*(){e.texture&&this.map.painter.saveTileTexture(e.texture)})}hasTransition(){return!1}}class Yr extends Ir{constructor(e,n,u,f){super(e,n,u,f),this.type="raster-dem",this.maxzoom=22,this._options=s.e({type:"raster-dem"},n),this.encoding=n.encoding||"mapbox",this.redFactor=n.redFactor,this.greenFactor=n.greenFactor,this.blueFactor=n.blueFactor,this.baseShift=n.baseShift}loadTile(e){return s._(this,void 0,void 0,function*(){const n=e.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),u=this.map._requestManager.transformRequest(n,"Tile");e.neighboringTiles=this._getNeighboringTiles(e.tileID),e.abortController=new AbortController;try{const f=yield Ae.getImage(u,e.abortController,this.map._refreshExpiredTiles);if(delete e.abortController,e.aborted)return void(e.state="unloaded");if(f&&f.data){const y=f.data;this.map._refreshExpiredTiles&&(f.cacheControl||f.expires)&&e.setExpiryData({cacheControl:f.cacheControl,expires:f.expires});const C=s.b(y)&&s.V()?y:yield this.readImageNow(y),T={type:this.type,uid:e.uid,source:this.id,rawImageData:C,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!e.actor||e.state==="expired"){e.actor=this.dispatcher.getActor();const k=yield e.actor.sendAsync({type:"LDT",data:T});e.dem=k,e.needsHillshadePrepare=!0,e.needsTerrainPrepare=!0,e.state="loaded"}}}catch(f){if(delete e.abortController,e.aborted)e.state="unloaded";else if(f)throw e.state="errored",f}})}readImageNow(e){return s._(this,void 0,void 0,function*(){if(typeof VideoFrame<"u"&&s.W()){const n=e.width+2,u=e.height+2;try{return new s.R({width:n,height:u},yield s.X(e,-1,-1,n,u))}catch{}}return ce.getImageData(e,1)})}_getNeighboringTiles(e){const n=e.canonical,u=Math.pow(2,n.z),f=(n.x-1+u)%u,y=n.x===0?e.wrap-1:e.wrap,C=(n.x+1+u)%u,T=n.x+1===u?e.wrap+1:e.wrap,k={};return k[new s.Y(e.overscaledZ,y,n.z,f,n.y).key]={backfilled:!1},k[new s.Y(e.overscaledZ,T,n.z,C,n.y).key]={backfilled:!1},n.y>0&&(k[new s.Y(e.overscaledZ,y,n.z,f,n.y-1).key]={backfilled:!1},k[new s.Y(e.overscaledZ,e.wrap,n.z,n.x,n.y-1).key]={backfilled:!1},k[new s.Y(e.overscaledZ,T,n.z,C,n.y-1).key]={backfilled:!1}),n.y+1<u&&(k[new s.Y(e.overscaledZ,y,n.z,f,n.y+1).key]={backfilled:!1},k[new s.Y(e.overscaledZ,e.wrap,n.z,n.x,n.y+1).key]={backfilled:!1},k[new s.Y(e.overscaledZ,T,n.z,C,n.y+1).key]={backfilled:!1}),k}unloadTile(e){return s._(this,void 0,void 0,function*(){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded",e.actor&&(yield e.actor.sendAsync({type:"RDT",data:{type:this.type,uid:e.uid,source:this.id}}))})}}class Li extends s.E{constructor(e,n,u,f){super(),this.id=e,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=u.getActor(),this.setEventedParent(f),this._data=n.data,this._options=s.e({},n),this._collectResourceTiming=n.collectResourceTiming,n.maxzoom!==void 0&&(this.maxzoom=n.maxzoom),n.type&&(this.type=n.type),n.attribution&&(this.attribution=n.attribution),this.promoteId=n.promoteId,n.clusterMaxZoom!==void 0&&this.maxzoom<=n.clusterMaxZoom&&s.w(`The maxzoom value "${this.maxzoom}" is expected to be greater than the clusterMaxZoom value "${n.clusterMaxZoom}".`),this.workerOptions=s.e({source:this.id,cluster:n.cluster||!1,geojsonVtOptions:{buffer:this._pixelsToTileUnits(n.buffer!==void 0?n.buffer:128),tolerance:this._pixelsToTileUnits(n.tolerance!==void 0?n.tolerance:.375),extent:s.Z,maxZoom:this.maxzoom,lineMetrics:n.lineMetrics||!1,generateId:n.generateId||!1},superclusterOptions:{maxZoom:n.clusterMaxZoom!==void 0?n.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,n.clusterMinPoints||2),extent:s.Z,radius:this._pixelsToTileUnits(n.clusterRadius||50),log:!1,generateId:n.generateId||!1},clusterProperties:n.clusterProperties,filter:n.filter},n.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}_pixelsToTileUnits(e){return e*(s.Z/this.tileSize)}load(){return s._(this,void 0,void 0,function*(){yield this._updateWorkerData()})}onAdd(e){this.map=e,this.load()}setData(e){return this._data=e,this._updateWorkerData(),this}updateData(e){return this._updateWorkerData(e),this}getData(){return s._(this,void 0,void 0,function*(){const e=s.e({type:this.type},this.workerOptions);return this.actor.sendAsync({type:"GD",data:e})})}getCoordinatesFromGeometry(e){return e.type==="GeometryCollection"?e.geometries.map(n=>n.coordinates).flat(1/0):e.coordinates.flat(1/0)}getBounds(){return s._(this,void 0,void 0,function*(){const e=new yn,n=yield this.getData();let u;switch(n.type){case"FeatureCollection":u=n.features.map(f=>this.getCoordinatesFromGeometry(f.geometry)).flat(1/0);break;case"Feature":u=this.getCoordinatesFromGeometry(n.geometry);break;default:u=this.getCoordinatesFromGeometry(n)}if(u.length==0)return e;for(let f=0;f<u.length-1;f+=2)e.extend([u[f],u[f+1]]);return e})}setClusterOptions(e){return this.workerOptions.cluster=e.cluster,e&&(e.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=this._pixelsToTileUnits(e.clusterRadius)),e.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=e.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(e){return this.actor.sendAsync({type:"GCEZ",data:{type:this.type,clusterId:e,source:this.id}})}getClusterChildren(e){return this.actor.sendAsync({type:"GCC",data:{type:this.type,clusterId:e,source:this.id}})}getClusterLeaves(e,n,u){return this.actor.sendAsync({type:"GCL",data:{type:this.type,source:this.id,clusterId:e,limit:n,offset:u}})}_updateWorkerData(e){return s._(this,void 0,void 0,function*(){const n=s.e({type:this.type},this.workerOptions);e?n.dataDiff=e:typeof this._data=="string"?(n.request=this.map._requestManager.transformRequest(ce.resolveURL(this._data),"Source"),n.request.collectResourceTiming=this._collectResourceTiming):n.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new s.l("dataloading",{dataType:"source"}));try{const u=yield this.actor.sendAsync({type:"LD",data:n});if(this._pendingLoads--,this._removed||u.abandoned)return void this.fire(new s.l("dataabort",{dataType:"source"}));let f=null;u.resourceTiming&&u.resourceTiming[this.id]&&(f=u.resourceTiming[this.id].slice(0));const y={dataType:"source"};this._collectResourceTiming&&f&&f.length>0&&s.e(y,{resourceTiming:f}),this.fire(new s.l("data",Object.assign(Object.assign({},y),{sourceDataType:"metadata"}))),this.fire(new s.l("data",Object.assign(Object.assign({},y),{sourceDataType:"content"})))}catch(u){if(this._pendingLoads--,this._removed)return void this.fire(new s.l("dataabort",{dataType:"source"}));this.fire(new s.k(u))}})}loaded(){return this._pendingLoads===0}loadTile(e){return s._(this,void 0,void 0,function*(){const n=e.actor?"RT":"LT";e.actor=this.actor;const u={type:this.type,uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity};e.abortController=new AbortController;const f=yield this.actor.sendAsync({type:n,data:u},e.abortController);delete e.abortController,e.unloadVectorData(),e.aborted||e.loadVectorData(f,this.map.painter,n==="RT")})}abortTile(e){return s._(this,void 0,void 0,function*(){e.abortController&&(e.abortController.abort(),delete e.abortController),e.aborted=!0})}unloadTile(e){return s._(this,void 0,void 0,function*(){e.unloadVectorData(),yield this.actor.sendAsync({type:"RMT",data:{uid:e.uid,type:this.type,source:this.id}})})}onRemove(){this._removed=!0,this.actor.sendAsync({type:"RS",data:{type:this.type,source:this.id}})}serialize(){return s.e({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}class vr extends s.E{constructor(e,n,u,f){super(),this.flippedWindingOrder=!1,this.id=e,this.dispatcher=u,this.coordinates=n.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(f),this.options=n}load(e){return s._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new s.l("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{const n=yield Ae.getImage(this.map._requestManager.transformRequest(this.url,"Image"),this._request);this._request=null,this._loaded=!0,n&&n.data&&(this.image=n.data,e&&(this.coordinates=e),this._finishLoading())}catch(n){this._request=null,this._loaded=!0,this.fire(new s.k(n))}})}loaded(){return this._loaded}updateImage(e){return e.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=e.url,this.load(e.coordinates).finally(()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new s.l("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(e){this.map=e,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(e){this.coordinates=e;const n=e.map(s.$.fromLngLat);var u;return this.tileID=function(f){let y=1/0,C=1/0,T=-1/0,k=-1/0;for(const Z of f)y=Math.min(y,Z.x),C=Math.min(C,Z.y),T=Math.max(T,Z.x),k=Math.max(k,Z.y);const z=Math.max(T-y,k-C),O=Math.max(0,Math.floor(-Math.log(z)/Math.LN2)),W=Math.pow(2,O);return new s.a1(O,Math.floor((y+T)/2*W),Math.floor((C+k)/2*W))}(n),this.terrainTileRanges=this._getOverlappingTileRanges(n),this.minzoom=this.maxzoom=this.tileID.z,this.tileCoords=n.map(f=>this.tileID.getTilePoint(f)._round()),this.flippedWindingOrder=((u=this.tileCoords)[1].x-u[0].x)*(u[2].y-u[0].y)-(u[1].y-u[0].y)*(u[2].x-u[0].x)<0,this.fire(new s.l("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const e=this.map.painter.context,n=e.gl;this.texture||(this.texture=new Pt(e,this.image,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE));let u=!1;for(const f in this.tiles){const y=this.tiles[f];y.state!=="loaded"&&(y.state="loaded",y.texture=this.texture,u=!0)}u&&this.fire(new s.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(e){return s._(this,void 0,void 0,function*(){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={}):e.state="errored"})}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}_getOverlappingTileRanges(e){let n=1/0,u=1/0,f=-1/0,y=-1/0;for(const T of e)n=Math.min(n,T.x),u=Math.min(u,T.y),f=Math.max(f,T.x),y=Math.max(y,T.y);const C={};for(let T=0;T<=s.a0;T++){const k=Math.pow(2,T),z=Math.floor(n*k),O=Math.floor(u*k),W=Math.floor(f*k),Z=Math.floor(y*k);C[T]={minTileX:z,minTileY:O,maxTileX:W,maxTileY:Z}}return C}}class ur extends vr{constructor(e,n,u,f){super(e,n,u,f),this.roundZoom=!0,this.type="video",this.options=n}load(){return s._(this,void 0,void 0,function*(){this._loaded=!1;const e=this.options;this.urls=[];for(const n of e.urls)this.urls.push(this.map._requestManager.transformRequest(n,"Source").url);try{const n=yield s.a2(this.urls);if(this._loaded=!0,!n)return;this.video=n,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading()}catch(n){this.fire(new s.k(n))}})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(e){if(this.video){const n=this.video.seekable;e<n.start(0)||e>n.end(0)?this.fire(new s.k(new s.a3(`sources.${this.id}`,null,`Playback for this video can be set only between the ${n.start(0)} and ${n.end(0)}-second mark.`))):this.video.currentTime=e}}getVideo(){return this.video}onAdd(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const e=this.map.painter.context,n=e.gl;this.texture?this.video.paused||(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.video)):(this.texture=new Pt(e,this.video,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE));let u=!1;for(const f in this.tiles){const y=this.tiles[f];y.state!=="loaded"&&(y.state="loaded",y.texture=this.texture,u=!0)}u&&this.fire(new s.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class Cn extends vr{constructor(e,n,u,f){super(e,n,u,f),n.coordinates?Array.isArray(n.coordinates)&&n.coordinates.length===4&&!n.coordinates.some(y=>!Array.isArray(y)||y.length!==2||y.some(C=>typeof C!="number"))||this.fire(new s.k(new s.a3(`sources.${e}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new s.k(new s.a3(`sources.${e}`,null,'missing required property "coordinates"'))),n.animate&&typeof n.animate!="boolean"&&this.fire(new s.k(new s.a3(`sources.${e}`,null,'optional "animate" property must be a boolean value'))),n.canvas?typeof n.canvas=="string"||n.canvas instanceof HTMLCanvasElement||this.fire(new s.k(new s.a3(`sources.${e}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new s.k(new s.a3(`sources.${e}`,null,'missing required property "canvas"'))),this.options=n,this.animate=n.animate===void 0||n.animate}load(){return s._(this,void 0,void 0,function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new s.k(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())})}getCanvas(){return this.canvas}onAdd(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let e=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,e=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,e=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const n=this.map.painter.context,u=n.gl;this.texture?(e||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new Pt(n,this.canvas,u.RGBA,{premultiply:!0});let f=!1;for(const y in this.tiles){const C=this.tiles[y];C.state!=="loaded"&&(C.state="loaded",C.texture=this.texture,f=!0)}f&&this.fire(new s.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const e of[this.canvas.width,this.canvas.height])if(isNaN(e)||e<=0)return!0;return!1}}const Or={},ni=m=>{switch(m){case"geojson":return Li;case"image":return vr;case"raster":return Ir;case"raster-dem":return Yr;case"vector":return gi;case"video":return ur;case"canvas":return Cn}return Or[m]},Wi="RTLPluginLoaded";class Ga extends s.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=Fn()}_syncState(e){return this.status=e,this.dispatcher.broadcast("SRPS",{pluginStatus:e,pluginURL:this.url}).catch(n=>{throw this.status="error",n})}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(e){return s._(this,arguments,void 0,function*(n,u=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=ce.resolveURL(n),!this.url)throw new Error(`requested url ${n} is invalid`);if(this.status==="unavailable"){if(!u)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if(this.status==="requested")return this._requestImport()})}_requestImport(){return s._(this,void 0,void 0,function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new s.l(Wi))})}lazyLoad(){this.status==="unavailable"?this.status="requested":this.status==="deferred"&&this._requestImport()}}let Hi=null;function Qr(){return Hi||(Hi=new Ga),Hi}class Bi{constructor(e,n){this.timeAdded=0,this.fadeEndTime=0,this.tileID=e,this.uid=s.a4(),this.uses=0,this.tileSize=n,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(e){const n=e+this.timeAdded;n<this.fadeEndTime||(this.fadeEndTime=n)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(e){this.demTexture&&e.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(e,n,u){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",e){e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(f,y){const C={};if(!y)return C;for(const T of f){const k=T.layerIds.map(z=>y.getLayer(z)).filter(Boolean);if(k.length!==0){T.layers=k,T.stateDependentLayerIds&&(T.stateDependentLayers=T.stateDependentLayerIds.map(z=>k.filter(O=>O.id===z)[0]));for(const z of k)C[z.id]=T}}return C}(e.buckets,n==null?void 0:n.style),this.hasSymbolBuckets=!1;for(const f in this.buckets){const y=this.buckets[f];if(y instanceof s.a6){if(this.hasSymbolBuckets=!0,!u)break;y.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const f in this.buckets){const y=this.buckets[f];if(y instanceof s.a6&&y.hasRTLText){this.hasRTLText=!0,Qr().lazyLoad();break}}this.queryPadding=0;for(const f in this.buckets){const y=this.buckets[f];this.queryPadding=Math.max(this.queryPadding,n.style.getLayer(f).queryRadius(y))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage)}else this.collisionBoxArray=new s.a5}unloadVectorData(){for(const e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(e){return this.buckets[e.id]}upload(e){for(const u in this.buckets){const f=this.buckets[u];f.uploadPending()&&f.upload(e)}const n=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Pt(e,this.imageAtlas.image,n.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Pt(e,this.glyphAtlasImage,n.ALPHA),this.glyphAtlasImage=null)}prepare(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)}queryRenderedFeatures(e,n,u,f,y,C,T,k,z,O,W){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:f,cameraQueryGeometry:y,scale:C,tileSize:this.tileSize,pixelPosMatrix:O,transform:k,params:T,queryPadding:this.queryPadding*z,getElevation:W},e,n,u):{}}querySourceFeatures(e,n){const u=this.latestFeatureIndex;if(!u||!u.rawTileData)return;const f=u.loadVTLayers(),y=n&&n.sourceLayer?n.sourceLayer:"",C=f._geojsonTileLayer||f[y];if(!C)return;const T=s.a7(n&&n.filter),{z:k,x:z,y:O}=this.tileID.canonical,W={z:k,x:z,y:O};for(let Z=0;Z<C.length;Z++){const Q=C.feature(Z);if(T.needGeometry){const we=s.a8(Q,!0);if(!T.filter(new s.C(this.tileID.overscaledZ),we,this.tileID.canonical))continue}else if(!T.filter(new s.C(this.tileID.overscaledZ),Q))continue;const ie=u.getId(Q,y),Ce=new s.a9(Q,k,z,O,ie);Ce.tile=W,e.push(Ce)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(e){const n=this.expirationTime;if(e.cacheControl){const u=s.aa(e.cacheControl);u["max-age"]&&(this.expirationTime=Date.now()+1e3*u["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){const u=Date.now();let f=!1;if(this.expirationTime>u)f=!1;else if(n)if(this.expirationTime<n)f=!0;else{const y=this.expirationTime-n;y?this.expirationTime=u+Math.max(y,3e4):f=!0}else f=!0;f?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(e,n){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(e).length===0)return;const u=this.latestFeatureIndex.loadVTLayers();for(const f in this.buckets){if(!n.style.hasLayer(f))continue;const y=this.buckets[f],C=y.layers[0].sourceLayer||"_geojsonTileLayer",T=u[C],k=e[C];if(!T||!k||Object.keys(k).length===0)continue;y.update(k,T,this.imageAtlas&&this.imageAtlas.patternPositions||{});const z=n&&n.style&&n.style.getLayer(f);z&&(this.queryPadding=Math.max(this.queryPadding,z.queryRadius(y)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<ce.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(e){this.symbolFadeHoldUntil=ce.now()+e}setDependencies(e,n){const u={};for(const f of n)u[f]=!0;this.dependencies[e]=u}hasDependency(e,n){for(const u of e){const f=this.dependencies[u];if(f){for(const y of n)if(f[y])return!0}}return!1}}class wi{constructor(e,n){this.max=e,this.onRemove=n,this.reset()}reset(){for(const e in this.data)for(const n of this.data[e])n.timeout&&clearTimeout(n.timeout),this.onRemove(n.value);return this.data={},this.order=[],this}add(e,n,u){const f=e.wrapped().key;this.data[f]===void 0&&(this.data[f]=[]);const y={value:n,timeout:void 0};if(u!==void 0&&(y.timeout=setTimeout(()=>{this.remove(e,y)},u)),this.data[f].push(y),this.order.push(f),this.order.length>this.max){const C=this._getAndRemoveByKey(this.order[0]);C&&this.onRemove(C)}return this}has(e){return e.wrapped().key in this.data}getAndRemove(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null}_getAndRemoveByKey(e){const n=this.data[e].shift();return n.timeout&&clearTimeout(n.timeout),this.data[e].length===0&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),n.value}getByKey(e){const n=this.data[e];return n?n[0].value:null}get(e){return this.has(e)?this.data[e.wrapped().key][0].value:null}remove(e,n){if(!this.has(e))return this;const u=e.wrapped().key,f=n===void 0?0:this.data[u].indexOf(n),y=this.data[u][f];return this.data[u].splice(f,1),y.timeout&&clearTimeout(y.timeout),this.data[u].length===0&&delete this.data[u],this.onRemove(y.value),this.order.splice(this.order.indexOf(u),1),this}setMaxSize(e){for(this.max=e;this.order.length>this.max;){const n=this._getAndRemoveByKey(this.order[0]);n&&this.onRemove(n)}return this}filter(e){const n=[];for(const u in this.data)for(const f of this.data[u])e(f.value)||n.push(f);for(const u of n)this.remove(u.value.tileID,u)}}class xr{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(e,n,u){const f=String(n);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][f]=this.stateChanges[e][f]||{},s.e(this.stateChanges[e][f],u),this.deletedStates[e]===null){this.deletedStates[e]={};for(const y in this.state[e])y!==f&&(this.deletedStates[e][y]=null)}else if(this.deletedStates[e]&&this.deletedStates[e][f]===null){this.deletedStates[e][f]={};for(const y in this.state[e][f])u[y]||(this.deletedStates[e][f][y]=null)}else for(const y in u)this.deletedStates[e]&&this.deletedStates[e][f]&&this.deletedStates[e][f][y]===null&&delete this.deletedStates[e][f][y]}removeFeatureState(e,n,u){if(this.deletedStates[e]===null)return;const f=String(n);if(this.deletedStates[e]=this.deletedStates[e]||{},u&&n!==void 0)this.deletedStates[e][f]!==null&&(this.deletedStates[e][f]=this.deletedStates[e][f]||{},this.deletedStates[e][f][u]=null);else if(n!==void 0)if(this.stateChanges[e]&&this.stateChanges[e][f])for(u in this.deletedStates[e][f]={},this.stateChanges[e][f])this.deletedStates[e][f][u]=null;else this.deletedStates[e][f]=null;else this.deletedStates[e]=null}getState(e,n){const u=String(n),f=s.e({},(this.state[e]||{})[u],(this.stateChanges[e]||{})[u]);if(this.deletedStates[e]===null)return{};if(this.deletedStates[e]){const y=this.deletedStates[e][n];if(y===null)return{};for(const C in y)delete f[C]}return f}initializeTileState(e,n){e.setFeatureState(this.state,n)}coalesceChanges(e,n){const u={};for(const f in this.stateChanges){this.state[f]=this.state[f]||{};const y={};for(const C in this.stateChanges[f])this.state[f][C]||(this.state[f][C]={}),s.e(this.state[f][C],this.stateChanges[f][C]),y[C]=this.state[f][C];u[f]=y}for(const f in this.deletedStates){this.state[f]=this.state[f]||{};const y={};if(this.deletedStates[f]===null)for(const C in this.state[f])y[C]={},this.state[f][C]={};else for(const C in this.deletedStates[f]){if(this.deletedStates[f][C]===null)this.state[f][C]={};else for(const T of Object.keys(this.deletedStates[f][C]))delete this.state[f][C][T];y[C]=this.state[f][C]}u[f]=u[f]||{},s.e(u[f],y)}if(this.stateChanges={},this.deletedStates={},Object.keys(u).length!==0)for(const f in e)e[f].setFeatureState(u,n)}}const Ci=89.25;function ri(m,e){const n=s.ae(e.lat,-85.051129,s.af);return new s.P(s.U(e.lng)*m,s.S(n)*m)}function _a(m,e){return new s.$(e.x/m,e.y/m).toLngLat()}function Fe(m){return m.cameraToCenterDistance*Math.min(.85*Math.tan(s.ab(90-m.pitch)),Math.tan(s.ab(Ci-m.pitch)))}function ne(m,e){const n=m.canonical,u=e/s.ac(n.z),f=n.x+Math.pow(2,n.z)*m.wrap,y=s.ad(new Float64Array(16));return s.L(y,y,[f*u,n.y*u,0]),s.M(y,y,[u/s.Z,u/s.Z,1]),y}function oe(m,e,n,u,f){const y=s.$.fromLngLat(m,e),C=f*s.ag(1,m.lat),T=C*Math.cos(s.ab(n)),k=Math.sqrt(C*C-T*T),z=k*Math.sin(s.ab(-u)),O=k*Math.cos(s.ab(-u));return new s.$(y.x+z,y.y+O,y.z+T)}function ve(m,e,n){const u=e.intersectsFrustum(m);if(!n)return u;const f=e.intersectsPlane(n);return u===0||f===0?0:u===2&&f===2?2:1}function Me(m,e,n){let u=0;const f=(n-e)/10;for(let y=0;y<10;y++)u+=f*Math.pow(Math.cos(e+(y+.5)/10*(n-e)),m);return u}function We(m,e){return function(n,u,f,y,C){const T=2*((m-1)/s.ah(Math.cos(s.ab(Ci-C))/Math.cos(s.ab(Ci)))-1),k=Math.acos(f/y),z=2*Me(T-1,0,s.ab(C/2)),O=Math.min(s.ab(Ci),k+s.ab(C/2)),W=Me(T-1,Math.min(O,k-s.ab(C/2)),O),Z=Math.atan(u/f),Q=Math.hypot(u,f);let ie=n;return ie+=s.ah(y/Q/Math.max(.5,Math.cos(s.ab(C/2)))),ie+=T*s.ah(Math.cos(Z))/2,ie-=s.ah(Math.max(1,W/z/e))/2,ie}}const me=We(9.314,3);function Je(m,e){const n=(e.roundZoom?Math.round:Math.floor)(m.zoom+s.ah(m.tileSize/e.tileSize));return Math.max(0,n)}function Ye(m,e){const n=m.getCameraFrustum(),u=m.getClippingPlane(),f=m.screenPointToMercatorCoordinate(m.getCameraPoint()),y=s.$.fromLngLat(m.center,m.elevation);f.z=y.z+Math.cos(m.pitchInRadians)*m.cameraToCenterDistance/m.worldSize;const C=m.getCoveringTilesDetailsProvider(),T=C.allowVariableZoom(m,e),k=Je(m,e),z=e.minzoom||0,O=e.maxzoom!==void 0?e.maxzoom:m.maxZoom,W=Math.min(Math.max(0,k),O),Z=Math.pow(2,W),Q=[Z*f.x,Z*f.y,0],ie=[Z*y.x,Z*y.y,0],Ce=Math.hypot(y.x-f.x,y.y-f.y),we=Math.abs(y.z-f.z),De=Math.hypot(Ce,we),ke=Be=>({zoom:0,x:0,y:0,wrap:Be,fullyVisible:!1}),Le=[],Ee=[];if(m.renderWorldCopies&&C.allowWorldCopies())for(let Be=1;Be<=3;Be++)Le.push(ke(-Be)),Le.push(ke(Be));for(Le.push(ke(0));Le.length>0;){const Be=Le.pop(),je=Be.x,Ve=Be.y;let lt=Be.fullyVisible;const At={x:je,y:Ve,z:Be.zoom},rt=C.getTileAABB(At,Be.wrap,m.elevation,e);if(!lt){const rn=ve(n,rt,u);if(rn===0)continue;lt=rn===2}const ht=C.distanceToTile2d(f.x,f.y,At,rt);let Dt=k;T&&(Dt=(e.calculateTileZoom||me)(m.zoom+s.ah(m.tileSize/e.tileSize),ht,we,De,m.fov)),Dt=(e.roundZoom?Math.round:Math.floor)(Dt),Dt=Math.max(0,Dt);const nn=Math.min(Dt,O);if(Be.wrap=C.getWrap(y,At,Be.wrap),Be.zoom>=nn){if(Be.zoom<z)continue;const rn=W-Be.zoom,Gt=Q[0]-.5-(je<<rn),bn=Q[1]-.5-(Ve<<rn),Zn=e.reparseOverscaled?Math.max(Be.zoom,Dt):Be.zoom;Ee.push({tileID:new s.Y(Be.zoom===O?Zn:Be.zoom,Be.wrap,Be.zoom,je,Ve),distanceSq:s.ai([ie[0]-.5-je,ie[1]-.5-Ve]),tileDistanceToCamera:Math.sqrt(Gt*Gt+bn*bn)})}else for(let rn=0;rn<4;rn++)Le.push({zoom:Be.zoom+1,x:(je<<1)+rn%2,y:(Ve<<1)+(rn>>1),wrap:Be.wrap,fullyVisible:lt})}return Ee.sort((Be,je)=>Be.distanceSq-je.distanceSq).map(Be=>Be.tileID)}class at extends s.E{constructor(e,n,u){super(),this.id=e,this.dispatcher=u,this.on("data",f=>this._dataHandler(f)),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((f,y,C,T)=>{const k=new(ni(y.type))(f,y,C,T);if(k.id!==f)throw new Error(`Expected Source id to be ${f} instead of ${k.id}`);return k})(e,n,u,this),this._tiles={},this._cache=new wi(0,f=>this._unloadTile(f)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new xr,this._didEmitContent=!1,this._updated=!1}onAdd(e){this.map=e,this._maxTileCacheSize=e?e._maxTileCacheSize:null,this._maxTileCacheZoomLevels=e?e._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(e)}onRemove(e){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(e)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const e in this._tiles){const n=this._tiles[e];if(n.state!=="loaded"&&n.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(e,n,u){return s._(this,void 0,void 0,function*(){try{yield this._source.loadTile(e),this._tileLoaded(e,n,u)}catch(f){e.state="errored",f.status!==404?this._source.fire(new s.k(f,{tile:e})):this.update(this.transform,this.terrain)}})}_unloadTile(e){this._source.unloadTile&&this._source.unloadTile(e)}_abortTile(e){this._source.abortTile&&this._source.abortTile(e),this._source.fire(new s.l("dataabort",{tile:e,coord:e.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(e){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const n in this._tiles){const u=this._tiles[n];u.upload(e),u.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(e=>e.tileID).sort(pt).map(e=>e.key)}getRenderableIds(e){const n=[];for(const u in this._tiles)this._isIdRenderable(u,e)&&n.push(this._tiles[u]);return e?n.sort((u,f)=>{const y=u.tileID,C=f.tileID,T=new s.P(y.canonical.x,y.canonical.y)._rotate(-this.transform.bearingInRadians),k=new s.P(C.canonical.x,C.canonical.y)._rotate(-this.transform.bearingInRadians);return y.overscaledZ-C.overscaledZ||k.y-T.y||k.x-T.x}).map(u=>u.tileID.key):n.map(u=>u.tileID).sort(pt).map(u=>u.key)}hasRenderableParent(e){const n=this.findLoadedParent(e,0);return!!n&&this._isIdRenderable(n.tileID.key)}_isIdRenderable(e,n){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(n||!this._tiles[e].holdingForFade())}reload(e){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const n in this._tiles)(e||this._tiles[n].state!=="errored")&&this._reloadTile(n,"reloading")}}_reloadTile(e,n){return s._(this,void 0,void 0,function*(){const u=this._tiles[e];u&&(u.state!=="loading"&&(u.state=n),yield this._loadTile(u,e,n))})}_tileLoaded(e,n,u){e.timeAdded=ce.now(),u==="expired"&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(n,e),this.getSource().type==="raster-dem"&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),e.aborted||this._source.fire(new s.l("data",{dataType:"source",tile:e,coord:e.tileID}))}_backfillDEM(e){const n=this.getRenderableIds();for(let f=0;f<n.length;f++){const y=n[f];if(e.neighboringTiles&&e.neighboringTiles[y]){const C=this.getTileByID(y);u(e,C),u(C,e)}}function u(f,y){f.needsHillshadePrepare=!0,f.needsTerrainPrepare=!0;let C=y.tileID.canonical.x-f.tileID.canonical.x;const T=y.tileID.canonical.y-f.tileID.canonical.y,k=Math.pow(2,f.tileID.canonical.z),z=y.tileID.key;C===0&&T===0||Math.abs(T)>1||(Math.abs(C)>1&&(Math.abs(C+k)===1?C+=k:Math.abs(C-k)===1&&(C-=k)),y.dem&&f.dem&&(f.dem.backfillBorder(y.dem,C,T),f.neighboringTiles&&f.neighboringTiles[z]&&(f.neighboringTiles[z].backfilled=!0)))}}getTile(e){return this.getTileByID(e.key)}getTileByID(e){return this._tiles[e]}_retainLoadedChildren(e,n,u,f){for(const y in this._tiles){let C=this._tiles[y];if(f[y]||!C.hasData()||C.tileID.overscaledZ<=n||C.tileID.overscaledZ>u)continue;let T=C.tileID;for(;C&&C.tileID.overscaledZ>n+1;){const z=C.tileID.scaledTo(C.tileID.overscaledZ-1);C=this._tiles[z.key],C&&C.hasData()&&(T=z)}let k=T;for(;k.overscaledZ>n;)if(k=k.scaledTo(k.overscaledZ-1),e[k.key]||e[k.canonical.key]){f[T.key]=T;break}}}findLoadedParent(e,n){if(e.key in this._loadedParentTiles){const u=this._loadedParentTiles[e.key];return u&&u.tileID.overscaledZ>=n?u:null}for(let u=e.overscaledZ-1;u>=n;u--){const f=e.scaledTo(u),y=this._getLoadedTile(f);if(y)return y}}findLoadedSibling(e){return this._getLoadedTile(e)}_getLoadedTile(e){const n=this._tiles[e.key];return n&&n.hasData()?n:this._cache.getByKey(e.wrapped().key)}updateCacheSize(e){const n=Math.ceil(e.width/this._source.tileSize)+1,u=Math.ceil(e.height/this._source.tileSize)+1,f=Math.floor(n*u*(this._maxTileCacheZoomLevels===null?s.a.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),y=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,f):f;this._cache.setMaxSize(y)}handleWrapJump(e){const n=Math.round((e-(this._prevLng===void 0?e:this._prevLng))/360);if(this._prevLng=e,n){const u={};for(const f in this._tiles){const y=this._tiles[f];y.tileID=y.tileID.unwrapTo(y.tileID.wrap+n),u[y.tileID.key]=y}this._tiles=u;for(const f in this._timers)clearTimeout(this._timers[f]),delete this._timers[f];for(const f in this._tiles)this._setTileReloadTimer(f,this._tiles[f])}}_updateCoveredAndRetainedTiles(e,n,u,f,y,C){const T={},k={},z=Object.keys(e),O=ce.now();for(const W of z){const Z=e[W],Q=this._tiles[W];if(!Q||Q.fadeEndTime!==0&&Q.fadeEndTime<=O)continue;const ie=this.findLoadedParent(Z,n),Ce=this.findLoadedSibling(Z),we=ie||Ce||null;we&&(this._addTile(we.tileID),T[we.tileID.key]=we.tileID),k[W]=Z}this._retainLoadedChildren(k,f,u,e);for(const W in T)e[W]||(this._coveredTiles[W]=!0,e[W]=T[W]);if(C){const W={},Z={};for(const Q of y)this._tiles[Q.key].hasData()?W[Q.key]=Q:Z[Q.key]=Q;for(const Q in Z){const ie=Z[Q].children(this._source.maxzoom);this._tiles[ie[0].key]&&this._tiles[ie[1].key]&&this._tiles[ie[2].key]&&this._tiles[ie[3].key]&&(W[ie[0].key]=e[ie[0].key]=ie[0],W[ie[1].key]=e[ie[1].key]=ie[1],W[ie[2].key]=e[ie[2].key]=ie[2],W[ie[3].key]=e[ie[3].key]=ie[3],delete Z[Q])}for(const Q in Z){const ie=Z[Q],Ce=this.findLoadedParent(ie,this._source.minzoom),we=this.findLoadedSibling(ie),De=Ce||we||null;if(De){W[De.tileID.key]=e[De.tileID.key]=De.tileID;for(const ke in W)W[ke].isChildOf(De.tileID)&&delete W[ke]}}for(const Q in this._tiles)W[Q]||(this._coveredTiles[Q]=!0)}}update(e,n){if(!this._sourceLoaded||this._paused)return;let u;this.transform=e,this.terrain=n,this.updateCacheSize(e),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?u=e.getVisibleUnwrappedCoordinates(this._source.tileID).map(O=>new s.Y(O.canonical.z,O.wrap,O.canonical.z,O.canonical.x,O.canonical.y)):(u=Ye(e,{tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:n,calculateTileZoom:this._source.calculateTileZoom}),this._source.hasTile&&(u=u.filter(O=>this._source.hasTile(O)))):u=[];const f=Je(e,this._source),y=Math.max(f-at.maxOverzooming,this._source.minzoom),C=Math.max(f+at.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const O={};for(const W of u)if(W.canonical.z>this._source.minzoom){const Z=W.scaledTo(W.canonical.z-1);O[Z.key]=Z;const Q=W.scaledTo(Math.max(this._source.minzoom,Math.min(W.canonical.z,5)));O[Q.key]=Q}u=u.concat(Object.values(O))}const T=u.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,T&&this.fire(new s.l("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const k=this._updateRetainedTiles(u,f);nt(this._source.type)&&this._updateCoveredAndRetainedTiles(k,y,C,f,u,n);for(const O in k)this._tiles[O].clearFadeHold();const z=s.aj(this._tiles,k);for(const O of z){const W=this._tiles[O];W.hasSymbolBuckets&&!W.holdingForFade()?W.setHoldDuration(this.map._fadeDuration):W.hasSymbolBuckets&&!W.symbolFadeFinished()||this._removeTile(O)}this._updateLoadedParentTileCache(),this._updateLoadedSiblingTileCache()}releaseSymbolFadeTiles(){for(const e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(e)}_updateRetainedTiles(e,n){var u;const f={},y={},C=Math.max(n-at.maxOverzooming,this._source.minzoom),T=Math.max(n+at.maxUnderzooming,this._source.minzoom),k={};for(const z of e){const O=this._addTile(z);f[z.key]=z,O.hasData()||n<this._source.maxzoom&&(k[z.key]=z)}this._retainLoadedChildren(k,n,T,f);for(const z of e){let O=this._tiles[z.key];if(O.hasData())continue;if(n+1>this._source.maxzoom){const Z=z.children(this._source.maxzoom)[0],Q=this.getTile(Z);if(Q&&Q.hasData()){f[Z.key]=Z;continue}}else{const Z=z.children(this._source.maxzoom);if(f[Z[0].key]&&f[Z[1].key]&&f[Z[2].key]&&f[Z[3].key])continue}let W=O.wasRequested();for(let Z=z.overscaledZ-1;Z>=C;--Z){const Q=z.scaledTo(Z);if(y[Q.key])break;if(y[Q.key]=!0,O=this.getTile(Q),!O&&W&&(O=this._addTile(Q)),O){const ie=O.hasData();if((ie||!(!((u=this.map)===null||u===void 0)&&u.cancelPendingTileRequestsWhileZooming)||W)&&(f[Q.key]=Q),W=O.wasRequested(),ie)break}}}return f}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const e in this._tiles){const n=[];let u,f=this._tiles[e].tileID;for(;f.overscaledZ>0;){if(f.key in this._loadedParentTiles){u=this._loadedParentTiles[f.key];break}n.push(f.key);const y=f.scaledTo(f.overscaledZ-1);if(u=this._getLoadedTile(y),u)break;f=y}for(const y of n)this._loadedParentTiles[y]=u}}_updateLoadedSiblingTileCache(){this._loadedSiblingTiles={};for(const e in this._tiles){const n=this._tiles[e].tileID,u=this._getLoadedTile(n);this._loadedSiblingTiles[n.key]=u}}_addTile(e){let n=this._tiles[e.key];if(n)return n;n=this._cache.getAndRemove(e),n&&(this._setTileReloadTimer(e.key,n),n.tileID=e,this._state.initializeTileState(n,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,n)));const u=n;return n||(n=new Bi(e,this._source.tileSize*e.overscaleFactor()),this._loadTile(n,e.key,n.state)),n.uses++,this._tiles[e.key]=n,u||this._source.fire(new s.l("dataloading",{tile:n,coord:n.tileID,dataType:"source"})),n}_setTileReloadTimer(e,n){e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);const u=n.getExpiryTimeout();u&&(this._timers[e]=setTimeout(()=>{this._reloadTile(e,"expired"),delete this._timers[e]},u))}refreshTiles(e){for(const n in this._tiles)this._isIdRenderable(n)&&e.some(u=>u.equals(this._tiles[n].tileID.canonical))&&this._reloadTile(n,"expired")}_removeTile(e){const n=this._tiles[e];n&&(n.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),n.uses>0||(n.hasData()&&n.state!=="reloading"?this._cache.add(n.tileID,n,n.getExpiryTimeout()):(n.aborted=!0,this._abortTile(n),this._unloadTile(n))))}_dataHandler(e){const n=e.sourceDataType;e.dataType==="source"&&n==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&e.dataType==="source"&&n==="content"&&(this.reload(e.sourceDataChanged),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const e in this._tiles)this._removeTile(e);this._cache.reset()}tilesIn(e,n,u){const f=[],y=this.transform;if(!y)return f;const C=u?y.getCameraQueryGeometry(e):e,T=e.map(ie=>y.screenPointToMercatorCoordinate(ie,this.terrain)),k=C.map(ie=>y.screenPointToMercatorCoordinate(ie,this.terrain)),z=this.getIds();let O=1/0,W=1/0,Z=-1/0,Q=-1/0;for(const ie of k)O=Math.min(O,ie.x),W=Math.min(W,ie.y),Z=Math.max(Z,ie.x),Q=Math.max(Q,ie.y);for(let ie=0;ie<z.length;ie++){const Ce=this._tiles[z[ie]];if(Ce.holdingForFade())continue;const we=y.getCoveringTilesDetailsProvider().allowWorldCopies()?Ce.tileID:Ce.tileID.unwrapTo(0),De=Math.pow(2,y.zoom-Ce.tileID.overscaledZ),ke=n*Ce.queryPadding*s.Z/Ce.tileSize/De,Le=[we.getTilePoint(new s.$(O,W)),we.getTilePoint(new s.$(Z,Q))];if(Le[0].x-ke<s.Z&&Le[0].y-ke<s.Z&&Le[1].x+ke>=0&&Le[1].y+ke>=0){const Ee=T.map(je=>we.getTilePoint(je)),Be=k.map(je=>we.getTilePoint(je));f.push({tile:Ce,tileID:we,queryGeometry:Ee,cameraQueryGeometry:Be,scale:De})}}return f}getVisibleCoordinates(e){const n=this.getRenderableIds(e).map(u=>this._tiles[u].tileID);return this.transform&&this.transform.populateCache(n),n}hasTransition(){if(this._source.hasTransition())return!0;if(nt(this._source.type)){const e=ce.now();for(const n in this._tiles)if(this._tiles[n].fadeEndTime>=e)return!0}return!1}setFeatureState(e,n,u){this._state.updateState(e=e||"_geojsonTileLayer",n,u)}removeFeatureState(e,n,u){this._state.removeFeatureState(e=e||"_geojsonTileLayer",n,u)}getFeatureState(e,n){return this._state.getState(e=e||"_geojsonTileLayer",n)}setDependencies(e,n,u){const f=this._tiles[e];f&&f.setDependencies(n,u)}reloadTilesForDependencies(e,n){for(const u in this._tiles)this._tiles[u].hasDependency(e,n)&&this._reloadTile(u,"reloading");this._cache.filter(u=>!u.hasDependency(e,n))}}function pt(m,e){const n=Math.abs(2*m.wrap)-+(m.wrap<0),u=Math.abs(2*e.wrap)-+(e.wrap<0);return m.overscaledZ-e.overscaledZ||u-n||e.canonical.y-m.canonical.y||e.canonical.x-m.canonical.x}function nt(m){return m==="raster"||m==="image"||m==="video"}at.maxOverzooming=10,at.maxUnderzooming=3;class Rt{constructor(e,n){this.reset(e,n)}reset(e,n){this.points=e||[],this._distances=[0];for(let u=1;u<this.points.length;u++)this._distances[u]=this._distances[u-1]+this.points[u].dist(this.points[u-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(n||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(e){if(this.points.length===1)return this.points[0];e=s.ae(e,0,1);let n=1,u=this._distances[n];const f=e*this.paddedLength+this.padding;for(;u<f&&n<this._distances.length;)u=this._distances[++n];const y=n-1,C=this._distances[y],T=u-C,k=T>0?(f-C)/T:0;return this.points[y].mult(1-k).add(this.points[n].mult(k))}}function Jt(m,e){let n=!0;return m==="always"||m!=="never"&&e!=="never"||(n=!1),n}class pn{constructor(e,n,u){const f=this.boxCells=[],y=this.circleCells=[];this.xCellCount=Math.ceil(e/u),this.yCellCount=Math.ceil(n/u);for(let C=0;C<this.xCellCount*this.yCellCount;C++)f.push([]),y.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=n,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/n,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(e,n,u,f,y){this._forEachCell(n,u,f,y,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(n),this.bboxes.push(u),this.bboxes.push(f),this.bboxes.push(y)}insertCircle(e,n,u,f){this._forEachCell(n-f,u-f,n+f,u+f,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(n),this.circles.push(u),this.circles.push(f)}_insertBoxCell(e,n,u,f,y,C){this.boxCells[y].push(C)}_insertCircleCell(e,n,u,f,y,C){this.circleCells[y].push(C)}_query(e,n,u,f,y,C,T){if(u<0||e>this.width||f<0||n>this.height)return[];const k=[];if(e<=0&&n<=0&&this.width<=u&&this.height<=f){if(y)return[{key:null,x1:e,y1:n,x2:u,y2:f}];for(let z=0;z<this.boxKeys.length;z++)k.push({key:this.boxKeys[z],x1:this.bboxes[4*z],y1:this.bboxes[4*z+1],x2:this.bboxes[4*z+2],y2:this.bboxes[4*z+3]});for(let z=0;z<this.circleKeys.length;z++){const O=this.circles[3*z],W=this.circles[3*z+1],Z=this.circles[3*z+2];k.push({key:this.circleKeys[z],x1:O-Z,y1:W-Z,x2:O+Z,y2:W+Z})}}else this._forEachCell(e,n,u,f,this._queryCell,k,{hitTest:y,overlapMode:C,seenUids:{box:{},circle:{}}},T);return k}query(e,n,u,f){return this._query(e,n,u,f,!1,null)}hitTest(e,n,u,f,y,C){return this._query(e,n,u,f,!0,y,C).length>0}hitTestCircle(e,n,u,f,y){const C=e-u,T=e+u,k=n-u,z=n+u;if(T<0||C>this.width||z<0||k>this.height)return!1;const O=[];return this._forEachCell(C,k,T,z,this._queryCellCircle,O,{hitTest:!0,overlapMode:f,circle:{x:e,y:n,radius:u},seenUids:{box:{},circle:{}}},y),O.length>0}_queryCell(e,n,u,f,y,C,T,k){const{seenUids:z,hitTest:O,overlapMode:W}=T,Z=this.boxCells[y];if(Z!==null){const ie=this.bboxes;for(const Ce of Z)if(!z.box[Ce]){z.box[Ce]=!0;const we=4*Ce,De=this.boxKeys[Ce];if(e<=ie[we+2]&&n<=ie[we+3]&&u>=ie[we+0]&&f>=ie[we+1]&&(!k||k(De))&&(!O||!Jt(W,De.overlapMode))&&(C.push({key:De,x1:ie[we],y1:ie[we+1],x2:ie[we+2],y2:ie[we+3]}),O))return!0}}const Q=this.circleCells[y];if(Q!==null){const ie=this.circles;for(const Ce of Q)if(!z.circle[Ce]){z.circle[Ce]=!0;const we=3*Ce,De=this.circleKeys[Ce];if(this._circleAndRectCollide(ie[we],ie[we+1],ie[we+2],e,n,u,f)&&(!k||k(De))&&(!O||!Jt(W,De.overlapMode))){const ke=ie[we],Le=ie[we+1],Ee=ie[we+2];if(C.push({key:De,x1:ke-Ee,y1:Le-Ee,x2:ke+Ee,y2:Le+Ee}),O)return!0}}}return!1}_queryCellCircle(e,n,u,f,y,C,T,k){const{circle:z,seenUids:O,overlapMode:W}=T,Z=this.boxCells[y];if(Z!==null){const ie=this.bboxes;for(const Ce of Z)if(!O.box[Ce]){O.box[Ce]=!0;const we=4*Ce,De=this.boxKeys[Ce];if(this._circleAndRectCollide(z.x,z.y,z.radius,ie[we+0],ie[we+1],ie[we+2],ie[we+3])&&(!k||k(De))&&!Jt(W,De.overlapMode))return C.push(!0),!0}}const Q=this.circleCells[y];if(Q!==null){const ie=this.circles;for(const Ce of Q)if(!O.circle[Ce]){O.circle[Ce]=!0;const we=3*Ce,De=this.circleKeys[Ce];if(this._circlesCollide(ie[we],ie[we+1],ie[we+2],z.x,z.y,z.radius)&&(!k||k(De))&&!Jt(W,De.overlapMode))return C.push(!0),!0}}}_forEachCell(e,n,u,f,y,C,T,k){const z=this._convertToXCellCoord(e),O=this._convertToYCellCoord(n),W=this._convertToXCellCoord(u),Z=this._convertToYCellCoord(f);for(let Q=z;Q<=W;Q++)for(let ie=O;ie<=Z;ie++)if(y.call(this,e,n,u,f,this.xCellCount*ie+Q,C,T,k))return}_convertToXCellCoord(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))}_convertToYCellCoord(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))}_circlesCollide(e,n,u,f,y,C){const T=f-e,k=y-n,z=u+C;return z*z>T*T+k*k}_circleAndRectCollide(e,n,u,f,y,C,T){const k=(C-f)/2,z=Math.abs(e-(f+k));if(z>k+u)return!1;const O=(T-y)/2,W=Math.abs(n-(y+O));if(W>O+u)return!1;if(z<=k||W<=O)return!0;const Z=z-k,Q=W-O;return Z*Z+Q*Q<=u*u}}function Tn(m,e,n){const u=s.K();if(!m){const{vecSouth:W,vecEast:Z}=On(e),Q=q();Q[0]=Z[0],Q[1]=Z[1],Q[2]=W[0],Q[3]=W[1],f=Q,(O=(C=(y=Q)[0])*(z=y[3])-(k=y[2])*(T=y[1]))&&(f[0]=z*(O=1/O),f[1]=-T*O,f[2]=-k*O,f[3]=C*O),u[0]=Q[0],u[1]=Q[1],u[4]=Q[2],u[5]=Q[3]}var f,y,C,T,k,z,O;return s.M(u,u,[1/n,1/n,1]),u}function Xn(m,e,n,u){if(m){const f=s.K();if(!e){const{vecSouth:y,vecEast:C}=On(n);f[0]=C[0],f[1]=C[1],f[4]=y[0],f[5]=y[1]}return s.M(f,f,[u,u,1]),f}return n.pixelsToClipSpaceMatrix}function On(m){const e=Math.cos(m.rollInRadians),n=Math.sin(m.rollInRadians),u=Math.cos(m.pitchInRadians),f=Math.cos(m.bearingInRadians),y=Math.sin(m.bearingInRadians),C=s.ao();C[0]=-f*u*n-y*e,C[1]=-y*u*n+f*e;const T=s.ap(C);T<1e-9?s.aq(C):s.ar(C,C,1/T);const k=s.ao();k[0]=f*u*e-y*n,k[1]=y*u*e+f*n;const z=s.ap(k);return z<1e-9?s.aq(k):s.ar(k,k,1/z),{vecEast:k,vecSouth:C}}function Ct(m,e,n,u){let f;u?(f=[m,e,u(m,e),1],s.at(f,f,n)):(f=[m,e,0,1],Fs(f,f,n));const y=f[3];return{point:new s.P(f[0]/y,f[1]/y),signedDistanceFromCamera:y,isOccluded:!1}}function br(m,e){return .5+m/e*.5}function fr(m,e){return m.x>=-e[0]&&m.x<=e[0]&&m.y>=-e[1]&&m.y<=e[1]}function wr(m,e,n,u,f,y,C,T,k,z,O,W,Z){const Q=n?m.textSizeData:m.iconSizeData,ie=s.ak(Q,e.transform.zoom),Ce=[256/e.width*2+1,256/e.height*2+1],we=n?m.text.dynamicLayoutVertexArray:m.icon.dynamicLayoutVertexArray;we.clear();const De=m.lineVertexArray,ke=n?m.text.placedSymbolArray:m.icon.placedSymbolArray,Le=e.transform.width/e.transform.height;let Ee=!1;for(let Be=0;Be<ke.length;Be++){const je=ke.get(Be);if(je.hidden||je.writingMode===s.al.vertical&&!Ee){qa(je.numGlyphs,we);continue}Ee=!1;const Ve=new s.P(je.anchorX,je.anchorY),lt={getElevation:Z,pitchedLabelPlaneMatrix:u,lineVertexArray:De,pitchWithMap:y,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:e.transform,tileAnchorPoint:Ve,unwrappedTileID:k,width:z,height:O,translation:W},At=or(je.anchorX,je.anchorY,lt);if(!fr(At.point,Ce)){qa(je.numGlyphs,we);continue}const rt=br(e.transform.cameraToCenterDistance,At.signedDistanceFromCamera),ht=s.am(Q,ie,je),Dt=y?ht*e.transform.getPitchedTextCorrection(je.anchorX,je.anchorY,k)/rt:ht*rt,nn=Gn({projectionContext:lt,pitchedLabelPlaneMatrixInverse:f,symbol:je,fontSize:Dt,flip:!1,keepUpright:C,glyphOffsetArray:m.glyphOffsetArray,dynamicLayoutVertexArray:we,aspectRatio:Le,rotateToLine:T});Ee=nn.useVertical,(nn.notEnoughRoom||Ee||nn.needsFlipping&&Gn({projectionContext:lt,pitchedLabelPlaneMatrixInverse:f,symbol:je,fontSize:Dt,flip:!0,keepUpright:C,glyphOffsetArray:m.glyphOffsetArray,dynamicLayoutVertexArray:we,aspectRatio:Le,rotateToLine:T}).notEnoughRoom)&&qa(je.numGlyphs,we)}n?m.text.dynamicLayoutVertexBuffer.updateData(we):m.icon.dynamicLayoutVertexBuffer.updateData(we)}function Ln(m,e,n,u,f,y,C,T){const k=y.glyphStartIndex+y.numGlyphs,z=y.lineStartIndex,O=y.lineStartIndex+y.lineLength,W=e.getoffsetX(y.glyphStartIndex),Z=e.getoffsetX(k-1),Q=Eo(m*W,n,u,f,y.segment,z,O,T,C);if(!Q)return null;const ie=Eo(m*Z,n,u,f,y.segment,z,O,T,C);return ie?T.projectionCache.anyProjectionOccluded?null:{first:Q,last:ie}:null}function zt(m,e,n,u){return m===s.al.horizontal&&Math.abs(n.y-e.y)>Math.abs(n.x-e.x)*u?{useVertical:!0}:(m===s.al.vertical?e.y<n.y:e.x>n.x)?{needsFlipping:!0}:null}function Gn(m){const{projectionContext:e,pitchedLabelPlaneMatrixInverse:n,symbol:u,fontSize:f,flip:y,keepUpright:C,glyphOffsetArray:T,dynamicLayoutVertexArray:k,aspectRatio:z,rotateToLine:O}=m,W=f/24,Z=u.lineOffsetX*W,Q=u.lineOffsetY*W;let ie;if(u.numGlyphs>1){const Ce=u.glyphStartIndex+u.numGlyphs,we=u.lineStartIndex,De=u.lineStartIndex+u.lineLength,ke=Ln(W,T,Z,Q,y,u,O,e);if(!ke)return{notEnoughRoom:!0};const Le=Sa(ke.first.point.x,ke.first.point.y,e,n),Ee=Sa(ke.last.point.x,ke.last.point.y,e,n);if(C&&!y){const Be=zt(u.writingMode,Le,Ee,z);if(Be)return Be}ie=[ke.first];for(let Be=u.glyphStartIndex+1;Be<Ce-1;Be++)ie.push(Eo(W*T.getoffsetX(Be),Z,Q,y,u.segment,we,De,e,O));ie.push(ke.last)}else{if(C&&!y){const we=Vr(e.tileAnchorPoint.x,e.tileAnchorPoint.y,e).point,De=u.lineStartIndex+u.segment+1,ke=new s.P(e.lineVertexArray.getx(De),e.lineVertexArray.gety(De)),Le=Vr(ke.x,ke.y,e),Ee=Le.signedDistanceFromCamera>0?Le.point:nr(e.tileAnchorPoint,ke,we,1,e),Be=Sa(we.x,we.y,e,n),je=Sa(Ee.x,Ee.y,e,n),Ve=zt(u.writingMode,Be,je,z);if(Ve)return Ve}const Ce=Eo(W*T.getoffsetX(u.glyphStartIndex),Z,Q,y,u.segment,u.lineStartIndex,u.lineStartIndex+u.lineLength,e,O);if(!Ce||e.projectionCache.anyProjectionOccluded)return{notEnoughRoom:!0};ie=[Ce]}for(const Ce of ie)s.as(k,Ce.point,Ce.angle);return{}}function nr(m,e,n,u,f){const y=m.add(m.sub(e)._unit()),C=Vr(y.x,y.y,f).point,T=n.sub(C);return n.add(T._mult(u/T.mag()))}function jr(m,e,n){const u=e.projectionCache;if(u.projections[m])return u.projections[m];const f=new s.P(e.lineVertexArray.getx(m),e.lineVertexArray.gety(m)),y=Vr(f.x,f.y,e);if(y.signedDistanceFromCamera>0)return u.projections[m]=y.point,u.anyProjectionOccluded=u.anyProjectionOccluded||y.isOccluded,y.point;const C=m-n.direction;return nr(n.distanceFromAnchor===0?e.tileAnchorPoint:new s.P(e.lineVertexArray.getx(C),e.lineVertexArray.gety(C)),f,n.previousVertex,n.absOffsetX-n.distanceFromAnchor+1,e)}function Vr(m,e,n){const u=m+n.translation[0],f=e+n.translation[1];let y;return n.pitchWithMap?(y=Ct(u,f,n.pitchedLabelPlaneMatrix,n.getElevation),y.isOccluded=!1):(y=n.transform.projectTileCoordinates(u,f,n.unwrappedTileID,n.getElevation),y.point.x=(.5*y.point.x+.5)*n.width,y.point.y=(.5*-y.point.y+.5)*n.height),y}function Sa(m,e,n,u){if(n.pitchWithMap){const f=[m,e,0,1];return s.at(f,f,u),n.transform.projectTileCoordinates(f[0]/f[3],f[1]/f[3],n.unwrappedTileID,n.getElevation).point}return{x:m/n.width*2-1,y:e/n.height*2-1}}function or(m,e,n){return n.transform.projectTileCoordinates(m,e,n.unwrappedTileID,n.getElevation)}function ns(m,e,n){return m._unit()._perp()._mult(e*n)}function rs(m,e,n,u,f,y,C,T,k){if(T.projectionCache.offsets[m])return T.projectionCache.offsets[m];const z=n.add(e);if(m+k.direction<u||m+k.direction>=f)return T.projectionCache.offsets[m]=z,z;const O=jr(m+k.direction,T,k),W=ns(O.sub(n),C,k.direction),Z=n.add(W),Q=O.add(W);return T.projectionCache.offsets[m]=s.au(y,z,Z,Q)||z,T.projectionCache.offsets[m]}function Eo(m,e,n,u,f,y,C,T,k){const z=u?m-e:m+e;let O=z>0?1:-1,W=0;u&&(O*=-1,W=Math.PI),O<0&&(W+=Math.PI);let Z,Q=O>0?y+f:y+f+1;T.projectionCache.cachedAnchorPoint?Z=T.projectionCache.cachedAnchorPoint:(Z=Vr(T.tileAnchorPoint.x,T.tileAnchorPoint.y,T).point,T.projectionCache.cachedAnchorPoint=Z);let ie,Ce,we=Z,De=Z,ke=0,Le=0;const Ee=Math.abs(z),Be=[];let je;for(;ke+Le<=Ee;){if(Q+=O,Q<y||Q>=C)return null;ke+=Le,De=we,Ce=ie;const At={absOffsetX:Ee,direction:O,distanceFromAnchor:ke,previousVertex:De};if(we=jr(Q,T,At),n===0)Be.push(De),je=we.sub(De);else{let rt;const ht=we.sub(De);rt=ht.mag()===0?ns(jr(Q+O,T,At).sub(we),n,O):ns(ht,n,O),Ce||(Ce=De.add(rt)),ie=rs(Q,rt,we,y,C,Ce,n,T,At),Be.push(Ce),je=ie.sub(Ce)}Le=je.mag()}const Ve=je._mult((Ee-ke)/Le)._add(Ce||De),lt=W+Math.atan2(we.y-De.y,we.x-De.x);return Be.push(Ve),{point:Ve,angle:k?lt:0,path:Be}}const ol=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function qa(m,e){for(let n=0;n<m;n++){const u=e.length;e.resize(u+4),e.float32.set(ol,3*u)}}function Fs(m,e,n){const u=e[0],f=e[1];return m[0]=n[0]*u+n[4]*f+n[12],m[1]=n[1]*u+n[5]*f+n[13],m[3]=n[3]*u+n[7]*f+n[15],m}const sr=100;class si{constructor(e,n=new pn(e.width+200,e.height+200,25),u=new pn(e.width+200,e.height+200,25)){this.transform=e,this.grid=n,this.ignoredGrid=u,this.pitchFactor=Math.cos(e.pitch*Math.PI/180)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+sr,this.screenBottomBoundary=e.height+sr,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(e,n,u,f,y,C,T,k,z,O,W,Z){const Q=this.projectAndGetPerspectiveRatio(e.anchorPointX+k[0],e.anchorPointY+k[1],y,O,Z),ie=u*Q.perspectiveRatio;let Ce;if(C||T)Ce=this._projectCollisionBox(e,ie,f,y,C,T,k,Q,O,W,Z);else{const je=Q.x+(W?W.x*ie:0),Ve=Q.y+(W?W.y*ie:0);Ce={allPointsOccluded:!1,box:[je+e.x1*ie,Ve+e.y1*ie,je+e.x2*ie,Ve+e.y2*ie]}}const[we,De,ke,Le]=Ce.box,Ee=C?Ce.allPointsOccluded:Q.isOccluded;let Be=Ee;return Be||(Be=Q.perspectiveRatio<this.perspectiveRatioCutoff),Be||(Be=!this.isInsideGrid(we,De,ke,Le)),Be||n!=="always"&&this.grid.hitTest(we,De,ke,Le,n,z)?{box:[we,De,ke,Le],placeable:!1,offscreen:!1,occluded:Ee}:{box:[we,De,ke,Le],placeable:!0,offscreen:this.isOffscreen(we,De,ke,Le),occluded:Ee}}placeCollisionCircles(e,n,u,f,y,C,T,k,z,O,W,Z,Q,ie){const Ce=[],we=new s.P(n.anchorX,n.anchorY),De=this.getPerspectiveRatio(we.x,we.y,C,ie),ke=(z?y*this.transform.getPitchedTextCorrection(n.anchorX,n.anchorY,C)/De:y*De)/s.ay,Le={getElevation:ie,pitchedLabelPlaneMatrix:T,lineVertexArray:u,pitchWithMap:z,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:this.transform,tileAnchorPoint:we,unwrappedTileID:C,width:this.transform.width,height:this.transform.height,translation:Q},Ee=Ln(ke,f,n.lineOffsetX*ke,n.lineOffsetY*ke,!1,n,!1,Le);let Be=!1,je=!1,Ve=!0;if(Ee){const lt=.5*W*De+Z,At=new s.P(-100,-100),rt=new s.P(this.screenRightBoundary,this.screenBottomBoundary),ht=new Rt,Dt=Ee.first,nn=Ee.last;let rn=[];for(let Zn=Dt.path.length-1;Zn>=1;Zn--)rn.push(Dt.path[Zn]);for(let Zn=1;Zn<nn.path.length;Zn++)rn.push(nn.path[Zn]);const Gt=2.5*lt;if(z){const Zn=this.projectPathToScreenSpace(rn,Le);rn=Zn.some(Sr=>Sr.signedDistanceFromCamera<=0)?[]:Zn.map(Sr=>Sr.point)}let bn=[];if(rn.length>0){const Zn=rn[0].clone(),Sr=rn[0].clone();for(let di=1;di<rn.length;di++)Zn.x=Math.min(Zn.x,rn[di].x),Zn.y=Math.min(Zn.y,rn[di].y),Sr.x=Math.max(Sr.x,rn[di].x),Sr.y=Math.max(Sr.y,rn[di].y);bn=Zn.x>=At.x&&Sr.x<=rt.x&&Zn.y>=At.y&&Sr.y<=rt.y?[rn]:Sr.x<At.x||Zn.x>rt.x||Sr.y<At.y||Zn.y>rt.y?[]:s.av([rn],At.x,At.y,rt.x,rt.y)}for(const Zn of bn){ht.reset(Zn,.25*lt);let Sr=0;Sr=ht.length<=.5*lt?1:Math.ceil(ht.paddedLength/Gt)+1;for(let di=0;di<Sr;di++){const ei=di/Math.max(Sr-1,1),Mi=ht.lerp(ei),Pi=Mi.x+sr,Tr=Mi.y+sr;Ce.push(Pi,Tr,lt,0);const Dr=Pi-lt,Xi=Tr-lt,wa=Pi+lt,ua=Tr+lt;if(Ve=Ve&&this.isOffscreen(Dr,Xi,wa,ua),je=je||this.isInsideGrid(Dr,Xi,wa,ua),e!=="always"&&this.grid.hitTestCircle(Pi,Tr,lt,e,O)&&(Be=!0,!k))return{circles:[],offscreen:!1,collisionDetected:Be}}}}return{circles:!k&&Be||!je||De<this.perspectiveRatioCutoff?[]:Ce,offscreen:Ve,collisionDetected:Be}}projectPathToScreenSpace(e,n){const u=function(f,y){const C=s.K();return s.an(C,y.pitchedLabelPlaneMatrix),f.map(T=>{const k=Ct(T.x,T.y,C,y.getElevation),z=y.transform.projectTileCoordinates(k.point.x,k.point.y,y.unwrappedTileID,y.getElevation);return z.point.x=(.5*z.point.x+.5)*y.width,z.point.y=(.5*-z.point.y+.5)*y.height,z})}(e,n);return function(f){let y=0,C=0,T=0,k=0;for(let z=0;z<f.length;z++)f[z].isOccluded?(T=z+1,k=0):(k++,k>C&&(C=k,y=T));return f.slice(y,y+C)}(u)}queryRenderedSymbols(e){if(e.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const n=[];let u=1/0,f=1/0,y=-1/0,C=-1/0;for(const O of e){const W=new s.P(O.x+sr,O.y+sr);u=Math.min(u,W.x),f=Math.min(f,W.y),y=Math.max(y,W.x),C=Math.max(C,W.y),n.push(W)}const T=this.grid.query(u,f,y,C).concat(this.ignoredGrid.query(u,f,y,C)),k={},z={};for(const O of T){const W=O.key;if(k[W.bucketInstanceId]===void 0&&(k[W.bucketInstanceId]={}),k[W.bucketInstanceId][W.featureIndex])continue;const Z=[new s.P(O.x1,O.y1),new s.P(O.x2,O.y1),new s.P(O.x2,O.y2),new s.P(O.x1,O.y2)];s.aw(n,Z)&&(k[W.bucketInstanceId][W.featureIndex]=!0,z[W.bucketInstanceId]===void 0&&(z[W.bucketInstanceId]=[]),z[W.bucketInstanceId].push(W.featureIndex))}return z}insertCollisionBox(e,n,u,f,y,C){(u?this.ignoredGrid:this.grid).insert({bucketInstanceId:f,featureIndex:y,collisionGroupID:C,overlapMode:n},e[0],e[1],e[2],e[3])}insertCollisionCircles(e,n,u,f,y,C){const T=u?this.ignoredGrid:this.grid,k={bucketInstanceId:f,featureIndex:y,collisionGroupID:C,overlapMode:n};for(let z=0;z<e.length;z+=4)T.insertCircle(k,e[z],e[z+1],e[z+2])}projectAndGetPerspectiveRatio(e,n,u,f,y){if(y){let C;f?(C=[e,n,f(e,n),1],s.at(C,C,y)):(C=[e,n,0,1],Fs(C,C,y));const T=C[3];return{x:(C[0]/T+1)/2*this.transform.width+sr,y:(-C[1]/T+1)/2*this.transform.height+sr,perspectiveRatio:.5+this.transform.cameraToCenterDistance/T*.5,isOccluded:!1,signedDistanceFromCamera:T}}{const C=this.transform.projectTileCoordinates(e,n,u,f);return{x:(C.point.x+1)/2*this.transform.width+sr,y:(1-C.point.y)/2*this.transform.height+sr,perspectiveRatio:.5+this.transform.cameraToCenterDistance/C.signedDistanceFromCamera*.5,isOccluded:C.isOccluded,signedDistanceFromCamera:C.signedDistanceFromCamera}}}getPerspectiveRatio(e,n,u,f){const y=this.transform.projectTileCoordinates(e,n,u,f);return .5+this.transform.cameraToCenterDistance/y.signedDistanceFromCamera*.5}isOffscreen(e,n,u,f){return u<sr||e>=this.screenRightBoundary||f<sr||n>this.screenBottomBoundary}isInsideGrid(e,n,u,f){return u>=0&&e<this.gridRightBoundary&&f>=0&&n<this.gridBottomBoundary}getViewportMatrix(){const e=s.ad([]);return s.L(e,e,[-100,-100,0]),e}_projectCollisionBox(e,n,u,f,y,C,T,k,z,O,W){let Z=1,Q=0,ie=0,Ce=1;const we=e.anchorPointX+T[0],De=e.anchorPointY+T[1];if(C&&!y){const rn=this.projectAndGetPerspectiveRatio(we+1,De,f,z,W),Gt=rn.x-k.x,bn=Math.atan((rn.y-k.y)/Gt)+(Gt<0?Math.PI:0),Zn=Math.sin(bn),Sr=Math.cos(bn);Z=Sr,Q=Zn,ie=-Zn,Ce=Sr}else if(!C&&y){const rn=On(this.transform);Z=rn.vecEast[0],Q=rn.vecEast[1],ie=rn.vecSouth[0],Ce=rn.vecSouth[1]}let ke=k.x,Le=k.y,Ee=n;y&&(ke=we,Le=De,Ee=Math.pow(2,-(this.transform.zoom-u.overscaledZ)),Ee*=this.transform.getPitchedTextCorrection(we,De,f),O||(Ee*=s.ae(.5+k.signedDistanceFromCamera/this.transform.cameraToCenterDistance*.5,0,4))),O&&(ke+=Z*O.x*Ee+ie*O.y*Ee,Le+=Q*O.x*Ee+Ce*O.y*Ee);const Be=e.x1*Ee,je=e.x2*Ee,Ve=(Be+je)/2,lt=e.y1*Ee,At=e.y2*Ee,rt=(lt+At)/2,ht=[{offsetX:Be,offsetY:lt},{offsetX:Ve,offsetY:lt},{offsetX:je,offsetY:lt},{offsetX:je,offsetY:rt},{offsetX:je,offsetY:At},{offsetX:Ve,offsetY:At},{offsetX:Be,offsetY:At},{offsetX:Be,offsetY:rt}];let Dt=[];for(const{offsetX:rn,offsetY:Gt}of ht)Dt.push(new s.P(ke+Z*rn+ie*Gt,Le+Q*rn+Ce*Gt));let nn=!1;if(y){const rn=Dt.map(Gt=>this.projectAndGetPerspectiveRatio(Gt.x,Gt.y,f,z,W));nn=rn.some(Gt=>!Gt.isOccluded),Dt=rn.map(Gt=>new s.P(Gt.x,Gt.y))}else nn=!0;return{box:s.ax(Dt),allPointsOccluded:!nn}}}class Wr{constructor(e,n,u,f){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?n:-n))):f&&u?1:0,this.placed=u}isHidden(){return this.opacity===0&&!this.placed}}class Ns{constructor(e,n,u,f,y){this.text=new Wr(e?e.text:null,n,u,y),this.icon=new Wr(e?e.icon:null,n,f,y)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class lo{constructor(e,n,u){this.text=e,this.icon=n,this.skipFade=u}}class n0{constructor(e,n,u,f,y){this.bucketInstanceId=e,this.featureIndex=n,this.sourceLayerIndex=u,this.bucketIndex=f,this.tileID=y}}class La{constructor(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={}}get(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){const n=++this.maxGroupID;this.collisionGroups[e]={ID:n,predicate:u=>u.collisionGroupID===n}}return this.collisionGroups[e]}}function na(m,e,n,u,f){const{horizontalAlign:y,verticalAlign:C}=s.aE(m);return new s.P(-(y-.5)*e+u[0]*f,-(C-.5)*n+u[1]*f)}class uo{constructor(e,n,u,f,y){this.transform=e.clone(),this.terrain=n,this.collisionIndex=new si(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=u,this.retainedQueryData={},this.collisionGroups=new La(f),this.collisionCircleArrays={},this.collisionBoxArrays=new Map,this.prevPlacement=y,y&&(y.prevPlacement=void 0),this.placedOrientations={}}_getTerrainElevationFunc(e){const n=this.terrain;return n?(u,f)=>n.getElevation(e,u,f):null}getBucketParts(e,n,u,f){const y=u.getBucket(n),C=u.latestFeatureIndex;if(!y||!C||n.id!==y.layerIds[0])return;const T=u.collisionBoxArray,k=y.layers[0].layout,z=y.layers[0].paint,O=Math.pow(2,this.transform.zoom-u.tileID.overscaledZ),W=u.tileSize/s.Z,Z=u.tileID.toUnwrapped(),Q=k.get("text-rotation-alignment")==="map",ie=s.az(u,1,this.transform.zoom),Ce=s.aA(this.collisionIndex.transform,u,z.get("text-translate"),z.get("text-translate-anchor")),we=s.aA(this.collisionIndex.transform,u,z.get("icon-translate"),z.get("icon-translate-anchor")),De=Tn(Q,this.transform,ie);this.retainedQueryData[y.bucketInstanceId]=new n0(y.bucketInstanceId,C,y.sourceLayerIndex,y.index,u.tileID);const ke={bucket:y,layout:k,translationText:Ce,translationIcon:we,unwrappedTileID:Z,pitchedLabelPlaneMatrix:De,scale:O,textPixelRatio:W,holdingForFade:u.holdingForFade(),collisionBoxArray:T,partiallyEvaluatedTextSize:s.ak(y.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(y.sourceID)};if(f)for(const Le of y.sortKeyRanges){const{sortKey:Ee,symbolInstanceStart:Be,symbolInstanceEnd:je}=Le;e.push({sortKey:Ee,symbolInstanceStart:Be,symbolInstanceEnd:je,parameters:ke})}else e.push({symbolInstanceStart:0,symbolInstanceEnd:y.symbolInstances.length,parameters:ke})}attemptAnchorPlacement(e,n,u,f,y,C,T,k,z,O,W,Z,Q,ie,Ce,we,De,ke,Le,Ee){const Be=s.aB[e.textAnchor],je=[e.textOffset0,e.textOffset1],Ve=na(Be,u,f,je,y),lt=this.collisionIndex.placeCollisionBox(n,Z,k,z,O,T,C,we,W.predicate,Le,Ve,Ee);if((!ke||this.collisionIndex.placeCollisionBox(ke,Z,k,z,O,T,C,De,W.predicate,Le,Ve,Ee).placeable)&&lt.placeable){let At;if(this.prevPlacement&&this.prevPlacement.variableOffsets[Q.crossTileID]&&this.prevPlacement.placements[Q.crossTileID]&&this.prevPlacement.placements[Q.crossTileID].text&&(At=this.prevPlacement.variableOffsets[Q.crossTileID].anchor),Q.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[Q.crossTileID]={textOffset:je,width:u,height:f,anchor:Be,textBoxScale:y,prevAnchor:At},this.markUsedJustification(ie,Be,Q,Ce),ie.allowVerticalPlacement&&(this.markUsedOrientation(ie,Ce,Q),this.placedOrientations[Q.crossTileID]=Ce),{shift:Ve,placedGlyphBoxes:lt}}}placeLayerBucketPart(e,n,u){const{bucket:f,layout:y,translationText:C,translationIcon:T,unwrappedTileID:k,pitchedLabelPlaneMatrix:z,textPixelRatio:O,holdingForFade:W,collisionBoxArray:Z,partiallyEvaluatedTextSize:Q,collisionGroup:ie}=e.parameters,Ce=y.get("text-optional"),we=y.get("icon-optional"),De=s.aC(y,"text-overlap","text-allow-overlap"),ke=De==="always",Le=s.aC(y,"icon-overlap","icon-allow-overlap"),Ee=Le==="always",Be=y.get("text-rotation-alignment")==="map",je=y.get("text-pitch-alignment")==="map",Ve=y.get("icon-text-fit")!=="none",lt=y.get("symbol-z-order")==="viewport-y",At=ke&&(Ee||!f.hasIconData()||we),rt=Ee&&(ke||!f.hasTextData()||Ce);!f.collisionArrays&&Z&&f.deserializeCollisionBoxes(Z);const ht=this.retainedQueryData[f.bucketInstanceId].tileID,Dt=this._getTerrainElevationFunc(ht),nn=this.transform.getFastPathSimpleProjectionMatrix(ht),rn=(Gt,bn,Zn)=>{var Sr,di;if(n[Gt.crossTileID])return;if(W)return void(this.placements[Gt.crossTileID]=new lo(!1,!1,!1));let ei=!1,Mi=!1,Pi=!0,Tr=null,Dr={box:null,placeable:!1,offscreen:null,occluded:!1},Xi={placeable:!1},wa=null,ua=null,Pr=null,Dl=0,ds=0,Ps=0;bn.textFeatureIndex?Dl=bn.textFeatureIndex:Gt.useRuntimeCollisionCircles&&(Dl=Gt.featureIndex),bn.verticalTextFeatureIndex&&(ds=bn.verticalTextFeatureIndex);const Wl=bn.textBox;if(Wl){const Wo=ca=>{let ha=s.al.horizontal;if(f.allowVerticalPlacement&&!ca&&this.prevPlacement){const bo=this.prevPlacement.placedOrientations[Gt.crossTileID];bo&&(this.placedOrientations[Gt.crossTileID]=bo,ha=bo,this.markUsedOrientation(f,ha,Gt))}return ha},Hl=(ca,ha)=>{if(f.allowVerticalPlacement&&Gt.numVerticalGlyphVertices>0&&bn.verticalTextBox){for(const bo of f.writingModes)if(bo===s.al.vertical?(Dr=ha(),Xi=Dr):Dr=ca(),Dr&&Dr.placeable)break}else Dr=ca()},Es=Gt.textAnchorOffsetStartIndex,p0=Gt.textAnchorOffsetEndIndex;if(p0===Es){const ca=(ha,bo)=>{const vi=this.collisionIndex.placeCollisionBox(ha,De,O,ht,k,je,Be,C,ie.predicate,Dt,void 0,nn);return vi&&vi.placeable&&(this.markUsedOrientation(f,bo,Gt),this.placedOrientations[Gt.crossTileID]=bo),vi};Hl(()=>ca(Wl,s.al.horizontal),()=>{const ha=bn.verticalTextBox;return f.allowVerticalPlacement&&Gt.numVerticalGlyphVertices>0&&ha?ca(ha,s.al.vertical):{box:null,offscreen:null}}),Wo(Dr&&Dr.placeable)}else{let ca=s.aB[(di=(Sr=this.prevPlacement)===null||Sr===void 0?void 0:Sr.variableOffsets[Gt.crossTileID])===null||di===void 0?void 0:di.anchor];const ha=(vi,eh,Oh)=>{const th=vi.x2-vi.x1,Ho=vi.y2-vi.y1,ks=Gt.textBoxScale,F0=Ve&&Le==="never"?eh:null;let Js=null,Rs=De==="never"?1:2,to="never";ca&&Rs++;for(let Ca=0;Ca<Rs;Ca++){for(let _u=Es;_u<p0;_u++){const Il=f.textAnchorOffsets.get(_u);if(ca&&Il.textAnchor!==ca)continue;const bc=this.attemptAnchorPlacement(Il,vi,th,Ho,ks,Be,je,O,ht,k,ie,to,Gt,f,Oh,C,T,F0,Dt);if(bc&&(Js=bc.placedGlyphBoxes,Js&&Js.placeable))return ei=!0,Tr=bc.shift,Js}ca?ca=null:to=De}return u&&!Js&&(Js={box:this.collisionIndex.placeCollisionBox(Wl,"always",O,ht,k,je,Be,C,ie.predicate,Dt,void 0,nn).box,offscreen:!1,placeable:!1,occluded:!1}),Js};Hl(()=>ha(Wl,bn.iconBox,s.al.horizontal),()=>{const vi=bn.verticalTextBox;return f.allowVerticalPlacement&&(!Dr||!Dr.placeable)&&Gt.numVerticalGlyphVertices>0&&vi?ha(vi,bn.verticalIconBox,s.al.vertical):{box:null,occluded:!0,offscreen:null}}),Dr&&(ei=Dr.placeable,Pi=Dr.offscreen);const bo=Wo(Dr&&Dr.placeable);if(!ei&&this.prevPlacement){const vi=this.prevPlacement.variableOffsets[Gt.crossTileID];vi&&(this.variableOffsets[Gt.crossTileID]=vi,this.markUsedJustification(f,vi.anchor,Gt,bo))}}}if(wa=Dr,ei=wa&&wa.placeable,Pi=wa&&wa.offscreen,Gt.useRuntimeCollisionCircles){const Wo=f.text.placedSymbolArray.get(Gt.centerJustifiedTextSymbolIndex),Hl=s.am(f.textSizeData,Q,Wo),Es=y.get("text-padding");ua=this.collisionIndex.placeCollisionCircles(De,Wo,f.lineVertexArray,f.glyphOffsetArray,Hl,k,z,u,je,ie.predicate,Gt.collisionCircleDiameter,Es,C,Dt),ua.circles.length&&ua.collisionDetected&&!u&&s.w("Collisions detected, but collision boxes are not shown"),ei=ke||ua.circles.length>0&&!ua.collisionDetected,Pi=Pi&&ua.offscreen}if(bn.iconFeatureIndex&&(Ps=bn.iconFeatureIndex),bn.iconBox){const Wo=Hl=>this.collisionIndex.placeCollisionBox(Hl,Le,O,ht,k,je,Be,T,ie.predicate,Dt,Ve&&Tr?Tr:void 0,nn);Xi&&Xi.placeable&&bn.verticalIconBox?(Pr=Wo(bn.verticalIconBox),Mi=Pr.placeable):(Pr=Wo(bn.iconBox),Mi=Pr.placeable),Pi=Pi&&Pr.offscreen}const fs=Ce||Gt.numHorizontalGlyphVertices===0&&Gt.numVerticalGlyphVertices===0,h0=we||Gt.numIconVertices===0;fs||h0?h0?fs||(Mi=Mi&&ei):ei=Mi&&ei:Mi=ei=Mi&&ei;const Zo=Mi&&Pr.placeable;if(ei&&wa.placeable&&this.collisionIndex.insertCollisionBox(wa.box,De,y.get("text-ignore-placement"),f.bucketInstanceId,Xi&&Xi.placeable&&ds?ds:Dl,ie.ID),Zo&&this.collisionIndex.insertCollisionBox(Pr.box,Le,y.get("icon-ignore-placement"),f.bucketInstanceId,Ps,ie.ID),ua&&ei&&this.collisionIndex.insertCollisionCircles(ua.circles,De,y.get("text-ignore-placement"),f.bucketInstanceId,Dl,ie.ID),u&&this.storeCollisionData(f.bucketInstanceId,Zn,bn,wa,Pr,ua),Gt.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(f.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[Gt.crossTileID]=new lo((ei||At)&&!(wa!=null&&wa.occluded),(Mi||rt)&&!(Pr!=null&&Pr.occluded),Pi||f.justReloaded),n[Gt.crossTileID]=!0};if(lt){if(e.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const Gt=f.getSortedSymbolIndexes(-this.transform.bearingInRadians);for(let bn=Gt.length-1;bn>=0;--bn){const Zn=Gt[bn];rn(f.symbolInstances.get(Zn),f.collisionArrays[Zn],Zn)}}else for(let Gt=e.symbolInstanceStart;Gt<e.symbolInstanceEnd;Gt++)rn(f.symbolInstances.get(Gt),f.collisionArrays[Gt],Gt);f.justReloaded=!1}storeCollisionData(e,n,u,f,y,C){if(u.textBox||u.iconBox){let T,k;this.collisionBoxArrays.has(e)?T=this.collisionBoxArrays.get(e):(T=new Map,this.collisionBoxArrays.set(e,T)),T.has(n)?k=T.get(n):(k={text:null,icon:null},T.set(n,k)),u.textBox&&(k.text=f.box),u.iconBox&&(k.icon=y.box)}if(C){let T=this.collisionCircleArrays[e];T===void 0&&(T=this.collisionCircleArrays[e]=[]);for(let k=0;k<C.circles.length;k+=4)T.push(C.circles[k+0]-sr),T.push(C.circles[k+1]-sr),T.push(C.circles[k+2]),T.push(C.collisionDetected?1:0)}}markUsedJustification(e,n,u,f){let y;y=f===s.al.vertical?u.verticalPlacedTextSymbolIndex:{left:u.leftJustifiedTextSymbolIndex,center:u.centerJustifiedTextSymbolIndex,right:u.rightJustifiedTextSymbolIndex}[s.aD(n)];const C=[u.leftJustifiedTextSymbolIndex,u.centerJustifiedTextSymbolIndex,u.rightJustifiedTextSymbolIndex,u.verticalPlacedTextSymbolIndex];for(const T of C)T>=0&&(e.text.placedSymbolArray.get(T).crossTileID=y>=0&&T!==y?0:u.crossTileID)}markUsedOrientation(e,n,u){const f=n===s.al.horizontal||n===s.al.horizontalOnly?n:0,y=n===s.al.vertical?n:0,C=[u.leftJustifiedTextSymbolIndex,u.centerJustifiedTextSymbolIndex,u.rightJustifiedTextSymbolIndex];for(const T of C)e.text.placedSymbolArray.get(T).placedOrientation=f;u.verticalPlacedTextSymbolIndex&&(e.text.placedSymbolArray.get(u.verticalPlacedTextSymbolIndex).placedOrientation=y)}commit(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;const n=this.prevPlacement;let u=!1;this.prevZoomAdjustment=n?n.zoomAdjustment(this.transform.zoom):0;const f=n?n.symbolFadeChange(e):1,y=n?n.opacities:{},C=n?n.variableOffsets:{},T=n?n.placedOrientations:{};for(const k in this.placements){const z=this.placements[k],O=y[k];O?(this.opacities[k]=new Ns(O,f,z.text,z.icon),u=u||z.text!==O.text.placed||z.icon!==O.icon.placed):(this.opacities[k]=new Ns(null,f,z.text,z.icon,z.skipFade),u=u||z.text||z.icon)}for(const k in y){const z=y[k];if(!this.opacities[k]){const O=new Ns(z,f,!1,!1);O.isHidden()||(this.opacities[k]=O,u=u||z.text.placed||z.icon.placed)}}for(const k in C)this.variableOffsets[k]||!this.opacities[k]||this.opacities[k].isHidden()||(this.variableOffsets[k]=C[k]);for(const k in T)this.placedOrientations[k]||!this.opacities[k]||this.opacities[k].isHidden()||(this.placedOrientations[k]=T[k]);if(n&&n.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");u?this.lastPlacementChangeTime=e:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=n?n.lastPlacementChangeTime:e)}updateLayerOpacities(e,n){const u={};for(const f of n){const y=f.getBucket(e);y&&f.latestFeatureIndex&&e.id===y.layerIds[0]&&this.updateBucketOpacities(y,f.tileID,u,f.collisionBoxArray)}}updateBucketOpacities(e,n,u,f){e.hasTextData()&&(e.text.opacityVertexArray.clear(),e.text.hasVisibleVertices=!1),e.hasIconData()&&(e.icon.opacityVertexArray.clear(),e.icon.hasVisibleVertices=!1),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexArray.clear(),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexArray.clear();const y=e.layers[0],C=y.layout,T=new Ns(null,0,!1,!1,!0),k=C.get("text-allow-overlap"),z=C.get("icon-allow-overlap"),O=y._unevaluatedLayout.hasValue("text-variable-anchor")||y._unevaluatedLayout.hasValue("text-variable-anchor-offset"),W=C.get("text-rotation-alignment")==="map",Z=C.get("text-pitch-alignment")==="map",Q=C.get("icon-text-fit")!=="none",ie=new Ns(null,0,k&&(z||!e.hasIconData()||C.get("icon-optional")),z&&(k||!e.hasTextData()||C.get("text-optional")),!0);!e.collisionArrays&&f&&(e.hasIconCollisionBoxData()||e.hasTextCollisionBoxData())&&e.deserializeCollisionBoxes(f);const Ce=(De,ke,Le)=>{for(let Ee=0;Ee<ke/4;Ee++)De.opacityVertexArray.emplaceBack(Le);De.hasVisibleVertices=De.hasVisibleVertices||Le!==B},we=this.collisionBoxArrays.get(e.bucketInstanceId);for(let De=0;De<e.symbolInstances.length;De++){const ke=e.symbolInstances.get(De),{numHorizontalGlyphVertices:Le,numVerticalGlyphVertices:Ee,crossTileID:Be}=ke;let je=this.opacities[Be];u[Be]?je=T:je||(je=ie,this.opacities[Be]=je),u[Be]=!0;const Ve=ke.numIconVertices>0,lt=this.placedOrientations[ke.crossTileID],At=lt===s.al.vertical,rt=lt===s.al.horizontal||lt===s.al.horizontalOnly;if(Le>0||Ee>0){const Dt=ko(je.text);Ce(e.text,Le,At?B:Dt),Ce(e.text,Ee,rt?B:Dt);const nn=je.text.isHidden();[ke.rightJustifiedTextSymbolIndex,ke.centerJustifiedTextSymbolIndex,ke.leftJustifiedTextSymbolIndex].forEach(bn=>{bn>=0&&(e.text.placedSymbolArray.get(bn).hidden=nn||At?1:0)}),ke.verticalPlacedTextSymbolIndex>=0&&(e.text.placedSymbolArray.get(ke.verticalPlacedTextSymbolIndex).hidden=nn||rt?1:0);const rn=this.variableOffsets[ke.crossTileID];rn&&this.markUsedJustification(e,rn.anchor,ke,lt);const Gt=this.placedOrientations[ke.crossTileID];Gt&&(this.markUsedJustification(e,"left",ke,Gt),this.markUsedOrientation(e,Gt,ke))}if(Ve){const Dt=ko(je.icon),nn=!(Q&&ke.verticalPlacedIconSymbolIndex&&At);ke.placedIconSymbolIndex>=0&&(Ce(e.icon,ke.numIconVertices,nn?Dt:B),e.icon.placedSymbolArray.get(ke.placedIconSymbolIndex).hidden=je.icon.isHidden()),ke.verticalPlacedIconSymbolIndex>=0&&(Ce(e.icon,ke.numVerticalIconVertices,nn?B:Dt),e.icon.placedSymbolArray.get(ke.verticalPlacedIconSymbolIndex).hidden=je.icon.isHidden())}const ht=we&&we.has(De)?we.get(De):{text:null,icon:null};if(e.hasIconCollisionBoxData()||e.hasTextCollisionBoxData()){const Dt=e.collisionArrays[De];if(Dt){let nn=new s.P(0,0);if(Dt.textBox||Dt.verticalTextBox){let rn=!0;if(O){const Gt=this.variableOffsets[Be];Gt?(nn=na(Gt.anchor,Gt.width,Gt.height,Gt.textOffset,Gt.textBoxScale),W&&nn._rotate(Z?-this.transform.bearingInRadians:this.transform.bearingInRadians)):rn=!1}if(Dt.textBox||Dt.verticalTextBox){let Gt;Dt.textBox&&(Gt=At),Dt.verticalTextBox&&(Gt=rt),sl(e.textCollisionBox.collisionVertexArray,je.text.placed,!rn||Gt,ht.text,nn.x,nn.y)}}if(Dt.iconBox||Dt.verticalIconBox){const rn=!!(!rt&&Dt.verticalIconBox);let Gt;Dt.iconBox&&(Gt=rn),Dt.verticalIconBox&&(Gt=!rn),sl(e.iconCollisionBox.collisionVertexArray,je.icon.placed,Gt,ht.icon,Q?nn.x:0,Q?nn.y:0)}}}}if(e.sortFeatures(-this.transform.bearingInRadians),this.retainedQueryData[e.bucketInstanceId]&&(this.retainedQueryData[e.bucketInstanceId].featureSortOrder=e.featureSortOrder),e.hasTextData()&&e.text.opacityVertexBuffer&&e.text.opacityVertexBuffer.updateData(e.text.opacityVertexArray),e.hasIconData()&&e.icon.opacityVertexBuffer&&e.icon.opacityVertexBuffer.updateData(e.icon.opacityVertexArray),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexBuffer&&e.iconCollisionBox.collisionVertexBuffer.updateData(e.iconCollisionBox.collisionVertexArray),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexBuffer&&e.textCollisionBox.collisionVertexBuffer.updateData(e.textCollisionBox.collisionVertexArray),e.text.opacityVertexArray.length!==e.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${e.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${e.text.layoutVertexArray.length}) / 4`);if(e.icon.opacityVertexArray.length!==e.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${e.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${e.icon.layoutVertexArray.length}) / 4`);e.bucketInstanceId in this.collisionCircleArrays&&(e.collisionCircleArray=this.collisionCircleArrays[e.bucketInstanceId],delete this.collisionCircleArrays[e.bucketInstanceId])}symbolFadeChange(e){return this.fadeDuration===0?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(e){return Math.max(0,(this.transform.zoom-e)/1.5)}hasTransitions(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(e,n){const u=this.zoomAtLastRecencyCheck===n?1-this.zoomAdjustment(n):1;return this.zoomAtLastRecencyCheck=n,this.commitTime+this.fadeDuration*u>e}setStale(){this.stale=!0}}function sl(m,e,n,u,f,y){u&&u.length!==0||(u=[0,0,0,0]);const C=u[0]-sr,T=u[1]-sr,k=u[2]-sr,z=u[3]-sr;m.emplaceBack(e?1:0,n?1:0,f||0,y||0,C,T),m.emplaceBack(e?1:0,n?1:0,f||0,y||0,k,T),m.emplaceBack(e?1:0,n?1:0,f||0,y||0,k,z),m.emplaceBack(e?1:0,n?1:0,f||0,y||0,C,z)}const va=Math.pow(2,25),bs=Math.pow(2,24),r0=Math.pow(2,17),b0=Math.pow(2,16),ws=Math.pow(2,9),i0=Math.pow(2,8),$s=Math.pow(2,1);function ko(m){if(m.opacity===0&&!m.placed)return 0;if(m.opacity===1&&m.placed)return 4294967295;const e=m.placed?1:0,n=Math.floor(127*m.opacity);return n*va+e*bs+n*r0+e*b0+n*ws+e*i0+n*$s+e}const B=0;class J{constructor(e){this._sortAcrossTiles=e.layout.get("symbol-z-order")!=="viewport-y"&&!e.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(e,n,u,f,y){const C=this._bucketParts;for(;this._currentTileIndex<e.length;)if(n.getBucketParts(C,f,e[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,y())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,C.sort((T,k)=>T.sortKey-k.sortKey));this._currentPartIndex<C.length;)if(n.placeLayerBucketPart(C[this._currentPartIndex],this._seenCrossTileIDs,u),this._currentPartIndex++,y())return!0;return!1}}class fe{constructor(e,n,u,f,y,C,T,k){this.placement=new uo(e,n,C,T,k),this._currentPlacementIndex=u.length-1,this._forceFullPlacement=f,this._showCollisionBoxes=y,this._done=!1}isDone(){return this._done}continuePlacement(e,n,u){const f=ce.now(),y=()=>!this._forceFullPlacement&&ce.now()-f>2;for(;this._currentPlacementIndex>=0;){const C=n[e[this._currentPlacementIndex]],T=this.placement.collisionIndex.transform.zoom;if(C.type==="symbol"&&(!C.minzoom||C.minzoom<=T)&&(!C.maxzoom||C.maxzoom>T)){if(this._inProgressLayer||(this._inProgressLayer=new J(C)),this._inProgressLayer.continuePlacement(u[C.source],this.placement,this._showCollisionBoxes,C,y))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(e){return this.placement.commit(e),this.placement}}const Te=512/s.Z/2;class gt{constructor(e,n,u){this.tileID=e,this.bucketInstanceId=u,this._symbolsByKey={};const f=new Map;for(let y=0;y<n.length;y++){const C=n.get(y),T=C.key,k=f.get(T);k?k.push(C):f.set(T,[C])}for(const[y,C]of f){const T={positions:C.map(k=>({x:Math.floor(k.anchorX*Te),y:Math.floor(k.anchorY*Te)})),crossTileIDs:C.map(k=>k.crossTileID)};if(T.positions.length>128){const k=new s.aF(T.positions.length,16,Uint16Array);for(const{x:z,y:O}of T.positions)k.add(z,O);k.finish(),delete T.positions,T.index=k}this._symbolsByKey[y]=T}}getScaledCoordinates(e,n){const{x:u,y:f,z:y}=this.tileID.canonical,{x:C,y:T,z:k}=n.canonical,z=Te/Math.pow(2,k-y),O=(T*s.Z+e.anchorY)*z,W=f*s.Z*Te;return{x:Math.floor((C*s.Z+e.anchorX)*z-u*s.Z*Te),y:Math.floor(O-W)}}findMatches(e,n,u){const f=this.tileID.canonical.z<n.canonical.z?1:Math.pow(2,this.tileID.canonical.z-n.canonical.z);for(let y=0;y<e.length;y++){const C=e.get(y);if(C.crossTileID)continue;const T=this._symbolsByKey[C.key];if(!T)continue;const k=this.getScaledCoordinates(C,n);if(T.index){const z=T.index.range(k.x-f,k.y-f,k.x+f,k.y+f).sort();for(const O of z){const W=T.crossTileIDs[O];if(!u[W]){u[W]=!0,C.crossTileID=W;break}}}else if(T.positions)for(let z=0;z<T.positions.length;z++){const O=T.positions[z],W=T.crossTileIDs[z];if(Math.abs(O.x-k.x)<=f&&Math.abs(O.y-k.y)<=f&&!u[W]){u[W]=!0,C.crossTileID=W;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:e})=>e)}}class ct{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Ut{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(e){const n=Math.round((e-this.lng)/360);if(n!==0)for(const u in this.indexes){const f=this.indexes[u],y={};for(const C in f){const T=f[C];T.tileID=T.tileID.unwrapTo(T.tileID.wrap+n),y[T.tileID.key]=T}this.indexes[u]=y}this.lng=e}addBucket(e,n,u){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===n.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(let y=0;y<n.symbolInstances.length;y++)n.symbolInstances.get(y).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});const f=this.usedCrossTileIDs[e.overscaledZ];for(const y in this.indexes){const C=this.indexes[y];if(Number(y)>e.overscaledZ)for(const T in C){const k=C[T];k.tileID.isChildOf(e)&&k.findMatches(n.symbolInstances,e,f)}else{const T=C[e.scaledTo(Number(y)).key];T&&T.findMatches(n.symbolInstances,e,f)}}for(let y=0;y<n.symbolInstances.length;y++){const C=n.symbolInstances.get(y);C.crossTileID||(C.crossTileID=u.generate(),f[C.crossTileID]=!0)}return this.indexes[e.overscaledZ]===void 0&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new gt(e,n.symbolInstances,n.bucketInstanceId),!0}removeBucketCrossTileIDs(e,n){for(const u of n.getCrossTileIDsLists())for(const f of u)delete this.usedCrossTileIDs[e][f]}removeStaleBuckets(e){let n=!1;for(const u in this.indexes){const f=this.indexes[u];for(const y in f)e[f[y].bucketInstanceId]||(this.removeBucketCrossTileIDs(u,f[y]),delete f[y],n=!0)}return n}}class sn{constructor(){this.layerIndexes={},this.crossTileIDs=new ct,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(e,n,u){let f=this.layerIndexes[e.id];f===void 0&&(f=this.layerIndexes[e.id]=new Ut);let y=!1;const C={};f.handleWrapJump(u);for(const T of n){const k=T.getBucket(e);k&&e.id===k.layerIds[0]&&(k.bucketInstanceId||(k.bucketInstanceId=++this.maxBucketInstanceId),f.addBucket(T.tileID,k,this.crossTileIDs)&&(y=!0),C[k.bucketInstanceId]=!0)}return f.removeStaleBuckets(C)&&(y=!0),y}pruneUnusedLayers(e){const n={};e.forEach(u=>{n[u]=!0});for(const u in this.layerIndexes)n[u]||delete this.layerIndexes[u]}}var _n="void main() {fragColor=vec4(1.0);}";const Mn={prelude:xn(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
out highp vec4 fragColor;`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}mat3 rotationMatrixFromAxisAngle(vec3 u,float angle) {float c=cos(angle);float s=sin(angle);float c2=1.0-c;return mat3(u.x*u.x*c2+      c,u.x*u.y*c2-u.z*s,u.x*u.z*c2+u.y*s,u.y*u.x*c2+u.z*s,u.y*u.y*c2+    c,u.y*u.z*c2-u.x*s,u.z*u.x*c2-u.y*s,u.z*u.y*c2+u.x*s,u.z*u.z*c2+    c
);}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
#ifdef GLOBE
if ((pos.y <-32767.5) || (pos.y > 32766.5)) {return 0.0;}
#endif
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}const float PI=3.141592653589793;uniform mat4 u_projection_matrix;`),projectionMercator:xn("","float projectLineThickness(float tileY) {return 1.0;}float projectCircleRadius(float tileY) {return 1.0;}vec4 projectTile(vec2 p) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);return result;}vec4 projectTile(vec2 p,vec2 rawPos) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);if (rawPos.y <-32767.5 || rawPos.y > 32766.5) {result.z=-10000000.0;}return result;}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_projection_matrix*vec4(posInTile,elevation,1.0);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {return projectTileWithElevation(posInTile,elevation);}"),projectionGlobe:xn("",`#define GLOBE_RADIUS 6371008.8
uniform highp vec4 u_projection_tile_mercator_coords;uniform highp vec4 u_projection_clipping_plane;uniform highp float u_projection_transition;uniform mat4 u_projection_fallback_matrix;vec3 globeRotateVector(vec3 vec,vec2 angles) {vec3 axisRight=vec3(vec.z,0.0,-vec.x);vec3 axisUp=cross(axisRight,vec);axisRight=normalize(axisRight);axisUp=normalize(axisUp);vec2 t=tan(angles);return normalize(vec+axisRight*t.x+axisUp*t.y);}mat3 globeGetRotationMatrix(vec3 spherePos) {vec3 axisRight=vec3(spherePos.z,0.0,-spherePos.x);vec3 axisDown=cross(axisRight,spherePos);axisRight=normalize(axisRight);axisDown=normalize(axisDown);return mat3(axisRight,axisDown,spherePos
);}float circumferenceRatioAtTileY(float tileY) {float mercator_pos_y=u_projection_tile_mercator_coords.y+u_projection_tile_mercator_coords.w*tileY;float spherical_y=2.0*atan(exp(PI-(mercator_pos_y*PI*2.0)))-PI*0.5;return cos(spherical_y);}float projectLineThickness(float tileY) {float thickness=1.0/circumferenceRatioAtTileY(tileY); 
if (u_projection_transition < 0.999) {return mix(1.0,thickness,u_projection_transition);} else {return thickness;}}vec3 projectToSphere(vec2 translatedPos,vec2 rawPos) {vec2 mercator_pos=u_projection_tile_mercator_coords.xy+u_projection_tile_mercator_coords.zw*translatedPos;vec2 spherical;spherical.x=mercator_pos.x*PI*2.0+PI;spherical.y=2.0*atan(exp(PI-(mercator_pos.y*PI*2.0)))-PI*0.5;float len=cos(spherical.y);vec3 pos=vec3(sin(spherical.x)*len,sin(spherical.y),cos(spherical.x)*len
);if (rawPos.y <-32767.5) {pos=vec3(0.0,1.0,0.0);}if (rawPos.y > 32766.5) {pos=vec3(0.0,-1.0,0.0);}return pos;}vec3 projectToSphere(vec2 posInTile) {return projectToSphere(posInTile,vec2(0.0,0.0));}float globeComputeClippingZ(vec3 spherePos) {return (1.0-(dot(spherePos,u_projection_clipping_plane.xyz)+u_projection_clipping_plane.w));}vec4 interpolateProjection(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);globePosition.z=globeComputeClippingZ(elevatedPos)*globePosition.w;if (u_projection_transition > 0.999) {return globePosition;}vec4 flatPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);const float z_globeness_threshold=0.2;vec4 result=globePosition;result.z=mix(0.0,globePosition.z,clamp((u_projection_transition-z_globeness_threshold)/(1.0-z_globeness_threshold),0.0,1.0));result.xyw=mix(flatPosition.xyw,globePosition.xyw,u_projection_transition);if ((posInTile.y <-32767.5) || (posInTile.y > 32766.5)) {result=globePosition;const float poles_hidden_anim_percentage=0.02;result.z=mix(globePosition.z,100.0,pow(max((1.0-u_projection_transition)/poles_hidden_anim_percentage,0.0),8.0));}return result;}vec4 interpolateProjectionFor3D(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);if (u_projection_transition > 0.999) {return globePosition;}vec4 fallbackPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);return mix(fallbackPosition,globePosition,u_projection_transition);}vec4 projectTile(vec2 posInTile) {return interpolateProjection(posInTile,projectToSphere(posInTile),0.0);}vec4 projectTile(vec2 posInTile,vec2 rawPos) {return interpolateProjection(posInTile,projectToSphere(posInTile,rawPos),0.0);}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return interpolateProjection(posInTile,projectToSphere(posInTile),elevation);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {vec3 spherePos=projectToSphere(posInTile,posInTile);return interpolateProjectionFor3D(posInTile,spherePos,elevation);}`),background:xn(`uniform vec4 u_color;uniform float u_opacity;void main() {fragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),backgroundPattern:xn(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;void main() {gl_Position=projectTile(a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:xn(`in vec3 v_data;in float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);float antialiased_blur=v_data.z;float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));fragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);const float epsilon=0.5/255.0;if (fragColor.r < epsilon && fragColor.g < epsilon && fragColor.b < epsilon && fragColor.a < epsilon) {discard;}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform highp float u_globe_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;uniform vec2 u_translate;in vec2 a_pos;out vec3 v_data;out float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 pos_raw=a_pos+32768.0;vec2 extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);vec2 circle_center=floor(pos_raw/8.0)+u_translate;float ele=get_elevation(circle_center);v_visibility=calculate_visibility(projectTileWithElevation(circle_center,ele));if (u_pitch_with_map) {
#ifdef GLOBE
vec3 center_vector=projectToSphere(circle_center);
#endif
float angle_scale=u_globe_extrude_scale;vec2 corner_position=circle_center;if (u_scale_with_map) {angle_scale*=(radius+stroke_width);corner_position+=extrude*u_extrude_scale*(radius+stroke_width);} else {
#ifdef GLOBE
vec4 projected_center=interpolateProjection(circle_center,center_vector,ele);
#else
vec4 projected_center=projectTileWithElevation(circle_center,ele);
#endif
corner_position+=extrude*u_extrude_scale*(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);angle_scale*=(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);}
#ifdef GLOBE
vec2 angles=extrude*angle_scale;vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(corner_position,corner_vector,ele);
#else
gl_Position=projectTileWithElevation(corner_position,ele);
#endif
} else {gl_Position=projectTileWithElevation(circle_center,ele);if (gl_Position.z/gl_Position.w > 1.0) {gl_Position.xy=vec2(10000.0);}if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}float antialiasblur=-max(1.0/u_device_pixel_ratio/(radius+stroke_width),blur);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:xn(_n,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),heatmap:xn(`uniform highp float u_intensity;in vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);fragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;uniform highp float u_globe_extrude_scale;in vec2 a_pos;out vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 pos_raw=a_pos+32768.0;vec2 unscaled_extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 circle_center=floor(pos_raw/8.0);
#ifdef GLOBE
vec2 angles=v_extrude*radius*u_globe_extrude_scale;vec3 center_vector=projectToSphere(circle_center);vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(circle_center+extrude,corner_vector,0.0);
#else
gl_Position=projectTileFor3D(circle_center+extrude,get_elevation(circle_center));
#endif
}`),heatmapTexture:xn(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;in vec2 v_pos;void main() {float t=texture(u_image,v_pos).r;vec4 color=texture(u_color_ramp,vec2(t,0.5));fragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:xn("in float v_placed;in float v_notUsed;void main() {float alpha=0.5;fragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {fragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {fragColor*=.1;}}","in vec2 a_anchor_pos;in vec2 a_placed;in vec2 a_box_real;uniform vec2 u_pixel_extrude_scale;out float v_placed;out float v_notUsed;void main() {gl_Position=projectTileWithElevation(a_anchor_pos,get_elevation(a_anchor_pos));gl_Position.xy=((a_box_real+0.5)*u_pixel_extrude_scale*2.0-1.0)*vec2(1.0,-1.0)*gl_Position.w;if (gl_Position.z/gl_Position.w < 1.1) {gl_Position.z=0.5;}v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:xn("in float v_radius;in vec2 v_extrude;in float v_collision;void main() {float alpha=0.5;float stroke_radius=0.9;float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);fragColor=color*alpha*opacity_t;}","in vec2 a_pos;in float a_radius;in vec2 a_flags;uniform vec2 u_viewport_size;out float v_radius;out vec2 v_extrude;out float v_collision;void main() {float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_collision=collision;gl_Position=vec4((a_pos/u_viewport_size*2.0-1.0)*vec2(1.0,-1.0),0.0,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:xn("uniform highp vec4 u_color;uniform sampler2D u_overlay;in vec2 v_uv;void main() {vec4 overlay_color=texture(u_overlay,v_uv);fragColor=mix(u_color,overlay_color,overlay_color.a);}","in vec2 a_pos;out vec2 v_uv;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=projectTileWithElevation(a_pos*u_overlay_scale,get_elevation(a_pos));}"),depth:xn(_n,`in vec2 a_pos;void main() {
#ifdef GLOBE
gl_Position=projectTileFor3D(a_pos,0.0);
#else
gl_Position=u_projection_matrix*vec4(a_pos,0.0,1.0);
#endif
}`),fill:xn(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
fragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_fill_translate;in vec2 a_pos;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);}`),fillOutline:xn(`in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=outline_color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillOutlinePattern:xn(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;in vec2 v_pos_a;in vec2 v_pos_b;in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillPattern:xn(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:xn(`in vec4 v_color;void main() {fragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
out vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;vec3 normalForLighting=normal/16384.0;float directional=clamp(dot(normalForLighting,u_lightpos),0.0,1.0);
#ifdef GLOBE
mat3 rotMatrix=globeGetRotationMatrix(spherePos);normalForLighting=rotMatrix*normalForLighting;directional=mix(directional,clamp(dot(normalForLighting,u_lightpos_globe),0.0,1.0),u_projection_transition);
#endif
directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:xn(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;in vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);fragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
#ifdef GLOBE
out vec3 v_sphere_pos;
#endif
out vec2 v_pos_a;out vec2 v_pos_b;out vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);v_sphere_pos=elevatedPos;gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,elevation*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:xn(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack);}void main() {vec2 epsilon=1.0/u_dimension;float tileSize=u_dimension.x-2.0;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))*tileSize/pow(2.0,exaggeration+(28.2562-u_zoom));fragColor=clamp(vec4(deriv.x/8.0+0.5,deriv.y/8.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:xn(`uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_latrange;uniform float u_exaggeration;uniform vec4 u_accent;uniform int u_method;uniform float u_altitudes[NUM_ILLUMINATION_SOURCES];uniform float u_azimuths[NUM_ILLUMINATION_SOURCES];uniform vec4 u_shadows[NUM_ILLUMINATION_SOURCES];uniform vec4 u_highlights[NUM_ILLUMINATION_SOURCES];
#define PI 3.141592653589793
#define STANDARD 0
#define COMBINED 1
#define IGOR 2
#define MULTIDIRECTIONAL 3
#define BASIC 4
float get_aspect(vec2 deriv){return deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);}void igor_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float aspect=get_aspect(deriv);float azimuth=u_azimuths[0]+PI;float slope_stength=atan(length(deriv))*2.0/PI;float aspect_strength=1.0-abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);float shadow_strength=slope_stength*aspect_strength;float highlight_strength=slope_stength*(1.0-aspect_strength);fragColor=u_shadows[0]*shadow_strength+u_highlights[0]*highlight_strength;}void standard_hillshade(vec2 deriv){float azimuth=u_azimuths[0]+PI;float slope=atan(0.625*length(deriv));float aspect=get_aspect(deriv);float intensity=u_exaggeration;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadows[0],u_highlights[0],shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);fragColor=accent_color*(1.0-shade_color.a)+shade_color;}void basic_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor=u_highlights[0]*(2.0*shade-1.0);}else
{fragColor=u_shadows[0]*(1.0-2.0*shade);}}void multidirectional_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;fragColor=vec4(0,0,0,0);for(int i=0; i < NUM_ILLUMINATION_SOURCES; i++){float cos_alt=cos(u_altitudes[i]);float sin_alt=sin(u_altitudes[i]);float cos_az=-cos(u_azimuths[i]);float sin_az=-sin(u_azimuths[i]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor+=u_highlights[i]*(2.0*shade-1.0)/float(NUM_ILLUMINATION_SOURCES);}else
{fragColor+=u_shadows[i]*(1.0-2.0*shade)/float(NUM_ILLUMINATION_SOURCES);}}}void combined_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=acos((sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv)));cang=clamp(cang,0.0,PI/2.0);float shade=cang*atan(length(deriv))*4.0/PI/PI;float highlight=(PI/2.0-cang)*atan(length(deriv))*4.0/PI/PI;fragColor=u_shadows[0]*shade+u_highlights[0]*highlight;}void main() {vec4 pixel=texture(u_image,v_pos);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));vec2 deriv=((pixel.rg*8.0)-4.0)/scaleFactor;switch(u_method){case BASIC:
basic_hillshade(deriv);break;case COMBINED:
combined_hillshade(deriv);break;case IGOR:
igor_hillshade(deriv);break;case MULTIDIRECTIONAL:
multidirectional_hillshade(deriv);break;case STANDARD:
default:
standard_hillshade(deriv);break;}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);v_pos=a_pos/8192.0;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),line:xn(`uniform lowp float u_device_pixel_ratio;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp float v_linesofar;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:xn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;in highp vec2 v_uv;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture(u_image,v_uv);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;in float a_uv_x;in float a_split_index;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec2 v_uv;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:xn(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;in vec2 v_normal;in vec2 v_width2;in float v_linesofar;in float v_gamma_scale;in float v_width;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture(u_image,pos_a),texture(u_image,pos_b),u_fade);fragColor=color*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_linesofar;out float v_gamma_scale;out float v_width;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:xn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;in vec2 v_normal;in vec2 v_width2;in vec2 v_tex_a;in vec2 v_tex_b;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture(u_image,v_tex_a).a;float sdfdist_b=texture(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;out vec2 v_normal;out vec2 v_width2;out vec2 v_tex_a;out vec2 v_tex_b;out float v_gamma_scale;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:xn(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;in vec2 v_pos0;in vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture(u_image0,v_pos0);vec4 color1=texture(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);fragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;uniform vec4 u_coords_top;uniform vec4 u_coords_bottom;in vec2 a_pos;out vec2 v_pos0;out vec2 v_pos1;void main() {vec2 fractionalPos=a_pos/8192.0;vec2 position=mix(mix(u_coords_top.xy,u_coords_top.zw,fractionalPos.x),mix(u_coords_bottom.xy,u_coords_bottom.zw,fractionalPos.x),fractionalPos.y);gl_Position=projectTile(position,position);v_pos0=((fractionalPos-0.5)/u_buffer_scale)+0.5;
#ifdef GLOBE
if (a_pos.y <-32767.5) {v_pos0.y=0.0;}if (a_pos.y > 32766.5) {v_pos0.y=1.0;}
#endif
v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}`),symbolIcon:xn(`uniform sampler2D u_texture;in vec2 v_tex;in float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;fragColor=texture(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_tex;out float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}gl_Position=finalPos;v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:xn(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;in vec2 v_data0;in vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_data0;out vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:xn(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;in vec4 v_data0;in vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;fragColor=texture(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec4 v_data0;out vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map && !u_is_along_line) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:xn("uniform sampler2D u_texture;uniform vec4 u_fog_color;uniform vec4 u_horizon_color;uniform float u_fog_ground_blend;uniform float u_fog_ground_blend_opacity;uniform float u_horizon_fog_blend;uniform bool u_is_globe_mode;in vec2 v_texture_pos;in float v_fog_depth;const float gamma=2.2;vec4 gammaToLinear(vec4 color) {return pow(color,vec4(gamma));}vec4 linearToGamma(vec4 color) {return pow(color,vec4(1.0/gamma));}void main() {vec4 surface_color=texture(u_texture,vec2(v_texture_pos.x,1.0-v_texture_pos.y));if (!u_is_globe_mode && v_fog_depth > u_fog_ground_blend) {vec4 surface_color_linear=gammaToLinear(surface_color);float blend_color=smoothstep(0.0,1.0,max((v_fog_depth-u_horizon_fog_blend)/(1.0-u_horizon_fog_blend),0.0));vec4 fog_horizon_color_linear=mix(gammaToLinear(u_fog_color),gammaToLinear(u_horizon_color),blend_color);float factor_fog=max(v_fog_depth-u_fog_ground_blend,0.0)/(1.0-u_fog_ground_blend);fragColor=linearToGamma(mix(surface_color_linear,fog_horizon_color_linear,pow(factor_fog,2.0)*u_fog_ground_blend_opacity));} else {fragColor=surface_color;}}","in vec3 a_pos3d;uniform mat4 u_fog_matrix;uniform float u_ele_delta;out vec2 v_texture_pos;out float v_fog_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta);vec4 pos=u_fog_matrix*vec4(a_pos3d.xy,ele,1.0);v_fog_depth=pos.z/pos.w*0.5+0.5;}"),terrainDepth:xn("in float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {fragColor=pack(v_depth);}","in vec3 a_pos3d;uniform float u_ele_delta;out float v_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);v_depth=gl_Position.z/gl_Position.w;}"),terrainCoords:xn("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;in vec2 v_texture_pos;void main() {vec4 rgba=texture(u_texture,v_texture_pos);fragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}","in vec3 a_pos3d;uniform float u_ele_delta;out vec2 v_texture_pos;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);}"),projectionErrorMeasurement:xn("in vec4 v_output_error_encoded;void main() {fragColor=v_output_error_encoded;}","in vec2 a_pos;uniform highp float u_input;uniform highp float u_output_expected;out vec4 v_output_error_encoded;void main() {float real_output=2.0*atan(exp(PI-(u_input*PI*2.0)))-PI*0.5;float error=real_output-u_output_expected;float abs_error=abs(error)*128.0;v_output_error_encoded.x=min(floor(abs_error*256.0),255.0)/255.0;abs_error-=v_output_error_encoded.x;v_output_error_encoded.y=min(floor(abs_error*65536.0),255.0)/255.0;abs_error-=v_output_error_encoded.x/255.0;v_output_error_encoded.z=min(floor(abs_error*16777216.0),255.0)/255.0;v_output_error_encoded.w=error >=0.0 ? 1.0 : 0.0;gl_Position=vec4(a_pos,0.0,1.0);}"),atmosphere:xn(`in vec3 view_direction;uniform vec3 u_sun_pos;uniform vec3 u_globe_position;uniform float u_globe_radius;uniform float u_atmosphere_blend;/**Shader use from https:*Made some change to adapt to MapLibre Globe geometry*/const float PI=3.141592653589793;const int iSteps=5;const int jSteps=3;/*radius of the planet*/const float EARTH_RADIUS=6371e3;/*radius of the atmosphere*/const float ATMOS_RADIUS=6471e3;vec2 rsi(vec3 r0,vec3 rd,float sr) {float a=dot(rd,rd);float b=2.0*dot(rd,r0);float c=dot(r0,r0)-(sr*sr);float d=(b*b)-4.0*a*c;if (d < 0.0) return vec2(1e5,-1e5);return vec2((-b-sqrt(d))/(2.0*a),(-b+sqrt(d))/(2.0*a));}vec4 atmosphere(vec3 r,vec3 r0,vec3 pSun,float iSun,float rPlanet,float rAtmos,vec3 kRlh,float kMie,float shRlh,float shMie,float g) {pSun=normalize(pSun);r=normalize(r);vec2 p=rsi(r0,r,rAtmos);if (p.x > p.y) {return vec4(0.0,0.0,0.0,1.0);}if (p.x < 0.0) {p.x=0.0;}vec3 pos=r0+r*p.x;vec2 p2=rsi(r0,r,rPlanet);if (p2.x <=p2.y && p2.x > 0.0) {p.y=min(p.y,p2.x);}float iStepSize=(p.y-p.x)/float(iSteps);float iTime=p.x+iStepSize*0.5;vec3 totalRlh=vec3(0,0,0);vec3 totalMie=vec3(0,0,0);float iOdRlh=0.0;float iOdMie=0.0;float mu=dot(r,pSun);float mumu=mu*mu;float gg=g*g;float pRlh=3.0/(16.0*PI)*(1.0+mumu);float pMie=3.0/(8.0*PI)*((1.0-gg)*(mumu+1.0))/(pow(1.0+gg-2.0*mu*g,1.5)*(2.0+gg));for (int i=0; i < iSteps; i++) {vec3 iPos=r0+r*iTime;float iHeight=length(iPos)-rPlanet;float odStepRlh=exp(-iHeight/shRlh)*iStepSize;float odStepMie=exp(-iHeight/shMie)*iStepSize;iOdRlh+=odStepRlh;iOdMie+=odStepMie;float jStepSize=rsi(iPos,pSun,rAtmos).y/float(jSteps);float jTime=jStepSize*0.5;float jOdRlh=0.0;float jOdMie=0.0;for (int j=0; j < jSteps; j++) {vec3 jPos=iPos+pSun*jTime;float jHeight=length(jPos)-rPlanet;jOdRlh+=exp(-jHeight/shRlh)*jStepSize;jOdMie+=exp(-jHeight/shMie)*jStepSize;jTime+=jStepSize;}vec3 attn=exp(-(kMie*(iOdMie+jOdMie)+kRlh*(iOdRlh+jOdRlh)));totalRlh+=odStepRlh*attn;totalMie+=odStepMie*attn;iTime+=iStepSize;}float opacity=exp(-(length(kRlh)*length(totalRlh)+kMie*length(totalMie)));vec3 color=iSun*(pRlh*kRlh*totalRlh+pMie*kMie*totalMie);return vec4(color,opacity);}void main() {vec3 scale_camera_pos=-u_globe_position*EARTH_RADIUS/u_globe_radius;vec4 color=atmosphere(normalize(view_direction),scale_camera_pos,u_sun_pos,22.0,EARTH_RADIUS,ATMOS_RADIUS,vec3(5.5e-6,13.0e-6,22.4e-6),21e-6,8e3,1.2e3,0.758
);color.rgb=1.0-exp(-1.0*color.rgb);color=pow(color,vec4(1.0/2.2));fragColor=vec4(color.rgb,1.0-color.a)*u_atmosphere_blend;}`,"in vec2 a_pos;uniform mat4 u_inv_proj_matrix;out vec3 view_direction;void main() {view_direction=(u_inv_proj_matrix*vec4(a_pos,0.0,1.0)).xyz;gl_Position=vec4(a_pos,0.0,1.0);}"),sky:xn("uniform vec4 u_sky_color;uniform vec4 u_horizon_color;uniform vec2 u_horizon;uniform vec2 u_horizon_normal;uniform float u_sky_horizon_blend;uniform float u_sky_blend;void main() {float x=gl_FragCoord.x;float y=gl_FragCoord.y;float blend=(y-u_horizon.y)*u_horizon_normal.y+(x-u_horizon.x)*u_horizon_normal.x;if (blend > 0.0) {if (blend < u_sky_horizon_blend) {fragColor=mix(u_sky_color,u_horizon_color,pow(1.0-blend/u_sky_horizon_blend,2.0));} else {fragColor=u_sky_color;}}fragColor=mix(fragColor,vec4(vec3(0.0),0.0),u_sky_blend);}","in vec2 a_pos;void main() {gl_Position=vec4(a_pos,1.0,1.0);}")};function xn(m,e){const n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,u=e.match(/in ([\w]+) ([\w]+)/g),f=m.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),y=e.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),C=y?y.concat(f):f,T={};return{fragmentSource:m=m.replace(n,(k,z,O,W,Z)=>(T[Z]=!0,z==="define"?`
#ifndef HAS_UNIFORM_u_${Z}
in ${O} ${W} ${Z};
#else
uniform ${O} ${W} u_${Z};
#endif
`:`
#ifdef HAS_UNIFORM_u_${Z}
    ${O} ${W} ${Z} = u_${Z};
#endif
`)),vertexSource:e=e.replace(n,(k,z,O,W,Z)=>{const Q=W==="float"?"vec2":"vec4",ie=Z.match(/color/)?"color":Q;return T[Z]?z==="define"?`
#ifndef HAS_UNIFORM_u_${Z}
uniform lowp float u_${Z}_t;
in ${O} ${Q} a_${Z};
out ${O} ${W} ${Z};
#else
uniform ${O} ${W} u_${Z};
#endif
`:ie==="vec4"?`
#ifndef HAS_UNIFORM_u_${Z}
    ${Z} = a_${Z};
#else
    ${O} ${W} ${Z} = u_${Z};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Z}
    ${Z} = unpack_mix_${ie}(a_${Z}, u_${Z}_t);
#else
    ${O} ${W} ${Z} = u_${Z};
#endif
`:z==="define"?`
#ifndef HAS_UNIFORM_u_${Z}
uniform lowp float u_${Z}_t;
in ${O} ${Q} a_${Z};
#else
uniform ${O} ${W} u_${Z};
#endif
`:ie==="vec4"?`
#ifndef HAS_UNIFORM_u_${Z}
    ${O} ${W} ${Z} = a_${Z};
#else
    ${O} ${W} ${Z} = u_${Z};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Z}
    ${O} ${W} ${Z} = unpack_mix_${ie}(a_${Z}, u_${Z}_t);
#else
    ${O} ${W} ${Z} = u_${Z};
#endif
`}),staticAttributes:u,staticUniforms:C}}class Fr{constructor(e,n,u){this.vertexBuffer=e,this.indexBuffer=n,this.segments=u}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.vertexBuffer=null,this.indexBuffer=null,this.segments=null}}var mi=s.aG([{name:"a_pos",type:"Int16",components:2}]);const ra="#define PROJECTION_MERCATOR",er="mercator";class co{constructor(){this._cachedMesh=null}get name(){return"mercator"}get useSubdivision(){return!1}get shaderVariantName(){return er}get shaderDefine(){return ra}get shaderPreludeCode(){return Mn.projectionMercator}get vertexShaderPreludeCode(){return Mn.projectionMercator.vertexSource}get subdivisionGranularity(){return s.aH.noSubdivision}get useGlobeControls(){return!1}get transitionState(){return 0}get latitudeErrorCorrectionRadians(){return 0}destroy(){}updateGPUdependent(e){}getMeshFromTileID(e,n,u,f,y){if(this._cachedMesh)return this._cachedMesh;const C=new s.aI;C.emplaceBack(0,0),C.emplaceBack(s.Z,0),C.emplaceBack(0,s.Z),C.emplaceBack(s.Z,s.Z);const T=e.createVertexBuffer(C,mi.members),k=s.aJ.simpleSegment(0,0,4,2),z=new s.aK;z.emplaceBack(1,0,2),z.emplaceBack(1,2,3);const O=e.createIndexBuffer(z);return this._cachedMesh=new Fr(T,O,k),this._cachedMesh}recalculate(){}hasTransition(){return!1}setErrorQueryLatitudeDegrees(e){}}class Ta{constructor(e=0,n=0,u=0,f=0){if(isNaN(e)||e<0||isNaN(n)||n<0||isNaN(u)||u<0||isNaN(f)||f<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=e,this.bottom=n,this.left=u,this.right=f}interpolate(e,n,u){return n.top!=null&&e.top!=null&&(this.top=s.B.number(e.top,n.top,u)),n.bottom!=null&&e.bottom!=null&&(this.bottom=s.B.number(e.bottom,n.bottom,u)),n.left!=null&&e.left!=null&&(this.left=s.B.number(e.left,n.left,u)),n.right!=null&&e.right!=null&&(this.right=s.B.number(e.right,n.right,u)),this}getCenter(e,n){const u=s.ae((this.left+e-this.right)/2,0,e),f=s.ae((this.top+n-this.bottom)/2,0,n);return new s.P(u,f)}equals(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right}clone(){return new Ta(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function Ma(m,e){if(!m.renderWorldCopies||m.lngRange)return;const n=e.lng-m.center.lng;e.lng+=n>180?-360:n<-180?360:0}function li(m){return Math.max(0,Math.floor(m))}class ui{constructor(e,n,u,f,y,C){this._callbacks=e,this._tileSize=512,this._renderWorldCopies=C===void 0||!!C,this._minZoom=n||0,this._maxZoom=u||22,this._minPitch=f??0,this._maxPitch=y??60,this.setMaxBounds(),this._width=0,this._height=0,this._center=new s.Q(0,0),this._elevation=0,this._zoom=0,this._tileZoom=li(this._zoom),this._scale=s.ac(this._zoom),this._bearingInRadians=0,this._fovInRadians=.6435011087932844,this._pitchInRadians=0,this._rollInRadians=0,this._unmodified=!0,this._edgeInsets=new Ta,this._minElevationForCurrentTile=0,this._autoCalculateNearFarZ=!0}apply(e,n,u){this._latRange=e.latRange,this._lngRange=e.lngRange,this._width=e.width,this._height=e.height,this._center=e.center,this._elevation=e.elevation,this._minElevationForCurrentTile=e.minElevationForCurrentTile,this._zoom=e.zoom,this._tileZoom=li(this._zoom),this._scale=s.ac(this._zoom),this._bearingInRadians=e.bearingInRadians,this._fovInRadians=e.fovInRadians,this._pitchInRadians=e.pitchInRadians,this._rollInRadians=e.rollInRadians,this._unmodified=e.unmodified,this._edgeInsets=new Ta(e.padding.top,e.padding.bottom,e.padding.left,e.padding.right),this._minZoom=e.minZoom,this._maxZoom=e.maxZoom,this._minPitch=e.minPitch,this._maxPitch=e.maxPitch,this._renderWorldCopies=e.renderWorldCopies,this._cameraToCenterDistance=e.cameraToCenterDistance,this._nearZ=e.nearZ,this._farZ=e.farZ,this._autoCalculateNearFarZ=!u&&e.autoCalculateNearFarZ,n&&this._constrain(),this._calcMatrices()}get pixelsToClipSpaceMatrix(){return this._pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._clipSpaceToPixelsMatrix}get minElevationForCurrentTile(){return this._minElevationForCurrentTile}setMinElevationForCurrentTile(e){this._minElevationForCurrentTile=e}get tileSize(){return this._tileSize}get tileZoom(){return this._tileZoom}get scale(){return this._scale}get width(){return this._width}get height(){return this._height}get bearingInRadians(){return this._bearingInRadians}get lngRange(){return this._lngRange}get latRange(){return this._latRange}get pixelsToGLUnits(){return this._pixelsToGLUnits}get minZoom(){return this._minZoom}setMinZoom(e){this._minZoom!==e&&(this._minZoom=e,this.setZoom(this.getConstrained(this._center,this.zoom).zoom))}get maxZoom(){return this._maxZoom}setMaxZoom(e){this._maxZoom!==e&&(this._maxZoom=e,this.setZoom(this.getConstrained(this._center,this.zoom).zoom))}get minPitch(){return this._minPitch}setMinPitch(e){this._minPitch!==e&&(this._minPitch=e,this.setPitch(Math.max(this.pitch,e)))}get maxPitch(){return this._maxPitch}setMaxPitch(e){this._maxPitch!==e&&(this._maxPitch=e,this.setPitch(Math.min(this.pitch,e)))}get renderWorldCopies(){return this._renderWorldCopies}setRenderWorldCopies(e){e===void 0?e=!0:e===null&&(e=!1),this._renderWorldCopies=e}get worldSize(){return this._tileSize*this._scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new s.P(this._width,this._height)}get bearing(){return this._bearingInRadians/Math.PI*180}setBearing(e){const n=s.aL(e,-180,180)*Math.PI/180;var u,f,y,C,T,k,z,O,W;this._bearingInRadians!==n&&(this._unmodified=!1,this._bearingInRadians=n,this._calcMatrices(),this._rotationMatrix=q(),u=this._rotationMatrix,y=-this._bearingInRadians,C=(f=this._rotationMatrix)[0],T=f[1],k=f[2],z=f[3],O=Math.sin(y),W=Math.cos(y),u[0]=C*W+k*O,u[1]=T*W+z*O,u[2]=C*-O+k*W,u[3]=T*-O+z*W)}get rotationMatrix(){return this._rotationMatrix}get pitchInRadians(){return this._pitchInRadians}get pitch(){return this._pitchInRadians/Math.PI*180}setPitch(e){const n=s.ae(e,this.minPitch,this.maxPitch)/180*Math.PI;this._pitchInRadians!==n&&(this._unmodified=!1,this._pitchInRadians=n,this._calcMatrices())}get rollInRadians(){return this._rollInRadians}get roll(){return this._rollInRadians/Math.PI*180}setRoll(e){const n=e/180*Math.PI;this._rollInRadians!==n&&(this._unmodified=!1,this._rollInRadians=n,this._calcMatrices())}get fovInRadians(){return this._fovInRadians}get fov(){return s.aM(this._fovInRadians)}setFov(e){e=s.ae(e,.1,150),this.fov!==e&&(this._unmodified=!1,this._fovInRadians=s.ab(e),this._calcMatrices())}get zoom(){return this._zoom}setZoom(e){const n=this.getConstrained(this._center,e).zoom;this._zoom!==n&&(this._unmodified=!1,this._zoom=n,this._tileZoom=Math.max(0,Math.floor(n)),this._scale=s.ac(n),this._constrain(),this._calcMatrices())}get center(){return this._center}setCenter(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}setElevation(e){e!==this._elevation&&(this._elevation=e,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}setPadding(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this._width,this._height)}get pixelsPerMeter(){return this._pixelPerMeter}get unmodified(){return this._unmodified}get cameraToCenterDistance(){return this._cameraToCenterDistance}get nearZ(){return this._nearZ}get farZ(){return this._farZ}get autoCalculateNearFarZ(){return this._autoCalculateNearFarZ}overrideNearFarZ(e,n){this._autoCalculateNearFarZ=!1,this._nearZ=e,this._farZ=n,this._calcMatrices()}clearNearFarZOverride(){this._autoCalculateNearFarZ=!0,this._calcMatrices()}isPaddingEqual(e){return this._edgeInsets.equals(e)}interpolatePadding(e,n,u){this._unmodified=!1,this._edgeInsets.interpolate(e,n,u),this._constrain(),this._calcMatrices()}resize(e,n,u=!0){this._width=e,this._height=n,u&&this._constrain(),this._calcMatrices()}getMaxBounds(){return this._latRange&&this._latRange.length===2&&this._lngRange&&this._lngRange.length===2?new yn([this._lngRange[0],this._latRange[0]],[this._lngRange[1],this._latRange[1]]):null}setMaxBounds(e){e?(this._lngRange=[e.getWest(),e.getEast()],this._latRange=[e.getSouth(),e.getNorth()],this._constrain()):(this._lngRange=null,this._latRange=[-85.051129,s.af])}getConstrained(e,n){return this._callbacks.getConstrained(e,n)}getCameraQueryGeometry(e,n){if(n.length===1)return[n[0],e];{let u=e.x,f=e.y,y=e.x,C=e.y;for(const T of n)u=Math.min(u,T.x),f=Math.min(f,T.y),y=Math.max(y,T.x),C=Math.max(C,T.y);return[new s.P(u,f),new s.P(y,f),new s.P(y,C),new s.P(u,C),new s.P(u,f)]}}_constrain(){if(!this.center||!this._width||!this._height||this._constraining)return;this._constraining=!0;const e=this._unmodified,{center:n,zoom:u}=this.getConstrained(this.center,this.zoom);this.setCenter(n),this.setZoom(u),this._unmodified=e,this._constraining=!1}_calcMatrices(){if(this._width&&this._height){this._pixelsToGLUnits=[2/this._width,-2/this._height];let e=s.ad(new Float64Array(16));s.M(e,e,[this._width/2,-this._height/2,1]),s.L(e,e,[1,-1,0]),this._clipSpaceToPixelsMatrix=e,e=s.ad(new Float64Array(16)),s.M(e,e,[1,-1,1]),s.L(e,e,[-1,-1,0]),s.M(e,e,[2/this._width,2/this._height,1]),this._pixelsToClipSpaceMatrix=e,this._cameraToCenterDistance=.5/Math.tan(this.fovInRadians/2)*this._height}this._callbacks.calcMatrices()}calculateCenterFromCameraLngLatAlt(e,n,u,f){const y=u!==void 0?u:this.bearing,C=f=f!==void 0?f:this.pitch,T=s.$.fromLngLat(e,n),k=-Math.cos(s.ab(C)),z=Math.sin(s.ab(C)),O=z*Math.sin(s.ab(y)),W=-z*Math.cos(s.ab(y));let Z=this.elevation;const Q=n-Z;let ie;k*Q>=0||Math.abs(k)<.1?(ie=1e4,Z=n+ie*k):ie=-Q/k;let Ce,we,De=s.aN(1,T.y),ke=0;do{if(ke+=1,ke>10)break;we=ie/De,Ce=new s.$(T.x+O*we,T.y+W*we),De=1/Ce.meterInMercatorCoordinateUnits()}while(Math.abs(ie-we*De)>1e-12);return{center:Ce.toLngLat(),elevation:Z,zoom:s.ah(this.height/2/Math.tan(this.fovInRadians/2)/we/this.tileSize)}}recalculateZoomAndCenter(e){if(this.elevation-e==0)return;const n=s.ag(1,this.center.lat)*this.worldSize,u=this.cameraToCenterDistance/n,f=s.$.fromLngLat(this.center,this.elevation),y=oe(this.center,this.elevation,this.pitch,this.bearing,u);this._elevation=e;const C=this.calculateCenterFromCameraLngLatAlt(y.toLngLat(),s.aN(y.z,f.y),this.bearing,this.pitch);this._elevation=C.elevation,this._center=C.center,this.setZoom(C.zoom)}getCameraPoint(){const e=Math.tan(this.pitchInRadians)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new s.P(e*Math.sin(this.rollInRadians),e*Math.cos(this.rollInRadians)))}getCameraAltitude(){return Math.cos(this.pitchInRadians)*this._cameraToCenterDistance/this._pixelPerMeter+this.elevation}getCameraLngLat(){const e=s.ag(1,this.center.lat)*this.worldSize;return oe(this.center,this.elevation,this.pitch,this.bearing,this.cameraToCenterDistance/e).toLngLat()}getMercatorTileCoordinates(e){if(!e)return[0,0,1,1];const n=e.canonical.z>=0?1<<e.canonical.z:Math.pow(2,e.canonical.z);return[e.canonical.x/n,e.canonical.y/n,1/n/s.Z,1/n/s.Z]}}class zr{constructor(e,n){this.min=e,this.max=n,this.center=s.aO([],s.aP([],this.min,this.max),.5)}quadrant(e){const n=[e%2==0,e<2],u=s.aQ(this.min),f=s.aQ(this.max);for(let y=0;y<n.length;y++)u[y]=n[y]?this.min[y]:this.center[y],f[y]=n[y]?this.center[y]:this.max[y];return f[2]=this.max[2],new zr(u,f)}distanceX(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]}distanceY(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]}intersectsFrustum(e){let n=!0;for(let u=0;u<e.planes.length;u++){const f=this.intersectsPlane(e.planes[u]);if(f===0)return 0;f===1&&(n=!1)}return n?2:e.aabb.min[0]>this.max[0]||e.aabb.min[1]>this.max[1]||e.aabb.min[2]>this.max[2]||e.aabb.max[0]<this.min[0]||e.aabb.max[1]<this.min[1]||e.aabb.max[2]<this.min[2]?0:1}intersectsPlane(e){let n=e[3],u=e[3];for(let f=0;f<3;f++)e[f]>0?(n+=e[f]*this.min[f],u+=e[f]*this.max[f]):(u+=e[f]*this.min[f],n+=e[f]*this.max[f]);return n>=0?2:u<0?0:1}}class Ai{distanceToTile2d(e,n,u,f){const y=f.distanceX([e,n]),C=f.distanceY([e,n]);return Math.hypot(y,C)}getWrap(e,n,u){return u}getTileAABB(e,n,u,f){var y,C;let T=u,k=u;if(f.terrain){const O=new s.Y(e.z,n,e.z,e.x,e.y),W=f.terrain.getMinMaxElevation(O);T=(y=W.minElevation)!==null&&y!==void 0?y:u,k=(C=W.maxElevation)!==null&&C!==void 0?C:u}const z=1<<e.z;return new zr([n+e.x/z,e.y/z,T],[n+(e.x+1)/z,(e.y+1)/z,k])}allowVariableZoom(e,n){const u=e.fov*(Math.abs(Math.cos(e.rollInRadians))*e.height+Math.abs(Math.sin(e.rollInRadians))*e.width)/e.height,f=s.ae(78.5-u/2,0,60);return!!n.terrain||e.pitch>f}allowWorldCopies(){return!0}recalculateCache(){}}class Gr{constructor(e,n,u){this.points=e,this.planes=n,this.aabb=u}static fromInvProjectionMatrix(e,n=1,u=0){const f=Math.pow(2,u),y=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(z=>{const O=1/(z=s.at([],z,e))[3]/n*f;return s.aR(z,z,[O,O,1/z[3],O])}),C=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(z=>{const O=s.aS([],y[z[0]],y[z[1]]),W=s.aS([],y[z[2]],y[z[1]]),Z=s.aT([],s.aU([],O,W)),Q=-s.aV(Z,y[z[1]]);return Z.concat(Q)}),T=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY],k=[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];for(const z of y)for(let O=0;O<3;O++)T[O]=Math.min(T[O],z[O]),k[O]=Math.max(k[O],z[O]);return new Gr(y,C,new zr(T,k))}}class w0{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(e){this._helper.setMinZoom(e)}setMaxZoom(e){this._helper.setMaxZoom(e)}setMinPitch(e){this._helper.setMinPitch(e)}setMaxPitch(e){this._helper.setMaxPitch(e)}setRenderWorldCopies(e){this._helper.setRenderWorldCopies(e)}setBearing(e){this._helper.setBearing(e)}setPitch(e){this._helper.setPitch(e)}setRoll(e){this._helper.setRoll(e)}setFov(e){this._helper.setFov(e)}setZoom(e){this._helper.setZoom(e)}setCenter(e){this._helper.setCenter(e)}setElevation(e){this._helper.setElevation(e)}setMinElevationForCurrentTile(e){this._helper.setMinElevationForCurrentTile(e)}setPadding(e){this._helper.setPadding(e)}interpolatePadding(e,n,u){return this._helper.interpolatePadding(e,n,u)}isPaddingEqual(e){return this._helper.isPaddingEqual(e)}resize(e,n,u=!0){this._helper.resize(e,n,u)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(e){this._helper.setMaxBounds(e)}overrideNearFarZ(e,n){this._helper.overrideNearFarZ(e,n)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(e){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),e)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(e,n){}constructor(e,n,u,f,y){this._posMatrixCache=new Map,this._alignedPosMatrixCache=new Map,this._fogMatrixCacheF32=new Map,this._helper=new ui({calcMatrices:()=>{this._calcMatrices()},getConstrained:(C,T)=>this.getConstrained(C,T)},e,n,u,f,y),this._coveringTilesDetailsProvider=new Ai}clone(){const e=new w0;return e.apply(this),e}apply(e,n,u){this._helper.apply(e,n,u)}get cameraPosition(){return this._cameraPosition}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._viewProjMatrix}get inverseProjectionMatrix(){return this._invProjMatrix}get mercatorMatrix(){return this._mercatorMatrix}getVisibleUnwrappedCoordinates(e){const n=[new s.aW(0,e)];if(this._helper._renderWorldCopies){const u=this.screenPointToMercatorCoordinate(new s.P(0,0)),f=this.screenPointToMercatorCoordinate(new s.P(this._helper._width,0)),y=this.screenPointToMercatorCoordinate(new s.P(this._helper._width,this._helper._height)),C=this.screenPointToMercatorCoordinate(new s.P(0,this._helper._height)),T=Math.floor(Math.min(u.x,f.x,y.x,C.x)),k=Math.floor(Math.max(u.x,f.x,y.x,C.x)),z=1;for(let O=T-z;O<=k+z;O++)O!==0&&n.push(new s.aW(O,e))}return n}getCameraFrustum(){return Gr.fromInvProjectionMatrix(this._invViewProjMatrix,this.worldSize)}getClippingPlane(){return null}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(e){const n=this.screenPointToLocation(this.centerPoint,e),u=e?e.getElevationForLngLatZoom(n,this._helper._tileZoom):0;this._helper.recalculateZoomAndCenter(u)}setLocationAtPoint(e,n){const u=s.ag(this.elevation,this.center.lat),f=this.screenPointToMercatorCoordinateAtZ(n,u),y=this.screenPointToMercatorCoordinateAtZ(this.centerPoint,u),C=s.$.fromLngLat(e),T=new s.$(C.x-(f.x-y.x),C.y-(f.y-y.y));this.setCenter(T==null?void 0:T.toLngLat()),this._helper._renderWorldCopies&&this.setCenter(this.center.wrap())}locationToScreenPoint(e,n){return n?this.coordinatePoint(s.$.fromLngLat(e),n.getElevationForLngLatZoom(e,this._helper._tileZoom),this._pixelMatrix3D):this.coordinatePoint(s.$.fromLngLat(e))}screenPointToLocation(e,n){var u;return(u=this.screenPointToMercatorCoordinate(e,n))===null||u===void 0?void 0:u.toLngLat()}screenPointToMercatorCoordinate(e,n){if(n){const u=n.pointCoordinate(e);if(u!=null)return u}return this.screenPointToMercatorCoordinateAtZ(e)}screenPointToMercatorCoordinateAtZ(e,n){const u=n||0,f=[e.x,e.y,0,1],y=[e.x,e.y,1,1];s.at(f,f,this._pixelMatrixInverse),s.at(y,y,this._pixelMatrixInverse);const C=f[3],T=y[3],k=f[1]/C,z=y[1]/T,O=f[2]/C,W=y[2]/T,Z=O===W?0:(u-O)/(W-O);return new s.$(s.B.number(f[0]/C,y[0]/T,Z)/this.worldSize,s.B.number(k,z,Z)/this.worldSize,u)}coordinatePoint(e,n=0,u=this._pixelMatrix){const f=[e.x*this.worldSize,e.y*this.worldSize,n,1];return s.at(f,f,u),new s.P(f[0]/f[3],f[1]/f[3])}getBounds(){const e=Math.max(0,this._helper._height/2-Fe(this));return new yn().extend(this.screenPointToLocation(new s.P(0,e))).extend(this.screenPointToLocation(new s.P(this._helper._width,e))).extend(this.screenPointToLocation(new s.P(this._helper._width,this._helper._height))).extend(this.screenPointToLocation(new s.P(0,this._helper._height)))}isPointOnMapSurface(e,n){return n?n.pointCoordinate(e)!=null:e.y>this.height/2-Fe(this)}calculatePosMatrix(e,n=!1,u){var f;const y=(f=e.key)!==null&&f!==void 0?f:s.aX(e.wrap,e.canonical.z,e.canonical.z,e.canonical.x,e.canonical.y),C=n?this._alignedPosMatrixCache:this._posMatrixCache;if(C.has(y)){const z=C.get(y);return u?z.f32:z.f64}const T=ne(e,this.worldSize);s.N(T,n?this._alignedProjMatrix:this._viewProjMatrix,T);const k={f64:T,f32:new Float32Array(T)};return C.set(y,k),u?k.f32:k.f64}calculateFogMatrix(e){const n=e.key,u=this._fogMatrixCacheF32;if(u.has(n))return u.get(n);const f=ne(e,this.worldSize);return s.N(f,this._fogMatrix,f),u.set(n,new Float32Array(f)),u.get(n)}getConstrained(e,n){n=s.ae(+n,this.minZoom,this.maxZoom);const u={center:new s.Q(e.lng,e.lat),zoom:n};let f=this._helper._lngRange;this._helper._renderWorldCopies||f!==null||(f=[-179.9999999999,180-1e-10]);const y=this.tileSize*s.ac(u.zoom);let C=0,T=y,k=0,z=y,O=0,W=0;const{x:Z,y:Q}=this.size;if(this._helper._latRange){const Le=this._helper._latRange;C=s.S(Le[1])*y,T=s.S(Le[0])*y,T-C<Q&&(O=Q/(T-C))}f&&(k=s.aL(s.U(f[0])*y,0,y),z=s.aL(s.U(f[1])*y,0,y),z<k&&(z+=y),z-k<Z&&(W=Z/(z-k)));const{x:ie,y:Ce}=ri(y,e);let we,De;const ke=Math.max(W||0,O||0);if(ke){const Le=new s.P(W?(z+k)/2:ie,O?(T+C)/2:Ce);return u.center=_a(y,Le).wrap(),u.zoom+=s.ah(ke),u}if(this._helper._latRange){const Le=Q/2;Ce-Le<C&&(De=C+Le),Ce+Le>T&&(De=T-Le)}if(f){const Le=(k+z)/2;let Ee=ie;this._helper._renderWorldCopies&&(Ee=s.aL(ie,Le-y/2,Le+y/2));const Be=Z/2;Ee-Be<k&&(we=k+Be),Ee+Be>z&&(we=z-Be)}if(we!==void 0||De!==void 0){const Le=new s.P(we??ie,De??Ce);u.center=_a(y,Le).wrap()}return u}calculateCenterFromCameraLngLatAlt(e,n,u,f){return this._helper.calculateCenterFromCameraLngLatAlt(e,n,u,f)}_calculateNearFarZIfNeeded(e,n,u){if(!this._helper.autoCalculateNearFarZ)return;const f=Math.min(this.elevation,this.minElevationForCurrentTile,this.getCameraAltitude()-100),y=e-f*this._helper._pixelPerMeter/Math.cos(n),C=f<0?y:e,T=Math.PI/2+this.pitchInRadians,k=s.ab(this.fov)*(Math.abs(Math.cos(s.ab(this.roll)))*this.height+Math.abs(Math.sin(s.ab(this.roll)))*this.width)/this.height*(.5+u.y/this.height),z=Math.sin(k)*C/Math.sin(s.ae(Math.PI-T-k,.01,Math.PI-.01)),O=Fe(this),W=Math.atan(O/this._helper.cameraToCenterDistance),Z=s.ab(.75),Q=W>Z?2*W*(.5+u.y/(2*O)):Z,ie=Math.sin(Q)*C/Math.sin(s.ae(Math.PI-T-Q,.01,Math.PI-.01)),Ce=Math.min(z,ie);this._helper._farZ=1.01*(Math.cos(Math.PI/2-n)*Ce+C),this._helper._nearZ=this._helper._height/50}_calcMatrices(){if(!this._helper._height)return;const e=this.centerOffset,n=ri(this.worldSize,this.center),u=n.x,f=n.y;this._helper._pixelPerMeter=s.ag(1,this.center.lat)*this.worldSize;const y=s.ab(Math.min(this.pitch,Ci)),C=Math.max(this._helper.cameraToCenterDistance/2,this._helper.cameraToCenterDistance+this._helper._elevation*this._helper._pixelPerMeter/Math.cos(y));let T;this._calculateNearFarZIfNeeded(C,y,e),T=new Float64Array(16),s.aY(T,this.fovInRadians,this._helper._width/this._helper._height,this._helper._nearZ,this._helper._farZ),this._invProjMatrix=new Float64Array(16),s.an(this._invProjMatrix,T),T[8]=2*-e.x/this._helper._width,T[9]=2*e.y/this._helper._height,this._projectionMatrix=s.aZ(T),s.M(T,T,[1,-1,1]),s.L(T,T,[0,0,-this._helper.cameraToCenterDistance]),s.a_(T,T,-this.rollInRadians),s.a$(T,T,this.pitchInRadians),s.a_(T,T,-this.bearingInRadians),s.L(T,T,[-u,-f,0]),this._mercatorMatrix=s.M([],T,[this.worldSize,this.worldSize,this.worldSize]),s.M(T,T,[1,1,this._helper._pixelPerMeter]),this._pixelMatrix=s.N(new Float64Array(16),this.clipSpaceToPixelsMatrix,T),s.L(T,T,[0,0,-this.elevation]),this._viewProjMatrix=T,this._invViewProjMatrix=s.an([],T);const k=[0,0,-1,1];s.at(k,k,this._invViewProjMatrix),this._cameraPosition=[k[0]/k[3],k[1]/k[3],k[2]/k[3]],this._fogMatrix=new Float64Array(16),s.aY(this._fogMatrix,this.fovInRadians,this.width/this.height,C,this._helper._farZ),this._fogMatrix[8]=2*-e.x/this.width,this._fogMatrix[9]=2*e.y/this.height,s.M(this._fogMatrix,this._fogMatrix,[1,-1,1]),s.L(this._fogMatrix,this._fogMatrix,[0,0,-this.cameraToCenterDistance]),s.a_(this._fogMatrix,this._fogMatrix,-this.rollInRadians),s.a$(this._fogMatrix,this._fogMatrix,this.pitchInRadians),s.a_(this._fogMatrix,this._fogMatrix,-this.bearingInRadians),s.L(this._fogMatrix,this._fogMatrix,[-u,-f,0]),s.M(this._fogMatrix,this._fogMatrix,[1,1,this._helper._pixelPerMeter]),s.L(this._fogMatrix,this._fogMatrix,[0,0,-this.elevation]),this._pixelMatrix3D=s.N(new Float64Array(16),this.clipSpaceToPixelsMatrix,T);const z=this._helper._width%2/2,O=this._helper._height%2/2,W=Math.cos(this.bearingInRadians),Z=Math.sin(-this.bearingInRadians),Q=u-Math.round(u)+W*z+Z*O,ie=f-Math.round(f)+W*O+Z*z,Ce=new Float64Array(T);if(s.L(Ce,Ce,[Q>.5?Q-1:Q,ie>.5?ie-1:ie,0]),this._alignedProjMatrix=Ce,T=s.an(new Float64Array(16),this._pixelMatrix),!T)throw new Error("failed to invert matrix");this._pixelMatrixInverse=T,this._clearMatrixCaches()}_clearMatrixCaches(){this._posMatrixCache.clear(),this._alignedPosMatrixCache.clear(),this._fogMatrixCacheF32.clear()}maxPitchScaleFactor(){if(!this._pixelMatrixInverse)return 1;const e=this.screenPointToMercatorCoordinate(new s.P(0,0)),n=[e.x*this.worldSize,e.y*this.worldSize,0,1];return s.at(n,n,this._pixelMatrix)[3]/this._helper.cameraToCenterDistance}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){const e=s.ag(1,this.center.lat)*this.worldSize;return oe(this.center,this.elevation,this.pitch,this.bearing,this._helper.cameraToCenterDistance/e).toLngLat()}lngLatToCameraDepth(e,n){const u=s.$.fromLngLat(e),f=[u.x*this.worldSize,u.y*this.worldSize,n,1];return s.at(f,f,this._viewProjMatrix),f[2]/f[3]}getProjectionData(e){const{overscaledTileID:n,aligned:u,applyTerrainMatrix:f}=e,y=this._helper.getMercatorTileCoordinates(n),C=n?this.calculatePosMatrix(n,u,!0):null;let T;return T=n&&n.terrainRttPosMatrix32f&&f?n.terrainRttPosMatrix32f:C||s.b0(),{mainMatrix:T,tileMercatorCoords:y,clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:T}}isLocationOccluded(e){return!1}getPixelScale(){return 1}getCircleRadiusCorrection(){return 1}getPitchedTextCorrection(e,n,u){return 1}transformLightDirection(e){return s.aQ(e)}getRayDirectionFromPixel(e){throw new Error("Not implemented.")}projectTileCoordinates(e,n,u,f){const y=this.calculatePosMatrix(u);let C;f?(C=[e,n,f(e,n),1],s.at(C,C,y)):(C=[e,n,0,1],Fs(C,C,y));const T=C[3];return{point:new s.P(C[0]/T,C[1]/T),signedDistanceFromCamera:T,isOccluded:!1}}populateCache(e){for(const n of e)this.calculatePosMatrix(n)}getMatrixForModel(e,n){const u=s.$.fromLngLat(e,n),f=u.meterInMercatorCoordinateUnits(),y=s.b1();return s.L(y,y,[u.x,u.y,u.z]),s.a_(y,y,Math.PI),s.a$(y,y,Math.PI/2),s.M(y,y,[-f,f,f]),y}getProjectionDataForCustomLayer(e=!0){const n=new s.Y(0,0,0,0,0),u=this.getProjectionData({overscaledTileID:n,applyGlobeMatrix:e}),f=ne(n,this.worldSize);s.N(f,this._viewProjMatrix,f),u.tileMercatorCoords=[0,0,1,1];const y=[s.Z,s.Z,this.worldSize/this._helper.pixelsPerMeter],C=s.b2();return s.M(C,f,y),u.fallbackMatrix=C,u.mainMatrix=C,u}getFastPathSimpleProjectionMatrix(e){return this.calculatePosMatrix(e)}}function Ba(){s.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}function ia(m){if(m.useSlerp)if(m.k<1){const e=s.b3(m.startEulerAngles.roll,m.startEulerAngles.pitch,m.startEulerAngles.bearing),n=s.b3(m.endEulerAngles.roll,m.endEulerAngles.pitch,m.endEulerAngles.bearing),u=new Float64Array(4);s.b4(u,e,n,m.k);const f=s.b5(u);m.tr.setRoll(f.roll),m.tr.setPitch(f.pitch),m.tr.setBearing(f.bearing)}else m.tr.setRoll(m.endEulerAngles.roll),m.tr.setPitch(m.endEulerAngles.pitch),m.tr.setBearing(m.endEulerAngles.bearing);else m.tr.setRoll(s.B.number(m.startEulerAngles.roll,m.endEulerAngles.roll,m.k)),m.tr.setPitch(s.B.number(m.startEulerAngles.pitch,m.endEulerAngles.pitch,m.k)),m.tr.setBearing(s.B.number(m.startEulerAngles.bearing,m.endEulerAngles.bearing,m.k))}function ho(m,e,n,u,f){const y=f.padding,C=ri(f.worldSize,n.getNorthWest()),T=ri(f.worldSize,n.getNorthEast()),k=ri(f.worldSize,n.getSouthEast()),z=ri(f.worldSize,n.getSouthWest()),O=s.ab(-u),W=C.rotate(O),Z=T.rotate(O),Q=k.rotate(O),ie=z.rotate(O),Ce=new s.P(Math.max(W.x,Z.x,ie.x,Q.x),Math.max(W.y,Z.y,ie.y,Q.y)),we=new s.P(Math.min(W.x,Z.x,ie.x,Q.x),Math.min(W.y,Z.y,ie.y,Q.y)),De=Ce.sub(we),ke=(f.width-(y.left+y.right+e.left+e.right))/De.x,Le=(f.height-(y.top+y.bottom+e.top+e.bottom))/De.y;if(Le<0||ke<0)return void Ba();const Ee=Math.min(s.ah(f.scale*Math.min(ke,Le)),m.maxZoom),Be=s.P.convert(m.offset),je=new s.P((e.left-e.right)/2,(e.top-e.bottom)/2).rotate(s.ab(u)),Ve=Be.add(je).mult(f.scale/s.ac(Ee));return{center:_a(f.worldSize,C.add(k).div(2).sub(Ve)),zoom:Ee,bearing:u}}class po{get useGlobeControls(){return!1}handlePanInertia(e,n){return{easingOffset:e,easingCenter:n.center}}handleMapControlsRollPitchBearingZoom(e,n){e.bearingDelta&&n.setBearing(n.bearing+e.bearingDelta),e.pitchDelta&&n.setPitch(n.pitch+e.pitchDelta),e.rollDelta&&n.setRoll(n.roll+e.rollDelta),e.zoomDelta&&n.setZoom(n.zoom+e.zoomDelta)}handleMapControlsPan(e,n,u){e.around.distSqr(n.centerPoint)<.01||n.setLocationAtPoint(u,e.around)}cameraForBoxAndBearing(e,n,u,f,y){return ho(e,n,u,f,y)}handleJumpToCenterZoom(e,n){e.zoom!==(n.zoom!==void 0?+n.zoom:e.zoom)&&e.setZoom(+n.zoom),n.center!==void 0&&e.setCenter(s.Q.convert(n.center))}handleEaseTo(e,n){const u=e.zoom,f=e.padding,y={roll:e.roll,pitch:e.pitch,bearing:e.bearing},C={roll:n.roll===void 0?e.roll:n.roll,pitch:n.pitch===void 0?e.pitch:n.pitch,bearing:n.bearing===void 0?e.bearing:n.bearing},T=n.zoom!==void 0,k=!e.isPaddingEqual(n.padding);let z=!1;const O=T?+n.zoom:e.zoom;let W=e.centerPoint.add(n.offsetAsPoint);const Z=e.screenPointToLocation(W),{center:Q,zoom:ie}=e.getConstrained(s.Q.convert(n.center||Z),O??u);Ma(e,Q);const Ce=ri(e.worldSize,Z),we=ri(e.worldSize,Q).sub(Ce),De=s.ac(ie-u);return z=ie!==u,{easeFunc:ke=>{if(z&&e.setZoom(s.B.number(u,ie,ke)),s.b6(y,C)||ia({startEulerAngles:y,endEulerAngles:C,tr:e,k:ke,useSlerp:y.roll!=C.roll}),k&&(e.interpolatePadding(f,n.padding,ke),W=e.centerPoint.add(n.offsetAsPoint)),n.around)e.setLocationAtPoint(n.around,n.aroundPoint);else{const Le=s.ac(e.zoom-u),Ee=ie>u?Math.min(2,De):Math.max(.5,De),Be=Math.pow(Ee,1-ke),je=_a(e.worldSize,Ce.add(we.mult(ke*Be)).mult(Le));e.setLocationAtPoint(e.renderWorldCopies?je.wrap():je,W)}},isZooming:z,elevationCenter:Q}}handleFlyTo(e,n){const u=n.zoom!==void 0,f=e.zoom,y=e.getConstrained(s.Q.convert(n.center||n.locationAtOffset),u?+n.zoom:f),C=y.center,T=y.zoom;Ma(e,C);const k=ri(e.worldSize,n.locationAtOffset),z=ri(e.worldSize,C).sub(k),O=z.mag(),W=s.ac(T-f);let Z;if(n.minZoom!==void 0){const Q=Math.min(+n.minZoom,f,T),ie=e.getConstrained(C,Q).zoom;Z=s.ac(ie-f)}return{easeFunc:(Q,ie,Ce,we)=>{e.setZoom(Q===1?T:f+s.ah(ie));const De=Q===1?C:_a(e.worldSize,k.add(z.mult(Ce)).mult(ie));e.setLocationAtPoint(e.renderWorldCopies?De.wrap():De,we)},scaleOfZoom:W,targetCenter:C,scaleOfMinZoom:Z,pixelPathLength:O}}}class Ur{constructor(e,n,u){this.blendFunction=e,this.blendColor=n,this.mask=u}}Ur.Replace=[1,0],Ur.disabled=new Ur(Ur.Replace,s.b7.transparent,[!1,!1,!1,!1]),Ur.unblended=new Ur(Ur.Replace,s.b7.transparent,[!0,!0,!0,!0]),Ur.alphaBlended=new Ur([1,771],s.b7.transparent,[!0,!0,!0,!0]);const ci=2305;class Un{constructor(e,n,u){this.enable=e,this.mode=n,this.frontFace=u}}Un.disabled=new Un(!1,1029,ci),Un.backCCW=new Un(!0,1029,ci),Un.frontCCW=new Un(!0,1028,ci);class vn{constructor(e,n,u){this.func=e,this.mask=n,this.range=u}}vn.ReadOnly=!1,vn.ReadWrite=!0,vn.disabled=new vn(519,vn.ReadOnly,[0,1]);const Ar=7680;class Yn{constructor(e,n,u,f,y,C){this.test=e,this.ref=n,this.mask=u,this.fail=f,this.depthFail=y,this.pass=C}}Yn.disabled=new Yn({func:519,mask:0},0,0,Ar,Ar,Ar);const fo=new WeakMap;function aa(m){var e;if(fo.has(m))return fo.get(m);{const n=(e=m.getParameter(m.VERSION))===null||e===void 0?void 0:e.startsWith("WebGL 2.0");return fo.set(m,n),n}}class ll{get awaitingQuery(){return!!this._readbackQueue}constructor(e){this._readbackWaitFrames=4,this._measureWaitFrames=6,this._texWidth=1,this._texHeight=1,this._measuredError=0,this._updateCount=0,this._lastReadbackFrame=-1e3,this._readbackQueue=null,this._cachedRenderContext=e;const n=e.context,u=n.gl;this._texFormat=u.RGBA,this._texType=u.UNSIGNED_BYTE;const f=new s.aI;f.emplaceBack(-1,-1),f.emplaceBack(2,-1),f.emplaceBack(-1,2);const y=new s.aK;y.emplaceBack(0,1,2),this._fullscreenTriangle=new Fr(n.createVertexBuffer(f,mi.members),n.createIndexBuffer(y),s.aJ.simpleSegment(0,0,f.length,y.length)),this._resultBuffer=new Uint8Array(4),n.activeTexture.set(u.TEXTURE1);const C=u.createTexture();u.bindTexture(u.TEXTURE_2D,C),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,u.NEAREST),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,u.NEAREST),u.texImage2D(u.TEXTURE_2D,0,this._texFormat,this._texWidth,this._texHeight,0,this._texFormat,this._texType,null),this._fbo=n.createFramebuffer(this._texWidth,this._texHeight,!1,!1),this._fbo.colorAttachment.set(C),aa(u)&&(this._pbo=u.createBuffer(),u.bindBuffer(u.PIXEL_PACK_BUFFER,this._pbo),u.bufferData(u.PIXEL_PACK_BUFFER,4,u.STREAM_READ),u.bindBuffer(u.PIXEL_PACK_BUFFER,null))}destroy(){const e=this._cachedRenderContext.context.gl;this._fullscreenTriangle.destroy(),this._fbo.destroy(),e.deleteBuffer(this._pbo),this._fullscreenTriangle=null,this._fbo=null,this._pbo=null,this._resultBuffer=null}updateErrorLoop(e,n){const u=this._updateCount;return this._readbackQueue?u>=this._readbackQueue.frameNumberIssued+this._readbackWaitFrames&&this._tryReadback():u>=this._lastReadbackFrame+this._measureWaitFrames&&this._renderErrorTexture(e,n),this._updateCount++,this._measuredError}_bindFramebuffer(){const e=this._cachedRenderContext.context,n=e.gl;e.activeTexture.set(n.TEXTURE1),n.bindTexture(n.TEXTURE_2D,this._fbo.colorAttachment.get()),e.bindFramebuffer.set(this._fbo.framebuffer)}_renderErrorTexture(e,n){const u=this._cachedRenderContext.context,f=u.gl;if(this._bindFramebuffer(),u.viewport.set([0,0,this._texWidth,this._texHeight]),u.clear({color:s.b7.transparent}),this._cachedRenderContext.useProgram("projectionErrorMeasurement").draw(u,f.TRIANGLES,vn.disabled,Yn.disabled,Ur.unblended,Un.disabled,((y,C)=>({u_input:y,u_output_expected:C}))(e,n),null,null,"$clipping",this._fullscreenTriangle.vertexBuffer,this._fullscreenTriangle.indexBuffer,this._fullscreenTriangle.segments),this._pbo&&aa(f)){f.bindBuffer(f.PIXEL_PACK_BUFFER,this._pbo),f.readBuffer(f.COLOR_ATTACHMENT0),f.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,0),f.bindBuffer(f.PIXEL_PACK_BUFFER,null);const y=f.fenceSync(f.SYNC_GPU_COMMANDS_COMPLETE,0);f.flush(),this._readbackQueue={frameNumberIssued:this._updateCount,sync:y}}else this._readbackQueue={frameNumberIssued:this._updateCount,sync:null}}_tryReadback(){const e=this._cachedRenderContext.context.gl;if(this._pbo&&this._readbackQueue&&aa(e)){const n=e.clientWaitSync(this._readbackQueue.sync,0,0);if(n===e.WAIT_FAILED)return s.w("WebGL2 clientWaitSync failed."),this._readbackQueue=null,void(this._lastReadbackFrame=this._updateCount);if(n===e.TIMEOUT_EXPIRED)return;e.bindBuffer(e.PIXEL_PACK_BUFFER,this._pbo),e.getBufferSubData(e.PIXEL_PACK_BUFFER,0,this._resultBuffer,0,4),e.bindBuffer(e.PIXEL_PACK_BUFFER,null)}else this._bindFramebuffer(),e.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,this._resultBuffer);this._readbackQueue=null,this._measuredError=ll._parseRGBA8float(this._resultBuffer),this._lastReadbackFrame=this._updateCount}static _parseRGBA8float(e){let n=0;return n+=e[0]/256,n+=e[1]/65536,n+=e[2]/16777216,e[3]<127&&(n=-n),n/128}}const C0=s.Z/128;function js(m,e){const n=m.granularity!==void 0?Math.max(m.granularity,1):1,u=n+(m.generateBorders?2:0),f=n+(m.extendToNorthPole||m.generateBorders?1:0)+(m.extendToSouthPole||m.generateBorders?1:0),y=u+1,C=f+1,T=m.generateBorders?-1:0,k=m.generateBorders||m.extendToNorthPole?-1:0,z=n+(m.generateBorders?1:0),O=n+(m.generateBorders||m.extendToSouthPole?1:0),W=y*C,Z=u*f*6,Q=y*C>65536;if(Q&&e==="16bit")throw new Error("Granularity is too large and meshes would not fit inside 16 bit vertex indices.");const ie=Q||e==="32bit",Ce=new Int16Array(2*W);let we=0;for(let Le=k;Le<=O;Le++)for(let Ee=T;Ee<=z;Ee++){let Be=Ee/n*s.Z;Ee===-1&&(Be=-64),Ee===n+1&&(Be=s.Z+C0);let je=Le/n*s.Z;Le===-1&&(je=m.extendToNorthPole?s.b9:-64),Le===n+1&&(je=m.extendToSouthPole?s.ba:s.Z+C0),Ce[we++]=Be,Ce[we++]=je}const De=ie?new Uint32Array(Z):new Uint16Array(Z);let ke=0;for(let Le=0;Le<f;Le++)for(let Ee=0;Ee<u;Ee++){const Be=Ee+1+Le*y,je=Ee+(Le+1)*y,Ve=Ee+1+(Le+1)*y;De[ke++]=Ee+Le*y,De[ke++]=je,De[ke++]=Be,De[ke++]=Be,De[ke++]=je,De[ke++]=Ve}return{vertices:Ce.buffer.slice(0),indices:De.buffer.slice(0),uses32bitIndices:ie}}const Cs=new s.aH({fill:new s.bb(128,2),line:new s.bb(512,0),tile:new s.bb(128,32),stencil:new s.bb(128,1),circle:3});class a0{constructor(){this._tileMeshCache={},this._errorCorrectionUsable=0,this._errorMeasurementLastValue=0,this._errorCorrectionPreviousValue=0,this._errorMeasurementLastChangeTime=-1e3}get name(){return"vertical-perspective"}get transitionState(){return 1}get useSubdivision(){return!0}get shaderVariantName(){return"globe"}get shaderDefine(){return"#define GLOBE"}get shaderPreludeCode(){return Mn.projectionGlobe}get vertexShaderPreludeCode(){return Mn.projectionMercator.vertexSource}get subdivisionGranularity(){return Cs}get useGlobeControls(){return!0}get latitudeErrorCorrectionRadians(){return this._errorCorrectionUsable}destroy(){this._errorMeasurement&&this._errorMeasurement.destroy()}updateGPUdependent(e){this._errorMeasurement||(this._errorMeasurement=new ll(e));const n=s.S(this._errorQueryLatitudeDegrees),u=2*Math.atan(Math.exp(Math.PI-n*Math.PI*2))-.5*Math.PI,f=this._errorMeasurement.updateErrorLoop(n,u),y=ce.now();f!==this._errorMeasurementLastValue&&(this._errorCorrectionPreviousValue=this._errorCorrectionUsable,this._errorMeasurementLastValue=f,this._errorMeasurementLastChangeTime=y);const C=Math.min(Math.max((y-this._errorMeasurementLastChangeTime)/1e3/.5,0),1);this._errorCorrectionUsable=s.bc(this._errorCorrectionPreviousValue,-this._errorMeasurementLastValue,s.bd(C))}_getMeshKey(e){return`${e.granularity.toString(36)}_${e.generateBorders?"b":""}${e.extendToNorthPole?"n":""}${e.extendToSouthPole?"s":""}`}getMeshFromTileID(e,n,u,f,y){const C=(y==="stencil"?Cs.stencil:Cs.tile).getGranularityForZoomLevel(n.z);return this._getMesh(e,{granularity:C,generateBorders:u,extendToNorthPole:n.y===0&&f,extendToSouthPole:n.y===(1<<n.z)-1&&f})}_getMesh(e,n){const u=this._getMeshKey(n);if(u in this._tileMeshCache)return this._tileMeshCache[u];const f=function(y,C){const T=js(C,"16bit"),k=s.aI.deserialize({arrayBuffer:T.vertices,length:T.vertices.byteLength/2/2}),z=s.aK.deserialize({arrayBuffer:T.indices,length:T.indices.byteLength/2/3});return new Fr(y.createVertexBuffer(k,mi.members),y.createIndexBuffer(z),s.aJ.simpleSegment(0,0,k.length,z.length))}(e,n);return this._tileMeshCache[u]=f,f}recalculate(e){}hasTransition(){const e=ce.now();let n=!1;return n=n||(e-this._errorMeasurementLastChangeTime)/1e3<.7,n=n||this._errorMeasurement&&this._errorMeasurement.awaitingQuery,n}setErrorQueryLatitudeDegrees(e){this._errorQueryLatitudeDegrees=e}}const hi=new s.r({type:new s.D(s.v.projection.type)});class ul extends s.E{constructor(e){super(),this._transitionable=new s.T(hi),this.setProjection(e),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new s.C(0)),this._mercatorProjection=new co,this._verticalPerspectiveProjection=new a0}get transitionState(){const e=this.properties.get("type");if(typeof e=="string"&&e==="mercator")return 0;if(typeof e=="string"&&e==="vertical-perspective")return 1;if(e instanceof s.be){if(e.from==="vertical-perspective"&&e.to==="mercator")return 1-e.transition;if(e.from==="mercator"&&e.to==="vertical-perspective")return e.transition}return 1}get useGlobeRendering(){return this.transitionState>0}get latitudeErrorCorrectionRadians(){return this._verticalPerspectiveProjection.latitudeErrorCorrectionRadians}get currentProjection(){return this.useGlobeRendering?this._verticalPerspectiveProjection:this._mercatorProjection}get name(){return"globe"}get useSubdivision(){return this.currentProjection.useSubdivision}get shaderVariantName(){return this.currentProjection.shaderVariantName}get shaderDefine(){return this.currentProjection.shaderDefine}get shaderPreludeCode(){return this.currentProjection.shaderPreludeCode}get vertexShaderPreludeCode(){return this.currentProjection.vertexShaderPreludeCode}get subdivisionGranularity(){return this.currentProjection.subdivisionGranularity}get useGlobeControls(){return this.transitionState>0}destroy(){this._mercatorProjection.destroy(),this._verticalPerspectiveProjection.destroy()}updateGPUdependent(e){this._mercatorProjection.updateGPUdependent(e),this._verticalPerspectiveProjection.updateGPUdependent(e)}getMeshFromTileID(e,n,u,f,y){return this.currentProjection.getMeshFromTileID(e,n,u,f,y)}setProjection(e){this._transitionable.setValue("type",(e==null?void 0:e.type)||"mercator")}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()||this.currentProjection.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}setErrorQueryLatitudeDegrees(e){this._verticalPerspectiveProjection.setErrorQueryLatitudeDegrees(e),this._mercatorProjection.setErrorQueryLatitudeDegrees(e)}}function go(m){const e=Oi(m.worldSize,m.center.lat);return 2*Math.PI*e}function cl(m,e,n,u,f){const y=1/(1<<f),C=e/s.Z*y+u*y,T=s.bg((m/s.Z*y+n*y)*Math.PI*2+Math.PI,2*Math.PI),k=2*Math.atan(Math.exp(Math.PI-C*Math.PI*2))-.5*Math.PI,z=Math.cos(k),O=new Float64Array(3);return O[0]=Math.sin(T)*z,O[1]=Math.sin(k),O[2]=Math.cos(T)*z,O}function yi(m){return function(e,n){const u=Math.cos(n),f=new Float64Array(3);return f[0]=Math.sin(e)*u,f[1]=Math.sin(n),f[2]=Math.cos(e)*u,f}(m.lng*Math.PI/180,m.lat*Math.PI/180)}function Oi(m,e){return m/(2*Math.PI)/Math.cos(e*Math.PI/180)}function Vs(m){const e=Math.asin(m[1])/Math.PI*180,n=Math.sqrt(m[0]*m[0]+m[2]*m[2]);if(n>1e-6){const u=m[0]/n,f=Math.acos(m[2]/n),y=(u>0?f:-f)/Math.PI*180;return new s.Q(s.aL(y,-180,180),e)}return new s.Q(0,e)}function Ei(m){return Math.cos(m*Math.PI/180)}function Si(m,e){const n=Ei(m),u=Ei(e);return s.ah(u/n)}function Ds(m,e){const n=m.rotate(e.bearingInRadians),u=e.zoom+Si(e.center.lat,0),f=s.bc(1/Ei(e.center.lat),1/Ei(Math.min(Math.abs(e.center.lat),60)),s.bf(u,7,3,0,1)),y=360/go({worldSize:e.worldSize,center:{lat:e.center.lat}});return new s.Q(e.center.lng-n.x*y*f,s.ae(e.center.lat+n.y*y,-85.051129,s.af))}function hl(m){const e=.5*m,n=Math.sin(e),u=Math.cos(e);return Math.log(n+u)-Math.log(u-n)}function Y0(m,e,n,u){const f=m.lat+n*u;if(Math.abs(n)>1){const y=(Math.sign(m.lat+n)!==Math.sign(m.lat)?-Math.abs(m.lat):Math.abs(m.lat))*Math.PI/180,C=Math.abs(m.lat+n)*Math.PI/180,T=hl(y+u*(C-y)),k=hl(y),z=hl(C);return new s.Q(m.lng+e*((T-k)/(z-k)),f)}return new s.Q(m.lng+e*u,f)}class xa{constructor(e){this._cachePrevious=new Map,this._cache=new Map,this._hadAnyChanges=!1,this._aabbFactory=e}recalculateCache(){if(!this._hadAnyChanges)return;const e=this._cachePrevious;this._cachePrevious=this._cache,this._cache=e,this._cache.clear(),this._hadAnyChanges=!1}getTileAABB(e,n,u,f){const y=`${e.z}_${e.x}_${e.y}`,C=this._cache.get(y);if(C)return C;const T=this._cachePrevious.get(y);if(T)return this._cache.set(y,T),T;const k=this._aabbFactory(e,n,u,f);return this._cache.set(y,k),this._hadAnyChanges=!0,k}}function Fi(m,e,n){const u=m-e;return u<0?-u:Math.max(0,u-n)}function ki(m,e,n,u,f){const y=m-n;let C;return C=y<0?Math.min(-y,1+y-f):y>1?Math.min(Math.max(y-f,0),1-y):0,Math.max(C,Fi(e,u,f))}class mo{constructor(){this._aabbCache=new xa(this._computeTileAABB)}recalculateCache(){this._aabbCache.recalculateCache()}distanceToTile2d(e,n,u,f){const y=1<<u.z,C=1/y,T=u.x/y,k=u.y/y;let z=2;return z=Math.min(z,ki(e,n,T,k,C)),z=Math.min(z,ki(e,n,T+.5,-k-C,C)),z=Math.min(z,ki(e,n,T+.5,2-k-C,C)),z}getWrap(e,n,u){const f=1<<n.z,y=1/f,C=n.x/f,T=Fi(e.x,C,y),k=Fi(e.x,C-1,y),z=Fi(e.x,C+1,y),O=Math.min(T,k,z);return O===z?1:O===k?-1:0}allowVariableZoom(e,n){return Je(e,n)>4}allowWorldCopies(){return!1}getTileAABB(e,n,u,f){return this._aabbCache.getTileAABB(e,n,u,f)}_computeTileAABB(e,n,u,f){if(e.z<=0)return new zr([-1,-1,-1],[1,1,1]);if(e.z===1)return new zr([e.x===0?-1:0,e.y===0?0:-1,-1],[e.x===0?0:1,e.y===0?1:0,1]);{const y=[cl(0,0,e.x,e.y,e.z),cl(s.Z,0,e.x,e.y,e.z),cl(s.Z,s.Z,e.x,e.y,e.z),cl(0,s.Z,e.x,e.y,e.z)],C=[1,1,1],T=[-1,-1,-1];for(const k of y)for(let z=0;z<3;z++)C[z]=Math.min(C[z],k[z]),T[z]=Math.max(T[z],k[z]);if(e.y===0||e.y===(1<<e.z)-1){const k=[0,e.y===0?1:-1,0];for(let z=0;z<3;z++)C[z]=Math.min(C[z],k[z]),T[z]=Math.max(T[z],k[z])}return new zr(C,T)}}}class Zs{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(e){this._helper.setMinZoom(e)}setMaxZoom(e){this._helper.setMaxZoom(e)}setMinPitch(e){this._helper.setMinPitch(e)}setMaxPitch(e){this._helper.setMaxPitch(e)}setRenderWorldCopies(e){this._helper.setRenderWorldCopies(e)}setBearing(e){this._helper.setBearing(e)}setPitch(e){this._helper.setPitch(e)}setRoll(e){this._helper.setRoll(e)}setFov(e){this._helper.setFov(e)}setZoom(e){this._helper.setZoom(e)}setCenter(e){this._helper.setCenter(e)}setElevation(e){this._helper.setElevation(e)}setMinElevationForCurrentTile(e){this._helper.setMinElevationForCurrentTile(e)}setPadding(e){this._helper.setPadding(e)}interpolatePadding(e,n,u){return this._helper.interpolatePadding(e,n,u)}isPaddingEqual(e){return this._helper.isPaddingEqual(e)}resize(e,n){this._helper.resize(e,n)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(e){this._helper.setMaxBounds(e)}overrideNearFarZ(e,n){this._helper.overrideNearFarZ(e,n)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(e){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),e)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(e){}constructor(){this._cachedClippingPlane=s.bk(),this._projectionMatrix=s.b1(),this._globeViewProjMatrix32f=s.b0(),this._globeViewProjMatrixNoCorrection=s.b1(),this._globeViewProjMatrixNoCorrectionInverted=s.b1(),this._globeProjMatrixInverted=s.b1(),this._cameraPosition=s.bh(),this._globeLatitudeErrorCorrectionRadians=0,this._helper=new ui({calcMatrices:()=>{this._calcMatrices()},getConstrained:(e,n)=>this.getConstrained(e,n)}),this._coveringTilesDetailsProvider=new mo}clone(){const e=new Zs;return e.apply(this),e}apply(e,n){this._globeLatitudeErrorCorrectionRadians=n||0,this._helper.apply(e)}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._globeViewProjMatrixNoCorrection}get inverseProjectionMatrix(){return this._globeProjMatrixInverted}get cameraPosition(){const e=s.bh();return e[0]=this._cameraPosition[0],e[1]=this._cameraPosition[1],e[2]=this._cameraPosition[2],e}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}getProjectionData(e){const{overscaledTileID:n,applyGlobeMatrix:u}=e,f=this._helper.getMercatorTileCoordinates(n);return{mainMatrix:this._globeViewProjMatrix32f,tileMercatorCoords:f,clippingPlane:this._cachedClippingPlane,projectionTransition:u?1:0,fallbackMatrix:this._globeViewProjMatrix32f}}_computeClippingPlane(e){const n=this.pitchInRadians,u=this.cameraToCenterDistance/e,f=Math.sin(n)*u,y=Math.cos(n)*u+1,C=1/Math.sqrt(f*f+y*y)*1;let T=-f,k=y;const z=Math.sqrt(T*T+k*k);T/=z,k/=z;const O=[0,T,k];s.bl(O,O,[0,0,0],-this.bearingInRadians),s.bm(O,O,[0,0,0],-1*this.center.lat*Math.PI/180),s.bn(O,O,[0,0,0],this.center.lng*Math.PI/180);const W=1/s.bo(O);return s.aO(O,O,W),[...O,-C*W]}isLocationOccluded(e){return!this.isSurfacePointVisible(yi(e))}transformLightDirection(e){const n=this._helper._center.lng*Math.PI/180,u=this._helper._center.lat*Math.PI/180,f=Math.cos(u),y=[Math.sin(n)*f,Math.sin(u),Math.cos(n)*f],C=[y[2],0,-y[0]],T=[0,0,0];s.aU(T,C,y),s.aT(C,C),s.aT(T,T);const k=[0,0,0];return s.aT(k,[C[0]*e[0]+T[0]*e[1]+y[0]*e[2],C[1]*e[0]+T[1]*e[1]+y[1]*e[2],C[2]*e[0]+T[2]*e[1]+y[2]*e[2]]),k}getPixelScale(){return 1/Math.cos(this._helper._center.lat*Math.PI/180)}getCircleRadiusCorrection(){return Math.cos(this._helper._center.lat*Math.PI/180)}getPitchedTextCorrection(e,n,u){const f=function(T,k,z){const O=1/(1<<z.z);return new s.$(T/s.Z*O+z.x*O,k/s.Z*O+z.y*O)}(e,n,u.canonical),y=(C=f.y,[s.bg(f.x*Math.PI*2+Math.PI,2*Math.PI),2*Math.atan(Math.exp(Math.PI-C*Math.PI*2))-.5*Math.PI]);var C;return this.getCircleRadiusCorrection()/Math.cos(y[1])}projectTileCoordinates(e,n,u,f){const y=u.canonical,C=cl(e,n,y.x,y.y,y.z),T=1+(f?f(e,n):0)/s.bu,k=[C[0]*T,C[1]*T,C[2]*T,1];s.at(k,k,this._globeViewProjMatrixNoCorrection);const z=this._cachedClippingPlane,O=z[0]*C[0]+z[1]*C[1]+z[2]*C[2]+z[3]<0;return{point:new s.P(k[0]/k[3],k[1]/k[3]),signedDistanceFromCamera:k[3],isOccluded:O}}_calcMatrices(){if(!this._helper._width||!this._helper._height)return;const e=Oi(this.worldSize,this.center.lat),n=s.b2(),u=s.b2();this._helper.autoCalculateNearFarZ&&(this._helper._nearZ=.5,this._helper._farZ=this.cameraToCenterDistance+2*e),s.aY(n,this.fovInRadians,this.width/this.height,this._helper._nearZ,this._helper._farZ);const f=this.centerOffset;n[8]=2*-f.x/this._helper._width,n[9]=2*f.y/this._helper._height,this._projectionMatrix=s.aZ(n),this._globeProjMatrixInverted=s.b2(),s.an(this._globeProjMatrixInverted,n),s.L(n,n,[0,0,-this.cameraToCenterDistance]),s.a_(n,n,this.rollInRadians),s.a$(n,n,-this.pitchInRadians),s.a_(n,n,this.bearingInRadians),s.L(n,n,[0,0,-e]);const y=s.bh();y[0]=e,y[1]=e,y[2]=e,s.a$(u,n,this.center.lat*Math.PI/180),s.bp(u,u,-this.center.lng*Math.PI/180),s.M(u,u,y),this._globeViewProjMatrixNoCorrection=u,s.a$(n,n,this.center.lat*Math.PI/180-this._globeLatitudeErrorCorrectionRadians),s.bp(n,n,-this.center.lng*Math.PI/180),s.M(n,n,y),this._globeViewProjMatrix32f=new Float32Array(n),this._globeViewProjMatrixNoCorrectionInverted=s.b2(),s.an(this._globeViewProjMatrixNoCorrectionInverted,u);const C=s.bh();this._cameraPosition=s.bh(),this._cameraPosition[2]=this.cameraToCenterDistance/e,s.bl(this._cameraPosition,this._cameraPosition,C,-this.rollInRadians),s.bm(this._cameraPosition,this._cameraPosition,C,this.pitchInRadians),s.bl(this._cameraPosition,this._cameraPosition,C,-this.bearingInRadians),s.aP(this._cameraPosition,this._cameraPosition,[0,0,1]),s.bm(this._cameraPosition,this._cameraPosition,C,-this.center.lat*Math.PI/180),s.bn(this._cameraPosition,this._cameraPosition,C,this.center.lng*Math.PI/180),this._cachedClippingPlane=this._computeClippingPlane(e);const T=s.aZ(this._globeViewProjMatrixNoCorrectionInverted);s.M(T,T,[1,1,-1]),this._cachedFrustum=Gr.fromInvProjectionMatrix(T)}calculateFogMatrix(e){s.w("calculateFogMatrix is not supported on globe projection.");const n=s.b2();return s.ad(n),n}getVisibleUnwrappedCoordinates(e){return[new s.aW(0,e)]}getCameraFrustum(){return this._cachedFrustum}getClippingPlane(){return this._cachedClippingPlane}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(e){e&&s.w("terrain is not fully supported on vertical perspective projection."),this._helper.recalculateZoomAndCenter(0)}maxPitchScaleFactor(){return 1}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(e,n){if(!this._globeViewProjMatrixNoCorrection)return 1;const u=yi(e);s.aO(u,u,1+n/s.bu);const f=s.bk();return s.at(f,[u[0],u[1],u[2],1],this._globeViewProjMatrixNoCorrection),f[2]/f[3]}populateCache(e){}getBounds(){const e=.5*this.width,n=.5*this.height,u=[new s.P(0,0),new s.P(e,0),new s.P(this.width,0),new s.P(this.width,n),new s.P(this.width,this.height),new s.P(e,this.height),new s.P(0,this.height),new s.P(0,n)],f=[];for(const W of u)f.push(this.unprojectScreenPoint(W));let y=0,C=0,T=0,k=0;const z=this.center;for(const W of f){const Z=s.bq(z.lng,W.lng),Q=s.bq(z.lat,W.lat);Z<C&&(C=Z),Z>y&&(y=Z),Q<k&&(k=Q),Q>T&&(T=Q)}const O=[z.lng+C,z.lat+k,z.lng+y,z.lat+T];return this.isSurfacePointOnScreen([0,1,0])&&(O[3]=90,O[0]=-180,O[2]=180),this.isSurfacePointOnScreen([0,-1,0])&&(O[1]=-90,O[0]=-180,O[2]=180),new yn(O)}getConstrained(e,n){const u=s.ae(e.lat,-85.051129,s.af),f=s.ae(+n,this.minZoom+Si(0,u),this.maxZoom);return{center:new s.Q(e.lng,u),zoom:f}}calculateCenterFromCameraLngLatAlt(e,n,u,f){return this._helper.calculateCenterFromCameraLngLatAlt(e,n,u,f)}setLocationAtPoint(e,n){const u=yi(this.unprojectScreenPoint(n)),f=yi(e),y=s.bh();s.br(y);const C=s.bh();s.bn(C,u,y,-this.center.lng*Math.PI/180),s.bm(C,C,y,this.center.lat*Math.PI/180);const T=f[0]*f[0]+f[2]*f[2],k=C[0]*C[0];if(T<k)return;const z=Math.sqrt(T-k),O=-z,W=s.bs(f[0],f[2],C[0],z),Z=s.bs(f[0],f[2],C[0],O),Q=s.bh();s.bn(Q,f,y,-W);const ie=s.bs(Q[1],Q[2],C[1],C[2]),Ce=s.bh();s.bn(Ce,f,y,-Z);const we=s.bs(Ce[1],Ce[2],C[1],C[2]),De=.5*Math.PI,ke=ie>=-De&&ie<=De,Le=we>=-De&&we<=De;let Ee,Be;if(ke&&Le){const At=this.center.lng*Math.PI/180,rt=this.center.lat*Math.PI/180;s.bv(W,At)+s.bv(ie,rt)<s.bv(Z,At)+s.bv(we,rt)?(Ee=W,Be=ie):(Ee=Z,Be=we)}else if(ke)Ee=W,Be=ie;else{if(!Le)return;Ee=Z,Be=we}const je=Ee/Math.PI*180,Ve=Be/Math.PI*180,lt=this.center.lat;this.setCenter(new s.Q(je,s.ae(Ve,-90,90))),this.setZoom(this.zoom+Si(lt,this.center.lat))}locationToScreenPoint(e,n){const u=yi(e);if(n){const f=n.getElevationForLngLatZoom(e,this._helper._tileZoom);s.aO(u,u,1+f/s.bu)}return this._projectSurfacePointToScreen(u)}_projectSurfacePointToScreen(e){const n=s.bk();return s.at(n,[...e,1],this._globeViewProjMatrixNoCorrection),n[0]/=n[3],n[1]/=n[3],new s.P((.5*n[0]+.5)*this.width,(.5*-n[1]+.5)*this.height)}screenPointToMercatorCoordinate(e,n){if(n){const u=n.pointCoordinate(e);if(u)return u}return s.$.fromLngLat(this.unprojectScreenPoint(e))}screenPointToLocation(e,n){var u;return(u=this.screenPointToMercatorCoordinate(e,n))===null||u===void 0?void 0:u.toLngLat()}isPointOnMapSurface(e,n){const u=this._cameraPosition,f=this.getRayDirectionFromPixel(e);return!!this.rayPlanetIntersection(u,f)}getRayDirectionFromPixel(e){const n=s.bk();n[0]=e.x/this.width*2-1,n[1]=-1*(e.y/this.height*2-1),n[2]=1,n[3]=1,s.at(n,n,this._globeViewProjMatrixNoCorrectionInverted),n[0]/=n[3],n[1]/=n[3],n[2]/=n[3];const u=s.bh();u[0]=n[0]-this._cameraPosition[0],u[1]=n[1]-this._cameraPosition[1],u[2]=n[2]-this._cameraPosition[2];const f=s.bh();return s.aT(f,u),f}isSurfacePointVisible(e){const n=this._cachedClippingPlane;return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]+n[3]>=0}isSurfacePointOnScreen(e){if(!this.isSurfacePointVisible(e))return!1;const n=s.bk();return s.at(n,[...e,1],this._globeViewProjMatrixNoCorrection),n[0]/=n[3],n[1]/=n[3],n[2]/=n[3],n[0]>-1&&n[0]<1&&n[1]>-1&&n[1]<1&&n[2]>-1&&n[2]<1}rayPlanetIntersection(e,n){const u=s.aV(e,n),f=s.bh(),y=s.bh();s.aO(y,n,u),s.aS(f,e,y);const C=1-s.aV(f,f);if(C<0)return null;const T=s.aV(e,e)-1,k=-u+(u<0?1:-1)*Math.sqrt(C),z=T/k,O=k;return{tMin:Math.min(z,O),tMax:Math.max(z,O)}}unprojectScreenPoint(e){const n=this._cameraPosition,u=this.getRayDirectionFromPixel(e),f=this.rayPlanetIntersection(n,u);if(f){const O=s.bh();s.aP(O,n,[u[0]*f.tMin,u[1]*f.tMin,u[2]*f.tMin]);const W=s.bh();return s.aT(W,O),Vs(W)}const y=this._cachedClippingPlane,C=y[0]*u[0]+y[1]*u[1]+y[2]*u[2],T=-s.bt(y,n)/C,k=s.bh();if(T>0)s.aP(k,n,[u[0]*T,u[1]*T,u[2]*T]);else{const O=s.bh();s.aP(O,n,[2*u[0],2*u[1],2*u[2]]);const W=s.bt(this._cachedClippingPlane,O);s.aS(k,O,[this._cachedClippingPlane[0]*W,this._cachedClippingPlane[1]*W,this._cachedClippingPlane[2]*W])}const z=function(O){const W=s.bh();return W[0]=O[0]*-O[3],W[1]=O[1]*-O[3],W[2]=O[2]*-O[3],{center:W,radius:Math.sqrt(1-O[3]*O[3])}}(y);return Vs(function(O,W,Z){const Q=s.bh();s.aS(Q,Z,O);const ie=s.bh();return s.bi(ie,O,Q,W/s.bj(Q)),ie}(z.center,z.radius,k))}getMatrixForModel(e,n){const u=s.Q.convert(e),f=1/s.bu,y=s.b1();return s.bp(y,y,u.lng/180*Math.PI),s.a$(y,y,-u.lat/180*Math.PI),s.L(y,y,[0,0,1+n/s.bu]),s.a$(y,y,.5*Math.PI),s.M(y,y,[f,f,f]),y}getProjectionDataForCustomLayer(e=!0){const n=this.getProjectionData({overscaledTileID:new s.Y(0,0,0,0,0),applyGlobeMatrix:e});return n.tileMercatorCoords=[0,0,1,1],n}getFastPathSimpleProjectionMatrix(e){}}class Ro{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(e){this._helper.setMinZoom(e)}setMaxZoom(e){this._helper.setMaxZoom(e)}setMinPitch(e){this._helper.setMinPitch(e)}setMaxPitch(e){this._helper.setMaxPitch(e)}setRenderWorldCopies(e){this._helper.setRenderWorldCopies(e)}setBearing(e){this._helper.setBearing(e)}setPitch(e){this._helper.setPitch(e)}setRoll(e){this._helper.setRoll(e)}setFov(e){this._helper.setFov(e)}setZoom(e){this._helper.setZoom(e)}setCenter(e){this._helper.setCenter(e)}setElevation(e){this._helper.setElevation(e)}setMinElevationForCurrentTile(e){this._helper.setMinElevationForCurrentTile(e)}setPadding(e){this._helper.setPadding(e)}interpolatePadding(e,n,u){return this._helper.interpolatePadding(e,n,u)}isPaddingEqual(e){return this._helper.isPaddingEqual(e)}resize(e,n,u=!0){this._helper.resize(e,n,u)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(e){this._helper.setMaxBounds(e)}overrideNearFarZ(e,n){this._helper.overrideNearFarZ(e,n)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(e){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),e)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}get isGlobeRendering(){return this._globeness>0}setTransitionState(e,n){this._globeness=e,this._globeLatitudeErrorCorrectionRadians=n,this._calcMatrices(),this._verticalPerspectiveTransform.getCoveringTilesDetailsProvider().recalculateCache(),this._mercatorTransform.getCoveringTilesDetailsProvider().recalculateCache()}get currentTransform(){return this.isGlobeRendering?this._verticalPerspectiveTransform:this._mercatorTransform}constructor(){this._globeLatitudeErrorCorrectionRadians=0,this._globeness=1,this._helper=new ui({calcMatrices:()=>{this._calcMatrices()},getConstrained:(e,n)=>this.getConstrained(e,n)}),this._globeness=1,this._mercatorTransform=new w0,this._verticalPerspectiveTransform=new Zs}clone(){const e=new Ro;return e._globeness=this._globeness,e._globeLatitudeErrorCorrectionRadians=this._globeLatitudeErrorCorrectionRadians,e.apply(this),e}apply(e){this._helper.apply(e),this._mercatorTransform.apply(this),this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians)}get projectionMatrix(){return this.currentTransform.projectionMatrix}get modelViewProjectionMatrix(){return this.currentTransform.modelViewProjectionMatrix}get inverseProjectionMatrix(){return this.currentTransform.inverseProjectionMatrix}get cameraPosition(){return this.currentTransform.cameraPosition}getProjectionData(e){const n=this._mercatorTransform.getProjectionData(e),u=this._verticalPerspectiveTransform.getProjectionData(e);return{mainMatrix:this.isGlobeRendering?u.mainMatrix:n.mainMatrix,clippingPlane:u.clippingPlane,tileMercatorCoords:u.tileMercatorCoords,projectionTransition:e.applyGlobeMatrix?this._globeness:0,fallbackMatrix:n.fallbackMatrix}}isLocationOccluded(e){return this.currentTransform.isLocationOccluded(e)}transformLightDirection(e){return this.currentTransform.transformLightDirection(e)}getPixelScale(){return s.bc(this._mercatorTransform.getPixelScale(),this._verticalPerspectiveTransform.getPixelScale(),this._globeness)}getCircleRadiusCorrection(){return s.bc(this._mercatorTransform.getCircleRadiusCorrection(),this._verticalPerspectiveTransform.getCircleRadiusCorrection(),this._globeness)}getPitchedTextCorrection(e,n,u){const f=this._mercatorTransform.getPitchedTextCorrection(e,n,u),y=this._verticalPerspectiveTransform.getPitchedTextCorrection(e,n,u);return s.bc(f,y,this._globeness)}projectTileCoordinates(e,n,u,f){return this.currentTransform.projectTileCoordinates(e,n,u,f)}_calcMatrices(){this._helper._width&&this._helper._height&&(this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians),this._helper._nearZ=this._verticalPerspectiveTransform.nearZ,this._helper._farZ=this._verticalPerspectiveTransform.farZ,this._mercatorTransform.apply(this,!0,this.isGlobeRendering),this._helper._nearZ=this._mercatorTransform.nearZ,this._helper._farZ=this._mercatorTransform.farZ)}calculateFogMatrix(e){return this.currentTransform.calculateFogMatrix(e)}getVisibleUnwrappedCoordinates(e){return this.currentTransform.getVisibleUnwrappedCoordinates(e)}getCameraFrustum(){return this.currentTransform.getCameraFrustum()}getClippingPlane(){return this.currentTransform.getClippingPlane()}getCoveringTilesDetailsProvider(){return this.currentTransform.getCoveringTilesDetailsProvider()}recalculateZoomAndCenter(e){this._mercatorTransform.recalculateZoomAndCenter(e),this._verticalPerspectiveTransform.recalculateZoomAndCenter(e)}maxPitchScaleFactor(){return this._mercatorTransform.maxPitchScaleFactor()}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(e,n){return this.currentTransform.lngLatToCameraDepth(e,n)}populateCache(e){this._mercatorTransform.populateCache(e),this._verticalPerspectiveTransform.populateCache(e)}getBounds(){return this.currentTransform.getBounds()}getConstrained(e,n){return this.currentTransform.getConstrained(e,n)}calculateCenterFromCameraLngLatAlt(e,n,u,f){return this._helper.calculateCenterFromCameraLngLatAlt(e,n,u,f)}setLocationAtPoint(e,n){if(!this.isGlobeRendering)return this._mercatorTransform.setLocationAtPoint(e,n),void this.apply(this._mercatorTransform);this._verticalPerspectiveTransform.setLocationAtPoint(e,n),this.apply(this._verticalPerspectiveTransform)}locationToScreenPoint(e,n){return this.currentTransform.locationToScreenPoint(e,n)}screenPointToMercatorCoordinate(e,n){return this.currentTransform.screenPointToMercatorCoordinate(e,n)}screenPointToLocation(e,n){return this.currentTransform.screenPointToLocation(e,n)}isPointOnMapSurface(e,n){return this.currentTransform.isPointOnMapSurface(e,n)}getRayDirectionFromPixel(e){return this._verticalPerspectiveTransform.getRayDirectionFromPixel(e)}getMatrixForModel(e,n){return this.currentTransform.getMatrixForModel(e,n)}getProjectionDataForCustomLayer(e=!0){const n=this._mercatorTransform.getProjectionDataForCustomLayer(e);if(!this.isGlobeRendering)return n;const u=this._verticalPerspectiveTransform.getProjectionDataForCustomLayer(e);return u.fallbackMatrix=n.mainMatrix,u}getFastPathSimpleProjectionMatrix(e){return this.currentTransform.getFastPathSimpleProjectionMatrix(e)}}class Pa{get useGlobeControls(){return!0}handlePanInertia(e,n){const u=Ds(e,n);return Math.abs(u.lng-n.center.lng)>180&&(u.lng=n.center.lng+179.5*Math.sign(u.lng-n.center.lng)),{easingCenter:u,easingOffset:new s.P(0,0)}}handleMapControlsRollPitchBearingZoom(e,n){const u=e.around,f=n.screenPointToLocation(u);e.bearingDelta&&n.setBearing(n.bearing+e.bearingDelta),e.pitchDelta&&n.setPitch(n.pitch+e.pitchDelta),e.rollDelta&&n.setRoll(n.roll+e.rollDelta);const y=n.zoom;e.zoomDelta&&n.setZoom(n.zoom+e.zoomDelta);const C=n.zoom-y;if(C===0)return;const T=s.bq(n.center.lng,f.lng),k=T/(Math.abs(T/180)+1),z=s.bq(n.center.lat,f.lat),O=n.getRayDirectionFromPixel(u),W=n.cameraPosition,Z=-1*s.aV(W,O),Q=s.bh();s.aP(Q,W,[O[0]*Z,O[1]*Z,O[2]*Z]);const ie=s.bo(Q)-1,Ce=Math.exp(.5*-Math.max(ie-.3,0)),we=Oi(n.worldSize,n.center.lat)/Math.min(n.width,n.height),De=s.bf(we,.9,.5,1,.25),ke=(1-s.ac(-C))*Math.min(Ce,De),Le=n.center.lat,Ee=n.zoom,Be=new s.Q(n.center.lng+k*ke,s.ae(n.center.lat+z*ke,-85.051129,s.af));n.setLocationAtPoint(f,u);const je=n.center,Ve=s.bf(Math.abs(T),45,85,0,1),lt=s.bf(we,.75,.35,0,1),At=Math.pow(Math.max(Ve,lt),.25),rt=s.bq(je.lng,Be.lng),ht=s.bq(je.lat,Be.lat);n.setCenter(new s.Q(je.lng+rt*At,je.lat+ht*At).wrap()),n.setZoom(Ee+Si(Le,n.center.lat))}handleMapControlsPan(e,n,u){if(!e.panDelta)return;const f=n.center.lat,y=n.zoom;n.setCenter(Ds(e.panDelta,n).wrap()),n.setZoom(y+Si(f,n.center.lat))}cameraForBoxAndBearing(e,n,u,f,y){const C=ho(e,n,u,f,y),T=n.left/y.width*2-1,k=(y.width-n.right)/y.width*2-1,z=n.top/y.height*-2+1,O=(y.height-n.bottom)/y.height*-2+1,W=s.bq(u.getWest(),u.getEast())<0,Z=W?u.getEast():u.getWest(),Q=W?u.getWest():u.getEast(),ie=Math.max(u.getNorth(),u.getSouth()),Ce=Math.min(u.getNorth(),u.getSouth()),we=Z+.5*s.bq(Z,Q),De=ie+.5*s.bq(ie,Ce),ke=y.clone();ke.setCenter(C.center),ke.setBearing(C.bearing),ke.setPitch(0),ke.setRoll(0),ke.setZoom(C.zoom);const Le=ke.modelViewProjectionMatrix,Ee=[yi(u.getNorthWest()),yi(u.getNorthEast()),yi(u.getSouthWest()),yi(u.getSouthEast()),yi(new s.Q(Q,De)),yi(new s.Q(Z,De)),yi(new s.Q(we,ie)),yi(new s.Q(we,Ce))],Be=yi(C.center);let je=Number.POSITIVE_INFINITY;for(const Ve of Ee)T<0&&(je=Pa.getLesserNonNegativeNonNull(je,Pa.solveVectorScale(Ve,Be,Le,"x",T))),k>0&&(je=Pa.getLesserNonNegativeNonNull(je,Pa.solveVectorScale(Ve,Be,Le,"x",k))),z>0&&(je=Pa.getLesserNonNegativeNonNull(je,Pa.solveVectorScale(Ve,Be,Le,"y",z))),O<0&&(je=Pa.getLesserNonNegativeNonNull(je,Pa.solveVectorScale(Ve,Be,Le,"y",O)));if(Number.isFinite(je)&&je!==0)return C.zoom=ke.zoom+s.ah(je),C;Ba()}handleJumpToCenterZoom(e,n){const u=e.center.lat,f=e.getConstrained(n.center?s.Q.convert(n.center):e.center,e.zoom).center;e.setCenter(f.wrap());const y=n.zoom!==void 0?+n.zoom:e.zoom+Si(u,f.lat);e.zoom!==y&&e.setZoom(y)}handleEaseTo(e,n){const u=e.zoom,f=e.center,y=e.padding,C={roll:e.roll,pitch:e.pitch,bearing:e.bearing},T={roll:n.roll===void 0?e.roll:n.roll,pitch:n.pitch===void 0?e.pitch:n.pitch,bearing:n.bearing===void 0?e.bearing:n.bearing},k=n.zoom!==void 0,z=!e.isPaddingEqual(n.padding);let O=!1;const W=n.center?s.Q.convert(n.center):f,Z=e.getConstrained(W,u).center;Ma(e,Z);const Q=e.clone();Q.setCenter(Z),Q.setZoom(k?+n.zoom:u+Si(f.lat,W.lat)),Q.setBearing(n.bearing);const ie=new s.P(s.ae(e.centerPoint.x+n.offsetAsPoint.x,0,e.width),s.ae(e.centerPoint.y+n.offsetAsPoint.y,0,e.height));Q.setLocationAtPoint(Z,ie);const Ce=(n.offset&&n.offsetAsPoint.mag())>0?Q.center:Z,we=k?+n.zoom:u+Si(f.lat,Ce.lat),De=u+Si(f.lat,0),ke=we+Si(Ce.lat,0),Le=s.bq(f.lng,Ce.lng),Ee=s.bq(f.lat,Ce.lat),Be=s.ac(ke-De);return O=we!==u,{easeFunc:je=>{if(s.b6(C,T)||ia({startEulerAngles:C,endEulerAngles:T,tr:e,k:je,useSlerp:C.roll!=T.roll}),z&&e.interpolatePadding(y,n.padding,je),n.around)s.w("Easing around a point is not supported under globe projection."),e.setLocationAtPoint(n.around,n.aroundPoint);else{const Ve=ke>De?Math.min(2,Be):Math.max(.5,Be),lt=Math.pow(Ve,1-je),At=Y0(f,Le,Ee,je*lt);e.setCenter(At.wrap())}if(O){const Ve=s.B.number(De,ke,je)+Si(0,e.center.lat);e.setZoom(Ve)}},isZooming:O,elevationCenter:Ce}}handleFlyTo(e,n){const u=n.zoom!==void 0,f=e.center,y=e.zoom,C=e.padding,T=!e.isPaddingEqual(n.padding),k=e.getConstrained(s.Q.convert(n.center||n.locationAtOffset),y).center,z=u?+n.zoom:e.zoom+Si(e.center.lat,k.lat),O=e.clone();O.setCenter(k),O.setZoom(z),O.setBearing(n.bearing);const W=new s.P(s.ae(e.centerPoint.x+n.offsetAsPoint.x,0,e.width),s.ae(e.centerPoint.y+n.offsetAsPoint.y,0,e.height));O.setLocationAtPoint(k,W);const Z=O.center;Ma(e,Z);const Q=function(Ee,Be,je){const Ve=yi(Be),lt=yi(je),At=s.aV(Ve,lt),rt=Math.acos(At),ht=go(Ee);return rt/(2*Math.PI)*ht}(e,f,Z),ie=y+Si(f.lat,0),Ce=z+Si(Z.lat,0),we=s.ac(Ce-ie);let De;if(typeof n.minZoom=="number"){const Ee=+n.minZoom+Si(Z.lat,0),Be=Math.min(Ee,ie,Ce)+Si(0,Z.lat),je=e.getConstrained(Z,Be).zoom+Si(Z.lat,0);De=s.ac(je-ie)}const ke=s.bq(f.lng,Z.lng),Le=s.bq(f.lat,Z.lat);return{easeFunc:(Ee,Be,je,Ve)=>{const lt=Y0(f,ke,Le,je);T&&e.interpolatePadding(C,n.padding,Ee);const At=Ee===1?Z:lt;e.setCenter(At.wrap());const rt=ie+s.ah(Be);e.setZoom(Ee===1?z:rt+Si(0,At.lat))},scaleOfZoom:we,targetCenter:Z,scaleOfMinZoom:De,pixelPathLength:Q}}static solveVectorScale(e,n,u,f,y){const C=f==="x"?[u[0],u[4],u[8],u[12]]:[u[1],u[5],u[9],u[13]],T=[u[3],u[7],u[11],u[15]],k=e[0]*C[0]+e[1]*C[1]+e[2]*C[2],z=e[0]*T[0]+e[1]*T[1]+e[2]*T[2],O=n[0]*C[0]+n[1]*C[1]+n[2]*C[2],W=n[0]*T[0]+n[1]*T[1]+n[2]*T[2];return O+y*z===k+y*W||T[3]*(k-O)+C[3]*(W-z)+k*W==O*z?null:(O+C[3]-y*W-y*T[3])/(O-k-y*W+y*z)}static getLesserNonNegativeNonNull(e,n){return n!==null&&n>=0&&n<e?n:e}}class qi{constructor(e){this._globe=e,this._mercatorCameraHelper=new po,this._verticalPerspectiveCameraHelper=new Pa}get useGlobeControls(){return this._globe.useGlobeRendering}get currentHelper(){return this.useGlobeControls?this._verticalPerspectiveCameraHelper:this._mercatorCameraHelper}handlePanInertia(e,n){return this.currentHelper.handlePanInertia(e,n)}handleMapControlsRollPitchBearingZoom(e,n){return this.currentHelper.handleMapControlsRollPitchBearingZoom(e,n)}handleMapControlsPan(e,n,u){this.currentHelper.handleMapControlsPan(e,n,u)}cameraForBoxAndBearing(e,n,u,f,y){return this.currentHelper.cameraForBoxAndBearing(e,n,u,f,y)}handleJumpToCenterZoom(e,n){this.currentHelper.handleJumpToCenterZoom(e,n)}handleEaseTo(e,n){return this.currentHelper.handleEaseTo(e,n)}handleFlyTo(e,n){return this.currentHelper.handleFlyTo(e,n)}}const Hr=(m,e)=>s.x(m,e&&e.filter(n=>n.identifier!=="source.canvas")),Ws=s.bw();class Q0 extends s.E{constructor(e,n={}){super(),this._rtlPluginLoaded=()=>{for(const u in this.sourceCaches){const f=this.sourceCaches[u].getSource().type;f!=="vector"&&f!=="geojson"||this.sourceCaches[u].reload()}},this.map=e,this.dispatcher=new wn(gn(),e._getMapId()),this.dispatcher.registerMessageHandler("GG",(u,f)=>this.getGlyphs(u,f)),this.dispatcher.registerMessageHandler("GI",(u,f)=>this.getImages(u,f)),this.imageManager=new ge,this.imageManager.setEventedParent(this),this.glyphManager=new Wt(e._requestManager,n.localIdeographFontFamily),this.lineAtlas=new jt(256,512),this.crossTileSymbolIndex=new sn,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new s.bx,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("SR",s.by()),Qr().on(Wi,this._rtlPluginLoaded),this.on("data",u=>{if(u.dataType!=="source"||u.sourceDataType!=="metadata")return;const f=this.sourceCaches[u.sourceId];if(!f)return;const y=f.getSource();if(y&&y.vectorLayerIds)for(const C in this._layers){const T=this._layers[C];T.source===y.id&&this._validateLayer(T)}})}loadURL(e,n={},u){this.fire(new s.l("dataloading",{dataType:"style"})),n.validate=typeof n.validate!="boolean"||n.validate;const f=this.map._requestManager.transformRequest(e,"Style");this._loadStyleRequest=new AbortController;const y=this._loadStyleRequest;s.j(f,this._loadStyleRequest).then(C=>{this._loadStyleRequest=null,this._load(C.data,n,u)}).catch(C=>{this._loadStyleRequest=null,C&&!y.signal.aborted&&this.fire(new s.k(C))})}loadJSON(e,n={},u){this.fire(new s.l("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,ce.frameAsync(this._frameRequest).then(()=>{this._frameRequest=null,n.validate=n.validate!==!1,this._load(e,n,u)}).catch(()=>{})}loadEmpty(){this.fire(new s.l("dataloading",{dataType:"style"})),this._load(Ws,{validate:!1})}_load(e,n,u){var f,y;const C=n.transformStyle?n.transformStyle(u,e):e;if(!n.validate||!Hr(this,s.y(C))){this._loaded=!0,this.stylesheet=C;for(const T in C.sources)this.addSource(T,C.sources[T],{validate:!1});C.sprite?this._loadSprite(C.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(C.glyphs),this._createLayers(),this.light=new cn(this.stylesheet.light),this._setProjectionInternal(((f=this.stylesheet.projection)===null||f===void 0?void 0:f.type)||"mercator"),this.sky=new mt(this.stylesheet.sky),this.map.setTerrain((y=this.stylesheet.terrain)!==null&&y!==void 0?y:null),this.fire(new s.l("data",{dataType:"style"})),this.fire(new s.l("style.load"))}}_createLayers(){const e=s.bz(this.stylesheet.layers);this.dispatcher.broadcast("SL",e),this._order=e.map(n=>n.id),this._layers={},this._serializedLayers=null;for(const n of e){const u=s.bA(n);u.setEventedParent(this,{layer:{id:n.id}}),this._layers[n.id]=u}}_loadSprite(e,n=!1,u=void 0){let f;this.imageManager.setLoaded(!1),this._spriteRequest=new AbortController,function(y,C,T,k){return s._(this,void 0,void 0,function*(){const z=$e(y),O=T>1?"@2x":"",W={},Z={};for(const{id:Q,url:ie}of z){const Ce=C.transformRequest(ot(ie,O,".json"),"SpriteJSON");W[Q]=s.j(Ce,k);const we=C.transformRequest(ot(ie,O,".png"),"SpriteImage");Z[Q]=Ae.getImage(we,k)}return yield Promise.all([...Object.values(W),...Object.values(Z)]),function(Q,ie){return s._(this,void 0,void 0,function*(){const Ce={};for(const we in Q){Ce[we]={};const De=ce.getImageCanvasContext((yield ie[we]).data),ke=(yield Q[we]).data;for(const Le in ke){const{width:Ee,height:Be,x:je,y:Ve,sdf:lt,pixelRatio:At,stretchX:rt,stretchY:ht,content:Dt,textFitWidth:nn,textFitHeight:rn}=ke[Le];Ce[we][Le]={data:null,pixelRatio:At,sdf:lt,stretchX:rt,stretchY:ht,content:Dt,textFitWidth:nn,textFitHeight:rn,spriteData:{width:Ee,height:Be,x:je,y:Ve,context:De}}}}return Ce})}(W,Z)})}(e,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then(y=>{if(this._spriteRequest=null,y)for(const C in y){this._spritesImagesIds[C]=[];const T=this._spritesImagesIds[C]?this._spritesImagesIds[C].filter(k=>!(k in y)):[];for(const k of T)this.imageManager.removeImage(k),this._changedImages[k]=!0;for(const k in y[C]){const z=C==="default"?k:`${C}:${k}`;this._spritesImagesIds[C].push(z),z in this.imageManager.images?this.imageManager.updateImage(z,y[C][k],!1):this.imageManager.addImage(z,y[C][k]),n&&(this._changedImages[z]=!0)}}}).catch(y=>{this._spriteRequest=null,f=y,this.fire(new s.k(f))}).finally(()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),n&&(this._changed=!0),this.dispatcher.broadcast("SI",this._availableImages),this.fire(new s.l("data",{dataType:"style"})),u&&u(f)})}_unloadSprite(){for(const e of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(e),this._changedImages[e]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new s.l("data",{dataType:"style"}))}_validateLayer(e){const n=this.sourceCaches[e.source];if(!n)return;const u=e.sourceLayer;if(!u)return;const f=n.getSource();(f.type==="geojson"||f.vectorLayerIds&&f.vectorLayerIds.indexOf(u)===-1)&&this.fire(new s.k(new Error(`Source layer "${u}" does not exist on source "${f.id}" as specified by style layer "${e.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const e in this.sourceCaches)if(!this.sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(e,n=!1){const u=this._serializedAllLayers();if(!e||e.length===0)return Object.values(n?s.bB(u):u);const f=[];for(const y of e)if(u[y]){const C=n?s.bB(u[y]):u[y];f.push(C)}return f}_serializedAllLayers(){let e=this._serializedLayers;if(e)return e;e=this._serializedLayers={};const n=Object.keys(this._layers);for(const u of n){const f=this._layers[u];f.type!=="custom"&&(e[u]=f.serialize())}return e}hasTransitions(){var e,n,u;if(!((e=this.light)===null||e===void 0)&&e.hasTransition()||!((n=this.sky)===null||n===void 0)&&n.hasTransition()||!((u=this.projection)===null||u===void 0)&&u.hasTransition())return!0;for(const f in this.sourceCaches)if(this.sourceCaches[f].hasTransition())return!0;for(const f in this._layers)if(this._layers[f].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(e){if(!this._loaded)return;const n=this._changed;if(n){const f=Object.keys(this._updatedLayers),y=Object.keys(this._removedLayers);(f.length||y.length)&&this._updateWorkerLayers(f,y);for(const C in this._updatedSources){const T=this._updatedSources[C];if(T==="reload")this._reloadSource(C);else{if(T!=="clear")throw new Error(`Invalid action ${T}`);this._clearSource(C)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const C in this._updatedPaintProps)this._layers[C].updateTransitions(e);this.light.updateTransitions(e),this.sky.updateTransitions(e),this._resetUpdates()}const u={};for(const f in this.sourceCaches){const y=this.sourceCaches[f];u[f]=y.used,y.used=!1}for(const f of this._order){const y=this._layers[f];y.recalculate(e,this._availableImages),!y.isHidden(e.zoom)&&y.source&&(this.sourceCaches[y.source].used=!0)}for(const f in u){const y=this.sourceCaches[f];!!u[f]!=!!y.used&&y.fire(new s.l("data",{sourceDataType:"visibility",dataType:"source",sourceId:f}))}this.light.recalculate(e),this.sky.recalculate(e),this.projection.recalculate(e),this.z=e.zoom,n&&this.fire(new s.l("data",{dataType:"style"}))}_updateTilesForChangedImages(){const e=Object.keys(this._changedImages);if(e.length){for(const n in this.sourceCaches)this.sourceCaches[n].reloadTilesForDependencies(["icons","patterns"],e);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const e in this.sourceCaches)this.sourceCaches[e].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(e,n){this.dispatcher.broadcast("UL",{layers:this._serializeByIds(e,!1),removedIds:n})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(e,n={}){var u;this._checkLoaded();const f=this.serialize();if(e=n.transformStyle?n.transformStyle(f,e):e,((u=n.validate)===null||u===void 0||u)&&Hr(this,s.y(e)))return!1;(e=s.bB(e)).layers=s.bz(e.layers);const y=s.bC(f,e),C=this._getOperationsToPerform(y);if(C.unimplemented.length>0)throw new Error(`Unimplemented: ${C.unimplemented.join(", ")}.`);if(C.operations.length===0)return!1;for(const T of C.operations)T();return this.stylesheet=e,this._serializedLayers=null,!0}_getOperationsToPerform(e){const n=[],u=[];for(const f of e)switch(f.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":case"setRoll":continue;case"addLayer":n.push(()=>this.addLayer.apply(this,f.args));break;case"removeLayer":n.push(()=>this.removeLayer.apply(this,f.args));break;case"setPaintProperty":n.push(()=>this.setPaintProperty.apply(this,f.args));break;case"setLayoutProperty":n.push(()=>this.setLayoutProperty.apply(this,f.args));break;case"setFilter":n.push(()=>this.setFilter.apply(this,f.args));break;case"addSource":n.push(()=>this.addSource.apply(this,f.args));break;case"removeSource":n.push(()=>this.removeSource.apply(this,f.args));break;case"setLayerZoomRange":n.push(()=>this.setLayerZoomRange.apply(this,f.args));break;case"setLight":n.push(()=>this.setLight.apply(this,f.args));break;case"setGeoJSONSourceData":n.push(()=>this.setGeoJSONSourceData.apply(this,f.args));break;case"setGlyphs":n.push(()=>this.setGlyphs.apply(this,f.args));break;case"setSprite":n.push(()=>this.setSprite.apply(this,f.args));break;case"setTerrain":n.push(()=>this.map.setTerrain.apply(this,f.args));break;case"setSky":n.push(()=>this.setSky.apply(this,f.args));break;case"setProjection":this.setProjection.apply(this,f.args);break;case"setTransition":n.push(()=>{});break;default:u.push(f.command)}return{operations:n,unimplemented:u}}addImage(e,n){if(this.getImage(e))return this.fire(new s.k(new Error(`An image named "${e}" already exists.`)));this.imageManager.addImage(e,n),this._afterImageUpdated(e)}updateImage(e,n){this.imageManager.updateImage(e,n)}getImage(e){return this.imageManager.getImage(e)}removeImage(e){if(!this.getImage(e))return this.fire(new s.k(new Error(`An image named "${e}" does not exist.`)));this.imageManager.removeImage(e),this._afterImageUpdated(e)}_afterImageUpdated(e){this._availableImages=this.imageManager.listImages(),this._changedImages[e]=!0,this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new s.l("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(e,n,u={}){if(this._checkLoaded(),this.sourceCaches[e]!==void 0)throw new Error(`Source "${e}" already exists.`);if(!n.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(n).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(n.type)>=0&&this._validate(s.y.source,`sources.${e}`,n,null,u))return;this.map&&this.map._collectResourceTiming&&(n.collectResourceTiming=!0);const f=this.sourceCaches[e]=new at(e,n,this.dispatcher);f.style=this,f.setEventedParent(this,()=>({isSourceLoaded:f.loaded(),source:f.serialize(),sourceId:e})),f.onAdd(this.map),this._changed=!0}removeSource(e){if(this._checkLoaded(),this.sourceCaches[e]===void 0)throw new Error("There is no source with this ID");for(const u in this._layers)if(this._layers[u].source===e)return this.fire(new s.k(new Error(`Source "${e}" cannot be removed while layer "${u}" is using it.`)));const n=this.sourceCaches[e];delete this.sourceCaches[e],delete this._updatedSources[e],n.fire(new s.l("data",{sourceDataType:"metadata",dataType:"source",sourceId:e})),n.setEventedParent(null),n.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(e,n){if(this._checkLoaded(),this.sourceCaches[e]===void 0)throw new Error(`There is no source with this ID=${e}`);const u=this.sourceCaches[e].getSource();if(u.type!=="geojson")throw new Error(`geojsonSource.type is ${u.type}, which is !== 'geojson`);u.setData(n),this._changed=!0}getSource(e){return this.sourceCaches[e]&&this.sourceCaches[e].getSource()}addLayer(e,n,u={}){this._checkLoaded();const f=e.id;if(this.getLayer(f))return void this.fire(new s.k(new Error(`Layer "${f}" already exists on this map.`)));let y;if(e.type==="custom"){if(Hr(this,s.bD(e)))return;y=s.bA(e)}else{if("source"in e&&typeof e.source=="object"&&(this.addSource(f,e.source),e=s.bB(e),e=s.e(e,{source:f})),this._validate(s.y.layer,`layers.${f}`,e,{arrayIndex:-1},u))return;y=s.bA(e),this._validateLayer(y),y.setEventedParent(this,{layer:{id:f}})}const C=n?this._order.indexOf(n):this._order.length;if(n&&C===-1)this.fire(new s.k(new Error(`Cannot add layer "${f}" before non-existing layer "${n}".`)));else{if(this._order.splice(C,0,f),this._layerOrderChanged=!0,this._layers[f]=y,this._removedLayers[f]&&y.source&&y.type!=="custom"){const T=this._removedLayers[f];delete this._removedLayers[f],T.type!==y.type?this._updatedSources[y.source]="clear":(this._updatedSources[y.source]="reload",this.sourceCaches[y.source].pause())}this._updateLayer(y),y.onAdd&&y.onAdd(this.map)}}moveLayer(e,n){if(this._checkLoaded(),this._changed=!0,!this._layers[e])return void this.fire(new s.k(new Error(`The layer '${e}' does not exist in the map's style and cannot be moved.`)));if(e===n)return;const u=this._order.indexOf(e);this._order.splice(u,1);const f=n?this._order.indexOf(n):this._order.length;n&&f===-1?this.fire(new s.k(new Error(`Cannot move layer "${e}" before non-existing layer "${n}".`))):(this._order.splice(f,0,e),this._layerOrderChanged=!0)}removeLayer(e){this._checkLoaded();const n=this._layers[e];if(!n)return void this.fire(new s.k(new Error(`Cannot remove non-existing layer "${e}".`)));n.setEventedParent(null);const u=this._order.indexOf(e);this._order.splice(u,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[e]=n,delete this._layers[e],this._serializedLayers&&delete this._serializedLayers[e],delete this._updatedLayers[e],delete this._updatedPaintProps[e],n.onRemove&&n.onRemove(this.map)}getLayer(e){return this._layers[e]}getLayersOrder(){return[...this._order]}hasLayer(e){return e in this._layers}setLayerZoomRange(e,n,u){this._checkLoaded();const f=this.getLayer(e);f?f.minzoom===n&&f.maxzoom===u||(n!=null&&(f.minzoom=n),u!=null&&(f.maxzoom=u),this._updateLayer(f)):this.fire(new s.k(new Error(`Cannot set the zoom range of non-existing layer "${e}".`)))}setFilter(e,n,u={}){this._checkLoaded();const f=this.getLayer(e);if(f){if(!s.bE(f.filter,n))return n==null?(f.filter=void 0,void this._updateLayer(f)):void(this._validate(s.y.filter,`layers.${f.id}.filter`,n,null,u)||(f.filter=s.bB(n),this._updateLayer(f)))}else this.fire(new s.k(new Error(`Cannot filter non-existing layer "${e}".`)))}getFilter(e){return s.bB(this.getLayer(e).filter)}setLayoutProperty(e,n,u,f={}){this._checkLoaded();const y=this.getLayer(e);y?s.bE(y.getLayoutProperty(n),u)||(y.setLayoutProperty(n,u,f),this._updateLayer(y)):this.fire(new s.k(new Error(`Cannot style non-existing layer "${e}".`)))}getLayoutProperty(e,n){const u=this.getLayer(e);if(u)return u.getLayoutProperty(n);this.fire(new s.k(new Error(`Cannot get style of non-existing layer "${e}".`)))}setPaintProperty(e,n,u,f={}){this._checkLoaded();const y=this.getLayer(e);y?s.bE(y.getPaintProperty(n),u)||(y.setPaintProperty(n,u,f)&&this._updateLayer(y),this._changed=!0,this._updatedPaintProps[e]=!0,this._serializedLayers=null):this.fire(new s.k(new Error(`Cannot style non-existing layer "${e}".`)))}getPaintProperty(e,n){return this.getLayer(e).getPaintProperty(n)}setFeatureState(e,n){this._checkLoaded();const u=e.source,f=e.sourceLayer,y=this.sourceCaches[u];if(y===void 0)return void this.fire(new s.k(new Error(`The source '${u}' does not exist in the map's style.`)));const C=y.getSource().type;C==="geojson"&&f?this.fire(new s.k(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):C!=="vector"||f?(e.id===void 0&&this.fire(new s.k(new Error("The feature id parameter must be provided."))),y.setFeatureState(f,e.id,n)):this.fire(new s.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(e,n){this._checkLoaded();const u=e.source,f=this.sourceCaches[u];if(f===void 0)return void this.fire(new s.k(new Error(`The source '${u}' does not exist in the map's style.`)));const y=f.getSource().type,C=y==="vector"?e.sourceLayer:void 0;y!=="vector"||C?n&&typeof e.id!="string"&&typeof e.id!="number"?this.fire(new s.k(new Error("A feature id is required to remove its specific state property."))):f.removeFeatureState(C,e.id,n):this.fire(new s.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(e){this._checkLoaded();const n=e.source,u=e.sourceLayer,f=this.sourceCaches[n];if(f!==void 0)return f.getSource().type!=="vector"||u?(e.id===void 0&&this.fire(new s.k(new Error("The feature id parameter must be provided."))),f.getFeatureState(u,e.id)):void this.fire(new s.k(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new s.k(new Error(`The source '${n}' does not exist in the map's style.`)))}getTransition(){return s.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const e=s.bF(this.sourceCaches,y=>y.serialize()),n=this._serializeByIds(this._order,!0),u=this.map.getTerrain()||void 0,f=this.stylesheet;return s.bG({version:f.version,name:f.name,metadata:f.metadata,light:f.light,sky:f.sky,center:f.center,zoom:f.zoom,bearing:f.bearing,pitch:f.pitch,sprite:f.sprite,glyphs:f.glyphs,transition:f.transition,projection:f.projection,sources:e,layers:n,terrain:u},y=>y!==void 0)}_updateLayer(e){this._updatedLayers[e.id]=!0,e.source&&!this._updatedSources[e.source]&&this.sourceCaches[e.source].getSource().type!=="raster"&&(this._updatedSources[e.source]="reload",this.sourceCaches[e.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(e){const n=C=>this._layers[C].type==="fill-extrusion",u={},f=[];for(let C=this._order.length-1;C>=0;C--){const T=this._order[C];if(n(T)){u[T]=C;for(const k of e){const z=k[T];if(z)for(const O of z)f.push(O)}}}f.sort((C,T)=>T.intersectionZ-C.intersectionZ);const y=[];for(let C=this._order.length-1;C>=0;C--){const T=this._order[C];if(n(T))for(let k=f.length-1;k>=0;k--){const z=f[k].feature;if(u[z.layer.id]<C)break;y.push(z),f.pop()}else for(const k of e){const z=k[T];if(z)for(const O of z)y.push(O.feature)}}return y}queryRenderedFeatures(e,n,u){n&&n.filter&&this._validate(s.y.filter,"queryRenderedFeatures.filter",n.filter,null,n);const f={};if(n&&n.layers){if(!(Array.isArray(n.layers)||n.layers instanceof Set))return this.fire(new s.k(new Error("parameters.layers must be an Array or a Set of strings"))),[];for(const z of n.layers){const O=this._layers[z];if(!O)return this.fire(new s.k(new Error(`The layer '${z}' does not exist in the map's style and cannot be queried for features.`))),[];f[O.source]=!0}}const y=[];n.availableImages=this._availableImages;const C=this._serializedAllLayers(),T=n.layers instanceof Set?n.layers:Array.isArray(n.layers)?new Set(n.layers):null,k=Object.assign(Object.assign({},n),{layers:T});for(const z in this.sourceCaches)n.layers&&!f[z]||y.push(An(this.sourceCaches[z],this._layers,C,e,k,u,this.map.terrain?(O,W,Z)=>this.map.terrain.getElevation(O,W,Z):void 0));return this.placement&&y.push(function(z,O,W,Z,Q,ie,Ce){const we={},De=ie.queryRenderedSymbols(Z),ke=[];for(const Le of Object.keys(De).map(Number))ke.push(Ce[Le]);ke.sort(Nn);for(const Le of ke){const Ee=Le.featureIndex.lookupSymbolFeatures(De[Le.bucketInstanceId],O,Le.bucketIndex,Le.sourceLayerIndex,Q.filter,Q.layers,Q.availableImages,z);for(const Be in Ee){const je=we[Be]=we[Be]||[],Ve=Ee[Be];Ve.sort((lt,At)=>{const rt=Le.featureSortOrder;if(rt){const ht=rt.indexOf(lt.featureIndex);return rt.indexOf(At.featureIndex)-ht}return At.featureIndex-lt.featureIndex});for(const lt of Ve)je.push(lt)}}return function(Le,Ee,Be){for(const je in Le)for(const Ve of Le[je])Kn(Ve,Be[Ee[je].source]);return Le}(we,z,W)}(this._layers,C,this.sourceCaches,e,k,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(y)}querySourceFeatures(e,n){n&&n.filter&&this._validate(s.y.filter,"querySourceFeatures.filter",n.filter,null,n);const u=this.sourceCaches[e];return u?function(f,y){const C=f.getRenderableIds().map(z=>f.getTileByID(z)),T=[],k={};for(let z=0;z<C.length;z++){const O=C[z],W=O.tileID.canonical.key;k[W]||(k[W]=!0,O.querySourceFeatures(T,y))}return T}(u,n):[]}getLight(){return this.light.getLight()}setLight(e,n={}){this._checkLoaded();const u=this.light.getLight();let f=!1;for(const C in e)if(!s.bE(e[C],u[C])){f=!0;break}if(!f)return;const y={now:ce.now(),transition:s.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(e,n),this.light.updateTransitions(y)}getProjection(){var e;return(e=this.stylesheet)===null||e===void 0?void 0:e.projection}setProjection(e){if(this._checkLoaded(),this.projection){if(this.projection.name===e.type)return;this.projection.destroy(),delete this.projection}this.stylesheet.projection=e,this._setProjectionInternal(e.type)}getSky(){var e;return(e=this.stylesheet)===null||e===void 0?void 0:e.sky}setSky(e,n={}){this._checkLoaded();const u=this.getSky();let f=!1;if(!e&&!u)return;if(e&&!u)f=!0;else if(!e&&u)f=!0;else for(const C in e)if(!s.bE(e[C],u[C])){f=!0;break}if(!f)return;const y={now:ce.now(),transition:s.e({duration:300,delay:0},this.stylesheet.transition)};this.stylesheet.sky=e,this.sky.setSky(e,n),this.sky.updateTransitions(y)}_setProjectionInternal(e){const n=function(u){if(Array.isArray(u)){const f=new ul({type:u});return{projection:f,transform:new Ro,cameraHelper:new qi(f)}}switch(u){case"mercator":return{projection:new co,transform:new w0,cameraHelper:new po};case"globe":{const f=new ul({type:["interpolate",["linear"],["zoom"],11,"vertical-perspective",12,"mercator"]});return{projection:f,transform:new Ro,cameraHelper:new qi(f)}}case"vertical-perspective":return{projection:new a0,transform:new Zs,cameraHelper:new Pa};default:return s.w(`Unknown projection name: ${u}. Falling back to mercator projection.`),{projection:new co,transform:new w0,cameraHelper:new po}}}(e);this.projection=n.projection,this.map.migrateProjection(n.transform,n.cameraHelper);for(const u in this.sourceCaches)this.sourceCaches[u].reload()}_validate(e,n,u,f,y={}){return(!y||y.validate!==!1)&&Hr(this,e.call(s.y,s.e({key:n,style:this.serialize(),value:u,styleSpec:s.v},f)))}_remove(e=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),Qr().off(Wi,this._rtlPluginLoaded);for(const n in this._layers)this._layers[n].setEventedParent(null);for(const n in this.sourceCaches){const u=this.sourceCaches[n];u.setEventedParent(null),u.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),e&&this.dispatcher.broadcast("RM",void 0),this.dispatcher.remove(e)}_clearSource(e){this.sourceCaches[e].clearTiles()}_reloadSource(e){this.sourceCaches[e].resume(),this.sourceCaches[e].reload()}_updateSources(e){for(const n in this.sourceCaches)this.sourceCaches[n].update(e,this.map.terrain)}_generateCollisionBoxes(){for(const e in this.sourceCaches)this._reloadSource(e)}_updatePlacement(e,n,u,f,y=!1){let C=!1,T=!1;const k={};for(const z of this._order){const O=this._layers[z];if(O.type!=="symbol")continue;if(!k[O.source]){const Z=this.sourceCaches[O.source];k[O.source]=Z.getRenderableIds(!0).map(Q=>Z.getTileByID(Q)).sort((Q,ie)=>ie.tileID.overscaledZ-Q.tileID.overscaledZ||(Q.tileID.isLessThan(ie.tileID)?-1:1))}const W=this.crossTileSymbolIndex.addLayer(O,k[O.source],e.center.lng);C=C||W}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((y=y||this._layerOrderChanged||u===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(ce.now(),e.zoom))&&(this.pauseablePlacement=new fe(e,this.map.terrain,this._order,y,n,u,f,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,k),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(ce.now()),T=!0),C&&this.pauseablePlacement.placement.setStale()),T||C)for(const z of this._order){const O=this._layers[z];O.type==="symbol"&&this.placement.updateLayerOpacities(O,k[O.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(ce.now())}_releaseSymbolFadeTiles(){for(const e in this.sourceCaches)this.sourceCaches[e].releaseSymbolFadeTiles()}getImages(e,n){return s._(this,void 0,void 0,function*(){const u=yield this.imageManager.getImages(n.icons);this._updateTilesForChangedImages();const f=this.sourceCaches[n.source];return f&&f.setDependencies(n.tileID.key,n.type,n.icons),u})}getGlyphs(e,n){return s._(this,void 0,void 0,function*(){const u=yield this.glyphManager.getGlyphs(n.stacks),f=this.sourceCaches[n.source];return f&&f.setDependencies(n.tileID.key,n.type,[""]),u})}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(e,n={}){this._checkLoaded(),e&&this._validate(s.y.glyphs,"glyphs",e,null,n)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=e,this.glyphManager.entries={},this.glyphManager.setURL(e))}addSprite(e,n,u={},f){this._checkLoaded();const y=[{id:e,url:n}],C=[...$e(this.stylesheet.sprite),...y];this._validate(s.y.sprite,"sprite",C,null,u)||(this.stylesheet.sprite=C,this._loadSprite(y,!0,f))}removeSprite(e){this._checkLoaded();const n=$e(this.stylesheet.sprite);if(n.find(u=>u.id===e)){if(this._spritesImagesIds[e])for(const u of this._spritesImagesIds[e])this.imageManager.removeImage(u),this._changedImages[u]=!0;n.splice(n.findIndex(u=>u.id===e),1),this.stylesheet.sprite=n.length>0?n:void 0,delete this._spritesImagesIds[e],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new s.l("data",{dataType:"style"}))}else this.fire(new s.k(new Error(`Sprite "${e}" doesn't exists on this map.`)))}getSprite(){return $e(this.stylesheet.sprite)}setSprite(e,n={},u){this._checkLoaded(),e&&this._validate(s.y.sprite,"sprite",e,null,n)||(this.stylesheet.sprite=e,e?this._loadSprite(e,!0,u):(this._unloadSprite(),u&&u(null)))}}var $c=s.aG([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class D0{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(e,n,u,f,y,C,T,k,z){this.context=e;let O=this.boundPaintVertexBuffers.length!==f.length;for(let W=0;!O&&W<f.length;W++)this.boundPaintVertexBuffers[W]!==f[W]&&(O=!0);!this.vao||this.boundProgram!==n||this.boundLayoutVertexBuffer!==u||O||this.boundIndexBuffer!==y||this.boundVertexOffset!==C||this.boundDynamicVertexBuffer!==T||this.boundDynamicVertexBuffer2!==k||this.boundDynamicVertexBuffer3!==z?this.freshBind(n,u,f,y,C,T,k,z):(e.bindVertexArray.set(this.vao),T&&T.bind(),y&&y.dynamicDraw&&y.bind(),k&&k.bind(),z&&z.bind())}freshBind(e,n,u,f,y,C,T,k){const z=e.numAttributes,O=this.context,W=O.gl;this.vao&&this.destroy(),this.vao=O.createVertexArray(),O.bindVertexArray.set(this.vao),this.boundProgram=e,this.boundLayoutVertexBuffer=n,this.boundPaintVertexBuffers=u,this.boundIndexBuffer=f,this.boundVertexOffset=y,this.boundDynamicVertexBuffer=C,this.boundDynamicVertexBuffer2=T,this.boundDynamicVertexBuffer3=k,n.enableAttributes(W,e);for(const Z of u)Z.enableAttributes(W,e);C&&C.enableAttributes(W,e),T&&T.enableAttributes(W,e),k&&k.enableAttributes(W,e),n.bind(),n.setVertexAttribPointers(W,e,y);for(const Z of u)Z.bind(),Z.setVertexAttribPointers(W,e,y);C&&(C.bind(),C.setVertexAttribPointers(W,e,y)),f&&f.bind(),T&&(T.bind(),T.setVertexAttribPointers(W,e,y)),k&&(k.bind(),k.setVertexAttribPointers(W,e,y)),O.currentNumAttributes=z}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}const jc=(m,e,n,u,f)=>({u_texture:0,u_ele_delta:m,u_fog_matrix:e,u_fog_color:n?n.properties.get("fog-color"):s.b7.white,u_fog_ground_blend:n?n.properties.get("fog-ground-blend"):1,u_fog_ground_blend_opacity:f?0:n?n.calculateFogBlendOpacity(u):0,u_horizon_color:n?n.properties.get("horizon-color"):s.b7.white,u_horizon_fog_blend:n?n.properties.get("horizon-fog-blend"):1,u_is_globe_mode:f?1:0}),I0={mainMatrix:"u_projection_matrix",tileMercatorCoords:"u_projection_tile_mercator_coords",clippingPlane:"u_projection_clipping_plane",projectionTransition:"u_projection_transition",fallbackMatrix:"u_projection_fallback_matrix"};function pl(m){const e=[];for(let n=0;n<m.length;n++){if(m[n]===null)continue;const u=m[n].split(" ");e.push(u.pop())}return e}class zl{constructor(e,n,u,f,y,C,T,k,z=[]){const O=e.gl;this.program=O.createProgram();const W=pl(n.staticAttributes),Z=u?u.getBinderAttributes():[],Q=W.concat(Z),ie=Mn.prelude.staticUniforms?pl(Mn.prelude.staticUniforms):[],Ce=T.staticUniforms?pl(T.staticUniforms):[],we=n.staticUniforms?pl(n.staticUniforms):[],De=u?u.getBinderUniforms():[],ke=ie.concat(Ce).concat(we).concat(De),Le=[];for(const rt of ke)Le.indexOf(rt)<0&&Le.push(rt);const Ee=u?u.defines():[];aa(O)&&Ee.unshift("#version 300 es"),y&&Ee.push("#define OVERDRAW_INSPECTOR;"),C&&Ee.push("#define TERRAIN3D;"),k&&Ee.push(k),z&&Ee.push(...z);let Be=Ee.concat(Mn.prelude.fragmentSource,T.fragmentSource,n.fragmentSource).join(`
`),je=Ee.concat(Mn.prelude.vertexSource,T.vertexSource,n.vertexSource).join(`
`);aa(O)||(Be=function(rt){return rt.replace(/\bin\s/g,"varying ").replace("out highp vec4 fragColor;","").replace(/fragColor/g,"gl_FragColor").replace(/texture\(/g,"texture2D(")}(Be),je=function(rt){return rt.replace(/\bin\s/g,"attribute ").replace(/\bout\s/g,"varying ").replace(/texture\(/g,"texture2D(")}(je));const Ve=O.createShader(O.FRAGMENT_SHADER);if(O.isContextLost())return void(this.failedToCreate=!0);if(O.shaderSource(Ve,Be),O.compileShader(Ve),!O.getShaderParameter(Ve,O.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${O.getShaderInfoLog(Ve)}`);O.attachShader(this.program,Ve);const lt=O.createShader(O.VERTEX_SHADER);if(O.isContextLost())return void(this.failedToCreate=!0);if(O.shaderSource(lt,je),O.compileShader(lt),!O.getShaderParameter(lt,O.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${O.getShaderInfoLog(lt)}`);O.attachShader(this.program,lt),this.attributes={};const At={};this.numAttributes=Q.length;for(let rt=0;rt<this.numAttributes;rt++)Q[rt]&&(O.bindAttribLocation(this.program,rt,Q[rt]),this.attributes[Q[rt]]=rt);if(O.linkProgram(this.program),!O.getProgramParameter(this.program,O.LINK_STATUS))throw new Error(`Program failed to link: ${O.getProgramInfoLog(this.program)}`);O.deleteShader(lt),O.deleteShader(Ve);for(let rt=0;rt<Le.length;rt++){const ht=Le[rt];if(ht&&!At[ht]){const Dt=O.getUniformLocation(this.program,ht);Dt&&(At[ht]=Dt)}}this.fixedUniforms=f(e,At),this.terrainUniforms=((rt,ht)=>({u_depth:new s.bH(rt,ht.u_depth),u_terrain:new s.bH(rt,ht.u_terrain),u_terrain_dim:new s.b8(rt,ht.u_terrain_dim),u_terrain_matrix:new s.bJ(rt,ht.u_terrain_matrix),u_terrain_unpack:new s.bK(rt,ht.u_terrain_unpack),u_terrain_exaggeration:new s.b8(rt,ht.u_terrain_exaggeration)}))(e,At),this.projectionUniforms=((rt,ht)=>({u_projection_matrix:new s.bJ(rt,ht.u_projection_matrix),u_projection_tile_mercator_coords:new s.bK(rt,ht.u_projection_tile_mercator_coords),u_projection_clipping_plane:new s.bK(rt,ht.u_projection_clipping_plane),u_projection_transition:new s.b8(rt,ht.u_projection_transition),u_projection_fallback_matrix:new s.bJ(rt,ht.u_projection_fallback_matrix)}))(e,At),this.binderUniforms=u?u.getUniforms(e,At):[]}draw(e,n,u,f,y,C,T,k,z,O,W,Z,Q,ie,Ce,we,De,ke,Le){const Ee=e.gl;if(this.failedToCreate)return;if(e.program.set(this.program),e.setDepthMode(u),e.setStencilMode(f),e.setColorMode(y),e.setCullFace(C),k){e.activeTexture.set(Ee.TEXTURE2),Ee.bindTexture(Ee.TEXTURE_2D,k.depthTexture),e.activeTexture.set(Ee.TEXTURE3),Ee.bindTexture(Ee.TEXTURE_2D,k.texture);for(const je in this.terrainUniforms)this.terrainUniforms[je].set(k[je])}if(z)for(const je in z)this.projectionUniforms[I0[je]].set(z[je]);if(T)for(const je in this.fixedUniforms)this.fixedUniforms[je].set(T[je]);we&&we.setUniforms(e,this.binderUniforms,ie,{zoom:Ce});let Be=0;switch(n){case Ee.LINES:Be=2;break;case Ee.TRIANGLES:Be=3;break;case Ee.LINE_STRIP:Be=1}for(const je of Q.get()){const Ve=je.vaos||(je.vaos={});(Ve[O]||(Ve[O]=new D0)).bind(e,this,W,we?we.getPaintVertexBuffers():[],Z,je.vertexOffset,De,ke,Le),Ee.drawElements(n,je.primitiveLength*Be,Ee.UNSIGNED_SHORT,je.primitiveOffset*Be*2)}}}function Gl(m,e,n){const u=1/s.az(n,1,e.transform.tileZoom),f=Math.pow(2,n.tileID.overscaledZ),y=n.tileSize*Math.pow(2,e.transform.tileZoom)/f,C=y*(n.tileID.canonical.x+n.tileID.wrap*f),T=y*n.tileID.canonical.y;return{u_image:0,u_texsize:n.imageAtlasTexture.size,u_scale:[u,m.fromScale,m.toScale],u_fade:m.t,u_pixel_coord_upper:[C>>16,T>>16],u_pixel_coord_lower:[65535&C,65535&T]}}const Hs=(m,e,n,u)=>{const f=m.style.light,y=f.properties.get("position"),C=[y.x,y.y,y.z],T=s.bN();f.properties.get("anchor")==="viewport"&&s.bO(T,m.transform.bearingInRadians),s.bP(C,C,T);const k=m.transform.transformLightDirection(C),z=f.properties.get("color");return{u_lightpos:C,u_lightpos_globe:k,u_lightintensity:f.properties.get("intensity"),u_lightcolor:[z.r,z.g,z.b],u_vertical_gradient:+e,u_opacity:n,u_fill_translate:u}},Uo=(m,e,n,u,f,y,C)=>s.e(Hs(m,e,n,u),Gl(y,m,C),{u_height_factor:-Math.pow(2,f.overscaledZ)/C.tileSize/8}),J0=(m,e,n,u)=>s.e(Gl(e,m,n),{u_fill_translate:u}),eu=(m,e)=>({u_world:m,u_fill_translate:e}),F=(m,e,n,u,f)=>s.e(J0(m,e,n,f),{u_world:u}),X=(m,e,n,u,f)=>{const y=m.transform;let C,T,k=0;if(n.paint.get("circle-pitch-alignment")==="map"){const z=s.az(e,1,y.zoom);C=!0,T=[z,z],k=z/(s.Z*Math.pow(2,e.tileID.overscaledZ))*2*Math.PI*f}else C=!1,T=y.pixelsToGLUnits;return{u_camera_to_center_distance:y.cameraToCenterDistance,u_scale_with_map:+(n.paint.get("circle-pitch-scale")==="map"),u_pitch_with_map:+C,u_device_pixel_ratio:m.pixelRatio,u_extrude_scale:T,u_globe_extrude_scale:k,u_translate:u}},pe=m=>({u_pixel_extrude_scale:[1/m.width,1/m.height]}),Se=m=>({u_viewport_size:[m.width,m.height]}),_t=(m,e=1)=>({u_color:m,u_overlay:0,u_overlay_scale:e}),st=(m,e,n,u)=>{const f=s.az(m,1,e)/(s.Z*Math.pow(2,m.tileID.overscaledZ))*2*Math.PI*u;return{u_extrude_scale:s.az(m,1,e),u_intensity:n,u_globe_extrude_scale:f}},Ot=(m,e,n,u)=>{const f=s.K();s.bQ(f,0,m.width,m.height,0,0,1);const y=m.context.gl;return{u_matrix:f,u_world:[y.drawingBufferWidth,y.drawingBufferHeight],u_image:n,u_color_ramp:u,u_opacity:e.paint.get("heatmap-opacity")}},ln=(m,e,n)=>{const u=n.paint.get("hillshade-accent-color");let f;switch(n.paint.get("hillshade-method")){case"basic":f=4;break;case"combined":f=1;break;case"igor":f=2;break;case"multidirectional":f=3;break;default:f=0}const y=n.getIlluminationProperties();for(let C=0;C<y.directionRadians.length;C++)n.paint.get("hillshade-illumination-anchor")==="viewport"&&(y.directionRadians[C]+=m.transform.bearingInRadians);return{u_image:0,u_latrange:hr(0,e.tileID),u_exaggeration:n.paint.get("hillshade-exaggeration"),u_altitudes:y.altitudeRadians,u_azimuths:y.directionRadians,u_accent:u,u_method:f,u_highlights:y.highlightColor,u_shadows:y.shadowColor}},Bn=(m,e)=>{const n=e.stride,u=s.K();return s.bQ(u,0,s.Z,-8192,0,0,1),s.L(u,u,[0,-8192,0]),{u_matrix:u,u_image:1,u_dimension:[n,n],u_zoom:m.overscaledZ,u_unpack:e.getUnpackVector()}};function hr(m,e){const n=Math.pow(2,e.canonical.z),u=e.canonical.y;return[new s.$(0,u/n).toLngLat().lat,new s.$(0,(u+1)/n).toLngLat().lat]}const Qn=(m,e,n,u)=>{const f=m.transform;return{u_translation:is(m,e,n),u_ratio:u/s.az(e,1,f.zoom),u_device_pixel_ratio:m.pixelRatio,u_units_to_pixels:[1/f.pixelsToGLUnits[0],1/f.pixelsToGLUnits[1]]}},pi=(m,e,n,u,f)=>s.e(Qn(m,e,n,u),{u_image:0,u_image_height:f}),Oa=(m,e,n,u,f)=>{const y=m.transform,C=yo(e,y);return{u_translation:is(m,e,n),u_texsize:e.imageAtlasTexture.size,u_ratio:u/s.az(e,1,y.zoom),u_device_pixel_ratio:m.pixelRatio,u_image:0,u_scale:[C,f.fromScale,f.toScale],u_fade:f.t,u_units_to_pixels:[1/y.pixelsToGLUnits[0],1/y.pixelsToGLUnits[1]]}},zo=(m,e,n,u,f,y)=>{const C=m.lineAtlas,T=yo(e,m.transform),k=n.layout.get("line-cap")==="round",z=C.getDash(f.from,k),O=C.getDash(f.to,k),W=z.width*y.fromScale,Z=O.width*y.toScale;return s.e(Qn(m,e,n,u),{u_patternscale_a:[T/W,-z.height/2],u_patternscale_b:[T/Z,-O.height/2],u_sdfgamma:C.width/(256*Math.min(W,Z)*m.pixelRatio)/2,u_image:0,u_tex_y_a:z.y,u_tex_y_b:O.y,u_mix:y.t})};function yo(m,e){return 1/s.az(m,1,e.tileZoom)}function is(m,e,n){return s.aA(m.transform,e,n.paint.get("line-translate"),n.paint.get("line-translate-anchor"))}const Ou=(m,e,n,u,f)=>{return{u_tl_parent:m,u_scale_parent:e,u_buffer_scale:1,u_fade_t:n.mix,u_opacity:n.opacity*u.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:u.paint.get("raster-brightness-min"),u_brightness_high:u.paint.get("raster-brightness-max"),u_saturation_factor:(C=u.paint.get("raster-saturation"),C>0?1-1/(1.001-C):-C),u_contrast_factor:(y=u.paint.get("raster-contrast"),y>0?1/(1-y):1+y),u_spin_weights:dl(u.paint.get("raster-hue-rotate")),u_coords_top:[f[0].x,f[0].y,f[1].x,f[1].y],u_coords_bottom:[f[3].x,f[3].y,f[2].x,f[2].y]};var y,C};function dl(m){m*=Math.PI/180;const e=Math.sin(m),n=Math.cos(m);return[(2*n+1)/3,(-Math.sqrt(3)*e-n+1)/3,(Math.sqrt(3)*e-n+1)/3]}const fl=(m,e,n,u,f,y,C,T,k,z,O,W,Z)=>{const Q=C.transform;return{u_is_size_zoom_constant:+(m==="constant"||m==="source"),u_is_size_feature_constant:+(m==="constant"||m==="camera"),u_size_t:e?e.uSizeT:0,u_size:e?e.uSize:0,u_camera_to_center_distance:Q.cameraToCenterDistance,u_pitch:Q.pitch/360*2*Math.PI,u_rotate_symbol:+n,u_aspect_ratio:Q.width/Q.height,u_fade_change:C.options.fadeDuration?C.symbolFadeChange:1,u_label_plane_matrix:T,u_coord_matrix:k,u_is_text:+O,u_pitch_with_map:+u,u_is_along_line:f,u_is_variable_anchor:y,u_texsize:W,u_texture:0,u_translation:z,u_pitched_scale:Z}},_p=(m,e,n,u,f,y,C,T,k,z,O,W,Z,Q)=>{const ie=C.transform;return s.e(fl(m,e,n,u,f,y,C,T,k,z,O,W,Q),{u_gamma_scale:u?Math.cos(ie.pitch*Math.PI/180)*ie.cameraToCenterDistance:1,u_device_pixel_ratio:C.pixelRatio,u_is_halo:1})},Vc=(m,e,n,u,f,y,C,T,k,z,O,W,Z)=>s.e(_p(m,e,n,u,f,y,C,T,k,z,!0,O,0,Z),{u_texsize_icon:W,u_texture_icon:1}),Zc=(m,e)=>({u_opacity:m,u_color:e}),Uh=(m,e,n,u,f)=>s.e(function(y,C,T,k){const z=T.imageManager.getPattern(y.from.toString()),O=T.imageManager.getPattern(y.to.toString()),{width:W,height:Z}=T.imageManager.getPixelSize(),Q=Math.pow(2,k.tileID.overscaledZ),ie=k.tileSize*Math.pow(2,T.transform.tileZoom)/Q,Ce=ie*(k.tileID.canonical.x+k.tileID.wrap*Q),we=ie*k.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:z.tl,u_pattern_br_a:z.br,u_pattern_tl_b:O.tl,u_pattern_br_b:O.br,u_texsize:[W,Z],u_mix:C.t,u_pattern_size_a:z.displaySize,u_pattern_size_b:O.displaySize,u_scale_a:C.fromScale,u_scale_b:C.toScale,u_tile_units_to_pixels:1/s.az(k,1,T.transform.tileZoom),u_pixel_coord_upper:[Ce>>16,we>>16],u_pixel_coord_lower:[65535&Ce,65535&we]}}(n,f,e,u),{u_opacity:m}),as=(m,e)=>{},o0={fillExtrusion:(m,e)=>({u_lightpos:new s.bL(m,e.u_lightpos),u_lightpos_globe:new s.bL(m,e.u_lightpos_globe),u_lightintensity:new s.b8(m,e.u_lightintensity),u_lightcolor:new s.bL(m,e.u_lightcolor),u_vertical_gradient:new s.b8(m,e.u_vertical_gradient),u_opacity:new s.b8(m,e.u_opacity),u_fill_translate:new s.bM(m,e.u_fill_translate)}),fillExtrusionPattern:(m,e)=>({u_lightpos:new s.bL(m,e.u_lightpos),u_lightpos_globe:new s.bL(m,e.u_lightpos_globe),u_lightintensity:new s.b8(m,e.u_lightintensity),u_lightcolor:new s.bL(m,e.u_lightcolor),u_vertical_gradient:new s.b8(m,e.u_vertical_gradient),u_height_factor:new s.b8(m,e.u_height_factor),u_opacity:new s.b8(m,e.u_opacity),u_fill_translate:new s.bM(m,e.u_fill_translate),u_image:new s.bH(m,e.u_image),u_texsize:new s.bM(m,e.u_texsize),u_pixel_coord_upper:new s.bM(m,e.u_pixel_coord_upper),u_pixel_coord_lower:new s.bM(m,e.u_pixel_coord_lower),u_scale:new s.bL(m,e.u_scale),u_fade:new s.b8(m,e.u_fade)}),fill:(m,e)=>({u_fill_translate:new s.bM(m,e.u_fill_translate)}),fillPattern:(m,e)=>({u_image:new s.bH(m,e.u_image),u_texsize:new s.bM(m,e.u_texsize),u_pixel_coord_upper:new s.bM(m,e.u_pixel_coord_upper),u_pixel_coord_lower:new s.bM(m,e.u_pixel_coord_lower),u_scale:new s.bL(m,e.u_scale),u_fade:new s.b8(m,e.u_fade),u_fill_translate:new s.bM(m,e.u_fill_translate)}),fillOutline:(m,e)=>({u_world:new s.bM(m,e.u_world),u_fill_translate:new s.bM(m,e.u_fill_translate)}),fillOutlinePattern:(m,e)=>({u_world:new s.bM(m,e.u_world),u_image:new s.bH(m,e.u_image),u_texsize:new s.bM(m,e.u_texsize),u_pixel_coord_upper:new s.bM(m,e.u_pixel_coord_upper),u_pixel_coord_lower:new s.bM(m,e.u_pixel_coord_lower),u_scale:new s.bL(m,e.u_scale),u_fade:new s.b8(m,e.u_fade),u_fill_translate:new s.bM(m,e.u_fill_translate)}),circle:(m,e)=>({u_camera_to_center_distance:new s.b8(m,e.u_camera_to_center_distance),u_scale_with_map:new s.bH(m,e.u_scale_with_map),u_pitch_with_map:new s.bH(m,e.u_pitch_with_map),u_extrude_scale:new s.bM(m,e.u_extrude_scale),u_device_pixel_ratio:new s.b8(m,e.u_device_pixel_ratio),u_globe_extrude_scale:new s.b8(m,e.u_globe_extrude_scale),u_translate:new s.bM(m,e.u_translate)}),collisionBox:(m,e)=>({u_pixel_extrude_scale:new s.bM(m,e.u_pixel_extrude_scale)}),collisionCircle:(m,e)=>({u_viewport_size:new s.bM(m,e.u_viewport_size)}),debug:(m,e)=>({u_color:new s.bI(m,e.u_color),u_overlay:new s.bH(m,e.u_overlay),u_overlay_scale:new s.b8(m,e.u_overlay_scale)}),depth:as,clippingMask:as,heatmap:(m,e)=>({u_extrude_scale:new s.b8(m,e.u_extrude_scale),u_intensity:new s.b8(m,e.u_intensity),u_globe_extrude_scale:new s.b8(m,e.u_globe_extrude_scale)}),heatmapTexture:(m,e)=>({u_matrix:new s.bJ(m,e.u_matrix),u_world:new s.bM(m,e.u_world),u_image:new s.bH(m,e.u_image),u_color_ramp:new s.bH(m,e.u_color_ramp),u_opacity:new s.b8(m,e.u_opacity)}),hillshade:(m,e)=>({u_image:new s.bH(m,e.u_image),u_latrange:new s.bM(m,e.u_latrange),u_exaggeration:new s.b8(m,e.u_exaggeration),u_altitudes:new s.bS(m,e.u_altitudes),u_azimuths:new s.bS(m,e.u_azimuths),u_accent:new s.bI(m,e.u_accent),u_method:new s.bH(m,e.u_method),u_shadows:new s.bR(m,e.u_shadows),u_highlights:new s.bR(m,e.u_highlights)}),hillshadePrepare:(m,e)=>({u_matrix:new s.bJ(m,e.u_matrix),u_image:new s.bH(m,e.u_image),u_dimension:new s.bM(m,e.u_dimension),u_zoom:new s.b8(m,e.u_zoom),u_unpack:new s.bK(m,e.u_unpack)}),line:(m,e)=>({u_translation:new s.bM(m,e.u_translation),u_ratio:new s.b8(m,e.u_ratio),u_device_pixel_ratio:new s.b8(m,e.u_device_pixel_ratio),u_units_to_pixels:new s.bM(m,e.u_units_to_pixels)}),lineGradient:(m,e)=>({u_translation:new s.bM(m,e.u_translation),u_ratio:new s.b8(m,e.u_ratio),u_device_pixel_ratio:new s.b8(m,e.u_device_pixel_ratio),u_units_to_pixels:new s.bM(m,e.u_units_to_pixels),u_image:new s.bH(m,e.u_image),u_image_height:new s.b8(m,e.u_image_height)}),linePattern:(m,e)=>({u_translation:new s.bM(m,e.u_translation),u_texsize:new s.bM(m,e.u_texsize),u_ratio:new s.b8(m,e.u_ratio),u_device_pixel_ratio:new s.b8(m,e.u_device_pixel_ratio),u_image:new s.bH(m,e.u_image),u_units_to_pixels:new s.bM(m,e.u_units_to_pixels),u_scale:new s.bL(m,e.u_scale),u_fade:new s.b8(m,e.u_fade)}),lineSDF:(m,e)=>({u_translation:new s.bM(m,e.u_translation),u_ratio:new s.b8(m,e.u_ratio),u_device_pixel_ratio:new s.b8(m,e.u_device_pixel_ratio),u_units_to_pixels:new s.bM(m,e.u_units_to_pixels),u_patternscale_a:new s.bM(m,e.u_patternscale_a),u_patternscale_b:new s.bM(m,e.u_patternscale_b),u_sdfgamma:new s.b8(m,e.u_sdfgamma),u_image:new s.bH(m,e.u_image),u_tex_y_a:new s.b8(m,e.u_tex_y_a),u_tex_y_b:new s.b8(m,e.u_tex_y_b),u_mix:new s.b8(m,e.u_mix)}),raster:(m,e)=>({u_tl_parent:new s.bM(m,e.u_tl_parent),u_scale_parent:new s.b8(m,e.u_scale_parent),u_buffer_scale:new s.b8(m,e.u_buffer_scale),u_fade_t:new s.b8(m,e.u_fade_t),u_opacity:new s.b8(m,e.u_opacity),u_image0:new s.bH(m,e.u_image0),u_image1:new s.bH(m,e.u_image1),u_brightness_low:new s.b8(m,e.u_brightness_low),u_brightness_high:new s.b8(m,e.u_brightness_high),u_saturation_factor:new s.b8(m,e.u_saturation_factor),u_contrast_factor:new s.b8(m,e.u_contrast_factor),u_spin_weights:new s.bL(m,e.u_spin_weights),u_coords_top:new s.bK(m,e.u_coords_top),u_coords_bottom:new s.bK(m,e.u_coords_bottom)}),symbolIcon:(m,e)=>({u_is_size_zoom_constant:new s.bH(m,e.u_is_size_zoom_constant),u_is_size_feature_constant:new s.bH(m,e.u_is_size_feature_constant),u_size_t:new s.b8(m,e.u_size_t),u_size:new s.b8(m,e.u_size),u_camera_to_center_distance:new s.b8(m,e.u_camera_to_center_distance),u_pitch:new s.b8(m,e.u_pitch),u_rotate_symbol:new s.bH(m,e.u_rotate_symbol),u_aspect_ratio:new s.b8(m,e.u_aspect_ratio),u_fade_change:new s.b8(m,e.u_fade_change),u_label_plane_matrix:new s.bJ(m,e.u_label_plane_matrix),u_coord_matrix:new s.bJ(m,e.u_coord_matrix),u_is_text:new s.bH(m,e.u_is_text),u_pitch_with_map:new s.bH(m,e.u_pitch_with_map),u_is_along_line:new s.bH(m,e.u_is_along_line),u_is_variable_anchor:new s.bH(m,e.u_is_variable_anchor),u_texsize:new s.bM(m,e.u_texsize),u_texture:new s.bH(m,e.u_texture),u_translation:new s.bM(m,e.u_translation),u_pitched_scale:new s.b8(m,e.u_pitched_scale)}),symbolSDF:(m,e)=>({u_is_size_zoom_constant:new s.bH(m,e.u_is_size_zoom_constant),u_is_size_feature_constant:new s.bH(m,e.u_is_size_feature_constant),u_size_t:new s.b8(m,e.u_size_t),u_size:new s.b8(m,e.u_size),u_camera_to_center_distance:new s.b8(m,e.u_camera_to_center_distance),u_pitch:new s.b8(m,e.u_pitch),u_rotate_symbol:new s.bH(m,e.u_rotate_symbol),u_aspect_ratio:new s.b8(m,e.u_aspect_ratio),u_fade_change:new s.b8(m,e.u_fade_change),u_label_plane_matrix:new s.bJ(m,e.u_label_plane_matrix),u_coord_matrix:new s.bJ(m,e.u_coord_matrix),u_is_text:new s.bH(m,e.u_is_text),u_pitch_with_map:new s.bH(m,e.u_pitch_with_map),u_is_along_line:new s.bH(m,e.u_is_along_line),u_is_variable_anchor:new s.bH(m,e.u_is_variable_anchor),u_texsize:new s.bM(m,e.u_texsize),u_texture:new s.bH(m,e.u_texture),u_gamma_scale:new s.b8(m,e.u_gamma_scale),u_device_pixel_ratio:new s.b8(m,e.u_device_pixel_ratio),u_is_halo:new s.bH(m,e.u_is_halo),u_translation:new s.bM(m,e.u_translation),u_pitched_scale:new s.b8(m,e.u_pitched_scale)}),symbolTextAndIcon:(m,e)=>({u_is_size_zoom_constant:new s.bH(m,e.u_is_size_zoom_constant),u_is_size_feature_constant:new s.bH(m,e.u_is_size_feature_constant),u_size_t:new s.b8(m,e.u_size_t),u_size:new s.b8(m,e.u_size),u_camera_to_center_distance:new s.b8(m,e.u_camera_to_center_distance),u_pitch:new s.b8(m,e.u_pitch),u_rotate_symbol:new s.bH(m,e.u_rotate_symbol),u_aspect_ratio:new s.b8(m,e.u_aspect_ratio),u_fade_change:new s.b8(m,e.u_fade_change),u_label_plane_matrix:new s.bJ(m,e.u_label_plane_matrix),u_coord_matrix:new s.bJ(m,e.u_coord_matrix),u_is_text:new s.bH(m,e.u_is_text),u_pitch_with_map:new s.bH(m,e.u_pitch_with_map),u_is_along_line:new s.bH(m,e.u_is_along_line),u_is_variable_anchor:new s.bH(m,e.u_is_variable_anchor),u_texsize:new s.bM(m,e.u_texsize),u_texsize_icon:new s.bM(m,e.u_texsize_icon),u_texture:new s.bH(m,e.u_texture),u_texture_icon:new s.bH(m,e.u_texture_icon),u_gamma_scale:new s.b8(m,e.u_gamma_scale),u_device_pixel_ratio:new s.b8(m,e.u_device_pixel_ratio),u_is_halo:new s.bH(m,e.u_is_halo),u_translation:new s.bM(m,e.u_translation),u_pitched_scale:new s.b8(m,e.u_pitched_scale)}),background:(m,e)=>({u_opacity:new s.b8(m,e.u_opacity),u_color:new s.bI(m,e.u_color)}),backgroundPattern:(m,e)=>({u_opacity:new s.b8(m,e.u_opacity),u_image:new s.bH(m,e.u_image),u_pattern_tl_a:new s.bM(m,e.u_pattern_tl_a),u_pattern_br_a:new s.bM(m,e.u_pattern_br_a),u_pattern_tl_b:new s.bM(m,e.u_pattern_tl_b),u_pattern_br_b:new s.bM(m,e.u_pattern_br_b),u_texsize:new s.bM(m,e.u_texsize),u_mix:new s.b8(m,e.u_mix),u_pattern_size_a:new s.bM(m,e.u_pattern_size_a),u_pattern_size_b:new s.bM(m,e.u_pattern_size_b),u_scale_a:new s.b8(m,e.u_scale_a),u_scale_b:new s.b8(m,e.u_scale_b),u_pixel_coord_upper:new s.bM(m,e.u_pixel_coord_upper),u_pixel_coord_lower:new s.bM(m,e.u_pixel_coord_lower),u_tile_units_to_pixels:new s.b8(m,e.u_tile_units_to_pixels)}),terrain:(m,e)=>({u_texture:new s.bH(m,e.u_texture),u_ele_delta:new s.b8(m,e.u_ele_delta),u_fog_matrix:new s.bJ(m,e.u_fog_matrix),u_fog_color:new s.bI(m,e.u_fog_color),u_fog_ground_blend:new s.b8(m,e.u_fog_ground_blend),u_fog_ground_blend_opacity:new s.b8(m,e.u_fog_ground_blend_opacity),u_horizon_color:new s.bI(m,e.u_horizon_color),u_horizon_fog_blend:new s.b8(m,e.u_horizon_fog_blend),u_is_globe_mode:new s.b8(m,e.u_is_globe_mode)}),terrainDepth:(m,e)=>({u_ele_delta:new s.b8(m,e.u_ele_delta)}),terrainCoords:(m,e)=>({u_texture:new s.bH(m,e.u_texture),u_terrain_coords_id:new s.b8(m,e.u_terrain_coords_id),u_ele_delta:new s.b8(m,e.u_ele_delta)}),projectionErrorMeasurement:(m,e)=>({u_input:new s.b8(m,e.u_input),u_output_expected:new s.b8(m,e.u_output_expected)}),atmosphere:(m,e)=>({u_sun_pos:new s.bL(m,e.u_sun_pos),u_atmosphere_blend:new s.b8(m,e.u_atmosphere_blend),u_globe_position:new s.bL(m,e.u_globe_position),u_globe_radius:new s.b8(m,e.u_globe_radius),u_inv_proj_matrix:new s.bJ(m,e.u_inv_proj_matrix)}),sky:(m,e)=>({u_sky_color:new s.bI(m,e.u_sky_color),u_horizon_color:new s.bI(m,e.u_horizon_color),u_horizon:new s.bM(m,e.u_horizon),u_horizon_normal:new s.bM(m,e.u_horizon_normal),u_sky_horizon_blend:new s.b8(m,e.u_sky_horizon_blend),u_sky_blend:new s.b8(m,e.u_sky_blend)})};class vp{constructor(e,n,u){this.context=e;const f=e.gl;this.buffer=f.createBuffer(),this.dynamicDraw=!!u,this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),f.bufferData(f.ELEMENT_ARRAY_BUFFER,n.arrayBuffer,this.dynamicDraw?f.DYNAMIC_DRAW:f.STATIC_DRAW),this.dynamicDraw||delete n.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(e){const n=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),n.bufferSubData(n.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Fu={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class xp{constructor(e,n,u,f){this.length=n.length,this.attributes=u,this.itemSize=n.bytesPerElement,this.dynamicDraw=f,this.context=e;const y=e.gl;this.buffer=y.createBuffer(),e.bindVertexBuffer.set(this.buffer),y.bufferData(y.ARRAY_BUFFER,n.arrayBuffer,this.dynamicDraw?y.DYNAMIC_DRAW:y.STATIC_DRAW),this.dynamicDraw||delete n.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(e){if(e.length!==this.length)throw new Error(`Length of new data is ${e.length}, which doesn't match current length of ${this.length}`);const n=this.context.gl;this.bind(),n.bufferSubData(n.ARRAY_BUFFER,0,e.arrayBuffer)}enableAttributes(e,n){for(let u=0;u<this.attributes.length;u++){const f=n.attributes[this.attributes[u].name];f!==void 0&&e.enableVertexAttribArray(f)}}setVertexAttribPointers(e,n,u){for(let f=0;f<this.attributes.length;f++){const y=this.attributes[f],C=n.attributes[y.name];C!==void 0&&e.vertexAttribPointer(C,y.components,e[Fu[y.type]],!1,this.itemSize,y.offset+this.itemSize*(u||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Cr{constructor(e){this.gl=e.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(e){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class oa extends Cr{getDefault(){return s.b7.transparent}set(e){const n=this.current;(e.r!==n.r||e.g!==n.g||e.b!==n.b||e.a!==n.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}class Nu extends Cr{getDefault(){return 1}set(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1)}}class Wc extends Cr{getDefault(){return 0}set(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1)}}class Hc extends Cr{getDefault(){return[!0,!0,!0,!0]}set(e){const n=this.current;(e[0]!==n[0]||e[1]!==n[1]||e[2]!==n[2]||e[3]!==n[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}class zh extends Cr{getDefault(){return!0}set(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1)}}class Gh extends Cr{getDefault(){return 255}set(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1)}}class tu extends Cr{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(e){const n=this.current;(e.func!==n.func||e.ref!==n.ref||e.mask!==n.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)}}class A0 extends Cr{getDefault(){const e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]}set(e){const n=this.current;(e[0]!==n[0]||e[1]!==n[1]||e[2]!==n[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)}}class it extends Cr{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const n=this.gl;e?n.enable(n.STENCIL_TEST):n.disable(n.STENCIL_TEST),this.current=e,this.dirty=!1}}class Lt extends Cr{getDefault(){return[0,1]}set(e){const n=this.current;(e[0]!==n[0]||e[1]!==n[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)}}class wt extends Cr{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const n=this.gl;e?n.enable(n.DEPTH_TEST):n.disable(n.DEPTH_TEST),this.current=e,this.dirty=!1}}class Sn extends Cr{getDefault(){return this.gl.LESS}set(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1)}}class pr extends Cr{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const n=this.gl;e?n.enable(n.BLEND):n.disable(n.BLEND),this.current=e,this.dirty=!1}}class qr extends Cr{getDefault(){const e=this.gl;return[e.ONE,e.ZERO]}set(e){const n=this.current;(e[0]!==n[0]||e[1]!==n[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)}}class sa extends Cr{getDefault(){return s.b7.transparent}set(e){const n=this.current;(e.r!==n.r||e.g!==n.g||e.b!==n.b||e.a!==n.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}class Jr extends Cr{getDefault(){return this.gl.FUNC_ADD}set(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1)}}class S0 extends Cr{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const n=this.gl;e?n.enable(n.CULL_FACE):n.disable(n.CULL_FACE),this.current=e,this.dirty=!1}}class qc extends Cr{getDefault(){return this.gl.BACK}set(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1)}}class os extends Cr{getDefault(){return this.gl.CCW}set(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1)}}class Go extends Cr{getDefault(){return null}set(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1)}}class $u extends Cr{getDefault(){return this.gl.TEXTURE0}set(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1)}}class Lo extends Cr{getDefault(){const e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]}set(e){const n=this.current;(e[0]!==n[0]||e[1]!==n[1]||e[2]!==n[2]||e[3]!==n[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}class Ka extends Cr{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const n=this.gl;n.bindFramebuffer(n.FRAMEBUFFER,e),this.current=e,this.dirty=!1}}class ju extends Cr{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const n=this.gl;n.bindRenderbuffer(n.RENDERBUFFER,e),this.current=e,this.dirty=!1}}class Zr extends Cr{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const n=this.gl;n.bindTexture(n.TEXTURE_2D,e),this.current=e,this.dirty=!1}}class T0 extends Cr{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const n=this.gl;n.bindBuffer(n.ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}class Ll extends Cr{getDefault(){return null}set(e){const n=this.gl;n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}class M0 extends Cr{getDefault(){return null}set(e){var n;if(e===this.current&&!this.dirty)return;const u=this.gl;aa(u)?u.bindVertexArray(e):(n=u.getExtension("OES_vertex_array_object"))===null||n===void 0||n.bindVertexArrayOES(e),this.current=e,this.dirty=!1}}class nu extends Cr{getDefault(){return 4}set(e){if(e===this.current&&!this.dirty)return;const n=this.gl;n.pixelStorei(n.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1}}class Vu extends Cr{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const n=this.gl;n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1}}class gc extends Cr{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const n=this.gl;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1}}class P0 extends Cr{constructor(e,n){super(e),this.context=e,this.parent=n}getDefault(){return null}}class ss extends P0{setDirty(){this.dirty=!0}set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const n=this.gl;n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}}class Bl extends P0{set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const n=this.gl;n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,e),this.current=e,this.dirty=!1}}class Kc extends P0{set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const n=this.gl;n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,e),this.current=e,this.dirty=!1}}const ls="Framebuffer is not complete";class _r{constructor(e,n,u,f,y){this.context=e,this.width=n,this.height=u;const C=e.gl,T=this.framebuffer=C.createFramebuffer();if(this.colorAttachment=new ss(e,T),f)this.depthAttachment=y?new Kc(e,T):new Bl(e,T);else if(y)throw new Error("Stencil cannot be set without depth");if(C.checkFramebufferStatus(C.FRAMEBUFFER)!==C.FRAMEBUFFER_COMPLETE)throw new Error(ls)}destroy(){const e=this.context.gl,n=this.colorAttachment.get();if(n&&e.deleteTexture(n),this.depthAttachment){const u=this.depthAttachment.get();u&&e.deleteRenderbuffer(u)}e.deleteFramebuffer(this.framebuffer)}}class ru{constructor(e){var n,u;if(this.gl=e,this.clearColor=new oa(this),this.clearDepth=new Nu(this),this.clearStencil=new Wc(this),this.colorMask=new Hc(this),this.depthMask=new zh(this),this.stencilMask=new Gh(this),this.stencilFunc=new tu(this),this.stencilOp=new A0(this),this.stencilTest=new it(this),this.depthRange=new Lt(this),this.depthTest=new wt(this),this.depthFunc=new Sn(this),this.blend=new pr(this),this.blendFunc=new qr(this),this.blendColor=new sa(this),this.blendEquation=new Jr(this),this.cullFace=new S0(this),this.cullFaceSide=new qc(this),this.frontFace=new os(this),this.program=new Go(this),this.activeTexture=new $u(this),this.viewport=new Lo(this),this.bindFramebuffer=new Ka(this),this.bindRenderbuffer=new ju(this),this.bindTexture=new Zr(this),this.bindVertexBuffer=new T0(this),this.bindElementBuffer=new Ll(this),this.bindVertexArray=new M0(this),this.pixelStoreUnpack=new nu(this),this.pixelStoreUnpackPremultiplyAlpha=new Vu(this),this.pixelStoreUnpackFlipY=new gc(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),aa(e)){this.HALF_FLOAT=e.HALF_FLOAT;const f=e.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(n=e.RGBA16F)!==null&&n!==void 0?n:f==null?void 0:f.RGBA16F_EXT,this.RGB16F=(u=e.RGB16F)!==null&&u!==void 0?u:f==null?void 0:f.RGB16F_EXT,e.getExtension("EXT_color_buffer_float")}else{e.getExtension("EXT_color_buffer_half_float"),e.getExtension("OES_texture_half_float_linear");const f=e.getExtension("OES_texture_half_float");this.HALF_FLOAT=f==null?void 0:f.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(e,n){return new vp(this,e,n)}createVertexBuffer(e,n,u){return new xp(this,e,n,u)}createRenderbuffer(e,n,u){const f=this.gl,y=f.createRenderbuffer();return this.bindRenderbuffer.set(y),f.renderbufferStorage(f.RENDERBUFFER,e,n,u),this.bindRenderbuffer.set(null),y}createFramebuffer(e,n,u,f){return new _r(this,e,n,u,f)}clear({color:e,depth:n,stencil:u}){const f=this.gl;let y=0;e&&(y|=f.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),n!==void 0&&(y|=f.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(n),this.depthMask.set(!0)),u!==void 0&&(y|=f.STENCIL_BUFFER_BIT,this.clearStencil.set(u),this.stencilMask.set(255)),f.clear(y)}setCullFace(e){e.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))}setDepthMode(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)}setStencilMode(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)}setColorMode(e){s.bE(e.blendFunction,Ur.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor)),this.colorMask.set(e.mask)}createVertexArray(){var e;return aa(this.gl)?this.gl.createVertexArray():(e=this.gl.getExtension("OES_vertex_array_object"))===null||e===void 0?void 0:e.createVertexArrayOES()}deleteVertexArray(e){var n;return aa(this.gl)?this.gl.deleteVertexArray(e):(n=this.gl.getExtension("OES_vertex_array_object"))===null||n===void 0?void 0:n.deleteVertexArrayOES(e)}unbindVAO(){this.bindVertexArray.set(null)}}let iu;function Xc(m,e,n,u,f){const y=m.context,C=m.transform,T=y.gl,k=m.useProgram("collisionBox"),z=[];let O=0,W=0;for(let De=0;De<u.length;De++){const ke=u[De],Le=e.getTile(ke).getBucket(n);if(!Le)continue;const Ee=f?Le.textCollisionBox:Le.iconCollisionBox,Be=Le.collisionCircleArray;Be.length>0&&(z.push({circleArray:Be,circleOffset:W,coord:ke}),O+=Be.length/4,W=O),Ee&&k.draw(y,T.LINES,vn.disabled,Yn.disabled,m.colorModeForRenderPass(),Un.disabled,pe(m.transform),m.style.map.terrain&&m.style.map.terrain.getTerrainData(ke),C.getProjectionData({overscaledTileID:ke,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),n.id,Ee.layoutVertexBuffer,Ee.indexBuffer,Ee.segments,null,m.transform.zoom,null,null,Ee.collisionVertexBuffer)}if(!f||!z.length)return;const Z=m.useProgram("collisionCircle"),Q=new s.bT;Q.resize(4*O),Q._trim();let ie=0;for(const De of z)for(let ke=0;ke<De.circleArray.length/4;ke++){const Le=4*ke,Ee=De.circleArray[Le+0],Be=De.circleArray[Le+1],je=De.circleArray[Le+2],Ve=De.circleArray[Le+3];Q.emplace(ie++,Ee,Be,je,Ve,0),Q.emplace(ie++,Ee,Be,je,Ve,1),Q.emplace(ie++,Ee,Be,je,Ve,2),Q.emplace(ie++,Ee,Be,je,Ve,3)}(!iu||iu.length<2*O)&&(iu=function(De){const ke=2*De,Le=new s.bV;Le.resize(ke),Le._trim();for(let Ee=0;Ee<ke;Ee++){const Be=6*Ee;Le.uint16[Be+0]=4*Ee+0,Le.uint16[Be+1]=4*Ee+1,Le.uint16[Be+2]=4*Ee+2,Le.uint16[Be+3]=4*Ee+2,Le.uint16[Be+4]=4*Ee+3,Le.uint16[Be+5]=4*Ee+0}return Le}(O));const Ce=y.createIndexBuffer(iu,!0),we=y.createVertexBuffer(Q,s.bU.members,!0);for(const De of z){const ke=Se(m.transform);Z.draw(y,T.TRIANGLES,vn.disabled,Yn.disabled,m.colorModeForRenderPass(),Un.disabled,ke,m.style.map.terrain&&m.style.map.terrain.getTerrainData(De.coord),null,n.id,we,Ce,s.aJ.simpleSegment(0,2*De.circleOffset,De.circleArray.length,De.circleArray.length/2),null,m.transform.zoom,null,null,null)}we.destroy(),Ce.destroy()}const Is=s.ad(new Float32Array(16));function au(m,e,n,u,f,y){const{horizontalAlign:C,verticalAlign:T}=s.aE(m);return new s.P((-(C-.5)*e/f+u[0])*y,(-(T-.5)*n/f+u[1])*y)}function mc(m,e,n,u,f,y){const C=e.tileAnchorPoint.add(new s.P(e.translation[0],e.translation[1]));if(e.pitchWithMap){let T=u.mult(y);n||(T=T.rotate(-f));const k=C.add(T);return Ct(k.x,k.y,e.pitchedLabelPlaneMatrix,e.getElevation).point}if(n){const T=Vr(e.tileAnchorPoint.x+1,e.tileAnchorPoint.y,e).point.sub(m),k=Math.atan(T.y/T.x)+(T.x<0?Math.PI:0);return m.add(u.rotate(k))}return m.add(u)}function Lh(m,e,n,u,f,y,C,T,k,z,O,W){const Z=m.text.placedSymbolArray,Q=m.text.dynamicLayoutVertexArray,ie=m.icon.dynamicLayoutVertexArray,Ce={};Q.clear();for(let we=0;we<Z.length;we++){const De=Z.get(we),ke=De.hidden||!De.crossTileID||m.allowVerticalPlacement&&!De.placedOrientation?null:u[De.crossTileID];if(ke){const Le=new s.P(De.anchorX,De.anchorY),Ee={getElevation:W,width:f.width,height:f.height,pitchedLabelPlaneMatrix:y,pitchWithMap:n,transform:f,tileAnchorPoint:Le,translation:z,unwrappedTileID:O},Be=n?or(Le.x,Le.y,Ee):Vr(Le.x,Le.y,Ee),je=br(f.cameraToCenterDistance,Be.signedDistanceFromCamera);let Ve=s.am(m.textSizeData,T,De)*je/s.ay;n&&(Ve*=m.tilePixelRatio/C);const{width:lt,height:At,anchor:rt,textOffset:ht,textBoxScale:Dt}=ke,nn=au(rt,lt,At,ht,Dt,Ve),rn=f.getPitchedTextCorrection(Le.x+z[0],Le.y+z[1],O),Gt=mc(Be.point,Ee,e,nn,-f.bearingInRadians,rn),bn=m.allowVerticalPlacement&&De.placedOrientation===s.al.vertical?Math.PI/2:0;for(let Zn=0;Zn<De.numGlyphs;Zn++)s.as(Q,Gt,bn);k&&De.associatedIconIndex>=0&&(Ce[De.associatedIconIndex]={shiftedAnchor:Gt,angle:bn})}else qa(De.numGlyphs,Q)}if(k){ie.clear();const we=m.icon.placedSymbolArray;for(let De=0;De<we.length;De++){const ke=we.get(De);if(ke.hidden)qa(ke.numGlyphs,ie);else{const Le=Ce[De];if(Le)for(let Ee=0;Ee<ke.numGlyphs;Ee++)s.as(ie,Le.shiftedAnchor,Le.angle);else qa(ke.numGlyphs,ie)}}m.icon.dynamicLayoutVertexBuffer.updateData(ie)}m.text.dynamicLayoutVertexBuffer.updateData(Q)}function Ri(m,e,n){return n.iconsInText&&e?"symbolTextAndIcon":m?"symbolSDF":"symbolIcon"}function Zu(m,e,n,u,f,y,C,T,k,z,O,W,Z){const Q=m.context,ie=Q.gl,Ce=m.transform,we=T==="map",De=k==="map",ke=T!=="viewport"&&n.layout.get("symbol-placement")!=="point",Le=we&&!De&&!ke,Ee=!n.layout.get("symbol-sort-key").isConstant();let Be=!1;const je=m.getDepthModeForSublayer(0,vn.ReadOnly),Ve=n._unevaluatedLayout.hasValue("text-variable-anchor")||n._unevaluatedLayout.hasValue("text-variable-anchor-offset"),lt=[],At=Ce.getCircleRadiusCorrection();for(const rt of u){const ht=e.getTile(rt),Dt=ht.getBucket(n);if(!Dt)continue;const nn=f?Dt.text:Dt.icon;if(!nn||!nn.segments.get().length||!nn.hasVisibleVertices)continue;const rn=nn.programConfigurations.get(n.id),Gt=f||Dt.sdfIcons,bn=f?Dt.textSizeData:Dt.iconSizeData,Zn=De||Ce.pitch!==0,Sr=m.useProgram(Ri(Gt,f,Dt),rn),di=s.ak(bn,Ce.zoom),ei=m.style.map.terrain&&m.style.map.terrain.getTerrainData(rt);let Mi,Pi,Tr,Dr,Xi=[0,0],wa=null;if(f)Pi=ht.glyphAtlasTexture,Tr=ie.LINEAR,Mi=ht.glyphAtlasTexture.size,Dt.iconsInText&&(Xi=ht.imageAtlasTexture.size,wa=ht.imageAtlasTexture,Dr=Zn||m.options.rotating||m.options.zooming||bn.kind==="composite"||bn.kind==="camera"?ie.LINEAR:ie.NEAREST);else{const ca=n.layout.get("icon-size").constantOr(0)!==1||Dt.iconsNeedLinear;Pi=ht.imageAtlasTexture,Tr=Gt||m.options.rotating||m.options.zooming||ca||Zn?ie.LINEAR:ie.NEAREST,Mi=ht.imageAtlasTexture.size}const ua=s.az(ht,1,m.transform.zoom),Pr=Tn(we,m.transform,ua),Dl=s.K();s.an(Dl,Pr);const ds=Xn(De,we,m.transform,ua),Ps=s.aA(Ce,ht,y,C),Wl=Ce.getProjectionData({overscaledTileID:rt,applyGlobeMatrix:!Z,applyTerrainMatrix:!0}),fs=Ve&&Dt.hasTextData(),h0=n.layout.get("icon-text-fit")!=="none"&&fs&&Dt.hasIconData();if(ke){const ca=m.style.map.terrain?(bo,vi)=>m.style.map.terrain.getElevation(rt,bo,vi):null,ha=n.layout.get("text-rotation-alignment")==="map";wr(Dt,m,f,Pr,Dl,De,z,ha,rt.toUnwrapped(),Ce.width,Ce.height,Ps,ca)}const Zo=f&&Ve||h0,Wo=ke||Zo?Is:De?Pr:m.transform.clipSpaceToPixelsMatrix,Hl=Gt&&n.paint.get(f?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let Es;Es=Gt?Dt.iconsInText?Vc(bn.kind,di,Le,De,ke,Zo,m,Wo,ds,Ps,Mi,Xi,At):_p(bn.kind,di,Le,De,ke,Zo,m,Wo,ds,Ps,f,Mi,0,At):fl(bn.kind,di,Le,De,ke,Zo,m,Wo,ds,Ps,f,Mi,At);const p0={program:Sr,buffers:nn,uniformValues:Es,projectionData:Wl,atlasTexture:Pi,atlasTextureIcon:wa,atlasInterpolation:Tr,atlasInterpolationIcon:Dr,isSDF:Gt,hasHalo:Hl};if(Ee&&Dt.canOverlap){Be=!0;const ca=nn.segments.get();for(const ha of ca)lt.push({segments:new s.aJ([ha]),sortKey:ha.sortKey,state:p0,terrainData:ei})}else lt.push({segments:nn.segments,sortKey:0,state:p0,terrainData:ei})}Be&&lt.sort((rt,ht)=>rt.sortKey-ht.sortKey);for(const rt of lt){const ht=rt.state;if(Q.activeTexture.set(ie.TEXTURE0),ht.atlasTexture.bind(ht.atlasInterpolation,ie.CLAMP_TO_EDGE),ht.atlasTextureIcon&&(Q.activeTexture.set(ie.TEXTURE1),ht.atlasTextureIcon&&ht.atlasTextureIcon.bind(ht.atlasInterpolationIcon,ie.CLAMP_TO_EDGE)),ht.isSDF){const Dt=ht.uniformValues;ht.hasHalo&&(Dt.u_is_halo=1,gl(ht.buffers,rt.segments,n,m,ht.program,je,O,W,Dt,ht.projectionData,rt.terrainData)),Dt.u_is_halo=0}gl(ht.buffers,rt.segments,n,m,ht.program,je,O,W,ht.uniformValues,ht.projectionData,rt.terrainData)}}function gl(m,e,n,u,f,y,C,T,k,z,O){const W=u.context;f.draw(W,W.gl.TRIANGLES,y,C,T,Un.backCCW,k,O,z,n.id,m.layoutVertexBuffer,m.indexBuffer,e,n.paint,u.transform.zoom,m.programConfigurations.get(n.id),m.dynamicLayoutVertexBuffer,m.opacityVertexBuffer)}function ml(m,e,n,u,f){const y=m.context,C=y.gl,T=Yn.disabled,k=new Ur([C.ONE,C.ONE],s.b7.transparent,[!0,!0,!0,!0]),z=e.getBucket(n);if(!z)return;const O=u.key;let W=n.heatmapFbos.get(O);W||(W=Hu(y,e.tileSize,e.tileSize),n.heatmapFbos.set(O,W)),y.bindFramebuffer.set(W.framebuffer),y.viewport.set([0,0,e.tileSize,e.tileSize]),y.clear({color:s.b7.transparent});const Z=z.programConfigurations.get(n.id),Q=m.useProgram("heatmap",Z,!f),ie=m.transform.getProjectionData({overscaledTileID:e.tileID,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),Ce=m.style.map.terrain.getTerrainData(u);Q.draw(y,C.TRIANGLES,vn.disabled,T,k,Un.disabled,st(e,m.transform.zoom,n.paint.get("heatmap-intensity"),1),Ce,ie,n.id,z.layoutVertexBuffer,z.indexBuffer,z.segments,n.paint,m.transform.zoom,Z)}function Wu(m,e,n,u,f){const y=m.context,C=y.gl,T=m.transform;y.setColorMode(m.colorModeForRenderPass());const k=E0(y,e),z=n.key,O=e.heatmapFbos.get(z);if(!O)return;y.activeTexture.set(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,O.colorAttachment.get()),y.activeTexture.set(C.TEXTURE1),k.bind(C.LINEAR,C.CLAMP_TO_EDGE);const W=T.getProjectionData({overscaledTileID:n,applyTerrainMatrix:f,applyGlobeMatrix:!u});m.useProgram("heatmapTexture").draw(y,C.TRIANGLES,vn.disabled,Yn.disabled,m.colorModeForRenderPass(),Un.disabled,Ot(m,e,0,1),null,W,e.id,m.rasterBoundsBuffer,m.quadTriangleIndexBuffer,m.rasterBoundsSegments,e.paint,T.zoom),O.destroy(),e.heatmapFbos.delete(z)}function Hu(m,e,n){var u,f;const y=m.gl,C=y.createTexture();y.bindTexture(y.TEXTURE_2D,C),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_S,y.CLAMP_TO_EDGE),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_T,y.CLAMP_TO_EDGE),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MIN_FILTER,y.LINEAR),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MAG_FILTER,y.LINEAR);const T=(u=m.HALF_FLOAT)!==null&&u!==void 0?u:y.UNSIGNED_BYTE,k=(f=m.RGBA16F)!==null&&f!==void 0?f:y.RGBA;y.texImage2D(y.TEXTURE_2D,0,k,e,n,0,y.RGBA,T,null);const z=m.createFramebuffer(e,n,!1,!1);return z.colorAttachment.set(C),z}function E0(m,e){return e.colorRampTexture||(e.colorRampTexture=new Pt(m,e.colorRamp,m.gl.RGBA)),e.colorRampTexture}function k0(m,e,n,u,f){if(!n||!u||!u.imageAtlas)return;const y=u.imageAtlas.patternPositions;let C=y[n.to.toString()],T=y[n.from.toString()];if(!C&&T&&(C=T),!T&&C&&(T=C),!C||!T){const k=f.getPaintProperty(e);C=y[k],T=y[k]}C&&T&&m.setConstantPatternPositions(C,T)}function Ol(m,e,n,u,f,y,C,T){const k=m.context.gl,z="fill-pattern",O=n.paint.get(z),W=O&&O.constantOr(1),Z=n.getCrossfadeParameters();let Q,ie,Ce,we,De;const ke=m.transform,Le=n.paint.get("fill-translate"),Ee=n.paint.get("fill-translate-anchor");C?(ie=W&&!n.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",Q=k.LINES):(ie=W?"fillPattern":"fill",Q=k.TRIANGLES);const Be=O.constantOr(null);for(const je of u){const Ve=e.getTile(je);if(W&&!Ve.patternsLoaded())continue;const lt=Ve.getBucket(n);if(!lt)continue;const At=lt.programConfigurations.get(n.id),rt=m.useProgram(ie,At),ht=m.style.map.terrain&&m.style.map.terrain.getTerrainData(je);W&&(m.context.activeTexture.set(k.TEXTURE0),Ve.imageAtlasTexture.bind(k.LINEAR,k.CLAMP_TO_EDGE),At.updatePaintBuffers(Z)),k0(At,z,Be,Ve,n);const Dt=ke.getProjectionData({overscaledTileID:je,applyGlobeMatrix:!T,applyTerrainMatrix:!0}),nn=s.aA(ke,Ve,Le,Ee);if(C){we=lt.indexBuffer2,De=lt.segments2;const Gt=[k.drawingBufferWidth,k.drawingBufferHeight];Ce=ie==="fillOutlinePattern"&&W?F(m,Z,Ve,Gt,nn):eu(Gt,nn)}else we=lt.indexBuffer,De=lt.segments,Ce=W?J0(m,Z,Ve,nn):{u_fill_translate:nn};const rn=m.stencilModeForClipping(je);rt.draw(m.context,Q,f,rn,y,Un.backCCW,Ce,ht,Dt,n.id,lt.layoutVertexBuffer,we,De,n.paint,m.transform.zoom,At)}}function Ni(m,e,n,u,f,y,C,T){const k=m.context,z=k.gl,O="fill-extrusion-pattern",W=n.paint.get(O),Z=W.constantOr(1),Q=n.getCrossfadeParameters(),ie=n.paint.get("fill-extrusion-opacity"),Ce=W.constantOr(null),we=m.transform;for(const De of u){const ke=e.getTile(De),Le=ke.getBucket(n);if(!Le)continue;const Ee=m.style.map.terrain&&m.style.map.terrain.getTerrainData(De),Be=Le.programConfigurations.get(n.id),je=m.useProgram(Z?"fillExtrusionPattern":"fillExtrusion",Be);Z&&(m.context.activeTexture.set(z.TEXTURE0),ke.imageAtlasTexture.bind(z.LINEAR,z.CLAMP_TO_EDGE),Be.updatePaintBuffers(Q));const Ve=we.getProjectionData({overscaledTileID:De,applyGlobeMatrix:!T,applyTerrainMatrix:!0});k0(Be,O,Ce,ke,n);const lt=s.aA(we,ke,n.paint.get("fill-extrusion-translate"),n.paint.get("fill-extrusion-translate-anchor")),At=n.paint.get("fill-extrusion-vertical-gradient"),rt=Z?Uo(m,At,ie,lt,De,Q,ke):Hs(m,At,ie,lt);je.draw(k,k.gl.TRIANGLES,f,y,C,Un.backCCW,rt,Ee,Ve,n.id,Le.layoutVertexBuffer,Le.indexBuffer,Le.segments,n.paint,m.transform.zoom,Be,m.style.map.terrain&&Le.centroidVertexBuffer)}}function Fa(m,e,n,u,f,y,C,T,k){var z;const O=m.style.projection,W=m.context,Z=m.transform,Q=W.gl,ie=[`#define NUM_ILLUMINATION_SOURCES ${n.paint.get("hillshade-highlight-color").values.length}`],Ce=m.useProgram("hillshade",null,!1,ie),we=!m.options.moving;for(const De of u){const ke=e.getTile(De),Le=ke.fbo;if(!Le)continue;const Ee=O.getMeshFromTileID(W,De.canonical,T,!0,"raster"),Be=(z=m.style.map.terrain)===null||z===void 0?void 0:z.getTerrainData(De);W.activeTexture.set(Q.TEXTURE0),Q.bindTexture(Q.TEXTURE_2D,Le.colorAttachment.get());const je=Z.getProjectionData({overscaledTileID:De,aligned:we,applyGlobeMatrix:!k,applyTerrainMatrix:!0});Ce.draw(W,Q.TRIANGLES,y,f[De.overscaledZ],C,Un.backCCW,ln(m,ke,n),Be,je,n.id,Ee.vertexBuffer,Ee.indexBuffer,Ee.segments)}}const yc=[new s.P(0,0),new s.P(s.Z,0),new s.P(s.Z,s.Z),new s.P(0,s.Z)];function _c(m,e,n,u,f,y,C,T,k=!1,z=!1){const O=u[u.length-1].overscaledZ,W=m.context,Z=W.gl,Q=m.useProgram("raster"),ie=m.transform,Ce=m.style.projection,we=m.colorModeForRenderPass(),De=!m.options.moving;for(const ke of u){const Le=m.getDepthModeForSublayer(ke.overscaledZ-O,n.paint.get("raster-opacity")===1?vn.ReadWrite:vn.ReadOnly,Z.LESS),Ee=e.getTile(ke);Ee.registerFadeDuration(n.paint.get("raster-fade-duration"));const Be=e.findLoadedParent(ke,0),je=e.findLoadedSibling(ke),Ve=qu(Ee,Be||je||null,e,n,m.transform,m.style.map.terrain);let lt,At;const rt=n.paint.get("raster-resampling")==="nearest"?Z.NEAREST:Z.LINEAR;W.activeTexture.set(Z.TEXTURE0),Ee.texture.bind(rt,Z.CLAMP_TO_EDGE,Z.LINEAR_MIPMAP_NEAREST),W.activeTexture.set(Z.TEXTURE1),Be?(Be.texture.bind(rt,Z.CLAMP_TO_EDGE,Z.LINEAR_MIPMAP_NEAREST),lt=Math.pow(2,Be.tileID.overscaledZ-Ee.tileID.overscaledZ),At=[Ee.tileID.canonical.x*lt%1,Ee.tileID.canonical.y*lt%1]):Ee.texture.bind(rt,Z.CLAMP_TO_EDGE,Z.LINEAR_MIPMAP_NEAREST),Ee.texture.useMipmap&&W.extTextureFilterAnisotropic&&m.transform.pitch>20&&Z.texParameterf(Z.TEXTURE_2D,W.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,W.extTextureFilterAnisotropicMax);const ht=m.style.map.terrain&&m.style.map.terrain.getTerrainData(ke),Dt=ie.getProjectionData({overscaledTileID:ke,aligned:De,applyGlobeMatrix:!z,applyTerrainMatrix:!0}),nn=Ou(At||[0,0],lt||1,Ve,n,T),rn=Ce.getMeshFromTileID(W,ke.canonical,y,C,"raster");Q.draw(W,Z.TRIANGLES,Le,f?f[ke.overscaledZ]:Yn.disabled,we,k?Un.frontCCW:Un.backCCW,nn,ht,Dt,n.id,rn.vertexBuffer,rn.indexBuffer,rn.segments)}}function qu(m,e,n,u,f,y){const C=u.paint.get("raster-fade-duration");if(!y&&C>0){const T=ce.now(),k=(T-m.timeAdded)/C,z=e?(T-e.timeAdded)/C:-1,O=n.getSource(),W=Je(f,{tileSize:O.tileSize,roundZoom:O.roundZoom}),Z=!e||Math.abs(e.tileID.overscaledZ-W)>Math.abs(m.tileID.overscaledZ-W),Q=Z&&m.refreshedUponExpiration?1:s.ae(Z?k:1-z,0,1);return m.refreshedUponExpiration&&k>=1&&(m.refreshedUponExpiration=!1),e?{opacity:1,mix:1-Q}:{opacity:Q,mix:0}}return{opacity:1,mix:0}}const ou=new s.b7(1,0,0,1),su=new s.b7(0,1,0,1),R0=new s.b7(0,0,1,1),Ku=new s.b7(1,0,1,1),yl=new s.b7(0,1,1,1);function U0(m,e,n,u){z0(m,0,e+n/2,m.transform.width,n,u)}function lu(m,e,n,u){z0(m,e-n/2,0,n,m.transform.height,u)}function z0(m,e,n,u,f,y){const C=m.context,T=C.gl;T.enable(T.SCISSOR_TEST),T.scissor(e*m.pixelRatio,n*m.pixelRatio,u*m.pixelRatio,f*m.pixelRatio),C.clear({color:y}),T.disable(T.SCISSOR_TEST)}function Di(m,e,n){const u=m.context,f=u.gl,y=m.useProgram("debug"),C=vn.disabled,T=Yn.disabled,k=m.colorModeForRenderPass(),z="$debug",O=m.style.map.terrain&&m.style.map.terrain.getTerrainData(n);u.activeTexture.set(f.TEXTURE0);const W=e.getTileByID(n.key).latestRawTileData,Z=Math.floor((W&&W.byteLength||0)/1024),Q=e.getTile(n).tileSize,ie=512/Math.min(Q,512)*(n.overscaledZ/m.transform.zoom)*.5;let Ce=n.canonical.toString();n.overscaledZ!==n.canonical.z&&(Ce+=` => ${n.overscaledZ}`),function(De,ke){De.initDebugOverlayCanvas();const Le=De.debugOverlayCanvas,Ee=De.context.gl,Be=De.debugOverlayCanvas.getContext("2d");Be.clearRect(0,0,Le.width,Le.height),Be.shadowColor="white",Be.shadowBlur=2,Be.lineWidth=1.5,Be.strokeStyle="white",Be.textBaseline="top",Be.font="bold 36px Open Sans, sans-serif",Be.fillText(ke,5,5),Be.strokeText(ke,5,5),De.debugOverlayTexture.update(Le),De.debugOverlayTexture.bind(Ee.LINEAR,Ee.CLAMP_TO_EDGE)}(m,`${Ce} ${Z}kB`);const we=m.transform.getProjectionData({overscaledTileID:n,applyGlobeMatrix:!0,applyTerrainMatrix:!0});y.draw(u,f.TRIANGLES,C,T,Ur.alphaBlended,Un.disabled,_t(s.b7.transparent,ie),null,we,z,m.debugBuffer,m.quadTriangleIndexBuffer,m.debugSegments),y.draw(u,f.LINE_STRIP,C,T,k,Un.disabled,_t(s.b7.red),O,we,z,m.debugBuffer,m.tileBorderIndexBuffer,m.debugSegments)}function Fl(m,e,n,u){const{isRenderingGlobe:f}=u,y=m.context,C=y.gl,T=m.transform,k=m.colorModeForRenderPass(),z=m.getDepthModeFor3D(),O=m.useProgram("terrain");y.bindFramebuffer.set(null),y.viewport.set([0,0,m.width,m.height]);for(const W of n){const Z=e.getTerrainMesh(W.tileID),Q=m.renderToTexture.getTexture(W),ie=e.getTerrainData(W.tileID);y.activeTexture.set(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,Q.texture);const Ce=e.getMeshFrameDelta(T.zoom),we=T.calculateFogMatrix(W.tileID.toUnwrapped()),De=jc(Ce,we,m.style.sky,T.pitch,f),ke=T.getProjectionData({overscaledTileID:W.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});O.draw(y,C.TRIANGLES,z,Yn.disabled,k,Un.backCCW,De,ie,ke,"terrain",Z.vertexBuffer,Z.indexBuffer,Z.segments)}}function ba(m,e){if(!e.mesh){const n=new s.aI;n.emplaceBack(-1,-1),n.emplaceBack(1,-1),n.emplaceBack(1,1),n.emplaceBack(-1,1);const u=new s.aK;u.emplaceBack(0,1,2),u.emplaceBack(0,2,3),e.mesh=new Fr(m.createVertexBuffer(n,mi.members),m.createIndexBuffer(u),s.aJ.simpleSegment(0,0,n.length,u.length))}return e.mesh}class Yc{constructor(e,n){this.context=new ru(e),this.transform=n,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:s.ad(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=at.maxUnderzooming+at.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new sn}resize(e,n,u){if(this.width=Math.floor(e*u),this.height=Math.floor(n*u),this.pixelRatio=u,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const f of this.style._order)this.style._layers[f].resize()}setup(){const e=this.context,n=new s.aI;n.emplaceBack(0,0),n.emplaceBack(s.Z,0),n.emplaceBack(0,s.Z),n.emplaceBack(s.Z,s.Z),this.tileExtentBuffer=e.createVertexBuffer(n,mi.members),this.tileExtentSegments=s.aJ.simpleSegment(0,0,4,2);const u=new s.aI;u.emplaceBack(0,0),u.emplaceBack(s.Z,0),u.emplaceBack(0,s.Z),u.emplaceBack(s.Z,s.Z),this.debugBuffer=e.createVertexBuffer(u,mi.members),this.debugSegments=s.aJ.simpleSegment(0,0,4,5);const f=new s.b_;f.emplaceBack(0,0,0,0),f.emplaceBack(s.Z,0,s.Z,0),f.emplaceBack(0,s.Z,0,s.Z),f.emplaceBack(s.Z,s.Z,s.Z,s.Z),this.rasterBoundsBuffer=e.createVertexBuffer(f,$c.members),this.rasterBoundsSegments=s.aJ.simpleSegment(0,0,4,2);const y=new s.aI;y.emplaceBack(0,0),y.emplaceBack(s.Z,0),y.emplaceBack(0,s.Z),y.emplaceBack(s.Z,s.Z),this.rasterBoundsBufferPosOnly=e.createVertexBuffer(y,mi.members),this.rasterBoundsSegmentsPosOnly=s.aJ.simpleSegment(0,0,4,5);const C=new s.aI;C.emplaceBack(0,0),C.emplaceBack(1,0),C.emplaceBack(0,1),C.emplaceBack(1,1),this.viewportBuffer=e.createVertexBuffer(C,mi.members),this.viewportSegments=s.aJ.simpleSegment(0,0,4,2);const T=new s.b$;T.emplaceBack(0),T.emplaceBack(1),T.emplaceBack(3),T.emplaceBack(2),T.emplaceBack(0),this.tileBorderIndexBuffer=e.createIndexBuffer(T);const k=new s.aK;k.emplaceBack(1,0,2),k.emplaceBack(1,2,3),this.quadTriangleIndexBuffer=e.createIndexBuffer(k);const z=this.context.gl;this.stencilClearMode=new Yn({func:z.ALWAYS,mask:0},0,255,z.ZERO,z.ZERO,z.ZERO),this.tileExtentMesh=new Fr(this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}clearStencil(){const e=this.context,n=e.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const u=s.K();s.bQ(u,0,this.width,this.height,0,0,1),s.M(u,u,[n.drawingBufferWidth,n.drawingBufferHeight,0]);const f={mainMatrix:u,tileMercatorCoords:[0,0,1,1],clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:u};this.useProgram("clippingMask",null,!0).draw(e,n.TRIANGLES,vn.disabled,this.stencilClearMode,Ur.disabled,Un.disabled,null,null,f,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(e,n,u){if(this.currentStencilSource===e.source||!e.isTileClipped()||!n||!n.length)return;this.currentStencilSource=e.source,this.nextStencilID+n.length>256&&this.clearStencil();const f=this.context;f.setColorMode(Ur.disabled),f.setDepthMode(vn.disabled);const y={};for(const C of n)y[C.key]=this.nextStencilID++;this._renderTileMasks(y,n,u,!0),this._renderTileMasks(y,n,u,!1),this._tileClippingMaskIDs=y}_renderTileMasks(e,n,u,f){const y=this.context,C=y.gl,T=this.style.projection,k=this.transform,z=this.useProgram("clippingMask");for(const O of n){const W=e[O.key],Z=this.style.map.terrain&&this.style.map.terrain.getTerrainData(O),Q=T.getMeshFromTileID(this.context,O.canonical,f,!0,"stencil"),ie=k.getProjectionData({overscaledTileID:O,applyGlobeMatrix:!u,applyTerrainMatrix:!0});z.draw(y,C.TRIANGLES,vn.disabled,new Yn({func:C.ALWAYS,mask:0},W,255,C.KEEP,C.KEEP,C.REPLACE),Ur.disabled,u?Un.disabled:Un.backCCW,null,Z,ie,"$clipping",Q.vertexBuffer,Q.indexBuffer,Q.segments)}}_renderTilesDepthBuffer(){const e=this.context,n=e.gl,u=this.style.projection,f=this.transform,y=this.useProgram("depth"),C=this.getDepthModeFor3D(),T=Ye(f,{tileSize:f.tileSize});for(const k of T){const z=this.style.map.terrain&&this.style.map.terrain.getTerrainData(k),O=u.getMeshFromTileID(this.context,k.canonical,!0,!0,"raster"),W=f.getProjectionData({overscaledTileID:k,applyGlobeMatrix:!0,applyTerrainMatrix:!0});y.draw(e,n.TRIANGLES,C,Yn.disabled,Ur.disabled,Un.backCCW,null,z,W,"$clipping",O.vertexBuffer,O.indexBuffer,O.segments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const e=this.nextStencilID++,n=this.context.gl;return new Yn({func:n.NOTEQUAL,mask:255},e,255,n.KEEP,n.KEEP,n.REPLACE)}stencilModeForClipping(e){const n=this.context.gl;return new Yn({func:n.EQUAL,mask:255},this._tileClippingMaskIDs[e.key],0,n.KEEP,n.KEEP,n.REPLACE)}getStencilConfigForOverlapAndUpdateStencilID(e){const n=this.context.gl,u=e.sort((C,T)=>T.overscaledZ-C.overscaledZ),f=u[u.length-1].overscaledZ,y=u[0].overscaledZ-f+1;if(y>1){this.currentStencilSource=void 0,this.nextStencilID+y>256&&this.clearStencil();const C={};for(let T=0;T<y;T++)C[T+f]=new Yn({func:n.GEQUAL,mask:255},T+this.nextStencilID,255,n.KEEP,n.KEEP,n.REPLACE);return this.nextStencilID+=y,[C,u]}return[{[f]:Yn.disabled},u]}stencilConfigForOverlapTwoPass(e){const n=this.context.gl,u=e.sort((C,T)=>T.overscaledZ-C.overscaledZ),f=u[u.length-1].overscaledZ,y=u[0].overscaledZ-f+1;if(this.clearStencil(),y>1){const C={},T={};for(let k=0;k<y;k++)C[k+f]=new Yn({func:n.GREATER,mask:255},y+1+k,255,n.KEEP,n.KEEP,n.REPLACE),T[k+f]=new Yn({func:n.GREATER,mask:255},1+k,255,n.KEEP,n.KEEP,n.REPLACE);return this.nextStencilID=2*y+1,[C,T,u]}return this.nextStencilID=3,[{[f]:new Yn({func:n.GREATER,mask:255},2,255,n.KEEP,n.KEEP,n.REPLACE)},{[f]:new Yn({func:n.GREATER,mask:255},1,255,n.KEEP,n.KEEP,n.REPLACE)},u]}colorModeForRenderPass(){const e=this.context.gl;return this._showOverdrawInspector?new Ur([e.CONSTANT_COLOR,e.ONE],new s.b7(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?Ur.unblended:Ur.alphaBlended}getDepthModeForSublayer(e,n,u){if(!this.opaquePassEnabledForLayer())return vn.disabled;const f=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon;return new vn(u||this.context.gl.LEQUAL,n,[f,f])}getDepthModeFor3D(){return new vn(this.context.gl.LEQUAL,vn.ReadWrite,this.depthRangeFor3D)}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(e,n){var u,f;this.style=e,this.options=n,this.lineAtlas=e.lineAtlas,this.imageManager=e.imageManager,this.glyphManager=e.glyphManager,this.symbolFadeChange=e.placement.symbolFadeChange(ce.now()),this.imageManager.beginFrame();const y=this.style._order,C=this.style.sourceCaches,T={},k={},z={},O={isRenderingToTexture:!1,isRenderingGlobe:((u=e.projection)===null||u===void 0?void 0:u.transitionState)>0};for(const Z in C){const Q=C[Z];Q.used&&Q.prepare(this.context),T[Z]=Q.getVisibleCoordinates(!1),k[Z]=T[Z].slice().reverse(),z[Z]=Q.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let Z=0;Z<y.length;Z++)if(this.style._layers[y[Z]].is3D()){this.opaquePassCutoff=Z;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(const Z of y){const Q=this.style._layers[Z];if(!Q.hasOffscreenPass()||Q.isHidden(this.transform.zoom))continue;const ie=k[Q.source];(Q.type==="custom"||ie.length)&&this.renderLayer(this,C[Q.source],Q,ie,O)}if((f=this.style.projection)===null||f===void 0||f.updateGPUdependent({context:this.context,useProgram:Z=>this.useProgram(Z)}),this.context.viewport.set([0,0,this.width,this.height]),this.context.bindFramebuffer.set(null),this.context.clear({color:n.showOverdrawInspector?s.b7.black:s.b7.transparent,depth:1}),this.clearStencil(),this.style.sky&&function(Z,Q){const ie=Z.context,Ce=ie.gl,we=((je,Ve,lt)=>{const At=Math.cos(Ve.rollInRadians),rt=Math.sin(Ve.rollInRadians),ht=Fe(Ve),Dt=Ve.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}).projectionTransition;return{u_sky_color:je.properties.get("sky-color"),u_horizon_color:je.properties.get("horizon-color"),u_horizon:[(Ve.width/2-ht*rt)*lt,(Ve.height/2+ht*At)*lt],u_horizon_normal:[-rt,At],u_sky_horizon_blend:je.properties.get("sky-horizon-blend")*Ve.height/2*lt,u_sky_blend:Dt}})(Q,Z.style.map.transform,Z.pixelRatio),De=new vn(Ce.LEQUAL,vn.ReadWrite,[0,1]),ke=Yn.disabled,Le=Z.colorModeForRenderPass(),Ee=Z.useProgram("sky"),Be=ba(ie,Q);Ee.draw(ie,Ce.TRIANGLES,De,ke,Le,Un.disabled,we,null,void 0,"sky",Be.vertexBuffer,Be.indexBuffer,Be.segments)}(this,this.style.sky),this._showOverdrawInspector=n.showOverdrawInspector,this.depthRangeFor3D=[0,1-(e._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=y.length-1;this.currentLayer>=0;this.currentLayer--){const Z=this.style._layers[y[this.currentLayer]],Q=C[Z.source],ie=T[Z.source];this._renderTileClippingMasks(Z,ie,!1),this.renderLayer(this,Q,Z,ie,O)}this.renderPass="translucent";let W=!1;for(this.currentLayer=0;this.currentLayer<y.length;this.currentLayer++){const Z=this.style._layers[y[this.currentLayer]],Q=C[Z.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(Z,O))continue;this.opaquePassEnabledForLayer()||W||(W=!0,O.isRenderingGlobe&&!this.style.map.terrain&&this._renderTilesDepthBuffer());const ie=(Z.type==="symbol"?z:k)[Z.source];this._renderTileClippingMasks(Z,T[Z.source],!!this.renderToTexture),this.renderLayer(this,Q,Z,ie,O)}if(O.isRenderingGlobe&&function(Z,Q,ie){const Ce=Z.context,we=Ce.gl,De=Z.useProgram("atmosphere"),ke=new vn(we.LEQUAL,vn.ReadOnly,[0,1]),Le=Z.transform,Ee=function(Dt,nn){const rn=Dt.properties.get("position"),Gt=[-rn.x,-rn.y,-rn.z],bn=s.ad(new Float64Array(16));return Dt.properties.get("anchor")==="map"&&(s.a_(bn,bn,nn.rollInRadians),s.a$(bn,bn,-nn.pitchInRadians),s.a_(bn,bn,nn.bearingInRadians),s.a$(bn,bn,nn.center.lat*Math.PI/180),s.bp(bn,bn,-nn.center.lng*Math.PI/180)),s.bZ(Gt,Gt,bn),Gt}(ie,Z.transform),Be=Le.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),je=Q.properties.get("atmosphere-blend")*Be.projectionTransition;if(je===0)return;const Ve=Oi(Le.worldSize,Le.center.lat),lt=Le.inverseProjectionMatrix,At=new Float64Array(4);At[3]=1,s.at(At,At,Le.modelViewProjectionMatrix),At[0]/=At[3],At[1]/=At[3],At[2]/=At[3],At[3]=1,s.at(At,At,lt),At[0]/=At[3],At[1]/=At[3],At[2]/=At[3],At[3]=1;const rt=((Dt,nn,rn,Gt,bn)=>({u_sun_pos:Dt,u_atmosphere_blend:nn,u_globe_position:rn,u_globe_radius:Gt,u_inv_proj_matrix:bn}))(Ee,je,[At[0],At[1],At[2]],Ve,lt),ht=ba(Ce,Q);De.draw(Ce,we.TRIANGLES,ke,Yn.disabled,Ur.alphaBlended,Un.disabled,rt,null,null,"atmosphere",ht.vertexBuffer,ht.indexBuffer,ht.segments)}(this,this.style.sky,this.style.light),this.options.showTileBoundaries){const Z=function(Q,ie){let Ce=null;const we=Object.values(Q._layers).flatMap(Ee=>Ee.source&&!Ee.isHidden(ie)?[Q.sourceCaches[Ee.source]]:[]),De=we.filter(Ee=>Ee.getSource().type==="vector"),ke=we.filter(Ee=>Ee.getSource().type!=="vector"),Le=Ee=>{(!Ce||Ce.getSource().maxzoom<Ee.getSource().maxzoom)&&(Ce=Ee)};return De.forEach(Ee=>Le(Ee)),Ce||ke.forEach(Ee=>Le(Ee)),Ce}(this.style,this.transform.zoom);Z&&function(Q,ie,Ce){for(let we=0;we<Ce.length;we++)Di(Q,ie,Ce[we])}(this,Z,Z.getVisibleCoordinates())}this.options.showPadding&&function(Z){const Q=Z.transform.padding;U0(Z,Z.transform.height-(Q.top||0),3,ou),U0(Z,Q.bottom||0,3,su),lu(Z,Q.left||0,3,R0),lu(Z,Z.transform.width-(Q.right||0),3,Ku);const ie=Z.transform.centerPoint;(function(Ce,we,De,ke){z0(Ce,we-1,De-10,2,20,ke),z0(Ce,we-10,De-1,20,2,ke)})(Z,ie.x,Z.transform.height-ie.y,yl)}(this),this.context.setDefault()}maybeDrawDepthAndCoords(e){if(!this.style||!this.style.map||!this.style.map.terrain)return;const n=this.terrainFacilitator.matrix,u=this.transform.modelViewProjectionMatrix;let f=this.terrainFacilitator.dirty;f||(f=e?!s.c0(n,u):!s.c1(n,u)),f||(f=this.style.map.terrain.sourceCache.anyTilesAfterTime(this.terrainFacilitator.renderTime)),f&&(s.c2(n,u),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(y,C){const T=y.context,k=T.gl,z=y.transform,O=Ur.unblended,W=new vn(k.LEQUAL,vn.ReadWrite,[0,1]),Z=C.sourceCache.getRenderableTiles(),Q=y.useProgram("terrainDepth");T.bindFramebuffer.set(C.getFramebuffer("depth").framebuffer),T.viewport.set([0,0,y.width/devicePixelRatio,y.height/devicePixelRatio]),T.clear({color:s.b7.transparent,depth:1});for(const ie of Z){const Ce=C.getTerrainMesh(ie.tileID),we=C.getTerrainData(ie.tileID),De=z.getProjectionData({overscaledTileID:ie.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0}),ke={u_ele_delta:C.getMeshFrameDelta(z.zoom)};Q.draw(T,k.TRIANGLES,W,Yn.disabled,O,Un.backCCW,ke,we,De,"terrain",Ce.vertexBuffer,Ce.indexBuffer,Ce.segments)}T.bindFramebuffer.set(null),T.viewport.set([0,0,y.width,y.height])}(this,this.style.map.terrain),function(y,C){const T=y.context,k=T.gl,z=y.transform,O=Ur.unblended,W=new vn(k.LEQUAL,vn.ReadWrite,[0,1]),Z=C.getCoordsTexture(),Q=C.sourceCache.getRenderableTiles(),ie=y.useProgram("terrainCoords");T.bindFramebuffer.set(C.getFramebuffer("coords").framebuffer),T.viewport.set([0,0,y.width/devicePixelRatio,y.height/devicePixelRatio]),T.clear({color:s.b7.transparent,depth:1}),C.coordsIndex=[];for(const Ce of Q){const we=C.getTerrainMesh(Ce.tileID),De=C.getTerrainData(Ce.tileID);T.activeTexture.set(k.TEXTURE0),k.bindTexture(k.TEXTURE_2D,Z.texture);const ke={u_terrain_coords_id:(255-C.coordsIndex.length)/255,u_texture:0,u_ele_delta:C.getMeshFrameDelta(z.zoom)},Le=z.getProjectionData({overscaledTileID:Ce.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});ie.draw(T,k.TRIANGLES,W,Yn.disabled,O,Un.backCCW,ke,De,Le,"terrain",we.vertexBuffer,we.indexBuffer,we.segments),C.coordsIndex.push(Ce.tileID.key)}T.bindFramebuffer.set(null),T.viewport.set([0,0,y.width,y.height])}(this,this.style.map.terrain))}renderLayer(e,n,u,f,y){u.isHidden(this.transform.zoom)||(u.type==="background"||u.type==="custom"||(f||[]).length)&&(this.id=u.id,s.c3(u)?function(C,T,k,z,O,W){if(C.renderPass!=="translucent")return;const{isRenderingToTexture:Z}=W,Q=Yn.disabled,ie=C.colorModeForRenderPass();(k._unevaluatedLayout.hasValue("text-variable-anchor")||k._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(Ce,we,De,ke,Le,Ee,Be,je,Ve){const lt=we.transform,At=we.style.map.terrain,rt=Le==="map",ht=Ee==="map";for(const Dt of Ce){const nn=ke.getTile(Dt),rn=nn.getBucket(De);if(!rn||!rn.text||!rn.text.segments.get().length)continue;const Gt=s.ak(rn.textSizeData,lt.zoom),bn=s.az(nn,1,we.transform.zoom),Zn=Tn(rt,we.transform,bn),Sr=De.layout.get("icon-text-fit")!=="none"&&rn.hasIconData();if(Gt){const di=Math.pow(2,lt.zoom-nn.tileID.overscaledZ),ei=At?(Mi,Pi)=>At.getElevation(Dt,Mi,Pi):null;Lh(rn,rt,ht,Ve,lt,Zn,di,Gt,Sr,s.aA(lt,nn,Be,je),Dt.toUnwrapped(),ei)}}}(z,C,k,T,k.layout.get("text-rotation-alignment"),k.layout.get("text-pitch-alignment"),k.paint.get("text-translate"),k.paint.get("text-translate-anchor"),O),k.paint.get("icon-opacity").constantOr(1)!==0&&Zu(C,T,k,z,!1,k.paint.get("icon-translate"),k.paint.get("icon-translate-anchor"),k.layout.get("icon-rotation-alignment"),k.layout.get("icon-pitch-alignment"),k.layout.get("icon-keep-upright"),Q,ie,Z),k.paint.get("text-opacity").constantOr(1)!==0&&Zu(C,T,k,z,!0,k.paint.get("text-translate"),k.paint.get("text-translate-anchor"),k.layout.get("text-rotation-alignment"),k.layout.get("text-pitch-alignment"),k.layout.get("text-keep-upright"),Q,ie,Z),T.map.showCollisionBoxes&&(Xc(C,T,k,z,!0),Xc(C,T,k,z,!1))}(e,n,u,f,this.style.placement.variableOffsets,y):s.c4(u)?function(C,T,k,z,O){if(C.renderPass!=="translucent")return;const{isRenderingToTexture:W}=O,Z=k.paint.get("circle-opacity"),Q=k.paint.get("circle-stroke-width"),ie=k.paint.get("circle-stroke-opacity"),Ce=!k.layout.get("circle-sort-key").isConstant();if(Z.constantOr(1)===0&&(Q.constantOr(1)===0||ie.constantOr(1)===0))return;const we=C.context,De=we.gl,ke=C.transform,Le=C.getDepthModeForSublayer(0,vn.ReadOnly),Ee=Yn.disabled,Be=C.colorModeForRenderPass(),je=[],Ve=ke.getCircleRadiusCorrection();for(let lt=0;lt<z.length;lt++){const At=z[lt],rt=T.getTile(At),ht=rt.getBucket(k);if(!ht)continue;const Dt=k.paint.get("circle-translate"),nn=k.paint.get("circle-translate-anchor"),rn=s.aA(ke,rt,Dt,nn),Gt=ht.programConfigurations.get(k.id),bn=C.useProgram("circle",Gt),Zn=ht.layoutVertexBuffer,Sr=ht.indexBuffer,di=C.style.map.terrain&&C.style.map.terrain.getTerrainData(At),ei={programConfiguration:Gt,program:bn,layoutVertexBuffer:Zn,indexBuffer:Sr,uniformValues:X(C,rt,k,rn,Ve),terrainData:di,projectionData:ke.getProjectionData({overscaledTileID:At,applyGlobeMatrix:!W,applyTerrainMatrix:!0})};if(Ce){const Mi=ht.segments.get();for(const Pi of Mi)je.push({segments:new s.aJ([Pi]),sortKey:Pi.sortKey,state:ei})}else je.push({segments:ht.segments,sortKey:0,state:ei})}Ce&&je.sort((lt,At)=>lt.sortKey-At.sortKey);for(const lt of je){const{programConfiguration:At,program:rt,layoutVertexBuffer:ht,indexBuffer:Dt,uniformValues:nn,terrainData:rn,projectionData:Gt}=lt.state;rt.draw(we,De.TRIANGLES,Le,Ee,Be,Un.backCCW,nn,rn,Gt,k.id,ht,Dt,lt.segments,k.paint,C.transform.zoom,At)}}(e,n,u,f,y):s.c5(u)?function(C,T,k,z,O){if(k.paint.get("heatmap-opacity")===0)return;const W=C.context,{isRenderingToTexture:Z,isRenderingGlobe:Q}=O;if(C.style.map.terrain){for(const ie of z){const Ce=T.getTile(ie);T.hasRenderableParent(ie)||(C.renderPass==="offscreen"?ml(C,Ce,k,ie,Q):C.renderPass==="translucent"&&Wu(C,k,ie,Z,Q))}W.viewport.set([0,0,C.width,C.height])}else C.renderPass==="offscreen"?function(ie,Ce,we,De){const ke=ie.context,Le=ke.gl,Ee=ie.transform,Be=Yn.disabled,je=new Ur([Le.ONE,Le.ONE],s.b7.transparent,[!0,!0,!0,!0]);(function(Ve,lt,At){const rt=Ve.gl;Ve.activeTexture.set(rt.TEXTURE1),Ve.viewport.set([0,0,lt.width/4,lt.height/4]);let ht=At.heatmapFbos.get(s.bW);ht?(rt.bindTexture(rt.TEXTURE_2D,ht.colorAttachment.get()),Ve.bindFramebuffer.set(ht.framebuffer)):(ht=Hu(Ve,lt.width/4,lt.height/4),At.heatmapFbos.set(s.bW,ht))})(ke,ie,we),ke.clear({color:s.b7.transparent});for(let Ve=0;Ve<De.length;Ve++){const lt=De[Ve];if(Ce.hasRenderableParent(lt))continue;const At=Ce.getTile(lt),rt=At.getBucket(we);if(!rt)continue;const ht=rt.programConfigurations.get(we.id),Dt=ie.useProgram("heatmap",ht),nn=Ee.getProjectionData({overscaledTileID:lt,applyGlobeMatrix:!0,applyTerrainMatrix:!1}),rn=Ee.getCircleRadiusCorrection();Dt.draw(ke,Le.TRIANGLES,vn.disabled,Be,je,Un.backCCW,st(At,Ee.zoom,we.paint.get("heatmap-intensity"),rn),null,nn,we.id,rt.layoutVertexBuffer,rt.indexBuffer,rt.segments,we.paint,Ee.zoom,ht)}ke.viewport.set([0,0,ie.width,ie.height])}(C,T,k,z):C.renderPass==="translucent"&&function(ie,Ce){const we=ie.context,De=we.gl;we.setColorMode(ie.colorModeForRenderPass());const ke=Ce.heatmapFbos.get(s.bW);ke&&(we.activeTexture.set(De.TEXTURE0),De.bindTexture(De.TEXTURE_2D,ke.colorAttachment.get()),we.activeTexture.set(De.TEXTURE1),E0(we,Ce).bind(De.LINEAR,De.CLAMP_TO_EDGE),ie.useProgram("heatmapTexture").draw(we,De.TRIANGLES,vn.disabled,Yn.disabled,ie.colorModeForRenderPass(),Un.disabled,Ot(ie,Ce,0,1),null,null,Ce.id,ie.viewportBuffer,ie.quadTriangleIndexBuffer,ie.viewportSegments,Ce.paint,ie.transform.zoom))}(C,k)}(e,n,u,f,y):s.c6(u)?function(C,T,k,z,O){if(C.renderPass!=="translucent")return;const{isRenderingToTexture:W}=O,Z=k.paint.get("line-opacity"),Q=k.paint.get("line-width");if(Z.constantOr(1)===0||Q.constantOr(1)===0)return;const ie=C.getDepthModeForSublayer(0,vn.ReadOnly),Ce=C.colorModeForRenderPass(),we=k.paint.get("line-dasharray"),De=k.paint.get("line-pattern"),ke=De.constantOr(1),Le=k.paint.get("line-gradient"),Ee=k.getCrossfadeParameters(),Be=ke?"linePattern":we?"lineSDF":Le?"lineGradient":"line",je=C.context,Ve=je.gl,lt=C.transform;let At=!0;for(const rt of z){const ht=T.getTile(rt);if(ke&&!ht.patternsLoaded())continue;const Dt=ht.getBucket(k);if(!Dt)continue;const nn=Dt.programConfigurations.get(k.id),rn=C.context.program.get(),Gt=C.useProgram(Be,nn),bn=At||Gt.program!==rn,Zn=C.style.map.terrain&&C.style.map.terrain.getTerrainData(rt),Sr=De.constantOr(null);if(Sr&&ht.imageAtlas){const Tr=ht.imageAtlas,Dr=Tr.patternPositions[Sr.to.toString()],Xi=Tr.patternPositions[Sr.from.toString()];Dr&&Xi&&nn.setConstantPatternPositions(Dr,Xi)}const di=lt.getProjectionData({overscaledTileID:rt,applyGlobeMatrix:!W,applyTerrainMatrix:!0}),ei=lt.getPixelScale(),Mi=ke?Oa(C,ht,k,ei,Ee):we?zo(C,ht,k,ei,we,Ee):Le?pi(C,ht,k,ei,Dt.lineClipsArray.length):Qn(C,ht,k,ei);if(ke)je.activeTexture.set(Ve.TEXTURE0),ht.imageAtlasTexture.bind(Ve.LINEAR,Ve.CLAMP_TO_EDGE),nn.updatePaintBuffers(Ee);else if(we&&(bn||C.lineAtlas.dirty))je.activeTexture.set(Ve.TEXTURE0),C.lineAtlas.bind(je);else if(Le){const Tr=Dt.gradients[k.id];let Dr=Tr.texture;if(k.gradientVersion!==Tr.version){let Xi=256;if(k.stepInterpolant){const wa=T.getSource().maxzoom,ua=rt.canonical.z===wa?Math.ceil(1<<C.transform.maxZoom-rt.canonical.z):1;Xi=s.ae(s.bX(Dt.maxLineLength/s.Z*1024*ua),256,je.maxTextureSize)}Tr.gradient=s.bY({expression:k.gradientExpression(),evaluationKey:"lineProgress",resolution:Xi,image:Tr.gradient||void 0,clips:Dt.lineClipsArray}),Tr.texture?Tr.texture.update(Tr.gradient):Tr.texture=new Pt(je,Tr.gradient,Ve.RGBA),Tr.version=k.gradientVersion,Dr=Tr.texture}je.activeTexture.set(Ve.TEXTURE0),Dr.bind(k.stepInterpolant?Ve.NEAREST:Ve.LINEAR,Ve.CLAMP_TO_EDGE)}const Pi=C.stencilModeForClipping(rt);Gt.draw(je,Ve.TRIANGLES,ie,Pi,Ce,Un.disabled,Mi,Zn,di,k.id,Dt.layoutVertexBuffer,Dt.indexBuffer,Dt.segments,k.paint,C.transform.zoom,nn,Dt.layoutVertexBuffer2),At=!1}}(e,n,u,f,y):s.c7(u)?function(C,T,k,z,O){const W=k.paint.get("fill-color"),Z=k.paint.get("fill-opacity");if(Z.constantOr(1)===0)return;const{isRenderingToTexture:Q}=O,ie=C.colorModeForRenderPass(),Ce=k.paint.get("fill-pattern"),we=C.opaquePassEnabledForLayer()&&!Ce.constantOr(1)&&W.constantOr(s.b7.transparent).a===1&&Z.constantOr(0)===1?"opaque":"translucent";if(C.renderPass===we){const De=C.getDepthModeForSublayer(1,C.renderPass==="opaque"?vn.ReadWrite:vn.ReadOnly);Ol(C,T,k,z,De,ie,!1,Q)}if(C.renderPass==="translucent"&&k.paint.get("fill-antialias")){const De=C.getDepthModeForSublayer(k.getPaintProperty("fill-outline-color")?2:0,vn.ReadOnly);Ol(C,T,k,z,De,ie,!0,Q)}}(e,n,u,f,y):s.c8(u)?function(C,T,k,z,O){const W=k.paint.get("fill-extrusion-opacity");if(W===0)return;const{isRenderingToTexture:Z}=O;if(C.renderPass==="translucent"){const Q=new vn(C.context.gl.LEQUAL,vn.ReadWrite,C.depthRangeFor3D);if(W!==1||k.paint.get("fill-extrusion-pattern").constantOr(1))Ni(C,T,k,z,Q,Yn.disabled,Ur.disabled,Z),Ni(C,T,k,z,Q,C.stencilModeFor3D(),C.colorModeForRenderPass(),Z);else{const ie=C.colorModeForRenderPass();Ni(C,T,k,z,Q,Yn.disabled,ie,Z)}}}(e,n,u,f,y):s.c9(u)?function(C,T,k,z,O){if(C.renderPass!=="offscreen"&&C.renderPass!=="translucent")return;const{isRenderingToTexture:W}=O,Z=C.context,Q=C.style.projection.useSubdivision,ie=C.getDepthModeForSublayer(0,vn.ReadOnly),Ce=C.colorModeForRenderPass();if(C.renderPass==="offscreen")(function(we,De,ke,Le,Ee,Be,je){const Ve=we.context,lt=Ve.gl;for(const At of ke){const rt=De.getTile(At),ht=rt.dem;if(!ht||!ht.data||!rt.needsHillshadePrepare)continue;const Dt=ht.dim,nn=ht.stride,rn=ht.getPixels();if(Ve.activeTexture.set(lt.TEXTURE1),Ve.pixelStoreUnpackPremultiplyAlpha.set(!1),rt.demTexture=rt.demTexture||we.getTileTexture(nn),rt.demTexture){const bn=rt.demTexture;bn.update(rn,{premultiply:!1}),bn.bind(lt.NEAREST,lt.CLAMP_TO_EDGE)}else rt.demTexture=new Pt(Ve,rn,lt.RGBA,{premultiply:!1}),rt.demTexture.bind(lt.NEAREST,lt.CLAMP_TO_EDGE);Ve.activeTexture.set(lt.TEXTURE0);let Gt=rt.fbo;if(!Gt){const bn=new Pt(Ve,{width:Dt,height:Dt,data:null},lt.RGBA);bn.bind(lt.LINEAR,lt.CLAMP_TO_EDGE),Gt=rt.fbo=Ve.createFramebuffer(Dt,Dt,!0,!1),Gt.colorAttachment.set(bn.texture)}Ve.bindFramebuffer.set(Gt.framebuffer),Ve.viewport.set([0,0,Dt,Dt]),we.useProgram("hillshadePrepare").draw(Ve,lt.TRIANGLES,Ee,Be,je,Un.disabled,Bn(rt.tileID,ht),null,null,Le.id,we.rasterBoundsBuffer,we.quadTriangleIndexBuffer,we.rasterBoundsSegments),rt.needsHillshadePrepare=!1}})(C,T,z,k,ie,Yn.disabled,Ce),Z.viewport.set([0,0,C.width,C.height]);else if(C.renderPass==="translucent")if(Q){const[we,De,ke]=C.stencilConfigForOverlapTwoPass(z);Fa(C,T,k,ke,we,ie,Ce,!1,W),Fa(C,T,k,ke,De,ie,Ce,!0,W)}else{const[we,De]=C.getStencilConfigForOverlapAndUpdateStencilID(z);Fa(C,T,k,De,we,ie,Ce,!1,W)}}(e,n,u,f,y):s.ca(u)?function(C,T,k,z,O){if(C.renderPass!=="translucent"||k.paint.get("raster-opacity")===0||!z.length)return;const{isRenderingToTexture:W}=O,Z=T.getSource(),Q=C.style.projection.useSubdivision;if(Z instanceof vr)_c(C,T,k,z,null,!1,!1,Z.tileCoords,Z.flippedWindingOrder,W);else if(Q){const[ie,Ce,we]=C.stencilConfigForOverlapTwoPass(z);_c(C,T,k,we,ie,!1,!0,yc,!1,W),_c(C,T,k,we,Ce,!0,!0,yc,!1,W)}else{const[ie,Ce]=C.getStencilConfigForOverlapAndUpdateStencilID(z);_c(C,T,k,Ce,ie,!1,!0,yc,!1,W)}}(e,n,u,f,y):s.cb(u)?function(C,T,k,z,O){const W=k.paint.get("background-color"),Z=k.paint.get("background-opacity");if(Z===0)return;const{isRenderingToTexture:Q}=O,ie=C.context,Ce=ie.gl,we=C.style.projection,De=C.transform,ke=De.tileSize,Le=k.paint.get("background-pattern");if(C.isPatternMissing(Le))return;const Ee=!Le&&W.a===1&&Z===1&&C.opaquePassEnabledForLayer()?"opaque":"translucent";if(C.renderPass!==Ee)return;const Be=Yn.disabled,je=C.getDepthModeForSublayer(0,Ee==="opaque"?vn.ReadWrite:vn.ReadOnly),Ve=C.colorModeForRenderPass(),lt=C.useProgram(Le?"backgroundPattern":"background"),At=z||Ye(De,{tileSize:ke,terrain:C.style.map.terrain});Le&&(ie.activeTexture.set(Ce.TEXTURE0),C.imageManager.bind(C.context));const rt=k.getCrossfadeParameters();for(const ht of At){const Dt=De.getProjectionData({overscaledTileID:ht,applyGlobeMatrix:!Q,applyTerrainMatrix:!0}),nn=Le?Uh(Z,C,Le,{tileID:ht,tileSize:ke},rt):Zc(Z,W),rn=C.style.map.terrain&&C.style.map.terrain.getTerrainData(ht),Gt=we.getMeshFromTileID(ie,ht.canonical,!1,!0,"raster");lt.draw(ie,Ce.TRIANGLES,je,Be,Ve,Un.backCCW,nn,rn,Dt,k.id,Gt.vertexBuffer,Gt.indexBuffer,Gt.segments)}}(e,0,u,f,y):s.cc(u)&&function(C,T,k,z){const{isRenderingGlobe:O}=z,W=C.context,Z=k.implementation,Q=C.style.projection,ie=C.transform,Ce=ie.getProjectionDataForCustomLayer(O),we={farZ:ie.farZ,nearZ:ie.nearZ,fov:ie.fov*Math.PI/180,modelViewProjectionMatrix:ie.modelViewProjectionMatrix,projectionMatrix:ie.projectionMatrix,shaderData:{variantName:Q.shaderVariantName,vertexShaderPrelude:`const float PI = 3.141592653589793;
uniform mat4 u_projection_matrix;
${Q.shaderPreludeCode.vertexSource}`,define:Q.shaderDefine},defaultProjectionData:Ce},De=Z.renderingMode?Z.renderingMode:"2d";if(C.renderPass==="offscreen"){const ke=Z.prerender;ke&&(C.setCustomLayerDefaults(),W.setColorMode(C.colorModeForRenderPass()),ke.call(Z,W.gl,we),W.setDirty(),C.setBaseState())}else if(C.renderPass==="translucent"){C.setCustomLayerDefaults(),W.setColorMode(C.colorModeForRenderPass()),W.setStencilMode(Yn.disabled);const ke=De==="3d"?C.getDepthModeFor3D():C.getDepthModeForSublayer(0,vn.ReadOnly);W.setDepthMode(ke),Z.render(W.gl,we),W.setDirty(),C.setBaseState(),W.bindFramebuffer.set(null)}}(e,0,u,y))}saveTileTexture(e){const n=this._tileTextures[e.size[0]];n?n.push(e):this._tileTextures[e.size[0]]=[e]}getTileTexture(e){const n=this._tileTextures[e];return n&&n.length>0?n.pop():null}isPatternMissing(e){if(!e)return!1;if(!e.from||!e.to)return!0;const n=this.imageManager.getPattern(e.from.toString()),u=this.imageManager.getPattern(e.to.toString());return!n||!u}useProgram(e,n,u=!1,f=[]){this.cache=this.cache||{};const y=!!this.style.map.terrain,C=this.style.projection,T=u?Mn.projectionMercator:C.shaderPreludeCode,k=u?ra:C.shaderDefine,z=e+(n?n.cacheKey:"")+`/${u?er:C.shaderVariantName}`+(this._showOverdrawInspector?"/overdraw":"")+(y?"/terrain":"")+(f?`/${f.join("/")}`:"");return this.cache[z]||(this.cache[z]=new zl(this.context,Mn[e],n,o0[e],this._showOverdrawInspector,y,T,k,f)),this.cache[z]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new Pt(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:e,drawingBufferHeight:n}=this.context.gl;return this.width!==e||this.height!==n}}function Nl(m,e){let n,u=!1,f=null,y=null;const C=()=>{f=null,u&&(m.apply(y,n),f=setTimeout(C,e),u=!1)};return(...T)=>(u=!0,y=this,n=T,f||C(),f)}class qs{constructor(e){this._getCurrentHash=()=>{const n=window.location.hash.replace("#","");if(this._hashName){let u;return n.split("&").map(f=>f.split("=")).forEach(f=>{f[0]===this._hashName&&(u=f)}),(u&&u[1]||"").split("/")}return n.split("/")},this._onHashChange=()=>{const n=this._getCurrentHash();if(!this._isValidHash(n))return!1;const u=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(n[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+n[2],+n[1]],zoom:+n[0],bearing:u,pitch:+(n[4]||0)}),!0},this._updateHashUnthrottled=()=>{const n=window.location.href.replace(/(#.*)?$/,this.getHashString());window.history.replaceState(window.history.state,null,n)},this._removeHash=()=>{const n=this._getCurrentHash();if(n.length===0)return;const u=n.join("/");let f=u;f.split("&").length>0&&(f=f.split("&")[0]),this._hashName&&(f=`${this._hashName}=${u}`);let y=window.location.hash.replace(f,"");y.startsWith("#&")?y=y.slice(0,1)+y.slice(2):y==="#"&&(y="");let C=window.location.href.replace(/(#.+)?$/,y);C=C.replace("&&","&"),window.history.replaceState(window.history.state,null,C)},this._updateHash=Nl(this._updateHashUnthrottled,300),this._hashName=e&&encodeURIComponent(e)}addTo(e){return this._map=e,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),this._removeHash(),delete this._map,this}getHashString(e){const n=this._map.getCenter(),u=Math.round(100*this._map.getZoom())/100,f=Math.ceil((u*Math.LN2+Math.log(512/360/.5))/Math.LN10),y=Math.pow(10,f),C=Math.round(n.lng*y)/y,T=Math.round(n.lat*y)/y,k=this._map.getBearing(),z=this._map.getPitch();let O="";if(O+=e?`/${C}/${T}/${u}`:`${u}/${T}/${C}`,(k||z)&&(O+="/"+Math.round(10*k)/10),z&&(O+=`/${Math.round(z)}`),this._hashName){const W=this._hashName;let Z=!1;const Q=window.location.hash.slice(1).split("&").map(ie=>{const Ce=ie.split("=")[0];return Ce===W?(Z=!0,`${Ce}=${O}`):ie}).filter(ie=>ie);return Z||Q.push(`${W}=${O}`),`#${Q.join("&")}`}return`#${O}`}_isValidHash(e){if(e.length<3||e.some(isNaN))return!1;try{new s.Q(+e[2],+e[1])}catch{return!1}const n=+e[0],u=+(e[3]||0),f=+(e[4]||0);return n>=this._map.getMinZoom()&&n<=this._map.getMaxZoom()&&u>=-180&&u<=180&&f>=this._map.getMinPitch()&&f<=this._map.getMaxPitch()}}const Xa={linearity:.3,easing:s.cd(0,0,.3,1)},Bo=s.e({deceleration:2500,maxSpeed:1400},Xa),G0=s.e({deceleration:20,maxSpeed:1400},Xa),de=s.e({deceleration:1e3,maxSpeed:360},Xa),uu=s.e({deceleration:1e3,maxSpeed:90},Xa),_l=s.e({deceleration:1e3,maxSpeed:360},Xa);class Ya{constructor(e){this._map=e,this.clear()}clear(){this._inertiaBuffer=[]}record(e){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:ce.now(),settings:e})}_drainInertiaBuffer(){const e=this._inertiaBuffer,n=ce.now();for(;e.length>0&&n-e[0].time>160;)e.shift()}_onMoveEnd(e){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const n={zoom:0,bearing:0,pitch:0,roll:0,pan:new s.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:y}of this._inertiaBuffer)n.zoom+=y.zoomDelta||0,n.bearing+=y.bearingDelta||0,n.pitch+=y.pitchDelta||0,n.roll+=y.rollDelta||0,y.panDelta&&n.pan._add(y.panDelta),y.around&&(n.around=y.around),y.pinchAround&&(n.pinchAround=y.pinchAround);const u=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,f={};if(n.pan.mag()){const y=s0(n.pan.mag(),u,s.e({},Bo,e||{})),C=n.pan.mult(y.amount/n.pan.mag()),T=this._map.cameraHelper.handlePanInertia(C,this._map.transform);f.center=T.easingCenter,f.offset=T.easingOffset,dr(f,y)}if(n.zoom){const y=s0(n.zoom,u,G0);f.zoom=this._map.transform.zoom+y.amount,dr(f,y)}if(n.bearing){const y=s0(n.bearing,u,de);f.bearing=this._map.transform.bearing+s.ae(y.amount,-179,179),dr(f,y)}if(n.pitch){const y=s0(n.pitch,u,uu);f.pitch=this._map.transform.pitch+y.amount,dr(f,y)}if(n.roll){const y=s0(n.roll,u,_l);f.roll=this._map.transform.roll+s.ae(y.amount,-179,179),dr(f,y)}if(f.zoom||f.bearing){const y=n.pinchAround===void 0?n.around:n.pinchAround;f.around=y?this._map.unproject(y):this._map.getCenter()}return this.clear(),s.e(f,{noMoveStart:!0})}}function dr(m,e){(!m.duration||m.duration<e.duration)&&(m.duration=e.duration,m.easing=e.easing)}function s0(m,e,n){const{maxSpeed:u,linearity:f,deceleration:y}=n,C=s.ae(m*f/(e/1e3),-u,u),T=Math.abs(C)/(y*f);return{easing:n.easing,duration:1e3*T,amount:C*(T/2)}}class la extends s.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,n,u,f={}){u=u instanceof MouseEvent?u:new MouseEvent(e,u);const y=ae.mousePos(n.getCanvas(),u),C=n.unproject(y);super(e,s.e({point:y,lngLat:C,originalEvent:u},f)),this._defaultPrevented=!1,this.target=n}}class vl extends s.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,n,u){const f=e==="touchend"?u.changedTouches:u.touches,y=ae.touchPos(n.getCanvasContainer(),f),C=y.map(k=>n.unproject(k)),T=y.reduce((k,z,O,W)=>k.add(z.div(W.length)),new s.P(0,0));super(e,{points:y,point:T,lngLats:C,lngLat:n.unproject(T),originalEvent:u}),this._defaultPrevented=!1}}class _o extends s.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,n,u){super(e,{originalEvent:u}),this._defaultPrevented=!1}}class Ti{constructor(e,n){this._map=e,this._clickTolerance=n.clickTolerance}reset(){delete this._mousedownPos}wheel(e){return this._firePreventable(new _o(e.type,this._map,e))}mousedown(e,n){return this._mousedownPos=n,this._firePreventable(new la(e.type,this._map,e))}mouseup(e){this._map.fire(new la(e.type,this._map,e))}click(e,n){this._mousedownPos&&this._mousedownPos.dist(n)>=this._clickTolerance||this._map.fire(new la(e.type,this._map,e))}dblclick(e){return this._firePreventable(new la(e.type,this._map,e))}mouseover(e){this._map.fire(new la(e.type,this._map,e))}mouseout(e){this._map.fire(new la(e.type,this._map,e))}touchstart(e){return this._firePreventable(new vl(e.type,this._map,e))}touchmove(e){this._map.fire(new vl(e.type,this._map,e))}touchend(e){this._map.fire(new vl(e.type,this._map,e))}touchcancel(e){this._map.fire(new vl(e.type,this._map,e))}_firePreventable(e){if(this._map.fire(e),e.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Ii{constructor(e){this._map=e}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(e){this._map.fire(new la(e.type,this._map,e))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new la("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(e){this._delayContextMenu?this._contextMenuEvent=e:this._ignoreContextMenu||this._map.fire(new la(e.type,this._map,e)),this._map.listens("contextmenu")&&e.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class As{constructor(e){this._map=e}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(e){return this.transform.screenPointToLocation(s.P.convert(e),this._map.terrain)}}class Na{constructor(e,n){this._map=e,this._tr=new As(e),this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=n.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(e,n){this.isEnabled()&&e.shiftKey&&e.button===0&&(ae.disableDrag(),this._startPos=this._lastPos=n,this._active=!0)}mousemoveWindow(e,n){if(!this._active)return;const u=n;if(this._lastPos.equals(u)||!this._box&&u.dist(this._startPos)<this._clickTolerance)return;const f=this._startPos;this._lastPos=u,this._box||(this._box=ae.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",e));const y=Math.min(f.x,u.x),C=Math.max(f.x,u.x),T=Math.min(f.y,u.y),k=Math.max(f.y,u.y);ae.setTransform(this._box,`translate(${y}px,${T}px)`),this._box.style.width=C-y+"px",this._box.style.height=k-T+"px"}mouseupWindow(e,n){if(!this._active||e.button!==0)return;const u=this._startPos,f=n;if(this.reset(),ae.suppressClick(),u.x!==f.x||u.y!==f.y)return this._map.fire(new s.l("boxzoomend",{originalEvent:e})),{cameraAnimation:y=>y.fitScreenCoordinates(u,f,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",e)}keydown(e){this._active&&e.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",e))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(ae.remove(this._box),this._box=null),ae.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(e,n){return this._map.fire(new s.l(e,{originalEvent:n}))}}function Qa(m,e){if(m.length!==e.length)throw new Error(`The number of touches and points are not equal - touches ${m.length}, points ${e.length}`);const n={};for(let u=0;u<m.length;u++)n[m[u].identifier]=e[u];return n}class vo{constructor(e){this.reset(),this.numTouches=e.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(e,n,u){(this.centroid||u.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=e.timeStamp),u.length===this.numTouches&&(this.centroid=function(f){const y=new s.P(0,0);for(const C of f)y._add(C);return y.div(f.length)}(n),this.touches=Qa(u,n)))}touchmove(e,n,u){if(this.aborted||!this.centroid)return;const f=Qa(u,n);for(const y in this.touches){const C=f[y];(!C||C.dist(this.touches[y])>30)&&(this.aborted=!0)}}touchend(e,n,u){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),u.length===0){const f=!this.aborted&&this.centroid;if(this.reset(),f)return f}}}class xl{constructor(e){this.singleTap=new vo(e),this.numTaps=e.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(e,n,u){this.singleTap.touchstart(e,n,u)}touchmove(e,n,u){this.singleTap.touchmove(e,n,u)}touchend(e,n,u){const f=this.singleTap.touchend(e,n,u);if(f){const y=e.timeStamp-this.lastTime<500,C=!this.lastTap||this.lastTap.dist(f)<30;if(y&&C||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=f,this.count===this.numTaps)return this.reset(),f}}}class Oo{constructor(e){this._tr=new As(e),this._zoomIn=new xl({numTouches:1,numTaps:2}),this._zoomOut=new xl({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(e,n,u){this._zoomIn.touchstart(e,n,u),this._zoomOut.touchstart(e,n,u)}touchmove(e,n,u){this._zoomIn.touchmove(e,n,u),this._zoomOut.touchmove(e,n,u)}touchend(e,n,u){const f=this._zoomIn.touchend(e,n,u),y=this._zoomOut.touchend(e,n,u),C=this._tr;return f?(this._active=!0,e.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:T=>T.easeTo({duration:300,zoom:C.zoom+1,around:C.unproject(f)},{originalEvent:e})}):y?(this._active=!0,e.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:T=>T.easeTo({duration:300,zoom:C.zoom-1,around:C.unproject(y)},{originalEvent:e})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Ea{constructor(e){this._enabled=!!e.enable,this._moveStateManager=e.moveStateManager,this._clickTolerance=e.clickTolerance||1,this._moveFunction=e.move,this._activateOnStart=!!e.activateOnStart,e.assignEvents(this),this.reset()}reset(e){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(e)}_move(...e){const n=this._moveFunction(...e);if(n.bearingDelta||n.pitchDelta||n.rollDelta||n.around||n.panDelta)return this._active=!0,n}dragStart(e,n){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(e)&&(this._moveStateManager.startMove(e),this._lastPoint=Array.isArray(n)?n[0]:n,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(e,n){if(!this.isEnabled())return;const u=this._lastPoint;if(!u)return;if(e.preventDefault(),!this._moveStateManager.isValidMoveEvent(e))return void this.reset(e);const f=Array.isArray(n)?n[0]:n;return!this._moved&&f.dist(u)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=f,this._move(u,f))}dragEnd(e){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(e)&&(this._moved&&ae.suppressClick(),this.reset(e))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const Ks={0:1,2:2};class cu{constructor(e){this._correctEvent=e.checkCorrectEvent}startMove(e){const n=ae.mouseButton(e);this._eventButton=n}endMove(e){delete this._eventButton}isValidStartEvent(e){return this._correctEvent(e)}isValidMoveEvent(e){return!function(n,u){const f=Ks[u];return n.buttons===void 0||(n.buttons&f)!==f}(e,this._eventButton)}isValidEndEvent(e){return ae.mouseButton(e)===this._eventButton}}class Ki{constructor(){this._firstTouch=void 0}_isOneFingerTouch(e){return e.targetTouches.length===1}_isSameTouchEvent(e){return e.targetTouches[0].identifier===this._firstTouch}startMove(e){this._firstTouch=e.targetTouches[0].identifier}endMove(e){delete this._firstTouch}isValidStartEvent(e){return this._isOneFingerTouch(e)}isValidMoveEvent(e){return this._isOneFingerTouch(e)&&this._isSameTouchEvent(e)}isValidEndEvent(e){return this._isOneFingerTouch(e)&&this._isSameTouchEvent(e)}}class hu{constructor(e=new cu({checkCorrectEvent:()=>!0}),n=new Ki){this.mouseMoveStateManager=e,this.oneFingerTouchMoveStateManager=n}_executeRelevantHandler(e,n,u){return e instanceof MouseEvent?n(e):typeof TouchEvent<"u"&&e instanceof TouchEvent?u(e):void 0}startMove(e){this._executeRelevantHandler(e,n=>this.mouseMoveStateManager.startMove(n),n=>this.oneFingerTouchMoveStateManager.startMove(n))}endMove(e){this._executeRelevantHandler(e,n=>this.mouseMoveStateManager.endMove(n),n=>this.oneFingerTouchMoveStateManager.endMove(n))}isValidStartEvent(e){return this._executeRelevantHandler(e,n=>this.mouseMoveStateManager.isValidStartEvent(n),n=>this.oneFingerTouchMoveStateManager.isValidStartEvent(n))}isValidMoveEvent(e){return this._executeRelevantHandler(e,n=>this.mouseMoveStateManager.isValidMoveEvent(n),n=>this.oneFingerTouchMoveStateManager.isValidMoveEvent(n))}isValidEndEvent(e){return this._executeRelevantHandler(e,n=>this.mouseMoveStateManager.isValidEndEvent(n),n=>this.oneFingerTouchMoveStateManager.isValidEndEvent(n))}}const Xs=m=>{m.mousedown=m.dragStart,m.mousemoveWindow=m.dragMove,m.mouseup=m.dragEnd,m.contextmenu=e=>{e.preventDefault()}};class Qc{constructor(e,n){this._clickTolerance=e.clickTolerance||1,this._map=n,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new s.P(0,0)}_shouldBePrevented(e){return e<(this._map.cooperativeGestures.isEnabled()?2:1)}touchstart(e,n,u){return this._calculateTransform(e,n,u)}touchmove(e,n,u){if(this._active){if(!this._shouldBePrevented(u.length))return e.preventDefault(),this._calculateTransform(e,n,u);this._map.cooperativeGestures.notifyGestureBlocked("touch_pan",e)}}touchend(e,n,u){this._calculateTransform(e,n,u),this._active&&this._shouldBePrevented(u.length)&&this.reset()}touchcancel(){this.reset()}_calculateTransform(e,n,u){u.length>0&&(this._active=!0);const f=Qa(u,n),y=new s.P(0,0),C=new s.P(0,0);let T=0;for(const z in f){const O=f[z],W=this._touches[z];W&&(y._add(O),C._add(O.sub(W)),T++,f[z]=O)}if(this._touches=f,this._shouldBePrevented(T)||!C.mag())return;const k=C.div(T);return this._sum._add(k),this._sum.mag()<this._clickTolerance?void 0:{around:y.div(T),panDelta:k}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class vc{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(e,n,u){this._firstTwoTouches||u.length<2||(this._firstTwoTouches=[u[0].identifier,u[1].identifier],this._start([n[0],n[1]]))}touchmove(e,n,u){if(!this._firstTwoTouches)return;e.preventDefault();const[f,y]=this._firstTwoTouches,C=xc(u,n,f),T=xc(u,n,y);if(!C||!T)return;const k=this._aroundCenter?null:C.add(T).div(2);return this._move([C,T],k,e)}touchend(e,n,u){if(!this._firstTwoTouches)return;const[f,y]=this._firstTwoTouches,C=xc(u,n,f),T=xc(u,n,y);C&&T||(this._active&&ae.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(e){this._enabled=!0,this._aroundCenter=!!e&&e.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function xc(m,e,n){for(let u=0;u<m.length;u++)if(m[u].identifier===n)return e[u]}function l0(m,e){return Math.log(m/e)/Math.LN2}class Ss extends vc{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(e){this._startDistance=this._distance=e[0].dist(e[1])}_move(e,n){const u=this._distance;if(this._distance=e[0].dist(e[1]),this._active||!(Math.abs(l0(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:l0(this._distance,u),pinchAround:n}}}function Fo(m,e){return 180*m.angleWith(e)/Math.PI}class un extends vc{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1])}_move(e,n,u){const f=this._vector;if(this._vector=e[0].sub(e[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Fo(this._vector,f),pinchAround:n}}_isBelowThreshold(e){this._minDiameter=Math.min(this._minDiameter,e.mag());const n=25/(Math.PI*this._minDiameter)*360,u=Fo(e,this._startVector);return Math.abs(u)<n}}function pu(m){return Math.abs(m.y)>Math.abs(m.x)}class du extends vc{constructor(e){super(),this._currentTouchCount=0,this._map=e}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(e,n,u){super.touchstart(e,n,u),this._currentTouchCount=u.length}_start(e){this._lastPoints=e,pu(e[0].sub(e[1]))&&(this._valid=!1)}_move(e,n,u){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;const f=e[0].sub(this._lastPoints[0]),y=e[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(f,y,u.timeStamp),this._valid?(this._lastPoints=e,this._active=!0,{pitchDelta:(f.y+y.y)/2*-.5}):void 0}gestureBeginsVertically(e,n,u){if(this._valid!==void 0)return this._valid;const f=e.mag()>=2,y=n.mag()>=2;if(!f&&!y)return;if(!f||!y)return this._firstMove===void 0&&(this._firstMove=u),u-this._firstMove<100&&void 0;const C=e.y>0==n.y>0;return pu(e)&&pu(n)&&C}}const Ts={panStep:100,bearingStep:15,pitchStep:10};class Ja{constructor(e){this._tr=new As(e);const n=Ts;this._panStep=n.panStep,this._bearingStep=n.bearingStep,this._pitchStep=n.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(e){if(e.altKey||e.ctrlKey||e.metaKey)return;let n=0,u=0,f=0,y=0,C=0;switch(e.keyCode){case 61:case 107:case 171:case 187:n=1;break;case 189:case 109:case 173:n=-1;break;case 37:e.shiftKey?u=-1:(e.preventDefault(),y=-1);break;case 39:e.shiftKey?u=1:(e.preventDefault(),y=1);break;case 38:e.shiftKey?f=1:(e.preventDefault(),C=-1);break;case 40:e.shiftKey?f=-1:(e.preventDefault(),C=1);break;default:return}return this._rotationDisabled&&(u=0,f=0),{cameraAnimation:T=>{const k=this._tr;T.easeTo({duration:300,easeId:"keyboardHandler",easing:bl,zoom:n?Math.round(k.zoom)+n*(e.shiftKey?2:1):k.zoom,bearing:k.bearing+u*this._bearingStep,pitch:k.pitch+f*this._pitchStep,offset:[-y*this._panStep,-C*this._panStep],center:k.center},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function bl(m){return m*(2-m)}const Ys=4.000244140625;class lr{constructor(e,n){this._onTimeout=u=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(u)},this._map=e,this._tr=new As(e),this._triggerRenderFrame=n,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(e){this._defaultZoomRate=e}setWheelZoomRate(e){this._wheelZoomRate=e}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!e&&e.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}_shouldBePrevented(e){return!!this._map.cooperativeGestures.isEnabled()&&!(e.ctrlKey||this._map.cooperativeGestures.isBypassed(e))}wheel(e){if(!this.isEnabled())return;if(this._shouldBePrevented(e))return void this._map.cooperativeGestures.notifyGestureBlocked("wheel_zoom",e);let n=e.deltaMode===WheelEvent.DOM_DELTA_LINE?40*e.deltaY:e.deltaY;const u=ce.now(),f=u-(this._lastWheelEventTime||0);this._lastWheelEventTime=u,n!==0&&n%Ys==0?this._type="wheel":n!==0&&Math.abs(n)<4?this._type="trackpad":f>400?(this._type=null,this._lastValue=n,this._timeout=setTimeout(this._onTimeout,40,e)):this._type||(this._type=Math.abs(f*n)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,n+=this._lastValue)),e.shiftKey&&n&&(n/=4),this._type&&(this._lastWheelEvent=e,this._delta-=n,this._active||this._start(e)),e.preventDefault()}_start(e){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const n=ae.mousePos(this._map.getCanvas(),e),u=this._tr;this._aroundPoint=this._aroundCenter?u.transform.locationToScreenPoint(s.Q.convert(u.center)):n,this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const e=this._tr.transform;if(typeof this._lastExpectedZoom=="number"){const T=e.zoom-this._lastExpectedZoom;typeof this._startZoom=="number"&&(this._startZoom+=T),typeof this._targetZoom=="number"&&(this._targetZoom+=T)}if(this._delta!==0){const T=this._type==="wheel"&&Math.abs(this._delta)>Ys?this._wheelZoomRate:this._defaultZoomRate;let k=2/(1+Math.exp(-Math.abs(this._delta*T)));this._delta<0&&k!==0&&(k=1/k);const z=typeof this._targetZoom!="number"?e.scale:s.ac(this._targetZoom);this._targetZoom=e.getConstrained(e.getCameraLngLat(),s.ah(z*k)).zoom,this._type==="wheel"&&(this._startZoom=e.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const n=typeof this._targetZoom!="number"?e.zoom:this._targetZoom,u=this._startZoom,f=this._easing;let y,C=!1;if(this._type==="wheel"&&u&&f){const T=ce.now()-this._lastWheelEventTime,k=Math.min((T+5)/200,1),z=f(k);y=s.B.number(u,n,z),k<1?this._frameId||(this._frameId=!0):C=!0}else y=n,C=!0;return this._active=!0,C&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._lastExpectedZoom,delete this._finishTimeout},200)),this._lastExpectedZoom=y,{noInertia:!0,needsRenderFrame:!C,zoomDelta:y-e.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(e){let n=s.cf;if(this._prevEase){const u=this._prevEase,f=(ce.now()-u.start)/u.duration,y=u.easing(f+.01)-u.easing(f),C=.27/Math.sqrt(y*y+1e-4)*.01,T=Math.sqrt(.0729-C*C);n=s.cd(C,T,.25,1)}return this._prevEase={start:ce.now(),duration:e,easing:n},n}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,delete this._lastExpectedZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class $l{constructor(e,n){this._clickZoom=e,this._tapZoom=n}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class bp{constructor(e){this._tr=new As(e),this.reset()}reset(){this._active=!1}dblclick(e,n){return e.preventDefault(),{cameraAnimation:u=>{u.easeTo({duration:300,zoom:this._tr.zoom+(e.shiftKey?-1:1),around:this._tr.unproject(n)},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class fu{constructor(){this._tap=new xl({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(e,n,u){if(!this._swipePoint)if(this._tapTime){const f=n[0],y=e.timeStamp-this._tapTime<500,C=this._tapPoint.dist(f)<30;y&&C?u.length>0&&(this._swipePoint=f,this._swipeTouch=u[0].identifier):this.reset()}else this._tap.touchstart(e,n,u)}touchmove(e,n,u){if(this._tapTime){if(this._swipePoint){if(u[0].identifier!==this._swipeTouch)return;const f=n[0],y=f.y-this._swipePoint.y;return this._swipePoint=f,e.preventDefault(),this._active=!0,{zoomDelta:y/128}}}else this._tap.touchmove(e,n,u)}touchend(e,n,u){if(this._tapTime)this._swipePoint&&u.length===0&&this.reset();else{const f=this._tap.touchend(e,n,u);f&&(this._tapTime=e.timeStamp,this._tapPoint=f)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class L0{constructor(e,n,u){this._el=e,this._mousePan=n,this._touchPan=u}enable(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class eo{constructor(e,n,u,f){this._pitchWithRotate=e.pitchWithRotate,this._rollEnabled=e.rollEnabled,this._mouseRotate=n,this._mousePitch=u,this._mouseRoll=f}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable(),this._rollEnabled&&this._mouseRoll.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable(),this._mouseRoll.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())&&(!this._rollEnabled||this._mouseRoll.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()||this._mouseRoll.isActive()}}class No{constructor(e,n,u,f){this._el=e,this._touchZoom=n,this._touchRotate=u,this._tapDragZoom=f,this._rotationDisabled=!1,this._enabled=!0}enable(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class _i{constructor(e,n){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=e,this._options=n,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;const e=this._map.getCanvasContainer();e.classList.add("maplibregl-cooperative-gestures"),this._container=ae.create("div","maplibregl-cooperative-gesture-screen",e);let n=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(n=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));const u=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),f=document.createElement("div");f.className="maplibregl-desktop-message",f.textContent=n,this._container.appendChild(f);const y=document.createElement("div");y.className="maplibregl-mobile-message",y.textContent=u,this._container.appendChild(y),this._container.setAttribute("aria-hidden","true")}_destroyUI(){this._container&&(ae.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destroyUI()}isEnabled(){return this._enabled}isBypassed(e){return e[this._bypassKey]}notifyGestureBlocked(e,n){this._enabled&&(this._map.fire(new s.l("cooperativegestureprevented",{gestureType:e,originalEvent:n})),this._container.classList.add("maplibregl-show"),setTimeout(()=>{this._container.classList.remove("maplibregl-show")},100))}}const $o=m=>m.zoom||m.drag||m.roll||m.pitch||m.rotate;class jl extends s.l{}function gu(m){return m.panDelta&&m.panDelta.mag()||m.zoomDelta||m.bearingDelta||m.pitchDelta||m.rollDelta}class u0{constructor(e,n){this.handleWindowEvent=f=>{this.handleEvent(f,`${f.type}Window`)},this.handleEvent=(f,y)=>{if(f.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const C=f.type==="renderFrame"?void 0:f,T={needsRenderFrame:!1},k={},z={};for(const{handlerName:Z,handler:Q,allowed:ie}of this._handlers){if(!Q.isEnabled())continue;let Ce;if(this._blockedByActive(z,ie,Z))Q.reset();else if(Q[y||f.type]){if(s.cg(f,y||f.type)){const we=ae.mousePos(this._map.getCanvas(),f);Ce=Q[y||f.type](f,we)}else if(s.ch(f,y||f.type)){const we=this._getMapTouches(f.touches),De=ae.touchPos(this._map.getCanvas(),we);Ce=Q[y||f.type](f,De,we)}else s.ci(y||f.type)||(Ce=Q[y||f.type](f));this.mergeHandlerResult(T,k,Ce,Z,C),Ce&&Ce.needsRenderFrame&&this._triggerRenderFrame()}(Ce||Q.isActive())&&(z[Z]=Q)}const O={};for(const Z in this._previousActiveHandlers)z[Z]||(O[Z]=C);this._previousActiveHandlers=z,(Object.keys(O).length||gu(T))&&(this._changes.push([T,k,O]),this._triggerRenderFrame()),(Object.keys(z).length||gu(T))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:W}=T;W&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],W(this._map))},this._map=e,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Ya(e),this._bearingSnap=n.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(n);const u=this._el;this._listeners=[[u,"touchstart",{passive:!0}],[u,"touchmove",{passive:!1}],[u,"touchend",void 0],[u,"touchcancel",void 0],[u,"mousedown",void 0],[u,"mousemove",void 0],[u,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[u,"mouseover",void 0],[u,"mouseout",void 0],[u,"dblclick",void 0],[u,"click",void 0],[u,"keydown",{capture:!1}],[u,"keyup",void 0],[u,"wheel",{passive:!1}],[u,"contextmenu",void 0],[window,"blur",void 0]];for(const[f,y,C]of this._listeners)ae.addEventListener(f,y,f===document?this.handleWindowEvent:this.handleEvent,C)}destroy(){for(const[e,n,u]of this._listeners)ae.removeEventListener(e,n,e===document?this.handleWindowEvent:this.handleEvent,u)}_addDefaultHandlers(e){const n=this._map,u=n.getCanvasContainer();this._add("mapEvent",new Ti(n,e));const f=n.boxZoom=new Na(n,e);this._add("boxZoom",f),e.interactive&&e.boxZoom&&f.enable();const y=n.cooperativeGestures=new _i(n,e.cooperativeGestures);this._add("cooperativeGestures",y),e.cooperativeGestures&&y.enable();const C=new Oo(n),T=new bp(n);n.doubleClickZoom=new $l(T,C),this._add("tapZoom",C),this._add("clickZoom",T),e.interactive&&e.doubleClickZoom&&n.doubleClickZoom.enable();const k=new fu;this._add("tapDragZoom",k);const z=n.touchPitch=new du(n);this._add("touchPitch",z),e.interactive&&e.touchPitch&&n.touchPitch.enable(e.touchPitch);const O=()=>n.project(n.getCenter()),W=function({enable:Ee,clickTolerance:Be,aroundCenter:je=!0,minPixelCenterThreshold:Ve=100,rotateDegreesPerPixelMoved:lt=.8},At){const rt=new cu({checkCorrectEvent:ht=>ae.mouseButton(ht)===0&&ht.ctrlKey||ae.mouseButton(ht)===2&&!ht.ctrlKey});return new Ea({clickTolerance:Be,move:(ht,Dt)=>{const nn=At();if(je&&Math.abs(nn.y-ht.y)>Ve)return{bearingDelta:s.ce(new s.P(ht.x,Dt.y),Dt,nn)};let rn=(Dt.x-ht.x)*lt;return je&&Dt.y<nn.y&&(rn=-rn),{bearingDelta:rn}},moveStateManager:rt,enable:Ee,assignEvents:Xs})}(e,O),Z=function({enable:Ee,clickTolerance:Be,pitchDegreesPerPixelMoved:je=-.5}){const Ve=new cu({checkCorrectEvent:lt=>ae.mouseButton(lt)===0&&lt.ctrlKey||ae.mouseButton(lt)===2});return new Ea({clickTolerance:Be,move:(lt,At)=>({pitchDelta:(At.y-lt.y)*je}),moveStateManager:Ve,enable:Ee,assignEvents:Xs})}(e),Q=function({enable:Ee,clickTolerance:Be,rollDegreesPerPixelMoved:je=.3},Ve){const lt=new cu({checkCorrectEvent:At=>ae.mouseButton(At)===2&&At.ctrlKey});return new Ea({clickTolerance:Be,move:(At,rt)=>{const ht=Ve();let Dt=(rt.x-At.x)*je;return rt.y<ht.y&&(Dt=-Dt),{rollDelta:Dt}},moveStateManager:lt,enable:Ee,assignEvents:Xs})}(e,O);n.dragRotate=new eo(e,W,Z,Q),this._add("mouseRotate",W,["mousePitch"]),this._add("mousePitch",Z,["mouseRotate","mouseRoll"]),this._add("mouseRoll",Q,["mousePitch"]),e.interactive&&e.dragRotate&&n.dragRotate.enable();const ie=function({enable:Ee,clickTolerance:Be}){const je=new cu({checkCorrectEvent:Ve=>ae.mouseButton(Ve)===0&&!Ve.ctrlKey});return new Ea({clickTolerance:Be,move:(Ve,lt)=>({around:lt,panDelta:lt.sub(Ve)}),activateOnStart:!0,moveStateManager:je,enable:Ee,assignEvents:Xs})}(e),Ce=new Qc(e,n);n.dragPan=new L0(u,ie,Ce),this._add("mousePan",ie),this._add("touchPan",Ce,["touchZoom","touchRotate"]),e.interactive&&e.dragPan&&n.dragPan.enable(e.dragPan);const we=new un,De=new Ss;n.touchZoomRotate=new No(u,De,we,k),this._add("touchRotate",we,["touchPan","touchZoom"]),this._add("touchZoom",De,["touchPan","touchRotate"]),e.interactive&&e.touchZoomRotate&&n.touchZoomRotate.enable(e.touchZoomRotate);const ke=n.scrollZoom=new lr(n,()=>this._triggerRenderFrame());this._add("scrollZoom",ke,["mousePan"]),e.interactive&&e.scrollZoom&&n.scrollZoom.enable(e.scrollZoom);const Le=n.keyboard=new Ja(n);this._add("keyboard",Le),e.interactive&&e.keyboard&&n.keyboard.enable(),this._add("blockableMapEvent",new Ii(n))}_add(e,n,u){this._handlers.push({handlerName:e,handler:n,allowed:u}),this._handlersById[e]=n}stop(e){if(!this._updatingCamera){for(const{handler:n}of this._handlers)n.reset();this._inertia.clear(),this._fireEvents({},{},e),this._changes=[]}}isActive(){for(const{handler:e}of this._handlers)if(e.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!$o(this._eventsInProgress)||this.isZooming()}_blockedByActive(e,n,u){for(const f in e)if(f!==u&&(!n||n.indexOf(f)<0))return!0;return!1}_getMapTouches(e){const n=[];for(const u of e)this._el.contains(u.target)&&n.push(u);return n}mergeHandlerResult(e,n,u,f,y){if(!u)return;s.e(e,u);const C={handlerName:f,originalEvent:u.originalEvent||y};u.zoomDelta!==void 0&&(n.zoom=C),u.panDelta!==void 0&&(n.drag=C),u.rollDelta!==void 0&&(n.roll=C),u.pitchDelta!==void 0&&(n.pitch=C),u.bearingDelta!==void 0&&(n.rotate=C)}_applyChanges(){const e={},n={},u={};for(const[f,y,C]of this._changes)f.panDelta&&(e.panDelta=(e.panDelta||new s.P(0,0))._add(f.panDelta)),f.zoomDelta&&(e.zoomDelta=(e.zoomDelta||0)+f.zoomDelta),f.bearingDelta&&(e.bearingDelta=(e.bearingDelta||0)+f.bearingDelta),f.pitchDelta&&(e.pitchDelta=(e.pitchDelta||0)+f.pitchDelta),f.rollDelta&&(e.rollDelta=(e.rollDelta||0)+f.rollDelta),f.around!==void 0&&(e.around=f.around),f.pinchAround!==void 0&&(e.pinchAround=f.pinchAround),f.noInertia&&(e.noInertia=f.noInertia),s.e(n,y),s.e(u,C);this._updateMapTransform(e,n,u),this._changes=[]}_updateMapTransform(e,n,u){const f=this._map,y=f._getTransformForUpdate(),C=f.terrain;if(!(gu(e)||C&&this._terrainMovement))return this._fireEvents(n,u,!0);f._stop(!0);let{panDelta:T,zoomDelta:k,bearingDelta:z,pitchDelta:O,rollDelta:W,around:Z,pinchAround:Q}=e;Q!==void 0&&(Z=Q),Z=Z||f.transform.centerPoint,C&&!y.isPointOnMapSurface(Z)&&(Z=y.centerPoint);const ie={panDelta:T,zoomDelta:k,rollDelta:W,pitchDelta:O,bearingDelta:z,around:Z};this._map.cameraHelper.useGlobeControls&&!y.isPointOnMapSurface(Z)&&(Z=y.centerPoint);const Ce=Z.distSqr(y.centerPoint)<.01?y.center:y.screenPointToLocation(T?Z.sub(T):Z);C?(this._map.cameraHelper.handleMapControlsRollPitchBearingZoom(ie,y),this._terrainMovement||!n.drag&&!n.zoom?n.drag&&this._terrainMovement?y.setCenter(y.screenPointToLocation(y.centerPoint.sub(T))):this._map.cameraHelper.handleMapControlsPan(ie,y,Ce):(this._terrainMovement=!0,this._map._elevationFreeze=!0,this._map.cameraHelper.handleMapControlsPan(ie,y,Ce))):(this._map.cameraHelper.handleMapControlsRollPitchBearingZoom(ie,y),this._map.cameraHelper.handleMapControlsPan(ie,y,Ce)),f._applyUpdatedTransform(y),this._map._update(),e.noInertia||this._inertia.record(e),this._fireEvents(n,u,!0)}_fireEvents(e,n,u){const f=$o(this._eventsInProgress),y=$o(e),C={};for(const W in e){const{originalEvent:Z}=e[W];this._eventsInProgress[W]||(C[`${W}start`]=Z),this._eventsInProgress[W]=e[W]}!f&&y&&this._fireEvent("movestart",y.originalEvent);for(const W in C)this._fireEvent(W,C[W]);y&&this._fireEvent("move",y.originalEvent);for(const W in e){const{originalEvent:Z}=e[W];this._fireEvent(W,Z)}const T={};let k;for(const W in this._eventsInProgress){const{handlerName:Z,originalEvent:Q}=this._eventsInProgress[W];this._handlersById[Z].isActive()||(delete this._eventsInProgress[W],k=n[Z]||Q,T[`${W}end`]=k)}for(const W in T)this._fireEvent(W,T[W]);const z=$o(this._eventsInProgress),O=(f||y)&&!z;if(O&&this._terrainMovement){this._map._elevationFreeze=!1,this._terrainMovement=!1;const W=this._map._getTransformForUpdate();this._map.getCenterClampedToGround()&&W.recalculateZoomAndCenter(this._map.terrain),this._map._applyUpdatedTransform(W)}if(u&&O){this._updatingCamera=!0;const W=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Z=Q=>Q!==0&&-this._bearingSnap<Q&&Q<this._bearingSnap;!W||!W.essential&&ce.prefersReducedMotion?(this._map.fire(new s.l("moveend",{originalEvent:k})),Z(this._map.getBearing())&&this._map.resetNorth()):(Z(W.bearing||this._map.getBearing())&&(W.bearing=0),W.freezeElevation=!0,this._map.easeTo(W,{originalEvent:k})),this._updatingCamera=!1}}_fireEvent(e,n){this._map.fire(new s.l(e,n?{originalEvent:n}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(e=>{delete this._frameId,this.handleEvent(new jl("renderFrame",{timeStamp:e})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class us extends s.E{constructor(e,n,u){super(),this._renderFrameCallback=()=>{const f=Math.min((ce.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(f)),f<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=e,this._bearingSnap=u.bearingSnap,this.cameraHelper=n,this.on("moveend",()=>{delete this._requestedCameraState})}migrateProjection(e,n){e.apply(this.transform),this.transform=e,this.cameraHelper=n}getCenter(){return new s.Q(this.transform.center.lng,this.transform.center.lat)}setCenter(e,n){return this.jumpTo({center:e},n)}getCenterElevation(){return this.transform.elevation}setCenterElevation(e,n){return this.jumpTo({elevation:e},n),this}getCenterClampedToGround(){return this._centerClampedToGround}setCenterClampedToGround(e){this._centerClampedToGround=e}panBy(e,n,u){return e=s.P.convert(e).mult(-1),this.panTo(this.transform.center,s.e({offset:e},n),u)}panTo(e,n,u){return this.easeTo(s.e({center:e},n),u)}getZoom(){return this.transform.zoom}setZoom(e,n){return this.jumpTo({zoom:e},n),this}zoomTo(e,n,u){return this.easeTo(s.e({zoom:e},n),u)}zoomIn(e,n){return this.zoomTo(this.getZoom()+1,e,n),this}zoomOut(e,n){return this.zoomTo(this.getZoom()-1,e,n),this}getVerticalFieldOfView(){return this.transform.fov}setVerticalFieldOfView(e,n){return e!=this.transform.fov&&(this.transform.setFov(e),this.fire(new s.l("movestart",n)).fire(new s.l("move",n)).fire(new s.l("moveend",n))),this}getBearing(){return this.transform.bearing}setBearing(e,n){return this.jumpTo({bearing:e},n),this}getPadding(){return this.transform.padding}setPadding(e,n){return this.jumpTo({padding:e},n),this}rotateTo(e,n,u){return this.easeTo(s.e({bearing:e},n),u)}resetNorth(e,n){return this.rotateTo(0,s.e({duration:1e3},e),n),this}resetNorthPitch(e,n){return this.easeTo(s.e({bearing:0,pitch:0,roll:0,duration:1e3},e),n),this}snapToNorth(e,n){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,n):this}getPitch(){return this.transform.pitch}setPitch(e,n){return this.jumpTo({pitch:e},n),this}getRoll(){return this.transform.roll}setRoll(e,n){return this.jumpTo({roll:e},n),this}cameraForBounds(e,n){e=yn.convert(e).adjustAntiMeridian();const u=n&&n.bearing||0;return this._cameraForBoxAndBearing(e.getNorthWest(),e.getSouthEast(),u,n)}_cameraForBoxAndBearing(e,n,u,f){const y={top:0,bottom:0,right:0,left:0};if(typeof(f=s.e({padding:y,offset:[0,0],maxZoom:this.transform.maxZoom},f)).padding=="number"){const z=f.padding;f.padding={top:z,bottom:z,right:z,left:z}}const C=s.e(y,f.padding);f.padding=C;const T=this.transform,k=new yn(e,n);return this.cameraHelper.cameraForBoxAndBearing(f,C,k,u,T)}fitBounds(e,n,u){return this._fitInternal(this.cameraForBounds(e,n),n,u)}fitScreenCoordinates(e,n,u,f,y){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.screenPointToLocation(s.P.convert(e)),this.transform.screenPointToLocation(s.P.convert(n)),u,f),f,y)}_fitInternal(e,n,u){return e?(delete(n=s.e(e,n)).padding,n.linear?this.easeTo(n,u):this.flyTo(n,u)):this}jumpTo(e,n){this.stop();const u=this._getTransformForUpdate();let f=!1,y=!1,C=!1;const T=u.zoom;this.cameraHelper.handleJumpToCenterZoom(u,e);const k=u.zoom!==T;return"elevation"in e&&u.elevation!==+e.elevation&&u.setElevation(+e.elevation),"bearing"in e&&u.bearing!==+e.bearing&&(f=!0,u.setBearing(+e.bearing)),"pitch"in e&&u.pitch!==+e.pitch&&(y=!0,u.setPitch(+e.pitch)),"roll"in e&&u.roll!==+e.roll&&(C=!0,u.setRoll(+e.roll)),e.padding==null||u.isPaddingEqual(e.padding)||u.setPadding(e.padding),this._applyUpdatedTransform(u),this.fire(new s.l("movestart",n)).fire(new s.l("move",n)),k&&this.fire(new s.l("zoomstart",n)).fire(new s.l("zoom",n)).fire(new s.l("zoomend",n)),f&&this.fire(new s.l("rotatestart",n)).fire(new s.l("rotate",n)).fire(new s.l("rotateend",n)),y&&this.fire(new s.l("pitchstart",n)).fire(new s.l("pitch",n)).fire(new s.l("pitchend",n)),C&&this.fire(new s.l("rollstart",n)).fire(new s.l("roll",n)).fire(new s.l("rollend",n)),this.fire(new s.l("moveend",n))}calculateCameraOptionsFromTo(e,n,u,f=0){const y=s.$.fromLngLat(e,n),C=s.$.fromLngLat(u,f),T=C.x-y.x,k=C.y-y.y,z=C.z-y.z,O=Math.hypot(T,k,z);if(O===0)throw new Error("Can't calculate camera options with same From and To");const W=Math.hypot(T,k),Z=s.ah(this.transform.cameraToCenterDistance/O/this.transform.tileSize),Q=180*Math.atan2(T,-k)/Math.PI;let ie=180*Math.acos(W/O)/Math.PI;return ie=z<0?90-ie:90+ie,{center:C.toLngLat(),elevation:f,zoom:Z,pitch:ie,bearing:Q}}calculateCameraOptionsFromCameraLngLatAltRotation(e,n,u,f,y){const C=this.transform.calculateCenterFromCameraLngLatAlt(e,n,u,f);return{center:C.center,elevation:C.elevation,zoom:C.zoom,bearing:u,pitch:f,roll:y}}easeTo(e,n){this._stop(!1,e.easeId),((e=s.e({offset:[0,0],duration:500,easing:s.cf},e)).animate===!1||!e.essential&&ce.prefersReducedMotion)&&(e.duration=0);const u=this._getTransformForUpdate(),f=this.getBearing(),y=u.pitch,C=u.roll,T="bearing"in e?this._normalizeBearing(e.bearing,f):f,k="pitch"in e?+e.pitch:y,z="roll"in e?this._normalizeBearing(e.roll,C):C,O="padding"in e?e.padding:u.padding,W=s.P.convert(e.offset);let Z,Q;e.around&&(Z=s.Q.convert(e.around),Q=u.locationToScreenPoint(Z));const ie={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching,rolling:this._rolling},Ce=this.cameraHelper.handleEaseTo(u,{bearing:T,pitch:k,roll:z,padding:O,around:Z,aroundPoint:Q,offsetAsPoint:W,offset:e.offset,zoom:e.zoom,center:e.center});return this._rotating=this._rotating||f!==T,this._pitching=this._pitching||k!==y,this._rolling=this._rolling||z!==C,this._padding=!u.isPaddingEqual(O),this._zooming=this._zooming||Ce.isZooming,this._easeId=e.easeId,this._prepareEase(n,e.noMoveStart,ie),this.terrain&&this._prepareElevation(Ce.elevationCenter),this._ease(we=>{Ce.easeFunc(we),this.terrain&&!e.freezeElevation&&this._updateElevation(we),this._applyUpdatedTransform(u),this._fireMoveEvents(n)},we=>{this.terrain&&e.freezeElevation&&this._finalizeElevation(),this._afterEase(n,we)},e),this}_prepareEase(e,n,u={}){this._moving=!0,n||u.moving||this.fire(new s.l("movestart",e)),this._zooming&&!u.zooming&&this.fire(new s.l("zoomstart",e)),this._rotating&&!u.rotating&&this.fire(new s.l("rotatestart",e)),this._pitching&&!u.pitching&&this.fire(new s.l("pitchstart",e)),this._rolling&&!u.rolling&&this.fire(new s.l("rollstart",e))}_prepareElevation(e){this._elevationCenter=e,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(e,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(e){this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom));const n=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(e<1&&n!==this._elevationTarget){const u=this._elevationTarget-this._elevationStart;this._elevationStart+=e*(u-(n-(u*e+this._elevationStart))/(1-e)),this._elevationTarget=n}this.transform.setElevation(s.B.number(this._elevationStart,this._elevationTarget,e))}_finalizeElevation(){this._elevationFreeze=!1,this.getCenterClampedToGround()&&this.transform.recalculateZoomAndCenter(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate||this.terrain?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_elevateCameraIfInsideTerrain(e){if(!this.terrain&&e.elevation>=0&&e.pitch<=90)return{};const n=e.getCameraLngLat(),u=e.getCameraAltitude(),f=this.terrain?this.terrain.getElevationForLngLatZoom(n,e.zoom):0;if(u<f){const y=this.calculateCameraOptionsFromTo(n,f,e.center,e.elevation);return{pitch:y.pitch,zoom:y.zoom}}return{}}_applyUpdatedTransform(e){const n=[];if(n.push(f=>this._elevateCameraIfInsideTerrain(f)),this.transformCameraUpdate&&n.push(f=>this.transformCameraUpdate(f)),!n.length)return;const u=e.clone();for(const f of n){const y=u.clone(),{center:C,zoom:T,roll:k,pitch:z,bearing:O,elevation:W}=f(y);C&&y.setCenter(C),W!==void 0&&y.setElevation(W),T!==void 0&&y.setZoom(T),k!==void 0&&y.setRoll(k),z!==void 0&&y.setPitch(z),O!==void 0&&y.setBearing(O),u.apply(y)}this.transform.apply(u)}_fireMoveEvents(e){this.fire(new s.l("move",e)),this._zooming&&this.fire(new s.l("zoom",e)),this._rotating&&this.fire(new s.l("rotate",e)),this._pitching&&this.fire(new s.l("pitch",e)),this._rolling&&this.fire(new s.l("roll",e))}_afterEase(e,n){if(this._easeId&&n&&this._easeId===n)return;delete this._easeId;const u=this._zooming,f=this._rotating,y=this._pitching,C=this._rolling;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._rolling=!1,this._padding=!1,u&&this.fire(new s.l("zoomend",e)),f&&this.fire(new s.l("rotateend",e)),y&&this.fire(new s.l("pitchend",e)),C&&this.fire(new s.l("rollend",e)),this.fire(new s.l("moveend",e))}flyTo(e,n){if(!e.essential&&ce.prefersReducedMotion){const Dt=s.O(e,["center","zoom","bearing","pitch","roll","elevation"]);return this.jumpTo(Dt,n)}this.stop(),e=s.e({offset:[0,0],speed:1.2,curve:1.42,easing:s.cf},e);const u=this._getTransformForUpdate(),f=u.bearing,y=u.pitch,C=u.roll,T=u.padding,k="bearing"in e?this._normalizeBearing(e.bearing,f):f,z="pitch"in e?+e.pitch:y,O="roll"in e?this._normalizeBearing(e.roll,C):C,W="padding"in e?e.padding:u.padding,Z=s.P.convert(e.offset);let Q=u.centerPoint.add(Z);const ie=u.screenPointToLocation(Q),Ce=this.cameraHelper.handleFlyTo(u,{bearing:k,pitch:z,roll:O,padding:W,locationAtOffset:ie,offsetAsPoint:Z,center:e.center,minZoom:e.minZoom,zoom:e.zoom});let we=e.curve;const De=Math.max(u.width,u.height),ke=De/Ce.scaleOfZoom,Le=Ce.pixelPathLength;typeof Ce.scaleOfMinZoom=="number"&&(we=Math.sqrt(De/Ce.scaleOfMinZoom/Le*2));const Ee=we*we;function Be(Dt){const nn=(ke*ke-De*De+(Dt?-1:1)*Ee*Ee*Le*Le)/(2*(Dt?ke:De)*Ee*Le);return Math.log(Math.sqrt(nn*nn+1)-nn)}function je(Dt){return(Math.exp(Dt)-Math.exp(-Dt))/2}function Ve(Dt){return(Math.exp(Dt)+Math.exp(-Dt))/2}const lt=Be(!1);let At=function(Dt){return Ve(lt)/Ve(lt+we*Dt)},rt=function(Dt){return De*((Ve(lt)*(je(nn=lt+we*Dt)/Ve(nn))-je(lt))/Ee)/Le;var nn},ht=(Be(!0)-lt)/we;if(Math.abs(Le)<2e-6||!isFinite(ht)){if(Math.abs(De-ke)<1e-6)return this.easeTo(e,n);const Dt=ke<De?-1:1;ht=Math.abs(Math.log(ke/De))/we,rt=()=>0,At=nn=>Math.exp(Dt*we*nn)}return e.duration="duration"in e?+e.duration:1e3*ht/("screenSpeed"in e?+e.screenSpeed/we:+e.speed),e.maxDuration&&e.duration>e.maxDuration&&(e.duration=0),this._zooming=!0,this._rotating=f!==k,this._pitching=z!==y,this._rolling=O!==C,this._padding=!u.isPaddingEqual(W),this._prepareEase(n,!1),this.terrain&&this._prepareElevation(Ce.targetCenter),this._ease(Dt=>{const nn=Dt*ht,rn=1/At(nn),Gt=rt(nn);this._rotating&&u.setBearing(s.B.number(f,k,Dt)),this._pitching&&u.setPitch(s.B.number(y,z,Dt)),this._rolling&&u.setRoll(s.B.number(C,O,Dt)),this._padding&&(u.interpolatePadding(T,W,Dt),Q=u.centerPoint.add(Z)),Ce.easeFunc(Dt,rn,Gt,Q),this.terrain&&!e.freezeElevation&&this._updateElevation(Dt),this._applyUpdatedTransform(u),this._fireMoveEvents(n)},()=>{this.terrain&&e.freezeElevation&&this._finalizeElevation(),this._afterEase(n)},e),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(e,n){var u;if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const f=this._onEaseEnd;delete this._onEaseEnd,f.call(this,n)}return e||(u=this.handlers)===null||u===void 0||u.stop(!1),this}_ease(e,n,u){u.animate===!1||u.duration===0?(e(1),n()):(this._easeStart=ce.now(),this._easeOptions=u,this._onEaseFrame=e,this._onEaseEnd=n,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(e,n){e=s.aL(e,-180,180);const u=Math.abs(e-n);return Math.abs(e-360-n)<u&&(e-=360),Math.abs(e+360-n)<u&&(e+=360),e}queryTerrainElevation(e){return this.terrain?this.terrain.getElevationForLngLatZoom(s.Q.convert(e),this.transform.tileZoom):null}}const Vl={compact:!0,customAttribution:'<a href="https://maplibre.org/" target="_blank">MapLibre</a>'};class ii{constructor(e=Vl){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=n=>{!n||n.sourceDataType!=="metadata"&&n.sourceDataType!=="visibility"&&n.dataType!=="style"&&n.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=e}getDefaultPosition(){return"bottom-right"}onAdd(e){return this._map=e,this._compact=this.options.compact,this._container=ae.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=ae.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=ae.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){ae.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(e,n){const u=this._map._getUIString(`AttributionControl.${n}`);e.title=u,e.setAttribute("aria-label",u)}_updateAttributions(){if(!this._map.style)return;let e=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=e.concat(this.options.customAttribution.map(f=>typeof f!="string"?"":f)):typeof this.options.customAttribution=="string"&&e.push(this.options.customAttribution)),this._map.style.stylesheet){const f=this._map.style.stylesheet;this.styleOwner=f.owner,this.styleId=f.id}const n=this._map.style.sourceCaches;for(const f in n){const y=n[f];if(y.used||y.usedForTerrain){const C=y.getSource();C.attribution&&e.indexOf(C.attribution)<0&&e.push(C.attribution)}}e=e.filter(f=>String(f).trim()),e.sort((f,y)=>f.length-y.length),e=e.filter((f,y)=>{for(let C=y+1;C<e.length;C++)if(e[C].indexOf(f)>=0)return!1;return!0});const u=e.join(" | ");u!==this._attribHTML&&(this._attribHTML=u,e.length?(this._innerContainer.innerHTML=ae.sanitize(u),this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class mu{constructor(e={}){this._updateCompact=()=>{const n=this._container.children;if(n.length){const u=n[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&u.classList.add("maplibregl-compact"):u.classList.remove("maplibregl-compact")}},this.options=e}getDefaultPosition(){return"bottom-left"}onAdd(e){this._map=e,this._compact=this.options&&this.options.compact,this._container=ae.create("div","maplibregl-ctrl");const n=ae.create("a","maplibregl-ctrl-logo");return n.target="_blank",n.rel="noopener nofollow",n.href="https://maplibre.org/",n.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),n.setAttribute("rel","noopener nofollow"),this._container.appendChild(n),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){ae.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class Qs{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(e){const n=++this._id;return this._queue.push({callback:e,id:n,cancelled:!1}),n}remove(e){const n=this._currentlyRunning,u=n?this._queue.concat(n):this._queue;for(const f of u)if(f.id===e)return void(f.cancelled=!0)}run(e=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const n=this._currentlyRunning=this._queue;this._queue=[];for(const u of n)if(!u.cancelled&&(u.callback(e),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var wl=s.aG([{name:"a_pos3d",type:"Int16",components:3}]);class Bh extends s.E{constructor(e){super(),this._lastTilesetChange=ce.now(),this.sourceCache=e,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.deltaZoom=1,this.tileSize=e._source.tileSize*2**this.deltaZoom,e.usedForTerrain=!0,e.tileSize=this.tileSize}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(e,n){this.sourceCache.update(e,n),this._renderableTilesKeys=[];const u={};for(const f of Ye(e,{tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:n,calculateTileZoom:this.sourceCache._source.calculateTileZoom}))u[f.key]=!0,this._renderableTilesKeys.push(f.key),this._tiles[f.key]||(f.terrainRttPosMatrix32f=new Float64Array(16),s.bQ(f.terrainRttPosMatrix32f,0,s.Z,s.Z,0,0,1),this._tiles[f.key]=new Bi(f,this.tileSize),this._lastTilesetChange=ce.now());for(const f in this._tiles)u[f]||delete this._tiles[f]}freeRtt(e){for(const n in this._tiles){const u=this._tiles[n];(!e||u.tileID.equals(e)||u.tileID.isChildOf(e)||e.isChildOf(u.tileID))&&(u.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(e=>this.getTileByID(e))}getTileByID(e){return this._tiles[e]}getTerrainCoords(e,n){return n?this._getTerrainCoordsForTileRanges(e,n):this._getTerrainCoordsForRegularTile(e)}_getTerrainCoordsForRegularTile(e){const n={};for(const u of this._renderableTilesKeys){const f=this._tiles[u].tileID,y=e.clone(),C=s.b2();if(f.canonical.equals(e.canonical))s.bQ(C,0,s.Z,s.Z,0,0,1);else if(f.canonical.isChildOf(e.canonical)){const T=f.canonical.z-e.canonical.z,k=f.canonical.x-(f.canonical.x>>T<<T),z=f.canonical.y-(f.canonical.y>>T<<T),O=s.Z>>T;s.bQ(C,0,O,O,0,0,1),s.L(C,C,[-k*O,-z*O,0])}else{if(!e.canonical.isChildOf(f.canonical))continue;{const T=e.canonical.z-f.canonical.z,k=e.canonical.x-(e.canonical.x>>T<<T),z=e.canonical.y-(e.canonical.y>>T<<T),O=s.Z>>T;s.bQ(C,0,s.Z,s.Z,0,0,1),s.L(C,C,[k*O,z*O,0]),s.M(C,C,[1/2**T,1/2**T,0])}}y.terrainRttPosMatrix32f=new Float32Array(C),n[u]=y}return n}_getTerrainCoordsForTileRanges(e,n){const u={};for(const f of this._renderableTilesKeys){const y=this._tiles[f].tileID;if(!this._isWithinTileRanges(y,n))continue;const C=e.clone(),T=s.b2();if(y.canonical.z===e.canonical.z){const k=e.canonical.x-y.canonical.x,z=e.canonical.y-y.canonical.y;s.bQ(T,0,s.Z,s.Z,0,0,1),s.L(T,T,[k*s.Z,z*s.Z,0])}else if(y.canonical.z>e.canonical.z){const k=y.canonical.z-e.canonical.z,z=y.canonical.x-(y.canonical.x>>k<<k),O=y.canonical.y-(y.canonical.y>>k<<k),W=e.canonical.x-(y.canonical.x>>k),Z=e.canonical.y-(y.canonical.y>>k),Q=s.Z>>k;s.bQ(T,0,Q,Q,0,0,1),s.L(T,T,[-z*Q+W*s.Z,-O*Q+Z*s.Z,0])}else{const k=e.canonical.z-y.canonical.z,z=e.canonical.x-(e.canonical.x>>k<<k),O=e.canonical.y-(e.canonical.y>>k<<k),W=(e.canonical.x>>k)-y.canonical.x,Z=(e.canonical.y>>k)-y.canonical.y,Q=s.Z<<k;s.bQ(T,0,Q,Q,0,0,1),s.L(T,T,[z*s.Z+W*Q,O*s.Z+Z*Q,0])}C.terrainRttPosMatrix32f=new Float32Array(T),u[f]=C}return u}getSourceTile(e,n){const u=this.sourceCache._source;let f=e.overscaledZ-this.deltaZoom;if(f>u.maxzoom&&(f=u.maxzoom),f<u.minzoom)return null;this._sourceTileCache[e.key]||(this._sourceTileCache[e.key]=e.scaledTo(f).key);let y=this.sourceCache.getTileByID(this._sourceTileCache[e.key]);if((!y||!y.dem)&&n)for(;f>=u.minzoom&&(!y||!y.dem);)y=this.sourceCache.getTileByID(e.scaledTo(f--).key);return y}anyTilesAfterTime(e=Date.now()){return this._lastTilesetChange>=e}_isWithinTileRanges(e,n){return n[e.canonical.z]&&e.canonical.x>=n[e.canonical.z].minTileX&&e.canonical.x<=n[e.canonical.z].maxTileX&&e.canonical.y>=n[e.canonical.z].minTileY&&e.canonical.y<=n[e.canonical.z].maxTileY}}class Xu{constructor(e,n,u){this._meshCache={},this.painter=e,this.sourceCache=new Bh(n),this.options=u,this.exaggeration=typeof u.exaggeration=="number"?u.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(e,n,u,f=s.Z){var y;if(!(n>=0&&n<f&&u>=0&&u<f))return 0;const C=this.getTerrainData(e),T=(y=C.tile)===null||y===void 0?void 0:y.dem;if(!T)return 0;const k=s.cj([],[n/f*s.Z,u/f*s.Z],C.u_terrain_matrix),z=[k[0]*T.dim,k[1]*T.dim],O=Math.floor(z[0]),W=Math.floor(z[1]),Z=z[0]-O,Q=z[1]-W;return T.get(O,W)*(1-Z)*(1-Q)+T.get(O+1,W)*Z*(1-Q)+T.get(O,W+1)*(1-Z)*Q+T.get(O+1,W+1)*Z*Q}getElevationForLngLatZoom(e,n){if(!s.ck(n,e.wrap()))return 0;const{tileID:u,mercatorX:f,mercatorY:y}=this._getOverscaledTileIDFromLngLatZoom(e,n);return this.getElevation(u,f%s.Z,y%s.Z,s.Z)}getElevation(e,n,u,f=s.Z){return this.getDEMElevation(e,n,u,f)*this.exaggeration}getTerrainData(e){if(!this._emptyDemTexture){const f=this.painter.context,y=new s.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new Pt(f,y,f.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new Pt(f,new s.R({width:1,height:1}),f.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(f.gl.NEAREST,f.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=s.ad([])}const n=this.sourceCache.getSourceTile(e,!0);if(n&&n.dem&&(!n.demTexture||n.needsTerrainPrepare)){const f=this.painter.context;n.demTexture=this.painter.getTileTexture(n.dem.stride),n.demTexture?n.demTexture.update(n.dem.getPixels(),{premultiply:!1}):n.demTexture=new Pt(f,n.dem.getPixels(),f.gl.RGBA,{premultiply:!1}),n.demTexture.bind(f.gl.NEAREST,f.gl.CLAMP_TO_EDGE),n.needsTerrainPrepare=!1}const u=n&&n+n.tileID.key+e.key;if(u&&!this._demMatrixCache[u]){const f=this.sourceCache.sourceCache._source.maxzoom;let y=e.canonical.z-n.tileID.canonical.z;e.overscaledZ>e.canonical.z&&(e.canonical.z>=f?y=e.canonical.z-f:s.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const C=e.canonical.x-(e.canonical.x>>y<<y),T=e.canonical.y-(e.canonical.y>>y<<y),k=s.cl(new Float64Array(16),[1/(s.Z<<y),1/(s.Z<<y),0]);s.L(k,k,[C*s.Z,T*s.Z,0]),this._demMatrixCache[e.key]={matrix:k,coord:e}}return{u_depth:2,u_terrain:3,u_terrain_dim:n&&n.dem&&n.dem.dim||1,u_terrain_matrix:u?this._demMatrixCache[e.key].matrix:this._emptyDemMatrix,u_terrain_unpack:n&&n.dem&&n.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(n&&n.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:n}}getFramebuffer(e){const n=this.painter,u=n.width/devicePixelRatio,f=n.height/devicePixelRatio;return!this._fbo||this._fbo.width===u&&this._fbo.height===f||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new Pt(n.context,{width:u,height:f,data:null},n.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(n.context.gl.NEAREST,n.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new Pt(n.context,{width:u,height:f,data:null},n.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(n.context.gl.NEAREST,n.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=n.context.createFramebuffer(u,f,!0,!1),this._fbo.depthAttachment.set(n.context.createRenderbuffer(n.context.gl.DEPTH_COMPONENT16,u,f))),this._fbo.colorAttachment.set(e==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const e=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const n=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let y=0,C=0;y<this._coordsTextureSize;y++)for(let T=0;T<this._coordsTextureSize;T++,C+=4)n[C+0]=255&T,n[C+1]=255&y,n[C+2]=T>>8<<4|y>>8,n[C+3]=0;const u=new s.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(n.buffer)),f=new Pt(e,u,e.gl.RGBA,{premultiply:!1});return f.bind(e.gl.NEAREST,e.gl.CLAMP_TO_EDGE),this._coordsTexture=f,f}pointCoordinate(e){this.painter.maybeDrawDepthAndCoords(!0);const n=new Uint8Array(4),u=this.painter.context,f=u.gl,y=Math.round(e.x*this.painter.pixelRatio/devicePixelRatio),C=Math.round(e.y*this.painter.pixelRatio/devicePixelRatio),T=Math.round(this.painter.height/devicePixelRatio);u.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),f.readPixels(y,T-C-1,1,1,f.RGBA,f.UNSIGNED_BYTE,n),u.bindFramebuffer.set(null);const k=n[0]+(n[2]>>4<<8),z=n[1]+((15&n[2])<<8),O=this.coordsIndex[255-n[3]],W=O&&this.sourceCache.getTileByID(O);if(!W)return null;const Z=this._coordsTextureSize,Q=(1<<W.tileID.canonical.z)*Z;return new s.$((W.tileID.canonical.x*Z+k)/Q+W.tileID.wrap,(W.tileID.canonical.y*Z+z)/Q,this.getElevation(W.tileID,k,z,Z))}depthAtPoint(e){const n=new Uint8Array(4),u=this.painter.context,f=u.gl;return u.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),f.readPixels(e.x,this.painter.height/devicePixelRatio-e.y-1,1,1,f.RGBA,f.UNSIGNED_BYTE,n),u.bindFramebuffer.set(null),(n[0]/16777216+n[1]/65536+n[2]/256+n[3])/256}getTerrainMesh(e){var n;const u=((n=this.painter.style.projection)===null||n===void 0?void 0:n.transitionState)>0,f=u&&e.canonical.y===0,y=u&&e.canonical.y===(1<<e.canonical.z)-1,C=`m_${f?"n":""}_${y?"s":""}`;if(this._meshCache[C])return this._meshCache[C];const T=this.painter.context,k=new s.cm,z=new s.aK,O=this.meshSize,W=s.Z/O,Z=O*O;for(let Ve=0;Ve<=O;Ve++)for(let lt=0;lt<=O;lt++)k.emplaceBack(lt*W,Ve*W,0);for(let Ve=0;Ve<Z;Ve+=O+1)for(let lt=0;lt<O;lt++)z.emplaceBack(lt+Ve,O+lt+Ve+1,O+lt+Ve+2),z.emplaceBack(lt+Ve,O+lt+Ve+2,lt+Ve+1);const Q=k.length,ie=Q+(O+1),Ce=(O+1)*O,we=f?s.b9:0,De=f?0:1,ke=y?s.ba:s.Z,Le=y?0:1;for(let Ve=0;Ve<=O;Ve++)k.emplaceBack(Ve*W,we,De);for(let Ve=0;Ve<=O;Ve++)k.emplaceBack(Ve*W,ke,Le);for(let Ve=0;Ve<O;Ve++)z.emplaceBack(Ce+Ve,ie+Ve,ie+Ve+1),z.emplaceBack(Ce+Ve,ie+Ve+1,Ce+Ve+1),z.emplaceBack(0+Ve,Q+Ve+1,Q+Ve),z.emplaceBack(0+Ve,0+Ve+1,Q+Ve+1);const Ee=k.length,Be=Ee+2*(O+1);for(const Ve of[0,1])for(let lt=0;lt<=O;lt++)for(const At of[0,1])k.emplaceBack(Ve*s.Z,lt*W,At);for(let Ve=0;Ve<2*O;Ve+=2)z.emplaceBack(Ee+Ve,Ee+Ve+1,Ee+Ve+3),z.emplaceBack(Ee+Ve,Ee+Ve+3,Ee+Ve+2),z.emplaceBack(Be+Ve,Be+Ve+3,Be+Ve+1),z.emplaceBack(Be+Ve,Be+Ve+2,Be+Ve+3);const je=new Fr(T.createVertexBuffer(k,wl.members),T.createIndexBuffer(z),s.aJ.simpleSegment(0,0,k.length,z.length));return this._meshCache[C]=je,je}getMeshFrameDelta(e){return 2*Math.PI*s.bu/Math.pow(2,Math.max(e,0))/5}getMinTileElevationForLngLatZoom(e,n){var u;const{tileID:f}=this._getOverscaledTileIDFromLngLatZoom(e,n);return(u=this.getMinMaxElevation(f).minElevation)!==null&&u!==void 0?u:0}getMinMaxElevation(e){const n=this.getTerrainData(e).tile,u={minElevation:null,maxElevation:null};return n&&n.dem&&(u.minElevation=n.dem.min*this.exaggeration,u.maxElevation=n.dem.max*this.exaggeration),u}_getOverscaledTileIDFromLngLatZoom(e,n){const u=s.$.fromLngLat(e.wrap()),f=(1<<n)*s.Z,y=u.x*f,C=u.y*f,T=Math.floor(y/s.Z),k=Math.floor(C/s.Z);return{tileID:new s.Y(n,0,n,T,k),mercatorX:y,mercatorY:C}}}class yu{constructor(e,n,u){this._context=e,this._size=n,this._tileSize=u,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const e of this._objects)e.texture.destroy(),e.fbo.destroy()}_createObject(e){const n=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),u=new Pt(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return u.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),this._context.extTextureFilterAnisotropic&&this._context.gl.texParameterf(this._context.gl.TEXTURE_2D,this._context.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,this._context.extTextureFilterAnisotropicMax),n.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),n.colorAttachment.set(u.texture),{id:e,fbo:n,texture:u,stamp:-1,inUse:!1}}getObjectForId(e){return this._objects[e]}useObject(e){e.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(n=>e.id!==n),this._recentlyUsed.push(e.id)}stampObject(e){e.stamp=++this._stamp}getOrCreateFreeObject(){for(const n of this._recentlyUsed)if(!this._objects[n].inUse)return this._objects[n];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const e=this._createObject(this._objects.length);return this._objects.push(e),e}freeObject(e){e.inUse=!1}freeAllObjects(){for(const e of this._objects)this.freeObject(e)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(e=>!e.inUse)===!1}}const xo={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class Yu{constructor(e,n){this.painter=e,this.terrain=n,this.pool=new yu(e.context,30,n.sourceCache.tileSize*n.qualityFactor)}destruct(){this.pool.destruct()}getTexture(e){return this.pool.getObjectForId(e.rtt[this._stacks.length-1].id).texture}prepareForRender(e,n){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=e._order.filter(u=>!e._layers[u].isHidden(n)),this._coordsAscending={};for(const u in e.sourceCaches){this._coordsAscending[u]={};const f=e.sourceCaches[u].getVisibleCoordinates(),y=e.sourceCaches[u].getSource(),C=y instanceof vr?y.terrainTileRanges:null;for(const T of f){const k=this.terrain.sourceCache.getTerrainCoords(T,C);for(const z in k)this._coordsAscending[u][z]||(this._coordsAscending[u][z]=[]),this._coordsAscending[u][z].push(k[z])}}this._coordsAscendingStr={};for(const u of e._order){const f=e._layers[u],y=f.source;if(xo[f.type]&&!this._coordsAscendingStr[y]){this._coordsAscendingStr[y]={};for(const C in this._coordsAscending[y])this._coordsAscendingStr[y][C]=this._coordsAscending[y][C].map(T=>T.key).sort().join()}}for(const u of this._renderableTiles)for(const f in this._coordsAscendingStr){const y=this._coordsAscendingStr[f][u.tileID.key];y&&y!==u.rttCoords[f]&&(u.rtt=[])}}renderLayer(e,n){if(e.isHidden(this.painter.transform.zoom))return!1;const u=Object.assign(Object.assign({},n),{isRenderingToTexture:!0}),f=e.type,y=this.painter,C=this._renderableLayerIds[this._renderableLayerIds.length-1]===e.id;if(xo[f]&&(this._prevType&&xo[this._prevType]||this._stacks.push([]),this._prevType=f,this._stacks[this._stacks.length-1].push(e.id),!C))return!0;if(xo[this._prevType]||xo[f]&&C){this._prevType=f;const T=this._stacks.length-1,k=this._stacks[T]||[];for(const z of this._renderableTiles){if(this.pool.isFull()&&(Fl(this.painter,this.terrain,this._rttTiles,u),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(z),z.rtt[T]){const W=this.pool.getObjectForId(z.rtt[T].id);if(W.stamp===z.rtt[T].stamp){this.pool.useObject(W);continue}}const O=this.pool.getOrCreateFreeObject();this.pool.useObject(O),this.pool.stampObject(O),z.rtt[T]={id:O.id,stamp:O.stamp},y.context.bindFramebuffer.set(O.fbo.framebuffer),y.context.clear({color:s.b7.transparent,stencil:0}),y.currentStencilSource=void 0;for(let W=0;W<k.length;W++){const Z=y.style._layers[k[W]],Q=Z.source?this._coordsAscending[Z.source][z.tileID.key]:[z.tileID];y.context.viewport.set([0,0,O.fbo.width,O.fbo.height]),y._renderTileClippingMasks(Z,Q,!0),y.renderLayer(y,y.style.sourceCaches[Z.source],Z,Q,u),Z.source&&(z.rttCoords[Z.source]=this._coordsAscendingStr[Z.source][z.tileID.key])}}return Fl(this.painter,this.terrain,this._rttTiles,u),this._rttTiles=[],this.pool.freeAllObjects(),xo[f]}return!1}}const fn={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","Map.Title":"Map","Marker.Title":"Map marker","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","Popup.Close":"Close popup","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","GlobeControl.Enable":"Enable globe","GlobeControl.Disable":"Disable globe","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use ⌘ + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},jn=V,c0={hash:!1,interactive:!0,bearingSnap:7,attributionControl:Vl,maplibreLogo:!1,refreshExpiredTiles:!0,canvasContextAttributes:{antialias:!1,preserveDrawingBuffer:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1,desynchronized:!1,contextType:void 0},scrollZoom:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],elevation:0,zoom:0,bearing:0,pitch:0,roll:0,renderWorldCopies:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:s.a.MAX_TILE_CACHE_ZOOM_LEVELS,transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,clickTolerance:3,localIdeographFontFamily:"sans-serif",pitchWithRotate:!0,rollEnabled:!1,validateStyle:!0,maxCanvasSize:[4096,4096],cancelPendingTileRequestsWhileZooming:!0,centerClampedToGround:!0},jo={showCompass:!0,showZoom:!0,visualizePitch:!1,visualizeRoll:!0};class Zl{constructor(e,n,u=!1){this.mousedown=y=>{this.startMove(y,ae.mousePos(this.element,y)),ae.addEventListener(window,"mousemove",this.mousemove),ae.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=y=>{this.move(y,ae.mousePos(this.element,y))},this.mouseup=y=>{this._rotatePitchHanlder.dragEnd(y),this.offTemp()},this.touchstart=y=>{y.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=ae.touchPos(this.element,y.targetTouches)[0],this.startMove(y,this._startPos),ae.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),ae.addEventListener(window,"touchend",this.touchend))},this.touchmove=y=>{y.targetTouches.length!==1?this.reset():(this._lastPos=ae.touchPos(this.element,y.targetTouches)[0],this.move(y,this._lastPos))},this.touchend=y=>{y.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this._rotatePitchHanlder.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10,this.element=n;const f=new hu;this._rotatePitchHanlder=new Ea({clickTolerance:3,move:(y,C)=>{const T=n.getBoundingClientRect(),k=new s.P((T.bottom-T.top)/2,(T.right-T.left)/2);return{bearingDelta:s.ce(new s.P(y.x,C.y),C,k),pitchDelta:u?-.5*(C.y-y.y):void 0}},moveStateManager:f,enable:!0,assignEvents:()=>{}}),this.map=e,ae.addEventListener(n,"mousedown",this.mousedown),ae.addEventListener(n,"touchstart",this.touchstart,{passive:!1}),ae.addEventListener(n,"touchcancel",this.reset)}startMove(e,n){this._rotatePitchHanlder.dragStart(e,n),ae.disableDrag()}move(e,n){const u=this.map,{bearingDelta:f,pitchDelta:y}=this._rotatePitchHanlder.dragMove(e,n)||{};f&&u.setBearing(u.getBearing()+f),y&&u.setPitch(u.getPitch()+y)}off(){const e=this.element;ae.removeEventListener(e,"mousedown",this.mousedown),ae.removeEventListener(e,"touchstart",this.touchstart,{passive:!1}),ae.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),ae.removeEventListener(window,"touchend",this.touchend),ae.removeEventListener(e,"touchcancel",this.reset),this.offTemp()}offTemp(){ae.enableDrag(),ae.removeEventListener(window,"mousemove",this.mousemove),ae.removeEventListener(window,"mouseup",this.mouseup),ae.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),ae.removeEventListener(window,"touchend",this.touchend)}}let Ui;function Cl(m,e,n,u=!1){if(u||!n.getCoveringTilesDetailsProvider().allowWorldCopies())return m==null?void 0:m.wrap();const f=new s.Q(m.lng,m.lat);if(m=new s.Q(m.lng,m.lat),e){const y=new s.Q(m.lng-360,m.lat),C=new s.Q(m.lng+360,m.lat),T=n.locationToScreenPoint(m).distSqr(e);n.locationToScreenPoint(y).distSqr(e)<T?m=y:n.locationToScreenPoint(C).distSqr(e)<T&&(m=C)}for(;Math.abs(m.lng-n.center.lng)>180;){const y=n.locationToScreenPoint(m);if(y.x>=0&&y.y>=0&&y.x<=n.width&&y.y<=n.height)break;m.lng>n.center.lng?m.lng-=360:m.lng+=360}return m.lng!==f.lng&&n.isPointOnMapSurface(n.locationToScreenPoint(m))?m:f}const Vo={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function $a(m,e,n){const u=m.classList;for(const f in Vo)u.remove(`maplibregl-${n}-anchor-${f}`);u.add(`maplibregl-${n}-anchor-${e}`)}class cs extends s.E{constructor(e){if(super(),this._onKeyPress=n=>{const u=n.code,f=n.charCode||n.keyCode;u!=="Space"&&u!=="Enter"&&f!==32&&f!==13||this.togglePopup()},this._onMapClick=n=>{const u=n.originalEvent.target,f=this._element;this._popup&&(u===f||f.contains(u))&&this.togglePopup()},this._update=n=>{if(!this._map)return;const u=this._map.loaded()&&!this._map.isMoving();((n==null?void 0:n.type)==="terrain"||(n==null?void 0:n.type)==="render"&&!u)&&this._map.once("render",this._update),this._lngLat=Cl(this._lngLat,this._flatPos,this._map.transform),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationToScreenPoint(this._lngLat)._add(this._offset));let f="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?f=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(f=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let y="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?y="rotateX(0deg)":this._pitchAlignment==="map"&&(y=`rotateX(${this._map.getPitch()}deg)`),this._subpixelPositioning||n&&n.type!=="moveend"||(this._pos=this._pos.round()),ae.setTransform(this._element,`${Vo[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${y} ${f}`),ce.frameAsync(new AbortController).then(()=>{this._updateOpacity(n&&n.type==="moveend")}).catch(()=>{})},this._onMove=n=>{if(!this._isDragging){const u=this._clickTolerance||this._map._clickTolerance;this._isDragging=n.point.dist(this._pointerdownPos)>=u}this._isDragging&&(this._pos=n.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new s.l("dragstart"))),this.fire(new s.l("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new s.l("dragend")),this._state="inactive"},this._addDragHandler=n=>{this._element.contains(n.originalEvent.target)&&(n.preventDefault(),this._positionDelta=n.point.sub(this._pos).add(this._offset),this._pointerdownPos=n.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=e&&e.anchor||"center",this._color=e&&e.color||"#3FB1CE",this._scale=e&&e.scale||1,this._draggable=e&&e.draggable||!1,this._clickTolerance=e&&e.clickTolerance||0,this._subpixelPositioning=e&&e.subpixelPositioning||!1,this._isDragging=!1,this._state="inactive",this._rotation=e&&e.rotation||0,this._rotationAlignment=e&&e.rotationAlignment||"auto",this._pitchAlignment=e&&e.pitchAlignment&&e.pitchAlignment!=="auto"?e.pitchAlignment:this._rotationAlignment,this.setOpacity(e==null?void 0:e.opacity,e==null?void 0:e.opacityWhenCovered),e&&e.element)this._element=e.element,this._offset=s.P.convert(e&&e.offset||[0,0]);else{this._defaultMarker=!0,this._element=ae.create("div");const n=ae.createNS("http://www.w3.org/2000/svg","svg"),u=41,f=27;n.setAttributeNS(null,"display","block"),n.setAttributeNS(null,"height",`${u}px`),n.setAttributeNS(null,"width",`${f}px`),n.setAttributeNS(null,"viewBox",`0 0 ${f} ${u}`);const y=ae.createNS("http://www.w3.org/2000/svg","g");y.setAttributeNS(null,"stroke","none"),y.setAttributeNS(null,"stroke-width","1"),y.setAttributeNS(null,"fill","none"),y.setAttributeNS(null,"fill-rule","evenodd");const C=ae.createNS("http://www.w3.org/2000/svg","g");C.setAttributeNS(null,"fill-rule","nonzero");const T=ae.createNS("http://www.w3.org/2000/svg","g");T.setAttributeNS(null,"transform","translate(3.0, 29.0)"),T.setAttributeNS(null,"fill","#000000");const k=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const De of k){const ke=ae.createNS("http://www.w3.org/2000/svg","ellipse");ke.setAttributeNS(null,"opacity","0.04"),ke.setAttributeNS(null,"cx","10.5"),ke.setAttributeNS(null,"cy","5.80029008"),ke.setAttributeNS(null,"rx",De.rx),ke.setAttributeNS(null,"ry",De.ry),T.appendChild(ke)}const z=ae.createNS("http://www.w3.org/2000/svg","g");z.setAttributeNS(null,"fill",this._color);const O=ae.createNS("http://www.w3.org/2000/svg","path");O.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),z.appendChild(O);const W=ae.createNS("http://www.w3.org/2000/svg","g");W.setAttributeNS(null,"opacity","0.25"),W.setAttributeNS(null,"fill","#000000");const Z=ae.createNS("http://www.w3.org/2000/svg","path");Z.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),W.appendChild(Z);const Q=ae.createNS("http://www.w3.org/2000/svg","g");Q.setAttributeNS(null,"transform","translate(6.0, 7.0)"),Q.setAttributeNS(null,"fill","#FFFFFF");const ie=ae.createNS("http://www.w3.org/2000/svg","g");ie.setAttributeNS(null,"transform","translate(8.0, 8.0)");const Ce=ae.createNS("http://www.w3.org/2000/svg","circle");Ce.setAttributeNS(null,"fill","#000000"),Ce.setAttributeNS(null,"opacity","0.25"),Ce.setAttributeNS(null,"cx","5.5"),Ce.setAttributeNS(null,"cy","5.5"),Ce.setAttributeNS(null,"r","5.4999962");const we=ae.createNS("http://www.w3.org/2000/svg","circle");we.setAttributeNS(null,"fill","#FFFFFF"),we.setAttributeNS(null,"cx","5.5"),we.setAttributeNS(null,"cy","5.5"),we.setAttributeNS(null,"r","5.4999962"),ie.appendChild(Ce),ie.appendChild(we),C.appendChild(T),C.appendChild(z),C.appendChild(W),C.appendChild(Q),C.appendChild(ie),n.appendChild(C),n.setAttributeNS(null,"height",u*this._scale+"px"),n.setAttributeNS(null,"width",f*this._scale+"px"),this._element.appendChild(n),this._offset=s.P.convert(e&&e.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",n=>{n.preventDefault()}),this._element.addEventListener("mousedown",n=>{n.preventDefault()}),$a(this._element,this._anchor,"marker"),e&&e.className)for(const n of e.className.split(" "))this._element.classList.add(n);this._popup=null}addTo(e){return this.remove(),this._map=e,this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label",e._getUIString("Marker.Title")),e.getCanvasContainer().appendChild(this._element),e.on("move",this._update),e.on("moveend",this._update),e.on("terrain",this._update),e.on("projectiontransition",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("terrain",this._update),this._map.off("projectiontransition",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),ae.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(e){return this._lngLat=s.Q.convert(e),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),e){if(!("offset"in e.options)){const f=Math.abs(13.5)/Math.SQRT2;e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[f,-1*(38.1-13.5+f)],"bottom-right":[-f,-1*(38.1-13.5+f)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=e,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}setSubpixelPositioning(e){return this._subpixelPositioning=e,this}getPopup(){return this._popup}togglePopup(){const e=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:e?(e.isOpen()?e.remove():(e.setLngLat(this._lngLat),e.addTo(this._map)),this):this}_updateOpacity(e=!1){var n,u;const f=(n=this._map)===null||n===void 0?void 0:n.terrain,y=this._map.transform.isLocationOccluded(this._lngLat);if(!f||y){const Q=y?this._opacityWhenCovered:this._opacity;return void(this._element.style.opacity!==Q&&(this._element.style.opacity=Q))}if(e)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout(()=>{this._opacityTimeout=null},100)}const C=this._map,T=C.terrain.depthAtPoint(this._pos),k=C.terrain.getElevationForLngLatZoom(this._lngLat,C.transform.tileZoom);if(C.transform.lngLatToCameraDepth(this._lngLat,k)-T<.006)return void(this._element.style.opacity=this._opacity);const z=-this._offset.y/C.transform.pixelsPerMeter,O=Math.sin(C.getPitch()*Math.PI/180)*z,W=C.terrain.depthAtPoint(new s.P(this._pos.x,this._pos.y-this._offset.y)),Z=C.transform.lngLatToCameraDepth(this._lngLat,k+O)-W>.006;!((u=this._popup)===null||u===void 0)&&u.isOpen()&&Z&&this._popup.remove(),this._element.style.opacity=Z?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(e){return this._offset=s.P.convert(e),this._update(),this}addClassName(e){this._element.classList.add(e)}removeClassName(e){this._element.classList.remove(e)}toggleClassName(e){return this._element.classList.toggle(e)}setDraggable(e){return this._draggable=!!e,this._map&&(e?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(e){return this._rotation=e||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(e){return this._rotationAlignment=e||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(e){return this._pitchAlignment=e&&e!=="auto"?e:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(e,n){return(this._opacity===void 0||e===void 0&&n===void 0)&&(this._opacity="1",this._opacityWhenCovered="0.2"),e!==void 0&&(this._opacity=e),n!==void 0&&(this._opacityWhenCovered=n),this._map&&this._updateOpacity(!0),this}}const Nr={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let ai=0,B0=!1;const O0={maxWidth:100,unit:"metric"};function Ms(m,e,n){const u=n&&n.maxWidth||100,f=m._container.clientHeight/2,y=m._container.clientWidth/2,C=m.unproject([y-u/2,f]),T=m.unproject([y+u/2,f]),k=Math.round(m.project(T).x-m.project(C).x),z=Math.min(u,k,m._container.clientWidth),O=C.distanceTo(T);if(n&&n.unit==="imperial"){const W=3.2808*O;W>5280?ja(e,z,W/5280,m._getUIString("ScaleControl.Miles")):ja(e,z,W,m._getUIString("ScaleControl.Feet"))}else n&&n.unit==="nautical"?ja(e,z,O/1852,m._getUIString("ScaleControl.NauticalMiles")):O>=1e3?ja(e,z,O/1e3,m._getUIString("ScaleControl.Kilometers")):ja(e,z,O,m._getUIString("ScaleControl.Meters"))}function ja(m,e,n,u){const f=function(y){const C=Math.pow(10,`${Math.floor(y)}`.length-1);let T=y/C;return T=T>=10?10:T>=5?5:T>=3?3:T>=2?2:T>=1?1:function(k){const z=Math.pow(10,Math.ceil(-Math.log(k)/Math.LN10));return Math.round(k*z)/z}(T),C*T}(n);m.style.width=e*(f/n)+"px",m.innerHTML=`${f}&nbsp;${u}`}const Qu={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1,locationOccludedOpacity:void 0},Jc=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function hs(m){if(m){if(typeof m=="number"){const e=Math.round(Math.abs(m)/Math.SQRT2);return{center:new s.P(0,0),top:new s.P(0,m),"top-left":new s.P(e,e),"top-right":new s.P(-e,e),bottom:new s.P(0,-m),"bottom-left":new s.P(e,-e),"bottom-right":new s.P(-e,-e),left:new s.P(m,0),right:new s.P(-m,0)}}if(m instanceof s.P||Array.isArray(m)){const e=s.P.convert(m);return{center:e,top:e,"top-left":e,"top-right":e,bottom:e,"bottom-left":e,"bottom-right":e,left:e,right:e}}return{center:s.P.convert(m.center||[0,0]),top:s.P.convert(m.top||[0,0]),"top-left":s.P.convert(m["top-left"]||[0,0]),"top-right":s.P.convert(m["top-right"]||[0,0]),bottom:s.P.convert(m.bottom||[0,0]),"bottom-left":s.P.convert(m["bottom-left"]||[0,0]),"bottom-right":s.P.convert(m["bottom-right"]||[0,0]),left:s.P.convert(m.left||[0,0]),right:s.P.convert(m.right||[0,0])}}return hs(new s.P(0,0))}const ps=V;I.AJAXError=s.cq,I.Event=s.l,I.Evented=s.E,I.LngLat=s.Q,I.MercatorCoordinate=s.$,I.Point=s.P,I.addProtocol=s.cr,I.config=s.a,I.removeProtocol=s.cs,I.AttributionControl=ii,I.BoxZoomHandler=Na,I.CanvasSource=Cn,I.CooperativeGesturesHandler=_i,I.DoubleClickZoomHandler=$l,I.DragPanHandler=L0,I.DragRotateHandler=eo,I.EdgeInsets=Ta,I.FullscreenControl=class extends s.E{constructor(m={}){super(),this._onFullscreenChange=()=>{var e;let n=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;!((e=n==null?void 0:n.shadowRoot)===null||e===void 0)&&e.fullscreenElement;)n=n.shadowRoot.fullscreenElement;n===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,m&&m.container&&(m.container instanceof HTMLElement?this._container=m.container:s.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(m){return this._map=m,this._container||(this._container=this._map.getContainer()),this._controlContainer=ae.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){ae.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const m=this._fullscreenButton=ae.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);ae.create("span","maplibregl-ctrl-icon",m).setAttribute("aria-hidden","true"),m.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const m=this._getTitle();this._fullscreenButton.setAttribute("aria-label",m),this._fullscreenButton.title=m}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new s.l("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new s.l("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},I.GeoJSONSource=Li,I.GeolocateControl=class extends s.E{constructor(m){super(),this._onSuccess=e=>{if(this._map){if(this._isOutOfMapMaxBounds(e))return this._setErrorState(),this.fire(new s.l("outofmaxbounds",e)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=e,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(e),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(e),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new s.l("geolocate",e)),this._finish()}},this._updateCamera=e=>{const n=new s.Q(e.coords.longitude,e.coords.latitude),u=e.coords.accuracy,f=this._map.getBearing(),y=s.e({bearing:f},this.options.fitBoundsOptions),C=yn.fromLngLat(n,u);this._map.fitBounds(C,y,{geolocateSource:!0})},this._updateMarker=e=>{if(e){const n=new s.Q(e.coords.longitude,e.coords.latitude);this._accuracyCircleMarker.setLngLat(n).addTo(this._map),this._userLocationDotMarker.setLngLat(n).addTo(this._map),this._accuracy=e.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=e=>{if(this._map){if(e.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const n=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=n,this._geolocateButton.setAttribute("aria-label",n),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(e.code===3&&B0)return;this.options.trackUserLocation&&this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new s.l("error",e)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=()=>{this._map&&(this._container.addEventListener("contextmenu",e=>e.preventDefault()),this._geolocateButton=ae.create("button","maplibregl-ctrl-geolocate",this._container),ae.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",this._geolocateButton.disabled=!0)},this._finishSetupUI=e=>{if(this._map){if(e===!1){s.w("Geolocation support is not available so the GeolocateControl will be disabled.");const n=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=n,this._geolocateButton.setAttribute("aria-label",n)}else{const n=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.disabled=!1,this._geolocateButton.title=n,this._geolocateButton.setAttribute("aria-label",n)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=ae.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new cs({element:this._dotElement}),this._circleElement=ae.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new cs({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",()=>this.trigger()),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",n=>{n.geolocateSource||this._watchState!=="ACTIVE_LOCK"||n.originalEvent&&n.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new s.l("trackuserlocationend")),this.fire(new s.l("userlocationlostfocus")))})}},this.options=s.e({},Nr,m)}onAdd(m){return this._map=m,this._container=ae.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),function(){return s._(this,arguments,void 0,function*(e=!1){if(Ui!==void 0&&!e)return Ui;if(window.navigator.permissions===void 0)return Ui=!!window.navigator.geolocation,Ui;try{Ui=(yield window.navigator.permissions.query({name:"geolocation"})).state!=="denied"}catch{Ui=!!window.navigator.geolocation}return Ui})}().then(e=>this._finishSetupUI(e)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),ae.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,ai=0,B0=!1}_isOutOfMapMaxBounds(m){const e=this._map.getMaxBounds(),n=m.coords;return e&&(n.longitude<e.getWest()||n.longitude>e.getEast()||n.latitude<e.getSouth()||n.latitude>e.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const m=this._map.getBounds(),e=m.getSouthEast(),n=m.getNorthEast(),u=e.distanceTo(n),f=Math.ceil(this._accuracy/(u/this._map._container.clientHeight)*2);this._circleElement.style.width=`${f}px`,this._circleElement.style.height=`${f}px`}trigger(){if(!this._setup)return s.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new s.l("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":ai--,B0=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new s.l("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new s.l("trackuserlocationstart")),this.fire(new s.l("userlocationfocus"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let m;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),ai++,ai>1?(m={maximumAge:6e5,timeout:0},B0=!0):(m=this.options.positionOptions,B0=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,m)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},I.GlobeControl=class{constructor(){this._toggleProjection=()=>{var m;const e=(m=this._map.getProjection())===null||m===void 0?void 0:m.type;this._map.setProjection(e!=="mercator"&&e?{type:"mercator"}:{type:"globe"}),this._updateGlobeIcon()},this._updateGlobeIcon=()=>{var m;this._globeButton.classList.remove("maplibregl-ctrl-globe"),this._globeButton.classList.remove("maplibregl-ctrl-globe-enabled"),((m=this._map.getProjection())===null||m===void 0?void 0:m.type)==="globe"?(this._globeButton.classList.add("maplibregl-ctrl-globe-enabled"),this._globeButton.title=this._map._getUIString("GlobeControl.Disable")):(this._globeButton.classList.add("maplibregl-ctrl-globe"),this._globeButton.title=this._map._getUIString("GlobeControl.Enable"))}}onAdd(m){return this._map=m,this._container=ae.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._globeButton=ae.create("button","maplibregl-ctrl-globe",this._container),ae.create("span","maplibregl-ctrl-icon",this._globeButton).setAttribute("aria-hidden","true"),this._globeButton.type="button",this._globeButton.addEventListener("click",this._toggleProjection),this._updateGlobeIcon(),this._map.on("styledata",this._updateGlobeIcon),this._container}onRemove(){ae.remove(this._container),this._map.off("styledata",this._updateGlobeIcon),this._globeButton.removeEventListener("click",this._toggleProjection),this._map=void 0}},I.Hash=qs,I.ImageSource=vr,I.KeyboardHandler=Ja,I.LngLatBounds=yn,I.LogoControl=mu,I.Map=class extends us{constructor(m){var e,n;s.cn.mark(s.co.create);const u=Object.assign(Object.assign(Object.assign({},c0),m),{canvasContextAttributes:Object.assign(Object.assign({},c0.canvasContextAttributes),m.canvasContextAttributes)});if(u.minZoom!=null&&u.maxZoom!=null&&u.minZoom>u.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(u.minPitch!=null&&u.maxPitch!=null&&u.minPitch>u.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(u.minPitch!=null&&u.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(u.maxPitch!=null&&u.maxPitch>180)throw new Error("maxPitch must be less than or equal to 180");const f=new w0,y=new po;if(u.minZoom!==void 0&&f.setMinZoom(u.minZoom),u.maxZoom!==void 0&&f.setMaxZoom(u.maxZoom),u.minPitch!==void 0&&f.setMinPitch(u.minPitch),u.maxPitch!==void 0&&f.setMaxPitch(u.maxPitch),u.renderWorldCopies!==void 0&&f.setRenderWorldCopies(u.renderWorldCopies),super(f,y,{bearingSnap:u.bearingSnap}),this._idleTriggered=!1,this._crossFadingFactor=1,this._renderTaskQueue=new Qs,this._controls=[],this._mapId=s.a4(),this._contextLost=T=>{T.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.fire(new s.l("webglcontextlost",{originalEvent:T}))},this._contextRestored=T=>{this._setupPainter(),this.resize(),this._update(),this.fire(new s.l("webglcontextrestored",{originalEvent:T}))},this._onMapScroll=T=>{if(T.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=u.interactive,this._maxTileCacheSize=u.maxTileCacheSize,this._maxTileCacheZoomLevels=u.maxTileCacheZoomLevels,this._canvasContextAttributes=Object.assign({},u.canvasContextAttributes),this._trackResize=u.trackResize===!0,this._bearingSnap=u.bearingSnap,this._centerClampedToGround=u.centerClampedToGround,this._refreshExpiredTiles=u.refreshExpiredTiles===!0,this._fadeDuration=u.fadeDuration,this._crossSourceCollisions=u.crossSourceCollisions===!0,this._collectResourceTiming=u.collectResourceTiming===!0,this._locale=Object.assign(Object.assign({},fn),u.locale),this._clickTolerance=u.clickTolerance,this._overridePixelRatio=u.pixelRatio,this._maxCanvasSize=u.maxCanvasSize,this.transformCameraUpdate=u.transformCameraUpdate,this.cancelPendingTileRequestsWhileZooming=u.cancelPendingTileRequestsWhileZooming===!0,this._imageQueueHandle=Ae.addThrottleControl(()=>this.isMoving()),this._requestManager=new Ge(u.transformRequest),typeof u.container=="string"){if(this._container=document.getElementById(u.container),!this._container)throw new Error(`Container '${u.container}' not found.`)}else{if(!(u.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=u.container}if(u.maxBounds&&this.setMaxBounds(u.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let T=!1;const k=Nl(z=>{this._trackResize&&!this._removed&&(this.resize(z),this.redraw())},50);this._resizeObserver=new ResizeObserver(z=>{T?k(z):T=!0}),this._resizeObserver.observe(this._container)}this.handlers=new u0(this,u),this._hash=u.hash&&new qs(typeof u.hash=="string"&&u.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:u.center,elevation:u.elevation,zoom:u.zoom,bearing:u.bearing,pitch:u.pitch,roll:u.roll}),u.bounds&&(this.resize(),this.fitBounds(u.bounds,s.e({},u.fitBoundsOptions,{duration:0}))));const C=typeof u.style=="string"||((n=(e=u.style)===null||e===void 0?void 0:e.projection)===null||n===void 0?void 0:n.type)!=="globe";this.resize(null,C),this._localIdeographFontFamily=u.localIdeographFontFamily,this._validateStyle=u.validateStyle,u.style&&this.setStyle(u.style,{localIdeographFontFamily:u.localIdeographFontFamily}),u.attributionControl&&this.addControl(new ii(typeof u.attributionControl=="boolean"?void 0:u.attributionControl)),u.maplibreLogo&&this.addControl(new mu,u.logoPosition),this.on("style.load",()=>{if(C||this._resizeTransform(),this.transform.unmodified){const T=s.O(this.style.stylesheet,["center","zoom","bearing","pitch","roll"]);this.jumpTo(T)}}),this.on("data",T=>{this._update(T.dataType==="style"),this.fire(new s.l(`${T.dataType}data`,T))}),this.on("dataloading",T=>{this.fire(new s.l(`${T.dataType}dataloading`,T))}),this.on("dataabort",T=>{this.fire(new s.l("sourcedataabort",T))})}_getMapId(){return this._mapId}addControl(m,e){if(e===void 0&&(e=m.getDefaultPosition?m.getDefaultPosition():"top-right"),!m||!m.onAdd)return this.fire(new s.k(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const n=m.onAdd(this);this._controls.push(m);const u=this._controlPositions[e];return e.indexOf("bottom")!==-1?u.insertBefore(n,u.firstChild):u.appendChild(n),this}removeControl(m){if(!m||!m.onRemove)return this.fire(new s.k(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const e=this._controls.indexOf(m);return e>-1&&this._controls.splice(e,1),m.onRemove(this),this}hasControl(m){return this._controls.indexOf(m)>-1}calculateCameraOptionsFromTo(m,e,n,u){return u==null&&this.terrain&&(u=this.terrain.getElevationForLngLatZoom(n,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(m,e,n,u)}resize(m,e=!0){const[n,u]=this._containerDimensions(),f=this._getClampedPixelRatio(n,u);if(this._resizeCanvas(n,u,f),this.painter.resize(n,u,f),this.painter.overLimit()){const C=this.painter.context.gl;this._maxCanvasSize=[C.drawingBufferWidth,C.drawingBufferHeight];const T=this._getClampedPixelRatio(n,u);this._resizeCanvas(n,u,T),this.painter.resize(n,u,T)}this._resizeTransform(e);const y=!this._moving;return y&&(this.stop(),this.fire(new s.l("movestart",m)).fire(new s.l("move",m))),this.fire(new s.l("resize",m)),y&&this.fire(new s.l("moveend",m)),this}_resizeTransform(m=!0){var e;const[n,u]=this._containerDimensions();this.transform.resize(n,u,m),(e=this._requestedCameraState)===null||e===void 0||e.resize(n,u,m)}_getClampedPixelRatio(m,e){const{0:n,1:u}=this._maxCanvasSize,f=this.getPixelRatio(),y=m*f,C=e*f;return Math.min(y>n?n/y:1,C>u?u/C:1)*f}getPixelRatio(){var m;return(m=this._overridePixelRatio)!==null&&m!==void 0?m:devicePixelRatio}setPixelRatio(m){this._overridePixelRatio=m,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(m){return this.transform.setMaxBounds(yn.convert(m)),this._update()}setMinZoom(m){if((m=m??-2)>=-2&&m<=this.transform.maxZoom)return this.transform.setMinZoom(m),this._update(),this.getZoom()<m&&this.setZoom(m),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(m){if((m=m??22)>=this.transform.minZoom)return this.transform.setMaxZoom(m),this._update(),this.getZoom()>m&&this.setZoom(m),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(m){if((m=m??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(m>=0&&m<=this.transform.maxPitch)return this.transform.setMinPitch(m),this._update(),this.getPitch()<m&&this.setPitch(m),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(m){if((m=m??60)>180)throw new Error("maxPitch must be less than or equal to 180");if(m>=this.transform.minPitch)return this.transform.setMaxPitch(m),this._update(),this.getPitch()>m&&this.setPitch(m),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(m){return this.transform.setRenderWorldCopies(m),this._update()}project(m){return this.transform.locationToScreenPoint(s.Q.convert(m),this.style&&this.terrain)}unproject(m){return this.transform.screenPointToLocation(s.P.convert(m),this.terrain)}isMoving(){var m;return this._moving||((m=this.handlers)===null||m===void 0?void 0:m.isMoving())}isZooming(){var m;return this._zooming||((m=this.handlers)===null||m===void 0?void 0:m.isZooming())}isRotating(){var m;return this._rotating||((m=this.handlers)===null||m===void 0?void 0:m.isRotating())}_createDelegatedListener(m,e,n){if(m==="mouseenter"||m==="mouseover"){let u=!1;return{layers:e,listener:n,delegates:{mousemove:y=>{const C=e.filter(k=>this.getLayer(k)),T=C.length!==0?this.queryRenderedFeatures(y.point,{layers:C}):[];T.length?u||(u=!0,n.call(this,new la(m,this,y.originalEvent,{features:T}))):u=!1},mouseout:()=>{u=!1}}}}if(m==="mouseleave"||m==="mouseout"){let u=!1;return{layers:e,listener:n,delegates:{mousemove:C=>{const T=e.filter(k=>this.getLayer(k));(T.length!==0?this.queryRenderedFeatures(C.point,{layers:T}):[]).length?u=!0:u&&(u=!1,n.call(this,new la(m,this,C.originalEvent)))},mouseout:C=>{u&&(u=!1,n.call(this,new la(m,this,C.originalEvent)))}}}}{const u=f=>{const y=e.filter(T=>this.getLayer(T)),C=y.length!==0?this.queryRenderedFeatures(f.point,{layers:y}):[];C.length&&(f.features=C,n.call(this,f),delete f.features)};return{layers:e,listener:n,delegates:{[m]:u}}}}_saveDelegatedListener(m,e){this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[m]=this._delegatedListeners[m]||[],this._delegatedListeners[m].push(e)}_removeDelegatedListener(m,e,n){if(!this._delegatedListeners||!this._delegatedListeners[m])return;const u=this._delegatedListeners[m];for(let f=0;f<u.length;f++){const y=u[f];if(y.listener===n&&y.layers.length===e.length&&y.layers.every(C=>e.includes(C))){for(const C in y.delegates)this.off(C,y.delegates[C]);return void u.splice(f,1)}}}on(m,e,n){if(n===void 0)return super.on(m,e);const u=typeof e=="string"?[e]:e,f=this._createDelegatedListener(m,u,n);this._saveDelegatedListener(m,f);for(const y in f.delegates)this.on(y,f.delegates[y]);return{unsubscribe:()=>{this._removeDelegatedListener(m,u,n)}}}once(m,e,n){if(n===void 0)return super.once(m,e);const u=typeof e=="string"?[e]:e,f=this._createDelegatedListener(m,u,n);for(const y in f.delegates){const C=f.delegates[y];f.delegates[y]=(...T)=>{this._removeDelegatedListener(m,u,n),C(...T)}}this._saveDelegatedListener(m,f);for(const y in f.delegates)this.once(y,f.delegates[y]);return this}off(m,e,n){return n===void 0?super.off(m,e):(this._removeDelegatedListener(m,typeof e=="string"?[e]:e,n),this)}queryRenderedFeatures(m,e){if(!this.style)return[];let n;const u=m instanceof s.P||Array.isArray(m),f=u?m:[[0,0],[this.transform.width,this.transform.height]];if(e=e||(u?{}:m)||{},f instanceof s.P||typeof f[0]=="number")n=[s.P.convert(f)];else{const y=s.P.convert(f[0]),C=s.P.convert(f[1]);n=[y,new s.P(C.x,y.y),C,new s.P(y.x,C.y),y]}return this.style.queryRenderedFeatures(n,e,this.transform)}querySourceFeatures(m,e){return this.style.querySourceFeatures(m,e)}setStyle(m,e){return(e=s.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},e)).diff!==!1&&e.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&m?(this._diffStyle(m,e),this):(this._localIdeographFontFamily=e.localIdeographFontFamily,this._updateStyle(m,e))}setTransformRequest(m){return this._requestManager.setTransformRequest(m),this}_getUIString(m){const e=this._locale[m];if(e==null)throw new Error(`Missing UI string '${m}'`);return e}_updateStyle(m,e){var n,u;if(e.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(m,e));const f=this.style&&e.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!m)),m?(this.style=new Q0(this,e||{}),this.style.setEventedParent(this,{style:this.style}),typeof m=="string"?this.style.loadURL(m,e,f):this.style.loadJSON(m,e,f),this):((u=(n=this.style)===null||n===void 0?void 0:n.projection)===null||u===void 0||u.destroy(),delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new Q0(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(m,e){if(typeof m=="string"){const n=this._requestManager.transformRequest(m,"Style");s.j(n,new AbortController).then(u=>{this._updateDiff(u.data,e)}).catch(u=>{u&&this.fire(new s.k(u))})}else typeof m=="object"&&this._updateDiff(m,e)}_updateDiff(m,e){try{this.style.setState(m,e)&&this._update(!0)}catch(n){s.w(`Unable to perform style diff: ${n.message||n.error||n}.  Rebuilding the style from scratch.`),this._updateStyle(m,e)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():s.w("There is no style added to the map.")}addSource(m,e){return this._lazyInitEmptyStyle(),this.style.addSource(m,e),this._update(!0)}isSourceLoaded(m){const e=this.style&&this.style.sourceCaches[m];if(e!==void 0)return e.loaded();this.fire(new s.k(new Error(`There is no source with ID '${m}'`)))}setTerrain(m){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),m){const e=this.style.sourceCaches[m.source];if(!e)throw new Error(`cannot load terrain, because there exists no source with ID: ${m.source}`);this.terrain===null&&e.reload();for(const n in this.style._layers){const u=this.style._layers[n];u.type==="hillshade"&&u.source===m.source&&s.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new Xu(this.painter,e,m),this.painter.renderToTexture=new Yu(this.painter,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._terrainDataCallback=n=>{var u;n.dataType==="style"?this.terrain.sourceCache.freeRtt():n.dataType==="source"&&n.tile&&(n.sourceId!==m.source||this._elevationFreeze||(this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))),((u=n.source)===null||u===void 0?void 0:u.type)==="image"?this.terrain.sourceCache.freeRtt():this.terrain.sourceCache.freeRtt(n.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0);return this.fire(new s.l("terrain",{terrain:m})),this}getTerrain(){var m,e;return(e=(m=this.terrain)===null||m===void 0?void 0:m.options)!==null&&e!==void 0?e:null}areTilesLoaded(){const m=this.style&&this.style.sourceCaches;for(const e in m){const n=m[e]._tiles;for(const u in n){const f=n[u];if(f.state!=="loaded"&&f.state!=="errored")return!1}}return!0}removeSource(m){return this.style.removeSource(m),this._update(!0)}getSource(m){return this.style.getSource(m)}setSourceTileLodParams(m,e,n){if(n){const u=this.getSource(n);if(!u)throw new Error(`There is no source with ID "${n}", cannot set LOD parameters`);u.calculateTileZoom=We(Math.max(1,m),Math.max(1,e))}else for(const u in this.style.sourceCaches)this.style.sourceCaches[u].getSource().calculateTileZoom=We(Math.max(1,m),Math.max(1,e));return this._update(!0),this}refreshTiles(m,e){const n=this.style.sourceCaches[m];if(!n)throw new Error(`There is no source cache with ID "${m}", cannot refresh tile`);e===void 0?n.reload():n.refreshTiles(e.map(u=>new s.a1(u.z,u.x,u.y)))}addImage(m,e,n={}){const{pixelRatio:u=1,sdf:f=!1,stretchX:y,stretchY:C,content:T,textFitWidth:k,textFitHeight:z}=n;if(this._lazyInitEmptyStyle(),!(e instanceof HTMLImageElement||s.b(e))){if(e.width===void 0||e.height===void 0)return this.fire(new s.k(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:O,height:W,data:Z}=e,Q=e;return this.style.addImage(m,{data:new s.R({width:O,height:W},new Uint8Array(Z)),pixelRatio:u,stretchX:y,stretchY:C,content:T,textFitWidth:k,textFitHeight:z,sdf:f,version:0,userImage:Q}),Q.onAdd&&Q.onAdd(this,m),this}}{const{width:O,height:W,data:Z}=ce.getImageData(e);this.style.addImage(m,{data:new s.R({width:O,height:W},Z),pixelRatio:u,stretchX:y,stretchY:C,content:T,textFitWidth:k,textFitHeight:z,sdf:f,version:0})}}updateImage(m,e){const n=this.style.getImage(m);if(!n)return this.fire(new s.k(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const u=e instanceof HTMLImageElement||s.b(e)?ce.getImageData(e):e,{width:f,height:y,data:C}=u;if(f===void 0||y===void 0)return this.fire(new s.k(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(f!==n.data.width||y!==n.data.height)return this.fire(new s.k(new Error("The width and height of the updated image must be that same as the previous version of the image")));const T=!(e instanceof HTMLImageElement||s.b(e));return n.data.replace(C,T),this.style.updateImage(m,n),this}getImage(m){return this.style.getImage(m)}hasImage(m){return m?!!this.style.getImage(m):(this.fire(new s.k(new Error("Missing required image id"))),!1)}removeImage(m){this.style.removeImage(m)}loadImage(m){return Ae.getImage(this._requestManager.transformRequest(m,"Image"),new AbortController)}listImages(){return this.style.listImages()}addLayer(m,e){return this._lazyInitEmptyStyle(),this.style.addLayer(m,e),this._update(!0)}moveLayer(m,e){return this.style.moveLayer(m,e),this._update(!0)}removeLayer(m){return this.style.removeLayer(m),this._update(!0)}getLayer(m){return this.style.getLayer(m)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(m,e,n){return this.style.setLayerZoomRange(m,e,n),this._update(!0)}setFilter(m,e,n={}){return this.style.setFilter(m,e,n),this._update(!0)}getFilter(m){return this.style.getFilter(m)}setPaintProperty(m,e,n,u={}){return this.style.setPaintProperty(m,e,n,u),this._update(!0)}getPaintProperty(m,e){return this.style.getPaintProperty(m,e)}setLayoutProperty(m,e,n,u={}){return this.style.setLayoutProperty(m,e,n,u),this._update(!0)}getLayoutProperty(m,e){return this.style.getLayoutProperty(m,e)}setGlyphs(m,e={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(m,e),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(m,e,n={}){return this._lazyInitEmptyStyle(),this.style.addSprite(m,e,n,u=>{u||this._update(!0)}),this}removeSprite(m){return this._lazyInitEmptyStyle(),this.style.removeSprite(m),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(m,e={}){return this._lazyInitEmptyStyle(),this.style.setSprite(m,e,n=>{n||this._update(!0)}),this}setLight(m,e={}){return this._lazyInitEmptyStyle(),this.style.setLight(m,e),this._update(!0)}getLight(){return this.style.getLight()}setSky(m,e={}){return this._lazyInitEmptyStyle(),this.style.setSky(m,e),this._update(!0)}getSky(){return this.style.getSky()}setFeatureState(m,e){return this.style.setFeatureState(m,e),this._update()}removeFeatureState(m,e){return this.style.removeFeatureState(m,e),this._update()}getFeatureState(m){return this.style.getFeatureState(m)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let m=0,e=0;return this._container&&(m=this._container.clientWidth||400,e=this._container.clientHeight||300),[m,e]}_setupContainer(){const m=this._container;m.classList.add("maplibregl-map");const e=this._canvasContainer=ae.create("div","maplibregl-canvas-container",m);this._interactive&&e.classList.add("maplibregl-interactive"),this._canvas=ae.create("canvas","maplibregl-canvas",e),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",this._interactive?"0":"-1"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region");const n=this._containerDimensions(),u=this._getClampedPixelRatio(n[0],n[1]);this._resizeCanvas(n[0],n[1],u);const f=this._controlContainer=ae.create("div","maplibregl-control-container",m),y=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(C=>{y[C]=ae.create("div",`maplibregl-ctrl-${C} `,f)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(m,e,n){this._canvas.width=Math.floor(n*m),this._canvas.height=Math.floor(n*e),this._canvas.style.width=`${m}px`,this._canvas.style.height=`${e}px`}_setupPainter(){const m=Object.assign(Object.assign({},this._canvasContextAttributes),{alpha:!0,depth:!0,stencil:!0,premultipliedAlpha:!0});let e=null;this._canvas.addEventListener("webglcontextcreationerror",u=>{e={requestedAttributes:m},u&&(e.statusMessage=u.statusMessage,e.type=u.type)},{once:!0});let n=null;if(n=this._canvasContextAttributes.contextType?this._canvas.getContext(this._canvasContextAttributes.contextType,m):this._canvas.getContext("webgl2",m)||this._canvas.getContext("webgl",m),!n){const u="Failed to initialize WebGL";throw e?(e.message=u,new Error(JSON.stringify(e))):new Error(u)}this.painter=new Yc(n,this.transform),he.testSupport(n)}migrateProjection(m,e){super.migrateProjection(m,e),this.painter.transform=m,this.fire(new s.l("projectiontransition",{newProjection:this.style.projection.name}))}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(m){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||m,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(m){return this._update(),this._renderTaskQueue.add(m)}_cancelRenderFrame(m){this._renderTaskQueue.remove(m)}_render(m){var e,n,u,f,y;const C=this._idleTriggered?this._fadeDuration:0,T=((e=this.style.projection)===null||e===void 0?void 0:e.transitionState)>0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(m),this._removed)return;let k=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const W=this.transform.zoom,Z=ce.now();this.style.zoomHistory.update(W,Z);const Q=new s.C(W,{now:Z,fadeDuration:C,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),ie=Q.crossFadingFactor();ie===1&&ie===this._crossFadingFactor||(k=!0,this._crossFadingFactor=ie),this.style.update(Q)}const z=((n=this.style.projection)===null||n===void 0?void 0:n.transitionState)>0!==T;(u=this.style.projection)===null||u===void 0||u.setErrorQueryLatitudeDegrees(this.transform.center.lat),this.transform.setTransitionState((f=this.style.projection)===null||f===void 0?void 0:f.transitionState,(y=this.style.projection)===null||y===void 0?void 0:y.latitudeErrorCorrectionRadians),this.style&&(this._sourcesDirty||z)&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),!this._elevationFreeze&&this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0)),this._placementDirty=this.style&&this.style._updatePlacement(this.transform,this.showCollisionBoxes,C,this._crossSourceCollisions,z),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:C,showPadding:this.showPadding}),this.fire(new s.l("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,s.cn.mark(s.co.load),this.fire(new s.l("load"))),this.style&&(this.style.hasTransitions()||k)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const O=this._sourcesDirty||this._styleDirty||this._placementDirty;return O||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new s.l("idle")),!this._loaded||this._fullyLoaded||O||(this._fullyLoaded=!0,s.cn.mark(s.co.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var m;this._hash&&this._hash.remove();for(const n of this._controls)n.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),Ae.removeThrottleControl(this._imageQueueHandle),(m=this._resizeObserver)===null||m===void 0||m.disconnect();const e=this.painter.context.gl.getExtension("WEBGL_lose_context");e!=null&&e.loseContext&&e.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),ae.remove(this._canvasContainer),ae.remove(this._controlContainer),this._container.removeEventListener("scroll",this._onMapScroll,!1),this._container.classList.remove("maplibregl-map"),s.cn.clearMetrics(),this._removed=!0,this.fire(new s.l("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,ce.frame(this._frameRequest,m=>{s.cn.frame(m),this._frameRequest=null;try{this._render(m)}catch(e){if(!s.cp(e)&&!function(n){return n.message===ls}(e))throw e}},()=>{}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(m){this._showTileBoundaries!==m&&(this._showTileBoundaries=m,this._update())}get showPadding(){return!!this._showPadding}set showPadding(m){this._showPadding!==m&&(this._showPadding=m,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(m){this._showCollisionBoxes!==m&&(this._showCollisionBoxes=m,m?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(m){this._showOverdrawInspector!==m&&(this._showOverdrawInspector=m,this._update())}get repaint(){return!!this._repaint}set repaint(m){this._repaint!==m&&(this._repaint=m,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(m){this._vertices=m,this._update()}get version(){return jn}getCameraTargetElevation(){return this.transform.elevation}getProjection(){return this.style.getProjection()}setProjection(m){return this._lazyInitEmptyStyle(),this.style.setProjection(m),this._update(!0)}},I.MapMouseEvent=la,I.MapTouchEvent=vl,I.MapWheelEvent=_o,I.Marker=cs,I.NavigationControl=class{constructor(m){this._updateZoomButtons=()=>{const e=this._map.getZoom(),n=e===this._map.getMaxZoom(),u=e===this._map.getMinZoom();this._zoomInButton.disabled=n,this._zoomOutButton.disabled=u,this._zoomInButton.setAttribute("aria-disabled",n.toString()),this._zoomOutButton.setAttribute("aria-disabled",u.toString())},this._rotateCompassArrow=()=>{this._compassIcon.style.transform=this.options.visualizePitch&&this.options.visualizeRoll?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateZ(${-this._map.transform.roll}deg) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizeRoll?`rotate(${-this._map.transform.bearing-this._map.transform.roll}deg)`:`rotate(${-this._map.transform.bearing}deg)`},this._setButtonTitle=(e,n)=>{const u=this._map._getUIString(`NavigationControl.${n}`);e.title=u,e.setAttribute("aria-label",u)},this.options=s.e({},jo,m),this._container=ae.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",e=>e.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",e=>this._map.zoomIn({},{originalEvent:e})),ae.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",e=>this._map.zoomOut({},{originalEvent:e})),ae.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",e=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:e}):this._map.resetNorth({},{originalEvent:e})}),this._compassIcon=ae.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(m){return this._map=m,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.on("roll",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Zl(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){ae.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.off("roll",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(m,e){const n=ae.create("button",m,this._container);return n.type="button",n.addEventListener("click",e),n}},I.Popup=class extends s.E{constructor(m){super(),this._updateOpacity=()=>{this.options.locationOccludedOpacity!==void 0&&(this._container.style.opacity=this._map.transform.isLocationOccluded(this.getLngLat())?`${this.options.locationOccludedOpacity}`:void 0)},this.remove=()=>(this._content&&ae.remove(this._content),this._container&&(ae.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new s.l("close"))),this),this._onMouseUp=e=>{this._update(e.point)},this._onMouseMove=e=>{this._update(e.point)},this._onDrag=e=>{this._update(e.point)},this._update=e=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=ae.create("div","maplibregl-popup",this._map.getContainer()),this._tip=ae.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const C of this.options.className.split(" "))this._container.classList.add(C);this._closeButton&&this._closeButton.setAttribute("aria-label",this._map._getUIString("Popup.Close")),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=Cl(this._lngLat,this._flatPos,this._map.transform,this._trackPointer),this._trackPointer&&!e)return;const n=this._flatPos=this._pos=this._trackPointer&&e?e:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&e?e:this._map.transform.locationToScreenPoint(this._lngLat));let u=this.options.anchor;const f=hs(this.options.offset);if(!u){const C=this._container.offsetWidth,T=this._container.offsetHeight;let k;k=n.y+f.bottom.y<T?["top"]:n.y>this._map.transform.height-T?["bottom"]:[],n.x<C/2?k.push("left"):n.x>this._map.transform.width-C/2&&k.push("right"),u=k.length===0?"bottom":k.join("-")}let y=n.add(f[u]);this.options.subpixelPositioning||(y=y.round()),ae.setTransform(this._container,`${Vo[u]} translate(${y.x}px,${y.y}px)`),$a(this._container,u,"popup"),this._updateOpacity()},this._onClose=()=>{this.remove()},this.options=s.e(Object.create(Qu),m)}addTo(m){return this._map&&this.remove(),this._map=m,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new s.l("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(m){return this._lngLat=s.Q.convert(m),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(m){return this.setDOMContent(document.createTextNode(m))}setHTML(m){const e=document.createDocumentFragment(),n=document.createElement("body");let u;for(n.innerHTML=m;u=n.firstChild,u;)e.appendChild(u);return this.setDOMContent(e)}getMaxWidth(){var m;return(m=this._container)===null||m===void 0?void 0:m.style.maxWidth}setMaxWidth(m){return this.options.maxWidth=m,this._update(),this}setDOMContent(m){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=ae.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(m),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(m){return this._container&&this._container.classList.add(m),this}removeClassName(m){return this._container&&this._container.classList.remove(m),this}setOffset(m){return this.options.offset=m,this._update(),this}toggleClassName(m){if(this._container)return this._container.classList.toggle(m)}setSubpixelPositioning(m){this.options.subpixelPositioning=m}_createCloseButton(){this.options.closeButton&&(this._closeButton=ae.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const m=this._container.querySelector(Jc);m&&m.focus()}},I.RasterDEMTileSource=Yr,I.RasterTileSource=Ir,I.ScaleControl=class{constructor(m){this._onMove=()=>{Ms(this._map,this._container,this.options)},this.setUnit=e=>{this.options.unit=e,Ms(this._map,this._container,this.options)},this.options=Object.assign(Object.assign({},O0),m)}getDefaultPosition(){return"bottom-left"}onAdd(m){return this._map=m,this._container=ae.create("div","maplibregl-ctrl maplibregl-ctrl-scale",m.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){ae.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},I.ScrollZoomHandler=lr,I.Style=Q0,I.TerrainControl=class{constructor(m){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=m}onAdd(m){return this._map=m,this._container=ae.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=ae.create("button","maplibregl-ctrl-terrain",this._container),ae.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){ae.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},I.TwoFingersTouchPitchHandler=du,I.TwoFingersTouchRotateHandler=un,I.TwoFingersTouchZoomHandler=Ss,I.TwoFingersTouchZoomRotateHandler=No,I.VectorTileSource=gi,I.VideoSource=ur,I.addSourceType=(m,e)=>s._(void 0,void 0,void 0,function*(){if(ni(m))throw new Error(`A source type called "${m}" already exists.`);((n,u)=>{Or[n]=u})(m,e)}),I.clearPrewarmedResources=function(){const m=hn;m&&(m.isPreloaded()&&m.numActive()===1?(m.release(qe),hn=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},I.createTileMesh=js,I.getMaxParallelImageRequests=function(){return s.a.MAX_PARALLEL_IMAGE_REQUESTS},I.getRTLTextPluginStatus=function(){return Qr().getRTLTextPluginStatus()},I.getVersion=function(){return ps},I.getWorkerCount=function(){return Tt.workerCount},I.getWorkerUrl=function(){return s.a.WORKER_URL},I.importScriptInWorkers=function(m){return Fn().broadcast("IS",m)},I.prewarm=function(){gn().acquire(qe)},I.setMaxParallelImageRequests=function(m){s.a.MAX_PARALLEL_IMAGE_REQUESTS=m},I.setRTLTextPlugin=function(m,e){return Qr().setRTLTextPlugin(m,e)},I.setWorkerCount=function(m){Tt.workerCount=m},I.setWorkerUrl=function(m){s.a.WORKER_URL=m}});var E=d;return E})}(wm)),wm.exports}var tS=eS();const lf=Fm(tS);var Gu=Uint8Array,yf=Uint16Array,nS=Int32Array,jx=new Gu([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Vx=new Gu([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),rS=new Gu([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Zx=function(o,p){for(var d=new yf(31),w=0;w<31;++w)d[w]=p+=1<<o[w-1];for(var D=new nS(d[30]),w=1;w<30;++w)for(var E=d[w];E<d[w+1];++E)D[E]=E-d[w]<<5|w;return{b:d,r:D}},Wx=Zx(jx,2),Hx=Wx.b,iS=Wx.r;Hx[28]=258,iS[258]=28;var aS=Zx(Vx,0),oS=aS.b,D1=new yf(32768);for(var za=0;za<32768;++za){var Kp=(za&43690)>>1|(za&21845)<<1;Kp=(Kp&52428)>>2|(Kp&13107)<<2,Kp=(Kp&61680)>>4|(Kp&3855)<<4,D1[za]=((Kp&65280)>>8|(Kp&255)<<8)>>1}var hg=function(o,p,d){for(var w=o.length,D=0,E=new yf(p);D<w;++D)o[D]&&++E[o[D]-1];var I=new yf(p);for(D=1;D<p;++D)I[D]=I[D-1]+E[D-1]<<1;var s;if(d){s=new yf(1<<p);var V=15-p;for(D=0;D<w;++D)if(o[D])for(var q=D<<4|o[D],ue=p-o[D],te=I[o[D]-1]++<<ue,ce=te|(1<<ue)-1;te<=ce;++te)s[D1[te]>>V]=q}else for(s=new yf(w),D=0;D<w;++D)o[D]&&(s[D]=D1[I[o[D]-1]++]>>15-o[D]);return s},Ig=new Gu(288);for(var za=0;za<144;++za)Ig[za]=8;for(var za=144;za<256;++za)Ig[za]=9;for(var za=256;za<280;++za)Ig[za]=7;for(var za=280;za<288;++za)Ig[za]=8;var qx=new Gu(32);for(var za=0;za<32;++za)qx[za]=5;var sS=hg(Ig,9,1),lS=hg(qx,5,1),qy=function(o){for(var p=o[0],d=1;d<o.length;++d)o[d]>p&&(p=o[d]);return p},Oc=function(o,p,d){var w=p/8|0;return(o[w]|o[w+1]<<8)>>(p&7)&d},Ky=function(o,p){var d=p/8|0;return(o[d]|o[d+1]<<8|o[d+2]<<16)>>(p&7)},uS=function(o){return(o+7)/8|0},cS=function(o,p,d){return(d==null||d>o.length)&&(d=o.length),new Gu(o.subarray(p,d))},hS=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],zu=function(o,p,d){var w=new Error(p||hS[o]);if(w.code=o,Error.captureStackTrace&&Error.captureStackTrace(w,zu),!d)throw w;return w},J1=function(o,p,d,w){var D=o.length,E=0;if(!D||p.f&&!p.l)return d||new Gu(0);var I=!d,s=I||p.i!=2,V=p.i;I&&(d=new Gu(D*3));var q=function(Nn){var Kn=d.length;if(Nn>Kn){var Hn=new Gu(Math.max(Kn*2,Nn));Hn.set(d),d=Hn}},ue=p.f||0,te=p.p||0,ce=p.b||0,ae=p.l,he=p.d,_e=p.m,Pe=p.n,Ze=D*8;do{if(!ae){ue=Oc(o,te,1);var tt=Oc(o,te+1,3);if(te+=3,tt)if(tt==1)ae=sS,he=lS,_e=9,Pe=5;else if(tt==2){var $e=Oc(o,te,31)+257,ot=Oc(o,te+10,15)+4,Pt=$e+Oc(o,te+5,31)+1;te+=14;for(var Yt=new Gu(Pt),ge=new Gu(19),bt=0;bt<ot;++bt)ge[rS[bt]]=Oc(o,te+bt*3,7);te+=ot*3;for(var St=qy(ge),Bt=(1<<St)-1,Wt=hg(ge,St,1),bt=0;bt<Pt;){var Ft=Wt[Oc(o,te,Bt)];te+=Ft&15;var ze=Ft>>4;if(ze<16)Yt[bt++]=ze;else{var Nt=0,cn=0;for(ze==16?(cn=3+Oc(o,te,3),te+=2,Nt=Yt[bt-1]):ze==17?(cn=3+Oc(o,te,7),te+=3):ze==18&&(cn=11+Oc(o,te,127),te+=7);cn--;)Yt[bt++]=Nt}}var yt=Yt.subarray(0,$e),mt=Yt.subarray($e);_e=qy(yt),Pe=qy(mt),ae=hg(yt,_e,1),he=hg(mt,Pe,1)}else zu(1);else{var ze=uS(te)+4,Ae=o[ze-4]|o[ze-3]<<8,Ge=ze+Ae;if(Ge>D){V&&zu(0);break}s&&q(ce+Ae),d.set(o.subarray(ze,Ge),ce),p.b=ce+=Ae,p.p=te=Ge*8,p.f=ue;continue}if(te>Ze){V&&zu(0);break}}s&&q(ce+131072);for(var jt=(1<<_e)-1,qe=(1<<Pe)-1,Tt=te;;Tt=te){var Nt=ae[Ky(o,te)&jt],mn=Nt>>4;if(te+=Nt&15,te>Ze){V&&zu(0);break}if(Nt||zu(2),mn<256)d[ce++]=mn;else if(mn==256){Tt=te,ae=null;break}else{var hn=mn-254;if(mn>264){var bt=mn-257,kt=jx[bt];hn=Oc(o,te,(1<<kt)-1)+Hx[bt],te+=kt}var gn=he[Ky(o,te)&qe],wn=gn>>4;gn||zu(3),te+=gn&15;var mt=oS[wn];if(wn>3){var kt=Vx[wn];mt+=Ky(o,te)&(1<<kt)-1,te+=kt}if(te>Ze){V&&zu(0);break}s&&q(ce+131072);var Fn=ce+hn;if(ce<mt){var Rn=E-mt,An=Math.min(mt,Fn);for(Rn+ce<0&&zu(3);ce<An;++ce)d[ce]=w[Rn+ce]}for(;ce<Fn;++ce)d[ce]=d[ce-mt]}}p.l=ae,p.p=Tt,p.b=ce,p.f=ue,ae&&(ue=1,p.m=_e,p.d=he,p.n=Pe)}while(!ue);return ce!=d.length&&I?cS(d,0,ce):d.subarray(0,ce)},pS=new Gu(0),dS=function(o){(o[0]!=31||o[1]!=139||o[2]!=8)&&zu(6,"invalid gzip data");var p=o[3],d=10;p&4&&(d+=(o[10]|o[11]<<8)+2);for(var w=(p>>3&1)+(p>>4&1);w>0;w-=!o[d++]);return d+(p&2)},fS=function(o){var p=o.length;return(o[p-4]|o[p-3]<<8|o[p-2]<<16|o[p-1]<<24)>>>0},gS=function(o,p){return((o[0]&15)!=8||o[0]>>4>7||(o[0]<<8|o[1])%31)&&zu(6,"invalid zlib data"),(o[1]>>5&1)==1&&zu(6,"invalid zlib data: "+(o[1]&32?"need":"unexpected")+" dictionary"),(o[1]>>3&4)+2};function mS(o,p){return J1(o,{i:2},p,p)}function yS(o,p){var d=dS(o);return d+8>o.length&&zu(6,"invalid gzip data"),J1(o.subarray(d,-8),{i:2},new Gu(fS(o)),p)}function _S(o,p){return J1(o.subarray(gS(o),-4),{i:2},p,p)}function vS(o,p){return o[0]==31&&o[1]==139&&o[2]==8?yS(o,p):(o[0]&15)!=8||o[0]>>4>7||(o[0]<<8|o[1])%31?mS(o,p):_S(o,p)}var xS=typeof TextDecoder<"u"&&new TextDecoder,bS=0;try{xS.decode(pS,{stream:!0}),bS=1}catch{}var wS=Object.defineProperty,pg=Math.pow,ta=(o,p)=>wS(o,"name",{value:p,configurable:!0}),al=(o,p,d)=>new Promise((w,D)=>{var E=V=>{try{s(d.next(V))}catch(q){D(q)}},I=V=>{try{s(d.throw(V))}catch(q){D(q)}},s=V=>V.done?w(V.value):Promise.resolve(V.value).then(E,I);s((d=d.apply(o,p)).next())});ta((o,p)=>{let d=!1,w="",D=L.GridLayer.extend({createTile:ta((E,I)=>{let s=document.createElement("img"),V=new AbortController,q=V.signal;return s.cancel=()=>{V.abort()},d||(o.getHeader().then(ue=>{ue.tileType===1?console.error("Error: archive contains MVT vector tiles, but leafletRasterLayer is for displaying raster tiles. See https://github.com/protomaps/PMTiles/tree/main/js for details."):ue.tileType===2?w="image/png":ue.tileType===3?w="image/jpeg":ue.tileType===4?w="image/webp":ue.tileType===5&&(w="image/avif")}),d=!0),o.getZxy(E.z,E.x,E.y,q).then(ue=>{if(ue){let te=new Blob([ue.data],{type:w}),ce=window.URL.createObjectURL(te);s.src=ce,s.cancel=void 0,I(void 0,s)}}).catch(ue=>{if(ue.name!=="AbortError")throw ue}),s},"createTile"),_removeTile:ta(function(E){let I=this._tiles[E];I&&(I.el.cancel&&I.el.cancel(),I.el.width=0,I.el.height=0,I.el.deleted=!0,L.DomUtil.remove(I.el),delete this._tiles[E],this.fire("tileunload",{tile:I.el,coords:this._keyToTileCoords(E)}))},"_removeTile")});return new D(p)},"leafletRasterLayer");var CS=ta(o=>(p,d)=>{if(d instanceof AbortController)return o(p,d);let w=new AbortController;return o(p,w).then(D=>d(void 0,D.data,D.cacheControl||"",D.expires||""),D=>d(D)).catch(D=>d(D)),{cancel:ta(()=>w.abort(),"cancel")}},"v3compat"),Kx=class{constructor(p){this.tilev4=ta((d,w)=>al(this,null,function*(){if(d.type==="json"){let ae=d.url.substr(10),he=this.tiles.get(ae);if(he||(he=new zv(ae),this.tiles.set(ae,he)),this.metadata)return{data:yield he.getTileJson(d.url)};let _e=yield he.getHeader();return(_e.minLon>=_e.maxLon||_e.minLat>=_e.maxLat)&&console.error(`Bounds of PMTiles archive ${_e.minLon},${_e.minLat},${_e.maxLon},${_e.maxLat} are not valid.`),{data:{tiles:[`${d.url}/{z}/{x}/{y}`],minzoom:_e.minZoom,maxzoom:_e.maxZoom,bounds:[_e.minLon,_e.minLat,_e.maxLon,_e.maxLat]}}}let D=new RegExp(/pmtiles:\/\/(.+)\/(\d+)\/(\d+)\/(\d+)/),E=d.url.match(D);if(!E)throw new Error("Invalid PMTiles protocol URL");let I=E[1],s=this.tiles.get(I);s||(s=new zv(I),this.tiles.set(I,s));let V=E[2],q=E[3],ue=E[4],te=yield s.getHeader(),ce=yield s==null?void 0:s.getZxy(+V,+q,+ue,w.signal);if(ce)return{data:new Uint8Array(ce.data),cacheControl:ce.cacheControl,expires:ce.expires};if(te.tileType===1){if(this.errorOnMissingTile)throw new Error("Tile not found.");return{data:new Uint8Array}}return{data:null}}),"tilev4"),this.tile=CS(this.tilev4),this.tiles=new Map,this.metadata=(p==null?void 0:p.metadata)||!1,this.errorOnMissingTile=(p==null?void 0:p.errorOnMissingTile)||!1}add(p){this.tiles.set(p.source.getKey(),p)}get(p){return this.tiles.get(p)}};ta(Kx,"Protocol");var DS=Kx;function Xx(o,p){return(p>>>0)*4294967296+(o>>>0)}ta(Xx,"toNum");function Yx(o,p){let d=p.buf,w=d[p.pos++],D=(w&112)>>4;if(w<128||(w=d[p.pos++],D|=(w&127)<<3,w<128)||(w=d[p.pos++],D|=(w&127)<<10,w<128)||(w=d[p.pos++],D|=(w&127)<<17,w<128)||(w=d[p.pos++],D|=(w&127)<<24,w<128)||(w=d[p.pos++],D|=(w&1)<<31,w<128))return Xx(o,D);throw new Error("Expected varint not more than 10 bytes")}ta(Yx,"readVarintRemainder");function gf(o){let p=o.buf,d=p[o.pos++],w=d&127;return d<128||(d=p[o.pos++],w|=(d&127)<<7,d<128)||(d=p[o.pos++],w|=(d&127)<<14,d<128)||(d=p[o.pos++],w|=(d&127)<<21,d<128)?w:(d=p[o.pos],w|=(d&15)<<28,Yx(w,o))}ta(gf,"readVarint");function e_(o,p,d,w){if(w===0){d===1&&(p[0]=o-1-p[0],p[1]=o-1-p[1]);let D=p[0];p[0]=p[1],p[1]=D}}ta(e_,"rotate");function Qx(o,p){let d=pg(2,o),w=p,D=p,E=p,I=[0,0],s=1;for(;s<d;)w=1&E/2,D=1&(E^w),e_(s,I,w,D),I[0]+=s*w,I[1]+=s*D,E=E/4,s*=2;return[o,I[0],I[1]]}ta(Qx,"idOnLevel");var IS=[0,1,5,21,85,341,1365,5461,21845,87381,349525,1398101,5592405,22369621,89478485,357913941,1431655765,5726623061,22906492245,91625968981,366503875925,1466015503701,5864062014805,23456248059221,93824992236885,375299968947541,0x5555555555555];function Jx(o,p,d){if(o>26)throw new Error("Tile zoom level exceeds max safe number limit (26)");if(p>pg(2,o)-1||d>pg(2,o)-1)throw new Error("tile x/y outside zoom level bounds");let w=IS[o],D=pg(2,o),E=0,I=0,s=0,V=[p,d],q=D/2;for(;q>0;)E=(V[0]&q)>0?1:0,I=(V[1]&q)>0?1:0,s+=q*q*(3*E^I),e_(q,V,E,I),q=q/2;return w+s}ta(Jx,"zxyToTileId");function AS(o){let p=0;for(let d=0;d<27;d++){let w=(1<<d)*(1<<d);if(p+w>o)return Qx(d,o-p);p+=w}throw new Error("Tile zoom level exceeds max safe number limit (26)")}ta(AS,"tileIdToZxy");var SS=(o=>(o[o.Unknown=0]="Unknown",o[o.None=1]="None",o[o.Gzip=2]="Gzip",o[o.Brotli=3]="Brotli",o[o.Zstd=4]="Zstd",o))(SS||{});function Vm(o,p){return al(this,null,function*(){if(p===1||p===0)return o;if(p===2){if(typeof globalThis.DecompressionStream>"u")return vS(new Uint8Array(o));let d=new Response(o).body;if(!d)throw new Error("Failed to read response stream");let w=d.pipeThrough(new globalThis.DecompressionStream("gzip"));return new Response(w).arrayBuffer()}throw new Error("Compression method not supported")})}ta(Vm,"defaultDecompress");var TS=(o=>(o[o.Unknown=0]="Unknown",o[o.Mvt=1]="Mvt",o[o.Png=2]="Png",o[o.Jpeg=3]="Jpeg",o[o.Webp=4]="Webp",o[o.Avif=5]="Avif",o))(TS||{});function eb(o){return o===1?".mvt":o===2?".png":o===3?".jpg":o===4?".webp":o===5?".avif":""}ta(eb,"tileTypeExt");var MS=127;function tb(o,p){let d=0,w=o.length-1;for(;d<=w;){let D=w+d>>1,E=p-o[D].tileId;if(E>0)d=D+1;else if(E<0)w=D-1;else return o[D]}return w>=0&&(o[w].runLength===0||p-o[w].tileId<o[w].runLength)?o[w]:null}ta(tb,"findTile");var PS=class{constructor(p){this.file=p}getKey(){return this.file.name}getBytes(p,d){return al(this,null,function*(){return{data:yield this.file.slice(p,p+d).arrayBuffer()}})}};ta(PS,"FileSource");var nb=class{constructor(p,d=new Headers){this.url=p,this.customHeaders=d,this.mustReload=!1;let w="";"navigator"in globalThis&&(w=globalThis.navigator.userAgent||"");let D=w.indexOf("Windows")>-1,E=/Chrome|Chromium|Edg|OPR|Brave/.test(w);this.chromeWindowsNoCache=!1,D&&E&&(this.chromeWindowsNoCache=!0)}getKey(){return this.url}setHeaders(p){this.customHeaders=p}getBytes(p,d,w,D){return al(this,null,function*(){let E,I;w?I=w:(E=new AbortController,I=E.signal);let s=new Headers(this.customHeaders);s.set("range",`bytes=${p}-${p+d-1}`);let V;this.mustReload?V="reload":this.chromeWindowsNoCache&&(V="no-store");let q=yield fetch(this.url,{signal:I,cache:V,headers:s});if(p===0&&q.status===416){let ce=q.headers.get("Content-Range");if(!ce||!ce.startsWith("bytes */"))throw new Error("Missing content-length on 416 response");let ae=+ce.substr(8);q=yield fetch(this.url,{signal:I,cache:"reload",headers:{range:`bytes=0-${ae-1}`}})}let ue=q.headers.get("Etag");if(ue!=null&&ue.startsWith("W/")&&(ue=null),q.status===416||D&&ue&&ue!==D)throw this.mustReload=!0,new I1(`Server returned non-matching ETag ${D} after one retry. Check browser extensions and servers for issues that may affect correct ETag headers.`);if(q.status>=300)throw new Error(`Bad response code: ${q.status}`);let te=q.headers.get("Content-Length");if(q.status===200&&(!te||+te>d))throw E&&E.abort(),new Error("Server returned no content-length header or content-length exceeding request. Check that your storage backend supports HTTP Byte Serving.");return{data:yield q.arrayBuffer(),etag:ue||void 0,cacheControl:q.headers.get("Cache-Control")||void 0,expires:q.headers.get("Expires")||void 0}})}};ta(nb,"FetchSource");var ES=nb;function uc(o,p){let d=o.getUint32(p+4,!0),w=o.getUint32(p+0,!0);return d*pg(2,32)+w}ta(uc,"getUint64");function rb(o,p){let d=new DataView(o),w=d.getUint8(7);if(w>3)throw new Error(`Archive is spec version ${w} but this library supports up to spec version 3`);return{specVersion:w,rootDirectoryOffset:uc(d,8),rootDirectoryLength:uc(d,16),jsonMetadataOffset:uc(d,24),jsonMetadataLength:uc(d,32),leafDirectoryOffset:uc(d,40),leafDirectoryLength:uc(d,48),tileDataOffset:uc(d,56),tileDataLength:uc(d,64),numAddressedTiles:uc(d,72),numTileEntries:uc(d,80),numTileContents:uc(d,88),clustered:d.getUint8(96)===1,internalCompression:d.getUint8(97),tileCompression:d.getUint8(98),tileType:d.getUint8(99),minZoom:d.getUint8(100),maxZoom:d.getUint8(101),minLon:d.getInt32(102,!0)/1e7,minLat:d.getInt32(106,!0)/1e7,maxLon:d.getInt32(110,!0)/1e7,maxLat:d.getInt32(114,!0)/1e7,centerZoom:d.getUint8(118),centerLon:d.getInt32(119,!0)/1e7,centerLat:d.getInt32(123,!0)/1e7,etag:p}}ta(rb,"bytesToHeader");function t_(o){let p={buf:new Uint8Array(o),pos:0},d=gf(p),w=[],D=0;for(let E=0;E<d;E++){let I=gf(p);w.push({tileId:D+I,offset:0,length:0,runLength:1}),D+=I}for(let E=0;E<d;E++)w[E].runLength=gf(p);for(let E=0;E<d;E++)w[E].length=gf(p);for(let E=0;E<d;E++){let I=gf(p);I===0&&E>0?w[E].offset=w[E-1].offset+w[E-1].length:w[E].offset=I-1}return w}ta(t_,"deserializeIndex");var ib=class extends Error{};ta(ib,"EtagMismatch");var I1=ib;function n_(o,p){return al(this,null,function*(){let d=yield o.getBytes(0,16384);if(new DataView(d.data).getUint16(0,!0)!==19792)throw new Error("Wrong magic number for PMTiles archive");let w=d.data.slice(0,MS),D=rb(w,d.etag),E=d.data.slice(D.rootDirectoryOffset,D.rootDirectoryOffset+D.rootDirectoryLength),I=`${o.getKey()}|${D.etag||""}|${D.rootDirectoryOffset}|${D.rootDirectoryLength}`,s=t_(yield p(E,D.internalCompression));return[D,[I,s.length,s]]})}ta(n_,"getHeaderAndRoot");function r_(o,p,d,w,D){return al(this,null,function*(){let E=yield o.getBytes(d,w,void 0,D.etag),I=yield p(E.data,D.internalCompression),s=t_(I);if(s.length===0)throw new Error("Empty directory is invalid");return s})}ta(r_,"getDirectory");var kS=class{constructor(p=100,d=!0,w=Vm){this.cache=new Map,this.maxCacheEntries=p,this.counter=1,this.decompress=w}getHeader(p){return al(this,null,function*(){let d=p.getKey(),w=this.cache.get(d);if(w)return w.lastUsed=this.counter++,w.data;let D=yield n_(p,this.decompress);return D[1]&&this.cache.set(D[1][0],{lastUsed:this.counter++,data:D[1][2]}),this.cache.set(d,{lastUsed:this.counter++,data:D[0]}),this.prune(),D[0]})}getDirectory(p,d,w,D){return al(this,null,function*(){let E=`${p.getKey()}|${D.etag||""}|${d}|${w}`,I=this.cache.get(E);if(I)return I.lastUsed=this.counter++,I.data;let s=yield r_(p,this.decompress,d,w,D);return this.cache.set(E,{lastUsed:this.counter++,data:s}),this.prune(),s})}prune(){if(this.cache.size>this.maxCacheEntries){let p=1/0,d;this.cache.forEach((w,D)=>{w.lastUsed<p&&(p=w.lastUsed,d=D)}),d&&this.cache.delete(d)}}invalidate(p){return al(this,null,function*(){this.cache.delete(p.getKey())})}};ta(kS,"ResolvedValueCache");var ab=class{constructor(p=100,d=!0,w=Vm){this.cache=new Map,this.invalidations=new Map,this.maxCacheEntries=p,this.counter=1,this.decompress=w}getHeader(p){return al(this,null,function*(){let d=p.getKey(),w=this.cache.get(d);if(w)return w.lastUsed=this.counter++,yield w.data;let D=new Promise((E,I)=>{n_(p,this.decompress).then(s=>{s[1]&&this.cache.set(s[1][0],{lastUsed:this.counter++,data:Promise.resolve(s[1][2])}),E(s[0]),this.prune()}).catch(s=>{I(s)})});return this.cache.set(d,{lastUsed:this.counter++,data:D}),D})}getDirectory(p,d,w,D){return al(this,null,function*(){let E=`${p.getKey()}|${D.etag||""}|${d}|${w}`,I=this.cache.get(E);if(I)return I.lastUsed=this.counter++,yield I.data;let s=new Promise((V,q)=>{r_(p,this.decompress,d,w,D).then(ue=>{V(ue),this.prune()}).catch(ue=>{q(ue)})});return this.cache.set(E,{lastUsed:this.counter++,data:s}),s})}prune(){if(this.cache.size>=this.maxCacheEntries){let p=1/0,d;this.cache.forEach((w,D)=>{w.lastUsed<p&&(p=w.lastUsed,d=D)}),d&&this.cache.delete(d)}}invalidate(p){return al(this,null,function*(){let d=p.getKey();if(this.invalidations.get(d))return yield this.invalidations.get(d);this.cache.delete(p.getKey());let w=new Promise((D,E)=>{this.getHeader(p).then(I=>{D(),this.invalidations.delete(d)}).catch(I=>{E(I)})});this.invalidations.set(d,w)})}};ta(ab,"SharedPromiseCache");var RS=ab,ob=class{constructor(p,d,w){typeof p=="string"?this.source=new ES(p):this.source=p,w?this.decompress=w:this.decompress=Vm,d?this.cache=d:this.cache=new RS}getHeader(){return al(this,null,function*(){return yield this.cache.getHeader(this.source)})}getZxyAttempt(p,d,w,D){return al(this,null,function*(){let E=Jx(p,d,w),I=yield this.cache.getHeader(this.source);if(p<I.minZoom||p>I.maxZoom)return;let s=I.rootDirectoryOffset,V=I.rootDirectoryLength;for(let q=0;q<=3;q++){let ue=yield this.cache.getDirectory(this.source,s,V,I),te=tb(ue,E);if(te){if(te.runLength>0){let ce=yield this.source.getBytes(I.tileDataOffset+te.offset,te.length,D,I.etag);return{data:yield this.decompress(ce.data,I.tileCompression),cacheControl:ce.cacheControl,expires:ce.expires}}s=I.leafDirectoryOffset+te.offset,V=te.length}else return}throw new Error("Maximum directory depth exceeded")})}getZxy(p,d,w,D){return al(this,null,function*(){try{return yield this.getZxyAttempt(p,d,w,D)}catch(E){if(E instanceof I1)return this.cache.invalidate(this.source),yield this.getZxyAttempt(p,d,w,D);throw E}})}getMetadataAttempt(){return al(this,null,function*(){let p=yield this.cache.getHeader(this.source),d=yield this.source.getBytes(p.jsonMetadataOffset,p.jsonMetadataLength,void 0,p.etag),w=yield this.decompress(d.data,p.internalCompression),D=new TextDecoder("utf-8");return JSON.parse(D.decode(w))})}getMetadata(){return al(this,null,function*(){try{return yield this.getMetadataAttempt()}catch(p){if(p instanceof I1)return this.cache.invalidate(this.source),yield this.getMetadataAttempt();throw p}})}getTileJson(p){return al(this,null,function*(){let d=yield this.getHeader(),w=yield this.getMetadata(),D=eb(d.tileType);return{tilejson:"3.0.0",scheme:"xyz",tiles:[`${p}/{z}/{x}/{y}${D}`],vector_layers:w.vector_layers,attribution:w.attribution,description:w.description,name:w.name,version:w.version,bounds:[d.minLon,d.minLat,d.maxLon,d.maxLat],center:[d.centerLon,d.centerLat,d.centerZoom],minzoom:d.minZoom,maxzoom:d.maxZoom}})}};ta(ob,"PMTiles");var zv=ob,ag={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var US=ag.exports,Gv;function zS(){return Gv||(Gv=1,function(o,p){(function(){var d,w="4.17.21",D=200,E="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",I="Expected a function",s="Invalid `variable` option passed into `_.template`",V="__lodash_hash_undefined__",q=500,ue="__lodash_placeholder__",te=1,ce=2,ae=4,he=1,_e=2,Pe=1,Ze=2,tt=4,ze=8,Ae=16,Ge=32,$e=64,ot=128,Pt=256,Yt=512,ge=30,bt="...",St=800,Bt=16,Wt=1,Ft=2,Nt=3,cn=1/0,yt=9007199254740991,mt=17976931348623157e292,jt=NaN,qe=4294967295,Tt=qe-1,mn=qe>>>1,hn=[["ary",ot],["bind",Pe],["bindKey",Ze],["curry",ze],["curryRight",Ae],["flip",Yt],["partial",Ge],["partialRight",$e],["rearg",Pt]],kt="[object Arguments]",gn="[object Array]",wn="[object AsyncFunction]",Fn="[object Boolean]",Rn="[object Date]",An="[object DOMException]",Nn="[object Error]",Kn="[object Function]",Hn="[object GeneratorFunction]",yn="[object Map]",yr="[object Number]",gi="[object Null]",Ir="[object Object]",Yr="[object Promise]",Li="[object Proxy]",vr="[object RegExp]",ur="[object Set]",Cn="[object String]",Or="[object Symbol]",ni="[object Undefined]",Wi="[object WeakMap]",Ga="[object WeakSet]",Hi="[object ArrayBuffer]",Qr="[object DataView]",Bi="[object Float32Array]",wi="[object Float64Array]",xr="[object Int8Array]",Ci="[object Int16Array]",ri="[object Int32Array]",_a="[object Uint8Array]",Fe="[object Uint8ClampedArray]",ne="[object Uint16Array]",oe="[object Uint32Array]",ve=/\b__p \+= '';/g,Me=/\b(__p \+=) '' \+/g,We=/(__e\(.*?\)|\b__t\)) \+\n'';/g,me=/&(?:amp|lt|gt|quot|#39);/g,Je=/[&<>"']/g,Ye=RegExp(me.source),at=RegExp(Je.source),pt=/<%-([\s\S]+?)%>/g,nt=/<%([\s\S]+?)%>/g,Rt=/<%=([\s\S]+?)%>/g,Jt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,pn=/^\w*$/,Tn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Xn=/[\\^$.*+?()[\]{}|]/g,On=RegExp(Xn.source),Ct=/^\s+/,br=/\s/,fr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,wr=/\{\n\/\* \[wrapped with (.+)\] \*/,Ln=/,? & /,zt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Gn=/[()=,{}\[\]\/\s]/,nr=/\\(\\)?/g,jr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Vr=/\w*$/,Sa=/^[-+]0x[0-9a-f]+$/i,or=/^0b[01]+$/i,ns=/^\[object .+?Constructor\]$/,rs=/^0o[0-7]+$/i,Eo=/^(?:0|[1-9]\d*)$/,ol=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,qa=/($^)/,Fs=/['\n\r\u2028\u2029\\]/g,sr="\\ud800-\\udfff",si="\\u0300-\\u036f",Wr="\\ufe20-\\ufe2f",Ns="\\u20d0-\\u20ff",lo=si+Wr+Ns,n0="\\u2700-\\u27bf",La="a-z\\xdf-\\xf6\\xf8-\\xff",na="\\xac\\xb1\\xd7\\xf7",uo="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",sl="\\u2000-\\u206f",va=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",bs="A-Z\\xc0-\\xd6\\xd8-\\xde",r0="\\ufe0e\\ufe0f",b0=na+uo+sl+va,ws="['’]",i0="["+sr+"]",$s="["+b0+"]",ko="["+lo+"]",B="\\d+",J="["+n0+"]",fe="["+La+"]",Te="[^"+sr+b0+B+n0+La+bs+"]",gt="\\ud83c[\\udffb-\\udfff]",ct="(?:"+ko+"|"+gt+")",Ut="[^"+sr+"]",sn="(?:\\ud83c[\\udde6-\\uddff]){2}",_n="[\\ud800-\\udbff][\\udc00-\\udfff]",Mn="["+bs+"]",xn="\\u200d",Fr="(?:"+fe+"|"+Te+")",mi="(?:"+Mn+"|"+Te+")",ra="(?:"+ws+"(?:d|ll|m|re|s|t|ve))?",er="(?:"+ws+"(?:D|LL|M|RE|S|T|VE))?",co=ct+"?",Ta="["+r0+"]?",Ma="(?:"+xn+"(?:"+[Ut,sn,_n].join("|")+")"+Ta+co+")*",li="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ui="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",zr=Ta+co+Ma,Ai="(?:"+[J,sn,_n].join("|")+")"+zr,Gr="(?:"+[Ut+ko+"?",ko,sn,_n,i0].join("|")+")",w0=RegExp(ws,"g"),Ba=RegExp(ko,"g"),ia=RegExp(gt+"(?="+gt+")|"+Gr+zr,"g"),ho=RegExp([Mn+"?"+fe+"+"+ra+"(?="+[$s,Mn,"$"].join("|")+")",mi+"+"+er+"(?="+[$s,Mn+Fr,"$"].join("|")+")",Mn+"?"+Fr+"+"+ra,Mn+"+"+er,ui,li,B,Ai].join("|"),"g"),po=RegExp("["+xn+sr+lo+r0+"]"),Ur=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ci=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Un=-1,vn={};vn[Bi]=vn[wi]=vn[xr]=vn[Ci]=vn[ri]=vn[_a]=vn[Fe]=vn[ne]=vn[oe]=!0,vn[kt]=vn[gn]=vn[Hi]=vn[Fn]=vn[Qr]=vn[Rn]=vn[Nn]=vn[Kn]=vn[yn]=vn[yr]=vn[Ir]=vn[vr]=vn[ur]=vn[Cn]=vn[Wi]=!1;var Ar={};Ar[kt]=Ar[gn]=Ar[Hi]=Ar[Qr]=Ar[Fn]=Ar[Rn]=Ar[Bi]=Ar[wi]=Ar[xr]=Ar[Ci]=Ar[ri]=Ar[yn]=Ar[yr]=Ar[Ir]=Ar[vr]=Ar[ur]=Ar[Cn]=Ar[Or]=Ar[_a]=Ar[Fe]=Ar[ne]=Ar[oe]=!0,Ar[Nn]=Ar[Kn]=Ar[Wi]=!1;var Yn={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},fo={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},aa={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ll={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},C0=parseFloat,js=parseInt,Cs=typeof rm=="object"&&rm&&rm.Object===Object&&rm,a0=typeof self=="object"&&self&&self.Object===Object&&self,hi=Cs||a0||Function("return this")(),ul=p&&!p.nodeType&&p,go=ul&&!0&&o&&!o.nodeType&&o,cl=go&&go.exports===ul,yi=cl&&Cs.process,Oi=function(){try{var it=go&&go.require&&go.require("util").types;return it||yi&&yi.binding&&yi.binding("util")}catch{}}(),Vs=Oi&&Oi.isArrayBuffer,Ei=Oi&&Oi.isDate,Si=Oi&&Oi.isMap,Ds=Oi&&Oi.isRegExp,hl=Oi&&Oi.isSet,Y0=Oi&&Oi.isTypedArray;function xa(it,Lt,wt){switch(wt.length){case 0:return it.call(Lt);case 1:return it.call(Lt,wt[0]);case 2:return it.call(Lt,wt[0],wt[1]);case 3:return it.call(Lt,wt[0],wt[1],wt[2])}return it.apply(Lt,wt)}function Fi(it,Lt,wt,Sn){for(var pr=-1,qr=it==null?0:it.length;++pr<qr;){var sa=it[pr];Lt(Sn,sa,wt(sa),it)}return Sn}function ki(it,Lt){for(var wt=-1,Sn=it==null?0:it.length;++wt<Sn&&Lt(it[wt],wt,it)!==!1;);return it}function mo(it,Lt){for(var wt=it==null?0:it.length;wt--&&Lt(it[wt],wt,it)!==!1;);return it}function Zs(it,Lt){for(var wt=-1,Sn=it==null?0:it.length;++wt<Sn;)if(!Lt(it[wt],wt,it))return!1;return!0}function Ro(it,Lt){for(var wt=-1,Sn=it==null?0:it.length,pr=0,qr=[];++wt<Sn;){var sa=it[wt];Lt(sa,wt,it)&&(qr[pr++]=sa)}return qr}function Pa(it,Lt){var wt=it==null?0:it.length;return!!wt&&Hs(it,Lt,0)>-1}function qi(it,Lt,wt){for(var Sn=-1,pr=it==null?0:it.length;++Sn<pr;)if(wt(Lt,it[Sn]))return!0;return!1}function Hr(it,Lt){for(var wt=-1,Sn=it==null?0:it.length,pr=Array(Sn);++wt<Sn;)pr[wt]=Lt(it[wt],wt,it);return pr}function Ws(it,Lt){for(var wt=-1,Sn=Lt.length,pr=it.length;++wt<Sn;)it[pr+wt]=Lt[wt];return it}function Q0(it,Lt,wt,Sn){var pr=-1,qr=it==null?0:it.length;for(Sn&&qr&&(wt=it[++pr]);++pr<qr;)wt=Lt(wt,it[pr],pr,it);return wt}function $c(it,Lt,wt,Sn){var pr=it==null?0:it.length;for(Sn&&pr&&(wt=it[--pr]);pr--;)wt=Lt(wt,it[pr],pr,it);return wt}function D0(it,Lt){for(var wt=-1,Sn=it==null?0:it.length;++wt<Sn;)if(Lt(it[wt],wt,it))return!0;return!1}var jc=F("length");function I0(it){return it.split("")}function pl(it){return it.match(zt)||[]}function zl(it,Lt,wt){var Sn;return wt(it,function(pr,qr,sa){if(Lt(pr,qr,sa))return Sn=qr,!1}),Sn}function Gl(it,Lt,wt,Sn){for(var pr=it.length,qr=wt+(Sn?1:-1);Sn?qr--:++qr<pr;)if(Lt(it[qr],qr,it))return qr;return-1}function Hs(it,Lt,wt){return Lt===Lt?Fu(it,Lt,wt):Gl(it,J0,wt)}function Uo(it,Lt,wt,Sn){for(var pr=wt-1,qr=it.length;++pr<qr;)if(Sn(it[pr],Lt))return pr;return-1}function J0(it){return it!==it}function eu(it,Lt){var wt=it==null?0:it.length;return wt?_t(it,Lt)/wt:jt}function F(it){return function(Lt){return Lt==null?d:Lt[it]}}function X(it){return function(Lt){return it==null?d:it[Lt]}}function pe(it,Lt,wt,Sn,pr){return pr(it,function(qr,sa,Jr){wt=Sn?(Sn=!1,qr):Lt(wt,qr,sa,Jr)}),wt}function Se(it,Lt){var wt=it.length;for(it.sort(Lt);wt--;)it[wt]=it[wt].value;return it}function _t(it,Lt){for(var wt,Sn=-1,pr=it.length;++Sn<pr;){var qr=Lt(it[Sn]);qr!==d&&(wt=wt===d?qr:wt+qr)}return wt}function st(it,Lt){for(var wt=-1,Sn=Array(it);++wt<it;)Sn[wt]=Lt(wt);return Sn}function Ot(it,Lt){return Hr(Lt,function(wt){return[wt,it[wt]]})}function ln(it){return it&&it.slice(0,Nu(it)+1).replace(Ct,"")}function Bn(it){return function(Lt){return it(Lt)}}function hr(it,Lt){return Hr(Lt,function(wt){return it[wt]})}function Qn(it,Lt){return it.has(Lt)}function pi(it,Lt){for(var wt=-1,Sn=it.length;++wt<Sn&&Hs(Lt,it[wt],0)>-1;);return wt}function Oa(it,Lt){for(var wt=it.length;wt--&&Hs(Lt,it[wt],0)>-1;);return wt}function zo(it,Lt){for(var wt=it.length,Sn=0;wt--;)it[wt]===Lt&&++Sn;return Sn}var yo=X(Yn),is=X(fo);function Ou(it){return"\\"+ll[it]}function dl(it,Lt){return it==null?d:it[Lt]}function fl(it){return po.test(it)}function _p(it){return Ur.test(it)}function Vc(it){for(var Lt,wt=[];!(Lt=it.next()).done;)wt.push(Lt.value);return wt}function Zc(it){var Lt=-1,wt=Array(it.size);return it.forEach(function(Sn,pr){wt[++Lt]=[pr,Sn]}),wt}function Uh(it,Lt){return function(wt){return it(Lt(wt))}}function as(it,Lt){for(var wt=-1,Sn=it.length,pr=0,qr=[];++wt<Sn;){var sa=it[wt];(sa===Lt||sa===ue)&&(it[wt]=ue,qr[pr++]=wt)}return qr}function o0(it){var Lt=-1,wt=Array(it.size);return it.forEach(function(Sn){wt[++Lt]=Sn}),wt}function vp(it){var Lt=-1,wt=Array(it.size);return it.forEach(function(Sn){wt[++Lt]=[Sn,Sn]}),wt}function Fu(it,Lt,wt){for(var Sn=wt-1,pr=it.length;++Sn<pr;)if(it[Sn]===Lt)return Sn;return-1}function xp(it,Lt,wt){for(var Sn=wt+1;Sn--;)if(it[Sn]===Lt)return Sn;return Sn}function Cr(it){return fl(it)?Hc(it):jc(it)}function oa(it){return fl(it)?zh(it):I0(it)}function Nu(it){for(var Lt=it.length;Lt--&&br.test(it.charAt(Lt)););return Lt}var Wc=X(aa);function Hc(it){for(var Lt=ia.lastIndex=0;ia.test(it);)++Lt;return Lt}function zh(it){return it.match(ia)||[]}function Gh(it){return it.match(ho)||[]}var tu=function it(Lt){Lt=Lt==null?hi:A0.defaults(hi.Object(),Lt,A0.pick(hi,ci));var wt=Lt.Array,Sn=Lt.Date,pr=Lt.Error,qr=Lt.Function,sa=Lt.Math,Jr=Lt.Object,S0=Lt.RegExp,qc=Lt.String,os=Lt.TypeError,Go=wt.prototype,$u=qr.prototype,Lo=Jr.prototype,Ka=Lt["__core-js_shared__"],ju=$u.toString,Zr=Lo.hasOwnProperty,T0=0,Ll=function(){var h=/[^.]+$/.exec(Ka&&Ka.keys&&Ka.keys.IE_PROTO||"");return h?"Symbol(src)_1."+h:""}(),M0=Lo.toString,nu=ju.call(Jr),Vu=hi._,gc=S0("^"+ju.call(Zr).replace(Xn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),P0=cl?Lt.Buffer:d,ss=Lt.Symbol,Bl=Lt.Uint8Array,Kc=P0?P0.allocUnsafe:d,ls=Uh(Jr.getPrototypeOf,Jr),_r=Jr.create,ru=Lo.propertyIsEnumerable,iu=Go.splice,Xc=ss?ss.isConcatSpreadable:d,Is=ss?ss.iterator:d,au=ss?ss.toStringTag:d,mc=function(){try{var h=ql(Jr,"defineProperty");return h({},"",{}),h}catch{}}(),Lh=Lt.clearTimeout!==hi.clearTimeout&&Lt.clearTimeout,Ri=Sn&&Sn.now!==hi.Date.now&&Sn.now,Zu=Lt.setTimeout!==hi.setTimeout&&Lt.setTimeout,gl=sa.ceil,ml=sa.floor,Wu=Jr.getOwnPropertySymbols,Hu=P0?P0.isBuffer:d,E0=Lt.isFinite,k0=Go.join,Ol=Uh(Jr.keys,Jr),Ni=sa.max,Fa=sa.min,yc=Sn.now,_c=Lt.parseInt,qu=sa.random,ou=Go.reverse,su=ql(Lt,"DataView"),R0=ql(Lt,"Map"),Ku=ql(Lt,"Promise"),yl=ql(Lt,"Set"),U0=ql(Lt,"WeakMap"),lu=ql(Jr,"create"),z0=U0&&new U0,Di={},Fl=Tl(su),ba=Tl(R0),Yc=Tl(Ku),Nl=Tl(yl),qs=Tl(U0),Xa=ss?ss.prototype:d,Bo=Xa?Xa.valueOf:d,G0=Xa?Xa.toString:d;function de(h){if(Ua(h)&&!Mr(h)&&!(h instanceof dr)){if(h instanceof Ya)return h;if(Zr.call(h,"__wrapped__"))return $d(h)}return new Ya(h)}var uu=function(){function h(){}return function(_){if(!Aa(_))return{};if(_r)return _r(_);h.prototype=_;var M=new h;return h.prototype=d,M}}();function _l(){}function Ya(h,_){this.__wrapped__=h,this.__actions__=[],this.__chain__=!!_,this.__index__=0,this.__values__=d}de.templateSettings={escape:pt,evaluate:nt,interpolate:Rt,variable:"",imports:{_:de}},de.prototype=_l.prototype,de.prototype.constructor=de,Ya.prototype=uu(_l.prototype),Ya.prototype.constructor=Ya;function dr(h){this.__wrapped__=h,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=qe,this.__views__=[]}function s0(){var h=new dr(this.__wrapped__);return h.__actions__=Ho(this.__actions__),h.__dir__=this.__dir__,h.__filtered__=this.__filtered__,h.__iteratees__=Ho(this.__iteratees__),h.__takeCount__=this.__takeCount__,h.__views__=Ho(this.__views__),h}function la(){if(this.__filtered__){var h=new dr(this);h.__dir__=-1,h.__filtered__=!0}else h=this.clone(),h.__dir__*=-1;return h}function vl(){var h=this.__wrapped__.value(),_=this.__dir__,M=Mr(h),j=_<0,re=M?h.length:0,be=Ap(0,re,this.__views__),Ne=be.start,Qe=be.end,ut=Qe-Ne,qt=j?Qe:Ne-1,Kt=this.__iteratees__,an=Kt.length,Pn=0,tr=Fa(ut,this.__takeCount__);if(!M||!j&&re==ut&&tr==ut)return Pr(h,this.__actions__);var gr=[];e:for(;ut--&&Pn<tr;){qt+=_;for(var $r=-1,mr=h[qt];++$r<an;){var ti=Kt[$r],fi=ti.iteratee,Ru=ti.type,v0=fi(mr);if(Ru==Ft)mr=v0;else if(!v0){if(Ru==Wt)continue e;break e}}gr[Pn++]=mr}return gr}dr.prototype=uu(_l.prototype),dr.prototype.constructor=dr;function _o(h){var _=-1,M=h==null?0:h.length;for(this.clear();++_<M;){var j=h[_];this.set(j[0],j[1])}}function Ti(){this.__data__=lu?lu(null):{},this.size=0}function Ii(h){var _=this.has(h)&&delete this.__data__[h];return this.size-=_?1:0,_}function As(h){var _=this.__data__;if(lu){var M=_[h];return M===V?d:M}return Zr.call(_,h)?_[h]:d}function Na(h){var _=this.__data__;return lu?_[h]!==d:Zr.call(_,h)}function Qa(h,_){var M=this.__data__;return this.size+=this.has(h)?0:1,M[h]=lu&&_===d?V:_,this}_o.prototype.clear=Ti,_o.prototype.delete=Ii,_o.prototype.get=As,_o.prototype.has=Na,_o.prototype.set=Qa;function vo(h){var _=-1,M=h==null?0:h.length;for(this.clear();++_<M;){var j=h[_];this.set(j[0],j[1])}}function xl(){this.__data__=[],this.size=0}function Oo(h){var _=this.__data__,M=eo(_,h);if(M<0)return!1;var j=_.length-1;return M==j?_.pop():iu.call(_,M,1),--this.size,!0}function Ea(h){var _=this.__data__,M=eo(_,h);return M<0?d:_[M][1]}function Ks(h){return eo(this.__data__,h)>-1}function cu(h,_){var M=this.__data__,j=eo(M,h);return j<0?(++this.size,M.push([h,_])):M[j][1]=_,this}vo.prototype.clear=xl,vo.prototype.delete=Oo,vo.prototype.get=Ea,vo.prototype.has=Ks,vo.prototype.set=cu;function Ki(h){var _=-1,M=h==null?0:h.length;for(this.clear();++_<M;){var j=h[_];this.set(j[0],j[1])}}function hu(){this.size=0,this.__data__={hash:new _o,map:new(R0||vo),string:new _o}}function Xs(h){var _=oh(this,h).delete(h);return this.size-=_?1:0,_}function Qc(h){return oh(this,h).get(h)}function vc(h){return oh(this,h).has(h)}function xc(h,_){var M=oh(this,h),j=M.size;return M.set(h,_),this.size+=M.size==j?0:1,this}Ki.prototype.clear=hu,Ki.prototype.delete=Xs,Ki.prototype.get=Qc,Ki.prototype.has=vc,Ki.prototype.set=xc;function l0(h){var _=-1,M=h==null?0:h.length;for(this.__data__=new Ki;++_<M;)this.add(h[_])}function Ss(h){return this.__data__.set(h,V),this}function Fo(h){return this.__data__.has(h)}l0.prototype.add=l0.prototype.push=Ss,l0.prototype.has=Fo;function un(h){var _=this.__data__=new vo(h);this.size=_.size}function pu(){this.__data__=new vo,this.size=0}function du(h){var _=this.__data__,M=_.delete(h);return this.size=_.size,M}function Ts(h){return this.__data__.get(h)}function Ja(h){return this.__data__.has(h)}function bl(h,_){var M=this.__data__;if(M instanceof vo){var j=M.__data__;if(!R0||j.length<D-1)return j.push([h,_]),this.size=++M.size,this;M=this.__data__=new Ki(j)}return M.set(h,_),this.size=M.size,this}un.prototype.clear=pu,un.prototype.delete=du,un.prototype.get=Ts,un.prototype.has=Ja,un.prototype.set=bl;function Ys(h,_){var M=Mr(h),j=!M&&Uc(h),re=!M&&!j&&Do(h),be=!M&&!j&&!re&&Vp(h),Ne=M||j||re||be,Qe=Ne?st(h.length,qc):[],ut=Qe.length;for(var qt in h)(_||Zr.call(h,qt))&&!(Ne&&(qt=="length"||re&&(qt=="offset"||qt=="parent")||be&&(qt=="buffer"||qt=="byteLength"||qt=="byteOffset")||xi(qt,ut)))&&Qe.push(qt);return Qe}function lr(h){var _=h.length;return _?h[Ve(0,_-1)]:d}function $l(h,_){return hh(Ho(h),u0(_,0,h.length))}function bp(h){return hh(Ho(h))}function fu(h,_,M){(M!==d&&!Z0(h[_],M)||M===d&&!(_ in h))&&jl(h,_,M)}function L0(h,_,M){var j=h[_];(!(Zr.call(h,_)&&Z0(j,M))||M===d&&!(_ in h))&&jl(h,_,M)}function eo(h,_){for(var M=h.length;M--;)if(Z0(h[M][0],_))return M;return-1}function No(h,_,M,j){return wl(h,function(re,be,Ne){_(j,re,M(re),Ne)}),j}function _i(h,_){return h&&ks(_,G(_),h)}function $o(h,_){return h&&ks(_,N(_),h)}function jl(h,_,M){_=="__proto__"&&mc?mc(h,_,{configurable:!0,enumerable:!0,value:M,writable:!0}):h[_]=M}function gu(h,_){for(var M=-1,j=_.length,re=wt(j),be=h==null;++M<j;)re[M]=be?d:g(h,_[M]);return re}function u0(h,_,M){return h===h&&(M!==d&&(h=h<=M?h:M),_!==d&&(h=h>=_?h:_)),h}function us(h,_,M,j,re,be){var Ne,Qe=_&te,ut=_&ce,qt=_&ae;if(M&&(Ne=re?M(h,j,re,be):M(h)),Ne!==d)return Ne;if(!Aa(h))return h;var Kt=Mr(h);if(Kt){if(Ne=Vh(h),!Qe)return Ho(h,Ne)}else{var an=qo(h),Pn=an==Kn||an==Hn;if(Do(h))return Hl(h,Qe);if(an==Ir||an==kt||Pn&&!re){if(Ne=ut||Pn?{}:Ko(h),!Qe)return ut?Js(h,$o(Ne,h)):F0(h,_i(Ne,h))}else{if(!Ar[an])return re?h:{};Ne=sd(h,an,Qe)}}be||(be=new un);var tr=be.get(h);if(tr)return tr;be.set(h,Ne),Id(h)?h.forEach(function(mr){Ne.add(us(mr,_,M,mr,h,be))}):kf(h)&&h.forEach(function(mr,ti){Ne.set(ti,us(mr,_,M,ti,h,be))});var gr=qt?ut?ah:$h:ut?N:G,$r=Kt?d:gr(h);return ki($r||h,function(mr,ti){$r&&(ti=mr,mr=h[ti]),L0(Ne,ti,us(mr,_,M,ti,h,be))}),Ne}function Vl(h){var _=G(h);return function(M){return ii(M,h,_)}}function ii(h,_,M){var j=M.length;if(h==null)return!j;for(h=Jr(h);j--;){var re=M[j],be=_[re],Ne=h[re];if(Ne===d&&!(re in h)||!be(Ne))return!1}return!0}function mu(h,_,M){if(typeof h!="function")throw new os(I);return j0(function(){h.apply(d,M)},_)}function Qs(h,_,M,j){var re=-1,be=Pa,Ne=!0,Qe=h.length,ut=[],qt=_.length;if(!Qe)return ut;M&&(_=Hr(_,Bn(M))),j?(be=qi,Ne=!1):_.length>=D&&(be=Qn,Ne=!1,_=new l0(_));e:for(;++re<Qe;){var Kt=h[re],an=M==null?Kt:M(Kt);if(Kt=j||Kt!==0?Kt:0,Ne&&an===an){for(var Pn=qt;Pn--;)if(_[Pn]===an)continue e;ut.push(Kt)}else be(_,an,j)||ut.push(Kt)}return ut}var wl=Ca(jo),Bh=Ca(Zl,!0);function Xu(h,_){var M=!0;return wl(h,function(j,re,be){return M=!!_(j,re,be),M}),M}function yu(h,_,M){for(var j=-1,re=h.length;++j<re;){var be=h[j],Ne=_(be);if(Ne!=null&&(Qe===d?Ne===Ne&&!d0(Ne):M(Ne,Qe)))var Qe=Ne,ut=be}return ut}function xo(h,_,M,j){var re=h.length;for(M=Rr(M),M<0&&(M=-M>re?0:re+M),j=j===d||j>re?re:Rr(j),j<0&&(j+=re),j=M>j?0:zf(j);M<j;)h[M++]=_;return h}function Yu(h,_){var M=[];return wl(h,function(j,re,be){_(j,re,be)&&M.push(j)}),M}function fn(h,_,M,j,re){var be=-1,Ne=h.length;for(M||(M=Zh),re||(re=[]);++be<Ne;){var Qe=h[be];_>0&&M(Qe)?_>1?fn(Qe,_-1,M,j,re):Ws(re,Qe):j||(re[re.length]=Qe)}return re}var jn=_u(),c0=_u(!0);function jo(h,_){return h&&jn(h,_,G)}function Zl(h,_){return h&&c0(h,_,G)}function Ui(h,_){return Ro(_,function(M){return zc(h[M])})}function Cl(h,_){_=fs(_,h);for(var M=0,j=_.length;h!=null&&M<j;)h=h[tl(_[M++])];return M&&M==j?h:d}function Vo(h,_,M){var j=_(h);return Mr(h)?j:Ws(j,M(h))}function $a(h){return h==null?h===d?ni:gi:au&&au in Jr(h)?ms(h):cd(h)}function cs(h,_){return h>_}function Nr(h,_){return h!=null&&Zr.call(h,_)}function ai(h,_){return h!=null&&_ in Jr(h)}function B0(h,_,M){return h>=Fa(_,M)&&h<Ni(_,M)}function O0(h,_,M){for(var j=M?qi:Pa,re=h[0].length,be=h.length,Ne=be,Qe=wt(be),ut=1/0,qt=[];Ne--;){var Kt=h[Ne];Ne&&_&&(Kt=Hr(Kt,Bn(_))),ut=Fa(Kt.length,ut),Qe[Ne]=!M&&(_||re>=120&&Kt.length>=120)?new l0(Ne&&Kt):d}Kt=h[0];var an=-1,Pn=Qe[0];e:for(;++an<re&&qt.length<ut;){var tr=Kt[an],gr=_?_(tr):tr;if(tr=M||tr!==0?tr:0,!(Pn?Qn(Pn,gr):j(qt,gr,M))){for(Ne=be;--Ne;){var $r=Qe[Ne];if(!($r?Qn($r,gr):j(h[Ne],gr,M)))continue e}Pn&&Pn.push(gr),qt.push(tr)}}return qt}function Ms(h,_,M,j){return jo(h,function(re,be,Ne){_(j,M(re),be,Ne)}),j}function ja(h,_,M){_=fs(_,h),h=pa(h,_);var j=h==null?h:h[tl(ao(_))];return j==null?d:xa(j,h,M)}function Qu(h){return Ua(h)&&$a(h)==kt}function Jc(h){return Ua(h)&&$a(h)==Hi}function hs(h){return Ua(h)&&$a(h)==Rn}function ps(h,_,M,j,re){return h===_?!0:h==null||_==null||!Ua(h)&&!Ua(_)?h!==h&&_!==_:m(h,_,M,j,ps,re)}function m(h,_,M,j,re,be){var Ne=Mr(h),Qe=Mr(_),ut=Ne?gn:qo(h),qt=Qe?gn:qo(_);ut=ut==kt?Ir:ut,qt=qt==kt?Ir:qt;var Kt=ut==Ir,an=qt==Ir,Pn=ut==qt;if(Pn&&Do(h)){if(!Do(_))return!1;Ne=!0,Kt=!1}if(Pn&&!Kt)return be||(be=new un),Ne||Vp(h)?ih(h,_,M,j,re,be):Dp(h,_,ut,M,j,re,be);if(!(M&he)){var tr=Kt&&Zr.call(h,"__wrapped__"),gr=an&&Zr.call(_,"__wrapped__");if(tr||gr){var $r=tr?h.value():h,mr=gr?_.value():_;return be||(be=new un),re($r,mr,M,j,be)}}return Pn?(be||(be=new un),ad(h,_,M,j,re,be)):!1}function e(h){return Ua(h)&&qo(h)==yn}function n(h,_,M,j){var re=M.length,be=re,Ne=!j;if(h==null)return!be;for(h=Jr(h);re--;){var Qe=M[re];if(Ne&&Qe[2]?Qe[1]!==h[Qe[0]]:!(Qe[0]in h))return!1}for(;++re<be;){Qe=M[re];var ut=Qe[0],qt=h[ut],Kt=Qe[1];if(Ne&&Qe[2]){if(qt===d&&!(ut in h))return!1}else{var an=new un;if(j)var Pn=j(qt,Kt,ut,h,_,an);if(!(Pn===d?ps(Kt,qt,he|_e,j,an):Pn))return!1}}return!0}function u(h){if(!Aa(h)||Fd(h))return!1;var _=zc(h)?gc:ns;return _.test(Tl(h))}function f(h){return Ua(h)&&$a(h)==vr}function y(h){return Ua(h)&&qo(h)==ur}function C(h){return Ua(h)&&Tu(h.length)&&!!vn[$a(h)]}function T(h){return typeof h=="function"?h:h==null?Rl:typeof h=="object"?Mr(h)?Q(h[0],h[1]):Z(h):nm(h)}function k(h){if(!xu(h))return Ol(h);var _=[];for(var M in Jr(h))Zr.call(h,M)&&M!="constructor"&&_.push(M);return _}function z(h){if(!Aa(h))return uh(h);var _=xu(h),M=[];for(var j in h)j=="constructor"&&(_||!Zr.call(h,j))||M.push(j);return M}function O(h,_){return h<_}function W(h,_){var M=-1,j=Pl(h)?wt(h.length):[];return wl(h,function(re,be,Ne){j[++M]=_(re,be,Ne)}),j}function Z(h){var _=Ac(h);return _.length==1&&_[0][2]?lh(_[0][0],_[0][1]):function(M){return M===h||n(M,h,_)}}function Q(h,_){return kn(h)&&Hh(_)?lh(tl(h),_):function(M){var j=g(M,h);return j===d&&j===_?b(M,h):ps(_,j,he|_e)}}function ie(h,_,M,j,re){h!==_&&jn(_,function(be,Ne){if(re||(re=new un),Aa(be))Ce(h,_,Ne,M,ie,j,re);else{var Qe=j?j(Sl(h,Ne),be,Ne+"",h,_,re):d;Qe===d&&(Qe=be),fu(h,Ne,Qe)}},N)}function Ce(h,_,M,j,re,be,Ne){var Qe=Sl(h,M),ut=Sl(_,M),qt=Ne.get(ut);if(qt){fu(h,M,qt);return}var Kt=be?be(Qe,ut,M+"",h,_,Ne):d,an=Kt===d;if(an){var Pn=Mr(ut),tr=!Pn&&Do(ut),gr=!Pn&&!tr&&Vp(ut);Kt=ut,Pn||tr||gr?Mr(Qe)?Kt=Qe:Ra(Qe)?Kt=Ho(Qe):tr?(an=!1,Kt=Hl(ut,!0)):gr?(an=!1,Kt=bo(ut,!0)):Kt=[]:$p(ut)||Uc(ut)?(Kt=Qe,Uc(Qe)?Kt=qg(Qe):(!Aa(Qe)||zc(Qe))&&(Kt=Ko(ut))):an=!1}an&&(Ne.set(ut,Kt),re(Kt,ut,j,be,Ne),Ne.delete(ut)),fu(h,M,Kt)}function we(h,_){var M=h.length;if(M)return _+=_<0?M:0,xi(_,M)?h[_]:d}function De(h,_,M){_.length?_=Hr(_,function(be){return Mr(be)?function(Ne){return Cl(Ne,be.length===1?be[0]:be)}:be}):_=[Rl];var j=-1;_=Hr(_,Bn(ir()));var re=W(h,function(be,Ne,Qe){var ut=Hr(_,function(qt){return qt(be)});return{criteria:ut,index:++j,value:be}});return Se(re,function(be,Ne){return eh(be,Ne,M)})}function ke(h,_){return Le(h,_,function(M,j){return b(h,j)})}function Le(h,_,M){for(var j=-1,re=_.length,be={};++j<re;){var Ne=_[j],Qe=Cl(h,Ne);M(Qe,Ne)&&nn(be,fs(Ne,h),Qe)}return be}function Ee(h){return function(_){return Cl(_,h)}}function Be(h,_,M,j){var re=j?Uo:Hs,be=-1,Ne=_.length,Qe=h;for(h===_&&(_=Ho(_)),M&&(Qe=Hr(h,Bn(M)));++be<Ne;)for(var ut=0,qt=_[be],Kt=M?M(qt):qt;(ut=re(Qe,Kt,ut,j))>-1;)Qe!==h&&iu.call(Qe,ut,1),iu.call(h,ut,1);return h}function je(h,_){for(var M=h?_.length:0,j=M-1;M--;){var re=_[M];if(M==j||re!==be){var be=re;xi(re)?iu.call(h,re,1):Xi(h,re)}}return h}function Ve(h,_){return h+ml(qu()*(_-h+1))}function lt(h,_,M,j){for(var re=-1,be=Ni(gl((_-h)/(M||1)),0),Ne=wt(be);be--;)Ne[j?be:++re]=h,h+=M;return Ne}function At(h,_){var M="";if(!h||_<1||_>yt)return M;do _%2&&(M+=h),_=ml(_/2),_&&(h+=h);while(_);return M}function rt(h,_){return el($i(h,_,Rl),h+"")}function ht(h){return lr(Xt(h))}function Dt(h,_){var M=Xt(h);return hh(M,u0(_,0,M.length))}function nn(h,_,M,j){if(!Aa(h))return h;_=fs(_,h);for(var re=-1,be=_.length,Ne=be-1,Qe=h;Qe!=null&&++re<be;){var ut=tl(_[re]),qt=M;if(ut==="__proto__"||ut==="constructor"||ut==="prototype")return h;if(re!=Ne){var Kt=Qe[ut];qt=j?j(Kt,ut,Qe):d,qt===d&&(qt=Aa(Kt)?Kt:xi(_[re+1])?[]:{})}L0(Qe,ut,qt),Qe=Qe[ut]}return h}var rn=z0?function(h,_){return z0.set(h,_),h}:Rl,Gt=mc?function(h,_){return mc(h,"toString",{configurable:!0,enumerable:!1,value:Sd(_),writable:!0})}:Rl;function bn(h){return hh(Xt(h))}function Zn(h,_,M){var j=-1,re=h.length;_<0&&(_=-_>re?0:re+_),M=M>re?re:M,M<0&&(M+=re),re=_>M?0:M-_>>>0,_>>>=0;for(var be=wt(re);++j<re;)be[j]=h[j+_];return be}function Sr(h,_){var M;return wl(h,function(j,re,be){return M=_(j,re,be),!M}),!!M}function di(h,_,M){var j=0,re=h==null?j:h.length;if(typeof _=="number"&&_===_&&re<=mn){for(;j<re;){var be=j+re>>>1,Ne=h[be];Ne!==null&&!d0(Ne)&&(M?Ne<=_:Ne<_)?j=be+1:re=be}return re}return ei(h,_,Rl,M)}function ei(h,_,M,j){var re=0,be=h==null?0:h.length;if(be===0)return 0;_=M(_);for(var Ne=_!==_,Qe=_===null,ut=d0(_),qt=_===d;re<be;){var Kt=ml((re+be)/2),an=M(h[Kt]),Pn=an!==d,tr=an===null,gr=an===an,$r=d0(an);if(Ne)var mr=j||gr;else qt?mr=gr&&(j||Pn):Qe?mr=gr&&Pn&&(j||!tr):ut?mr=gr&&Pn&&!tr&&(j||!$r):tr||$r?mr=!1:mr=j?an<=_:an<_;mr?re=Kt+1:be=Kt}return Fa(be,Tt)}function Mi(h,_){for(var M=-1,j=h.length,re=0,be=[];++M<j;){var Ne=h[M],Qe=_?_(Ne):Ne;if(!M||!Z0(Qe,ut)){var ut=Qe;be[re++]=Ne===0?0:Ne}}return be}function Pi(h){return typeof h=="number"?h:d0(h)?jt:+h}function Tr(h){if(typeof h=="string")return h;if(Mr(h))return Hr(h,Tr)+"";if(d0(h))return G0?G0.call(h):"";var _=h+"";return _=="0"&&1/h==-1/0?"-0":_}function Dr(h,_,M){var j=-1,re=Pa,be=h.length,Ne=!0,Qe=[],ut=Qe;if(M)Ne=!1,re=qi;else if(be>=D){var qt=_?null:rd(h);if(qt)return o0(qt);Ne=!1,re=Qn,ut=new l0}else ut=_?[]:Qe;e:for(;++j<be;){var Kt=h[j],an=_?_(Kt):Kt;if(Kt=M||Kt!==0?Kt:0,Ne&&an===an){for(var Pn=ut.length;Pn--;)if(ut[Pn]===an)continue e;_&&ut.push(an),Qe.push(Kt)}else re(ut,an,M)||(ut!==Qe&&ut.push(an),Qe.push(Kt))}return Qe}function Xi(h,_){return _=fs(_,h),h=pa(h,_),h==null||delete h[tl(ao(_))]}function wa(h,_,M,j){return nn(h,_,M(Cl(h,_)),j)}function ua(h,_,M,j){for(var re=h.length,be=j?re:-1;(j?be--:++be<re)&&_(h[be],be,h););return M?Zn(h,j?0:be,j?be+1:re):Zn(h,j?be+1:0,j?re:be)}function Pr(h,_){var M=h;return M instanceof dr&&(M=M.value()),Q0(_,function(j,re){return re.func.apply(re.thisArg,Ws([j],re.args))},M)}function Dl(h,_,M){var j=h.length;if(j<2)return j?Dr(h[0]):[];for(var re=-1,be=wt(j);++re<j;)for(var Ne=h[re],Qe=-1;++Qe<j;)Qe!=re&&(be[re]=Qs(be[re]||Ne,h[Qe],_,M));return Dr(fn(be,1),_,M)}function ds(h,_,M){for(var j=-1,re=h.length,be=_.length,Ne={};++j<re;){var Qe=j<be?_[j]:d;M(Ne,h[j],Qe)}return Ne}function Ps(h){return Ra(h)?h:[]}function Wl(h){return typeof h=="function"?h:Rl}function fs(h,_){return Mr(h)?h:kn(h,_)?[h]:tc(bi(h))}var h0=rt;function Zo(h,_,M){var j=h.length;return M=M===d?j:M,!_&&M>=j?h:Zn(h,_,M)}var Wo=Lh||function(h){return hi.clearTimeout(h)};function Hl(h,_){if(_)return h.slice();var M=h.length,j=Kc?Kc(M):new h.constructor(M);return h.copy(j),j}function Es(h){var _=new h.constructor(h.byteLength);return new Bl(_).set(new Bl(h)),_}function p0(h,_){var M=_?Es(h.buffer):h.buffer;return new h.constructor(M,h.byteOffset,h.byteLength)}function ca(h){var _=new h.constructor(h.source,Vr.exec(h));return _.lastIndex=h.lastIndex,_}function ha(h){return Bo?Jr(Bo.call(h)):{}}function bo(h,_){var M=_?Es(h.buffer):h.buffer;return new h.constructor(M,h.byteOffset,h.length)}function vi(h,_){if(h!==_){var M=h!==d,j=h===null,re=h===h,be=d0(h),Ne=_!==d,Qe=_===null,ut=_===_,qt=d0(_);if(!Qe&&!qt&&!be&&h>_||be&&Ne&&ut&&!Qe&&!qt||j&&Ne&&ut||!M&&ut||!re)return 1;if(!j&&!be&&!qt&&h<_||qt&&M&&re&&!j&&!be||Qe&&M&&re||!Ne&&re||!ut)return-1}return 0}function eh(h,_,M){for(var j=-1,re=h.criteria,be=_.criteria,Ne=re.length,Qe=M.length;++j<Ne;){var ut=vi(re[j],be[j]);if(ut){if(j>=Qe)return ut;var qt=M[j];return ut*(qt=="desc"?-1:1)}}return h.index-_.index}function Oh(h,_,M,j){for(var re=-1,be=h.length,Ne=M.length,Qe=-1,ut=_.length,qt=Ni(be-Ne,0),Kt=wt(ut+qt),an=!j;++Qe<ut;)Kt[Qe]=_[Qe];for(;++re<Ne;)(an||re<be)&&(Kt[M[re]]=h[re]);for(;qt--;)Kt[Qe++]=h[re++];return Kt}function th(h,_,M,j){for(var re=-1,be=h.length,Ne=-1,Qe=M.length,ut=-1,qt=_.length,Kt=Ni(be-Qe,0),an=wt(Kt+qt),Pn=!j;++re<Kt;)an[re]=h[re];for(var tr=re;++ut<qt;)an[tr+ut]=_[ut];for(;++Ne<Qe;)(Pn||re<be)&&(an[tr+M[Ne]]=h[re++]);return an}function Ho(h,_){var M=-1,j=h.length;for(_||(_=wt(j));++M<j;)_[M]=h[M];return _}function ks(h,_,M,j){var re=!M;M||(M={});for(var be=-1,Ne=_.length;++be<Ne;){var Qe=_[be],ut=j?j(M[Qe],h[Qe],Qe,M,h):d;ut===d&&(ut=h[Qe]),re?jl(M,Qe,ut):L0(M,Qe,ut)}return M}function F0(h,_){return ks(h,Kl(h),_)}function Js(h,_){return ks(h,Ip(h),_)}function Rs(h,_){return function(M,j){var re=Mr(M)?Fi:No,be=_?_():{};return re(M,h,ir(j,2),be)}}function to(h){return rt(function(_,M){var j=-1,re=M.length,be=re>1?M[re-1]:d,Ne=re>2?M[2]:d;for(be=h.length>3&&typeof be=="function"?(re--,be):d,Ne&&ro(M[0],M[1],Ne)&&(be=re<3?d:be,re=1),_=Jr(_);++j<re;){var Qe=M[j];Qe&&h(_,Qe,j,be)}return _})}function Ca(h,_){return function(M,j){if(M==null)return M;if(!Pl(M))return h(M,j);for(var re=M.length,be=_?re:-1,Ne=Jr(M);(_?be--:++be<re)&&j(Ne[be],be,Ne)!==!1;);return M}}function _u(h){return function(_,M,j){for(var re=-1,be=Jr(_),Ne=j(_),Qe=Ne.length;Qe--;){var ut=Ne[h?Qe:++re];if(M(be[ut],ut,be)===!1)break}return _}}function Il(h,_,M){var j=_&Pe,re=ec(h);function be(){var Ne=this&&this!==hi&&this instanceof be?re:h;return Ne.apply(j?M:this,arguments)}return be}function bc(h){return function(_){_=bi(_);var M=fl(_)?oa(_):d,j=M?M[0]:_.charAt(0),re=M?Zo(M,1).join(""):_.slice(1);return j[h]()+re}}function Ju(h){return function(_){return Q0(op(Qi(_).replace(w0,"")),h,"")}}function ec(h){return function(){var _=arguments;switch(_.length){case 0:return new h;case 1:return new h(_[0]);case 2:return new h(_[0],_[1]);case 3:return new h(_[0],_[1],_[2]);case 4:return new h(_[0],_[1],_[2],_[3]);case 5:return new h(_[0],_[1],_[2],_[3],_[4]);case 6:return new h(_[0],_[1],_[2],_[3],_[4],_[5]);case 7:return new h(_[0],_[1],_[2],_[3],_[4],_[5],_[6])}var M=uu(h.prototype),j=h.apply(M,_);return Aa(j)?j:M}}function wp(h,_,M){var j=ec(h);function re(){for(var be=arguments.length,Ne=wt(be),Qe=be,ut=vu(re);Qe--;)Ne[Qe]=arguments[Qe];var qt=be<3&&Ne[0]!==ut&&Ne[be-1]!==ut?[]:as(Ne,ut);if(be-=qt.length,be<M)return Us(h,_,wc,re.placeholder,d,Ne,qt,d,d,M-be);var Kt=this&&this!==hi&&this instanceof re?j:h;return xa(Kt,this,Ne)}return re}function Al(h){return function(_,M,j){var re=Jr(_);if(!Pl(_)){var be=ir(M,3);_=G(_),M=function(Qe){return be(re[Qe],Qe,re)}}var Ne=h(_,M,j);return Ne>-1?re[be?_[Ne]:Ne]:d}}function N0(h){return $0(function(_){var M=_.length,j=M,re=Ya.prototype.thru;for(h&&_.reverse();j--;){var be=_[j];if(typeof be!="function")throw new os(I);if(re&&!Ne&&Ic(be)=="wrapper")var Ne=new Ya([],!0)}for(j=Ne?j:M;++j<M;){be=_[j];var Qe=Ic(be),ut=Qe=="wrapper"?jh(be):d;ut&&Wh(ut[0])&&ut[1]==(ot|ze|Ge|Pt)&&!ut[4].length&&ut[9]==1?Ne=Ne[Ic(ut[0])].apply(Ne,ut[3]):Ne=be.length==1&&Wh(be)?Ne[Qe]():Ne.thru(be)}return function(){var qt=arguments,Kt=qt[0];if(Ne&&qt.length==1&&Mr(Kt))return Ne.plant(Kt).value();for(var an=0,Pn=M?_[an].apply(this,qt):Kt;++an<M;)Pn=_[an].call(this,Pn);return Pn}})}function wc(h,_,M,j,re,be,Ne,Qe,ut,qt){var Kt=_&ot,an=_&Pe,Pn=_&Ze,tr=_&(ze|Ae),gr=_&Yt,$r=Pn?d:ec(h);function mr(){for(var ti=arguments.length,fi=wt(ti),Ru=ti;Ru--;)fi[Ru]=arguments[Ru];if(tr)var v0=vu(mr),Uu=zo(fi,v0);if(j&&(fi=Oh(fi,j,re,tr)),be&&(fi=th(fi,be,Ne,tr)),ti-=Uu,tr&&ti<qt){var es=as(fi,v0);return Us(h,_,wc,mr.placeholder,M,fi,es,Qe,ut,qt-ti)}var Bc=an?M:this,lp=Pn?Bc[h]:h;return ti=fi.length,Qe?fi=Xl(fi,Qe):gr&&ti>1&&fi.reverse(),Kt&&ut<ti&&(fi.length=ut),this&&this!==hi&&this instanceof mr&&(lp=$r||ec(lp)),lp.apply(Bc,fi)}return mr}function Bd(h,_){return function(M,j){return Ms(M,h,_(j),{})}}function Cc(h,_){return function(M,j){var re;if(M===d&&j===d)return _;if(M!==d&&(re=M),j!==d){if(re===d)return j;typeof M=="string"||typeof j=="string"?(M=Tr(M),j=Tr(j)):(M=Pi(M),j=Pi(j)),re=h(M,j)}return re}}function Fh(h){return $0(function(_){return _=Hr(_,Bn(ir())),rt(function(M){var j=this;return h(_,function(re){return xa(re,j,M)})})})}function Nh(h,_){_=_===d?" ":Tr(_);var M=_.length;if(M<2)return M?At(_,h):_;var j=At(_,gl(h/Cr(_)));return fl(_)?Zo(oa(j),0,h).join(""):j.slice(0,h)}function td(h,_,M,j){var re=_&Pe,be=ec(h);function Ne(){for(var Qe=-1,ut=arguments.length,qt=-1,Kt=j.length,an=wt(Kt+ut),Pn=this&&this!==hi&&this instanceof Ne?be:h;++qt<Kt;)an[qt]=j[qt];for(;ut--;)an[qt++]=arguments[++Qe];return xa(Pn,re?M:this,an)}return Ne}function nd(h){return function(_,M,j){return j&&typeof j!="number"&&ro(_,M,j)&&(M=j=d),_=Mu(_),M===d?(M=_,_=0):M=Mu(M),j=j===d?_<M?1:-1:Mu(j),lt(_,M,j,h)}}function nh(h){return function(_,M){return typeof _=="string"&&typeof M=="string"||(_=f0(_),M=f0(M)),h(_,M)}}function Us(h,_,M,j,re,be,Ne,Qe,ut,qt){var Kt=_&ze,an=Kt?Ne:d,Pn=Kt?d:Ne,tr=Kt?be:d,gr=Kt?d:be;_|=Kt?Ge:$e,_&=~(Kt?$e:Ge),_&tt||(_&=-4);var $r=[h,_,re,tr,an,gr,Pn,Qe,ut,qt],mr=M.apply(d,$r);return Wh(h)&&ch(mr,$r),mr.placeholder=j,Sp(mr,h,_)}function no(h){var _=sa[h];return function(M,j){if(M=f0(M),j=j==null?0:Fa(Rr(j),292),j&&E0(M)){var re=(bi(M)+"e").split("e"),be=_(re[0]+"e"+(+re[1]+j));return re=(bi(be)+"e").split("e"),+(re[0]+"e"+(+re[1]-j))}return _(M)}}var rd=yl&&1/o0(new yl([,-0]))[1]==cn?function(h){return new yl(h)}:Hf;function Cp(h){return function(_){var M=qo(_);return M==yn?Zc(_):M==ur?vp(_):Ot(_,h(_))}}function gs(h,_,M,j,re,be,Ne,Qe){var ut=_&Ze;if(!ut&&typeof h!="function")throw new os(I);var qt=j?j.length:0;if(qt||(_&=-97,j=re=d),Ne=Ne===d?Ne:Ni(Rr(Ne),0),Qe=Qe===d?Qe:Rr(Qe),qt-=re?re.length:0,_&$e){var Kt=j,an=re;j=re=d}var Pn=ut?d:jh(h),tr=[h,_,M,j,re,Kt,an,be,Ne,Qe];if(Pn&&ud(tr,Pn),h=tr[0],_=tr[1],M=tr[2],j=tr[3],re=tr[4],Qe=tr[9]=tr[9]===d?ut?0:h.length:Ni(tr[9]-qt,0),!Qe&&_&(ze|Ae)&&(_&=-25),!_||_==Pe)var gr=Il(h,_,M);else _==ze||_==Ae?gr=wp(h,_,Qe):(_==Ge||_==(Pe|Ge))&&!re.length?gr=td(h,_,M,j):gr=wc.apply(d,tr);var $r=Pn?rn:ch;return Sp($r(gr,tr),h,_)}function id(h,_,M,j){return h===d||Z0(h,Lo[M])&&!Zr.call(j,M)?_:h}function Dc(h,_,M,j,re,be){return Aa(h)&&Aa(_)&&(be.set(_,h),ie(h,_,d,Dc,be),be.delete(_)),h}function rh(h){return $p(h)?d:h}function ih(h,_,M,j,re,be){var Ne=M&he,Qe=h.length,ut=_.length;if(Qe!=ut&&!(Ne&&ut>Qe))return!1;var qt=be.get(h),Kt=be.get(_);if(qt&&Kt)return qt==_&&Kt==h;var an=-1,Pn=!0,tr=M&_e?new l0:d;for(be.set(h,_),be.set(_,h);++an<Qe;){var gr=h[an],$r=_[an];if(j)var mr=Ne?j($r,gr,an,_,h,be):j(gr,$r,an,h,_,be);if(mr!==d){if(mr)continue;Pn=!1;break}if(tr){if(!D0(_,function(ti,fi){if(!Qn(tr,fi)&&(gr===ti||re(gr,ti,M,j,be)))return tr.push(fi)})){Pn=!1;break}}else if(!(gr===$r||re(gr,$r,M,j,be))){Pn=!1;break}}return be.delete(h),be.delete(_),Pn}function Dp(h,_,M,j,re,be,Ne){switch(M){case Qr:if(h.byteLength!=_.byteLength||h.byteOffset!=_.byteOffset)return!1;h=h.buffer,_=_.buffer;case Hi:return!(h.byteLength!=_.byteLength||!be(new Bl(h),new Bl(_)));case Fn:case Rn:case yr:return Z0(+h,+_);case Nn:return h.name==_.name&&h.message==_.message;case vr:case Cn:return h==_+"";case yn:var Qe=Zc;case ur:var ut=j&he;if(Qe||(Qe=o0),h.size!=_.size&&!ut)return!1;var qt=Ne.get(h);if(qt)return qt==_;j|=_e,Ne.set(h,_);var Kt=ih(Qe(h),Qe(_),j,re,be,Ne);return Ne.delete(h),Kt;case Or:if(Bo)return Bo.call(h)==Bo.call(_)}return!1}function ad(h,_,M,j,re,be){var Ne=M&he,Qe=$h(h),ut=Qe.length,qt=$h(_),Kt=qt.length;if(ut!=Kt&&!Ne)return!1;for(var an=ut;an--;){var Pn=Qe[an];if(!(Ne?Pn in _:Zr.call(_,Pn)))return!1}var tr=be.get(h),gr=be.get(_);if(tr&&gr)return tr==_&&gr==h;var $r=!0;be.set(h,_),be.set(_,h);for(var mr=Ne;++an<ut;){Pn=Qe[an];var ti=h[Pn],fi=_[Pn];if(j)var Ru=Ne?j(fi,ti,Pn,_,h,be):j(ti,fi,Pn,h,_,be);if(!(Ru===d?ti===fi||re(ti,fi,M,j,be):Ru)){$r=!1;break}mr||(mr=Pn=="constructor")}if($r&&!mr){var v0=h.constructor,Uu=_.constructor;v0!=Uu&&"constructor"in h&&"constructor"in _&&!(typeof v0=="function"&&v0 instanceof v0&&typeof Uu=="function"&&Uu instanceof Uu)&&($r=!1)}return be.delete(h),be.delete(_),$r}function $0(h){return el($i(h,d,fh),h+"")}function $h(h){return Vo(h,G,Kl)}function ah(h){return Vo(h,N,Ip)}var jh=z0?function(h){return z0.get(h)}:Hf;function Ic(h){for(var _=h.name+"",M=Di[_],j=Zr.call(Di,_)?M.length:0;j--;){var re=M[j],be=re.func;if(be==null||be==h)return re.name}return _}function vu(h){var _=Zr.call(de,"placeholder")?de:h;return _.placeholder}function ir(){var h=de.iteratee||Zf;return h=h===Zf?T:h,arguments.length?h(arguments[0],arguments[1]):h}function oh(h,_){var M=h.__data__;return sh(_)?M[typeof _=="string"?"string":"hash"]:M.map}function Ac(h){for(var _=G(h),M=_.length;M--;){var j=_[M],re=h[j];_[M]=[j,re,Hh(re)]}return _}function ql(h,_){var M=dl(h,_);return u(M)?M:d}function ms(h){var _=Zr.call(h,au),M=h[au];try{h[au]=d;var j=!0}catch{}var re=M0.call(h);return j&&(_?h[au]=M:delete h[au]),re}var Kl=Wu?function(h){return h==null?[]:(h=Jr(h),Ro(Wu(h),function(_){return ru.call(h,_)}))}:Lc,Ip=Wu?function(h){for(var _=[];h;)Ws(_,Kl(h)),h=ls(h);return _}:Lc,qo=$a;(su&&qo(new su(new ArrayBuffer(1)))!=Qr||R0&&qo(new R0)!=yn||Ku&&qo(Ku.resolve())!=Yr||yl&&qo(new yl)!=ur||U0&&qo(new U0)!=Wi)&&(qo=function(h){var _=$a(h),M=_==Ir?h.constructor:d,j=M?Tl(M):"";if(j)switch(j){case Fl:return Qr;case ba:return yn;case Yc:return Yr;case Nl:return ur;case qs:return Wi}return _});function Ap(h,_,M){for(var j=-1,re=M.length;++j<re;){var be=M[j],Ne=be.size;switch(be.type){case"drop":h+=Ne;break;case"dropRight":_-=Ne;break;case"take":_=Fa(_,h+Ne);break;case"takeRight":h=Ni(h,_-Ne);break}}return{start:h,end:_}}function Od(h){var _=h.match(wr);return _?_[1].split(Ln):[]}function od(h,_,M){_=fs(_,h);for(var j=-1,re=_.length,be=!1;++j<re;){var Ne=tl(_[j]);if(!(be=h!=null&&M(h,Ne)))break;h=h[Ne]}return be||++j!=re?be:(re=h==null?0:h.length,!!re&&Tu(re)&&xi(Ne,re)&&(Mr(h)||Uc(h)))}function Vh(h){var _=h.length,M=new h.constructor(_);return _&&typeof h[0]=="string"&&Zr.call(h,"index")&&(M.index=h.index,M.input=h.input),M}function Ko(h){return typeof h.constructor=="function"&&!xu(h)?uu(ls(h)):{}}function sd(h,_,M){var j=h.constructor;switch(_){case Hi:return Es(h);case Fn:case Rn:return new j(+h);case Qr:return p0(h,M);case Bi:case wi:case xr:case Ci:case ri:case _a:case Fe:case ne:case oe:return bo(h,M);case yn:return new j;case yr:case Cn:return new j(h);case vr:return ca(h);case ur:return new j;case Or:return ha(h)}}function ld(h,_){var M=_.length;if(!M)return h;var j=M-1;return _[j]=(M>1?"& ":"")+_[j],_=_.join(M>2?", ":" "),h.replace(fr,`{
/* [wrapped with `+_+`] */
`)}function Zh(h){return Mr(h)||Uc(h)||!!(Xc&&h&&h[Xc])}function xi(h,_){var M=typeof h;return _=_??yt,!!_&&(M=="number"||M!="symbol"&&Eo.test(h))&&h>-1&&h%1==0&&h<_}function ro(h,_,M){if(!Aa(M))return!1;var j=typeof _;return(j=="number"?Pl(M)&&xi(_,M.length):j=="string"&&_ in M)?Z0(M[_],h):!1}function kn(h,_){if(Mr(h))return!1;var M=typeof h;return M=="number"||M=="symbol"||M=="boolean"||h==null||d0(h)?!0:pn.test(h)||!Jt.test(h)||_!=null&&h in Jr(_)}function sh(h){var _=typeof h;return _=="string"||_=="number"||_=="symbol"||_=="boolean"?h!=="__proto__":h===null}function Wh(h){var _=Ic(h),M=de[_];if(typeof M!="function"||!(_ in dr.prototype))return!1;if(h===M)return!0;var j=jh(M);return!!j&&h===j[0]}function Fd(h){return!!Ll&&Ll in h}var If=Ka?zc:_0;function xu(h){var _=h&&h.constructor,M=typeof _=="function"&&_.prototype||Lo;return h===M}function Hh(h){return h===h&&!Aa(h)}function lh(h,_){return function(M){return M==null?!1:M[h]===_&&(_!==d||h in Jr(M))}}function Nd(h){var _=vt(h,function(j){return M.size===q&&M.clear(),j}),M=_.cache;return _}function ud(h,_){var M=h[1],j=_[1],re=M|j,be=re<(Pe|Ze|ot),Ne=j==ot&&M==ze||j==ot&&M==Pt&&h[7].length<=_[8]||j==(ot|Pt)&&_[7].length<=_[8]&&M==ze;if(!(be||Ne))return h;j&Pe&&(h[2]=_[2],re|=M&Pe?0:tt);var Qe=_[3];if(Qe){var ut=h[3];h[3]=ut?Oh(ut,Qe,_[4]):Qe,h[4]=ut?as(h[3],ue):_[4]}return Qe=_[5],Qe&&(ut=h[5],h[5]=ut?th(ut,Qe,_[6]):Qe,h[6]=ut?as(h[5],ue):_[6]),Qe=_[7],Qe&&(h[7]=Qe),j&ot&&(h[8]=h[8]==null?_[8]:Fa(h[8],_[8])),h[9]==null&&(h[9]=_[9]),h[0]=_[0],h[1]=re,h}function uh(h){var _=[];if(h!=null)for(var M in Jr(h))_.push(M);return _}function cd(h){return M0.call(h)}function $i(h,_,M){return _=Ni(_===d?h.length-1:_,0),function(){for(var j=arguments,re=-1,be=Ni(j.length-_,0),Ne=wt(be);++re<be;)Ne[re]=j[_+re];re=-1;for(var Qe=wt(_+1);++re<_;)Qe[re]=j[re];return Qe[_]=M(Ne),xa(h,this,Qe)}}function pa(h,_){return _.length<2?h:Cl(h,Zn(_,0,-1))}function Xl(h,_){for(var M=h.length,j=Fa(_.length,M),re=Ho(h);j--;){var be=_[j];h[j]=xi(be,M)?re[be]:d}return h}function Sl(h,_){if(!(_==="constructor"&&typeof h[_]=="function")&&_!="__proto__")return h[_]}var ch=zs(rn),j0=Zu||function(h,_){return hi.setTimeout(h,_)},el=zs(Gt);function Sp(h,_,M){var j=_+"";return el(h,ld(j,ph(Od(j),M)))}function zs(h){var _=0,M=0;return function(){var j=yc(),re=Bt-(j-M);if(M=j,re>0){if(++_>=St)return arguments[0]}else _=0;return h.apply(d,arguments)}}function hh(h,_){var M=-1,j=h.length,re=j-1;for(_=_===d?j:_;++M<_;){var be=Ve(M,re),Ne=h[be];h[be]=h[M],h[M]=Ne}return h.length=_,h}var tc=Nd(function(h){var _=[];return h.charCodeAt(0)===46&&_.push(""),h.replace(Tn,function(M,j,re,be){_.push(re?be.replace(nr,"$1"):j||M)}),_});function tl(h){if(typeof h=="string"||d0(h))return h;var _=h+"";return _=="0"&&1/h==-1/0?"-0":_}function Tl(h){if(h!=null){try{return ju.call(h)}catch{}try{return h+""}catch{}}return""}function ph(h,_){return ki(hn,function(M){var j="_."+M[0];_&M[1]&&!Pa(h,j)&&h.push(j)}),h.sort()}function $d(h){if(h instanceof dr)return h.clone();var _=new Ya(h.__wrapped__,h.__chain__);return _.__actions__=Ho(h.__actions__),_.__index__=h.__index__,_.__values__=h.__values__,_}function qh(h,_,M){(M?ro(h,_,M):_===d)?_=1:_=Ni(Rr(_),0);var j=h==null?0:h.length;if(!j||_<1)return[];for(var re=0,be=0,Ne=wt(gl(j/_));re<j;)Ne[be++]=Zn(h,re,re+=_);return Ne}function bu(h){for(var _=-1,M=h==null?0:h.length,j=0,re=[];++_<M;){var be=h[_];be&&(re[j++]=be)}return re}function Yl(){var h=arguments.length;if(!h)return[];for(var _=wt(h-1),M=arguments[0],j=h;j--;)_[j-1]=arguments[j];return Ws(Mr(M)?Ho(M):[M],fn(_,1))}var Kr=rt(function(h,_){return Ra(h)?Qs(h,fn(_,1,Ra,!0)):[]}),Da=rt(function(h,_){var M=ao(_);return Ra(M)&&(M=d),Ra(h)?Qs(h,fn(_,1,Ra,!0),ir(M,2)):[]}),Ia=rt(function(h,_){var M=ao(_);return Ra(M)&&(M=d),Ra(h)?Qs(h,fn(_,1,Ra,!0),d,M):[]});function wo(h,_,M){var j=h==null?0:h.length;return j?(_=M||_===d?1:Rr(_),Zn(h,_<0?0:_,j)):[]}function nl(h,_,M){var j=h==null?0:h.length;return j?(_=M||_===d?1:Rr(_),_=j-_,Zn(h,0,_<0?0:_)):[]}function dh(h,_){return h&&h.length?ua(h,ir(_,3),!0,!0):[]}function io(h,_){return h&&h.length?ua(h,ir(_,3),!0):[]}function Kh(h,_,M,j){var re=h==null?0:h.length;return re?(M&&typeof M!="number"&&ro(h,_,M)&&(M=0,j=re),xo(h,_,M,j)):[]}function nc(h,_,M){var j=h==null?0:h.length;if(!j)return-1;var re=M==null?0:Rr(M);return re<0&&(re=Ni(j+re,0)),Gl(h,ir(_,3),re)}function Xh(h,_,M){var j=h==null?0:h.length;if(!j)return-1;var re=j-1;return M!==d&&(re=Rr(M),re=M<0?Ni(j+re,0):Fa(re,j-1)),Gl(h,ir(_,3),re,!0)}function fh(h){var _=h==null?0:h.length;return _?fn(h,1):[]}function gh(h){var _=h==null?0:h.length;return _?fn(h,cn):[]}function ys(h,_){var M=h==null?0:h.length;return M?(_=_===d?1:Rr(_),fn(h,_)):[]}function Tp(h){for(var _=-1,M=h==null?0:h.length,j={};++_<M;){var re=h[_];j[re[0]]=re[1]}return j}function wu(h){return h&&h.length?h[0]:d}function V0(h,_,M){var j=h==null?0:h.length;if(!j)return-1;var re=M==null?0:Rr(M);return re<0&&(re=Ni(j+re,0)),Hs(h,_,re)}function Yh(h){var _=h==null?0:h.length;return _?Zn(h,0,-1):[]}var mh=rt(function(h){var _=Hr(h,Ps);return _.length&&_[0]===h[0]?O0(_):[]}),Cu=rt(function(h){var _=ao(h),M=Hr(h,Ps);return _===ao(M)?_=d:M.pop(),M.length&&M[0]===h[0]?O0(M,ir(_,2)):[]}),Qh=rt(function(h){var _=ao(h),M=Hr(h,Ps);return _=typeof _=="function"?_:d,_&&M.pop(),M.length&&M[0]===h[0]?O0(M,d,_):[]});function Du(h,_){return h==null?"":k0.call(h,_)}function ao(h){var _=h==null?0:h.length;return _?h[_-1]:d}function Jh(h,_,M){var j=h==null?0:h.length;if(!j)return-1;var re=j;return M!==d&&(re=Rr(M),re=re<0?Ni(j+re,0):Fa(re,j-1)),_===_?xp(h,_,re):Gl(h,J0,re,!0)}function ep(h,_){return h&&h.length?we(h,Rr(_)):d}var rc=rt(Sc);function Sc(h,_){return h&&h.length&&_&&_.length?Be(h,_):h}function Gs(h,_,M){return h&&h.length&&_&&_.length?Be(h,_,ir(M,2)):h}function ic(h,_,M){return h&&h.length&&_&&_.length?Be(h,_,d,M):h}var Ql=$0(function(h,_){var M=h==null?0:h.length,j=gu(h,_);return je(h,Hr(_,function(re){return xi(re,M)?+re:re}).sort(vi)),j});function Ls(h,_){var M=[];if(!(h&&h.length))return M;var j=-1,re=[],be=h.length;for(_=ir(_,3);++j<be;){var Ne=h[j];_(Ne,j,h)&&(M.push(Ne),re.push(j))}return je(h,re),M}function Mp(h){return h==null?h:ou.call(h)}function hd(h,_,M){var j=h==null?0:h.length;return j?(M&&typeof M!="number"&&ro(h,_,M)?(_=0,M=j):(_=_==null?0:Rr(_),M=M===d?j:Rr(M)),Zn(h,_,M)):[]}function Tc(h,_){return di(h,_)}function jd(h,_,M){return ei(h,_,ir(M,2))}function ac(h,_){var M=h==null?0:h.length;if(M){var j=di(h,_);if(j<M&&Z0(h[j],_))return j}return-1}function Vd(h,_){return di(h,_,!0)}function pd(h,_,M){return ei(h,_,ir(M,2),!0)}function Mc(h,_){var M=h==null?0:h.length;if(M){var j=di(h,_,!0)-1;if(Z0(h[j],_))return j}return-1}function dd(h){return h&&h.length?Mi(h):[]}function Pc(h,_){return h&&h.length?Mi(h,ir(_,2)):[]}function fd(h){var _=h==null?0:h.length;return _?Zn(h,1,_):[]}function Pp(h,_,M){return h&&h.length?(_=M||_===d?1:Rr(_),Zn(h,0,_<0?0:_)):[]}function Ep(h,_,M){var j=h==null?0:h.length;return j?(_=M||_===d?1:Rr(_),_=j-_,Zn(h,_<0?0:_,j)):[]}function tp(h,_){return h&&h.length?ua(h,ir(_,3),!1,!0):[]}function Zd(h,_){return h&&h.length?ua(h,ir(_,3)):[]}var Af=rt(function(h){return Dr(fn(h,1,Ra,!0))}),np=rt(function(h){var _=ao(h);return Ra(_)&&(_=d),Dr(fn(h,1,Ra,!0),ir(_,2))}),Wd=rt(function(h){var _=ao(h);return _=typeof _=="function"?_:d,Dr(fn(h,1,Ra,!0),d,_)});function oc(h){return h&&h.length?Dr(h):[]}function Sf(h,_){return h&&h.length?Dr(h,ir(_,2)):[]}function yh(h,_){return _=typeof _=="function"?_:d,h&&h.length?Dr(h,d,_):[]}function kp(h){if(!(h&&h.length))return[];var _=0;return h=Ro(h,function(M){if(Ra(M))return _=Ni(M.length,_),!0}),st(_,function(M){return Hr(h,F(M))})}function Yi(h,_){if(!(h&&h.length))return[];var M=kp(h);return _==null?M:Hr(M,function(j){return xa(_,d,j)})}var Tf=rt(function(h,_){return Ra(h)?Qs(h,_):[]}),Hd=rt(function(h){return Dl(Ro(h,Ra))}),rp=rt(function(h){var _=ao(h);return Ra(_)&&(_=d),Dl(Ro(h,Ra),ir(_,2))}),qd=rt(function(h){var _=ao(h);return _=typeof _=="function"?_:d,Dl(Ro(h,Ra),d,_)}),Rp=rt(kp);function gd(h,_){return ds(h||[],_||[],L0)}function ka(h,_){return ds(h||[],_||[],nn)}var rl=rt(function(h){var _=h.length,M=_>1?h[_-1]:d;return M=typeof M=="function"?(h.pop(),M):d,Yi(h,M)});function Up(h){var _=de(h);return _.__chain__=!0,_}function Kd(h,_){return _(h),h}function Ml(h,_){return _(h)}var _h=$0(function(h){var _=h.length,M=_?h[0]:0,j=this.__wrapped__,re=function(be){return gu(be,h)};return _>1||this.__actions__.length||!(j instanceof dr)||!xi(M)?this.thru(re):(j=j.slice(M,+M+(_?1:0)),j.__actions__.push({func:Ml,args:[re],thisArg:d}),new Ya(j,this.__chain__).thru(function(be){return _&&!be.length&&be.push(d),be}))});function Ec(){return Up(this)}function zp(){return new Ya(this.value(),this.__chain__)}function md(){this.__values__===d&&(this.__values__=Uf(this.value()));var h=this.__index__>=this.__values__.length,_=h?d:this.__values__[this.__index__++];return{done:h,value:_}}function yd(){return this}function Xd(h){for(var _,M=this;M instanceof _l;){var j=$d(M);j.__index__=0,j.__values__=d,_?re.__wrapped__=j:_=j;var re=j;M=M.__wrapped__}return re.__wrapped__=h,_}function Xo(){var h=this.__wrapped__;if(h instanceof dr){var _=h;return this.__actions__.length&&(_=new dr(this)),_=_.reverse(),_.__actions__.push({func:Ml,args:[Mp],thisArg:d}),new Ya(_,this.__chain__)}return this.thru(Mp)}function _d(){return Pr(this.__wrapped__,this.__actions__)}var vd=Rs(function(h,_,M){Zr.call(h,M)?++h[M]:jl(h,M,1)});function Iu(h,_,M){var j=Mr(h)?Zs:Xu;return M&&ro(h,_,M)&&(_=d),j(h,ir(_,3))}function kc(h,_){var M=Mr(h)?Ro:Yu;return M(h,ir(_,3))}var sc=Al(nc),Rc=Al(Xh);function vh(h,_){return fn(Au(h,_),1)}function Gp(h,_){return fn(Au(h,_),cn)}function Yd(h,_,M){return M=M===d?1:Rr(M),fn(Au(h,_),M)}function Lp(h,_){var M=Mr(h)?ki:wl;return M(h,ir(_,3))}function xh(h,_){var M=Mr(h)?mo:Bh;return M(h,ir(_,3))}var Bp=Rs(function(h,_,M){Zr.call(h,M)?h[M].push(_):jl(h,M,[_])});function Op(h,_,M,j){h=Pl(h)?h:Xt(h),M=M&&!j?Rr(M):0;var re=h.length;return M<0&&(M=Ni(re+M,0)),nf(h)?M<=re&&h.indexOf(_,M)>-1:!!re&&Hs(h,_,M)>-1}var xd=rt(function(h,_,M){var j=-1,re=typeof _=="function",be=Pl(h)?wt(h.length):[];return wl(h,function(Ne){be[++j]=re?xa(_,Ne,M):ja(Ne,_,M)}),be}),Qd=Rs(function(h,_,M){jl(h,M,_)});function Au(h,_){var M=Mr(h)?Hr:W;return M(h,ir(_,3))}function bd(h,_,M,j){return h==null?[]:(Mr(_)||(_=_==null?[]:[_]),M=j?d:M,Mr(M)||(M=M==null?[]:[M]),De(h,_,M))}var ip=Rs(function(h,_,M){h[M?0:1].push(_)},function(){return[[],[]]});function Jd(h,_,M){var j=Mr(h)?Q0:pe,re=arguments.length<3;return j(h,ir(_,4),M,re,wl)}function Fp(h,_,M){var j=Mr(h)?$c:pe,re=arguments.length<3;return j(h,ir(_,4),M,re,Bh)}function a(h,_){var M=Mr(h)?Ro:Yu;return M(h,dn(ir(_,3)))}function c(h){var _=Mr(h)?lr:ht;return _(h)}function x(h,_,M){(M?ro(h,_,M):_===d)?_=1:_=Rr(_);var j=Mr(h)?$l:Dt;return j(h,_)}function S(h){var _=Mr(h)?bp:bn;return _(h)}function U(h){if(h==null)return 0;if(Pl(h))return nf(h)?Cr(h):h.length;var _=qo(h);return _==yn||_==ur?h.size:k(h).length}function $(h,_,M){var j=Mr(h)?D0:Sr;return M&&ro(h,_,M)&&(_=d),j(h,ir(_,3))}var le=rt(function(h,_){if(h==null)return[];var M=_.length;return M>1&&ro(h,_[0],_[1])?_=[]:M>2&&ro(_[0],_[1],_[2])&&(_=[_[0]]),De(h,fn(_,1),[])}),Re=Ri||function(){return hi.Date.now()};function Xe(h,_){if(typeof _!="function")throw new os(I);return h=Rr(h),function(){if(--h<1)return _.apply(this,arguments)}}function It(h,_,M){return _=M?d:_,_=h&&_==null?h.length:_,gs(h,ot,d,d,d,d,_)}function en(h,_){var M;if(typeof _!="function")throw new os(I);return h=Rr(h),function(){return--h>0&&(M=_.apply(this,arguments)),h<=1&&(_=d),M}}var on=rt(function(h,_,M){var j=Pe;if(M.length){var re=as(M,vu(on));j|=Ge}return gs(h,j,_,M,re)}),tn=rt(function(h,_,M){var j=Pe|Ze;if(M.length){var re=as(M,vu(tn));j|=Ge}return gs(_,j,h,M,re)});function Dn(h,_,M){_=M?d:_;var j=gs(h,ze,d,d,d,d,d,_);return j.placeholder=Dn.placeholder,j}function zn(h,_,M){_=M?d:_;var j=gs(h,Ae,d,d,d,d,d,_);return j.placeholder=zn.placeholder,j}function $n(h,_,M){var j,re,be,Ne,Qe,ut,qt=0,Kt=!1,an=!1,Pn=!0;if(typeof h!="function")throw new os(I);_=f0(_)||0,Aa(M)&&(Kt=!!M.leading,an="maxWait"in M,be=an?Ni(f0(M.maxWait)||0,_):be,Pn="trailing"in M?!!M.trailing:Pn);function tr(es){var Bc=j,lp=re;return j=re=d,qt=es,Ne=h.apply(lp,Bc),Ne}function gr(es){return qt=es,Qe=j0(ti,_),Kt?tr(es):Ne}function $r(es){var Bc=es-ut,lp=es-qt,R_=_-Bc;return an?Fa(R_,be-lp):R_}function mr(es){var Bc=es-ut,lp=es-qt;return ut===d||Bc>=_||Bc<0||an&&lp>=be}function ti(){var es=Re();if(mr(es))return fi(es);Qe=j0(ti,$r(es))}function fi(es){return Qe=d,Pn&&j?tr(es):(j=re=d,Ne)}function Ru(){Qe!==d&&Wo(Qe),qt=0,j=ut=re=Qe=d}function v0(){return Qe===d?Ne:fi(Re())}function Uu(){var es=Re(),Bc=mr(es);if(j=arguments,re=this,ut=es,Bc){if(Qe===d)return gr(ut);if(an)return Wo(Qe),Qe=j0(ti,_),tr(ut)}return Qe===d&&(Qe=j0(ti,_)),Ne}return Uu.cancel=Ru,Uu.flush=v0,Uu}var da=rt(function(h,_){return mu(h,1,_)}),dt=rt(function(h,_,M){return mu(h,f0(_)||0,M)});function et(h){return gs(h,Yt)}function vt(h,_){if(typeof h!="function"||_!=null&&typeof _!="function")throw new os(I);var M=function(){var j=arguments,re=_?_.apply(this,j):j[0],be=M.cache;if(be.has(re))return be.get(re);var Ne=h.apply(this,j);return M.cache=be.set(re,Ne)||be,Ne};return M.cache=new(vt.Cache||Ki),M}vt.Cache=Ki;function dn(h){if(typeof h!="function")throw new os(I);return function(){var _=arguments;switch(_.length){case 0:return!h.call(this);case 1:return!h.call(this,_[0]);case 2:return!h.call(this,_[0],_[1]);case 3:return!h.call(this,_[0],_[1],_[2])}return!h.apply(this,_)}}function Vn(h){return en(2,h)}var ar=h0(function(h,_){_=_.length==1&&Mr(_[0])?Hr(_[0],Bn(ir())):Hr(fn(_,1),Bn(ir()));var M=_.length;return rt(function(j){for(var re=-1,be=Fa(j.length,M);++re<be;)j[re]=_[re].call(this,j[re]);return xa(h,this,j)})}),Jn=rt(function(h,_){var M=as(_,vu(Jn));return gs(h,Ge,d,_,M)}),cr=rt(function(h,_){var M=as(_,vu(cr));return gs(h,$e,d,_,M)}),Co=$0(function(h,_){return gs(h,Pt,d,d,d,_)});function oi(h,_){if(typeof h!="function")throw new os(I);return _=_===d?_:Rr(_),rt(h,_)}function Su(h,_){if(typeof h!="function")throw new os(I);return _=_==null?0:Ni(Rr(_),0),rt(function(M){var j=M[_],re=Zo(M,0,_);return j&&Ws(re,j),xa(h,this,re)})}function Mf(h,_,M){var j=!0,re=!0;if(typeof h!="function")throw new os(I);return Aa(M)&&(j="leading"in M?!!M.leading:j,re="trailing"in M?!!M.trailing:re),$n(h,_,{leading:j,maxWait:_,trailing:re})}function sy(h){return It(h,1)}function ly(h,_){return Jn(Wl(_),h)}function uy(){if(!arguments.length)return[];var h=arguments[0];return Mr(h)?h:[h]}function cy(h){return us(h,ae)}function Pf(h,_){return _=typeof _=="function"?_:d,us(h,ae,_)}function bh(h){return us(h,te|ae)}function Ug(h,_){return _=typeof _=="function"?_:d,us(h,te|ae,_)}function zg(h,_){return _==null||ii(h,_,G(_))}function Z0(h,_){return h===_||h!==h&&_!==_}var Gg=nh(cs),Lg=nh(function(h,_){return h>=_}),Uc=Qu(function(){return arguments}())?Qu:function(h){return Ua(h)&&Zr.call(h,"callee")&&!ru.call(h,"callee")},Mr=wt.isArray,wd=Vs?Bn(Vs):Jc;function Pl(h){return h!=null&&Tu(h.length)&&!zc(h)}function Ra(h){return Ua(h)&&Pl(h)}function Bg(h){return h===!0||h===!1||Ua(h)&&$a(h)==Fn}var Do=Hu||_0,Np=Ei?Bn(Ei):hs;function Og(h){return Ua(h)&&h.nodeType===1&&!$p(h)}function Fg(h){if(h==null)return!0;if(Pl(h)&&(Mr(h)||typeof h=="string"||typeof h.splice=="function"||Do(h)||Vp(h)||Uc(h)))return!h.length;var _=qo(h);if(_==yn||_==ur)return!h.size;if(xu(h))return!k(h).length;for(var M in h)if(Zr.call(h,M))return!1;return!0}function Ng(h,_){return ps(h,_)}function $g(h,_,M){M=typeof M=="function"?M:d;var j=M?M(h,_):d;return j===d?ps(h,_,d,M):!!j}function ef(h){if(!Ua(h))return!1;var _=$a(h);return _==Nn||_==An||typeof h.message=="string"&&typeof h.name=="string"&&!$p(h)}function jg(h){return typeof h=="number"&&E0(h)}function zc(h){if(!Aa(h))return!1;var _=$a(h);return _==Kn||_==Hn||_==wn||_==Li}function Ef(h){return typeof h=="number"&&h==Rr(h)}function Tu(h){return typeof h=="number"&&h>-1&&h%1==0&&h<=yt}function Aa(h){var _=typeof h;return h!=null&&(_=="object"||_=="function")}function Ua(h){return h!=null&&typeof h=="object"}var kf=Si?Bn(Si):e;function Vg(h,_){return h===_||n(h,_,Ac(_))}function hy(h,_,M){return M=typeof M=="function"?M:d,n(h,_,Ac(_),M)}function py(h){return Dd(h)&&h!=+h}function Zg(h){if(If(h))throw new pr(E);return u(h)}function Cd(h){return h===null}function Wg(h){return h==null}function Dd(h){return typeof h=="number"||Ua(h)&&$a(h)==yr}function $p(h){if(!Ua(h)||$a(h)!=Ir)return!1;var _=ls(h);if(_===null)return!0;var M=Zr.call(_,"constructor")&&_.constructor;return typeof M=="function"&&M instanceof M&&ju.call(M)==nu}var jp=Ds?Bn(Ds):f;function tf(h){return Ef(h)&&h>=-9007199254740991&&h<=yt}var Id=hl?Bn(hl):y;function nf(h){return typeof h=="string"||!Mr(h)&&Ua(h)&&$a(h)==Cn}function d0(h){return typeof h=="symbol"||Ua(h)&&$a(h)==Or}var Vp=Y0?Bn(Y0):C;function Zp(h){return h===d}function _s(h){return Ua(h)&&qo(h)==Wi}function wh(h){return Ua(h)&&$a(h)==Ga}var Rf=nh(O),Hg=nh(function(h,_){return h<=_});function Uf(h){if(!h)return[];if(Pl(h))return nf(h)?oa(h):Ho(h);if(Is&&h[Is])return Vc(h[Is]());var _=qo(h),M=_==yn?Zc:_==ur?o0:Xt;return M(h)}function Mu(h){if(!h)return h===0?h:0;if(h=f0(h),h===cn||h===-1/0){var _=h<0?-1:1;return _*mt}return h===h?h:0}function Rr(h){var _=Mu(h),M=_%1;return _===_?M?_-M:_:0}function zf(h){return h?u0(Rr(h),0,qe):0}function f0(h){if(typeof h=="number")return h;if(d0(h))return jt;if(Aa(h)){var _=typeof h.valueOf=="function"?h.valueOf():h;h=Aa(_)?_+"":_}if(typeof h!="string")return h===0?h:+h;h=ln(h);var M=or.test(h);return M||rs.test(h)?js(h.slice(2),M?2:8):Sa.test(h)?jt:+h}function qg(h){return ks(h,N(h))}function Kg(h){return h?u0(Rr(h),-9007199254740991,yt):h===0?h:0}function bi(h){return h==null?"":Tr(h)}var Gf=to(function(h,_){if(xu(_)||Pl(_)){ks(_,G(_),h);return}for(var M in _)Zr.call(_,M)&&L0(h,M,_[M])}),Lf=to(function(h,_){ks(_,N(_),h)}),Ch=to(function(h,_,M,j){ks(_,N(_),h,j)}),Bf=to(function(h,_,M,j){ks(_,G(_),h,j)}),Xg=$0(gu);function Of(h,_){var M=uu(h);return _==null?M:_i(M,_)}var rf=rt(function(h,_){h=Jr(h);var M=-1,j=_.length,re=j>2?_[2]:d;for(re&&ro(_[0],_[1],re)&&(j=1);++M<j;)for(var be=_[M],Ne=N(be),Qe=-1,ut=Ne.length;++Qe<ut;){var qt=Ne[Qe],Kt=h[qt];(Kt===d||Z0(Kt,Lo[qt])&&!Zr.call(h,qt))&&(h[qt]=be[qt])}return h}),Ad=rt(function(h){return h.push(d,Dc),xa(se,d,h)});function Ff(h,_){return zl(h,ir(_,3),jo)}function Nf(h,_){return zl(h,ir(_,3),Zl)}function $f(h,_){return h==null?h:jn(h,ir(_,3),N)}function dy(h,_){return h==null?h:c0(h,ir(_,3),N)}function i(h,_){return h&&jo(h,ir(_,3))}function t(h,_){return h&&Zl(h,ir(_,3))}function r(h){return h==null?[]:Ui(h,G(h))}function l(h){return h==null?[]:Ui(h,N(h))}function g(h,_,M){var j=h==null?d:Cl(h,_);return j===d?M:j}function v(h,_){return h!=null&&od(h,_,Nr)}function b(h,_){return h!=null&&od(h,_,ai)}var A=Bd(function(h,_,M){_!=null&&typeof _.toString!="function"&&(_=M0.call(_)),h[_]=M},Sd(Rl)),P=Bd(function(h,_,M){_!=null&&typeof _.toString!="function"&&(_=M0.call(_)),Zr.call(h,_)?h[_].push(M):h[_]=[M]},ir),R=rt(ja);function G(h){return Pl(h)?Ys(h):k(h)}function N(h){return Pl(h)?Ys(h,!0):z(h)}function H(h,_){var M={};return _=ir(_,3),jo(h,function(j,re,be){jl(M,_(j,re,be),j)}),M}function Y(h,_){var M={};return _=ir(_,3),jo(h,function(j,re,be){jl(M,re,_(j,re,be))}),M}var ee=to(function(h,_,M){ie(h,_,M)}),se=to(function(h,_,M,j){ie(h,_,M,j)}),xe=$0(function(h,_){var M={};if(h==null)return M;var j=!1;_=Hr(_,function(be){return be=fs(be,h),j||(j=be.length>1),be}),ks(h,ah(h),M),j&&(M=us(M,te|ce|ae,rh));for(var re=_.length;re--;)Xi(M,_[re]);return M});function Ie(h,_){return Ue(h,dn(ir(_)))}var Ke=$0(function(h,_){return h==null?{}:ke(h,_)});function Ue(h,_){if(h==null)return{};var M=Hr(ah(h),function(j){return[j]});return _=ir(_),Le(h,M,function(j,re){return _(j,re[0])})}function K(h,_,M){_=fs(_,h);var j=-1,re=_.length;for(re||(re=1,h=d);++j<re;){var be=h==null?d:h[tl(_[j])];be===d&&(j=re,be=M),h=zc(be)?be.call(h):be}return h}function ye(h,_,M){return h==null?h:nn(h,_,M)}function Oe(h,_,M,j){return j=typeof j=="function"?j:d,h==null?h:nn(h,_,M,j)}var ft=Cp(G),Zt=Cp(N);function xt(h,_,M){var j=Mr(h),re=j||Do(h)||Vp(h);if(_=ir(_,4),M==null){var be=h&&h.constructor;re?M=j?new be:[]:Aa(h)?M=zc(be)?uu(ls(h)):{}:M={}}return(re?ki:jo)(h,function(Ne,Qe,ut){return _(M,Ne,Qe,ut)}),M}function Mt(h,_){return h==null?!0:Xi(h,_)}function Qt(h,_,M){return h==null?h:wa(h,_,Wl(M))}function Ht(h,_,M,j){return j=typeof j=="function"?j:d,h==null?h:wa(h,_,Wl(M),j)}function Xt(h){return h==null?[]:hr(h,G(h))}function Et(h){return h==null?[]:hr(h,N(h))}function In(h,_,M){return M===d&&(M=_,_=d),M!==d&&(M=f0(M),M=M===M?M:0),_!==d&&(_=f0(_),_=_===_?_:0),u0(f0(h),_,M)}function qn(h,_,M){return _=Mu(_),M===d?(M=_,_=0):M=Mu(M),h=f0(h),B0(h,_,M)}function Wn(h,_,M){if(M&&typeof M!="boolean"&&ro(h,_,M)&&(_=M=d),M===d&&(typeof _=="boolean"?(M=_,_=d):typeof h=="boolean"&&(M=h,h=d)),h===d&&_===d?(h=0,_=1):(h=Mu(h),_===d?(_=h,h=0):_=Mu(_)),h>_){var j=h;h=_,_=j}if(M||h%1||_%1){var re=qu();return Fa(h+re*(_-h+C0("1e-"+((re+"").length-1))),_)}return Ve(h,_)}var En=Ju(function(h,_,M){return _=_.toLowerCase(),h+(M?Er(_):_)});function Er(h){return Dh(bi(h).toLowerCase())}function Qi(h){return h=bi(h),h&&h.replace(ol,yo).replace(Ba,"")}function oo(h,_,M){h=bi(h),_=Tr(_);var j=h.length;M=M===d?j:u0(Rr(M),0,j);var re=M;return M-=_.length,M>=0&&h.slice(M,re)==_}function vs(h){return h=bi(h),h&&at.test(h)?h.replace(Je,is):h}function g0(h){return h=bi(h),h&&On.test(h)?h.replace(Xn,"\\$&"):h}var El=Ju(function(h,_,M){return h+(M?"-":"")+_.toLowerCase()}),Yo=Ju(function(h,_,M){return h+(M?" ":"")+_.toLowerCase()}),Ji=bc("toLowerCase");function Io(h,_,M){h=bi(h),_=Rr(_);var j=_?Cr(h):0;if(!_||j>=_)return h;var re=(_-j)/2;return Nh(ml(re),M)+h+Nh(gl(re),M)}function Qo(h,_,M){h=bi(h),_=Rr(_);var j=_?Cr(h):0;return _&&j<_?h+Nh(_-j,M):h}function Jo(h,_,M){h=bi(h),_=Rr(_);var j=_?Cr(h):0;return _&&j<_?Nh(_-j,M)+h:h}function il(h,_,M){return M||_==null?_=0:_&&(_=+_),_c(bi(h).replace(Ct,""),_||0)}function m0(h,_,M){return(M?ro(h,_,M):_===d)?_=1:_=Rr(_),At(bi(h),_)}function Ao(){var h=arguments,_=bi(h[0]);return h.length<3?_:_.replace(h[1],h[2])}var kl=Ju(function(h,_,M){return h+(M?"_":"")+_.toLowerCase()});function so(h,_,M){return M&&typeof M!="number"&&ro(h,_,M)&&(_=M=d),M=M===d?qe:M>>>0,M?(h=bi(h),h&&(typeof _=="string"||_!=null&&!jp(_))&&(_=Tr(_),!_&&fl(h))?Zo(oa(h),0,M):h.split(_,M)):[]}var So=Ju(function(h,_,M){return h+(M?" ":"")+Dh(_)});function To(h,_,M){return h=bi(h),M=M==null?0:u0(Rr(M),0,h.length),_=Tr(_),h.slice(M,M+_.length)==_}function Va(h,_,M){var j=de.templateSettings;M&&ro(h,_,M)&&(_=d),h=bi(h),_=Ch({},_,j,id);var re=Ch({},_.imports,j.imports,id),be=G(re),Ne=hr(re,be),Qe,ut,qt=0,Kt=_.interpolate||qa,an="__p += '",Pn=S0((_.escape||qa).source+"|"+Kt.source+"|"+(Kt===Rt?jr:qa).source+"|"+(_.evaluate||qa).source+"|$","g"),tr="//# sourceURL="+(Zr.call(_,"sourceURL")?(_.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Un+"]")+`
`;h.replace(Pn,function(mr,ti,fi,Ru,v0,Uu){return fi||(fi=Ru),an+=h.slice(qt,Uu).replace(Fs,Ou),ti&&(Qe=!0,an+=`' +
__e(`+ti+`) +
'`),v0&&(ut=!0,an+=`';
`+v0+`;
__p += '`),fi&&(an+=`' +
((__t = (`+fi+`)) == null ? '' : __t) +
'`),qt=Uu+mr.length,mr}),an+=`';
`;var gr=Zr.call(_,"variable")&&_.variable;if(!gr)an=`with (obj) {
`+an+`
}
`;else if(Gn.test(gr))throw new pr(s);an=(ut?an.replace(ve,""):an).replace(Me,"$1").replace(We,"$1;"),an="function("+(gr||"obj")+`) {
`+(gr?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Qe?", __e = _.escape":"")+(ut?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+an+`return __p
}`;var $r=jf(function(){return qr(be,tr+"return "+an).apply(d,Ne)});if($r.source=an,ef($r))throw $r;return $r}function ji(h){return bi(h).toLowerCase()}function Pu(h){return bi(h).toUpperCase()}function Wp(h,_,M){if(h=bi(h),h&&(M||_===d))return ln(h);if(!h||!(_=Tr(_)))return h;var j=oa(h),re=oa(_),be=pi(j,re),Ne=Oa(j,re)+1;return Zo(j,be,Ne).join("")}function Eu(h,_,M){if(h=bi(h),h&&(M||_===d))return h.slice(0,Nu(h)+1);if(!h||!(_=Tr(_)))return h;var j=oa(h),re=Oa(j,oa(_))+1;return Zo(j,0,re).join("")}function fy(h,_,M){if(h=bi(h),h&&(M||_===d))return h.replace(Ct,"");if(!h||!(_=Tr(_)))return h;var j=oa(h),re=pi(j,oa(_));return Zo(j,re).join("")}function Hp(h,_){var M=ge,j=bt;if(Aa(_)){var re="separator"in _?_.separator:re;M="length"in _?Rr(_.length):M,j="omission"in _?Tr(_.omission):j}h=bi(h);var be=h.length;if(fl(h)){var Ne=oa(h);be=Ne.length}if(M>=be)return h;var Qe=M-Cr(j);if(Qe<1)return j;var ut=Ne?Zo(Ne,0,Qe).join(""):h.slice(0,Qe);if(re===d)return ut+j;if(Ne&&(Qe+=ut.length-Qe),jp(re)){if(h.slice(Qe).search(re)){var qt,Kt=ut;for(re.global||(re=S0(re.source,bi(Vr.exec(re))+"g")),re.lastIndex=0;qt=re.exec(Kt);)var an=qt.index;ut=ut.slice(0,an===d?Qe:an)}}else if(h.indexOf(Tr(re),Qe)!=Qe){var Pn=ut.lastIndexOf(re);Pn>-1&&(ut=ut.slice(0,Pn))}return ut+j}function ap(h){return h=bi(h),h&&Ye.test(h)?h.replace(me,Wc):h}var qp=Ju(function(h,_,M){return h+(M?" ":"")+_.toUpperCase()}),Dh=bc("toUpperCase");function op(h,_,M){return h=bi(h),_=M?d:_,_===d?_p(h)?Gh(h):pl(h):h.match(_)||[]}var jf=rt(function(h,_){try{return xa(h,d,_)}catch(M){return ef(M)?M:new pr(M)}}),Yg=$0(function(h,_){return ki(_,function(M){M=tl(M),jl(h,M,on(h[M],h))}),h});function Qg(h){var _=h==null?0:h.length,M=ir();return h=_?Hr(h,function(j){if(typeof j[1]!="function")throw new os(I);return[M(j[0]),j[1]]}):[],rt(function(j){for(var re=-1;++re<_;){var be=h[re];if(xa(be[0],this,j))return xa(be[1],this,j)}})}function Jg(h){return Vl(us(h,te))}function Sd(h){return function(){return h}}function Vf(h,_){return h==null||h!==h?_:h}var Gc=N0(),em=N0(!0);function Rl(h){return h}function Zf(h){return T(typeof h=="function"?h:us(h,te))}function gy(h){return Z(us(h,te))}function my(h,_){return Q(h,us(_,te))}var yy=rt(function(h,_){return function(M){return ja(M,h,_)}}),_y=rt(function(h,_){return function(M){return ja(h,M,_)}});function Wf(h,_,M){var j=G(_),re=Ui(_,j);M==null&&!(Aa(_)&&(re.length||!j.length))&&(M=_,_=h,h=this,re=Ui(_,G(_)));var be=!(Aa(M)&&"chain"in M)||!!M.chain,Ne=zc(h);return ki(re,function(Qe){var ut=_[Qe];h[Qe]=ut,Ne&&(h.prototype[Qe]=function(){var qt=this.__chain__;if(be||qt){var Kt=h(this.__wrapped__),an=Kt.__actions__=Ho(this.__actions__);return an.push({func:ut,args:arguments,thisArg:h}),Kt.__chain__=qt,Kt}return ut.apply(h,Ws([this.value()],arguments))})}),h}function vy(){return hi._===this&&(hi._=Vu),this}function Hf(){}function ku(h){return h=Rr(h),rt(function(_){return we(_,h)})}var af=Fh(Hr),tm=Fh(Zs),xy=Fh(D0);function nm(h){return kn(h)?F(tl(h)):Ee(h)}function by(h){return function(_){return h==null?d:Cl(h,_)}}var Bs=nd(),y0=nd(!0);function Lc(){return[]}function _0(){return!1}function sp(){return{}}function lc(){return""}function ow(){return!0}function sw(h,_){if(h=Rr(h),h<1||h>yt)return[];var M=qe,j=Fa(h,qe);_=ir(_),h-=qe;for(var re=st(j,_);++M<h;)_(M);return re}function lw(h){return Mr(h)?Hr(h,tl):d0(h)?[h]:Ho(tc(bi(h)))}function uw(h){var _=++T0;return bi(h)+_}var cw=Cc(function(h,_){return h+_},0),hw=no("ceil"),pw=Cc(function(h,_){return h/_},1),dw=no("floor");function fw(h){return h&&h.length?yu(h,Rl,cs):d}function gw(h,_){return h&&h.length?yu(h,ir(_,2),cs):d}function mw(h){return eu(h,Rl)}function yw(h,_){return eu(h,ir(_,2))}function _w(h){return h&&h.length?yu(h,Rl,O):d}function vw(h,_){return h&&h.length?yu(h,ir(_,2),O):d}var xw=Cc(function(h,_){return h*_},1),bw=no("round"),ww=Cc(function(h,_){return h-_},0);function Cw(h){return h&&h.length?_t(h,Rl):0}function Dw(h,_){return h&&h.length?_t(h,ir(_,2)):0}return de.after=Xe,de.ary=It,de.assign=Gf,de.assignIn=Lf,de.assignInWith=Ch,de.assignWith=Bf,de.at=Xg,de.before=en,de.bind=on,de.bindAll=Yg,de.bindKey=tn,de.castArray=uy,de.chain=Up,de.chunk=qh,de.compact=bu,de.concat=Yl,de.cond=Qg,de.conforms=Jg,de.constant=Sd,de.countBy=vd,de.create=Of,de.curry=Dn,de.curryRight=zn,de.debounce=$n,de.defaults=rf,de.defaultsDeep=Ad,de.defer=da,de.delay=dt,de.difference=Kr,de.differenceBy=Da,de.differenceWith=Ia,de.drop=wo,de.dropRight=nl,de.dropRightWhile=dh,de.dropWhile=io,de.fill=Kh,de.filter=kc,de.flatMap=vh,de.flatMapDeep=Gp,de.flatMapDepth=Yd,de.flatten=fh,de.flattenDeep=gh,de.flattenDepth=ys,de.flip=et,de.flow=Gc,de.flowRight=em,de.fromPairs=Tp,de.functions=r,de.functionsIn=l,de.groupBy=Bp,de.initial=Yh,de.intersection=mh,de.intersectionBy=Cu,de.intersectionWith=Qh,de.invert=A,de.invertBy=P,de.invokeMap=xd,de.iteratee=Zf,de.keyBy=Qd,de.keys=G,de.keysIn=N,de.map=Au,de.mapKeys=H,de.mapValues=Y,de.matches=gy,de.matchesProperty=my,de.memoize=vt,de.merge=ee,de.mergeWith=se,de.method=yy,de.methodOf=_y,de.mixin=Wf,de.negate=dn,de.nthArg=ku,de.omit=xe,de.omitBy=Ie,de.once=Vn,de.orderBy=bd,de.over=af,de.overArgs=ar,de.overEvery=tm,de.overSome=xy,de.partial=Jn,de.partialRight=cr,de.partition=ip,de.pick=Ke,de.pickBy=Ue,de.property=nm,de.propertyOf=by,de.pull=rc,de.pullAll=Sc,de.pullAllBy=Gs,de.pullAllWith=ic,de.pullAt=Ql,de.range=Bs,de.rangeRight=y0,de.rearg=Co,de.reject=a,de.remove=Ls,de.rest=oi,de.reverse=Mp,de.sampleSize=x,de.set=ye,de.setWith=Oe,de.shuffle=S,de.slice=hd,de.sortBy=le,de.sortedUniq=dd,de.sortedUniqBy=Pc,de.split=so,de.spread=Su,de.tail=fd,de.take=Pp,de.takeRight=Ep,de.takeRightWhile=tp,de.takeWhile=Zd,de.tap=Kd,de.throttle=Mf,de.thru=Ml,de.toArray=Uf,de.toPairs=ft,de.toPairsIn=Zt,de.toPath=lw,de.toPlainObject=qg,de.transform=xt,de.unary=sy,de.union=Af,de.unionBy=np,de.unionWith=Wd,de.uniq=oc,de.uniqBy=Sf,de.uniqWith=yh,de.unset=Mt,de.unzip=kp,de.unzipWith=Yi,de.update=Qt,de.updateWith=Ht,de.values=Xt,de.valuesIn=Et,de.without=Tf,de.words=op,de.wrap=ly,de.xor=Hd,de.xorBy=rp,de.xorWith=qd,de.zip=Rp,de.zipObject=gd,de.zipObjectDeep=ka,de.zipWith=rl,de.entries=ft,de.entriesIn=Zt,de.extend=Lf,de.extendWith=Ch,Wf(de,de),de.add=cw,de.attempt=jf,de.camelCase=En,de.capitalize=Er,de.ceil=hw,de.clamp=In,de.clone=cy,de.cloneDeep=bh,de.cloneDeepWith=Ug,de.cloneWith=Pf,de.conformsTo=zg,de.deburr=Qi,de.defaultTo=Vf,de.divide=pw,de.endsWith=oo,de.eq=Z0,de.escape=vs,de.escapeRegExp=g0,de.every=Iu,de.find=sc,de.findIndex=nc,de.findKey=Ff,de.findLast=Rc,de.findLastIndex=Xh,de.findLastKey=Nf,de.floor=dw,de.forEach=Lp,de.forEachRight=xh,de.forIn=$f,de.forInRight=dy,de.forOwn=i,de.forOwnRight=t,de.get=g,de.gt=Gg,de.gte=Lg,de.has=v,de.hasIn=b,de.head=wu,de.identity=Rl,de.includes=Op,de.indexOf=V0,de.inRange=qn,de.invoke=R,de.isArguments=Uc,de.isArray=Mr,de.isArrayBuffer=wd,de.isArrayLike=Pl,de.isArrayLikeObject=Ra,de.isBoolean=Bg,de.isBuffer=Do,de.isDate=Np,de.isElement=Og,de.isEmpty=Fg,de.isEqual=Ng,de.isEqualWith=$g,de.isError=ef,de.isFinite=jg,de.isFunction=zc,de.isInteger=Ef,de.isLength=Tu,de.isMap=kf,de.isMatch=Vg,de.isMatchWith=hy,de.isNaN=py,de.isNative=Zg,de.isNil=Wg,de.isNull=Cd,de.isNumber=Dd,de.isObject=Aa,de.isObjectLike=Ua,de.isPlainObject=$p,de.isRegExp=jp,de.isSafeInteger=tf,de.isSet=Id,de.isString=nf,de.isSymbol=d0,de.isTypedArray=Vp,de.isUndefined=Zp,de.isWeakMap=_s,de.isWeakSet=wh,de.join=Du,de.kebabCase=El,de.last=ao,de.lastIndexOf=Jh,de.lowerCase=Yo,de.lowerFirst=Ji,de.lt=Rf,de.lte=Hg,de.max=fw,de.maxBy=gw,de.mean=mw,de.meanBy=yw,de.min=_w,de.minBy=vw,de.stubArray=Lc,de.stubFalse=_0,de.stubObject=sp,de.stubString=lc,de.stubTrue=ow,de.multiply=xw,de.nth=ep,de.noConflict=vy,de.noop=Hf,de.now=Re,de.pad=Io,de.padEnd=Qo,de.padStart=Jo,de.parseInt=il,de.random=Wn,de.reduce=Jd,de.reduceRight=Fp,de.repeat=m0,de.replace=Ao,de.result=K,de.round=bw,de.runInContext=it,de.sample=c,de.size=U,de.snakeCase=kl,de.some=$,de.sortedIndex=Tc,de.sortedIndexBy=jd,de.sortedIndexOf=ac,de.sortedLastIndex=Vd,de.sortedLastIndexBy=pd,de.sortedLastIndexOf=Mc,de.startCase=So,de.startsWith=To,de.subtract=ww,de.sum=Cw,de.sumBy=Dw,de.template=Va,de.times=sw,de.toFinite=Mu,de.toInteger=Rr,de.toLength=zf,de.toLower=ji,de.toNumber=f0,de.toSafeInteger=Kg,de.toString=bi,de.toUpper=Pu,de.trim=Wp,de.trimEnd=Eu,de.trimStart=fy,de.truncate=Hp,de.unescape=ap,de.uniqueId=uw,de.upperCase=qp,de.upperFirst=Dh,de.each=Lp,de.eachRight=xh,de.first=wu,Wf(de,function(){var h={};return jo(de,function(_,M){Zr.call(de.prototype,M)||(h[M]=_)}),h}(),{chain:!1}),de.VERSION=w,ki(["bind","bindKey","curry","curryRight","partial","partialRight"],function(h){de[h].placeholder=de}),ki(["drop","take"],function(h,_){dr.prototype[h]=function(M){M=M===d?1:Ni(Rr(M),0);var j=this.__filtered__&&!_?new dr(this):this.clone();return j.__filtered__?j.__takeCount__=Fa(M,j.__takeCount__):j.__views__.push({size:Fa(M,qe),type:h+(j.__dir__<0?"Right":"")}),j},dr.prototype[h+"Right"]=function(M){return this.reverse()[h](M).reverse()}}),ki(["filter","map","takeWhile"],function(h,_){var M=_+1,j=M==Wt||M==Nt;dr.prototype[h]=function(re){var be=this.clone();return be.__iteratees__.push({iteratee:ir(re,3),type:M}),be.__filtered__=be.__filtered__||j,be}}),ki(["head","last"],function(h,_){var M="take"+(_?"Right":"");dr.prototype[h]=function(){return this[M](1).value()[0]}}),ki(["initial","tail"],function(h,_){var M="drop"+(_?"":"Right");dr.prototype[h]=function(){return this.__filtered__?new dr(this):this[M](1)}}),dr.prototype.compact=function(){return this.filter(Rl)},dr.prototype.find=function(h){return this.filter(h).head()},dr.prototype.findLast=function(h){return this.reverse().find(h)},dr.prototype.invokeMap=rt(function(h,_){return typeof h=="function"?new dr(this):this.map(function(M){return ja(M,h,_)})}),dr.prototype.reject=function(h){return this.filter(dn(ir(h)))},dr.prototype.slice=function(h,_){h=Rr(h);var M=this;return M.__filtered__&&(h>0||_<0)?new dr(M):(h<0?M=M.takeRight(-h):h&&(M=M.drop(h)),_!==d&&(_=Rr(_),M=_<0?M.dropRight(-_):M.take(_-h)),M)},dr.prototype.takeRightWhile=function(h){return this.reverse().takeWhile(h).reverse()},dr.prototype.toArray=function(){return this.take(qe)},jo(dr.prototype,function(h,_){var M=/^(?:filter|find|map|reject)|While$/.test(_),j=/^(?:head|last)$/.test(_),re=de[j?"take"+(_=="last"?"Right":""):_],be=j||/^find/.test(_);re&&(de.prototype[_]=function(){var Ne=this.__wrapped__,Qe=j?[1]:arguments,ut=Ne instanceof dr,qt=Qe[0],Kt=ut||Mr(Ne),an=function(ti){var fi=re.apply(de,Ws([ti],Qe));return j&&Pn?fi[0]:fi};Kt&&M&&typeof qt=="function"&&qt.length!=1&&(ut=Kt=!1);var Pn=this.__chain__,tr=!!this.__actions__.length,gr=be&&!Pn,$r=ut&&!tr;if(!be&&Kt){Ne=$r?Ne:new dr(this);var mr=h.apply(Ne,Qe);return mr.__actions__.push({func:Ml,args:[an],thisArg:d}),new Ya(mr,Pn)}return gr&&$r?h.apply(this,Qe):(mr=this.thru(an),gr?j?mr.value()[0]:mr.value():mr)})}),ki(["pop","push","shift","sort","splice","unshift"],function(h){var _=Go[h],M=/^(?:push|sort|unshift)$/.test(h)?"tap":"thru",j=/^(?:pop|shift)$/.test(h);de.prototype[h]=function(){var re=arguments;if(j&&!this.__chain__){var be=this.value();return _.apply(Mr(be)?be:[],re)}return this[M](function(Ne){return _.apply(Mr(Ne)?Ne:[],re)})}}),jo(dr.prototype,function(h,_){var M=de[_];if(M){var j=M.name+"";Zr.call(Di,j)||(Di[j]=[]),Di[j].push({name:_,func:M})}}),Di[wc(d,Ze).name]=[{name:"wrapper",func:d}],dr.prototype.clone=s0,dr.prototype.reverse=la,dr.prototype.value=vl,de.prototype.at=_h,de.prototype.chain=Ec,de.prototype.commit=zp,de.prototype.next=md,de.prototype.plant=Xd,de.prototype.reverse=Xo,de.prototype.toJSON=de.prototype.valueOf=de.prototype.value=_d,de.prototype.first=de.prototype.head,Is&&(de.prototype[Is]=yd),de},A0=tu();go?((go.exports=A0)._=A0,ul._=A0):hi._=A0}).call(US)}(ag,ag.exports)),ag.exports}zS();const GS={0:[0,126,1,0],1:[0,119,13],2:[0,113,26],3:[0,107,39],4:[0,101,51],5:[0,95,64],6:[0,88,77],7:[0,82,89],8:[0,76,102],9:[0,70,115],10:[0,64,128],11:[0,64,128],12:[1,65,129],13:[1,66,129],14:[2,67,130],15:[2,68,131],16:[3,69,131],17:[3,70,132],18:[4,71,133],19:[5,72,133],20:[5,73,134],21:[6,74,135],22:[6,75,135],23:[7,76,136],24:[7,77,137],25:[8,78,137],26:[8,79,138],27:[9,80,139],28:[10,81,139],29:[10,82,140],30:[11,83,141],31:[11,84,141],32:[12,85,142],33:[12,86,143],34:[13,87,143],35:[13,88,144],36:[14,89,145],37:[15,90,145],38:[15,91,146],39:[16,92,147],40:[16,93,147],41:[17,94,148],42:[17,95,149],43:[18,96,149],44:[18,97,150],45:[19,98,151],46:[20,99,151],47:[20,100,152],48:[21,101,153],49:[21,102,153],50:[22,103,154],51:[22,104,155],52:[23,105,155],53:[23,106,156],54:[24,107,157],55:[25,108,157],56:[25,109,158],57:[26,110,159],58:[26,111,159],59:[27,112,160],60:[27,113,161],61:[28,114,161],62:[28,115,162],63:[29,116,163],64:[30,117,163],65:[30,118,164],66:[31,119,165],67:[31,120,165],68:[32,121,166],69:[32,122,167],70:[33,123,167],71:[33,124,168],72:[34,125,169],73:[35,126,169],74:[35,127,170],75:[36,128,171],76:[36,129,171],77:[37,130,172],78:[37,131,173],79:[38,132,173],80:[38,133,174],81:[39,134,175],82:[40,135,175],83:[40,136,176],84:[41,137,177],85:[41,138,177],86:[42,139,178],87:[42,140,179],88:[43,141,179],89:[43,142,180],90:[44,143,181],91:[45,144,181],92:[45,145,182],93:[46,146,183],94:[46,147,183],95:[47,148,184],96:[47,149,185],97:[48,150,185],98:[48,151,186],99:[49,152,187],100:[50,152,187],101:[51,153,188],102:[52,154,188],103:[53,155,189],104:[54,156,189],105:[55,157,190],106:[56,158,190],107:[57,159,191],108:[58,160,191],109:[59,161,192],110:[60,162,192],111:[61,163,193],112:[62,164,193],113:[63,165,194],114:[64,166,194],115:[65,167,195],116:[66,168,195],117:[67,169,196],118:[68,170,196],119:[69,171,197],120:[70,172,197],121:[71,173,198],122:[72,174,198],123:[73,175,199],124:[74,176,199],125:[75,177,200],126:[76,178,200],127:[77,179,201],128:[78,180,201],129:[79,181,202],130:[80,182,202],131:[81,183,203],132:[82,184,203],133:[83,185,204],134:[84,186,204],135:[85,187,205],136:[86,188,205],137:[87,189,206],138:[88,190,206],139:[89,191,207],140:[90,192,207],141:[91,193,208],142:[92,194,208],143:[93,195,209],144:[94,196,209],145:[95,197,210],146:[96,198,210],147:[97,199,211],148:[98,200,211],149:[99,201,212],150:[100,202,212],151:[101,203,213],152:[102,204,213],153:[103,205,214],154:[104,206,214],155:[105,207,215],156:[106,208,215],157:[107,209,216],158:[108,210,216],159:[109,211,217],160:[110,212,217],161:[111,213,218],162:[112,214,218],163:[113,215,219],164:[114,216,219],165:[115,217,220],166:[116,218,220],167:[117,219,221],168:[118,220,221],169:[119,221,222],170:[120,222,222],171:[121,223,223],172:[122,224,223],173:[123,225,224],174:[124,226,224],175:[125,227,225],176:[126,228,225],177:[127,229,226],178:[128,230,226],179:[129,231,227],180:[130,232,227],181:[131,233,228],182:[132,234,228],183:[133,235,229],184:[134,236,229],185:[135,237,230],186:[136,238,230],187:[137,239,231],188:[138,240,231],189:[139,241,232],190:[140,242,232],191:[141,243,233],192:[142,244,233],193:[143,245,234],194:[144,246,234],195:[145,247,235],196:[146,248,235],197:[147,249,236],198:[148,250,236],199:[149,251,237],200:[150,252,237],201:[151,253,238],202:[152,254,238],203:[153,255,239],204:[154,255,239],205:[155,255,240],206:[156,255,240],207:[157,255,241],208:[158,255,241],209:[159,255,242],210:[160,255,242],211:[161,255,243],212:[162,255,243],213:[163,255,244],214:[164,255,244],215:[165,255,245],216:[166,255,245],217:[167,255,246],218:[168,255,246],219:[169,255,247],220:[170,255,247],221:[171,255,248],222:[172,255,248],223:[173,255,249],224:[174,255,249],225:[175,255,250],226:[176,255,250],227:[177,255,251],228:[178,255,251],229:[179,255,252],230:[180,255,252],231:[181,255,253],232:[182,255,253],233:[183,255,254],234:[184,255,254],235:[185,255,255],236:[186,255,255],237:[187,255,255],238:[188,255,255],239:[189,255,255],240:[190,255,255],241:[191,255,255],242:[192,255,255],243:[193,255,255],244:[194,255,255],245:[195,255,255],246:[196,255,255],247:[197,255,255],248:[198,255,255],249:[199,255,255],250:[200,255,255],251:[201,255,255],252:[202,255,255],253:[203,255,255],254:[204,255,255],255:[255,255,255]},Lv=JSON.parse('[{"DGUID":"2021A00031001","Challenge":"Make a splash","n":"836.000000000000000"},{"DGUID":"2021A00031002","Challenge":"Make a splash","n":"450.000000000000000"},{"DGUID":"2021A00031003","Challenge":"Make a splash","n":"513.000000000000000"},{"DGUID":"2021A00031004","Challenge":"Make a splash","n":"146.000000000000000"},{"DGUID":"2021A00031005","Challenge":"Make a splash","n":"281.000000000000000"},{"DGUID":"2021A00031006","Challenge":"Make a splash","n":"628.000000000000000"},{"DGUID":"2021A00031007","Challenge":"Make a splash","n":"476.000000000000000"},{"DGUID":"2021A00031008","Challenge":"Make a splash","n":"314.000000000000000"},{"DGUID":"2021A00031009","Challenge":"Make a splash","n":"246.000000000000000"},{"DGUID":"2021A00031010","Challenge":"Make a splash","n":"972.000000000000000"},{"DGUID":"2021A00031011","Challenge":"Make a splash","n":"153.000000000000000"},{"DGUID":"2021A00031101","Challenge":"Make a splash","n":"6.000000000000000"},{"DGUID":"2021A00031102","Challenge":"Make a splash","n":"11.000000000000000"},{"DGUID":"2021A00031103","Challenge":"Make a splash","n":"12.000000000000000"},{"DGUID":"2021A00031201","Challenge":"Make a splash","n":"112.000000000000000"},{"DGUID":"2021A00031202","Challenge":"Make a splash","n":"294.000000000000000"},{"DGUID":"2021A00031203","Challenge":"Make a splash","n":"201.000000000000000"},{"DGUID":"2021A00031204","Challenge":"Make a splash","n":"134.000000000000000"},{"DGUID":"2021A00031205","Challenge":"Make a splash","n":"238.000000000000000"},{"DGUID":"2021A00031206","Challenge":"Make a splash","n":"157.000000000000000"},{"DGUID":"2021A00031207","Challenge":"Make a splash","n":"100.000000000000000"},{"DGUID":"2021A00031208","Challenge":"Make a splash","n":"108.000000000000000"},{"DGUID":"2021A00031209","Challenge":"Make a splash","n":"919.000000000000000"},{"DGUID":"2021A00031210","Challenge":"Make a splash","n":"19.000000000000000"},{"DGUID":"2021A00031211","Challenge":"Make a splash","n":"17.000000000000000"},{"DGUID":"2021A00031212","Challenge":"Make a splash","n":"17.000000000000000"},{"DGUID":"2021A00031213","Challenge":"Make a splash","n":"519.000000000000000"},{"DGUID":"2021A00031214","Challenge":"Make a splash","n":"7.000000000000000"},{"DGUID":"2021A00031215","Challenge":"Make a splash","n":"7.000000000000000"},{"DGUID":"2021A00031216","Challenge":"Make a splash","n":"45.000000000000000"},{"DGUID":"2021A00031217","Challenge":"Make a splash","n":"25.000000000000000"},{"DGUID":"2021A00031218","Challenge":"Make a splash","n":"31.000000000000000"},{"DGUID":"2021A00031301","Challenge":"Make a splash","n":"76.000000000000000"},{"DGUID":"2021A00031302","Challenge":"Make a splash","n":"231.000000000000000"},{"DGUID":"2021A00031303","Challenge":"Make a splash","n":"20.000000000000000"},{"DGUID":"2021A00031304","Challenge":"Make a splash","n":"77.000000000000000"},{"DGUID":"2021A00031305","Challenge":"Make a splash","n":"114.000000000000000"},{"DGUID":"2021A00031306","Challenge":"Make a splash","n":"12.000000000000000"},{"DGUID":"2021A00031307","Challenge":"Make a splash","n":"15.000000000000000"},{"DGUID":"2021A00031308","Challenge":"Make a splash","n":"43.000000000000000"},{"DGUID":"2021A00031309","Challenge":"Make a splash","n":"242.000000000000000"},{"DGUID":"2021A00031310","Challenge":"Make a splash","n":"141.000000000000000"},{"DGUID":"2021A00031311","Challenge":"Make a splash","n":"102.000000000000000"},{"DGUID":"2021A00031312","Challenge":"Make a splash","n":"134.000000000000000"},{"DGUID":"2021A00031313","Challenge":"Make a splash","n":"70.000000000000000"},{"DGUID":"2021A00031314","Challenge":"Make a splash","n":"96.000000000000000"},{"DGUID":"2021A00031315","Challenge":"Make a splash","n":"104.000000000000000"},{"DGUID":"2021A00032401","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00032402","Challenge":"Make a splash","n":"136.000000000000000"},{"DGUID":"2021A00032403","Challenge":"Make a splash","n":"102.000000000000000"},{"DGUID":"2021A00032404","Challenge":"Make a splash","n":"46.000000000000000"},{"DGUID":"2021A00032405","Challenge":"Make a splash","n":"60.000000000000000"},{"DGUID":"2021A00032406","Challenge":"Make a splash","n":"47.000000000000000"},{"DGUID":"2021A00032407","Challenge":"Make a splash","n":"174.000000000000000"},{"DGUID":"2021A00032408","Challenge":"Make a splash","n":"80.000000000000000"},{"DGUID":"2021A00032409","Challenge":"Make a splash","n":"80.000000000000000"},{"DGUID":"2021A00032410","Challenge":"Make a splash","n":"69.000000000000000"},{"DGUID":"2021A00032411","Challenge":"Make a splash","n":"50.000000000000000"},{"DGUID":"2021A00032412","Challenge":"Make a splash","n":"45.000000000000000"},{"DGUID":"2021A00032413","Challenge":"Make a splash","n":"165.000000000000000"},{"DGUID":"2021A00032414","Challenge":"Make a splash","n":"91.000000000000000"},{"DGUID":"2021A00032415","Challenge":"Make a splash","n":"290.000000000000000"},{"DGUID":"2021A00032416","Challenge":"Make a splash","n":"98.000000000000000"},{"DGUID":"2021A00032417","Challenge":"Make a splash","n":"68.000000000000000"},{"DGUID":"2021A00032418","Challenge":"Make a splash","n":"81.000000000000000"},{"DGUID":"2021A00032419","Challenge":"Make a splash","n":"79.000000000000000"},{"DGUID":"2021A00032420","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00032421","Challenge":"Make a splash","n":"192.000000000000000"},{"DGUID":"2021A00032422","Challenge":"Make a splash","n":"315.000000000000000"},{"DGUID":"2021A00032423","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00032425","Challenge":"Make a splash","n":"2.000000000000000"},{"DGUID":"2021A00032426","Challenge":"Make a splash","n":"13.000000000000000"},{"DGUID":"2021A00032427","Challenge":"Make a splash","n":"20.000000000000000"},{"DGUID":"2021A00032428","Challenge":"Make a splash","n":"111.000000000000000"},{"DGUID":"2021A00032429","Challenge":"Make a splash","n":"90.000000000000000"},{"DGUID":"2021A00032430","Challenge":"Make a splash","n":"46.000000000000000"},{"DGUID":"2021A00032431","Challenge":"Make a splash","n":"31.000000000000000"},{"DGUID":"2021A00032432","Challenge":"Make a splash","n":"49.000000000000000"},{"DGUID":"2021A00032433","Challenge":"Make a splash","n":"25.000000000000000"},{"DGUID":"2021A00032434","Challenge":"Make a splash","n":"571.000000000000000"},{"DGUID":"2021A00032435","Challenge":"Make a splash","n":"690.000000000000000"},{"DGUID":"2021A00032436","Challenge":"Make a splash","n":"46.000000000000000"},{"DGUID":"2021A00032437","Challenge":"Make a splash","n":"21.000000000000000"},{"DGUID":"2021A00032438","Challenge":"Make a splash","n":"23.000000000000000"},{"DGUID":"2021A00032439","Challenge":"Make a splash","n":"64.000000000000000"},{"DGUID":"2021A00032440","Challenge":"Make a splash","n":"4.000000000000000"},{"DGUID":"2021A00032441","Challenge":"Make a splash","n":"49.000000000000000"},{"DGUID":"2021A00032442","Challenge":"Make a splash","n":"7.000000000000000"},{"DGUID":"2021A00032443","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00032444","Challenge":"Make a splash","n":"15.000000000000000"},{"DGUID":"2021A00032445","Challenge":"Make a splash","n":"2.000000000000000"},{"DGUID":"2021A00032446","Challenge":"Make a splash","n":"6.000000000000000"},{"DGUID":"2021A00032447","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00032448","Challenge":"Make a splash","n":"16.000000000000000"},{"DGUID":"2021A00032449","Challenge":"Make a splash","n":"39.000000000000000"},{"DGUID":"2021A00032450","Challenge":"Make a splash","n":"31.000000000000000"},{"DGUID":"2021A00032451","Challenge":"Make a splash","n":"173.000000000000000"},{"DGUID":"2021A00032452","Challenge":"Make a splash","n":"77.000000000000000"},{"DGUID":"2021A00032453","Challenge":"Make a splash","n":"1.000000000000000"},{"DGUID":"2021A00032454","Challenge":"Make a splash","n":"7.000000000000000"},{"DGUID":"2021A00032455","Challenge":"Make a splash","n":"3.000000000000000"},{"DGUID":"2021A00032456","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00032457","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00032458","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00032459","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00032460","Challenge":"Make a splash","n":"1.000000000000000"},{"DGUID":"2021A00032461","Challenge":"Make a splash","n":"5.000000000000000"},{"DGUID":"2021A00032462","Challenge":"Make a splash","n":"779.000000000000000"},{"DGUID":"2021A00032463","Challenge":"Make a splash","n":"8.000000000000000"},{"DGUID":"2021A00032464","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00032465","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00032466","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00032467","Challenge":"Make a splash","n":"1.000000000000000"},{"DGUID":"2021A00032468","Challenge":"Make a splash","n":"1.000000000000000"},{"DGUID":"2021A00032469","Challenge":"Make a splash","n":"5.000000000000000"},{"DGUID":"2021A00032470","Challenge":"Make a splash","n":"2.000000000000000"},{"DGUID":"2021A00032471","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00032472","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00032473","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00032474","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00032475","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00032476","Challenge":"Make a splash","n":"39.000000000000000"},{"DGUID":"2021A00032477","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00032478","Challenge":"Make a splash","n":"117.000000000000000"},{"DGUID":"2021A00032479","Challenge":"Make a splash","n":"1668.000000000000000"},{"DGUID":"2021A00032480","Challenge":"Make a splash","n":"409.000000000000000"},{"DGUID":"2021A00032481","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00032482","Challenge":"Make a splash","n":"42.000000000000000"},{"DGUID":"2021A00032483","Challenge":"Make a splash","n":"1054.000000000000000"},{"DGUID":"2021A00032484","Challenge":"Make a splash","n":"884.000000000000000"},{"DGUID":"2021A00032485","Challenge":"Make a splash","n":"1874.000000000000000"},{"DGUID":"2021A00032486","Challenge":"Make a splash","n":"301.000000000000000"},{"DGUID":"2021A00032487","Challenge":"Make a splash","n":"173.000000000000000"},{"DGUID":"2021A00032488","Challenge":"Make a splash","n":"86.000000000000000"},{"DGUID":"2021A00032489","Challenge":"Make a splash","n":"1810.000000000000000"},{"DGUID":"2021A00032490","Challenge":"Make a splash","n":"2258.000000000000000"},{"DGUID":"2021A00032491","Challenge":"Make a splash","n":"650.000000000000000"},{"DGUID":"2021A00032492","Challenge":"Make a splash","n":"604.000000000000000"},{"DGUID":"2021A00032493","Challenge":"Make a splash","n":"189.000000000000000"},{"DGUID":"2021A00032494","Challenge":"Make a splash","n":"1902.000000000000000"},{"DGUID":"2021A00032495","Challenge":"Make a splash","n":"635.000000000000000"},{"DGUID":"2021A00032496","Challenge":"Make a splash","n":"858.000000000000000"},{"DGUID":"2021A00032497","Challenge":"Make a splash","n":"1396.000000000000000"},{"DGUID":"2021A00032498","Challenge":"Make a splash","n":"891.000000000000000"},{"DGUID":"2021A00032499","Challenge":"Make a splash","n":"9632.000000000000000"},{"DGUID":"2021A00033501","Challenge":"Make a splash","n":"3.000000000000000"},{"DGUID":"2021A00033502","Challenge":"Make a splash","n":"1.000000000000000"},{"DGUID":"2021A00033506","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00033507","Challenge":"Make a splash","n":"5.000000000000000"},{"DGUID":"2021A00033509","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00033510","Challenge":"Make a splash","n":"13.000000000000000"},{"DGUID":"2021A00033511","Challenge":"Make a splash","n":"6.000000000000000"},{"DGUID":"2021A00033512","Challenge":"Make a splash","n":"21.000000000000000"},{"DGUID":"2021A00033513","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00033514","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00033515","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00033516","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00033518","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00033519","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00033520","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00033521","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00033522","Challenge":"Make a splash","n":"1.000000000000000"},{"DGUID":"2021A00033523","Challenge":"Make a splash","n":"18.000000000000000"},{"DGUID":"2021A00033524","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00033525","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00033526","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00033528","Challenge":"Make a splash","n":"2.000000000000000"},{"DGUID":"2021A00033529","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00033530","Challenge":"Make a splash","n":"3.000000000000000"},{"DGUID":"2021A00033531","Challenge":"Make a splash","n":"15.000000000000000"},{"DGUID":"2021A00033532","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00033534","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00033536","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00033537","Challenge":"Make a splash","n":"2.000000000000000"},{"DGUID":"2021A00033538","Challenge":"Make a splash","n":"10.000000000000000"},{"DGUID":"2021A00033539","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00033540","Challenge":"Make a splash","n":"27.000000000000000"},{"DGUID":"2021A00033541","Challenge":"Make a splash","n":"10.000000000000000"},{"DGUID":"2021A00033542","Challenge":"Make a splash","n":"17.000000000000000"},{"DGUID":"2021A00033543","Challenge":"Make a splash","n":"1.000000000000000"},{"DGUID":"2021A00033544","Challenge":"Make a splash","n":"7.000000000000000"},{"DGUID":"2021A00033546","Challenge":"Make a splash","n":"26.000000000000000"},{"DGUID":"2021A00033547","Challenge":"Make a splash","n":"67.000000000000000"},{"DGUID":"2021A00033548","Challenge":"Make a splash","n":"1050.000000000000000"},{"DGUID":"2021A00033549","Challenge":"Make a splash","n":"391.000000000000000"},{"DGUID":"2021A00033551","Challenge":"Make a splash","n":"51.000000000000000"},{"DGUID":"2021A00033552","Challenge":"Make a splash","n":"2976.000000000000000"},{"DGUID":"2021A00033553","Challenge":"Make a splash","n":"285.000000000000000"},{"DGUID":"2021A00033554","Challenge":"Make a splash","n":"975.000000000000000"},{"DGUID":"2021A00033556","Challenge":"Make a splash","n":"1340.000000000000000"},{"DGUID":"2021A00033557","Challenge":"Make a splash","n":"2690.000000000000000"},{"DGUID":"2021A00033558","Challenge":"Make a splash","n":"6599.000000000000000"},{"DGUID":"2021A00033559","Challenge":"Make a splash","n":"2803.000000000000000"},{"DGUID":"2021A00033560","Challenge":"Make a splash","n":"7732.000000000000000"},{"DGUID":"2021A00034601","Challenge":"Make a splash","n":"347.000000000000000"},{"DGUID":"2021A00034602","Challenge":"Make a splash","n":"3.000000000000000"},{"DGUID":"2021A00034603","Challenge":"Make a splash","n":"7.000000000000000"},{"DGUID":"2021A00034604","Challenge":"Make a splash","n":"70.000000000000000"},{"DGUID":"2021A00034605","Challenge":"Make a splash","n":"109.000000000000000"},{"DGUID":"2021A00034606","Challenge":"Make a splash","n":"56.000000000000000"},{"DGUID":"2021A00034607","Challenge":"Make a splash","n":"28.000000000000000"},{"DGUID":"2021A00034608","Challenge":"Make a splash","n":"19.000000000000000"},{"DGUID":"2021A00034609","Challenge":"Make a splash","n":"80.000000000000000"},{"DGUID":"2021A00034610","Challenge":"Make a splash","n":"25.000000000000000"},{"DGUID":"2021A00034611","Challenge":"Make a splash","n":"2.000000000000000"},{"DGUID":"2021A00034612","Challenge":"Make a splash","n":"6.000000000000000"},{"DGUID":"2021A00034613","Challenge":"Make a splash","n":"53.000000000000000"},{"DGUID":"2021A00034614","Challenge":"Make a splash","n":"2.000000000000000"},{"DGUID":"2021A00034615","Challenge":"Make a splash","n":"127.000000000000000"},{"DGUID":"2021A00034616","Challenge":"Make a splash","n":"241.000000000000000"},{"DGUID":"2021A00034617","Challenge":"Make a splash","n":"151.000000000000000"},{"DGUID":"2021A00034618","Challenge":"Make a splash","n":"276.000000000000000"},{"DGUID":"2021A00034619","Challenge":"Make a splash","n":"1402.000000000000000"},{"DGUID":"2021A00034620","Challenge":"Make a splash","n":"442.000000000000000"},{"DGUID":"2021A00034621","Challenge":"Make a splash","n":"390.000000000000000"},{"DGUID":"2021A00034622","Challenge":"Make a splash","n":"1145.000000000000000"},{"DGUID":"2021A00034623","Challenge":"Make a splash","n":"3006.000000000000000"},{"DGUID":"2021A00034701","Challenge":"Make a splash","n":"47.000000000000000"},{"DGUID":"2021A00034702","Challenge":"Make a splash","n":"57.000000000000000"},{"DGUID":"2021A00034703","Challenge":"Make a splash","n":"44.000000000000000"},{"DGUID":"2021A00034704","Challenge":"Make a splash","n":"89.000000000000000"},{"DGUID":"2021A00034705","Challenge":"Make a splash","n":"51.000000000000000"},{"DGUID":"2021A00034706","Challenge":"Make a splash","n":"143.000000000000000"},{"DGUID":"2021A00034707","Challenge":"Make a splash","n":"140.000000000000000"},{"DGUID":"2021A00034708","Challenge":"Make a splash","n":"84.000000000000000"},{"DGUID":"2021A00034709","Challenge":"Make a splash","n":"164.000000000000000"},{"DGUID":"2021A00034710","Challenge":"Make a splash","n":"88.000000000000000"},{"DGUID":"2021A00034711","Challenge":"Make a splash","n":"293.000000000000000"},{"DGUID":"2021A00034712","Challenge":"Make a splash","n":"179.000000000000000"},{"DGUID":"2021A00034713","Challenge":"Make a splash","n":"132.000000000000000"},{"DGUID":"2021A00034714","Challenge":"Make a splash","n":"184.000000000000000"},{"DGUID":"2021A00034715","Challenge":"Make a splash","n":"317.000000000000000"},{"DGUID":"2021A00034716","Challenge":"Make a splash","n":"385.000000000000000"},{"DGUID":"2021A00034717","Challenge":"Make a splash","n":"252.000000000000000"},{"DGUID":"2021A00034718","Challenge":"Make a splash","n":"3702.000000000000000"},{"DGUID":"2021A00034801","Challenge":"Make a splash","n":"315.000000000000000"},{"DGUID":"2021A00034802","Challenge":"Make a splash","n":"156.000000000000000"},{"DGUID":"2021A00034803","Challenge":"Make a splash","n":"44.000000000000000"},{"DGUID":"2021A00034804","Challenge":"Make a splash","n":"184.000000000000000"},{"DGUID":"2021A00034805","Challenge":"Make a splash","n":"78.000000000000000"},{"DGUID":"2021A00034806","Challenge":"Make a splash","n":"110.000000000000000"},{"DGUID":"2021A00034807","Challenge":"Make a splash","n":"217.000000000000000"},{"DGUID":"2021A00034808","Challenge":"Make a splash","n":"64.000000000000000"},{"DGUID":"2021A00034809","Challenge":"Make a splash","n":"52.000000000000000"},{"DGUID":"2021A00034810","Challenge":"Make a splash","n":"196.000000000000000"},{"DGUID":"2021A00034811","Challenge":"Make a splash","n":"149.000000000000000"},{"DGUID":"2021A00034812","Challenge":"Make a splash","n":"642.000000000000000"},{"DGUID":"2021A00034813","Challenge":"Make a splash","n":"329.000000000000000"},{"DGUID":"2021A00034814","Challenge":"Make a splash","n":"155.000000000000000"},{"DGUID":"2021A00034815","Challenge":"Make a splash","n":"85.000000000000000"},{"DGUID":"2021A00034816","Challenge":"Make a splash","n":"304.000000000000000"},{"DGUID":"2021A00034817","Challenge":"Make a splash","n":"379.000000000000000"},{"DGUID":"2021A00034818","Challenge":"Make a splash","n":"188.000000000000000"},{"DGUID":"2021A00034819","Challenge":"Make a splash","n":"174.000000000000000"},{"DGUID":"2021A00035901","Challenge":"Make a splash","n":"897.000000000000000"},{"DGUID":"2021A00035903","Challenge":"Make a splash","n":"513.000000000000000"},{"DGUID":"2021A00035905","Challenge":"Make a splash","n":"170.000000000000000"},{"DGUID":"2021A00035907","Challenge":"Make a splash","n":"142.000000000000000"},{"DGUID":"2021A00035909","Challenge":"Make a splash","n":"426.000000000000000"},{"DGUID":"2021A00035915","Challenge":"Make a splash","n":"80.000000000000000"},{"DGUID":"2021A00035917","Challenge":"Make a splash","n":"10.000000000000000"},{"DGUID":"2021A00035919","Challenge":"Make a splash","n":"26.000000000000000"},{"DGUID":"2021A00035921","Challenge":"Make a splash","n":"21.000000000000000"},{"DGUID":"2021A00035923","Challenge":"Make a splash","n":"103.000000000000000"},{"DGUID":"2021A00035924","Challenge":"Make a splash","n":"925.000000000000000"},{"DGUID":"2021A00035926","Challenge":"Make a splash","n":"12.000000000000000"},{"DGUID":"2021A00035927","Challenge":"Make a splash","n":"273.000000000000000"},{"DGUID":"2021A00035929","Challenge":"Make a splash","n":"83.000000000000000"},{"DGUID":"2021A00035931","Challenge":"Make a splash","n":"458.000000000000000"},{"DGUID":"2021A00035933","Challenge":"Make a splash","n":"1906.000000000000000"},{"DGUID":"2021A00035935","Challenge":"Make a splash","n":"64.000000000000000"},{"DGUID":"2021A00035937","Challenge":"Make a splash","n":"162.000000000000000"},{"DGUID":"2021A00035939","Challenge":"Make a splash","n":"878.000000000000000"},{"DGUID":"2021A00035941","Challenge":"Make a splash","n":"4924.000000000000000"},{"DGUID":"2021A00035943","Challenge":"Make a splash","n":"1124.000000000000000"},{"DGUID":"2021A00035945","Challenge":"Make a splash","n":"1491.000000000000000"},{"DGUID":"2021A00035947","Challenge":"Make a splash","n":"437.000000000000000"},{"DGUID":"2021A00035949","Challenge":"Make a splash","n":"8019.000000000000000"},{"DGUID":"2021A00035951","Challenge":"Make a splash","n":"4247.000000000000000"},{"DGUID":"2021A00035953","Challenge":"Make a splash","n":"3434.000000000000000"},{"DGUID":"2021A00035955","Challenge":"Make a splash","n":"5846.000000000000000"},{"DGUID":"2021A00035957","Challenge":"Make a splash","n":"9443.000000000000000"},{"DGUID":"2021A00035959","Challenge":"Make a splash","n":"6910.000000000000000"},{"DGUID":"2021A00036001","Challenge":"Make a splash","n":"1840.000000000000000"},{"DGUID":"2021A00036101","Challenge":"Make a splash","n":"3869.000000000000000"},{"DGUID":"2021A00036102","Challenge":"Make a splash","n":"1733.000000000000000"},{"DGUID":"2021A00036103","Challenge":"Make a splash","n":"1914.000000000000000"},{"DGUID":"2021A00036104","Challenge":"Make a splash","n":"818.000000000000000"},{"DGUID":"2021A00036105","Challenge":"Make a splash","n":"10572.000000000000000"},{"DGUID":"2021A00036106","Challenge":"Make a splash","n":"10751.000000000000000"},{"DGUID":"2021A00036204","Challenge":"Make a splash","n":"4804.000000000000000"},{"DGUID":"2021A00036205","Challenge":"Make a splash","n":"19913.000000000000000"},{"DGUID":"2021A00036208","Challenge":"Make a splash","n":"7291.000000000000000"},{"DGUID":"2021A00031001","Challenge":"Trailblazers","n":"12.000000000000000"},{"DGUID":"2021A00031002","Challenge":"Trailblazers","n":"3.000000000000000"},{"DGUID":"2021A00031003","Challenge":"Trailblazers","n":"4.000000000000000"},{"DGUID":"2021A00031004","Challenge":"Trailblazers","n":"3.000000000000000"},{"DGUID":"2021A00031005","Challenge":"Trailblazers","n":"7.000000000000000"},{"DGUID":"2021A00031006","Challenge":"Trailblazers","n":"5.000000000000000"},{"DGUID":"2021A00031007","Challenge":"Trailblazers","n":"3.000000000000000"},{"DGUID":"2021A00031008","Challenge":"Trailblazers","n":"4.000000000000000"},{"DGUID":"2021A00031009","Challenge":"Trailblazers","n":"8.000000000000000"},{"DGUID":"2021A00031010","Challenge":"Trailblazers","n":"10.000000000000000"},{"DGUID":"2021A00031011","Challenge":"Trailblazers","n":"5.000000000000000"},{"DGUID":"2021A00031101","Challenge":"Trailblazers","n":"4.000000000000000"},{"DGUID":"2021A00031102","Challenge":"Trailblazers","n":"13.000000000000000"},{"DGUID":"2021A00031103","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00031201","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00031202","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00031203","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00031204","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00031205","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00031206","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00031207","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00031208","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00031209","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00031210","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00031211","Challenge":"Trailblazers","n":"4.000000000000000"},{"DGUID":"2021A00031212","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00031213","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00031214","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00031215","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00031216","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00031217","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00031218","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00031301","Challenge":"Trailblazers","n":"9.000000000000000"},{"DGUID":"2021A00031302","Challenge":"Trailblazers","n":"9.000000000000000"},{"DGUID":"2021A00031303","Challenge":"Trailblazers","n":"3.000000000000000"},{"DGUID":"2021A00031304","Challenge":"Trailblazers","n":"7.000000000000000"},{"DGUID":"2021A00031305","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00031306","Challenge":"Trailblazers","n":"4.000000000000000"},{"DGUID":"2021A00031307","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00031308","Challenge":"Trailblazers","n":"8.000000000000000"},{"DGUID":"2021A00031309","Challenge":"Trailblazers","n":"22.000000000000000"},{"DGUID":"2021A00031310","Challenge":"Trailblazers","n":"22.000000000000000"},{"DGUID":"2021A00031311","Challenge":"Trailblazers","n":"14.000000000000000"},{"DGUID":"2021A00031312","Challenge":"Trailblazers","n":"9.000000000000000"},{"DGUID":"2021A00031313","Challenge":"Trailblazers","n":"8.000000000000000"},{"DGUID":"2021A00031314","Challenge":"Trailblazers","n":"22.000000000000000"},{"DGUID":"2021A00031315","Challenge":"Trailblazers","n":"12.000000000000000"},{"DGUID":"2021A00032401","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032402","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032403","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00032404","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00032405","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032406","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032407","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032408","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00032409","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032410","Challenge":"Trailblazers","n":"3.000000000000000"},{"DGUID":"2021A00032411","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032412","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00032413","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00032414","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032415","Challenge":"Trailblazers","n":"3.000000000000000"},{"DGUID":"2021A00032416","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00032417","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032418","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032419","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032420","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032421","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00032422","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00032423","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00032425","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032426","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032427","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032428","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032429","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032430","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00032431","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00032432","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032433","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032434","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032435","Challenge":"Trailblazers","n":"4.000000000000000"},{"DGUID":"2021A00032436","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00032437","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032438","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032439","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032440","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032441","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00032442","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00032443","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032444","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032445","Challenge":"Trailblazers","n":"4.000000000000000"},{"DGUID":"2021A00032446","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00032447","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00032448","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032449","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032450","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032451","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00032452","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032453","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032454","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032455","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032456","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00032457","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00032458","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00032459","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00032460","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032461","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032462","Challenge":"Trailblazers","n":"5.000000000000000"},{"DGUID":"2021A00032463","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00032464","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032465","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032466","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032467","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032468","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032469","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032470","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032471","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032472","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00032473","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032474","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032475","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00032476","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00032477","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00032478","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00032479","Challenge":"Trailblazers","n":"7.000000000000000"},{"DGUID":"2021A00032480","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00032481","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00032482","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00032483","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00032484","Challenge":"Trailblazers","n":"4.000000000000000"},{"DGUID":"2021A00032485","Challenge":"Trailblazers","n":"8.000000000000000"},{"DGUID":"2021A00032486","Challenge":"Trailblazers","n":"5.000000000000000"},{"DGUID":"2021A00032487","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00032488","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00032489","Challenge":"Trailblazers","n":"8.000000000000000"},{"DGUID":"2021A00032490","Challenge":"Trailblazers","n":"11.000000000000000"},{"DGUID":"2021A00032491","Challenge":"Trailblazers","n":"3.000000000000000"},{"DGUID":"2021A00032492","Challenge":"Trailblazers","n":"6.000000000000000"},{"DGUID":"2021A00032493","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00032494","Challenge":"Trailblazers","n":"11.000000000000000"},{"DGUID":"2021A00032495","Challenge":"Trailblazers","n":"5.000000000000000"},{"DGUID":"2021A00032496","Challenge":"Trailblazers","n":"8.000000000000000"},{"DGUID":"2021A00032497","Challenge":"Trailblazers","n":"10.000000000000000"},{"DGUID":"2021A00032498","Challenge":"Trailblazers","n":"8.000000000000000"},{"DGUID":"2021A00032499","Challenge":"Trailblazers","n":"50.000000000000000"},{"DGUID":"2021A00033501","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00033502","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00033506","Challenge":"Trailblazers","n":"6.000000000000000"},{"DGUID":"2021A00033507","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00033509","Challenge":"Trailblazers","n":"3.000000000000000"},{"DGUID":"2021A00033510","Challenge":"Trailblazers","n":"7.000000000000000"},{"DGUID":"2021A00033511","Challenge":"Trailblazers","n":"7.000000000000000"},{"DGUID":"2021A00033512","Challenge":"Trailblazers","n":"9.000000000000000"},{"DGUID":"2021A00033513","Challenge":"Trailblazers","n":"4.000000000000000"},{"DGUID":"2021A00033514","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00033515","Challenge":"Trailblazers","n":"6.000000000000000"},{"DGUID":"2021A00033516","Challenge":"Trailblazers","n":"5.000000000000000"},{"DGUID":"2021A00033518","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00033519","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00033520","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00033521","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00033522","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00033523","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00033524","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00033525","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00033526","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00033528","Challenge":"Trailblazers","n":"6.000000000000000"},{"DGUID":"2021A00033529","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00033530","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00033531","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00033532","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00033534","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00033536","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00033537","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00033538","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00033539","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00033540","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00033541","Challenge":"Trailblazers","n":"4.000000000000000"},{"DGUID":"2021A00033542","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00033543","Challenge":"Trailblazers","n":"10.000000000000000"},{"DGUID":"2021A00033544","Challenge":"Trailblazers","n":"32.000000000000000"},{"DGUID":"2021A00033546","Challenge":"Trailblazers","n":"6.000000000000000"},{"DGUID":"2021A00033547","Challenge":"Trailblazers","n":"23.000000000000000"},{"DGUID":"2021A00033548","Challenge":"Trailblazers","n":"44.000000000000000"},{"DGUID":"2021A00033549","Challenge":"Trailblazers","n":"52.000000000000000"},{"DGUID":"2021A00033551","Challenge":"Trailblazers","n":"5.000000000000000"},{"DGUID":"2021A00033552","Challenge":"Trailblazers","n":"62.000000000000000"},{"DGUID":"2021A00033553","Challenge":"Trailblazers","n":"8.000000000000000"},{"DGUID":"2021A00033554","Challenge":"Trailblazers","n":"35.000000000000000"},{"DGUID":"2021A00033556","Challenge":"Trailblazers","n":"43.000000000000000"},{"DGUID":"2021A00033557","Challenge":"Trailblazers","n":"63.000000000000000"},{"DGUID":"2021A00033558","Challenge":"Trailblazers","n":"67.000000000000000"},{"DGUID":"2021A00033559","Challenge":"Trailblazers","n":"12.000000000000000"},{"DGUID":"2021A00033560","Challenge":"Trailblazers","n":"60.000000000000000"},{"DGUID":"2021A00034601","Challenge":"Trailblazers","n":"5.000000000000000"},{"DGUID":"2021A00034602","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00034603","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00034604","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00034605","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00034606","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00034607","Challenge":"Trailblazers","n":"3.000000000000000"},{"DGUID":"2021A00034608","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00034609","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00034610","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00034611","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00034612","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00034613","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00034614","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00034615","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00034616","Challenge":"Trailblazers","n":"3.000000000000000"},{"DGUID":"2021A00034617","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00034618","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00034619","Challenge":"Trailblazers","n":"17.000000000000000"},{"DGUID":"2021A00034620","Challenge":"Trailblazers","n":"6.000000000000000"},{"DGUID":"2021A00034621","Challenge":"Trailblazers","n":"3.000000000000000"},{"DGUID":"2021A00034622","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00034623","Challenge":"Trailblazers","n":"3.000000000000000"},{"DGUID":"2021A00034701","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00034702","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00034703","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00034704","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00034705","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00034706","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00034707","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00034708","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00034709","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00034710","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00034711","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00034712","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00034713","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00034714","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00034715","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00034716","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00034717","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00034718","Challenge":"Trailblazers","n":"4.000000000000000"},{"DGUID":"2021A00034801","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00034802","Challenge":"Trailblazers","n":"3.000000000000000"},{"DGUID":"2021A00034803","Challenge":"Trailblazers","n":"8.000000000000000"},{"DGUID":"2021A00034804","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00034805","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00034806","Challenge":"Trailblazers","n":"12.000000000000000"},{"DGUID":"2021A00034807","Challenge":"Trailblazers","n":"3.000000000000000"},{"DGUID":"2021A00034808","Challenge":"Trailblazers","n":"6.000000000000000"},{"DGUID":"2021A00034809","Challenge":"Trailblazers","n":"9.000000000000000"},{"DGUID":"2021A00034810","Challenge":"Trailblazers","n":"6.000000000000000"},{"DGUID":"2021A00034811","Challenge":"Trailblazers","n":"22.000000000000000"},{"DGUID":"2021A00034812","Challenge":"Trailblazers","n":"9.000000000000000"},{"DGUID":"2021A00034813","Challenge":"Trailblazers","n":"29.000000000000000"},{"DGUID":"2021A00034814","Challenge":"Trailblazers","n":"6.000000000000000"},{"DGUID":"2021A00034815","Challenge":"Trailblazers","n":"17.000000000000000"},{"DGUID":"2021A00034816","Challenge":"Trailblazers","n":"3.000000000000000"},{"DGUID":"2021A00034817","Challenge":"Trailblazers","n":"19.000000000000000"},{"DGUID":"2021A00034818","Challenge":"Trailblazers","n":"6.000000000000000"},{"DGUID":"2021A00034819","Challenge":"Trailblazers","n":"8.000000000000000"},{"DGUID":"2021A00035901","Challenge":"Trailblazers","n":"26.000000000000000"},{"DGUID":"2021A00035903","Challenge":"Trailblazers","n":"19.000000000000000"},{"DGUID":"2021A00035905","Challenge":"Trailblazers","n":"4.000000000000000"},{"DGUID":"2021A00035907","Challenge":"Trailblazers","n":"18.000000000000000"},{"DGUID":"2021A00035909","Challenge":"Trailblazers","n":"21.000000000000000"},{"DGUID":"2021A00035915","Challenge":"Trailblazers","n":"5.000000000000000"},{"DGUID":"2021A00035917","Challenge":"Trailblazers","n":"17.000000000000000"},{"DGUID":"2021A00035919","Challenge":"Trailblazers","n":"11.000000000000000"},{"DGUID":"2021A00035921","Challenge":"Trailblazers","n":"9.000000000000000"},{"DGUID":"2021A00035923","Challenge":"Trailblazers","n":"17.000000000000000"},{"DGUID":"2021A00035924","Challenge":"Trailblazers","n":"31.000000000000000"},{"DGUID":"2021A00035926","Challenge":"Trailblazers","n":"11.000000000000000"},{"DGUID":"2021A00035927","Challenge":"Trailblazers","n":"12.000000000000000"},{"DGUID":"2021A00035929","Challenge":"Trailblazers","n":"15.000000000000000"},{"DGUID":"2021A00035931","Challenge":"Trailblazers","n":"29.000000000000000"},{"DGUID":"2021A00035933","Challenge":"Trailblazers","n":"64.000000000000000"},{"DGUID":"2021A00035935","Challenge":"Trailblazers","n":"9.000000000000000"},{"DGUID":"2021A00035937","Challenge":"Trailblazers","n":"11.000000000000000"},{"DGUID":"2021A00035939","Challenge":"Trailblazers","n":"23.000000000000000"},{"DGUID":"2021A00035941","Challenge":"Trailblazers","n":"34.000000000000000"},{"DGUID":"2021A00035943","Challenge":"Trailblazers","n":"30.000000000000000"},{"DGUID":"2021A00035945","Challenge":"Trailblazers","n":"33.000000000000000"},{"DGUID":"2021A00035947","Challenge":"Trailblazers","n":"41.000000000000000"},{"DGUID":"2021A00035949","Challenge":"Trailblazers","n":"52.000000000000000"},{"DGUID":"2021A00035951","Challenge":"Trailblazers","n":"42.000000000000000"},{"DGUID":"2021A00035953","Challenge":"Trailblazers","n":"39.000000000000000"},{"DGUID":"2021A00035955","Challenge":"Trailblazers","n":"32.000000000000000"},{"DGUID":"2021A00035957","Challenge":"Trailblazers","n":"26.000000000000000"},{"DGUID":"2021A00035959","Challenge":"Trailblazers","n":"18.000000000000000"},{"DGUID":"2021A00036001","Challenge":"Trailblazers","n":"10.000000000000000"},{"DGUID":"2021A00036101","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00036102","Challenge":"Trailblazers","n":"3.000000000000000"},{"DGUID":"2021A00036103","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00036104","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00036105","Challenge":"Trailblazers","n":"3.000000000000000"},{"DGUID":"2021A00036106","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00036204","Challenge":"Trailblazers","n":"14.000000000000000"},{"DGUID":"2021A00036205","Challenge":"Trailblazers","n":"3.000000000000000"},{"DGUID":"2021A00036208","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00031001","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031002","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031003","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031004","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031005","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031006","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031007","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031008","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031009","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031010","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031011","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031101","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031102","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031103","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031201","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031202","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031203","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031204","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031205","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031206","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031208","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031210","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031211","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031212","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031213","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031214","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031215","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031216","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031218","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031301","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031302","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031303","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031304","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031305","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031306","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031307","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031308","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031309","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031310","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031311","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031312","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031313","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031314","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031315","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032401","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032402","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032403","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032404","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032405","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032406","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032407","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032408","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032409","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032410","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032411","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032412","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032413","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032414","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032415","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032416","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032417","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032418","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032419","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032421","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032422","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032426","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032427","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032428","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032429","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032430","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032431","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032432","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032433","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032434","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032435","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032436","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032437","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032438","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032439","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032440","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032441","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032442","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032444","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032445","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032446","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032447","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032448","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032449","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032450","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032451","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032452","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032453","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032454","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032455","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032456","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032457","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032459","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032460","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032461","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032462","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032463","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032468","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032469","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032470","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032474","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032475","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032476","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032477","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032478","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032479","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032480","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032483","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032484","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032485","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032486","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032487","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032488","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032489","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032490","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032491","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032492","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032493","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032494","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032495","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032496","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032497","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032498","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032499","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00033501","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00033502","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00033511","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00033512","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00033522","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00033531","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00033532","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00033534","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00033540","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00033542","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00033546","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00033547","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00033548","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00033549","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00033551","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00033552","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00033553","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00033554","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00033556","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00033557","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00033558","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00033559","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00033560","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034601","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034602","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034603","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034604","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034605","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034606","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034607","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034608","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034609","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034610","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034612","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034613","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034614","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034615","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034616","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034617","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034618","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034619","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034620","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034621","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034622","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034623","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034701","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034702","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034703","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034704","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034705","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034706","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034707","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034708","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034709","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034710","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034711","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034712","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034713","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034714","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034715","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034716","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034717","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034718","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034801","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034802","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034803","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034804","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034805","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034806","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034807","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034808","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034809","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034810","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034811","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034812","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034813","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034814","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034815","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034816","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034817","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034818","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034819","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00035901","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00035903","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00035905","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00035907","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00035909","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00035923","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00035924","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00035927","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00035929","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00035931","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00035933","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00035937","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00035939","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00035941","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00035943","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00035945","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00035947","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00035949","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00035951","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00035953","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00035955","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00035957","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00035959","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00036001","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00036101","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00036102","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00036103","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00036104","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00036105","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00036106","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00036204","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00036205","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00036208","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031009","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00031010","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00031101","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00031203","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00031203","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00031205","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00031205","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00031205","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00031210","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00031210","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00031210","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00031211","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00031216","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00031217","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00031217","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00031304","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00031308","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00031310","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00031310","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00031310","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00031310","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00031310","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00031311","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00031312","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00032476","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00032480","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00032497","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00032499","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033506","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033509","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033509","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033512","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033512","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033512","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033512","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033512","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033514","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033515","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033515","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033516","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033516","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033518","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033518","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033519","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033519","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033519","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033524","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033525","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033525","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033526","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033526","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033526","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033526","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033526","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033528","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033528","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033529","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033529","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033534","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033537","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033537","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033537","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033538","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033538","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033538","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033540","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033540","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033541","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033541","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033541","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033542","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033543","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033543","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033543","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033543","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033543","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033543","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033543","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033543","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033543","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033544","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033546","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033548","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033551","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033551","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033552","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033556","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033557","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033557","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033557","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033558","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033559","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033560","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034601","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034601","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034601","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034601","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034601","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034601","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034601","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034601","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034602","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034602","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034602","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034602","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034602","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034602","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034602","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034602","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034603","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034605","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034605","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034605","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034606","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034606","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034606","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034606","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034607","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034607","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034607","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034607","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034608","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034608","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034609","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034609","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034610","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034611","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034611","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034612","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034612","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034613","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034613","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034614","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034614","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034614","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034614","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034615","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034618","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034618","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034618","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034618","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034618","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034618","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034618","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034618","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034619","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034619","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034619","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034619","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034619","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034619","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034619","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034619","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034621","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034621","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034621","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034621","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034621","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034621","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034621","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034621","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034622","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034623","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034623","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034623","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034701","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034701","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034702","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034702","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034702","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034702","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034703","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034703","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034703","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034704","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034704","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034704","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034705","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034707","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034707","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034708","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034708","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034708","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034708","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034711","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034712","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034713","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034713","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034715","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034716","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034716","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034717","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034718","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034718","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034718","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034718","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034718","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034718","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034801","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034801","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034801","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034801","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034801","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034802","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034802","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034802","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034802","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034802","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034803","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034803","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034803","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034803","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034803","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034803","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034803","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034803","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034804","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034804","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034804","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034804","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034804","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034805","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034807","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034807","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034807","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034807","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034807","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034807","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034809","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034809","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034809","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034809","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034810","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034810","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034811","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034812","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034812","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034814","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034814","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034814","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034814","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034815","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034815","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034815","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034815","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034815","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034815","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034815","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034815","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034815","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034815","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034815","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034815","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034816","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034817","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034817","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034817","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034818","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035901","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035909","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035909","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035915","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035917","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035917","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035921","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035924","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035924","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035924","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035924","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035935","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035937","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035939","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035939","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035943","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035943","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035945","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035947","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035947","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035949","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035951","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035953","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035953","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035953","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035955","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035955","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035957","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00036001","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00036204","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00036205","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00031001","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031002","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031003","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031004","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031005","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031006","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031007","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031008","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031009","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031010","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031011","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031101","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031102","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031103","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031201","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031202","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031203","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031204","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031205","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031206","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031207","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031208","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031209","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031210","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031211","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031212","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031213","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031214","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031215","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031216","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031217","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031218","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031301","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031302","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031303","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031304","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031305","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031306","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031307","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031308","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031309","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031310","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031311","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031312","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031313","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031314","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031315","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032401","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032402","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032403","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032404","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032405","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032406","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032407","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032408","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032409","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032410","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032411","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032412","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032413","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032414","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032415","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032416","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032417","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032418","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032419","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032420","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032421","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032422","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032423","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032425","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032426","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032427","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032428","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032429","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032430","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032431","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032432","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032433","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032434","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032435","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032436","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032437","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032438","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032439","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032440","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032441","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032442","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032443","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032444","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032445","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032446","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032447","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032448","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032449","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032450","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032451","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032452","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032453","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032454","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032455","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032456","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032457","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032458","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032459","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032460","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032461","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032462","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032463","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032464","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032465","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032466","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032467","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032468","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032469","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032470","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032471","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032472","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032473","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032474","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032475","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032476","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032477","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032478","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032479","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032480","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032481","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032482","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032483","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032484","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032485","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032486","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032487","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032488","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032489","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032490","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032491","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032492","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032493","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032494","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032495","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032496","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032497","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032498","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032499","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033501","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033502","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033506","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033507","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033509","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033510","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033511","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033512","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033513","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033514","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033515","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033516","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033518","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033519","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033520","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033521","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033522","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033523","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033524","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033525","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033526","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033528","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033529","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033530","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033531","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033532","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033534","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033536","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033537","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033538","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033539","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033540","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033541","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033542","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033543","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033544","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033546","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033547","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033548","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033549","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033551","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033552","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033553","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033554","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033556","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033557","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033558","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033559","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033560","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034601","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034602","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034603","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034604","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034605","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034606","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034607","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034608","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034609","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034610","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034611","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034612","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034613","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034614","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034615","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034616","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034617","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034618","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034619","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034620","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034621","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034622","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034623","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034701","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034702","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034703","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034704","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034705","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034706","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034707","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034708","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034709","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034710","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034711","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034712","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034713","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034714","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034715","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034716","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034717","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034718","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034801","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034802","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034803","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034804","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034805","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034806","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034807","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034808","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034809","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034810","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034811","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034812","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034813","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034814","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034815","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034816","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034817","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034818","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034819","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035901","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035903","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035905","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035907","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035909","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035915","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035917","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035919","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035921","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035923","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035924","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035926","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035927","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035929","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035931","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035933","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035935","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035937","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035939","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035941","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035943","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035945","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035947","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035949","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035951","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035953","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035955","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035957","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035959","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00036001","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00036101","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00036102","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00036103","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00036104","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00036105","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00036106","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00036204","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00036205","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00036208","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031001","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00031002","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00031003","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00031004","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00031005","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00031006","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00031009","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00031010","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00031011","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00031102","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00031204","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00031209","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00031213","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00031216","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00031217","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00031218","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00031304","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00031312","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032402","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032403","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032404","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032405","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032406","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032407","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032408","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032409","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032415","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032416","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032421","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032422","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032430","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032435","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032462","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032488","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032489","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032490","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032491","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032492","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032493","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032494","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032495","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032496","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032497","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032498","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032499","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00033556","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00033560","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034601","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034602","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034603","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034604","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034605","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034606","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034609","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034610","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034611","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034614","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034615","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034616","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034617","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034618","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034619","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034621","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034622","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034623","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034701","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034702","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034703","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034704","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034705","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034706","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034709","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034710","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034711","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034714","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034715","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034716","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034717","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034718","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034801","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034802","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034803","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034804","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034805","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034806","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034809","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034810","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034811","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034814","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034815","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034816","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034817","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034818","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034819","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00035903","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00035909","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00035915","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00035917","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00035919","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00035921","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00035923","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00035924","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00035926","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00035927","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00035929","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00035931","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00035939","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00035941","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00035943","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00035945","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00035947","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00035949","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00035951","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00035953","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00035955","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00035957","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00035959","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00036001","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00036101","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00036102","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00036103","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00036104","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00036105","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00036106","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00036204","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00036205","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00036208","Challenge":"Climate gaps","n":"1.000000000000000"}]'),LS=JSON.parse('[{"n":571,"DGUID":"2021A00031001"},{"n":837,"DGUID":"2021A00031010"},{"n":483,"DGUID":"2021A00032454"},{"n":405,"DGUID":"2021A00032455"},{"n":406,"DGUID":"2021A00032456"},{"n":479,"DGUID":"2021A00032457"},{"n":129,"DGUID":"2021A00032458"},{"n":423,"DGUID":"2021A00032459"},{"n":459,"DGUID":"2021A00032460"},{"n":541,"DGUID":"2021A00032461"},{"n":745,"DGUID":"2021A00032462"},{"n":634,"DGUID":"2021A00032463"},{"n":895,"DGUID":"2021A00031011"},{"n":447,"DGUID":"2021A00032464"},{"n":439,"DGUID":"2021A00032465"},{"n":184,"DGUID":"2021A00032466"},{"n":457,"DGUID":"2021A00032467"},{"n":470,"DGUID":"2021A00032468"},{"n":491,"DGUID":"2021A00032469"},{"n":355,"DGUID":"2021A00032470"},{"n":597,"DGUID":"2021A00032471"},{"n":483,"DGUID":"2021A00032472"},{"n":429,"DGUID":"2021A00032473"},{"n":573,"DGUID":"2021A00031101"},{"n":504,"DGUID":"2021A00032474"},{"n":665,"DGUID":"2021A00032475"},{"n":676,"DGUID":"2021A00032476"},{"n":669,"DGUID":"2021A00032477"},{"n":700,"DGUID":"2021A00032478"},{"n":725,"DGUID":"2021A00032479"},{"n":713,"DGUID":"2021A00032480"},{"n":652,"DGUID":"2021A00032481"},{"n":761,"DGUID":"2021A00032482"},{"n":771,"DGUID":"2021A00032483"},{"n":579,"DGUID":"2021A00031102"},{"n":733,"DGUID":"2021A00032484"},{"n":743,"DGUID":"2021A00032485"},{"n":681,"DGUID":"2021A00032486"},{"n":644,"DGUID":"2021A00032487"},{"n":693,"DGUID":"2021A00032488"},{"n":669,"DGUID":"2021A00032489"},{"n":725,"DGUID":"2021A00032490"},{"n":708,"DGUID":"2021A00032491"},{"n":709,"DGUID":"2021A00032492"},{"n":674,"DGUID":"2021A00032493"},{"n":559,"DGUID":"2021A00031103"},{"n":793,"DGUID":"2021A00032494"},{"n":702,"DGUID":"2021A00032495"},{"n":678,"DGUID":"2021A00032496"},{"n":717,"DGUID":"2021A00032497"},{"n":733,"DGUID":"2021A00032498"},{"n":1405,"DGUID":"2021A00032499"},{"n":565,"DGUID":"2021A00033501"},{"n":563,"DGUID":"2021A00033502"},{"n":741,"DGUID":"2021A00033506"},{"n":625,"DGUID":"2021A00033507"},{"n":413,"DGUID":"2021A00031201"},{"n":691,"DGUID":"2021A00033509"},{"n":743,"DGUID":"2021A00033510"},{"n":718,"DGUID":"2021A00033511"},{"n":824,"DGUID":"2021A00033512"},{"n":467,"DGUID":"2021A00033513"},{"n":563,"DGUID":"2021A00033514"},{"n":750,"DGUID":"2021A00033515"},{"n":679,"DGUID":"2021A00033516"},{"n":542,"DGUID":"2021A00033518"},{"n":565,"DGUID":"2021A00033519"},{"n":416,"DGUID":"2021A00031202"},{"n":456,"DGUID":"2021A00033520"},{"n":608,"DGUID":"2021A00033521"},{"n":549,"DGUID":"2021A00033522"},{"n":584,"DGUID":"2021A00033523"},{"n":555,"DGUID":"2021A00033524"},{"n":531,"DGUID":"2021A00033525"},{"n":474,"DGUID":"2021A00033526"},{"n":496,"DGUID":"2021A00033528"},{"n":442,"DGUID":"2021A00033529"},{"n":468,"DGUID":"2021A00033530"},{"n":434,"DGUID":"2021A00031203"},{"n":393,"DGUID":"2021A00033531"},{"n":413,"DGUID":"2021A00033532"},{"n":444,"DGUID":"2021A00033534"},{"n":389,"DGUID":"2021A00033536"},{"n":376,"DGUID":"2021A00033537"},{"n":447,"DGUID":"2021A00033538"},{"n":476,"DGUID":"2021A00033539"},{"n":423,"DGUID":"2021A00033540"},{"n":650,"DGUID":"2021A00033541"},{"n":673,"DGUID":"2021A00033542"},{"n":515,"DGUID":"2021A00031204"},{"n":703,"DGUID":"2021A00033543"},{"n":727,"DGUID":"2021A00033544"},{"n":693,"DGUID":"2021A00033546"},{"n":775,"DGUID":"2021A00033547"},{"n":821,"DGUID":"2021A00033548"},{"n":754,"DGUID":"2021A00033549"},{"n":641,"DGUID":"2021A00033551"},{"n":803,"DGUID":"2021A00033552"},{"n":703,"DGUID":"2021A00033553"},{"n":708,"DGUID":"2021A00033554"},{"n":649,"DGUID":"2021A00031205"},{"n":847,"DGUID":"2021A00033556"},{"n":889,"DGUID":"2021A00033557"},{"n":932,"DGUID":"2021A00033558"},{"n":659,"DGUID":"2021A00033559"},{"n":903,"DGUID":"2021A00033560"},{"n":491,"DGUID":"2021A00034601"},{"n":367,"DGUID":"2021A00034602"},{"n":238,"DGUID":"2021A00034603"},{"n":214,"DGUID":"2021A00034604"},{"n":310,"DGUID":"2021A00034605"},{"n":502,"DGUID":"2021A00031002"},{"n":555,"DGUID":"2021A00031206"},{"n":244,"DGUID":"2021A00034606"},{"n":327,"DGUID":"2021A00034607"},{"n":274,"DGUID":"2021A00034608"},{"n":266,"DGUID":"2021A00034609"},{"n":226,"DGUID":"2021A00034610"},{"n":253,"DGUID":"2021A00034611"},{"n":322,"DGUID":"2021A00034612"},{"n":392,"DGUID":"2021A00034613"},{"n":366,"DGUID":"2021A00034614"},{"n":417,"DGUID":"2021A00034615"},{"n":644,"DGUID":"2021A00031207"},{"n":321,"DGUID":"2021A00034616"},{"n":431,"DGUID":"2021A00034617"},{"n":441,"DGUID":"2021A00034618"},{"n":519,"DGUID":"2021A00034619"},{"n":418,"DGUID":"2021A00034620"},{"n":451,"DGUID":"2021A00034621"},{"n":515,"DGUID":"2021A00034622"},{"n":647,"DGUID":"2021A00034623"},{"n":344,"DGUID":"2021A00034701"},{"n":259,"DGUID":"2021A00034702"},{"n":614,"DGUID":"2021A00031208"},{"n":255,"DGUID":"2021A00034703"},{"n":375,"DGUID":"2021A00034704"},{"n":260,"DGUID":"2021A00034705"},{"n":255,"DGUID":"2021A00034706"},{"n":230,"DGUID":"2021A00034707"},{"n":259,"DGUID":"2021A00034708"},{"n":330,"DGUID":"2021A00034709"},{"n":272,"DGUID":"2021A00034710"},{"n":218,"DGUID":"2021A00034711"},{"n":231,"DGUID":"2021A00034712"},{"n":666,"DGUID":"2021A00031209"},{"n":268,"DGUID":"2021A00034713"},{"n":449,"DGUID":"2021A00034714"},{"n":371,"DGUID":"2021A00034715"},{"n":368,"DGUID":"2021A00034716"},{"n":372,"DGUID":"2021A00034717"},{"n":586,"DGUID":"2021A00034718"},{"n":391,"DGUID":"2021A00034801"},{"n":315,"DGUID":"2021A00034802"},{"n":910,"DGUID":"2021A00034803"},{"n":311,"DGUID":"2021A00034804"},{"n":642,"DGUID":"2021A00031210"},{"n":291,"DGUID":"2021A00034805"},{"n":616,"DGUID":"2021A00034806"},{"n":327,"DGUID":"2021A00034807"},{"n":433,"DGUID":"2021A00034808"},{"n":892,"DGUID":"2021A00034809"},{"n":364,"DGUID":"2021A00034810"},{"n":595,"DGUID":"2021A00034811"},{"n":446,"DGUID":"2021A00034812"},{"n":560,"DGUID":"2021A00034813"},{"n":890,"DGUID":"2021A00034814"},{"n":639,"DGUID":"2021A00031211"},{"n":1151,"DGUID":"2021A00034815"},{"n":494,"DGUID":"2021A00034816"},{"n":722,"DGUID":"2021A00034817"},{"n":814,"DGUID":"2021A00034818"},{"n":518,"DGUID":"2021A00034819"},{"n":1180,"DGUID":"2021A00035901"},{"n":1216,"DGUID":"2021A00035903"},{"n":912,"DGUID":"2021A00035905"},{"n":993,"DGUID":"2021A00035907"},{"n":1046,"DGUID":"2021A00035909"},{"n":598,"DGUID":"2021A00031212"},{"n":714,"DGUID":"2021A00035915"},{"n":601,"DGUID":"2021A00035917"},{"n":592,"DGUID":"2021A00035919"},{"n":572,"DGUID":"2021A00035921"},{"n":718,"DGUID":"2021A00035923"},{"n":1018,"DGUID":"2021A00035924"},{"n":666,"DGUID":"2021A00035926"},{"n":719,"DGUID":"2021A00035927"},{"n":607,"DGUID":"2021A00035929"},{"n":1165,"DGUID":"2021A00035931"},{"n":545,"DGUID":"2021A00031213"},{"n":1380,"DGUID":"2021A00035933"},{"n":802,"DGUID":"2021A00035935"},{"n":875,"DGUID":"2021A00035937"},{"n":1260,"DGUID":"2021A00035939"},{"n":1243,"DGUID":"2021A00035941"},{"n":1014,"DGUID":"2021A00035943"},{"n":1052,"DGUID":"2021A00035945"},{"n":792,"DGUID":"2021A00035947"},{"n":1419,"DGUID":"2021A00035949"},{"n":1102,"DGUID":"2021A00035951"},{"n":563,"DGUID":"2021A00031214"},{"n":1138,"DGUID":"2021A00035953"},{"n":1220,"DGUID":"2021A00035955"},{"n":1253,"DGUID":"2021A00035957"},{"n":993,"DGUID":"2021A00035959"},{"n":1270,"DGUID":"2021A00036001"},{"n":783,"DGUID":"2021A00036101"},{"n":756,"DGUID":"2021A00036102"},{"n":267,"DGUID":"2021A00036103"},{"n":918,"DGUID":"2021A00036104"},{"n":411,"DGUID":"2021A00036105"},{"n":646,"DGUID":"2021A00031215"},{"n":450,"DGUID":"2021A00036106"},{"n":982,"DGUID":"2021A00036204"},{"n":489,"DGUID":"2021A00036205"},{"n":512,"DGUID":"2021A00036208"},{"n":641,"DGUID":"2021A00031003"},{"n":438,"DGUID":"2021A00031216"},{"n":495,"DGUID":"2021A00031217"},{"n":652,"DGUID":"2021A00031218"},{"n":582,"DGUID":"2021A00031301"},{"n":646,"DGUID":"2021A00031302"},{"n":668,"DGUID":"2021A00031303"},{"n":666,"DGUID":"2021A00031304"},{"n":681,"DGUID":"2021A00031305"},{"n":716,"DGUID":"2021A00031306"},{"n":668,"DGUID":"2021A00031307"},{"n":638,"DGUID":"2021A00031004"},{"n":687,"DGUID":"2021A00031308"},{"n":761,"DGUID":"2021A00031309"},{"n":788,"DGUID":"2021A00031310"},{"n":707,"DGUID":"2021A00031311"},{"n":726,"DGUID":"2021A00031312"},{"n":685,"DGUID":"2021A00031313"},{"n":724,"DGUID":"2021A00031314"},{"n":672,"DGUID":"2021A00031315"},{"n":19,"DGUID":"2021A00032401"},{"n":587,"DGUID":"2021A00032402"},{"n":726,"DGUID":"2021A00031005"},{"n":650,"DGUID":"2021A00032403"},{"n":697,"DGUID":"2021A00032404"},{"n":633,"DGUID":"2021A00032405"},{"n":647,"DGUID":"2021A00032406"},{"n":638,"DGUID":"2021A00032407"},{"n":682,"DGUID":"2021A00032408"},{"n":636,"DGUID":"2021A00032409"},{"n":747,"DGUID":"2021A00032410"},{"n":619,"DGUID":"2021A00032411"},{"n":666,"DGUID":"2021A00032412"},{"n":683,"DGUID":"2021A00031006"},{"n":646,"DGUID":"2021A00032413"},{"n":706,"DGUID":"2021A00032414"},{"n":666,"DGUID":"2021A00032415"},{"n":667,"DGUID":"2021A00032416"},{"n":679,"DGUID":"2021A00032417"},{"n":690,"DGUID":"2021A00032418"},{"n":647,"DGUID":"2021A00032419"},{"n":534,"DGUID":"2021A00032420"},{"n":689,"DGUID":"2021A00032421"},{"n":694,"DGUID":"2021A00032422"},{"n":592,"DGUID":"2021A00031007"},{"n":665,"DGUID":"2021A00032423"},{"n":627,"DGUID":"2021A00032425"},{"n":594,"DGUID":"2021A00032426"},{"n":573,"DGUID":"2021A00032427"},{"n":638,"DGUID":"2021A00032428"},{"n":619,"DGUID":"2021A00032429"},{"n":678,"DGUID":"2021A00032430"},{"n":615,"DGUID":"2021A00032431"},{"n":648,"DGUID":"2021A00032432"},{"n":645,"DGUID":"2021A00032433"},{"n":641,"DGUID":"2021A00031008"},{"n":734,"DGUID":"2021A00032434"},{"n":673,"DGUID":"2021A00032435"},{"n":627,"DGUID":"2021A00032436"},{"n":653,"DGUID":"2021A00032437"},{"n":624,"DGUID":"2021A00032438"},{"n":660,"DGUID":"2021A00032439"},{"n":626,"DGUID":"2021A00032440"},{"n":677,"DGUID":"2021A00032441"},{"n":664,"DGUID":"2021A00032442"},{"n":605,"DGUID":"2021A00032443"},{"n":749,"DGUID":"2021A00031009"},{"n":647,"DGUID":"2021A00032444"},{"n":672,"DGUID":"2021A00032445"},{"n":687,"DGUID":"2021A00032446"},{"n":650,"DGUID":"2021A00032447"},{"n":600,"DGUID":"2021A00032448"},{"n":636,"DGUID":"2021A00032449"},{"n":587,"DGUID":"2021A00032450"},{"n":684,"DGUID":"2021A00032451"},{"n":687,"DGUID":"2021A00032452"},{"n":478,"DGUID":"2021A00032453"}]');function BS(o){const{COGUrl:p,opacity:d,challenges:w,challenge:D,colorBy:E}=o,[I,s]=He.useState(!1);He.useRef(),encodeURIComponent(JSON.stringify(GS));const V=w.filter(te=>te.everywhere===!0).map(te=>te.name);He.useEffect(()=>{let te=new DS;return lf.addProtocol("pmtiles",te.tile),()=>{lf.removeProtocol("pmtiles")}},[]);const q=te=>te<1?"#fff0":te<100?"#6ee4f9":te<400?"#34aac0":te<600?"#1a879c":"#177182",ue=(te,ce)=>{const ae=w.filter(Pe=>Pe.name===te);if(te==="All challenges"&&ce==="challenges")return["interpolate",["linear"],["to-number",["get","number_of_challenges"]],2,"#22301a",3,"#3f5830",4,"#54793e",5,"#638b4c",6,"#98cd79"];if(ae[0].everywhere&&ce==="challenges")return"#45732a";if(ce==="challenges")return["case",["in",te,["get","challenges"]],"#45732a","#000"];if(ae[0].everywhere&&ce==="species")return"#30a3b9";if(te==="All challenges"&&ce==="species"){let Pe=["case"];return LS.map(Ze=>{Pe.push(["==",["get","DGUID"],Ze.DGUID]),Pe.push(q(parseInt(Ze.n)))}),Pe.push("#fff0"),Pe}if(te!=="All challenges"&&ce==="species"){let Pe=["case"];return Lv.filter(tt=>tt.Challenge==te).map(tt=>{Pe.push(["==",["get","DGUID"],tt.DGUID]),Pe.push(q(parseInt(tt.n)))}),Pe.push("#fff0"),Pe}let he=["case"];return Lv.filter(Pe=>Pe.Challenge==te).map(Pe=>{he.push(["==",["get","DGUID"],Pe.DGUID]),he.push(q(parseInt(Pe.n)))}),he.push("white"),he};return He.useEffect(()=>{if(p&&!I){const te=new lf.Map({container:"App",zoom:3.5,center:[-90,58],style:{version:8,projection:{type:"globe"},sources:{satellite:{url:"https://api.maptiler.com/tiles/satellite-v2/tiles.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL",type:"raster"},counties:{type:"vector",url:"pmtiles://https://object-arbutus.cloud.computecanada.ca/bq-io/blitz-the-gap/counties_challenges.pmtiles"},terrain:{type:"raster-dem",tiles:["https://tiler.biodiversite-quebec.ca/cog/tiles/{z}/{x}/{y}?url=https://object-arbutus.cloud.computecanada.ca/bq-io/io/earthenv/topography/elevation_1KMmn_GMTEDmn.tif&rescale=0,2013&bidx=1&expression=b1"],tileSize:256},background:{type:"raster",tiles:["https://01.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png"],tileSize:256}},layers:[{id:"back",type:"raster",source:"background"},{id:"counties",type:"fill","source-layer":"counties_challenges",source:"counties",paint:{"fill-color":ue(D,E),"fill-opacity":.4,"fill-outline-color":"#ffffff"}}],sky:{"atmosphere-blend":["interpolate",["linear"],["zoom"],0,1,5,1,7,0]},light:{anchor:"viewport",position:[1.5,90,40],intensity:.25,color:"#555"}}});return te.addControl(new lf.GlobeControl),te.addControl(new lf.NavigationControl({showZoom:!0,showCompass:!1})),te.on("click","counties",ce=>{let ae=`<div style="text-align:left"><h3>${ce.features[0].properties.CDNAME}</h3>
        <strong>Number of species</strong>: ${ce.features[0].properties.number_of_species}</b>
        <br><strong>Number of challenges</strong>: ${parseInt(ce.features[0].properties.number_of_challenges)+3}</b>
        <br><strong>List of challenges</strong>: <ul><li>${(ce.features[0].properties.challenges+","+V.join(",")).replace("Birders, don't look up!","Birders - don't look up!").split(",").join("</li><li>")}</li></b></div>`;new lf.Popup().setLngLat([ce.lngLat.lng,ce.lngLat.lat]).setHTML(ae).addTo(te)}),te.on("mouseenter","counties",()=>{te.getCanvas().style.cursor="crosshair"}),te.on("mouseleave","counties",()=>{te.getCanvas().style.cursor="pointer"}),s(te),()=>{te.remove()}}},[]),He.useEffect(()=>(I&&(I.setPaintProperty("counties","fill-color",ue(D,E)),I.triggerRepaint()),()=>{}),[I,D,E]),$t.jsx("div",{id:"App",className:"App",style:{width:"100vw",height:"100vh",zIndex:"0",background:"url('/blitz-the-gap-map/night-sky.png')"}})}function ma(o,p,d=void 0){const w={};for(const D in o){const E=o[D];let I="",s=!0;for(let V=0;V<E.length;V+=1){const q=E[V];q&&(I+=(s===!0?"":" ")+p(q),s=!1,d&&d[q]&&(I+=" "+d[q]))}w[D]=I}return w}function sb(o){var p,d,w="";if(typeof o=="string"||typeof o=="number")w+=o;else if(typeof o=="object")if(Array.isArray(o)){var D=o.length;for(p=0;p<D;p++)o[p]&&(d=sb(o[p]))&&(w&&(w+=" "),w+=d)}else for(d in o)o[d]&&(w&&(w+=" "),w+=d);return w}function Br(){for(var o,p,d=0,w="",D=arguments.length;d<D;d++)(o=arguments[d])&&(p=sb(o))&&(w&&(w+=" "),w+=p);return w}function Ld({props:o,states:p,muiFormControl:d}){return p.reduce((w,D)=>(w[D]=o[D],d&&typeof o[D]>"u"&&(w[D]=d[D]),w),{})}const i_=He.createContext(void 0);function yp(){return He.useContext(i_)}function hp(o,...p){const d=new URL(`https://mui.com/production-error/?code=${o}`);return p.forEach(w=>d.searchParams.append("args[]",w)),`Minified MUI error #${o}; visit ${d} for the full message.`}function kr(o){if(typeof o!="string")throw new Error(hp(7));return o.charAt(0).toUpperCase()+o.slice(1)}var Xy={exports:{}},ea={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function OS(){if(Bv)return ea;Bv=1;var o=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),I=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),ue=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),ce=Symbol.for("react.view_transition"),ae=Symbol.for("react.client.reference");function he(_e){if(typeof _e=="object"&&_e!==null){var Pe=_e.$$typeof;switch(Pe){case o:switch(_e=_e.type,_e){case d:case D:case w:case V:case q:case ce:return _e;default:switch(_e=_e&&_e.$$typeof,_e){case I:case s:case te:case ue:return _e;case E:return _e;default:return Pe}}case p:return Pe}}}return ea.ContextConsumer=E,ea.ContextProvider=I,ea.Element=o,ea.ForwardRef=s,ea.Fragment=d,ea.Lazy=te,ea.Memo=ue,ea.Portal=p,ea.Profiler=D,ea.StrictMode=w,ea.Suspense=V,ea.SuspenseList=q,ea.isContextConsumer=function(_e){return he(_e)===E},ea.isContextProvider=function(_e){return he(_e)===I},ea.isElement=function(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===o},ea.isForwardRef=function(_e){return he(_e)===s},ea.isFragment=function(_e){return he(_e)===d},ea.isLazy=function(_e){return he(_e)===te},ea.isMemo=function(_e){return he(_e)===ue},ea.isPortal=function(_e){return he(_e)===p},ea.isProfiler=function(_e){return he(_e)===D},ea.isStrictMode=function(_e){return he(_e)===w},ea.isSuspense=function(_e){return he(_e)===V},ea.isSuspenseList=function(_e){return he(_e)===q},ea.isValidElementType=function(_e){return typeof _e=="string"||typeof _e=="function"||_e===d||_e===D||_e===w||_e===V||_e===q||typeof _e=="object"&&_e!==null&&(_e.$$typeof===te||_e.$$typeof===ue||_e.$$typeof===I||_e.$$typeof===E||_e.$$typeof===s||_e.$$typeof===ae||_e.getModuleId!==void 0)},ea.typeOf=he,ea}var Ov;function FS(){return Ov||(Ov=1,Xy.exports=OS()),Xy.exports}var lb=FS();function Ph(o){if(typeof o!="object"||o===null)return!1;const p=Object.getPrototypeOf(o);return(p===null||p===Object.prototype||Object.getPrototypeOf(p)===null)&&!(Symbol.toStringTag in o)&&!(Symbol.iterator in o)}function ub(o){if(He.isValidElement(o)||lb.isValidElementType(o)||!Ph(o))return o;const p={};return Object.keys(o).forEach(d=>{p[d]=ub(o[d])}),p}function e0(o,p,d={clone:!0}){const w=d.clone?{...o}:o;return Ph(o)&&Ph(p)&&Object.keys(p).forEach(D=>{He.isValidElement(p[D])||lb.isValidElementType(p[D])?w[D]=p[D]:Ph(p[D])&&Object.prototype.hasOwnProperty.call(o,D)&&Ph(o[D])?w[D]=e0(o[D],p[D],d):d.clone?w[D]=Ph(p[D])?ub(p[D]):p[D]:w[D]=p[D]}),w}function dg(o,p){return p?e0(o,p,{clone:!1}):o}function NS(o,p){if(!o.containerQueries)return p;const d=Object.keys(p).filter(w=>w.startsWith("@container")).sort((w,D)=>{var I,s;const E=/min-width:\s*([0-9.]+)/;return+(((I=w.match(E))==null?void 0:I[1])||0)-+(((s=D.match(E))==null?void 0:s[1])||0)});return d.length?d.reduce((w,D)=>{const E=p[D];return delete w[D],w[D]=E,w},{...p}):p}function $S(o,p){return p==="@"||p.startsWith("@")&&(o.some(d=>p.startsWith(`@${d}`))||!!p.match(/^@\d/))}function jS(o,p){const d=p.match(/^@([^/]+)?\/?(.+)?$/);if(!d)return null;const[,w,D]=d,E=Number.isNaN(+w)?w||0:+w;return o.containerQueries(D).up(E)}function VS(o){const p=(E,I)=>E.replace("@media",I?`@container ${I}`:"@container");function d(E,I){E.up=(...s)=>p(o.breakpoints.up(...s),I),E.down=(...s)=>p(o.breakpoints.down(...s),I),E.between=(...s)=>p(o.breakpoints.between(...s),I),E.only=(...s)=>p(o.breakpoints.only(...s),I),E.not=(...s)=>{const V=p(o.breakpoints.not(...s),I);return V.includes("not all and")?V.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):V}}const w={},D=E=>(d(w,E),w);return d(D),{...o,containerQueries:D}}const Zm={xs:0,sm:600,md:900,lg:1200,xl:1536},Fv={keys:["xs","sm","md","lg","xl"],up:o=>`@media (min-width:${Zm[o]}px)`},ZS={containerQueries:o=>({up:p=>{let d=typeof p=="number"?p:Zm[p]||p;return typeof d=="number"&&(d=`${d}px`),o?`@container ${o} (min-width:${d})`:`@container (min-width:${d})`}})};function pp(o,p,d){const w=o.theme||{};if(Array.isArray(p)){const E=w.breakpoints||Fv;return p.reduce((I,s,V)=>(I[E.up(E.keys[V])]=d(p[V]),I),{})}if(typeof p=="object"){const E=w.breakpoints||Fv;return Object.keys(p).reduce((I,s)=>{if($S(E.keys,s)){const V=jS(w.containerQueries?w:ZS,s);V&&(I[V]=d(p[s],s))}else if(Object.keys(E.values||Zm).includes(s)){const V=E.up(s);I[V]=d(p[s],s)}else{const V=s;I[V]=p[V]}return I},{})}return d(p)}function WS(o={}){var d;return((d=o.keys)==null?void 0:d.reduce((w,D)=>{const E=o.up(D);return w[E]={},w},{}))||{}}function HS(o,p){return o.reduce((d,w)=>{const D=d[w];return(!D||Object.keys(D).length===0)&&delete d[w],d},p)}function Wm(o,p,d=!0){if(!p||typeof p!="string")return null;if(o&&o.vars&&d){const w=`vars.${p}`.split(".").reduce((D,E)=>D&&D[E]?D[E]:null,o);if(w!=null)return w}return p.split(".").reduce((w,D)=>w&&w[D]!=null?w[D]:null,o)}function Em(o,p,d,w=d){let D;return typeof o=="function"?D=o(d):Array.isArray(o)?D=o[d]||w:D=Wm(o,d)||w,p&&(D=p(D,w,o)),D}function ts(o){const{prop:p,cssProperty:d=o.prop,themeKey:w,transform:D}=o,E=I=>{if(I[p]==null)return null;const s=I[p],V=I.theme,q=Wm(V,w)||{};return pp(I,s,te=>{let ce=Em(q,D,te);return te===ce&&typeof te=="string"&&(ce=Em(q,D,`${p}${te==="default"?"":kr(te)}`,te)),d===!1?ce:{[d]:ce}})};return E.propTypes={},E.filterProps=[p],E}function qS(o){const p={};return d=>(p[d]===void 0&&(p[d]=o(d)),p[d])}const KS={m:"margin",p:"padding"},XS={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Nv={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},YS=qS(o=>{if(o.length>2)if(Nv[o])o=Nv[o];else return[o];const[p,d]=o.split(""),w=KS[p],D=XS[d]||"";return Array.isArray(D)?D.map(E=>w+E):[w+D]}),a_=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],o_=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...a_,...o_];function Ag(o,p,d,w){const D=Wm(o,p,!0)??d;return typeof D=="number"||typeof D=="string"?E=>typeof E=="string"?E:typeof D=="string"?D.startsWith("var(")&&E===0?0:D.startsWith("var(")&&E===1?D:`calc(${E} * ${D})`:D*E:Array.isArray(D)?E=>{if(typeof E=="string")return E;const I=Math.abs(E),s=D[I];return E>=0?s:typeof s=="number"?-s:typeof s=="string"&&s.startsWith("var(")?`calc(-1 * ${s})`:`-${s}`}:typeof D=="function"?D:()=>{}}function s_(o){return Ag(o,"spacing",8)}function Sg(o,p){return typeof p=="string"||p==null?p:o(p)}function QS(o,p){return d=>o.reduce((w,D)=>(w[D]=Sg(p,d),w),{})}function JS(o,p,d,w){if(!p.includes(d))return null;const D=YS(d),E=QS(D,w),I=o[d];return pp(o,I,E)}function cb(o,p){const d=s_(o.theme);return Object.keys(o).map(w=>JS(o,p,w,d)).reduce(dg,{})}function Mo(o){return cb(o,a_)}Mo.propTypes={};Mo.filterProps=a_;function Po(o){return cb(o,o_)}Po.propTypes={};Po.filterProps=o_;function Hm(...o){const p=o.reduce((w,D)=>(D.filterProps.forEach(E=>{w[E]=D}),w),{}),d=w=>Object.keys(w).reduce((D,E)=>p[E]?dg(D,p[E](w)):D,{});return d.propTypes={},d.filterProps=o.reduce((w,D)=>w.concat(D.filterProps),[]),d}function pc(o){return typeof o!="number"?o:`${o}px solid`}function fc(o,p){return ts({prop:o,themeKey:"borders",transform:p})}const eT=fc("border",pc),tT=fc("borderTop",pc),nT=fc("borderRight",pc),rT=fc("borderBottom",pc),iT=fc("borderLeft",pc),aT=fc("borderColor"),oT=fc("borderTopColor"),sT=fc("borderRightColor"),lT=fc("borderBottomColor"),uT=fc("borderLeftColor"),cT=fc("outline",pc),hT=fc("outlineColor"),qm=o=>{if(o.borderRadius!==void 0&&o.borderRadius!==null){const p=Ag(o.theme,"shape.borderRadius",4),d=w=>({borderRadius:Sg(p,w)});return pp(o,o.borderRadius,d)}return null};qm.propTypes={};qm.filterProps=["borderRadius"];Hm(eT,tT,nT,rT,iT,aT,oT,sT,lT,uT,qm,cT,hT);const Km=o=>{if(o.gap!==void 0&&o.gap!==null){const p=Ag(o.theme,"spacing",8),d=w=>({gap:Sg(p,w)});return pp(o,o.gap,d)}return null};Km.propTypes={};Km.filterProps=["gap"];const Xm=o=>{if(o.columnGap!==void 0&&o.columnGap!==null){const p=Ag(o.theme,"spacing",8),d=w=>({columnGap:Sg(p,w)});return pp(o,o.columnGap,d)}return null};Xm.propTypes={};Xm.filterProps=["columnGap"];const Ym=o=>{if(o.rowGap!==void 0&&o.rowGap!==null){const p=Ag(o.theme,"spacing",8),d=w=>({rowGap:Sg(p,w)});return pp(o,o.rowGap,d)}return null};Ym.propTypes={};Ym.filterProps=["rowGap"];const pT=ts({prop:"gridColumn"}),dT=ts({prop:"gridRow"}),fT=ts({prop:"gridAutoFlow"}),gT=ts({prop:"gridAutoColumns"}),mT=ts({prop:"gridAutoRows"}),yT=ts({prop:"gridTemplateColumns"}),_T=ts({prop:"gridTemplateRows"}),vT=ts({prop:"gridTemplateAreas"}),xT=ts({prop:"gridArea"});Hm(Km,Xm,Ym,pT,dT,fT,gT,mT,yT,_T,vT,xT);function _f(o,p){return p==="grey"?p:o}const bT=ts({prop:"color",themeKey:"palette",transform:_f}),wT=ts({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:_f}),CT=ts({prop:"backgroundColor",themeKey:"palette",transform:_f});Hm(bT,wT,CT);function Lu(o){return o<=1&&o!==0?`${o*100}%`:o}const DT=ts({prop:"width",transform:Lu}),l_=o=>{if(o.maxWidth!==void 0&&o.maxWidth!==null){const p=d=>{var D,E,I,s,V;const w=((I=(E=(D=o.theme)==null?void 0:D.breakpoints)==null?void 0:E.values)==null?void 0:I[d])||Zm[d];return w?((V=(s=o.theme)==null?void 0:s.breakpoints)==null?void 0:V.unit)!=="px"?{maxWidth:`${w}${o.theme.breakpoints.unit}`}:{maxWidth:w}:{maxWidth:Lu(d)}};return pp(o,o.maxWidth,p)}return null};l_.filterProps=["maxWidth"];const IT=ts({prop:"minWidth",transform:Lu}),AT=ts({prop:"height",transform:Lu}),ST=ts({prop:"maxHeight",transform:Lu}),TT=ts({prop:"minHeight",transform:Lu});ts({prop:"size",cssProperty:"width",transform:Lu});ts({prop:"size",cssProperty:"height",transform:Lu});const MT=ts({prop:"boxSizing"});Hm(DT,l_,IT,AT,ST,TT,MT);const Tg={border:{themeKey:"borders",transform:pc},borderTop:{themeKey:"borders",transform:pc},borderRight:{themeKey:"borders",transform:pc},borderBottom:{themeKey:"borders",transform:pc},borderLeft:{themeKey:"borders",transform:pc},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:pc},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:qm},color:{themeKey:"palette",transform:_f},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:_f},backgroundColor:{themeKey:"palette",transform:_f},p:{style:Po},pt:{style:Po},pr:{style:Po},pb:{style:Po},pl:{style:Po},px:{style:Po},py:{style:Po},padding:{style:Po},paddingTop:{style:Po},paddingRight:{style:Po},paddingBottom:{style:Po},paddingLeft:{style:Po},paddingX:{style:Po},paddingY:{style:Po},paddingInline:{style:Po},paddingInlineStart:{style:Po},paddingInlineEnd:{style:Po},paddingBlock:{style:Po},paddingBlockStart:{style:Po},paddingBlockEnd:{style:Po},m:{style:Mo},mt:{style:Mo},mr:{style:Mo},mb:{style:Mo},ml:{style:Mo},mx:{style:Mo},my:{style:Mo},margin:{style:Mo},marginTop:{style:Mo},marginRight:{style:Mo},marginBottom:{style:Mo},marginLeft:{style:Mo},marginX:{style:Mo},marginY:{style:Mo},marginInline:{style:Mo},marginInlineStart:{style:Mo},marginInlineEnd:{style:Mo},marginBlock:{style:Mo},marginBlockStart:{style:Mo},marginBlockEnd:{style:Mo},displayPrint:{cssProperty:!1,transform:o=>({"@media print":{display:o}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Km},rowGap:{style:Ym},columnGap:{style:Xm},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Lu},maxWidth:{style:l_},minWidth:{transform:Lu},height:{transform:Lu},maxHeight:{transform:Lu},minHeight:{transform:Lu},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function PT(...o){const p=o.reduce((w,D)=>w.concat(Object.keys(D)),[]),d=new Set(p);return o.every(w=>d.size===Object.keys(w).length)}function ET(o,p){return typeof o=="function"?o(p):o}function kT(){function o(d,w,D,E){const I={[d]:w,theme:D},s=E[d];if(!s)return{[d]:w};const{cssProperty:V=d,themeKey:q,transform:ue,style:te}=s;if(w==null)return null;if(q==="typography"&&w==="inherit")return{[d]:w};const ce=Wm(D,q)||{};return te?te(I):pp(I,w,he=>{let _e=Em(ce,ue,he);return he===_e&&typeof he=="string"&&(_e=Em(ce,ue,`${d}${he==="default"?"":kr(he)}`,he)),V===!1?_e:{[V]:_e}})}function p(d){const{sx:w,theme:D={}}=d||{};if(!w)return null;const E=D.unstable_sxConfig??Tg;function I(s){let V=s;if(typeof s=="function")V=s(D);else if(typeof s!="object")return s;if(!V)return null;const q=WS(D.breakpoints),ue=Object.keys(q);let te=q;return Object.keys(V).forEach(ce=>{const ae=ET(V[ce],D);if(ae!=null)if(typeof ae=="object")if(E[ce])te=dg(te,o(ce,ae,D,E));else{const he=pp({theme:D},ae,_e=>({[ce]:_e}));PT(he,ae)?te[ce]=p({sx:ae,theme:D}):te=dg(te,he)}else te=dg(te,o(ce,ae,D,E))}),NS(D,HS(ue,te))}return Array.isArray(w)?w.map(I):I(w)}return p}const xf=kT();xf.filterProps=["sx"];const RT=o=>{var w;const p={systemProps:{},otherProps:{}},d=((w=o==null?void 0:o.theme)==null?void 0:w.unstable_sxConfig)??Tg;return Object.keys(o).forEach(D=>{d[D]?p.systemProps[D]=o[D]:p.otherProps[D]=o[D]}),p};function UT(o){const{sx:p,...d}=o,{systemProps:w,otherProps:D}=RT(d);let E;return Array.isArray(p)?E=[w,...p]:typeof p=="function"?E=(...I)=>{const s=p(...I);return Ph(s)?{...w,...s}:w}:E={...w,...p},{...D,sx:E}}function km(){return km=Object.assign?Object.assign.bind():function(o){for(var p=1;p<arguments.length;p++){var d=arguments[p];for(var w in d)({}).hasOwnProperty.call(d,w)&&(o[w]=d[w])}return o},km.apply(null,arguments)}function zT(o){if(o.sheet)return o.sheet;for(var p=0;p<document.styleSheets.length;p++)if(document.styleSheets[p].ownerNode===o)return document.styleSheets[p]}function GT(o){var p=document.createElement("style");return p.setAttribute("data-emotion",o.key),o.nonce!==void 0&&p.setAttribute("nonce",o.nonce),p.appendChild(document.createTextNode("")),p.setAttribute("data-s",""),p}var LT=function(){function o(d){var w=this;this._insertTag=function(D){var E;w.tags.length===0?w.insertionPoint?E=w.insertionPoint.nextSibling:w.prepend?E=w.container.firstChild:E=w.before:E=w.tags[w.tags.length-1].nextSibling,w.container.insertBefore(D,E),w.tags.push(D)},this.isSpeedy=d.speedy===void 0?!0:d.speedy,this.tags=[],this.ctr=0,this.nonce=d.nonce,this.key=d.key,this.container=d.container,this.prepend=d.prepend,this.insertionPoint=d.insertionPoint,this.before=null}var p=o.prototype;return p.hydrate=function(w){w.forEach(this._insertTag)},p.insert=function(w){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(GT(this));var D=this.tags[this.tags.length-1];if(this.isSpeedy){var E=zT(D);try{E.insertRule(w,E.cssRules.length)}catch{}}else D.appendChild(document.createTextNode(w));this.ctr++},p.flush=function(){this.tags.forEach(function(w){var D;return(D=w.parentNode)==null?void 0:D.removeChild(w)}),this.tags=[],this.ctr=0},o}(),Jl="-ms-",Rm="-moz-",zi="-webkit-",hb="comm",u_="rule",c_="decl",BT="@import",pb="@keyframes",OT="@layer",FT=Math.abs,Qm=String.fromCharCode,NT=Object.assign;function $T(o,p){return Ul(o,0)^45?(((p<<2^Ul(o,0))<<2^Ul(o,1))<<2^Ul(o,2))<<2^Ul(o,3):0}function db(o){return o.trim()}function jT(o,p){return(o=p.exec(o))?o[0]:o}function Gi(o,p,d){return o.replace(p,d)}function A1(o,p){return o.indexOf(p)}function Ul(o,p){return o.charCodeAt(p)|0}function mg(o,p,d){return o.slice(p,d)}function Th(o){return o.length}function h_(o){return o.length}function hm(o,p){return p.push(o),o}function VT(o,p){return o.map(p).join("")}var Jm=1,bf=1,fb=0,X0=0,xs=0,Df="";function ey(o,p,d,w,D,E,I){return{value:o,root:p,parent:d,type:w,props:D,children:E,line:Jm,column:bf,length:I,return:""}}function Jf(o,p){return NT(ey("",null,null,"",null,null,0),o,{length:-o.length},p)}function ZT(){return xs}function WT(){return xs=X0>0?Ul(Df,--X0):0,bf--,xs===10&&(bf=1,Jm--),xs}function Bu(){return xs=X0<fb?Ul(Df,X0++):0,bf++,xs===10&&(bf=1,Jm++),xs}function Eh(){return Ul(Df,X0)}function Cm(){return X0}function Mg(o,p){return mg(Df,o,p)}function yg(o){switch(o){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function gb(o){return Jm=bf=1,fb=Th(Df=o),X0=0,[]}function mb(o){return Df="",o}function Dm(o){return db(Mg(X0-1,S1(o===91?o+2:o===40?o+1:o)))}function HT(o){for(;(xs=Eh())&&xs<33;)Bu();return yg(o)>2||yg(xs)>3?"":" "}function qT(o,p){for(;--p&&Bu()&&!(xs<48||xs>102||xs>57&&xs<65||xs>70&&xs<97););return Mg(o,Cm()+(p<6&&Eh()==32&&Bu()==32))}function S1(o){for(;Bu();)switch(xs){case o:return X0;case 34:case 39:o!==34&&o!==39&&S1(xs);break;case 40:o===41&&S1(o);break;case 92:Bu();break}return X0}function KT(o,p){for(;Bu()&&o+xs!==57;)if(o+xs===84&&Eh()===47)break;return"/*"+Mg(p,X0-1)+"*"+Qm(o===47?o:Bu())}function XT(o){for(;!yg(Eh());)Bu();return Mg(o,X0)}function YT(o){return mb(Im("",null,null,null,[""],o=gb(o),0,[0],o))}function Im(o,p,d,w,D,E,I,s,V){for(var q=0,ue=0,te=I,ce=0,ae=0,he=0,_e=1,Pe=1,Ze=1,tt=0,ze="",Ae=D,Ge=E,$e=w,ot=ze;Pe;)switch(he=tt,tt=Bu()){case 40:if(he!=108&&Ul(ot,te-1)==58){A1(ot+=Gi(Dm(tt),"&","&\f"),"&\f")!=-1&&(Ze=-1);break}case 34:case 39:case 91:ot+=Dm(tt);break;case 9:case 10:case 13:case 32:ot+=HT(he);break;case 92:ot+=qT(Cm()-1,7);continue;case 47:switch(Eh()){case 42:case 47:hm(QT(KT(Bu(),Cm()),p,d),V);break;default:ot+="/"}break;case 123*_e:s[q++]=Th(ot)*Ze;case 125*_e:case 59:case 0:switch(tt){case 0:case 125:Pe=0;case 59+ue:Ze==-1&&(ot=Gi(ot,/\f/g,"")),ae>0&&Th(ot)-te&&hm(ae>32?jv(ot+";",w,d,te-1):jv(Gi(ot," ","")+";",w,d,te-2),V);break;case 59:ot+=";";default:if(hm($e=$v(ot,p,d,q,ue,D,s,ze,Ae=[],Ge=[],te),E),tt===123)if(ue===0)Im(ot,p,$e,$e,Ae,E,te,s,Ge);else switch(ce===99&&Ul(ot,3)===110?100:ce){case 100:case 108:case 109:case 115:Im(o,$e,$e,w&&hm($v(o,$e,$e,0,0,D,s,ze,D,Ae=[],te),Ge),D,Ge,te,s,w?Ae:Ge);break;default:Im(ot,$e,$e,$e,[""],Ge,0,s,Ge)}}q=ue=ae=0,_e=Ze=1,ze=ot="",te=I;break;case 58:te=1+Th(ot),ae=he;default:if(_e<1){if(tt==123)--_e;else if(tt==125&&_e++==0&&WT()==125)continue}switch(ot+=Qm(tt),tt*_e){case 38:Ze=ue>0?1:(ot+="\f",-1);break;case 44:s[q++]=(Th(ot)-1)*Ze,Ze=1;break;case 64:Eh()===45&&(ot+=Dm(Bu())),ce=Eh(),ue=te=Th(ze=ot+=XT(Cm())),tt++;break;case 45:he===45&&Th(ot)==2&&(_e=0)}}return E}function $v(o,p,d,w,D,E,I,s,V,q,ue){for(var te=D-1,ce=D===0?E:[""],ae=h_(ce),he=0,_e=0,Pe=0;he<w;++he)for(var Ze=0,tt=mg(o,te+1,te=FT(_e=I[he])),ze=o;Ze<ae;++Ze)(ze=db(_e>0?ce[Ze]+" "+tt:Gi(tt,/&\f/g,ce[Ze])))&&(V[Pe++]=ze);return ey(o,p,d,D===0?u_:s,V,q,ue)}function QT(o,p,d){return ey(o,p,d,hb,Qm(ZT()),mg(o,2,-2),0)}function jv(o,p,d,w){return ey(o,p,d,c_,mg(o,0,w),mg(o,w+1,-1),w)}function vf(o,p){for(var d="",w=h_(o),D=0;D<w;D++)d+=p(o[D],D,o,p)||"";return d}function JT(o,p,d,w){switch(o.type){case OT:if(o.children.length)break;case BT:case c_:return o.return=o.return||o.value;case hb:return"";case pb:return o.return=o.value+"{"+vf(o.children,w)+"}";case u_:o.value=o.props.join(",")}return Th(d=vf(o.children,w))?o.return=o.value+"{"+d+"}":""}function eM(o){var p=h_(o);return function(d,w,D,E){for(var I="",s=0;s<p;s++)I+=o[s](d,w,D,E)||"";return I}}function tM(o){return function(p){p.root||(p=p.return)&&o(p)}}function yb(o){var p=Object.create(null);return function(d){return p[d]===void 0&&(p[d]=o(d)),p[d]}}var nM=function(p,d,w){for(var D=0,E=0;D=E,E=Eh(),D===38&&E===12&&(d[w]=1),!yg(E);)Bu();return Mg(p,X0)},rM=function(p,d){var w=-1,D=44;do switch(yg(D)){case 0:D===38&&Eh()===12&&(d[w]=1),p[w]+=nM(X0-1,d,w);break;case 2:p[w]+=Dm(D);break;case 4:if(D===44){p[++w]=Eh()===58?"&\f":"",d[w]=p[w].length;break}default:p[w]+=Qm(D)}while(D=Bu());return p},iM=function(p,d){return mb(rM(gb(p),d))},Vv=new WeakMap,aM=function(p){if(!(p.type!=="rule"||!p.parent||p.length<1)){for(var d=p.value,w=p.parent,D=p.column===w.column&&p.line===w.line;w.type!=="rule";)if(w=w.parent,!w)return;if(!(p.props.length===1&&d.charCodeAt(0)!==58&&!Vv.get(w))&&!D){Vv.set(p,!0);for(var E=[],I=iM(d,E),s=w.props,V=0,q=0;V<I.length;V++)for(var ue=0;ue<s.length;ue++,q++)p.props[q]=E[V]?I[V].replace(/&\f/g,s[ue]):s[ue]+" "+I[V]}}},oM=function(p){if(p.type==="decl"){var d=p.value;d.charCodeAt(0)===108&&d.charCodeAt(2)===98&&(p.return="",p.value="")}};function _b(o,p){switch($T(o,p)){case 5103:return zi+"print-"+o+o;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return zi+o+o;case 5349:case 4246:case 4810:case 6968:case 2756:return zi+o+Rm+o+Jl+o+o;case 6828:case 4268:return zi+o+Jl+o+o;case 6165:return zi+o+Jl+"flex-"+o+o;case 5187:return zi+o+Gi(o,/(\w+).+(:[^]+)/,zi+"box-$1$2"+Jl+"flex-$1$2")+o;case 5443:return zi+o+Jl+"flex-item-"+Gi(o,/flex-|-self/,"")+o;case 4675:return zi+o+Jl+"flex-line-pack"+Gi(o,/align-content|flex-|-self/,"")+o;case 5548:return zi+o+Jl+Gi(o,"shrink","negative")+o;case 5292:return zi+o+Jl+Gi(o,"basis","preferred-size")+o;case 6060:return zi+"box-"+Gi(o,"-grow","")+zi+o+Jl+Gi(o,"grow","positive")+o;case 4554:return zi+Gi(o,/([^-])(transform)/g,"$1"+zi+"$2")+o;case 6187:return Gi(Gi(Gi(o,/(zoom-|grab)/,zi+"$1"),/(image-set)/,zi+"$1"),o,"")+o;case 5495:case 3959:return Gi(o,/(image-set\([^]*)/,zi+"$1$`$1");case 4968:return Gi(Gi(o,/(.+:)(flex-)?(.*)/,zi+"box-pack:$3"+Jl+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+zi+o+o;case 4095:case 3583:case 4068:case 2532:return Gi(o,/(.+)-inline(.+)/,zi+"$1$2")+o;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Th(o)-1-p>6)switch(Ul(o,p+1)){case 109:if(Ul(o,p+4)!==45)break;case 102:return Gi(o,/(.+:)(.+)-([^]+)/,"$1"+zi+"$2-$3$1"+Rm+(Ul(o,p+3)==108?"$3":"$2-$3"))+o;case 115:return~A1(o,"stretch")?_b(Gi(o,"stretch","fill-available"),p)+o:o}break;case 4949:if(Ul(o,p+1)!==115)break;case 6444:switch(Ul(o,Th(o)-3-(~A1(o,"!important")&&10))){case 107:return Gi(o,":",":"+zi)+o;case 101:return Gi(o,/(.+:)([^;!]+)(;|!.+)?/,"$1"+zi+(Ul(o,14)===45?"inline-":"")+"box$3$1"+zi+"$2$3$1"+Jl+"$2box$3")+o}break;case 5936:switch(Ul(o,p+11)){case 114:return zi+o+Jl+Gi(o,/[svh]\w+-[tblr]{2}/,"tb")+o;case 108:return zi+o+Jl+Gi(o,/[svh]\w+-[tblr]{2}/,"tb-rl")+o;case 45:return zi+o+Jl+Gi(o,/[svh]\w+-[tblr]{2}/,"lr")+o}return zi+o+Jl+o+o}return o}var sM=function(p,d,w,D){if(p.length>-1&&!p.return)switch(p.type){case c_:p.return=_b(p.value,p.length);break;case pb:return vf([Jf(p,{value:Gi(p.value,"@","@"+zi)})],D);case u_:if(p.length)return VT(p.props,function(E){switch(jT(E,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return vf([Jf(p,{props:[Gi(E,/:(read-\w+)/,":"+Rm+"$1")]})],D);case"::placeholder":return vf([Jf(p,{props:[Gi(E,/:(plac\w+)/,":"+zi+"input-$1")]}),Jf(p,{props:[Gi(E,/:(plac\w+)/,":"+Rm+"$1")]}),Jf(p,{props:[Gi(E,/:(plac\w+)/,Jl+"input-$1")]})],D)}return""})}},lM=[sM],uM=function(p){var d=p.key;if(d==="css"){var w=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(w,function(_e){var Pe=_e.getAttribute("data-emotion");Pe.indexOf(" ")!==-1&&(document.head.appendChild(_e),_e.setAttribute("data-s",""))})}var D=p.stylisPlugins||lM,E={},I,s=[];I=p.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+d+' "]'),function(_e){for(var Pe=_e.getAttribute("data-emotion").split(" "),Ze=1;Ze<Pe.length;Ze++)E[Pe[Ze]]=!0;s.push(_e)});var V,q=[aM,oM];{var ue,te=[JT,tM(function(_e){ue.insert(_e)})],ce=eM(q.concat(D,te)),ae=function(Pe){return vf(YT(Pe),ce)};V=function(Pe,Ze,tt,ze){ue=tt,ae(Pe?Pe+"{"+Ze.styles+"}":Ze.styles),ze&&(he.inserted[Ze.name]=!0)}}var he={key:d,sheet:new LT({key:d,container:I,nonce:p.nonce,speedy:p.speedy,prepend:p.prepend,insertionPoint:p.insertionPoint}),nonce:p.nonce,inserted:E,registered:{},insert:V};return he.sheet.hydrate(s),he},Yy={exports:{}},Vi={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zv;function cM(){if(Zv)return Vi;Zv=1;var o=typeof Symbol=="function"&&Symbol.for,p=o?Symbol.for("react.element"):60103,d=o?Symbol.for("react.portal"):60106,w=o?Symbol.for("react.fragment"):60107,D=o?Symbol.for("react.strict_mode"):60108,E=o?Symbol.for("react.profiler"):60114,I=o?Symbol.for("react.provider"):60109,s=o?Symbol.for("react.context"):60110,V=o?Symbol.for("react.async_mode"):60111,q=o?Symbol.for("react.concurrent_mode"):60111,ue=o?Symbol.for("react.forward_ref"):60112,te=o?Symbol.for("react.suspense"):60113,ce=o?Symbol.for("react.suspense_list"):60120,ae=o?Symbol.for("react.memo"):60115,he=o?Symbol.for("react.lazy"):60116,_e=o?Symbol.for("react.block"):60121,Pe=o?Symbol.for("react.fundamental"):60117,Ze=o?Symbol.for("react.responder"):60118,tt=o?Symbol.for("react.scope"):60119;function ze(Ge){if(typeof Ge=="object"&&Ge!==null){var $e=Ge.$$typeof;switch($e){case p:switch(Ge=Ge.type,Ge){case V:case q:case w:case E:case D:case te:return Ge;default:switch(Ge=Ge&&Ge.$$typeof,Ge){case s:case ue:case he:case ae:case I:return Ge;default:return $e}}case d:return $e}}}function Ae(Ge){return ze(Ge)===q}return Vi.AsyncMode=V,Vi.ConcurrentMode=q,Vi.ContextConsumer=s,Vi.ContextProvider=I,Vi.Element=p,Vi.ForwardRef=ue,Vi.Fragment=w,Vi.Lazy=he,Vi.Memo=ae,Vi.Portal=d,Vi.Profiler=E,Vi.StrictMode=D,Vi.Suspense=te,Vi.isAsyncMode=function(Ge){return Ae(Ge)||ze(Ge)===V},Vi.isConcurrentMode=Ae,Vi.isContextConsumer=function(Ge){return ze(Ge)===s},Vi.isContextProvider=function(Ge){return ze(Ge)===I},Vi.isElement=function(Ge){return typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===p},Vi.isForwardRef=function(Ge){return ze(Ge)===ue},Vi.isFragment=function(Ge){return ze(Ge)===w},Vi.isLazy=function(Ge){return ze(Ge)===he},Vi.isMemo=function(Ge){return ze(Ge)===ae},Vi.isPortal=function(Ge){return ze(Ge)===d},Vi.isProfiler=function(Ge){return ze(Ge)===E},Vi.isStrictMode=function(Ge){return ze(Ge)===D},Vi.isSuspense=function(Ge){return ze(Ge)===te},Vi.isValidElementType=function(Ge){return typeof Ge=="string"||typeof Ge=="function"||Ge===w||Ge===q||Ge===E||Ge===D||Ge===te||Ge===ce||typeof Ge=="object"&&Ge!==null&&(Ge.$$typeof===he||Ge.$$typeof===ae||Ge.$$typeof===I||Ge.$$typeof===s||Ge.$$typeof===ue||Ge.$$typeof===Pe||Ge.$$typeof===Ze||Ge.$$typeof===tt||Ge.$$typeof===_e)},Vi.typeOf=ze,Vi}var Wv;function hM(){return Wv||(Wv=1,Yy.exports=cM()),Yy.exports}var Qy,Hv;function pM(){if(Hv)return Qy;Hv=1;var o=hM(),p={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},d={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},w={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},D={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},E={};E[o.ForwardRef]=w,E[o.Memo]=D;function I(he){return o.isMemo(he)?D:E[he.$$typeof]||p}var s=Object.defineProperty,V=Object.getOwnPropertyNames,q=Object.getOwnPropertySymbols,ue=Object.getOwnPropertyDescriptor,te=Object.getPrototypeOf,ce=Object.prototype;function ae(he,_e,Pe){if(typeof _e!="string"){if(ce){var Ze=te(_e);Ze&&Ze!==ce&&ae(he,Ze,Pe)}var tt=V(_e);q&&(tt=tt.concat(q(_e)));for(var ze=I(he),Ae=I(_e),Ge=0;Ge<tt.length;++Ge){var $e=tt[Ge];if(!d[$e]&&!(Pe&&Pe[$e])&&!(Ae&&Ae[$e])&&!(ze&&ze[$e])){var ot=ue(_e,$e);try{s(he,$e,ot)}catch{}}}}return he}return Qy=ae,Qy}pM();var dM=!0;function vb(o,p,d){var w="";return d.split(" ").forEach(function(D){o[D]!==void 0?p.push(o[D]+";"):D&&(w+=D+" ")}),w}var p_=function(p,d,w){var D=p.key+"-"+d.name;(w===!1||dM===!1)&&p.registered[D]===void 0&&(p.registered[D]=d.styles)},d_=function(p,d,w){p_(p,d,w);var D=p.key+"-"+d.name;if(p.inserted[d.name]===void 0){var E=d;do p.insert(d===E?"."+D:"",E,p.sheet,!0),E=E.next;while(E!==void 0)}};function fM(o){for(var p=0,d,w=0,D=o.length;D>=4;++w,D-=4)d=o.charCodeAt(w)&255|(o.charCodeAt(++w)&255)<<8|(o.charCodeAt(++w)&255)<<16|(o.charCodeAt(++w)&255)<<24,d=(d&65535)*1540483477+((d>>>16)*59797<<16),d^=d>>>24,p=(d&65535)*1540483477+((d>>>16)*59797<<16)^(p&65535)*1540483477+((p>>>16)*59797<<16);switch(D){case 3:p^=(o.charCodeAt(w+2)&255)<<16;case 2:p^=(o.charCodeAt(w+1)&255)<<8;case 1:p^=o.charCodeAt(w)&255,p=(p&65535)*1540483477+((p>>>16)*59797<<16)}return p^=p>>>13,p=(p&65535)*1540483477+((p>>>16)*59797<<16),((p^p>>>15)>>>0).toString(36)}var gM={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},mM=/[A-Z]|^ms/g,yM=/_EMO_([^_]+?)_([^]*?)_EMO_/g,xb=function(p){return p.charCodeAt(1)===45},qv=function(p){return p!=null&&typeof p!="boolean"},Jy=yb(function(o){return xb(o)?o:o.replace(mM,"-$&").toLowerCase()}),Kv=function(p,d){switch(p){case"animation":case"animationName":if(typeof d=="string")return d.replace(yM,function(w,D,E){return Mh={name:D,styles:E,next:Mh},D})}return gM[p]!==1&&!xb(p)&&typeof d=="number"&&d!==0?d+"px":d};function _g(o,p,d){if(d==null)return"";var w=d;if(w.__emotion_styles!==void 0)return w;switch(typeof d){case"boolean":return"";case"object":{var D=d;if(D.anim===1)return Mh={name:D.name,styles:D.styles,next:Mh},D.name;var E=d;if(E.styles!==void 0){var I=E.next;if(I!==void 0)for(;I!==void 0;)Mh={name:I.name,styles:I.styles,next:Mh},I=I.next;var s=E.styles+";";return s}return _M(o,p,d)}case"function":{if(o!==void 0){var V=Mh,q=d(o);return Mh=V,_g(o,p,q)}break}}var ue=d;if(p==null)return ue;var te=p[ue];return te!==void 0?te:ue}function _M(o,p,d){var w="";if(Array.isArray(d))for(var D=0;D<d.length;D++)w+=_g(o,p,d[D])+";";else for(var E in d){var I=d[E];if(typeof I!="object"){var s=I;p!=null&&p[s]!==void 0?w+=E+"{"+p[s]+"}":qv(s)&&(w+=Jy(E)+":"+Kv(E,s)+";")}else if(Array.isArray(I)&&typeof I[0]=="string"&&(p==null||p[I[0]]===void 0))for(var V=0;V<I.length;V++)qv(I[V])&&(w+=Jy(E)+":"+Kv(E,I[V])+";");else{var q=_g(o,p,I);switch(E){case"animation":case"animationName":{w+=Jy(E)+":"+q+";";break}default:w+=E+"{"+q+"}"}}}return w}var Xv=/label:\s*([^\s;{]+)\s*(;|$)/g,Mh;function Pg(o,p,d){if(o.length===1&&typeof o[0]=="object"&&o[0]!==null&&o[0].styles!==void 0)return o[0];var w=!0,D="";Mh=void 0;var E=o[0];if(E==null||E.raw===void 0)w=!1,D+=_g(d,p,E);else{var I=E;D+=I[0]}for(var s=1;s<o.length;s++)if(D+=_g(d,p,o[s]),w){var V=E;D+=V[s]}Xv.lastIndex=0;for(var q="",ue;(ue=Xv.exec(D))!==null;)q+="-"+ue[1];var te=fM(D)+q;return{name:te,styles:D,next:Mh}}var vM=function(p){return p()},bb=s1.useInsertionEffect?s1.useInsertionEffect:!1,wb=bb||vM,Yv=bb||He.useLayoutEffect,Cb=He.createContext(typeof HTMLElement<"u"?uM({key:"css"}):null);Cb.Provider;var f_=function(p){return He.forwardRef(function(d,w){var D=He.useContext(Cb);return p(d,D,w)})},ty=He.createContext({}),g_={}.hasOwnProperty,T1="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",xM=function(p,d){var w={};for(var D in d)g_.call(d,D)&&(w[D]=d[D]);return w[T1]=p,w},bM=function(p){var d=p.cache,w=p.serialized,D=p.isStringTag;return p_(d,w,D),wb(function(){return d_(d,w,D)}),null},wM=f_(function(o,p,d){var w=o.css;typeof w=="string"&&p.registered[w]!==void 0&&(w=p.registered[w]);var D=o[T1],E=[w],I="";typeof o.className=="string"?I=vb(p.registered,E,o.className):o.className!=null&&(I=o.className+" ");var s=Pg(E,void 0,He.useContext(ty));I+=p.key+"-"+s.name;var V={};for(var q in o)g_.call(o,q)&&q!=="css"&&q!==T1&&(V[q]=o[q]);return V.className=I,d&&(V.ref=d),He.createElement(He.Fragment,null,He.createElement(bM,{cache:p,serialized:s,isStringTag:typeof D=="string"}),He.createElement(D,V))}),CM=wM,Qv=function(p,d){var w=arguments;if(d==null||!g_.call(d,"css"))return He.createElement.apply(void 0,w);var D=w.length,E=new Array(D);E[0]=CM,E[1]=xM(p,d);for(var I=2;I<D;I++)E[I]=w[I];return He.createElement.apply(null,E)};(function(o){var p;p||(p=o.JSX||(o.JSX={}))})(Qv||(Qv={}));var DM=f_(function(o,p){var d=o.styles,w=Pg([d],void 0,He.useContext(ty)),D=He.useRef();return Yv(function(){var E=p.key+"-global",I=new p.sheet.constructor({key:E,nonce:p.sheet.nonce,container:p.sheet.container,speedy:p.sheet.isSpeedy}),s=!1,V=document.querySelector('style[data-emotion="'+E+" "+w.name+'"]');return p.sheet.tags.length&&(I.before=p.sheet.tags[0]),V!==null&&(s=!0,V.setAttribute("data-emotion",E),I.hydrate([V])),D.current=[I,s],function(){I.flush()}},[p]),Yv(function(){var E=D.current,I=E[0],s=E[1];if(s){E[1]=!1;return}if(w.next!==void 0&&d_(p,w.next,!0),I.tags.length){var V=I.tags[I.tags.length-1].nextElementSibling;I.before=V,I.flush()}p.insert("",w,I,!1)},[p,w.name]),null});function m_(){for(var o=arguments.length,p=new Array(o),d=0;d<o;d++)p[d]=arguments[d];return Pg(p)}function Eg(){var o=m_.apply(void 0,arguments),p="animation-"+o.name;return{name:p,styles:"@keyframes "+p+"{"+o.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var IM=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,AM=yb(function(o){return IM.test(o)||o.charCodeAt(0)===111&&o.charCodeAt(1)===110&&o.charCodeAt(2)<91}),SM=AM,TM=function(p){return p!=="theme"},Jv=function(p){return typeof p=="string"&&p.charCodeAt(0)>96?SM:TM},e2=function(p,d,w){var D;if(d){var E=d.shouldForwardProp;D=p.__emotion_forwardProp&&E?function(I){return p.__emotion_forwardProp(I)&&E(I)}:E}return typeof D!="function"&&w&&(D=p.__emotion_forwardProp),D},MM=function(p){var d=p.cache,w=p.serialized,D=p.isStringTag;return p_(d,w,D),wb(function(){return d_(d,w,D)}),null},PM=function o(p,d){var w=p.__emotion_real===p,D=w&&p.__emotion_base||p,E,I;d!==void 0&&(E=d.label,I=d.target);var s=e2(p,d,w),V=s||Jv(D),q=!V("as");return function(){var ue=arguments,te=w&&p.__emotion_styles!==void 0?p.__emotion_styles.slice(0):[];if(E!==void 0&&te.push("label:"+E+";"),ue[0]==null||ue[0].raw===void 0)te.push.apply(te,ue);else{var ce=ue[0];te.push(ce[0]);for(var ae=ue.length,he=1;he<ae;he++)te.push(ue[he],ce[he])}var _e=f_(function(Pe,Ze,tt){var ze=q&&Pe.as||D,Ae="",Ge=[],$e=Pe;if(Pe.theme==null){$e={};for(var ot in Pe)$e[ot]=Pe[ot];$e.theme=He.useContext(ty)}typeof Pe.className=="string"?Ae=vb(Ze.registered,Ge,Pe.className):Pe.className!=null&&(Ae=Pe.className+" ");var Pt=Pg(te.concat(Ge),Ze.registered,$e);Ae+=Ze.key+"-"+Pt.name,I!==void 0&&(Ae+=" "+I);var Yt=q&&s===void 0?Jv(ze):V,ge={};for(var bt in Pe)q&&bt==="as"||Yt(bt)&&(ge[bt]=Pe[bt]);return ge.className=Ae,tt&&(ge.ref=tt),He.createElement(He.Fragment,null,He.createElement(MM,{cache:Ze,serialized:Pt,isStringTag:typeof ze=="string"}),He.createElement(ze,ge))});return _e.displayName=E!==void 0?E:"Styled("+(typeof D=="string"?D:D.displayName||D.name||"Component")+")",_e.defaultProps=p.defaultProps,_e.__emotion_real=_e,_e.__emotion_base=D,_e.__emotion_styles=te,_e.__emotion_forwardProp=s,Object.defineProperty(_e,"toString",{value:function(){return"."+I}}),_e.withComponent=function(Pe,Ze){var tt=o(Pe,km({},d,Ze,{shouldForwardProp:e2(_e,Ze,!0)}));return tt.apply(void 0,te)},_e}},EM=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],M1=PM.bind(null);EM.forEach(function(o){M1[o]=M1(o)});function kM(o){return o==null||Object.keys(o).length===0}function RM(o){const{styles:p,defaultTheme:d={}}=o,w=typeof p=="function"?D=>p(kM(D)?d:D):p;return $t.jsx(DM,{styles:w})}function UM(o,p){return M1(o,p)}function zM(o,p){Array.isArray(o.__emotion_styles)&&(o.__emotion_styles=p(o.__emotion_styles))}const t2=[];function n2(o){return t2[0]=o,Pg(t2)}const GM=o=>{const p=Object.keys(o).map(d=>({key:d,val:o[d]}))||[];return p.sort((d,w)=>d.val-w.val),p.reduce((d,w)=>({...d,[w.key]:w.val}),{})};function LM(o){const{values:p={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:d="px",step:w=5,...D}=o,E=GM(p),I=Object.keys(E);function s(ce){return`@media (min-width:${typeof p[ce]=="number"?p[ce]:ce}${d})`}function V(ce){return`@media (max-width:${(typeof p[ce]=="number"?p[ce]:ce)-w/100}${d})`}function q(ce,ae){const he=I.indexOf(ae);return`@media (min-width:${typeof p[ce]=="number"?p[ce]:ce}${d}) and (max-width:${(he!==-1&&typeof p[I[he]]=="number"?p[I[he]]:ae)-w/100}${d})`}function ue(ce){return I.indexOf(ce)+1<I.length?q(ce,I[I.indexOf(ce)+1]):s(ce)}function te(ce){const ae=I.indexOf(ce);return ae===0?s(I[1]):ae===I.length-1?V(I[ae]):q(ce,I[I.indexOf(ce)+1]).replace("@media","@media not all and")}return{keys:I,values:E,up:s,down:V,between:q,only:ue,not:te,unit:d,...D}}const BM={borderRadius:4};function Db(o=8,p=s_({spacing:o})){if(o.mui)return o;const d=(...w)=>(w.length===0?[1]:w).map(E=>{const I=p(E);return typeof I=="number"?`${I}px`:I}).join(" ");return d.mui=!0,d}function OM(o,p){var w;const d=this;if(d.vars){if(!((w=d.colorSchemes)!=null&&w[o])||typeof d.getColorSchemeSelector!="function")return{};let D=d.getColorSchemeSelector(o);return D==="&"?p:((D.includes("data-")||D.includes("."))&&(D=`*:where(${D.replace(/\s*&$/,"")}) &`),{[D]:p})}return d.palette.mode===o?p:{}}function y_(o={},...p){const{breakpoints:d={},palette:w={},spacing:D,shape:E={},...I}=o,s=LM(d),V=Db(D);let q=e0({breakpoints:s,direction:"ltr",components:{},palette:{mode:"light",...w},spacing:V,shape:{...BM,...E}},I);return q=VS(q),q.applyStyles=OM,q=p.reduce((ue,te)=>e0(ue,te),q),q.unstable_sxConfig={...Tg,...I==null?void 0:I.unstable_sxConfig},q.unstable_sx=function(te){return xf({sx:te,theme:this})},q}function FM(o){return Object.keys(o).length===0}function NM(o=null){const p=He.useContext(ty);return!p||FM(p)?o:p}const $M=y_();function Ib(o=$M){return NM(o)}function jM({styles:o,themeId:p,defaultTheme:d={}}){const w=Ib(d),D=typeof o=="function"?o(p&&w[p]||w):o;return $t.jsx(RM,{styles:D})}const r2=o=>o,VM=()=>{let o=r2;return{configure(p){o=p},generate(p){return o(p)},reset(){o=r2}}},ZM=VM(),WM={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function ya(o,p,d="Mui"){const w=WM[p];return w?`${d}-${w}`:`${ZM.generate(o)}-${p}`}function Zi(o,p,d="Mui"){const w={};return p.forEach(D=>{w[D]=ya(o,D,d)}),w}function Ab(o){const{variants:p,...d}=o,w={variants:p,style:n2(d),isProcessed:!0};return w.style===d||p&&p.forEach(D=>{typeof D.style!="function"&&(D.style=n2(D.style))}),w}const HM=y_();function e1(o){return o!=="ownerState"&&o!=="theme"&&o!=="sx"&&o!=="as"}function qM(o){return o?(p,d)=>d[o]:null}function KM(o,p,d){o.theme=QM(o.theme)?d:o.theme[p]||o.theme}function Am(o,p){const d=typeof p=="function"?p(o):p;if(Array.isArray(d))return d.flatMap(w=>Am(o,w));if(Array.isArray(d==null?void 0:d.variants)){let w;if(d.isProcessed)w=d.style;else{const{variants:D,...E}=d;w=E}return Sb(o,d.variants,[w])}return d!=null&&d.isProcessed?d.style:d}function Sb(o,p,d=[]){var D;let w;e:for(let E=0;E<p.length;E+=1){const I=p[E];if(typeof I.props=="function"){if(w??(w={...o,...o.ownerState,ownerState:o.ownerState}),!I.props(w))continue}else for(const s in I.props)if(o[s]!==I.props[s]&&((D=o.ownerState)==null?void 0:D[s])!==I.props[s])continue e;typeof I.style=="function"?(w??(w={...o,...o.ownerState,ownerState:o.ownerState}),d.push(I.style(w))):d.push(I.style)}return d}function XM(o={}){const{themeId:p,defaultTheme:d=HM,rootShouldForwardProp:w=e1,slotShouldForwardProp:D=e1}=o;function E(s){KM(s,p,d)}return(s,V={})=>{zM(s,Ge=>Ge.filter($e=>$e!==xf));const{name:q,slot:ue,skipVariantsResolver:te,skipSx:ce,overridesResolver:ae=qM(eP(ue)),...he}=V,_e=te!==void 0?te:ue&&ue!=="Root"&&ue!=="root"||!1,Pe=ce||!1;let Ze=e1;ue==="Root"||ue==="root"?Ze=w:ue?Ze=D:JM(s)&&(Ze=void 0);const tt=UM(s,{shouldForwardProp:Ze,label:YM(),...he}),ze=Ge=>{if(typeof Ge=="function"&&Ge.__emotion_real!==Ge)return function(ot){return Am(ot,Ge)};if(Ph(Ge)){const $e=Ab(Ge);return $e.variants?function(Pt){return Am(Pt,$e)}:$e.style}return Ge},Ae=(...Ge)=>{const $e=[],ot=Ge.map(ze),Pt=[];if($e.push(E),q&&ae&&Pt.push(function(St){var Nt,cn;const Wt=(cn=(Nt=St.theme.components)==null?void 0:Nt[q])==null?void 0:cn.styleOverrides;if(!Wt)return null;const Ft={};for(const yt in Wt)Ft[yt]=Am(St,Wt[yt]);return ae(St,Ft)}),q&&!_e&&Pt.push(function(St){var Ft,Nt;const Bt=St.theme,Wt=(Nt=(Ft=Bt==null?void 0:Bt.components)==null?void 0:Ft[q])==null?void 0:Nt.variants;return Wt?Sb(St,Wt):null}),Pe||Pt.push(xf),Array.isArray(ot[0])){const bt=ot.shift(),St=new Array($e.length).fill(""),Bt=new Array(Pt.length).fill("");let Wt;Wt=[...St,...bt,...Bt],Wt.raw=[...St,...bt.raw,...Bt],$e.unshift(Wt)}const Yt=[...$e,...ot,...Pt],ge=tt(...Yt);return s.muiName&&(ge.muiName=s.muiName),ge};return tt.withConfig&&(Ae.withConfig=tt.withConfig),Ae}}function YM(o,p){return void 0}function QM(o){for(const p in o)return!1;return!0}function JM(o){return typeof o=="string"&&o.charCodeAt(0)>96}function eP(o){return o&&o.charAt(0).toLowerCase()+o.slice(1)}function Um(o,p){const d={...p};for(const w in o)if(Object.prototype.hasOwnProperty.call(o,w)){const D=w;if(D==="components"||D==="slots")d[D]={...o[D],...d[D]};else if(D==="componentsProps"||D==="slotProps"){const E=o[D],I=p[D];if(!I)d[D]=E||{};else if(!E)d[D]=I;else{d[D]={...I};for(const s in E)if(Object.prototype.hasOwnProperty.call(E,s)){const V=s;d[D][V]=Um(E[V],I[V])}}}else d[D]===void 0&&(d[D]=o[D])}return d}const Qp=typeof window<"u"?He.useLayoutEffect:He.useEffect;function tP(o,p=Number.MIN_SAFE_INTEGER,d=Number.MAX_SAFE_INTEGER){return Math.max(p,Math.min(o,d))}function __(o,p=0,d=1){return tP(o,p,d)}function nP(o){o=o.slice(1);const p=new RegExp(`.{1,${o.length>=6?2:1}}`,"g");let d=o.match(p);return d&&d[0].length===1&&(d=d.map(w=>w+w)),d?`rgb${d.length===4?"a":""}(${d.map((w,D)=>D<3?parseInt(w,16):Math.round(parseInt(w,16)/255*1e3)/1e3).join(", ")})`:""}function Jp(o){if(o.type)return o;if(o.charAt(0)==="#")return Jp(nP(o));const p=o.indexOf("("),d=o.substring(0,p);if(!["rgb","rgba","hsl","hsla","color"].includes(d))throw new Error(hp(9,o));let w=o.substring(p+1,o.length-1),D;if(d==="color"){if(w=w.split(" "),D=w.shift(),w.length===4&&w[3].charAt(0)==="/"&&(w[3]=w[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(D))throw new Error(hp(10,D))}else w=w.split(",");return w=w.map(E=>parseFloat(E)),{type:d,values:w,colorSpace:D}}const rP=o=>{const p=Jp(o);return p.values.slice(0,3).map((d,w)=>p.type.includes("hsl")&&w!==0?`${d}%`:d).join(" ")},og=(o,p)=>{try{return rP(o)}catch{return o}};function ny(o){const{type:p,colorSpace:d}=o;let{values:w}=o;return p.includes("rgb")?w=w.map((D,E)=>E<3?parseInt(D,10):D):p.includes("hsl")&&(w[1]=`${w[1]}%`,w[2]=`${w[2]}%`),p.includes("color")?w=`${d} ${w.join(" ")}`:w=`${w.join(", ")}`,`${p}(${w})`}function Tb(o){o=Jp(o);const{values:p}=o,d=p[0],w=p[1]/100,D=p[2]/100,E=w*Math.min(D,1-D),I=(q,ue=(q+d/30)%12)=>D-E*Math.max(Math.min(ue-3,9-ue,1),-1);let s="rgb";const V=[Math.round(I(0)*255),Math.round(I(8)*255),Math.round(I(4)*255)];return o.type==="hsla"&&(s+="a",V.push(p[3])),ny({type:s,values:V})}function P1(o){o=Jp(o);let p=o.type==="hsl"||o.type==="hsla"?Jp(Tb(o)).values:o.values;return p=p.map(d=>(o.type!=="color"&&(d/=255),d<=.03928?d/12.92:((d+.055)/1.055)**2.4)),Number((.2126*p[0]+.7152*p[1]+.0722*p[2]).toFixed(3))}function iP(o,p){const d=P1(o),w=P1(p);return(Math.max(d,w)+.05)/(Math.min(d,w)+.05)}function q0(o,p){return o=Jp(o),p=__(p),(o.type==="rgb"||o.type==="hsl")&&(o.type+="a"),o.type==="color"?o.values[3]=`/${p}`:o.values[3]=p,ny(o)}function pm(o,p,d){try{return q0(o,p)}catch{return o}}function v_(o,p){if(o=Jp(o),p=__(p),o.type.includes("hsl"))o.values[2]*=1-p;else if(o.type.includes("rgb")||o.type.includes("color"))for(let d=0;d<3;d+=1)o.values[d]*=1-p;return ny(o)}function fa(o,p,d){try{return v_(o,p)}catch{return o}}function x_(o,p){if(o=Jp(o),p=__(p),o.type.includes("hsl"))o.values[2]+=(100-o.values[2])*p;else if(o.type.includes("rgb"))for(let d=0;d<3;d+=1)o.values[d]+=(255-o.values[d])*p;else if(o.type.includes("color"))for(let d=0;d<3;d+=1)o.values[d]+=(1-o.values[d])*p;return ny(o)}function ga(o,p,d){try{return x_(o,p)}catch{return o}}function aP(o,p=.15){return P1(o)>.5?v_(o,p):x_(o,p)}function dm(o,p,d){try{return aP(o,p)}catch{return o}}const oP=He.createContext(),sP=()=>He.useContext(oP)??!1,lP=He.createContext(void 0);function uP(o){const{theme:p,name:d,props:w}=o;if(!p||!p.components||!p.components[d])return w;const D=p.components[d];return D.defaultProps?Um(D.defaultProps,w):!D.styleOverrides&&!D.variants?Um(D,w):w}function cP({props:o,name:p}){const d=He.useContext(lP);return uP({props:o,name:p,theme:{components:d}})}const i2={theme:void 0};function hP(o){let p,d;return function(D){let E=p;return(E===void 0||D.theme!==d)&&(i2.theme=D.theme,E=Ab(o(i2)),p=E,d=D.theme),E}}function pP(o=""){function p(...w){if(!w.length)return"";const D=w[0];return typeof D=="string"&&!D.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${o?`${o}-`:""}${D}${p(...w.slice(1))})`:`, ${D}`}return(w,...D)=>`var(--${o?`${o}-`:""}${w}${p(...D)})`}const a2=(o,p,d,w=[])=>{let D=o;p.forEach((E,I)=>{I===p.length-1?Array.isArray(D)?D[Number(E)]=d:D&&typeof D=="object"&&(D[E]=d):D&&typeof D=="object"&&(D[E]||(D[E]=w.includes(E)?[]:{}),D=D[E])})},dP=(o,p,d)=>{function w(D,E=[],I=[]){Object.entries(D).forEach(([s,V])=>{(!d||d&&!d([...E,s]))&&V!=null&&(typeof V=="object"&&Object.keys(V).length>0?w(V,[...E,s],Array.isArray(V)?[...I,s]:I):p([...E,s],V,I))})}w(o)},fP=(o,p)=>typeof p=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(w=>o.includes(w))||o[o.length-1].toLowerCase().includes("opacity")?p:`${p}px`:p;function t1(o,p){const{prefix:d,shouldSkipGeneratingVar:w}=p||{},D={},E={},I={};return dP(o,(s,V,q)=>{if((typeof V=="string"||typeof V=="number")&&(!w||!w(s,V))){const ue=`--${d?`${d}-`:""}${s.join("-")}`,te=fP(s,V);Object.assign(D,{[ue]:te}),a2(E,s,`var(${ue})`,q),a2(I,s,`var(${ue}, ${te})`,q)}},s=>s[0]==="vars"),{css:D,vars:E,varsWithDefaults:I}}function gP(o,p={}){const{getSelector:d=Pe,disableCssColorScheme:w,colorSchemeSelector:D}=p,{colorSchemes:E={},components:I,defaultColorScheme:s="light",...V}=o,{vars:q,css:ue,varsWithDefaults:te}=t1(V,p);let ce=te;const ae={},{[s]:he,..._e}=E;if(Object.entries(_e||{}).forEach(([ze,Ae])=>{const{vars:Ge,css:$e,varsWithDefaults:ot}=t1(Ae,p);ce=e0(ce,ot),ae[ze]={css:$e,vars:Ge}}),he){const{css:ze,vars:Ae,varsWithDefaults:Ge}=t1(he,p);ce=e0(ce,Ge),ae[s]={css:ze,vars:Ae}}function Pe(ze,Ae){var $e,ot;let Ge=D;if(D==="class"&&(Ge=".%s"),D==="data"&&(Ge="[data-%s]"),D!=null&&D.startsWith("data-")&&!D.includes("%s")&&(Ge=`[${D}="%s"]`),ze){if(Ge==="media")return o.defaultColorScheme===ze?":root":{[`@media (prefers-color-scheme: ${((ot=($e=E[ze])==null?void 0:$e.palette)==null?void 0:ot.mode)||ze})`]:{":root":Ae}};if(Ge)return o.defaultColorScheme===ze?`:root, ${Ge.replace("%s",String(ze))}`:Ge.replace("%s",String(ze))}return":root"}return{vars:ce,generateThemeVars:()=>{let ze={...q};return Object.entries(ae).forEach(([,{vars:Ae}])=>{ze=e0(ze,Ae)}),ze},generateStyleSheets:()=>{var Pt,Yt;const ze=[],Ae=o.defaultColorScheme||"light";function Ge(ge,bt){Object.keys(bt).length&&ze.push(typeof ge=="string"?{[ge]:{...bt}}:ge)}Ge(d(void 0,{...ue}),ue);const{[Ae]:$e,...ot}=ae;if($e){const{css:ge}=$e,bt=(Yt=(Pt=E[Ae])==null?void 0:Pt.palette)==null?void 0:Yt.mode,St=!w&&bt?{colorScheme:bt,...ge}:{...ge};Ge(d(Ae,{...St}),St)}return Object.entries(ot).forEach(([ge,{css:bt}])=>{var Wt,Ft;const St=(Ft=(Wt=E[ge])==null?void 0:Wt.palette)==null?void 0:Ft.mode,Bt=!w&&St?{colorScheme:St,...bt}:{...bt};Ge(d(ge,{...Bt}),Bt)}),ze}}}function mP(o){return function(d){return o==="media"?`@media (prefers-color-scheme: ${d})`:o?o.startsWith("data-")&&!o.includes("%s")?`[${o}="${d}"] &`:o==="class"?`.${d} &`:o==="data"?`[data-${d}] &`:`${o.replace("%s",d)} &`:"&"}}function n1(o,p){var d,w,D;return He.isValidElement(o)&&p.indexOf(o.type.muiName??((D=(w=(d=o.type)==null?void 0:d._payload)==null?void 0:w.value)==null?void 0:D.muiName))!==-1}const vg={black:"#000",white:"#fff"},yP={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},uf={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},cf={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},eg={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},hf={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},pf={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},df={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function Mb(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:vg.white,default:vg.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const _P=Mb();function Pb(){return{text:{primary:vg.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:vg.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const o2=Pb();function s2(o,p,d,w){const D=w.light||w,E=w.dark||w*1.5;o[p]||(o.hasOwnProperty(d)?o[p]=o[d]:p==="light"?o.light=x_(o.main,D):p==="dark"&&(o.dark=v_(o.main,E)))}function vP(o="light"){return o==="dark"?{main:hf[200],light:hf[50],dark:hf[400]}:{main:hf[700],light:hf[400],dark:hf[800]}}function xP(o="light"){return o==="dark"?{main:uf[200],light:uf[50],dark:uf[400]}:{main:uf[500],light:uf[300],dark:uf[700]}}function bP(o="light"){return o==="dark"?{main:cf[500],light:cf[300],dark:cf[700]}:{main:cf[700],light:cf[400],dark:cf[800]}}function wP(o="light"){return o==="dark"?{main:pf[400],light:pf[300],dark:pf[700]}:{main:pf[700],light:pf[500],dark:pf[900]}}function CP(o="light"){return o==="dark"?{main:df[400],light:df[300],dark:df[700]}:{main:df[800],light:df[500],dark:df[900]}}function DP(o="light"){return o==="dark"?{main:eg[400],light:eg[300],dark:eg[700]}:{main:"#ed6c02",light:eg[500],dark:eg[900]}}function b_(o){const{mode:p="light",contrastThreshold:d=3,tonalOffset:w=.2,...D}=o,E=o.primary||vP(p),I=o.secondary||xP(p),s=o.error||bP(p),V=o.info||wP(p),q=o.success||CP(p),ue=o.warning||DP(p);function te(_e){return iP(_e,o2.text.primary)>=d?o2.text.primary:_P.text.primary}const ce=({color:_e,name:Pe,mainShade:Ze=500,lightShade:tt=300,darkShade:ze=700})=>{if(_e={..._e},!_e.main&&_e[Ze]&&(_e.main=_e[Ze]),!_e.hasOwnProperty("main"))throw new Error(hp(11,Pe?` (${Pe})`:"",Ze));if(typeof _e.main!="string")throw new Error(hp(12,Pe?` (${Pe})`:"",JSON.stringify(_e.main)));return s2(_e,"light",tt,w),s2(_e,"dark",ze,w),_e.contrastText||(_e.contrastText=te(_e.main)),_e};let ae;return p==="light"?ae=Mb():p==="dark"&&(ae=Pb()),e0({common:{...vg},mode:p,primary:ce({color:E,name:"primary"}),secondary:ce({color:I,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:ce({color:s,name:"error"}),warning:ce({color:ue,name:"warning"}),info:ce({color:V,name:"info"}),success:ce({color:q,name:"success"}),grey:yP,contrastThreshold:d,getContrastText:te,augmentColor:ce,tonalOffset:w,...ae},D)}function IP(o){const p={};return Object.entries(o).forEach(w=>{const[D,E]=w;typeof E=="object"&&(p[D]=`${E.fontStyle?`${E.fontStyle} `:""}${E.fontVariant?`${E.fontVariant} `:""}${E.fontWeight?`${E.fontWeight} `:""}${E.fontStretch?`${E.fontStretch} `:""}${E.fontSize||""}${E.lineHeight?`/${E.lineHeight} `:""}${E.fontFamily||""}`)}),p}function AP(o,p){return{toolbar:{minHeight:56,[o.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[o.up("sm")]:{minHeight:64}},...p}}function SP(o){return Math.round(o*1e5)/1e5}const l2={textTransform:"uppercase"},u2='"Roboto", "Helvetica", "Arial", sans-serif';function TP(o,p){const{fontFamily:d=u2,fontSize:w=14,fontWeightLight:D=300,fontWeightRegular:E=400,fontWeightMedium:I=500,fontWeightBold:s=700,htmlFontSize:V=16,allVariants:q,pxToRem:ue,...te}=typeof p=="function"?p(o):p,ce=w/14,ae=ue||(Pe=>`${Pe/V*ce}rem`),he=(Pe,Ze,tt,ze,Ae)=>({fontFamily:d,fontWeight:Pe,fontSize:ae(Ze),lineHeight:tt,...d===u2?{letterSpacing:`${SP(ze/Ze)}em`}:{},...Ae,...q}),_e={h1:he(D,96,1.167,-1.5),h2:he(D,60,1.2,-.5),h3:he(E,48,1.167,0),h4:he(E,34,1.235,.25),h5:he(E,24,1.334,0),h6:he(I,20,1.6,.15),subtitle1:he(E,16,1.75,.15),subtitle2:he(I,14,1.57,.1),body1:he(E,16,1.5,.15),body2:he(E,14,1.43,.15),button:he(I,14,1.75,.4,l2),caption:he(E,12,1.66,.4),overline:he(E,12,2.66,1,l2),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return e0({htmlFontSize:V,pxToRem:ae,fontFamily:d,fontSize:w,fontWeightLight:D,fontWeightRegular:E,fontWeightMedium:I,fontWeightBold:s,..._e},te,{clone:!1})}const MP=.2,PP=.14,EP=.12;function Za(...o){return[`${o[0]}px ${o[1]}px ${o[2]}px ${o[3]}px rgba(0,0,0,${MP})`,`${o[4]}px ${o[5]}px ${o[6]}px ${o[7]}px rgba(0,0,0,${PP})`,`${o[8]}px ${o[9]}px ${o[10]}px ${o[11]}px rgba(0,0,0,${EP})`].join(",")}const kP=["none",Za(0,2,1,-1,0,1,1,0,0,1,3,0),Za(0,3,1,-2,0,2,2,0,0,1,5,0),Za(0,3,3,-2,0,3,4,0,0,1,8,0),Za(0,2,4,-1,0,4,5,0,0,1,10,0),Za(0,3,5,-1,0,5,8,0,0,1,14,0),Za(0,3,5,-1,0,6,10,0,0,1,18,0),Za(0,4,5,-2,0,7,10,1,0,2,16,1),Za(0,5,5,-3,0,8,10,1,0,3,14,2),Za(0,5,6,-3,0,9,12,1,0,3,16,2),Za(0,6,6,-3,0,10,14,1,0,4,18,3),Za(0,6,7,-4,0,11,15,1,0,4,20,3),Za(0,7,8,-4,0,12,17,2,0,5,22,4),Za(0,7,8,-4,0,13,19,2,0,5,24,4),Za(0,7,9,-4,0,14,21,2,0,5,26,4),Za(0,8,9,-5,0,15,22,2,0,6,28,5),Za(0,8,10,-5,0,16,24,2,0,6,30,5),Za(0,8,11,-5,0,17,26,2,0,6,32,5),Za(0,9,11,-5,0,18,28,2,0,7,34,6),Za(0,9,12,-6,0,19,29,2,0,7,36,6),Za(0,10,13,-6,0,20,31,3,0,8,38,7),Za(0,10,13,-6,0,21,33,3,0,8,40,7),Za(0,10,14,-6,0,22,35,3,0,8,42,7),Za(0,11,14,-7,0,23,36,3,0,9,44,8),Za(0,11,15,-7,0,24,38,3,0,9,46,8)],RP={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},UP={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function c2(o){return`${Math.round(o)}ms`}function zP(o){if(!o)return 0;const p=o/36;return Math.min(Math.round((4+15*p**.25+p/5)*10),3e3)}function GP(o){const p={...RP,...o.easing},d={...UP,...o.duration};return{getAutoHeightDuration:zP,create:(D=["all"],E={})=>{const{duration:I=d.standard,easing:s=p.easeInOut,delay:V=0,...q}=E;return(Array.isArray(D)?D:[D]).map(ue=>`${ue} ${typeof I=="string"?I:c2(I)} ${s} ${typeof V=="string"?V:c2(V)}`).join(",")},...o,easing:p,duration:d}}const LP={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function BP(o){return Ph(o)||typeof o>"u"||typeof o=="string"||typeof o=="boolean"||typeof o=="number"||Array.isArray(o)}function Eb(o={}){const p={...o};function d(w){const D=Object.entries(w);for(let E=0;E<D.length;E++){const[I,s]=D[E];!BP(s)||I.startsWith("unstable_")?delete w[I]:Ph(s)&&(w[I]={...s},d(w[I]))}}return d(p),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(p,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function E1(o={},...p){const{breakpoints:d,mixins:w={},spacing:D,palette:E={},transitions:I={},typography:s={},shape:V,...q}=o;if(o.vars&&o.generateThemeVars===void 0)throw new Error(hp(20));const ue=b_(E),te=y_(o);let ce=e0(te,{mixins:AP(te.breakpoints,w),palette:ue,shadows:kP.slice(),typography:TP(ue,s),transitions:GP(I),zIndex:{...LP}});return ce=e0(ce,q),ce=p.reduce((ae,he)=>e0(ae,he),ce),ce.unstable_sxConfig={...Tg,...q==null?void 0:q.unstable_sxConfig},ce.unstable_sx=function(he){return xf({sx:he,theme:this})},ce.toRuntimeSource=Eb,ce}function k1(o){let p;return o<1?p=5.11916*o**2:p=4.5*Math.log(o+1)+2,Math.round(p*10)/1e3}const OP=[...Array(25)].map((o,p)=>{if(p===0)return"none";const d=k1(p);return`linear-gradient(rgba(255 255 255 / ${d}), rgba(255 255 255 / ${d}))`});function kb(o){return{inputPlaceholder:o==="dark"?.5:.42,inputUnderline:o==="dark"?.7:.42,switchTrackDisabled:o==="dark"?.2:.12,switchTrack:o==="dark"?.3:.38}}function Rb(o){return o==="dark"?OP:[]}function FP(o){const{palette:p={mode:"light"},opacity:d,overlays:w,...D}=o,E=b_(p);return{palette:E,opacity:{...kb(E.mode),...d},overlays:w||Rb(E.mode),...D}}function NP(o){var p;return!!o[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!o[0].match(/sxConfig$/)||o[0]==="palette"&&!!((p=o[1])!=null&&p.match(/(mode|contrastThreshold|tonalOffset)/))}const $P=o=>[...[...Array(25)].map((p,d)=>`--${o?`${o}-`:""}overlays-${d}`),`--${o?`${o}-`:""}palette-AppBar-darkBg`,`--${o?`${o}-`:""}palette-AppBar-darkColor`],jP=o=>(p,d)=>{const w=o.rootSelector||":root",D=o.colorSchemeSelector;let E=D;if(D==="class"&&(E=".%s"),D==="data"&&(E="[data-%s]"),D!=null&&D.startsWith("data-")&&!D.includes("%s")&&(E=`[${D}="%s"]`),o.defaultColorScheme===p){if(p==="dark"){const I={};return $P(o.cssVarPrefix).forEach(s=>{I[s]=d[s],delete d[s]}),E==="media"?{[w]:d,"@media (prefers-color-scheme: dark)":{[w]:I}}:E?{[E.replace("%s",p)]:I,[`${w}, ${E.replace("%s",p)}`]:d}:{[w]:{...d,...I}}}if(E&&E!=="media")return`${w}, ${E.replace("%s",String(p))}`}else if(p){if(E==="media")return{[`@media (prefers-color-scheme: ${String(p)})`]:{[w]:d}};if(E)return E.replace("%s",String(p))}return w};function VP(o,p){p.forEach(d=>{o[d]||(o[d]={})})}function Vt(o,p,d){!o[p]&&d&&(o[p]=d)}function sg(o){return typeof o!="string"||!o.startsWith("hsl")?o:Tb(o)}function up(o,p){`${p}Channel`in o||(o[`${p}Channel`]=og(sg(o[p])))}function ZP(o){return typeof o=="number"?`${o}px`:typeof o=="string"||typeof o=="function"||Array.isArray(o)?o:"8px"}const Ah=o=>{try{return o()}catch{}},WP=(o="mui")=>pP(o);function r1(o,p,d,w){if(!p)return;p=p===!0?{}:p;const D=w==="dark"?"dark":"light";if(!d){o[w]=FP({...p,palette:{mode:D,...p==null?void 0:p.palette}});return}const{palette:E,...I}=E1({...d,palette:{mode:D,...p==null?void 0:p.palette}});return o[w]={...p,palette:E,opacity:{...kb(D),...p==null?void 0:p.opacity},overlays:(p==null?void 0:p.overlays)||Rb(D)},I}function HP(o={},...p){const{colorSchemes:d={light:!0},defaultColorScheme:w,disableCssColorScheme:D=!1,cssVarPrefix:E="mui",shouldSkipGeneratingVar:I=NP,colorSchemeSelector:s=d.light&&d.dark?"media":void 0,rootSelector:V=":root",...q}=o,ue=Object.keys(d)[0],te=w||(d.light&&ue!=="light"?"light":ue),ce=WP(E),{[te]:ae,light:he,dark:_e,...Pe}=d,Ze={...Pe};let tt=ae;if((te==="dark"&&!("dark"in d)||te==="light"&&!("light"in d))&&(tt=!0),!tt)throw new Error(hp(21,te));const ze=r1(Ze,tt,q,te);he&&!Ze.light&&r1(Ze,he,void 0,"light"),_e&&!Ze.dark&&r1(Ze,_e,void 0,"dark");let Ae={defaultColorScheme:te,...ze,cssVarPrefix:E,colorSchemeSelector:s,rootSelector:V,getCssVar:ce,colorSchemes:Ze,font:{...IP(ze.typography),...ze.font},spacing:ZP(q.spacing)};Object.keys(Ae.colorSchemes).forEach(Yt=>{const ge=Ae.colorSchemes[Yt].palette,bt=St=>{const Bt=St.split("-"),Wt=Bt[1],Ft=Bt[2];return ce(St,ge[Wt][Ft])};if(ge.mode==="light"&&(Vt(ge.common,"background","#fff"),Vt(ge.common,"onBackground","#000")),ge.mode==="dark"&&(Vt(ge.common,"background","#000"),Vt(ge.common,"onBackground","#fff")),VP(ge,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),ge.mode==="light"){Vt(ge.Alert,"errorColor",fa(ge.error.light,.6)),Vt(ge.Alert,"infoColor",fa(ge.info.light,.6)),Vt(ge.Alert,"successColor",fa(ge.success.light,.6)),Vt(ge.Alert,"warningColor",fa(ge.warning.light,.6)),Vt(ge.Alert,"errorFilledBg",bt("palette-error-main")),Vt(ge.Alert,"infoFilledBg",bt("palette-info-main")),Vt(ge.Alert,"successFilledBg",bt("palette-success-main")),Vt(ge.Alert,"warningFilledBg",bt("palette-warning-main")),Vt(ge.Alert,"errorFilledColor",Ah(()=>ge.getContrastText(ge.error.main))),Vt(ge.Alert,"infoFilledColor",Ah(()=>ge.getContrastText(ge.info.main))),Vt(ge.Alert,"successFilledColor",Ah(()=>ge.getContrastText(ge.success.main))),Vt(ge.Alert,"warningFilledColor",Ah(()=>ge.getContrastText(ge.warning.main))),Vt(ge.Alert,"errorStandardBg",ga(ge.error.light,.9)),Vt(ge.Alert,"infoStandardBg",ga(ge.info.light,.9)),Vt(ge.Alert,"successStandardBg",ga(ge.success.light,.9)),Vt(ge.Alert,"warningStandardBg",ga(ge.warning.light,.9)),Vt(ge.Alert,"errorIconColor",bt("palette-error-main")),Vt(ge.Alert,"infoIconColor",bt("palette-info-main")),Vt(ge.Alert,"successIconColor",bt("palette-success-main")),Vt(ge.Alert,"warningIconColor",bt("palette-warning-main")),Vt(ge.AppBar,"defaultBg",bt("palette-grey-100")),Vt(ge.Avatar,"defaultBg",bt("palette-grey-400")),Vt(ge.Button,"inheritContainedBg",bt("palette-grey-300")),Vt(ge.Button,"inheritContainedHoverBg",bt("palette-grey-A100")),Vt(ge.Chip,"defaultBorder",bt("palette-grey-400")),Vt(ge.Chip,"defaultAvatarColor",bt("palette-grey-700")),Vt(ge.Chip,"defaultIconColor",bt("palette-grey-700")),Vt(ge.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Vt(ge.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Vt(ge.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Vt(ge.LinearProgress,"primaryBg",ga(ge.primary.main,.62)),Vt(ge.LinearProgress,"secondaryBg",ga(ge.secondary.main,.62)),Vt(ge.LinearProgress,"errorBg",ga(ge.error.main,.62)),Vt(ge.LinearProgress,"infoBg",ga(ge.info.main,.62)),Vt(ge.LinearProgress,"successBg",ga(ge.success.main,.62)),Vt(ge.LinearProgress,"warningBg",ga(ge.warning.main,.62)),Vt(ge.Skeleton,"bg",`rgba(${bt("palette-text-primaryChannel")} / 0.11)`),Vt(ge.Slider,"primaryTrack",ga(ge.primary.main,.62)),Vt(ge.Slider,"secondaryTrack",ga(ge.secondary.main,.62)),Vt(ge.Slider,"errorTrack",ga(ge.error.main,.62)),Vt(ge.Slider,"infoTrack",ga(ge.info.main,.62)),Vt(ge.Slider,"successTrack",ga(ge.success.main,.62)),Vt(ge.Slider,"warningTrack",ga(ge.warning.main,.62));const St=dm(ge.background.default,.8);Vt(ge.SnackbarContent,"bg",St),Vt(ge.SnackbarContent,"color",Ah(()=>ge.getContrastText(St))),Vt(ge.SpeedDialAction,"fabHoverBg",dm(ge.background.paper,.15)),Vt(ge.StepConnector,"border",bt("palette-grey-400")),Vt(ge.StepContent,"border",bt("palette-grey-400")),Vt(ge.Switch,"defaultColor",bt("palette-common-white")),Vt(ge.Switch,"defaultDisabledColor",bt("palette-grey-100")),Vt(ge.Switch,"primaryDisabledColor",ga(ge.primary.main,.62)),Vt(ge.Switch,"secondaryDisabledColor",ga(ge.secondary.main,.62)),Vt(ge.Switch,"errorDisabledColor",ga(ge.error.main,.62)),Vt(ge.Switch,"infoDisabledColor",ga(ge.info.main,.62)),Vt(ge.Switch,"successDisabledColor",ga(ge.success.main,.62)),Vt(ge.Switch,"warningDisabledColor",ga(ge.warning.main,.62)),Vt(ge.TableCell,"border",ga(pm(ge.divider,1),.88)),Vt(ge.Tooltip,"bg",pm(ge.grey[700],.92))}if(ge.mode==="dark"){Vt(ge.Alert,"errorColor",ga(ge.error.light,.6)),Vt(ge.Alert,"infoColor",ga(ge.info.light,.6)),Vt(ge.Alert,"successColor",ga(ge.success.light,.6)),Vt(ge.Alert,"warningColor",ga(ge.warning.light,.6)),Vt(ge.Alert,"errorFilledBg",bt("palette-error-dark")),Vt(ge.Alert,"infoFilledBg",bt("palette-info-dark")),Vt(ge.Alert,"successFilledBg",bt("palette-success-dark")),Vt(ge.Alert,"warningFilledBg",bt("palette-warning-dark")),Vt(ge.Alert,"errorFilledColor",Ah(()=>ge.getContrastText(ge.error.dark))),Vt(ge.Alert,"infoFilledColor",Ah(()=>ge.getContrastText(ge.info.dark))),Vt(ge.Alert,"successFilledColor",Ah(()=>ge.getContrastText(ge.success.dark))),Vt(ge.Alert,"warningFilledColor",Ah(()=>ge.getContrastText(ge.warning.dark))),Vt(ge.Alert,"errorStandardBg",fa(ge.error.light,.9)),Vt(ge.Alert,"infoStandardBg",fa(ge.info.light,.9)),Vt(ge.Alert,"successStandardBg",fa(ge.success.light,.9)),Vt(ge.Alert,"warningStandardBg",fa(ge.warning.light,.9)),Vt(ge.Alert,"errorIconColor",bt("palette-error-main")),Vt(ge.Alert,"infoIconColor",bt("palette-info-main")),Vt(ge.Alert,"successIconColor",bt("palette-success-main")),Vt(ge.Alert,"warningIconColor",bt("palette-warning-main")),Vt(ge.AppBar,"defaultBg",bt("palette-grey-900")),Vt(ge.AppBar,"darkBg",bt("palette-background-paper")),Vt(ge.AppBar,"darkColor",bt("palette-text-primary")),Vt(ge.Avatar,"defaultBg",bt("palette-grey-600")),Vt(ge.Button,"inheritContainedBg",bt("palette-grey-800")),Vt(ge.Button,"inheritContainedHoverBg",bt("palette-grey-700")),Vt(ge.Chip,"defaultBorder",bt("palette-grey-700")),Vt(ge.Chip,"defaultAvatarColor",bt("palette-grey-300")),Vt(ge.Chip,"defaultIconColor",bt("palette-grey-300")),Vt(ge.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Vt(ge.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Vt(ge.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Vt(ge.LinearProgress,"primaryBg",fa(ge.primary.main,.5)),Vt(ge.LinearProgress,"secondaryBg",fa(ge.secondary.main,.5)),Vt(ge.LinearProgress,"errorBg",fa(ge.error.main,.5)),Vt(ge.LinearProgress,"infoBg",fa(ge.info.main,.5)),Vt(ge.LinearProgress,"successBg",fa(ge.success.main,.5)),Vt(ge.LinearProgress,"warningBg",fa(ge.warning.main,.5)),Vt(ge.Skeleton,"bg",`rgba(${bt("palette-text-primaryChannel")} / 0.13)`),Vt(ge.Slider,"primaryTrack",fa(ge.primary.main,.5)),Vt(ge.Slider,"secondaryTrack",fa(ge.secondary.main,.5)),Vt(ge.Slider,"errorTrack",fa(ge.error.main,.5)),Vt(ge.Slider,"infoTrack",fa(ge.info.main,.5)),Vt(ge.Slider,"successTrack",fa(ge.success.main,.5)),Vt(ge.Slider,"warningTrack",fa(ge.warning.main,.5));const St=dm(ge.background.default,.98);Vt(ge.SnackbarContent,"bg",St),Vt(ge.SnackbarContent,"color",Ah(()=>ge.getContrastText(St))),Vt(ge.SpeedDialAction,"fabHoverBg",dm(ge.background.paper,.15)),Vt(ge.StepConnector,"border",bt("palette-grey-600")),Vt(ge.StepContent,"border",bt("palette-grey-600")),Vt(ge.Switch,"defaultColor",bt("palette-grey-300")),Vt(ge.Switch,"defaultDisabledColor",bt("palette-grey-600")),Vt(ge.Switch,"primaryDisabledColor",fa(ge.primary.main,.55)),Vt(ge.Switch,"secondaryDisabledColor",fa(ge.secondary.main,.55)),Vt(ge.Switch,"errorDisabledColor",fa(ge.error.main,.55)),Vt(ge.Switch,"infoDisabledColor",fa(ge.info.main,.55)),Vt(ge.Switch,"successDisabledColor",fa(ge.success.main,.55)),Vt(ge.Switch,"warningDisabledColor",fa(ge.warning.main,.55)),Vt(ge.TableCell,"border",fa(pm(ge.divider,1),.68)),Vt(ge.Tooltip,"bg",pm(ge.grey[700],.92))}up(ge.background,"default"),up(ge.background,"paper"),up(ge.common,"background"),up(ge.common,"onBackground"),up(ge,"divider"),Object.keys(ge).forEach(St=>{const Bt=ge[St];St!=="tonalOffset"&&Bt&&typeof Bt=="object"&&(Bt.main&&Vt(ge[St],"mainChannel",og(sg(Bt.main))),Bt.light&&Vt(ge[St],"lightChannel",og(sg(Bt.light))),Bt.dark&&Vt(ge[St],"darkChannel",og(sg(Bt.dark))),Bt.contrastText&&Vt(ge[St],"contrastTextChannel",og(sg(Bt.contrastText))),St==="text"&&(up(ge[St],"primary"),up(ge[St],"secondary")),St==="action"&&(Bt.active&&up(ge[St],"active"),Bt.selected&&up(ge[St],"selected")))})}),Ae=p.reduce((Yt,ge)=>e0(Yt,ge),Ae);const Ge={prefix:E,disableCssColorScheme:D,shouldSkipGeneratingVar:I,getSelector:jP(Ae)},{vars:$e,generateThemeVars:ot,generateStyleSheets:Pt}=gP(Ae,Ge);return Ae.vars=$e,Object.entries(Ae.colorSchemes[Ae.defaultColorScheme]).forEach(([Yt,ge])=>{Ae[Yt]=ge}),Ae.generateThemeVars=ot,Ae.generateStyleSheets=Pt,Ae.generateSpacing=function(){return Db(q.spacing,s_(this))},Ae.getColorSchemeSelector=mP(s),Ae.spacing=Ae.generateSpacing(),Ae.shouldSkipGeneratingVar=I,Ae.unstable_sxConfig={...Tg,...q==null?void 0:q.unstable_sxConfig},Ae.unstable_sx=function(ge){return xf({sx:ge,theme:this})},Ae.toRuntimeSource=Eb,Ae}function h2(o,p,d){o.colorSchemes&&d&&(o.colorSchemes[p]={...d!==!0&&d,palette:b_({...d===!0?{}:d.palette,mode:p})})}function qP(o={},...p){const{palette:d,cssVariables:w=!1,colorSchemes:D=d?void 0:{light:!0},defaultColorScheme:E=d==null?void 0:d.mode,...I}=o,s=E||"light",V=D==null?void 0:D[s],q={...D,...d?{[s]:{...typeof V!="boolean"&&V,palette:d}}:void 0};if(w===!1){if(!("colorSchemes"in o))return E1(o,...p);let ue=d;"palette"in o||q[s]&&(q[s]!==!0?ue=q[s].palette:s==="dark"&&(ue={mode:"dark"}));const te=E1({...o,palette:ue},...p);return te.defaultColorScheme=s,te.colorSchemes=q,te.palette.mode==="light"&&(te.colorSchemes.light={...q.light!==!0&&q.light,palette:te.palette},h2(te,"dark",q.dark)),te.palette.mode==="dark"&&(te.colorSchemes.dark={...q.dark!==!0&&q.dark,palette:te.palette},h2(te,"light",q.light)),te}return!d&&!("light"in q)&&s==="light"&&(q.light=!0),HP({...I,colorSchemes:q,defaultColorScheme:s,...typeof w!="boolean"&&w},...p)}const w_=qP(),C_="$$material";function D_(){const o=Ib(w_);return o[C_]||o}function KP(o){return $t.jsx(jM,{...o,defaultTheme:w_,themeId:C_})}function Ub(o){return o!=="ownerState"&&o!=="theme"&&o!=="sx"&&o!=="as"}const x0=o=>Ub(o)&&o!=="classes",rr=XM({themeId:C_,defaultTheme:w_,rootShouldForwardProp:x0});function XP(o){return function(d){return $t.jsx(KP,{styles:typeof o=="function"?w=>o({theme:w,...d}):o})}}function YP(){return UT}const Wa=hP;function QP(o){return typeof o.main=="string"}function JP(o,p=[]){if(!QP(o))return!1;for(const d of p)if(!o.hasOwnProperty(d)||typeof o[d]!="string")return!1;return!0}function dp(o=[]){return([,p])=>p&&JP(p,o)}function Ha(o){return cP(o)}function eE(o){return ya("MuiFormLabel",o)}const fg=Zi("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),tE=o=>{const{classes:p,color:d,focused:w,disabled:D,error:E,filled:I,required:s}=o,V={root:["root",`color${kr(d)}`,D&&"disabled",E&&"error",I&&"filled",w&&"focused",s&&"required"],asterisk:["asterisk",E&&"error"]};return ma(V,eE,p)},nE=rr("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(o,p)=>{const{ownerState:d}=o;return[p.root,d.color==="secondary"&&p.colorSecondary,d.filled&&p.filled]}})(Wa(({theme:o})=>({color:(o.vars||o).palette.text.secondary,...o.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(o.palette).filter(dp()).map(([p])=>({props:{color:p},style:{[`&.${fg.focused}`]:{color:(o.vars||o).palette[p].main}}})),{props:{},style:{[`&.${fg.disabled}`]:{color:(o.vars||o).palette.text.disabled},[`&.${fg.error}`]:{color:(o.vars||o).palette.error.main}}}]}))),rE=rr("span",{name:"MuiFormLabel",slot:"Asterisk"})(Wa(({theme:o})=>({[`&.${fg.error}`]:{color:(o.vars||o).palette.error.main}}))),zb=He.forwardRef(function(p,d){const w=Ha({props:p,name:"MuiFormLabel"}),{children:D,className:E,color:I,component:s="label",disabled:V,error:q,filled:ue,focused:te,required:ce,...ae}=w,he=yp(),_e=Ld({props:w,muiFormControl:he,states:["color","required","focused","disabled","error","filled"]}),Pe={...w,color:_e.color||"primary",component:s,disabled:_e.disabled,error:_e.error,filled:_e.filled,focused:_e.focused,required:_e.required},Ze=tE(Pe);return $t.jsxs(nE,{as:s,ownerState:Pe,className:Br(Ze.root,E),ref:d,...ae,children:[D,_e.required&&$t.jsxs(rE,{ownerState:Pe,"aria-hidden":!0,className:Ze.asterisk,children:[" ","*"]})]})});function iE(o){return ya("MuiInputLabel",o)}Zi("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const aE=o=>{const{classes:p,formControl:d,size:w,shrink:D,disableAnimation:E,variant:I,required:s}=o,V={root:["root",d&&"formControl",!E&&"animated",D&&"shrink",w&&w!=="medium"&&`size${kr(w)}`,I],asterisk:[s&&"asterisk"]},q=ma(V,iE,p);return{...p,...q}},oE=rr(zb,{shouldForwardProp:o=>x0(o)||o==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(o,p)=>{const{ownerState:d}=o;return[{[`& .${fg.asterisk}`]:p.asterisk},p.root,d.formControl&&p.formControl,d.size==="small"&&p.sizeSmall,d.shrink&&p.shrink,!d.disableAnimation&&p.animated,d.focused&&p.focused,p[d.variant]]}})(Wa(({theme:o})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:p})=>p.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:p})=>p.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:p})=>!p.disableAnimation,style:{transition:o.transitions.create(["color","transform","max-width"],{duration:o.transitions.duration.shorter,easing:o.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:p,ownerState:d})=>p==="filled"&&d.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:p,ownerState:d,size:w})=>p==="filled"&&d.shrink&&w==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:p,ownerState:d})=>p==="outlined"&&d.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),sE=He.forwardRef(function(p,d){const w=Ha({name:"MuiInputLabel",props:p}),{disableAnimation:D=!1,margin:E,shrink:I,variant:s,className:V,...q}=w,ue=yp();let te=I;typeof te>"u"&&ue&&(te=ue.filled||ue.focused||ue.adornedStart);const ce=Ld({props:w,muiFormControl:ue,states:["size","variant","required","focused"]}),ae={...w,disableAnimation:D,formControl:ue,shrink:te,size:ce.size,variant:ce.variant,required:ce.required,focused:ce.focused},he=aE(ae);return $t.jsx(oE,{"data-shrink":te,ref:d,className:Br(he.root,V),...q,ownerState:ae,classes:he})}),R1=He.createContext({});function p2(o){try{return o.matches(":focus-visible")}catch{}return!1}function t0(...o){const p=He.useRef(void 0),d=He.useCallback(w=>{const D=o.map(E=>{if(E==null)return null;if(typeof E=="function"){const I=E,s=I(w);return typeof s=="function"?s:()=>{I(null)}}return E.current=w,()=>{E.current=null}});return()=>{D.forEach(E=>E==null?void 0:E())}},o);return He.useMemo(()=>o.every(w=>w==null)?null:w=>{p.current&&(p.current(),p.current=void 0),w!=null&&(p.current=d(w))},o)}function zd(o){const p=He.useRef(o);return Qp(()=>{p.current=o}),He.useRef((...d)=>(0,p.current)(...d)).current}const d2={};function Gb(o,p){const d=He.useRef(d2);return d.current===d2&&(d.current=o(p)),d}class zm{constructor(){qf(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new zm}static use(){const p=Gb(zm.create).current,[d,w]=He.useState(!1);return p.shouldMount=d,p.setShouldMount=w,He.useEffect(p.mountEffect,[d]),p}mount(){return this.mounted||(this.mounted=uE(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...p){this.mount().then(()=>{var d;return(d=this.ref.current)==null?void 0:d.start(...p)})}stop(...p){this.mount().then(()=>{var d;return(d=this.ref.current)==null?void 0:d.stop(...p)})}pulsate(...p){this.mount().then(()=>{var d;return(d=this.ref.current)==null?void 0:d.pulsate(...p)})}}function lE(){return zm.use()}function uE(){let o,p;const d=new Promise((w,D)=>{o=w,p=D});return d.resolve=o,d.reject=p,d}function Lb(o,p){if(o==null)return{};var d={};for(var w in o)if({}.hasOwnProperty.call(o,w)){if(p.indexOf(w)!==-1)continue;d[w]=o[w]}return d}function U1(o,p){return U1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,w){return d.__proto__=w,d},U1(o,p)}function Bb(o,p){o.prototype=Object.create(p.prototype),o.prototype.constructor=o,U1(o,p)}var Ob=W2();const fm=Fm(Ob),f2={disabled:!1},Gm=Os.createContext(null);var cE=function(p){return p.scrollTop},lg="unmounted",Ed="exited",kd="entering",mf="entered",z1="exiting",Rh=function(o){Bb(p,o);function p(w,D){var E;E=o.call(this,w,D)||this;var I=D,s=I&&!I.isMounting?w.enter:w.appear,V;return E.appearStatus=null,w.in?s?(V=Ed,E.appearStatus=kd):V=mf:w.unmountOnExit||w.mountOnEnter?V=lg:V=Ed,E.state={status:V},E.nextCallback=null,E}p.getDerivedStateFromProps=function(D,E){var I=D.in;return I&&E.status===lg?{status:Ed}:null};var d=p.prototype;return d.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},d.componentDidUpdate=function(D){var E=null;if(D!==this.props){var I=this.state.status;this.props.in?I!==kd&&I!==mf&&(E=kd):(I===kd||I===mf)&&(E=z1)}this.updateStatus(!1,E)},d.componentWillUnmount=function(){this.cancelNextCallback()},d.getTimeouts=function(){var D=this.props.timeout,E,I,s;return E=I=s=D,D!=null&&typeof D!="number"&&(E=D.exit,I=D.enter,s=D.appear!==void 0?D.appear:I),{exit:E,enter:I,appear:s}},d.updateStatus=function(D,E){if(D===void 0&&(D=!1),E!==null)if(this.cancelNextCallback(),E===kd){if(this.props.unmountOnExit||this.props.mountOnEnter){var I=this.props.nodeRef?this.props.nodeRef.current:fm.findDOMNode(this);I&&cE(I)}this.performEnter(D)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ed&&this.setState({status:lg})},d.performEnter=function(D){var E=this,I=this.props.enter,s=this.context?this.context.isMounting:D,V=this.props.nodeRef?[s]:[fm.findDOMNode(this),s],q=V[0],ue=V[1],te=this.getTimeouts(),ce=s?te.appear:te.enter;if(!D&&!I||f2.disabled){this.safeSetState({status:mf},function(){E.props.onEntered(q)});return}this.props.onEnter(q,ue),this.safeSetState({status:kd},function(){E.props.onEntering(q,ue),E.onTransitionEnd(ce,function(){E.safeSetState({status:mf},function(){E.props.onEntered(q,ue)})})})},d.performExit=function(){var D=this,E=this.props.exit,I=this.getTimeouts(),s=this.props.nodeRef?void 0:fm.findDOMNode(this);if(!E||f2.disabled){this.safeSetState({status:Ed},function(){D.props.onExited(s)});return}this.props.onExit(s),this.safeSetState({status:z1},function(){D.props.onExiting(s),D.onTransitionEnd(I.exit,function(){D.safeSetState({status:Ed},function(){D.props.onExited(s)})})})},d.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},d.safeSetState=function(D,E){E=this.setNextCallback(E),this.setState(D,E)},d.setNextCallback=function(D){var E=this,I=!0;return this.nextCallback=function(s){I&&(I=!1,E.nextCallback=null,D(s))},this.nextCallback.cancel=function(){I=!1},this.nextCallback},d.onTransitionEnd=function(D,E){this.setNextCallback(E);var I=this.props.nodeRef?this.props.nodeRef.current:fm.findDOMNode(this),s=D==null&&!this.props.addEndListener;if(!I||s){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var V=this.props.nodeRef?[this.nextCallback]:[I,this.nextCallback],q=V[0],ue=V[1];this.props.addEndListener(q,ue)}D!=null&&setTimeout(this.nextCallback,D)},d.render=function(){var D=this.state.status;if(D===lg)return null;var E=this.props,I=E.children;E.in,E.mountOnEnter,E.unmountOnExit,E.appear,E.enter,E.exit,E.timeout,E.addEndListener,E.onEnter,E.onEntering,E.onEntered,E.onExit,E.onExiting,E.onExited,E.nodeRef;var s=Lb(E,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Os.createElement(Gm.Provider,{value:null},typeof I=="function"?I(D,s):Os.cloneElement(Os.Children.only(I),s))},p}(Os.Component);Rh.contextType=Gm;Rh.propTypes={};function ff(){}Rh.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ff,onEntering:ff,onEntered:ff,onExit:ff,onExiting:ff,onExited:ff};Rh.UNMOUNTED=lg;Rh.EXITED=Ed;Rh.ENTERING=kd;Rh.ENTERED=mf;Rh.EXITING=z1;function hE(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function I_(o,p){var d=function(E){return p&&He.isValidElement(E)?p(E):E},w=Object.create(null);return o&&He.Children.map(o,function(D){return D}).forEach(function(D){w[D.key]=d(D)}),w}function pE(o,p){o=o||{},p=p||{};function d(ue){return ue in p?p[ue]:o[ue]}var w=Object.create(null),D=[];for(var E in o)E in p?D.length&&(w[E]=D,D=[]):D.push(E);var I,s={};for(var V in p){if(w[V])for(I=0;I<w[V].length;I++){var q=w[V][I];s[w[V][I]]=d(q)}s[V]=d(V)}for(I=0;I<D.length;I++)s[D[I]]=d(D[I]);return s}function Rd(o,p,d){return d[p]!=null?d[p]:o.props[p]}function dE(o,p){return I_(o.children,function(d){return He.cloneElement(d,{onExited:p.bind(null,d),in:!0,appear:Rd(d,"appear",o),enter:Rd(d,"enter",o),exit:Rd(d,"exit",o)})})}function fE(o,p,d){var w=I_(o.children),D=pE(p,w);return Object.keys(D).forEach(function(E){var I=D[E];if(He.isValidElement(I)){var s=E in p,V=E in w,q=p[E],ue=He.isValidElement(q)&&!q.props.in;V&&(!s||ue)?D[E]=He.cloneElement(I,{onExited:d.bind(null,I),in:!0,exit:Rd(I,"exit",o),enter:Rd(I,"enter",o)}):!V&&s&&!ue?D[E]=He.cloneElement(I,{in:!1}):V&&s&&He.isValidElement(q)&&(D[E]=He.cloneElement(I,{onExited:d.bind(null,I),in:q.props.in,exit:Rd(I,"exit",o),enter:Rd(I,"enter",o)}))}}),D}var gE=Object.values||function(o){return Object.keys(o).map(function(p){return o[p]})},mE={component:"div",childFactory:function(p){return p}},A_=function(o){Bb(p,o);function p(w,D){var E;E=o.call(this,w,D)||this;var I=E.handleExited.bind(hE(E));return E.state={contextValue:{isMounting:!0},handleExited:I,firstRender:!0},E}var d=p.prototype;return d.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},d.componentWillUnmount=function(){this.mounted=!1},p.getDerivedStateFromProps=function(D,E){var I=E.children,s=E.handleExited,V=E.firstRender;return{children:V?dE(D,s):fE(D,I,s),firstRender:!1}},d.handleExited=function(D,E){var I=I_(this.props.children);D.key in I||(D.props.onExited&&D.props.onExited(E),this.mounted&&this.setState(function(s){var V=km({},s.children);return delete V[D.key],{children:V}}))},d.render=function(){var D=this.props,E=D.component,I=D.childFactory,s=Lb(D,["component","childFactory"]),V=this.state.contextValue,q=gE(this.state.children).map(I);return delete s.appear,delete s.enter,delete s.exit,E===null?Os.createElement(Gm.Provider,{value:V},q):Os.createElement(Gm.Provider,{value:V},Os.createElement(E,s,q))},p}(Os.Component);A_.propTypes={};A_.defaultProps=mE;const yE=[];function _E(o){He.useEffect(o,yE)}class S_{constructor(){qf(this,"currentId",null);qf(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});qf(this,"disposeEffect",()=>this.clear)}static create(){return new S_}start(p,d){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,d()},p)}}function Fb(){const o=Gb(S_.create).current;return _E(o.disposeEffect),o}function vE(o){const{className:p,classes:d,pulsate:w=!1,rippleX:D,rippleY:E,rippleSize:I,in:s,onExited:V,timeout:q}=o,[ue,te]=He.useState(!1),ce=Br(p,d.ripple,d.rippleVisible,w&&d.ripplePulsate),ae={width:I,height:I,top:-(I/2)+E,left:-(I/2)+D},he=Br(d.child,ue&&d.childLeaving,w&&d.childPulsate);return!s&&!ue&&te(!0),He.useEffect(()=>{if(!s&&V!=null){const _e=setTimeout(V,q);return()=>{clearTimeout(_e)}}},[V,s,q]),$t.jsx("span",{className:ce,style:ae,children:$t.jsx("span",{className:he})})}const hc=Zi("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),G1=550,xE=80,bE=Eg`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,wE=Eg`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,CE=Eg`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,DE=rr("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),IE=rr(vE,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${hc.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${bE};
    animation-duration: ${G1}ms;
    animation-timing-function: ${({theme:o})=>o.transitions.easing.easeInOut};
  }

  &.${hc.ripplePulsate} {
    animation-duration: ${({theme:o})=>o.transitions.duration.shorter}ms;
  }

  & .${hc.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${hc.childLeaving} {
    opacity: 0;
    animation-name: ${wE};
    animation-duration: ${G1}ms;
    animation-timing-function: ${({theme:o})=>o.transitions.easing.easeInOut};
  }

  & .${hc.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${CE};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:o})=>o.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,AE=He.forwardRef(function(p,d){const w=Ha({props:p,name:"MuiTouchRipple"}),{center:D=!1,classes:E={},className:I,...s}=w,[V,q]=He.useState([]),ue=He.useRef(0),te=He.useRef(null);He.useEffect(()=>{te.current&&(te.current(),te.current=null)},[V]);const ce=He.useRef(!1),ae=Fb(),he=He.useRef(null),_e=He.useRef(null),Pe=He.useCallback(Ae=>{const{pulsate:Ge,rippleX:$e,rippleY:ot,rippleSize:Pt,cb:Yt}=Ae;q(ge=>[...ge,$t.jsx(IE,{classes:{ripple:Br(E.ripple,hc.ripple),rippleVisible:Br(E.rippleVisible,hc.rippleVisible),ripplePulsate:Br(E.ripplePulsate,hc.ripplePulsate),child:Br(E.child,hc.child),childLeaving:Br(E.childLeaving,hc.childLeaving),childPulsate:Br(E.childPulsate,hc.childPulsate)},timeout:G1,pulsate:Ge,rippleX:$e,rippleY:ot,rippleSize:Pt},ue.current)]),ue.current+=1,te.current=Yt},[E]),Ze=He.useCallback((Ae={},Ge={},$e=()=>{})=>{const{pulsate:ot=!1,center:Pt=D||Ge.pulsate,fakeElement:Yt=!1}=Ge;if((Ae==null?void 0:Ae.type)==="mousedown"&&ce.current){ce.current=!1;return}(Ae==null?void 0:Ae.type)==="touchstart"&&(ce.current=!0);const ge=Yt?null:_e.current,bt=ge?ge.getBoundingClientRect():{width:0,height:0,left:0,top:0};let St,Bt,Wt;if(Pt||Ae===void 0||Ae.clientX===0&&Ae.clientY===0||!Ae.clientX&&!Ae.touches)St=Math.round(bt.width/2),Bt=Math.round(bt.height/2);else{const{clientX:Ft,clientY:Nt}=Ae.touches&&Ae.touches.length>0?Ae.touches[0]:Ae;St=Math.round(Ft-bt.left),Bt=Math.round(Nt-bt.top)}if(Pt)Wt=Math.sqrt((2*bt.width**2+bt.height**2)/3),Wt%2===0&&(Wt+=1);else{const Ft=Math.max(Math.abs((ge?ge.clientWidth:0)-St),St)*2+2,Nt=Math.max(Math.abs((ge?ge.clientHeight:0)-Bt),Bt)*2+2;Wt=Math.sqrt(Ft**2+Nt**2)}Ae!=null&&Ae.touches?he.current===null&&(he.current=()=>{Pe({pulsate:ot,rippleX:St,rippleY:Bt,rippleSize:Wt,cb:$e})},ae.start(xE,()=>{he.current&&(he.current(),he.current=null)})):Pe({pulsate:ot,rippleX:St,rippleY:Bt,rippleSize:Wt,cb:$e})},[D,Pe,ae]),tt=He.useCallback(()=>{Ze({},{pulsate:!0})},[Ze]),ze=He.useCallback((Ae,Ge)=>{if(ae.clear(),(Ae==null?void 0:Ae.type)==="touchend"&&he.current){he.current(),he.current=null,ae.start(0,()=>{ze(Ae,Ge)});return}he.current=null,q($e=>$e.length>0?$e.slice(1):$e),te.current=Ge},[ae]);return He.useImperativeHandle(d,()=>({pulsate:tt,start:Ze,stop:ze}),[tt,Ze,ze]),$t.jsx(DE,{className:Br(hc.root,E.root,I),ref:_e,...s,children:$t.jsx(A_,{component:null,exit:!0,children:V})})});function SE(o){return ya("MuiButtonBase",o)}const TE=Zi("MuiButtonBase",["root","disabled","focusVisible"]),ME=o=>{const{disabled:p,focusVisible:d,focusVisibleClassName:w,classes:D}=o,I=ma({root:["root",p&&"disabled",d&&"focusVisible"]},SE,D);return d&&w&&(I.root+=` ${w}`),I},PE=rr("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${TE.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),T_=He.forwardRef(function(p,d){const w=Ha({props:p,name:"MuiButtonBase"}),{action:D,centerRipple:E=!1,children:I,className:s,component:V="button",disabled:q=!1,disableRipple:ue=!1,disableTouchRipple:te=!1,focusRipple:ce=!1,focusVisibleClassName:ae,LinkComponent:he="a",onBlur:_e,onClick:Pe,onContextMenu:Ze,onDragLeave:tt,onFocus:ze,onFocusVisible:Ae,onKeyDown:Ge,onKeyUp:$e,onMouseDown:ot,onMouseLeave:Pt,onMouseUp:Yt,onTouchEnd:ge,onTouchMove:bt,onTouchStart:St,tabIndex:Bt=0,TouchRippleProps:Wt,touchRippleRef:Ft,type:Nt,...cn}=w,yt=He.useRef(null),mt=lE(),jt=t0(mt.ref,Ft),[qe,Tt]=He.useState(!1);q&&qe&&Tt(!1),He.useImperativeHandle(D,()=>({focusVisible:()=>{Tt(!0),yt.current.focus()}}),[]);const mn=mt.shouldMount&&!ue&&!q;He.useEffect(()=>{qe&&ce&&!ue&&mt.pulsate()},[ue,ce,qe,mt]);const hn=cp(mt,"start",ot,te),kt=cp(mt,"stop",Ze,te),gn=cp(mt,"stop",tt,te),wn=cp(mt,"stop",Yt,te),Fn=cp(mt,"stop",Cn=>{qe&&Cn.preventDefault(),Pt&&Pt(Cn)},te),Rn=cp(mt,"start",St,te),An=cp(mt,"stop",ge,te),Nn=cp(mt,"stop",bt,te),Kn=cp(mt,"stop",Cn=>{p2(Cn.target)||Tt(!1),_e&&_e(Cn)},!1),Hn=zd(Cn=>{yt.current||(yt.current=Cn.currentTarget),p2(Cn.target)&&(Tt(!0),Ae&&Ae(Cn)),ze&&ze(Cn)}),yn=()=>{const Cn=yt.current;return V&&V!=="button"&&!(Cn.tagName==="A"&&Cn.href)},yr=zd(Cn=>{ce&&!Cn.repeat&&qe&&Cn.key===" "&&mt.stop(Cn,()=>{mt.start(Cn)}),Cn.target===Cn.currentTarget&&yn()&&Cn.key===" "&&Cn.preventDefault(),Ge&&Ge(Cn),Cn.target===Cn.currentTarget&&yn()&&Cn.key==="Enter"&&!q&&(Cn.preventDefault(),Pe&&Pe(Cn))}),gi=zd(Cn=>{ce&&Cn.key===" "&&qe&&!Cn.defaultPrevented&&mt.stop(Cn,()=>{mt.pulsate(Cn)}),$e&&$e(Cn),Pe&&Cn.target===Cn.currentTarget&&yn()&&Cn.key===" "&&!Cn.defaultPrevented&&Pe(Cn)});let Ir=V;Ir==="button"&&(cn.href||cn.to)&&(Ir=he);const Yr={};Ir==="button"?(Yr.type=Nt===void 0?"button":Nt,Yr.disabled=q):(!cn.href&&!cn.to&&(Yr.role="button"),q&&(Yr["aria-disabled"]=q));const Li=t0(d,yt),vr={...w,centerRipple:E,component:V,disabled:q,disableRipple:ue,disableTouchRipple:te,focusRipple:ce,tabIndex:Bt,focusVisible:qe},ur=ME(vr);return $t.jsxs(PE,{as:Ir,className:Br(ur.root,s),ownerState:vr,onBlur:Kn,onClick:Pe,onContextMenu:kt,onFocus:Hn,onKeyDown:yr,onKeyUp:gi,onMouseDown:hn,onMouseLeave:Fn,onMouseUp:wn,onDragLeave:gn,onTouchEnd:An,onTouchMove:Nn,onTouchStart:Rn,ref:Li,tabIndex:q?-1:Bt,type:Nt,...Yr,...cn,children:[I,mn?$t.jsx(AE,{ref:jt,center:E,...Wt}):null]})});function cp(o,p,d,w=!1){return zd(D=>(d&&d(D),w||o[p](D),!0))}const g2=Zi("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),m2=Zi("MuiListItemIcon",["root","alignItemsFlexStart"]);function EE(o){return ya("MuiTypography",o)}Zi("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const kE={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},RE=YP(),UE=o=>{const{align:p,gutterBottom:d,noWrap:w,paragraph:D,variant:E,classes:I}=o,s={root:["root",E,o.align!=="inherit"&&`align${kr(p)}`,d&&"gutterBottom",w&&"noWrap",D&&"paragraph"]};return ma(s,EE,I)},zE=rr("span",{name:"MuiTypography",slot:"Root",overridesResolver:(o,p)=>{const{ownerState:d}=o;return[p.root,d.variant&&p[d.variant],d.align!=="inherit"&&p[`align${kr(d.align)}`],d.noWrap&&p.noWrap,d.gutterBottom&&p.gutterBottom,d.paragraph&&p.paragraph]}})(Wa(({theme:o})=>{var p;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(o.typography).filter(([d,w])=>d!=="inherit"&&w&&typeof w=="object").map(([d,w])=>({props:{variant:d},style:w})),...Object.entries(o.palette).filter(dp()).map(([d])=>({props:{color:d},style:{color:(o.vars||o).palette[d].main}})),...Object.entries(((p=o.palette)==null?void 0:p.text)||{}).filter(([,d])=>typeof d=="string").map(([d])=>({props:{color:`text${kr(d)}`},style:{color:(o.vars||o).palette.text[d]}})),{props:({ownerState:d})=>d.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:d})=>d.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:d})=>d.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:d})=>d.paragraph,style:{marginBottom:16}}]}})),y2={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},_2=He.forwardRef(function(p,d){const{color:w,...D}=Ha({props:p,name:"MuiTypography"}),E=!kE[w],I=RE({...D,...E&&{color:w}}),{align:s="inherit",className:V,component:q,gutterBottom:ue=!1,noWrap:te=!1,paragraph:ce=!1,variant:ae="body1",variantMapping:he=y2,..._e}=I,Pe={...I,align:s,color:w,className:V,component:q,gutterBottom:ue,noWrap:te,paragraph:ce,variant:ae,variantMapping:he},Ze=q||(ce?"p":he[ae]||y2[ae])||"span",tt=UE(Pe);return $t.jsx(zE,{as:Ze,ref:d,className:Br(tt.root,V),..._e,ownerState:Pe,style:{...s!=="inherit"&&{"--Typography-textAlign":s},..._e.style}})}),v2=Zi("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function GE(o){return typeof o=="string"}function Nb(o,p,d){return o===void 0||GE(o)?p:{...p,ownerState:{...p.ownerState,...d}}}function $b(o,p,d){return typeof o=="function"?o(p,d):o}function jb(o,p=[]){if(o===void 0)return{};const d={};return Object.keys(o).filter(w=>w.match(/^on[A-Z]/)&&typeof o[w]=="function"&&!p.includes(w)).forEach(w=>{d[w]=o[w]}),d}function x2(o){if(o===void 0)return{};const p={};return Object.keys(o).filter(d=>!(d.match(/^on[A-Z]/)&&typeof o[d]=="function")).forEach(d=>{p[d]=o[d]}),p}function Vb(o){const{getSlotProps:p,additionalProps:d,externalSlotProps:w,externalForwardedProps:D,className:E}=o;if(!p){const ae=Br(d==null?void 0:d.className,E,D==null?void 0:D.className,w==null?void 0:w.className),he={...d==null?void 0:d.style,...D==null?void 0:D.style,...w==null?void 0:w.style},_e={...d,...D,...w};return ae.length>0&&(_e.className=ae),Object.keys(he).length>0&&(_e.style=he),{props:_e,internalRef:void 0}}const I=jb({...D,...w}),s=x2(w),V=x2(D),q=p(I),ue=Br(q==null?void 0:q.className,d==null?void 0:d.className,E,D==null?void 0:D.className,w==null?void 0:w.className),te={...q==null?void 0:q.style,...d==null?void 0:d.style,...D==null?void 0:D.style,...w==null?void 0:w.style},ce={...q,...d,...V,...s};return ue.length>0&&(ce.className=ue),Object.keys(te).length>0&&(ce.style=te),{props:ce,internalRef:q.ref}}function K0(o,p){const{className:d,elementType:w,ownerState:D,externalForwardedProps:E,internalForwardedProps:I,shouldForwardComponentProp:s=!1,...V}=p,{component:q,slots:ue={[o]:void 0},slotProps:te={[o]:void 0},...ce}=E,ae=ue[o]||w,he=$b(te[o],D),{props:{component:_e,...Pe},internalRef:Ze}=Vb({className:d,...V,externalForwardedProps:o==="root"?ce:void 0,externalSlotProps:he}),tt=t0(Ze,he==null?void 0:he.ref,p.ref),ze=o==="root"?_e||q:_e,Ae=Nb(ae,{...o==="root"&&!q&&!ue[o]&&I,...o!=="root"&&!ue[o]&&I,...Pe,...ze&&!s&&{as:ze},...ze&&s&&{component:ze},ref:tt},D);return[ae,Ae]}function LE(o){return ya("MuiMenuItem",o)}const tg=Zi("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),BE=(o,p)=>{const{ownerState:d}=o;return[p.root,d.dense&&p.dense,d.divider&&p.divider,!d.disableGutters&&p.gutters]},OE=o=>{const{disabled:p,dense:d,divider:w,disableGutters:D,selected:E,classes:I}=o,V=ma({root:["root",d&&"dense",p&&"disabled",!D&&"gutters",w&&"divider",E&&"selected"]},LE,I);return{...I,...V}},FE=rr(T_,{shouldForwardProp:o=>x0(o)||o==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:BE})(Wa(({theme:o})=>({...o.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(o.vars||o).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${tg.selected}`]:{backgroundColor:o.vars?`rgba(${o.vars.palette.primary.mainChannel} / ${o.vars.palette.action.selectedOpacity})`:q0(o.palette.primary.main,o.palette.action.selectedOpacity),[`&.${tg.focusVisible}`]:{backgroundColor:o.vars?`rgba(${o.vars.palette.primary.mainChannel} / calc(${o.vars.palette.action.selectedOpacity} + ${o.vars.palette.action.focusOpacity}))`:q0(o.palette.primary.main,o.palette.action.selectedOpacity+o.palette.action.focusOpacity)}},[`&.${tg.selected}:hover`]:{backgroundColor:o.vars?`rgba(${o.vars.palette.primary.mainChannel} / calc(${o.vars.palette.action.selectedOpacity} + ${o.vars.palette.action.hoverOpacity}))`:q0(o.palette.primary.main,o.palette.action.selectedOpacity+o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:o.vars?`rgba(${o.vars.palette.primary.mainChannel} / ${o.vars.palette.action.selectedOpacity})`:q0(o.palette.primary.main,o.palette.action.selectedOpacity)}},[`&.${tg.focusVisible}`]:{backgroundColor:(o.vars||o).palette.action.focus},[`&.${tg.disabled}`]:{opacity:(o.vars||o).palette.action.disabledOpacity},[`& + .${g2.root}`]:{marginTop:o.spacing(1),marginBottom:o.spacing(1)},[`& + .${g2.inset}`]:{marginLeft:52},[`& .${v2.root}`]:{marginTop:0,marginBottom:0},[`& .${v2.inset}`]:{paddingLeft:36},[`& .${m2.root}`]:{minWidth:36},variants:[{props:({ownerState:p})=>!p.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:p})=>p.divider,style:{borderBottom:`1px solid ${(o.vars||o).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:p})=>!p.dense,style:{[o.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:p})=>p.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...o.typography.body2,[`& .${m2.root} svg`]:{fontSize:"1.25rem"}}}]}))),NE=He.forwardRef(function(p,d){const w=Ha({props:p,name:"MuiMenuItem"}),{autoFocus:D=!1,component:E="li",dense:I=!1,divider:s=!1,disableGutters:V=!1,focusVisibleClassName:q,role:ue="menuitem",tabIndex:te,className:ce,...ae}=w,he=He.useContext(R1),_e=He.useMemo(()=>({dense:I||he.dense||!1,disableGutters:V}),[he.dense,I,V]),Pe=He.useRef(null);Qp(()=>{D&&Pe.current&&Pe.current.focus()},[D]);const Ze={...w,dense:_e.dense,divider:s,disableGutters:V},tt=OE(w),ze=t0(Pe,d);let Ae;return w.disabled||(Ae=te!==void 0?te:-1),$t.jsx(R1.Provider,{value:_e,children:$t.jsx(FE,{ref:ze,role:ue,tabIndex:Ae,component:E,focusVisibleClassName:Br(tt.focusVisible,q),className:Br(tt.root,ce),...ae,ownerState:Ze,classes:tt})})});function b2(o){return o!=null&&!(Array.isArray(o)&&o.length===0)}function Lm(o,p=!1){return o&&(b2(o.value)&&o.value!==""||p&&b2(o.defaultValue)&&o.defaultValue!=="")}function $E(o){return o.startAdornment}function jE(o){return ya("MuiFormControl",o)}Zi("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const VE=o=>{const{classes:p,margin:d,fullWidth:w}=o,D={root:["root",d!=="none"&&`margin${kr(d)}`,w&&"fullWidth"]};return ma(D,jE,p)},ZE=rr("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(o,p)=>{const{ownerState:d}=o;return[p.root,p[`margin${kr(d.margin)}`],d.fullWidth&&p.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),w2=He.forwardRef(function(p,d){const w=Ha({props:p,name:"MuiFormControl"}),{children:D,className:E,color:I="primary",component:s="div",disabled:V=!1,error:q=!1,focused:ue,fullWidth:te=!1,hiddenLabel:ce=!1,margin:ae="none",required:he=!1,size:_e="medium",variant:Pe="outlined",...Ze}=w,tt={...w,color:I,component:s,disabled:V,error:q,fullWidth:te,hiddenLabel:ce,margin:ae,required:he,size:_e,variant:Pe},ze=VE(tt),[Ae,Ge]=He.useState(()=>{let Ft=!1;return D&&He.Children.forEach(D,Nt=>{if(!n1(Nt,["Input","Select"]))return;const cn=n1(Nt,["Select"])?Nt.props.input:Nt;cn&&$E(cn.props)&&(Ft=!0)}),Ft}),[$e,ot]=He.useState(()=>{let Ft=!1;return D&&He.Children.forEach(D,Nt=>{n1(Nt,["Input","Select"])&&(Lm(Nt.props,!0)||Lm(Nt.props.inputProps,!0))&&(Ft=!0)}),Ft}),[Pt,Yt]=He.useState(!1);V&&Pt&&Yt(!1);const ge=ue!==void 0&&!V?ue:Pt;let bt;He.useRef(!1);const St=He.useCallback(()=>{ot(!0)},[]),Bt=He.useCallback(()=>{ot(!1)},[]),Wt=He.useMemo(()=>({adornedStart:Ae,setAdornedStart:Ge,color:I,disabled:V,error:q,filled:$e,focused:ge,fullWidth:te,hiddenLabel:ce,size:_e,onBlur:()=>{Yt(!1)},onFocus:()=>{Yt(!0)},onEmpty:Bt,onFilled:St,registerEffect:bt,required:he,variant:Pe}),[Ae,I,V,q,$e,ge,te,ce,bt,Bt,St,he,_e,Pe]);return $t.jsx(i_.Provider,{value:Wt,children:$t.jsx(ZE,{as:s,ownerState:tt,className:Br(ze.root,E),ref:d,...Ze,children:D})})});function WE(o){return ya("MuiFormControlLabel",o)}const ug=Zi("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),HE=o=>{const{classes:p,disabled:d,labelPlacement:w,error:D,required:E}=o,I={root:["root",d&&"disabled",`labelPlacement${kr(w)}`,D&&"error",E&&"required"],label:["label",d&&"disabled"],asterisk:["asterisk",D&&"error"]};return ma(I,WE,p)},qE=rr("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(o,p)=>{const{ownerState:d}=o;return[{[`& .${ug.label}`]:p.label},p.root,p[`labelPlacement${kr(d.labelPlacement)}`]]}})(Wa(({theme:o})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${ug.disabled}`]:{cursor:"default"},[`& .${ug.label}`]:{[`&.${ug.disabled}`]:{color:(o.vars||o).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:p})=>p==="start"||p==="top"||p==="bottom",style:{marginLeft:16}}]}))),KE=rr("span",{name:"MuiFormControlLabel",slot:"Asterisk"})(Wa(({theme:o})=>({[`&.${ug.error}`]:{color:(o.vars||o).palette.error.main}}))),C2=He.forwardRef(function(p,d){const w=Ha({props:p,name:"MuiFormControlLabel"}),{checked:D,className:E,componentsProps:I={},control:s,disabled:V,disableTypography:q,inputRef:ue,label:te,labelPlacement:ce="end",name:ae,onChange:he,required:_e,slots:Pe={},slotProps:Ze={},value:tt,...ze}=w,Ae=yp(),Ge=V??s.props.disabled??(Ae==null?void 0:Ae.disabled),$e=_e??s.props.required,ot={disabled:Ge,required:$e};["checked","name","onChange","value","inputRef"].forEach(Ft=>{typeof s.props[Ft]>"u"&&typeof w[Ft]<"u"&&(ot[Ft]=w[Ft])});const Pt=Ld({props:w,muiFormControl:Ae,states:["error"]}),Yt={...w,disabled:Ge,labelPlacement:ce,required:$e,error:Pt.error},ge=HE(Yt),bt={slots:Pe,slotProps:{...I,...Ze}},[St,Bt]=K0("typography",{elementType:_2,externalForwardedProps:bt,ownerState:Yt});let Wt=te;return Wt!=null&&Wt.type!==_2&&!q&&(Wt=$t.jsx(St,{component:"span",...Bt,className:Br(ge.label,Bt==null?void 0:Bt.className),children:Wt})),$t.jsxs(qE,{className:Br(ge.root,E),ownerState:Yt,ref:d,...ze,children:[He.cloneElement(s,ot),$e?$t.jsxs("div",{children:[Wt,$t.jsxs(KE,{ownerState:Yt,"aria-hidden":!0,className:ge.asterisk,children:[" ","*"]})]}):Wt]})});function kg(o){var p;return parseInt(He.version,10)>=19?((p=o==null?void 0:o.props)==null?void 0:p.ref)||null:(o==null?void 0:o.ref)||null}let D2=0;function XE(o){const[p,d]=He.useState(o),w=o||p;return He.useEffect(()=>{p==null&&(D2+=1,d(`mui-${D2}`))},[p]),w}const YE={...s1},I2=YE.useId;function M_(o){if(I2!==void 0){const p=I2();return o??p}return XE(o)}function Nc(o){return o&&o.ownerDocument||document}function QE(o){var te;const{elementType:p,externalSlotProps:d,ownerState:w,skipResolvingSlotProps:D=!1,...E}=o,I=D?{}:$b(d,w),{props:s,internalRef:V}=Vb({...E,externalSlotProps:I}),q=t0(V,I==null?void 0:I.ref,(te=o.additionalProps)==null?void 0:te.ref);return Nb(p,{...s,ref:q},w)}function JE(o){return ya("MuiList",o)}Zi("MuiList",["root","padding","dense","subheader"]);const e4=o=>{const{classes:p,disablePadding:d,dense:w,subheader:D}=o;return ma({root:["root",!d&&"padding",w&&"dense",D&&"subheader"]},JE,p)},t4=rr("ul",{name:"MuiList",slot:"Root",overridesResolver:(o,p)=>{const{ownerState:d}=o;return[p.root,!d.disablePadding&&p.padding,d.dense&&p.dense,d.subheader&&p.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:o})=>!o.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:o})=>o.subheader,style:{paddingTop:0}}]}),n4=He.forwardRef(function(p,d){const w=Ha({props:p,name:"MuiList"}),{children:D,className:E,component:I="ul",dense:s=!1,disablePadding:V=!1,subheader:q,...ue}=w,te=He.useMemo(()=>({dense:s}),[s]),ce={...w,component:I,dense:s,disablePadding:V},ae=e4(ce);return $t.jsx(R1.Provider,{value:te,children:$t.jsxs(t4,{as:I,className:Br(ae.root,E),ref:d,ownerState:ce,...ue,children:[q,D]})})});function Zb(o=window){const p=o.document.documentElement.clientWidth;return o.innerWidth-p}function L1(...o){return o.reduce((p,d)=>d==null?p:function(...D){p.apply(this,D),d.apply(this,D)},()=>{})}function r4(o){return ya("MuiSvgIcon",o)}Zi("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const i4=o=>{const{color:p,fontSize:d,classes:w}=o,D={root:["root",p!=="inherit"&&`color${kr(p)}`,`fontSize${kr(d)}`]};return ma(D,r4,w)},a4=rr("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(o,p)=>{const{ownerState:d}=o;return[p.root,d.color!=="inherit"&&p[`color${kr(d.color)}`],p[`fontSize${kr(d.fontSize)}`]]}})(Wa(({theme:o})=>{var p,d,w,D,E,I,s,V,q,ue,te,ce,ae,he;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(D=(p=o.transitions)==null?void 0:p.create)==null?void 0:D.call(p,"fill",{duration:(w=(d=(o.vars??o).transitions)==null?void 0:d.duration)==null?void 0:w.shorter}),variants:[{props:_e=>!_e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((I=(E=o.typography)==null?void 0:E.pxToRem)==null?void 0:I.call(E,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((V=(s=o.typography)==null?void 0:s.pxToRem)==null?void 0:V.call(s,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((ue=(q=o.typography)==null?void 0:q.pxToRem)==null?void 0:ue.call(q,35))||"2.1875rem"}},...Object.entries((o.vars??o).palette).filter(([,_e])=>_e&&_e.main).map(([_e])=>{var Pe,Ze;return{props:{color:_e},style:{color:(Ze=(Pe=(o.vars??o).palette)==null?void 0:Pe[_e])==null?void 0:Ze.main}}}),{props:{color:"action"},style:{color:(ce=(te=(o.vars??o).palette)==null?void 0:te.action)==null?void 0:ce.active}},{props:{color:"disabled"},style:{color:(he=(ae=(o.vars??o).palette)==null?void 0:ae.action)==null?void 0:he.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),B1=He.forwardRef(function(p,d){const w=Ha({props:p,name:"MuiSvgIcon"}),{children:D,className:E,color:I="inherit",component:s="svg",fontSize:V="medium",htmlColor:q,inheritViewBox:ue=!1,titleAccess:te,viewBox:ce="0 0 24 24",...ae}=w,he=He.isValidElement(D)&&D.type==="svg",_e={...w,color:I,component:s,fontSize:V,instanceFontSize:p.fontSize,inheritViewBox:ue,viewBox:ce,hasSvgAsChild:he},Pe={};ue||(Pe.viewBox=ce);const Ze=i4(_e);return $t.jsxs(a4,{as:s,className:Br(Ze.root,E),focusable:"false",color:q,"aria-hidden":te?void 0:!0,role:te?"img":void 0,ref:d,...Pe,...ae,...he&&D.props,ownerState:_e,children:[he?D.props.children:D,te?$t.jsx("title",{children:te}):null]})});B1.muiName="SvgIcon";function Rg(o,p){function d(w,D){return $t.jsx(B1,{"data-testid":void 0,ref:D,...w,children:o})}return d.muiName=B1.muiName,He.memo(He.forwardRef(d))}function Wb(o,p=166){let d;function w(...D){const E=()=>{o.apply(this,D)};clearTimeout(d),d=setTimeout(E,p)}return w.clear=()=>{clearTimeout(d)},w}function fp(o){return Nc(o).defaultView||window}function A2(o,p){typeof o=="function"?o(p):o&&(o.current=p)}function Bm(o){const{controlled:p,default:d,name:w,state:D="value"}=o,{current:E}=He.useRef(p!==void 0),[I,s]=He.useState(d),V=E?p:I,q=He.useCallback(ue=>{E||s(ue)},[]);return[V,q]}function o4(o,p){const d=o.charCodeAt(2);return o[0]==="o"&&o[1]==="n"&&d>=65&&d<=90&&typeof p=="function"}function s4(o,p){if(!o)return p;function d(I,s){const V={};return Object.keys(s).forEach(q=>{o4(q,s[q])&&typeof I[q]=="function"&&(V[q]=(...ue)=>{I[q](...ue),s[q](...ue)})}),V}if(typeof o=="function"||typeof p=="function")return I=>{const s=typeof p=="function"?p(I):p,V=typeof o=="function"?o({...I,...s}):o,q=Br(I==null?void 0:I.className,s==null?void 0:s.className,V==null?void 0:V.className),ue=d(V,s);return{...s,...V,...ue,...!!q&&{className:q},...(s==null?void 0:s.style)&&(V==null?void 0:V.style)&&{style:{...s.style,...V.style}},...(s==null?void 0:s.sx)&&(V==null?void 0:V.sx)&&{sx:[...Array.isArray(s.sx)?s.sx:[s.sx],...Array.isArray(V.sx)?V.sx:[V.sx]]}}};const w=p,D=d(o,w),E=Br(w==null?void 0:w.className,o==null?void 0:o.className);return{...p,...o,...D,...!!E&&{className:E},...(w==null?void 0:w.style)&&(o==null?void 0:o.style)&&{style:{...w.style,...o.style}},...(w==null?void 0:w.sx)&&(o==null?void 0:o.sx)&&{sx:[...Array.isArray(w.sx)?w.sx:[w.sx],...Array.isArray(o.sx)?o.sx:[o.sx]]}}}function i1(o,p,d){return o===p?o.firstChild:p&&p.nextElementSibling?p.nextElementSibling:d?null:o.firstChild}function S2(o,p,d){return o===p?d?o.firstChild:o.lastChild:p&&p.previousElementSibling?p.previousElementSibling:d?null:o.lastChild}function Hb(o,p){if(p===void 0)return!0;let d=o.innerText;return d===void 0&&(d=o.textContent),d=d.trim().toLowerCase(),d.length===0?!1:p.repeating?d[0]===p.keys[0]:d.startsWith(p.keys.join(""))}function ng(o,p,d,w,D,E){let I=!1,s=D(o,p,p?d:!1);for(;s;){if(s===o.firstChild){if(I)return!1;I=!0}const V=w?!1:s.disabled||s.getAttribute("aria-disabled")==="true";if(!s.hasAttribute("tabindex")||!Hb(s,E)||V)s=D(o,s,d);else return s.focus(),!0}return!1}const l4=He.forwardRef(function(p,d){const{actions:w,autoFocus:D=!1,autoFocusItem:E=!1,children:I,className:s,disabledItemsFocusable:V=!1,disableListWrap:q=!1,onKeyDown:ue,variant:te="selectedMenu",...ce}=p,ae=He.useRef(null),he=He.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Qp(()=>{D&&ae.current.focus()},[D]),He.useImperativeHandle(w,()=>({adjustStyleForScrollbar:(ze,{direction:Ae})=>{const Ge=!ae.current.style.width;if(ze.clientHeight<ae.current.clientHeight&&Ge){const $e=`${Zb(fp(ze))}px`;ae.current.style[Ae==="rtl"?"paddingLeft":"paddingRight"]=$e,ae.current.style.width=`calc(100% + ${$e})`}return ae.current}}),[]);const _e=ze=>{const Ae=ae.current,Ge=ze.key;if(ze.ctrlKey||ze.metaKey||ze.altKey){ue&&ue(ze);return}const ot=Nc(Ae).activeElement;if(Ge==="ArrowDown")ze.preventDefault(),ng(Ae,ot,q,V,i1);else if(Ge==="ArrowUp")ze.preventDefault(),ng(Ae,ot,q,V,S2);else if(Ge==="Home")ze.preventDefault(),ng(Ae,null,q,V,i1);else if(Ge==="End")ze.preventDefault(),ng(Ae,null,q,V,S2);else if(Ge.length===1){const Pt=he.current,Yt=Ge.toLowerCase(),ge=performance.now();Pt.keys.length>0&&(ge-Pt.lastTime>500?(Pt.keys=[],Pt.repeating=!0,Pt.previousKeyMatched=!0):Pt.repeating&&Yt!==Pt.keys[0]&&(Pt.repeating=!1)),Pt.lastTime=ge,Pt.keys.push(Yt);const bt=ot&&!Pt.repeating&&Hb(ot,Pt);Pt.previousKeyMatched&&(bt||ng(Ae,ot,!1,V,i1,Pt))?ze.preventDefault():Pt.previousKeyMatched=!1}ue&&ue(ze)},Pe=t0(ae,d);let Ze=-1;He.Children.forEach(I,(ze,Ae)=>{if(!He.isValidElement(ze)){Ze===Ae&&(Ze+=1,Ze>=I.length&&(Ze=-1));return}ze.props.disabled||(te==="selectedMenu"&&ze.props.selected||Ze===-1)&&(Ze=Ae),Ze===Ae&&(ze.props.disabled||ze.props.muiSkipListHighlight||ze.type.muiSkipListHighlight)&&(Ze+=1,Ze>=I.length&&(Ze=-1))});const tt=He.Children.map(I,(ze,Ae)=>{if(Ae===Ze){const Ge={};return E&&(Ge.autoFocus=!0),ze.props.tabIndex===void 0&&te==="selectedMenu"&&(Ge.tabIndex=0),He.cloneElement(ze,Ge)}return ze});return $t.jsx(n4,{role:"menu",ref:Pe,className:s,onKeyDown:_e,tabIndex:D?0:-1,...ce,children:tt})});function O1(o){return typeof o=="string"}const qb=o=>o.scrollTop;function Om(o,p){const{timeout:d,easing:w,style:D={}}=o;return{duration:D.transitionDuration??(typeof d=="number"?d:d[p.mode]||0),easing:D.transitionTimingFunction??(typeof w=="object"?w[p.mode]:w),delay:D.transitionDelay}}function F1(o){return`scale(${o}, ${o**2})`}const u4={entering:{opacity:1,transform:F1(1)},entered:{opacity:1,transform:"none"}},a1=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),N1=He.forwardRef(function(p,d){const{addEndListener:w,appear:D=!0,children:E,easing:I,in:s,onEnter:V,onEntered:q,onEntering:ue,onExit:te,onExited:ce,onExiting:ae,style:he,timeout:_e="auto",TransitionComponent:Pe=Rh,...Ze}=p,tt=Fb(),ze=He.useRef(),Ae=D_(),Ge=He.useRef(null),$e=t0(Ge,kg(E),d),ot=Ft=>Nt=>{if(Ft){const cn=Ge.current;Nt===void 0?Ft(cn):Ft(cn,Nt)}},Pt=ot(ue),Yt=ot((Ft,Nt)=>{qb(Ft);const{duration:cn,delay:yt,easing:mt}=Om({style:he,timeout:_e,easing:I},{mode:"enter"});let jt;_e==="auto"?(jt=Ae.transitions.getAutoHeightDuration(Ft.clientHeight),ze.current=jt):jt=cn,Ft.style.transition=[Ae.transitions.create("opacity",{duration:jt,delay:yt}),Ae.transitions.create("transform",{duration:a1?jt:jt*.666,delay:yt,easing:mt})].join(","),V&&V(Ft,Nt)}),ge=ot(q),bt=ot(ae),St=ot(Ft=>{const{duration:Nt,delay:cn,easing:yt}=Om({style:he,timeout:_e,easing:I},{mode:"exit"});let mt;_e==="auto"?(mt=Ae.transitions.getAutoHeightDuration(Ft.clientHeight),ze.current=mt):mt=Nt,Ft.style.transition=[Ae.transitions.create("opacity",{duration:mt,delay:cn}),Ae.transitions.create("transform",{duration:a1?mt:mt*.666,delay:a1?cn:cn||mt*.333,easing:yt})].join(","),Ft.style.opacity=0,Ft.style.transform=F1(.75),te&&te(Ft)}),Bt=ot(ce),Wt=Ft=>{_e==="auto"&&tt.start(ze.current||0,Ft),w&&w(Ge.current,Ft)};return $t.jsx(Pe,{appear:D,in:s,nodeRef:Ge,onEnter:Yt,onEntered:ge,onEntering:Pt,onExit:St,onExited:Bt,onExiting:bt,addEndListener:Wt,timeout:_e==="auto"?null:_e,...Ze,children:(Ft,{ownerState:Nt,...cn})=>He.cloneElement(E,{style:{opacity:0,transform:F1(.75),visibility:Ft==="exited"&&!s?"hidden":void 0,...u4[Ft],...he,...E.props.style},ref:$e,...cn})})});N1&&(N1.muiSupportAuto=!0);function c4(o){const p=Nc(o);return p.body===o?fp(o).innerWidth>p.documentElement.clientWidth:o.scrollHeight>o.clientHeight}function gg(o,p){p?o.setAttribute("aria-hidden","true"):o.removeAttribute("aria-hidden")}function T2(o){return parseInt(fp(o).getComputedStyle(o).paddingRight,10)||0}function h4(o){const d=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(o.tagName),w=o.tagName==="INPUT"&&o.getAttribute("type")==="hidden";return d||w}function M2(o,p,d,w,D){const E=[p,d,...w];[].forEach.call(o.children,I=>{const s=!E.includes(I),V=!h4(I);s&&V&&gg(I,D)})}function o1(o,p){let d=-1;return o.some((w,D)=>p(w)?(d=D,!0):!1),d}function p4(o,p){const d=[],w=o.container;if(!p.disableScrollLock){if(c4(w)){const I=Zb(fp(w));d.push({value:w.style.paddingRight,property:"padding-right",el:w}),w.style.paddingRight=`${T2(w)+I}px`;const s=Nc(w).querySelectorAll(".mui-fixed");[].forEach.call(s,V=>{d.push({value:V.style.paddingRight,property:"padding-right",el:V}),V.style.paddingRight=`${T2(V)+I}px`})}let E;if(w.parentNode instanceof DocumentFragment)E=Nc(w).body;else{const I=w.parentElement,s=fp(w);E=(I==null?void 0:I.nodeName)==="HTML"&&s.getComputedStyle(I).overflowY==="scroll"?I:w}d.push({value:E.style.overflow,property:"overflow",el:E},{value:E.style.overflowX,property:"overflow-x",el:E},{value:E.style.overflowY,property:"overflow-y",el:E}),E.style.overflow="hidden"}return()=>{d.forEach(({value:E,el:I,property:s})=>{E?I.style.setProperty(s,E):I.style.removeProperty(s)})}}function d4(o){const p=[];return[].forEach.call(o.children,d=>{d.getAttribute("aria-hidden")==="true"&&p.push(d)}),p}class f4{constructor(){this.modals=[],this.containers=[]}add(p,d){let w=this.modals.indexOf(p);if(w!==-1)return w;w=this.modals.length,this.modals.push(p),p.modalRef&&gg(p.modalRef,!1);const D=d4(d);M2(d,p.mount,p.modalRef,D,!0);const E=o1(this.containers,I=>I.container===d);return E!==-1?(this.containers[E].modals.push(p),w):(this.containers.push({modals:[p],container:d,restore:null,hiddenSiblings:D}),w)}mount(p,d){const w=o1(this.containers,E=>E.modals.includes(p)),D=this.containers[w];D.restore||(D.restore=p4(D,d))}remove(p,d=!0){const w=this.modals.indexOf(p);if(w===-1)return w;const D=o1(this.containers,I=>I.modals.includes(p)),E=this.containers[D];if(E.modals.splice(E.modals.indexOf(p),1),this.modals.splice(w,1),E.modals.length===0)E.restore&&E.restore(),p.modalRef&&gg(p.modalRef,d),M2(E.container,p.mount,p.modalRef,E.hiddenSiblings,!1),this.containers.splice(D,1);else{const I=E.modals[E.modals.length-1];I.modalRef&&gg(I.modalRef,!1)}return w}isTopModal(p){return this.modals.length>0&&this.modals[this.modals.length-1]===p}}const g4=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function m4(o){const p=parseInt(o.getAttribute("tabindex")||"",10);return Number.isNaN(p)?o.contentEditable==="true"||(o.nodeName==="AUDIO"||o.nodeName==="VIDEO"||o.nodeName==="DETAILS")&&o.getAttribute("tabindex")===null?0:o.tabIndex:p}function y4(o){if(o.tagName!=="INPUT"||o.type!=="radio"||!o.name)return!1;const p=w=>o.ownerDocument.querySelector(`input[type="radio"]${w}`);let d=p(`[name="${o.name}"]:checked`);return d||(d=p(`[name="${o.name}"]`)),d!==o}function _4(o){return!(o.disabled||o.tagName==="INPUT"&&o.type==="hidden"||y4(o))}function v4(o){const p=[],d=[];return Array.from(o.querySelectorAll(g4)).forEach((w,D)=>{const E=m4(w);E===-1||!_4(w)||(E===0?p.push(w):d.push({documentOrder:D,tabIndex:E,node:w}))}),d.sort((w,D)=>w.tabIndex===D.tabIndex?w.documentOrder-D.documentOrder:w.tabIndex-D.tabIndex).map(w=>w.node).concat(p)}function x4(){return!0}function b4(o){const{children:p,disableAutoFocus:d=!1,disableEnforceFocus:w=!1,disableRestoreFocus:D=!1,getTabbable:E=v4,isEnabled:I=x4,open:s}=o,V=He.useRef(!1),q=He.useRef(null),ue=He.useRef(null),te=He.useRef(null),ce=He.useRef(null),ae=He.useRef(!1),he=He.useRef(null),_e=t0(kg(p),he),Pe=He.useRef(null);He.useEffect(()=>{!s||!he.current||(ae.current=!d)},[d,s]),He.useEffect(()=>{if(!s||!he.current)return;const ze=Nc(he.current);return he.current.contains(ze.activeElement)||(he.current.hasAttribute("tabIndex")||he.current.setAttribute("tabIndex","-1"),ae.current&&he.current.focus()),()=>{D||(te.current&&te.current.focus&&(V.current=!0,te.current.focus()),te.current=null)}},[s]),He.useEffect(()=>{if(!s||!he.current)return;const ze=Nc(he.current),Ae=ot=>{Pe.current=ot,!(w||!I()||ot.key!=="Tab")&&ze.activeElement===he.current&&ot.shiftKey&&(V.current=!0,ue.current&&ue.current.focus())},Ge=()=>{var Yt,ge;const ot=he.current;if(ot===null)return;if(!ze.hasFocus()||!I()||V.current){V.current=!1;return}if(ot.contains(ze.activeElement)||w&&ze.activeElement!==q.current&&ze.activeElement!==ue.current)return;if(ze.activeElement!==ce.current)ce.current=null;else if(ce.current!==null)return;if(!ae.current)return;let Pt=[];if((ze.activeElement===q.current||ze.activeElement===ue.current)&&(Pt=E(he.current)),Pt.length>0){const bt=!!((Yt=Pe.current)!=null&&Yt.shiftKey&&((ge=Pe.current)==null?void 0:ge.key)==="Tab"),St=Pt[0],Bt=Pt[Pt.length-1];typeof St!="string"&&typeof Bt!="string"&&(bt?Bt.focus():St.focus())}else ot.focus()};ze.addEventListener("focusin",Ge),ze.addEventListener("keydown",Ae,!0);const $e=setInterval(()=>{ze.activeElement&&ze.activeElement.tagName==="BODY"&&Ge()},50);return()=>{clearInterval($e),ze.removeEventListener("focusin",Ge),ze.removeEventListener("keydown",Ae,!0)}},[d,w,D,I,s,E]);const Ze=ze=>{te.current===null&&(te.current=ze.relatedTarget),ae.current=!0,ce.current=ze.target;const Ae=p.props.onFocus;Ae&&Ae(ze)},tt=ze=>{te.current===null&&(te.current=ze.relatedTarget),ae.current=!0};return $t.jsxs(He.Fragment,{children:[$t.jsx("div",{tabIndex:s?0:-1,onFocus:tt,ref:q,"data-testid":"sentinelStart"}),He.cloneElement(p,{ref:_e,onFocus:Ze}),$t.jsx("div",{tabIndex:s?0:-1,onFocus:tt,ref:ue,"data-testid":"sentinelEnd"})]})}function w4(o){return typeof o=="function"?o():o}const C4=He.forwardRef(function(p,d){const{children:w,container:D,disablePortal:E=!1}=p,[I,s]=He.useState(null),V=t0(He.isValidElement(w)?kg(w):null,d);if(Qp(()=>{E||s(w4(D)||document.body)},[D,E]),Qp(()=>{if(I&&!E)return A2(d,I),()=>{A2(d,null)}},[d,I,E]),E){if(He.isValidElement(w)){const q={ref:V};return He.cloneElement(w,q)}return w}return I&&Ob.createPortal(w,I)}),D4={entering:{opacity:1},entered:{opacity:1}},I4=He.forwardRef(function(p,d){const w=D_(),D={enter:w.transitions.duration.enteringScreen,exit:w.transitions.duration.leavingScreen},{addEndListener:E,appear:I=!0,children:s,easing:V,in:q,onEnter:ue,onEntered:te,onEntering:ce,onExit:ae,onExited:he,onExiting:_e,style:Pe,timeout:Ze=D,TransitionComponent:tt=Rh,...ze}=p,Ae=He.useRef(null),Ge=t0(Ae,kg(s),d),$e=Wt=>Ft=>{if(Wt){const Nt=Ae.current;Ft===void 0?Wt(Nt):Wt(Nt,Ft)}},ot=$e(ce),Pt=$e((Wt,Ft)=>{qb(Wt);const Nt=Om({style:Pe,timeout:Ze,easing:V},{mode:"enter"});Wt.style.webkitTransition=w.transitions.create("opacity",Nt),Wt.style.transition=w.transitions.create("opacity",Nt),ue&&ue(Wt,Ft)}),Yt=$e(te),ge=$e(_e),bt=$e(Wt=>{const Ft=Om({style:Pe,timeout:Ze,easing:V},{mode:"exit"});Wt.style.webkitTransition=w.transitions.create("opacity",Ft),Wt.style.transition=w.transitions.create("opacity",Ft),ae&&ae(Wt)}),St=$e(he),Bt=Wt=>{E&&E(Ae.current,Wt)};return $t.jsx(tt,{appear:I,in:q,nodeRef:Ae,onEnter:Pt,onEntered:Yt,onEntering:ot,onExit:bt,onExited:St,onExiting:ge,addEndListener:Bt,timeout:Ze,...ze,children:(Wt,{ownerState:Ft,...Nt})=>He.cloneElement(s,{style:{opacity:0,visibility:Wt==="exited"&&!q?"hidden":void 0,...D4[Wt],...Pe,...s.props.style},ref:Ge,...Nt})})});function A4(o){return ya("MuiBackdrop",o)}Zi("MuiBackdrop",["root","invisible"]);const S4=o=>{const{classes:p,invisible:d}=o;return ma({root:["root",d&&"invisible"]},A4,p)},T4=rr("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(o,p)=>{const{ownerState:d}=o;return[p.root,d.invisible&&p.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),M4=He.forwardRef(function(p,d){const w=Ha({props:p,name:"MuiBackdrop"}),{children:D,className:E,component:I="div",invisible:s=!1,open:V,components:q={},componentsProps:ue={},slotProps:te={},slots:ce={},TransitionComponent:ae,transitionDuration:he,..._e}=w,Pe={...w,component:I,invisible:s},Ze=S4(Pe),tt={transition:ae,root:q.Root,...ce},ze={...ue,...te},Ae={slots:tt,slotProps:ze},[Ge,$e]=K0("root",{elementType:T4,externalForwardedProps:Ae,className:Br(Ze.root,E),ownerState:Pe}),[ot,Pt]=K0("transition",{elementType:I4,externalForwardedProps:Ae,ownerState:Pe});return $t.jsx(ot,{in:V,timeout:he,..._e,...Pt,children:$t.jsx(Ge,{"aria-hidden":!0,...$e,classes:Ze,ref:d,children:D})})});function P4(o){return typeof o=="function"?o():o}function E4(o){return o?o.props.hasOwnProperty("in"):!1}const P2=()=>{},gm=new f4;function k4(o){const{container:p,disableEscapeKeyDown:d=!1,disableScrollLock:w=!1,closeAfterTransition:D=!1,onTransitionEnter:E,onTransitionExited:I,children:s,onClose:V,open:q,rootRef:ue}=o,te=He.useRef({}),ce=He.useRef(null),ae=He.useRef(null),he=t0(ae,ue),[_e,Pe]=He.useState(!q),Ze=E4(s);let tt=!0;(o["aria-hidden"]==="false"||o["aria-hidden"]===!1)&&(tt=!1);const ze=()=>Nc(ce.current),Ae=()=>(te.current.modalRef=ae.current,te.current.mount=ce.current,te.current),Ge=()=>{gm.mount(Ae(),{disableScrollLock:w}),ae.current&&(ae.current.scrollTop=0)},$e=zd(()=>{const Ft=P4(p)||ze().body;gm.add(Ae(),Ft),ae.current&&Ge()}),ot=()=>gm.isTopModal(Ae()),Pt=zd(Ft=>{ce.current=Ft,Ft&&(q&&ot()?Ge():ae.current&&gg(ae.current,tt))}),Yt=He.useCallback(()=>{gm.remove(Ae(),tt)},[tt]);He.useEffect(()=>()=>{Yt()},[Yt]),He.useEffect(()=>{q?$e():(!Ze||!D)&&Yt()},[q,Yt,Ze,D,$e]);const ge=Ft=>Nt=>{var cn;(cn=Ft.onKeyDown)==null||cn.call(Ft,Nt),!(Nt.key!=="Escape"||Nt.which===229||!ot())&&(d||(Nt.stopPropagation(),V&&V(Nt,"escapeKeyDown")))},bt=Ft=>Nt=>{var cn;(cn=Ft.onClick)==null||cn.call(Ft,Nt),Nt.target===Nt.currentTarget&&V&&V(Nt,"backdropClick")};return{getRootProps:(Ft={})=>{const Nt=jb(o);delete Nt.onTransitionEnter,delete Nt.onTransitionExited;const cn={...Nt,...Ft};return{role:"presentation",...cn,onKeyDown:ge(cn),ref:he}},getBackdropProps:(Ft={})=>{const Nt=Ft;return{"aria-hidden":!0,...Nt,onClick:bt(Nt),open:q}},getTransitionProps:()=>{const Ft=()=>{Pe(!1),E&&E()},Nt=()=>{Pe(!0),I&&I(),D&&Yt()};return{onEnter:L1(Ft,(s==null?void 0:s.props.onEnter)??P2),onExited:L1(Nt,(s==null?void 0:s.props.onExited)??P2)}},rootRef:he,portalRef:Pt,isTopModal:ot,exited:_e,hasTransition:Ze}}function R4(o){return ya("MuiModal",o)}Zi("MuiModal",["root","hidden","backdrop"]);const U4=o=>{const{open:p,exited:d,classes:w}=o;return ma({root:["root",!p&&d&&"hidden"],backdrop:["backdrop"]},R4,w)},z4=rr("div",{name:"MuiModal",slot:"Root",overridesResolver:(o,p)=>{const{ownerState:d}=o;return[p.root,!d.open&&d.exited&&p.hidden]}})(Wa(({theme:o})=>({position:"fixed",zIndex:(o.vars||o).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:p})=>!p.open&&p.exited,style:{visibility:"hidden"}}]}))),G4=rr(M4,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),L4=He.forwardRef(function(p,d){const w=Ha({name:"MuiModal",props:p}),{BackdropComponent:D=G4,BackdropProps:E,classes:I,className:s,closeAfterTransition:V=!1,children:q,container:ue,component:te,components:ce={},componentsProps:ae={},disableAutoFocus:he=!1,disableEnforceFocus:_e=!1,disableEscapeKeyDown:Pe=!1,disablePortal:Ze=!1,disableRestoreFocus:tt=!1,disableScrollLock:ze=!1,hideBackdrop:Ae=!1,keepMounted:Ge=!1,onClose:$e,onTransitionEnter:ot,onTransitionExited:Pt,open:Yt,slotProps:ge={},slots:bt={},theme:St,...Bt}=w,Wt={...w,closeAfterTransition:V,disableAutoFocus:he,disableEnforceFocus:_e,disableEscapeKeyDown:Pe,disablePortal:Ze,disableRestoreFocus:tt,disableScrollLock:ze,hideBackdrop:Ae,keepMounted:Ge},{getRootProps:Ft,getBackdropProps:Nt,getTransitionProps:cn,portalRef:yt,isTopModal:mt,exited:jt,hasTransition:qe}=k4({...Wt,rootRef:d}),Tt={...Wt,exited:jt},mn=U4(Tt),hn={};if(q.props.tabIndex===void 0&&(hn.tabIndex="-1"),qe){const{onEnter:An,onExited:Nn}=cn();hn.onEnter=An,hn.onExited=Nn}const kt={slots:{root:ce.Root,backdrop:ce.Backdrop,...bt},slotProps:{...ae,...ge}},[gn,wn]=K0("root",{ref:d,elementType:z4,externalForwardedProps:{...kt,...Bt,component:te},getSlotProps:Ft,ownerState:Tt,className:Br(s,mn==null?void 0:mn.root,!Tt.open&&Tt.exited&&(mn==null?void 0:mn.hidden))}),[Fn,Rn]=K0("backdrop",{ref:E==null?void 0:E.ref,elementType:D,externalForwardedProps:kt,shouldForwardComponentProp:!0,additionalProps:E,getSlotProps:An=>Nt({...An,onClick:Nn=>{An!=null&&An.onClick&&An.onClick(Nn)}}),className:Br(E==null?void 0:E.className,mn==null?void 0:mn.backdrop),ownerState:Tt});return!Ge&&!Yt&&(!qe||jt)?null:$t.jsx(C4,{ref:yt,container:ue,disablePortal:Ze,children:$t.jsxs(gn,{...wn,children:[!Ae&&D?$t.jsx(Fn,{...Rn}):null,$t.jsx(b4,{disableEnforceFocus:_e,disableAutoFocus:he,disableRestoreFocus:tt,isEnabled:mt,open:Yt,children:He.cloneElement(q,hn)})]})})});function B4(o){return ya("MuiPaper",o)}Zi("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const O4=o=>{const{square:p,elevation:d,variant:w,classes:D}=o,E={root:["root",w,!p&&"rounded",w==="elevation"&&`elevation${d}`]};return ma(E,B4,D)},F4=rr("div",{name:"MuiPaper",slot:"Root",overridesResolver:(o,p)=>{const{ownerState:d}=o;return[p.root,p[d.variant],!d.square&&p.rounded,d.variant==="elevation"&&p[`elevation${d.elevation}`]]}})(Wa(({theme:o})=>({backgroundColor:(o.vars||o).palette.background.paper,color:(o.vars||o).palette.text.primary,transition:o.transitions.create("box-shadow"),variants:[{props:({ownerState:p})=>!p.square,style:{borderRadius:o.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(o.vars||o).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),N4=He.forwardRef(function(p,d){var ae;const w=Ha({props:p,name:"MuiPaper"}),D=D_(),{className:E,component:I="div",elevation:s=1,square:V=!1,variant:q="elevation",...ue}=w,te={...w,component:I,elevation:s,square:V,variant:q},ce=O4(te);return $t.jsx(F4,{as:I,ownerState:te,className:Br(ce.root,E),ref:d,...ue,style:{...q==="elevation"&&{"--Paper-shadow":(D.vars||D).shadows[s],...D.vars&&{"--Paper-overlay":(ae=D.vars.overlays)==null?void 0:ae[s]},...!D.vars&&D.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${q0("#fff",k1(s))}, ${q0("#fff",k1(s))})`}},...ue.style}})});function $4(o){return ya("MuiPopover",o)}Zi("MuiPopover",["root","paper"]);function E2(o,p){let d=0;return typeof p=="number"?d=p:p==="center"?d=o.height/2:p==="bottom"&&(d=o.height),d}function k2(o,p){let d=0;return typeof p=="number"?d=p:p==="center"?d=o.width/2:p==="right"&&(d=o.width),d}function R2(o){return[o.horizontal,o.vertical].map(p=>typeof p=="number"?`${p}px`:p).join(" ")}function mm(o){return typeof o=="function"?o():o}const j4=o=>{const{classes:p}=o;return ma({root:["root"],paper:["paper"]},$4,p)},V4=rr(L4,{name:"MuiPopover",slot:"Root"})({}),Kb=rr(N4,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Z4=He.forwardRef(function(p,d){const w=Ha({props:p,name:"MuiPopover"}),{action:D,anchorEl:E,anchorOrigin:I={vertical:"top",horizontal:"left"},anchorPosition:s,anchorReference:V="anchorEl",children:q,className:ue,container:te,elevation:ce=8,marginThreshold:ae=16,open:he,PaperProps:_e={},slots:Pe={},slotProps:Ze={},transformOrigin:tt={vertical:"top",horizontal:"left"},TransitionComponent:ze,transitionDuration:Ae="auto",TransitionProps:Ge={},disableScrollLock:$e=!1,...ot}=w,Pt=He.useRef(),Yt={...w,anchorOrigin:I,anchorReference:V,elevation:ce,marginThreshold:ae,transformOrigin:tt,TransitionComponent:ze,transitionDuration:Ae,TransitionProps:Ge},ge=j4(Yt),bt=He.useCallback(()=>{if(V==="anchorPosition")return s;const An=mm(E),Kn=(An&&An.nodeType===1?An:Nc(Pt.current).body).getBoundingClientRect();return{top:Kn.top+E2(Kn,I.vertical),left:Kn.left+k2(Kn,I.horizontal)}},[E,I.horizontal,I.vertical,s,V]),St=He.useCallback(An=>({vertical:E2(An,tt.vertical),horizontal:k2(An,tt.horizontal)}),[tt.horizontal,tt.vertical]),Bt=He.useCallback(An=>{const Nn={width:An.offsetWidth,height:An.offsetHeight},Kn=St(Nn);if(V==="none")return{top:null,left:null,transformOrigin:R2(Kn)};const Hn=bt();let yn=Hn.top-Kn.vertical,yr=Hn.left-Kn.horizontal;const gi=yn+Nn.height,Ir=yr+Nn.width,Yr=fp(mm(E)),Li=Yr.innerHeight-ae,vr=Yr.innerWidth-ae;if(ae!==null&&yn<ae){const ur=yn-ae;yn-=ur,Kn.vertical+=ur}else if(ae!==null&&gi>Li){const ur=gi-Li;yn-=ur,Kn.vertical+=ur}if(ae!==null&&yr<ae){const ur=yr-ae;yr-=ur,Kn.horizontal+=ur}else if(Ir>vr){const ur=Ir-vr;yr-=ur,Kn.horizontal+=ur}return{top:`${Math.round(yn)}px`,left:`${Math.round(yr)}px`,transformOrigin:R2(Kn)}},[E,V,bt,St,ae]),[Wt,Ft]=He.useState(he),Nt=He.useCallback(()=>{const An=Pt.current;if(!An)return;const Nn=Bt(An);Nn.top!==null&&An.style.setProperty("top",Nn.top),Nn.left!==null&&(An.style.left=Nn.left),An.style.transformOrigin=Nn.transformOrigin,Ft(!0)},[Bt]);He.useEffect(()=>($e&&window.addEventListener("scroll",Nt),()=>window.removeEventListener("scroll",Nt)),[E,$e,Nt]);const cn=()=>{Nt()},yt=()=>{Ft(!1)};He.useEffect(()=>{he&&Nt()}),He.useImperativeHandle(D,()=>he?{updatePosition:()=>{Nt()}}:null,[he,Nt]),He.useEffect(()=>{if(!he)return;const An=Wb(()=>{Nt()}),Nn=fp(mm(E));return Nn.addEventListener("resize",An),()=>{An.clear(),Nn.removeEventListener("resize",An)}},[E,he,Nt]);let mt=Ae;const jt={slots:{transition:ze,...Pe},slotProps:{transition:Ge,paper:_e,...Ze}},[qe,Tt]=K0("transition",{elementType:N1,externalForwardedProps:jt,ownerState:Yt,getSlotProps:An=>({...An,onEntering:(Nn,Kn)=>{var Hn;(Hn=An.onEntering)==null||Hn.call(An,Nn,Kn),cn()},onExited:Nn=>{var Kn;(Kn=An.onExited)==null||Kn.call(An,Nn),yt()}}),additionalProps:{appear:!0,in:he}});Ae==="auto"&&!qe.muiSupportAuto&&(mt=void 0);const mn=te||(E?Nc(mm(E)).body:void 0),[hn,{slots:kt,slotProps:gn,...wn}]=K0("root",{ref:d,elementType:V4,externalForwardedProps:{...jt,...ot},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:Pe.backdrop},slotProps:{backdrop:s4(typeof Ze.backdrop=="function"?Ze.backdrop(Yt):Ze.backdrop,{invisible:!0})},container:mn,open:he},ownerState:Yt,className:Br(ge.root,ue)}),[Fn,Rn]=K0("paper",{ref:Pt,className:ge.paper,elementType:Kb,externalForwardedProps:jt,shouldForwardComponentProp:!0,additionalProps:{elevation:ce,style:Wt?void 0:{opacity:0}},ownerState:Yt});return $t.jsx(hn,{...wn,...!O1(hn)&&{slots:kt,slotProps:gn,disableScrollLock:$e},children:$t.jsx(qe,{...Tt,timeout:mt,children:$t.jsx(Fn,{...Rn,children:q})})})});function W4(o){return ya("MuiMenu",o)}Zi("MuiMenu",["root","paper","list"]);const H4={vertical:"top",horizontal:"right"},q4={vertical:"top",horizontal:"left"},K4=o=>{const{classes:p}=o;return ma({root:["root"],paper:["paper"],list:["list"]},W4,p)},X4=rr(Z4,{shouldForwardProp:o=>x0(o)||o==="classes",name:"MuiMenu",slot:"Root"})({}),Y4=rr(Kb,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Q4=rr(l4,{name:"MuiMenu",slot:"List"})({outline:0}),J4=He.forwardRef(function(p,d){const w=Ha({props:p,name:"MuiMenu"}),{autoFocus:D=!0,children:E,className:I,disableAutoFocusItem:s=!1,MenuListProps:V={},onClose:q,open:ue,PaperProps:te={},PopoverClasses:ce,transitionDuration:ae="auto",TransitionProps:{onEntering:he,..._e}={},variant:Pe="selectedMenu",slots:Ze={},slotProps:tt={},...ze}=w,Ae=sP(),Ge={...w,autoFocus:D,disableAutoFocusItem:s,MenuListProps:V,onEntering:he,PaperProps:te,transitionDuration:ae,TransitionProps:_e,variant:Pe},$e=K4(Ge),ot=D&&!s&&ue,Pt=He.useRef(null),Yt=(mt,jt)=>{Pt.current&&Pt.current.adjustStyleForScrollbar(mt,{direction:Ae?"rtl":"ltr"}),he&&he(mt,jt)},ge=mt=>{mt.key==="Tab"&&(mt.preventDefault(),q&&q(mt,"tabKeyDown"))};let bt=-1;He.Children.map(E,(mt,jt)=>{He.isValidElement(mt)&&(mt.props.disabled||(Pe==="selectedMenu"&&mt.props.selected||bt===-1)&&(bt=jt))});const St={slots:Ze,slotProps:{list:V,transition:_e,paper:te,...tt}},Bt=QE({elementType:Ze.root,externalSlotProps:tt.root,ownerState:Ge,className:[$e.root,I]}),[Wt,Ft]=K0("paper",{className:$e.paper,elementType:Y4,externalForwardedProps:St,shouldForwardComponentProp:!0,ownerState:Ge}),[Nt,cn]=K0("list",{className:Br($e.list,V.className),elementType:Q4,shouldForwardComponentProp:!0,externalForwardedProps:St,getSlotProps:mt=>({...mt,onKeyDown:jt=>{var qe;ge(jt),(qe=mt.onKeyDown)==null||qe.call(mt,jt)}}),ownerState:Ge}),yt=typeof St.slotProps.transition=="function"?St.slotProps.transition(Ge):St.slotProps.transition;return $t.jsx(X4,{onClose:q,anchorOrigin:{vertical:"bottom",horizontal:Ae?"right":"left"},transformOrigin:Ae?H4:q4,slots:{root:Ze.root,paper:Wt,backdrop:Ze.backdrop,...Ze.transition&&{transition:Ze.transition}},slotProps:{root:Bt,paper:Ft,backdrop:typeof tt.backdrop=="function"?tt.backdrop(Ge):tt.backdrop,transition:{...yt,onEntering:(...mt)=>{var jt;Yt(...mt),(jt=yt==null?void 0:yt.onEntering)==null||jt.call(yt,...mt)}}},open:ue,ref:d,transitionDuration:ae,ownerState:Ge,...ze,classes:ce,children:$t.jsx(Nt,{actions:Pt,autoFocus:D&&(bt===-1||s),autoFocusItem:ot,variant:Pe,...cn,children:E})})});function ek(o){return ya("MuiNativeSelect",o)}const P_=Zi("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),tk=o=>{const{classes:p,variant:d,disabled:w,multiple:D,open:E,error:I}=o,s={select:["select",d,w&&"disabled",D&&"multiple",I&&"error"],icon:["icon",`icon${kr(d)}`,E&&"iconOpen",w&&"disabled"]};return ma(s,ek,p)},Xb=rr("select")(({theme:o})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${P_.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(o.vars||o).palette.background.paper},variants:[{props:({ownerState:p})=>p.variant!=="filled"&&p.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(o.vars||o).shape.borderRadius,"&:focus":{borderRadius:(o.vars||o).shape.borderRadius},"&&&":{paddingRight:32}}}]})),nk=rr(Xb,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:x0,overridesResolver:(o,p)=>{const{ownerState:d}=o;return[p.select,p[d.variant],d.error&&p.error,{[`&.${P_.multiple}`]:p.multiple}]}})({}),Yb=rr("svg")(({theme:o})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(o.vars||o).palette.action.active,[`&.${P_.disabled}`]:{color:(o.vars||o).palette.action.disabled},variants:[{props:({ownerState:p})=>p.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),rk=rr(Yb,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(o,p)=>{const{ownerState:d}=o;return[p.icon,d.variant&&p[`icon${kr(d.variant)}`],d.open&&p.iconOpen]}})({}),ik=He.forwardRef(function(p,d){const{className:w,disabled:D,error:E,IconComponent:I,inputRef:s,variant:V="standard",...q}=p,ue={...p,disabled:D,variant:V,error:E},te=tk(ue);return $t.jsxs(He.Fragment,{children:[$t.jsx(nk,{ownerState:ue,className:Br(te.select,w),disabled:D,ref:s||d,...q}),p.multiple?null:$t.jsx(rk,{as:I,ownerState:ue,className:te.icon})]})});function Qb(o){return ya("MuiSelect",o)}const rg=Zi("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var U2;const ak=rr(Xb,{name:"MuiSelect",slot:"Select",overridesResolver:(o,p)=>{const{ownerState:d}=o;return[{[`&.${rg.select}`]:p.select},{[`&.${rg.select}`]:p[d.variant]},{[`&.${rg.error}`]:p.error},{[`&.${rg.multiple}`]:p.multiple}]}})({[`&.${rg.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),ok=rr(Yb,{name:"MuiSelect",slot:"Icon",overridesResolver:(o,p)=>{const{ownerState:d}=o;return[p.icon,d.variant&&p[`icon${kr(d.variant)}`],d.open&&p.iconOpen]}})({}),sk=rr("input",{shouldForwardProp:o=>Ub(o)&&o!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function z2(o,p){return typeof p=="object"&&p!==null?o===p:String(o)===String(p)}function lk(o){return o==null||typeof o=="string"&&!o.trim()}const uk=o=>{const{classes:p,variant:d,disabled:w,multiple:D,open:E,error:I}=o,s={select:["select",d,w&&"disabled",D&&"multiple",I&&"error"],icon:["icon",`icon${kr(d)}`,E&&"iconOpen",w&&"disabled"],nativeInput:["nativeInput"]};return ma(s,Qb,p)},ck=He.forwardRef(function(p,d){var _a;const{"aria-describedby":w,"aria-label":D,autoFocus:E,autoWidth:I,children:s,className:V,defaultOpen:q,defaultValue:ue,disabled:te,displayEmpty:ce,error:ae=!1,IconComponent:he,inputRef:_e,labelId:Pe,MenuProps:Ze={},multiple:tt,name:ze,onBlur:Ae,onChange:Ge,onClose:$e,onFocus:ot,onOpen:Pt,open:Yt,readOnly:ge,renderValue:bt,required:St,SelectDisplayProps:Bt={},tabIndex:Wt,type:Ft,value:Nt,variant:cn="standard",...yt}=p,[mt,jt]=Bm({controlled:Nt,default:ue,name:"Select"}),[qe,Tt]=Bm({controlled:Yt,default:q,name:"Select"}),mn=He.useRef(null),hn=He.useRef(null),[kt,gn]=He.useState(null),{current:wn}=He.useRef(Yt!=null),[Fn,Rn]=He.useState(),An=t0(d,_e),Nn=He.useCallback(Fe=>{hn.current=Fe,Fe&&gn(Fe)},[]),Kn=kt==null?void 0:kt.parentNode;He.useImperativeHandle(An,()=>({focus:()=>{hn.current.focus()},node:mn.current,value:mt}),[mt]),He.useEffect(()=>{q&&qe&&kt&&!wn&&(Rn(I?null:Kn.clientWidth),hn.current.focus())},[kt,I]),He.useEffect(()=>{E&&hn.current.focus()},[E]),He.useEffect(()=>{if(!Pe)return;const Fe=Nc(hn.current).getElementById(Pe);if(Fe){const ne=()=>{getSelection().isCollapsed&&hn.current.focus()};return Fe.addEventListener("click",ne),()=>{Fe.removeEventListener("click",ne)}}},[Pe]);const Hn=(Fe,ne)=>{Fe?Pt&&Pt(ne):$e&&$e(ne),wn||(Rn(I?null:Kn.clientWidth),Tt(Fe))},yn=Fe=>{Fe.button===0&&(Fe.preventDefault(),hn.current.focus(),Hn(!0,Fe))},yr=Fe=>{Hn(!1,Fe)},gi=He.Children.toArray(s),Ir=Fe=>{const ne=gi.find(oe=>oe.props.value===Fe.target.value);ne!==void 0&&(jt(ne.props.value),Ge&&Ge(Fe,ne))},Yr=Fe=>ne=>{let oe;if(ne.currentTarget.hasAttribute("tabindex")){if(tt){oe=Array.isArray(mt)?mt.slice():[];const ve=mt.indexOf(Fe.props.value);ve===-1?oe.push(Fe.props.value):oe.splice(ve,1)}else oe=Fe.props.value;if(Fe.props.onClick&&Fe.props.onClick(ne),mt!==oe&&(jt(oe),Ge)){const ve=ne.nativeEvent||ne,Me=new ve.constructor(ve.type,ve);Object.defineProperty(Me,"target",{writable:!0,value:{value:oe,name:ze}}),Ge(Me,Fe)}tt||Hn(!1,ne)}},Li=Fe=>{ge||[" ","ArrowUp","ArrowDown","Enter"].includes(Fe.key)&&(Fe.preventDefault(),Hn(!0,Fe))},vr=kt!==null&&qe,ur=Fe=>{!vr&&Ae&&(Object.defineProperty(Fe,"target",{writable:!0,value:{value:mt,name:ze}}),Ae(Fe))};delete yt["aria-invalid"];let Cn,Or;const ni=[];let Wi=!1;(Lm({value:mt})||ce)&&(bt?Cn=bt(mt):Wi=!0);const Ga=gi.map(Fe=>{if(!He.isValidElement(Fe))return null;let ne;if(tt){if(!Array.isArray(mt))throw new Error(hp(2));ne=mt.some(oe=>z2(oe,Fe.props.value)),ne&&Wi&&ni.push(Fe.props.children)}else ne=z2(mt,Fe.props.value),ne&&Wi&&(Or=Fe.props.children);return He.cloneElement(Fe,{"aria-selected":ne?"true":"false",onClick:Yr(Fe),onKeyUp:oe=>{oe.key===" "&&oe.preventDefault(),Fe.props.onKeyUp&&Fe.props.onKeyUp(oe)},role:"option",selected:ne,value:void 0,"data-value":Fe.props.value})});Wi&&(tt?ni.length===0?Cn=null:Cn=ni.reduce((Fe,ne,oe)=>(Fe.push(ne),oe<ni.length-1&&Fe.push(", "),Fe),[]):Cn=Or);let Hi=Fn;!I&&wn&&kt&&(Hi=Kn.clientWidth);let Qr;typeof Wt<"u"?Qr=Wt:Qr=te?null:0;const Bi=Bt.id||(ze?`mui-component-select-${ze}`:void 0),wi={...p,variant:cn,value:mt,open:vr,error:ae},xr=uk(wi),Ci={...Ze.PaperProps,...(_a=Ze.slotProps)==null?void 0:_a.paper},ri=M_();return $t.jsxs(He.Fragment,{children:[$t.jsx(ak,{as:"div",ref:Nn,tabIndex:Qr,role:"combobox","aria-controls":vr?ri:void 0,"aria-disabled":te?"true":void 0,"aria-expanded":vr?"true":"false","aria-haspopup":"listbox","aria-label":D,"aria-labelledby":[Pe,Bi].filter(Boolean).join(" ")||void 0,"aria-describedby":w,"aria-required":St?"true":void 0,"aria-invalid":ae?"true":void 0,onKeyDown:Li,onMouseDown:te||ge?null:yn,onBlur:ur,onFocus:ot,...Bt,ownerState:wi,className:Br(Bt.className,xr.select,V),id:Bi,children:lk(Cn)?U2||(U2=$t.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):Cn}),$t.jsx(sk,{"aria-invalid":ae,value:Array.isArray(mt)?mt.join(","):mt,name:ze,ref:mn,"aria-hidden":!0,onChange:Ir,tabIndex:-1,disabled:te,className:xr.nativeInput,autoFocus:E,required:St,...yt,ownerState:wi}),$t.jsx(ok,{as:he,className:xr.icon,ownerState:wi}),$t.jsx(J4,{id:`menu-${ze||""}`,anchorEl:Kn,open:vr,onClose:yr,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...Ze,slotProps:{...Ze.slotProps,list:{"aria-labelledby":Pe,role:"listbox","aria-multiselectable":tt?"true":void 0,disableListWrap:!0,id:ri,...Ze.MenuListProps},paper:{...Ci,style:{minWidth:Hi,...Ci!=null?Ci.style:null}}},children:Ga})]})}),hk=Rg($t.jsx("path",{d:"M7 10l5 5 5-5z"}));function ym(o){return parseInt(o,10)||0}const pk={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function dk(o){for(const p in o)return!1;return!0}function G2(o){return dk(o)||o.outerHeightStyle===0&&!o.overflowing}const fk=He.forwardRef(function(p,d){const{onChange:w,maxRows:D,minRows:E=1,style:I,value:s,...V}=p,{current:q}=He.useRef(s!=null),ue=He.useRef(null),te=t0(d,ue),ce=He.useRef(null),ae=He.useRef(null),he=He.useCallback(()=>{const ze=ue.current,Ae=ae.current;if(!ze||!Ae)return;const $e=fp(ze).getComputedStyle(ze);if($e.width==="0px")return{outerHeightStyle:0,overflowing:!1};Ae.style.width=$e.width,Ae.value=ze.value||p.placeholder||"x",Ae.value.slice(-1)===`
`&&(Ae.value+=" ");const ot=$e.boxSizing,Pt=ym($e.paddingBottom)+ym($e.paddingTop),Yt=ym($e.borderBottomWidth)+ym($e.borderTopWidth),ge=Ae.scrollHeight;Ae.value="x";const bt=Ae.scrollHeight;let St=ge;E&&(St=Math.max(Number(E)*bt,St)),D&&(St=Math.min(Number(D)*bt,St)),St=Math.max(St,bt);const Bt=St+(ot==="border-box"?Pt+Yt:0),Wt=Math.abs(St-ge)<=1;return{outerHeightStyle:Bt,overflowing:Wt}},[D,E,p.placeholder]),_e=zd(()=>{const ze=ue.current,Ae=he();if(!ze||!Ae||G2(Ae))return!1;const Ge=Ae.outerHeightStyle;return ce.current!=null&&ce.current!==Ge}),Pe=He.useCallback(()=>{const ze=ue.current,Ae=he();if(!ze||!Ae||G2(Ae))return;const Ge=Ae.outerHeightStyle;ce.current!==Ge&&(ce.current=Ge,ze.style.height=`${Ge}px`),ze.style.overflow=Ae.overflowing?"hidden":""},[he]),Ze=He.useRef(-1);Qp(()=>{const ze=Wb(Pe),Ae=ue==null?void 0:ue.current;if(!Ae)return;const Ge=fp(Ae);Ge.addEventListener("resize",ze);let $e;return typeof ResizeObserver<"u"&&($e=new ResizeObserver(()=>{_e()&&($e.unobserve(Ae),cancelAnimationFrame(Ze.current),Pe(),Ze.current=requestAnimationFrame(()=>{$e.observe(Ae)}))}),$e.observe(Ae)),()=>{ze.clear(),cancelAnimationFrame(Ze.current),Ge.removeEventListener("resize",ze),$e&&$e.disconnect()}},[he,Pe,_e]),Qp(()=>{Pe()});const tt=ze=>{q||Pe();const Ae=ze.target,Ge=Ae.value.length,$e=Ae.value.endsWith(`
`),ot=Ae.selectionStart===Ge;$e&&ot&&Ae.setSelectionRange(Ge,Ge),w&&w(ze)};return $t.jsxs(He.Fragment,{children:[$t.jsx("textarea",{value:s,onChange:tt,ref:te,rows:E,style:I,...V}),$t.jsx("textarea",{"aria-hidden":!0,className:p.className,readOnly:!0,ref:ae,tabIndex:-1,style:{...pk.shadow,...I,paddingTop:0,paddingBottom:0}})]})});function gk(o){return ya("MuiInputBase",o)}const wf=Zi("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var L2;const ry=(o,p)=>{const{ownerState:d}=o;return[p.root,d.formControl&&p.formControl,d.startAdornment&&p.adornedStart,d.endAdornment&&p.adornedEnd,d.error&&p.error,d.size==="small"&&p.sizeSmall,d.multiline&&p.multiline,d.color&&p[`color${kr(d.color)}`],d.fullWidth&&p.fullWidth,d.hiddenLabel&&p.hiddenLabel]},iy=(o,p)=>{const{ownerState:d}=o;return[p.input,d.size==="small"&&p.inputSizeSmall,d.multiline&&p.inputMultiline,d.type==="search"&&p.inputTypeSearch,d.startAdornment&&p.inputAdornedStart,d.endAdornment&&p.inputAdornedEnd,d.hiddenLabel&&p.inputHiddenLabel]},mk=o=>{const{classes:p,color:d,disabled:w,error:D,endAdornment:E,focused:I,formControl:s,fullWidth:V,hiddenLabel:q,multiline:ue,readOnly:te,size:ce,startAdornment:ae,type:he}=o,_e={root:["root",`color${kr(d)}`,w&&"disabled",D&&"error",V&&"fullWidth",I&&"focused",s&&"formControl",ce&&ce!=="medium"&&`size${kr(ce)}`,ue&&"multiline",ae&&"adornedStart",E&&"adornedEnd",q&&"hiddenLabel",te&&"readOnly"],input:["input",w&&"disabled",he==="search"&&"inputTypeSearch",ue&&"inputMultiline",ce==="small"&&"inputSizeSmall",q&&"inputHiddenLabel",ae&&"inputAdornedStart",E&&"inputAdornedEnd",te&&"readOnly"]};return ma(_e,gk,p)},ay=rr("div",{name:"MuiInputBase",slot:"Root",overridesResolver:ry})(Wa(({theme:o})=>({...o.typography.body1,color:(o.vars||o).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${wf.disabled}`]:{color:(o.vars||o).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:p})=>p.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:p,size:d})=>p.multiline&&d==="small",style:{paddingTop:1}},{props:({ownerState:p})=>p.fullWidth,style:{width:"100%"}}]}))),oy=rr("input",{name:"MuiInputBase",slot:"Input",overridesResolver:iy})(Wa(({theme:o})=>{const p=o.palette.mode==="light",d={color:"currentColor",...o.vars?{opacity:o.vars.opacity.inputPlaceholder}:{opacity:p?.42:.5},transition:o.transitions.create("opacity",{duration:o.transitions.duration.shorter})},w={opacity:"0 !important"},D=o.vars?{opacity:o.vars.opacity.inputPlaceholder}:{opacity:p?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":d,"&::-moz-placeholder":d,"&::-ms-input-placeholder":d,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${wf.formControl} &`]:{"&::-webkit-input-placeholder":w,"&::-moz-placeholder":w,"&::-ms-input-placeholder":w,"&:focus::-webkit-input-placeholder":D,"&:focus::-moz-placeholder":D,"&:focus::-ms-input-placeholder":D},[`&.${wf.disabled}`]:{opacity:1,WebkitTextFillColor:(o.vars||o).palette.text.disabled},variants:[{props:({ownerState:E})=>!E.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:E})=>E.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),B2=XP({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),E_=He.forwardRef(function(p,d){const w=Ha({props:p,name:"MuiInputBase"}),{"aria-describedby":D,autoComplete:E,autoFocus:I,className:s,color:V,components:q={},componentsProps:ue={},defaultValue:te,disabled:ce,disableInjectingGlobalStyles:ae,endAdornment:he,error:_e,fullWidth:Pe=!1,id:Ze,inputComponent:tt="input",inputProps:ze={},inputRef:Ae,margin:Ge,maxRows:$e,minRows:ot,multiline:Pt=!1,name:Yt,onBlur:ge,onChange:bt,onClick:St,onFocus:Bt,onKeyDown:Wt,onKeyUp:Ft,placeholder:Nt,readOnly:cn,renderSuffix:yt,rows:mt,size:jt,slotProps:qe={},slots:Tt={},startAdornment:mn,type:hn="text",value:kt,...gn}=w,wn=ze.value!=null?ze.value:kt,{current:Fn}=He.useRef(wn!=null),Rn=He.useRef(),An=He.useCallback(xr=>{},[]),Nn=t0(Rn,Ae,ze.ref,An),[Kn,Hn]=He.useState(!1),yn=yp(),yr=Ld({props:w,muiFormControl:yn,states:["color","disabled","error","hiddenLabel","size","required","filled"]});yr.focused=yn?yn.focused:Kn,He.useEffect(()=>{!yn&&ce&&Kn&&(Hn(!1),ge&&ge())},[yn,ce,Kn,ge]);const gi=yn&&yn.onFilled,Ir=yn&&yn.onEmpty,Yr=He.useCallback(xr=>{Lm(xr)?gi&&gi():Ir&&Ir()},[gi,Ir]);Qp(()=>{Fn&&Yr({value:wn})},[wn,Yr,Fn]);const Li=xr=>{Bt&&Bt(xr),ze.onFocus&&ze.onFocus(xr),yn&&yn.onFocus?yn.onFocus(xr):Hn(!0)},vr=xr=>{ge&&ge(xr),ze.onBlur&&ze.onBlur(xr),yn&&yn.onBlur?yn.onBlur(xr):Hn(!1)},ur=(xr,...Ci)=>{if(!Fn){const ri=xr.target||Rn.current;if(ri==null)throw new Error(hp(1));Yr({value:ri.value})}ze.onChange&&ze.onChange(xr,...Ci),bt&&bt(xr,...Ci)};He.useEffect(()=>{Yr(Rn.current)},[]);const Cn=xr=>{Rn.current&&xr.currentTarget===xr.target&&Rn.current.focus(),St&&St(xr)};let Or=tt,ni=ze;Pt&&Or==="input"&&(mt?ni={type:void 0,minRows:mt,maxRows:mt,...ni}:ni={type:void 0,maxRows:$e,minRows:ot,...ni},Or=fk);const Wi=xr=>{Yr(xr.animationName==="mui-auto-fill-cancel"?Rn.current:{value:"x"})};He.useEffect(()=>{yn&&yn.setAdornedStart(!!mn)},[yn,mn]);const Ga={...w,color:yr.color||"primary",disabled:yr.disabled,endAdornment:he,error:yr.error,focused:yr.focused,formControl:yn,fullWidth:Pe,hiddenLabel:yr.hiddenLabel,multiline:Pt,size:yr.size,startAdornment:mn,type:hn},Hi=mk(Ga),Qr=Tt.root||q.Root||ay,Bi=qe.root||ue.root||{},wi=Tt.input||q.Input||oy;return ni={...ni,...qe.input??ue.input},$t.jsxs(He.Fragment,{children:[!ae&&typeof B2=="function"&&(L2||(L2=$t.jsx(B2,{}))),$t.jsxs(Qr,{...Bi,ref:d,onClick:Cn,...gn,...!O1(Qr)&&{ownerState:{...Ga,...Bi.ownerState}},className:Br(Hi.root,Bi.className,s,cn&&"MuiInputBase-readOnly"),children:[mn,$t.jsx(i_.Provider,{value:null,children:$t.jsx(wi,{"aria-invalid":yr.error,"aria-describedby":D,autoComplete:E,autoFocus:I,defaultValue:te,disabled:yr.disabled,id:Ze,onAnimationStart:Wi,name:Yt,placeholder:Nt,readOnly:cn,required:yr.required,rows:mt,value:wn,onKeyDown:Wt,onKeyUp:Ft,type:hn,...ni,...!O1(wi)&&{as:Or,ownerState:{...Ga,...ni.ownerState}},ref:Nn,className:Br(Hi.input,ni.className,cn&&"MuiInputBase-readOnly"),onBlur:vr,onChange:ur,onFocus:Li})}),he,yt?yt({...yr,startAdornment:mn}):null]})]})});function yk(o){return ya("MuiInput",o)}const ig={...wf,...Zi("MuiInput",["root","underline","input"])},_k=o=>{const{classes:p,disableUnderline:d}=o,D=ma({root:["root",!d&&"underline"],input:["input"]},yk,p);return{...p,...D}},vk=rr(ay,{shouldForwardProp:o=>x0(o)||o==="classes",name:"MuiInput",slot:"Root",overridesResolver:(o,p)=>{const{ownerState:d}=o;return[...ry(o,p),!d.disableUnderline&&p.underline]}})(Wa(({theme:o})=>{let d=o.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return o.vars&&(d=`rgba(${o.vars.palette.common.onBackgroundChannel} / ${o.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:w})=>w.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:w})=>!w.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:o.transitions.create("transform",{duration:o.transitions.duration.shorter,easing:o.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ig.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ig.error}`]:{"&::before, &::after":{borderBottomColor:(o.vars||o).palette.error.main}},"&::before":{borderBottom:`1px solid ${d}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:o.transitions.create("border-bottom-color",{duration:o.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ig.disabled}, .${ig.error}):before`]:{borderBottom:`2px solid ${(o.vars||o).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${d}`}},[`&.${ig.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(o.palette).filter(dp()).map(([w])=>({props:{color:w,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(o.vars||o).palette[w].main}`}}}))]}})),xk=rr(oy,{name:"MuiInput",slot:"Input",overridesResolver:iy})({}),Jb=He.forwardRef(function(p,d){const w=Ha({props:p,name:"MuiInput"}),{disableUnderline:D=!1,components:E={},componentsProps:I,fullWidth:s=!1,inputComponent:V="input",multiline:q=!1,slotProps:ue,slots:te={},type:ce="text",...ae}=w,he=_k(w),Pe={root:{ownerState:{disableUnderline:D}}},Ze=ue??I?e0(ue??I,Pe):Pe,tt=te.root??E.Root??vk,ze=te.input??E.Input??xk;return $t.jsx(E_,{slots:{root:tt,input:ze},slotProps:Ze,fullWidth:s,inputComponent:V,multiline:q,ref:d,type:ce,...ae,classes:he})});Jb.muiName="Input";function bk(o){return ya("MuiFilledInput",o)}const Td={...wf,...Zi("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},wk=o=>{const{classes:p,disableUnderline:d,startAdornment:w,endAdornment:D,size:E,hiddenLabel:I,multiline:s}=o,V={root:["root",!d&&"underline",w&&"adornedStart",D&&"adornedEnd",E==="small"&&`size${kr(E)}`,I&&"hiddenLabel",s&&"multiline"],input:["input"]},q=ma(V,bk,p);return{...p,...q}},Ck=rr(ay,{shouldForwardProp:o=>x0(o)||o==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(o,p)=>{const{ownerState:d}=o;return[...ry(o,p),!d.disableUnderline&&p.underline]}})(Wa(({theme:o})=>{const p=o.palette.mode==="light",d=p?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",w=p?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",D=p?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",E=p?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:o.vars?o.vars.palette.FilledInput.bg:w,borderTopLeftRadius:(o.vars||o).shape.borderRadius,borderTopRightRadius:(o.vars||o).shape.borderRadius,transition:o.transitions.create("background-color",{duration:o.transitions.duration.shorter,easing:o.transitions.easing.easeOut}),"&:hover":{backgroundColor:o.vars?o.vars.palette.FilledInput.hoverBg:D,"@media (hover: none)":{backgroundColor:o.vars?o.vars.palette.FilledInput.bg:w}},[`&.${Td.focused}`]:{backgroundColor:o.vars?o.vars.palette.FilledInput.bg:w},[`&.${Td.disabled}`]:{backgroundColor:o.vars?o.vars.palette.FilledInput.disabledBg:E},variants:[{props:({ownerState:I})=>!I.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:o.transitions.create("transform",{duration:o.transitions.duration.shorter,easing:o.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Td.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Td.error}`]:{"&::before, &::after":{borderBottomColor:(o.vars||o).palette.error.main}},"&::before":{borderBottom:`1px solid ${o.vars?`rgba(${o.vars.palette.common.onBackgroundChannel} / ${o.vars.opacity.inputUnderline})`:d}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:o.transitions.create("border-bottom-color",{duration:o.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Td.disabled}, .${Td.error}):before`]:{borderBottom:`1px solid ${(o.vars||o).palette.text.primary}`},[`&.${Td.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(o.palette).filter(dp()).map(([I])=>{var s;return{props:{disableUnderline:!1,color:I},style:{"&::after":{borderBottom:`2px solid ${(s=(o.vars||o).palette[I])==null?void 0:s.main}`}}}}),{props:({ownerState:I})=>I.startAdornment,style:{paddingLeft:12}},{props:({ownerState:I})=>I.endAdornment,style:{paddingRight:12}},{props:({ownerState:I})=>I.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:I,size:s})=>I.multiline&&s==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:I})=>I.multiline&&I.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:I})=>I.multiline&&I.hiddenLabel&&I.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),Dk=rr(oy,{name:"MuiFilledInput",slot:"Input",overridesResolver:iy})(Wa(({theme:o})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!o.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:o.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:o.palette.mode==="light"?null:"#fff",caretColor:o.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...o.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[o.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:p})=>p.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:p})=>p.startAdornment,style:{paddingLeft:0}},{props:({ownerState:p})=>p.endAdornment,style:{paddingRight:0}},{props:({ownerState:p})=>p.hiddenLabel&&p.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:p})=>p.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),ew=He.forwardRef(function(p,d){const w=Ha({props:p,name:"MuiFilledInput"}),{disableUnderline:D=!1,components:E={},componentsProps:I,fullWidth:s=!1,hiddenLabel:V,inputComponent:q="input",multiline:ue=!1,slotProps:te,slots:ce={},type:ae="text",...he}=w,_e={...w,disableUnderline:D,fullWidth:s,inputComponent:q,multiline:ue,type:ae},Pe=wk(w),Ze={root:{ownerState:_e},input:{ownerState:_e}},tt=te??I?e0(Ze,te??I):Ze,ze=ce.root??E.Root??Ck,Ae=ce.input??E.Input??Dk;return $t.jsx(E_,{slots:{root:ze,input:Ae},slotProps:tt,fullWidth:s,inputComponent:q,multiline:ue,ref:d,type:ae,...he,classes:Pe})});ew.muiName="Input";var O2;const Ik=rr("fieldset",{shouldForwardProp:x0})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Ak=rr("legend",{shouldForwardProp:x0})(Wa(({theme:o})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:p})=>!p.withLabel,style:{padding:0,lineHeight:"11px",transition:o.transitions.create("width",{duration:150,easing:o.transitions.easing.easeOut})}},{props:({ownerState:p})=>p.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:o.transitions.create("max-width",{duration:50,easing:o.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:p})=>p.withLabel&&p.notched,style:{maxWidth:"100%",transition:o.transitions.create("max-width",{duration:100,easing:o.transitions.easing.easeOut,delay:50})}}]})));function Sk(o){const{children:p,classes:d,className:w,label:D,notched:E,...I}=o,s=D!=null&&D!=="",V={...o,notched:E,withLabel:s};return $t.jsx(Ik,{"aria-hidden":!0,className:w,ownerState:V,...I,children:$t.jsx(Ak,{ownerState:V,children:s?$t.jsx("span",{children:D}):O2||(O2=$t.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}function Tk(o){return ya("MuiOutlinedInput",o)}const Sh={...wf,...Zi("MuiOutlinedInput",["root","notchedOutline","input"])},Mk=o=>{const{classes:p}=o,w=ma({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Tk,p);return{...p,...w}},Pk=rr(ay,{shouldForwardProp:o=>x0(o)||o==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:ry})(Wa(({theme:o})=>{const p=o.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(o.vars||o).shape.borderRadius,[`&:hover .${Sh.notchedOutline}`]:{borderColor:(o.vars||o).palette.text.primary},"@media (hover: none)":{[`&:hover .${Sh.notchedOutline}`]:{borderColor:o.vars?`rgba(${o.vars.palette.common.onBackgroundChannel} / 0.23)`:p}},[`&.${Sh.focused} .${Sh.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(o.palette).filter(dp()).map(([d])=>({props:{color:d},style:{[`&.${Sh.focused} .${Sh.notchedOutline}`]:{borderColor:(o.vars||o).palette[d].main}}})),{props:{},style:{[`&.${Sh.error} .${Sh.notchedOutline}`]:{borderColor:(o.vars||o).palette.error.main},[`&.${Sh.disabled} .${Sh.notchedOutline}`]:{borderColor:(o.vars||o).palette.action.disabled}}},{props:({ownerState:d})=>d.startAdornment,style:{paddingLeft:14}},{props:({ownerState:d})=>d.endAdornment,style:{paddingRight:14}},{props:({ownerState:d})=>d.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:d,size:w})=>d.multiline&&w==="small",style:{padding:"8.5px 14px"}}]}})),Ek=rr(Sk,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(Wa(({theme:o})=>{const p=o.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:o.vars?`rgba(${o.vars.palette.common.onBackgroundChannel} / 0.23)`:p}})),kk=rr(oy,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:iy})(Wa(({theme:o})=>({padding:"16.5px 14px",...!o.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:o.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:o.palette.mode==="light"?null:"#fff",caretColor:o.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...o.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[o.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:p})=>p.multiline,style:{padding:0}},{props:({ownerState:p})=>p.startAdornment,style:{paddingLeft:0}},{props:({ownerState:p})=>p.endAdornment,style:{paddingRight:0}}]}))),tw=He.forwardRef(function(p,d){const w=Ha({props:p,name:"MuiOutlinedInput"}),{components:D={},fullWidth:E=!1,inputComponent:I="input",label:s,multiline:V=!1,notched:q,slots:ue={},slotProps:te={},type:ce="text",...ae}=w,he=Mk(w),_e=yp(),Pe=Ld({props:w,muiFormControl:_e,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),Ze={...w,color:Pe.color||"primary",disabled:Pe.disabled,error:Pe.error,focused:Pe.focused,formControl:_e,fullWidth:E,hiddenLabel:Pe.hiddenLabel,multiline:V,size:Pe.size,type:ce},tt=ue.root??D.Root??Pk,ze=ue.input??D.Input??kk,[Ae,Ge]=K0("notchedOutline",{elementType:Ek,className:he.notchedOutline,shouldForwardComponentProp:!0,ownerState:Ze,externalForwardedProps:{slots:ue,slotProps:te},additionalProps:{label:s!=null&&s!==""&&Pe.required?$t.jsxs(He.Fragment,{children:[s," ","*"]}):s}});return $t.jsx(E_,{slots:{root:tt,input:ze},slotProps:te,renderSuffix:$e=>$t.jsx(Ae,{...Ge,notched:typeof q<"u"?q:!!($e.startAdornment||$e.filled||$e.focused)}),fullWidth:E,inputComponent:I,multiline:V,ref:d,type:ce,...ae,classes:{...he,notchedOutline:null}})});tw.muiName="Input";const Rk=o=>{const{classes:p}=o,w=ma({root:["root"]},Qb,p);return{...p,...w}},k_={name:"MuiSelect",slot:"Root",shouldForwardProp:o=>x0(o)&&o!=="variant"},Uk=rr(Jb,k_)(""),zk=rr(tw,k_)(""),Gk=rr(ew,k_)(""),nw=He.forwardRef(function(p,d){const w=Ha({name:"MuiSelect",props:p}),{autoWidth:D=!1,children:E,classes:I={},className:s,defaultOpen:V=!1,displayEmpty:q=!1,IconComponent:ue=hk,id:te,input:ce,inputProps:ae,label:he,labelId:_e,MenuProps:Pe,multiple:Ze=!1,native:tt=!1,onClose:ze,onOpen:Ae,open:Ge,renderValue:$e,SelectDisplayProps:ot,variant:Pt="outlined",...Yt}=w,ge=tt?ik:ck,bt=yp(),St=Ld({props:w,muiFormControl:bt,states:["variant","error"]}),Bt=St.variant||Pt,Wt={...w,variant:Bt,classes:I},Ft=Rk(Wt),{root:Nt,...cn}=Ft,yt=ce||{standard:$t.jsx(Uk,{ownerState:Wt}),outlined:$t.jsx(zk,{label:he,ownerState:Wt}),filled:$t.jsx(Gk,{ownerState:Wt})}[Bt],mt=t0(d,kg(yt));return $t.jsx(He.Fragment,{children:He.cloneElement(yt,{inputComponent:ge,inputProps:{children:E,error:St.error,IconComponent:ue,variant:Bt,type:void 0,multiple:Ze,...tt?{id:te}:{autoWidth:D,defaultOpen:V,displayEmpty:q,labelId:_e,MenuProps:Pe,onClose:ze,onOpen:Ae,open:Ge,renderValue:$e,SelectDisplayProps:{id:te,...ot}},...ae,classes:ae?e0(cn,ae.classes):cn,...ce?ce.props.inputProps:{}},...(Ze&&tt||q)&&Bt==="outlined"?{notched:!0}:{},ref:mt,className:Br(yt.props.className,s,Ft.root),...!ce&&{variant:Bt},...Yt})})});nw.muiName="Select";function Lk(o){return ya("PrivateSwitchBase",o)}Zi("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const Bk=o=>{const{classes:p,checked:d,disabled:w,edge:D}=o,E={root:["root",d&&"checked",w&&"disabled",D&&`edge${kr(D)}`],input:["input"]};return ma(E,Lk,p)},Ok=rr(T_)({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:o,ownerState:p})=>o==="start"&&p.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:o,ownerState:p})=>o==="end"&&p.size!=="small",style:{marginRight:-12}}]}),Fk=rr("input",{shouldForwardProp:x0})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Nk=He.forwardRef(function(p,d){const{autoFocus:w,checked:D,checkedIcon:E,defaultChecked:I,disabled:s,disableFocusRipple:V=!1,edge:q=!1,icon:ue,id:te,inputProps:ce,inputRef:ae,name:he,onBlur:_e,onChange:Pe,onFocus:Ze,readOnly:tt,required:ze=!1,tabIndex:Ae,type:Ge,value:$e,slots:ot={},slotProps:Pt={},...Yt}=p,[ge,bt]=Bm({controlled:D,default:!!I,name:"SwitchBase",state:"checked"}),St=yp(),Bt=kt=>{Ze&&Ze(kt),St&&St.onFocus&&St.onFocus(kt)},Wt=kt=>{_e&&_e(kt),St&&St.onBlur&&St.onBlur(kt)},Ft=kt=>{if(kt.nativeEvent.defaultPrevented)return;const gn=kt.target.checked;bt(gn),Pe&&Pe(kt,gn)};let Nt=s;St&&typeof Nt>"u"&&(Nt=St.disabled);const cn=Ge==="checkbox"||Ge==="radio",yt={...p,checked:ge,disabled:Nt,disableFocusRipple:V,edge:q},mt=Bk(yt),jt={slots:ot,slotProps:{input:ce,...Pt}},[qe,Tt]=K0("root",{ref:d,elementType:Ok,className:mt.root,shouldForwardComponentProp:!0,externalForwardedProps:{...jt,component:"span",...Yt},getSlotProps:kt=>({...kt,onFocus:gn=>{var wn;(wn=kt.onFocus)==null||wn.call(kt,gn),Bt(gn)},onBlur:gn=>{var wn;(wn=kt.onBlur)==null||wn.call(kt,gn),Wt(gn)}}),ownerState:yt,additionalProps:{centerRipple:!0,focusRipple:!V,disabled:Nt,role:void 0,tabIndex:null}}),[mn,hn]=K0("input",{ref:ae,elementType:Fk,className:mt.input,externalForwardedProps:jt,getSlotProps:kt=>({...kt,onChange:gn=>{var wn;(wn=kt.onChange)==null||wn.call(kt,gn),Ft(gn)}}),ownerState:yt,additionalProps:{autoFocus:w,checked:D,defaultChecked:I,disabled:Nt,id:cn?te:void 0,name:he,readOnly:tt,required:ze,tabIndex:Ae,type:Ge,...Ge==="checkbox"&&$e===void 0?{}:{value:$e}}});return $t.jsxs(qe,{...Tt,children:[$t.jsx(mn,{...hn}),ge?E:ue]})}),$k=Rg($t.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),jk=Rg($t.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"})),Vk=rr("span",{shouldForwardProp:x0})({position:"relative",display:"flex"}),Zk=rr($k)({transform:"scale(1)"}),Wk=rr(jk)(Wa(({theme:o})=>({left:0,position:"absolute",transform:"scale(0)",transition:o.transitions.create("transform",{easing:o.transitions.easing.easeIn,duration:o.transitions.duration.shortest}),variants:[{props:{checked:!0},style:{transform:"scale(1)",transition:o.transitions.create("transform",{easing:o.transitions.easing.easeOut,duration:o.transitions.duration.shortest})}}]})));function rw(o){const{checked:p=!1,classes:d={},fontSize:w}=o,D={...o,checked:p};return $t.jsxs(Vk,{className:d.root,ownerState:D,children:[$t.jsx(Zk,{fontSize:w,className:d.background,ownerState:D}),$t.jsx(Wk,{fontSize:w,className:d.dot,ownerState:D})]})}const iw=He.createContext(void 0);function Hk(){return He.useContext(iw)}function qk(o){return ya("MuiRadio",o)}const F2=Zi("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),Kk=o=>{const{classes:p,color:d,size:w}=o,D={root:["root",`color${kr(d)}`,w!=="medium"&&`size${kr(w)}`]};return{...p,...ma(D,qk,p)}},Xk=rr(Nk,{shouldForwardProp:o=>x0(o)||o==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(o,p)=>{const{ownerState:d}=o;return[p.root,d.size!=="medium"&&p[`size${kr(d.size)}`],p[`color${kr(d.color)}`]]}})(Wa(({theme:o})=>({color:(o.vars||o).palette.text.secondary,[`&.${F2.disabled}`]:{color:(o.vars||o).palette.action.disabled},variants:[{props:{color:"default",disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:o.vars?`rgba(${o.vars.palette.action.activeChannel} / ${o.vars.palette.action.hoverOpacity})`:q0(o.palette.action.active,o.palette.action.hoverOpacity)}}},...Object.entries(o.palette).filter(dp()).map(([p])=>({props:{color:p,disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:o.vars?`rgba(${o.vars.palette[p].mainChannel} / ${o.vars.palette.action.hoverOpacity})`:q0(o.palette[p].main,o.palette.action.hoverOpacity)}}})),...Object.entries(o.palette).filter(dp()).map(([p])=>({props:{color:p,disabled:!1},style:{[`&.${F2.checked}`]:{color:(o.vars||o).palette[p].main}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]})));function Yk(o,p){return typeof p=="object"&&p!==null?o===p:String(o)===String(p)}const Qk=$t.jsx(rw,{checked:!0}),Jk=$t.jsx(rw,{}),N2=He.forwardRef(function(p,d){const w=Ha({props:p,name:"MuiRadio"}),{checked:D,checkedIcon:E=Qk,color:I="primary",icon:s=Jk,name:V,onChange:q,size:ue="medium",className:te,disabled:ce,disableRipple:ae=!1,slots:he={},slotProps:_e={},inputProps:Pe,...Ze}=w,tt=yp();let ze=ce;tt&&typeof ze>"u"&&(ze=tt.disabled),ze??(ze=!1);const Ae={...w,disabled:ze,disableRipple:ae,color:I,size:ue},Ge=Kk(Ae),$e=Hk();let ot=D;const Pt=L1(q,$e&&$e.onChange);let Yt=V;$e&&(typeof ot>"u"&&(ot=Yk($e.value,w.value)),typeof Yt>"u"&&(Yt=$e.name));const ge=_e.input??Pe,[bt,St]=K0("root",{ref:d,elementType:Xk,className:Br(Ge.root,te),shouldForwardComponentProp:!0,externalForwardedProps:{slots:he,slotProps:_e,...Ze},getSlotProps:Bt=>({...Bt,onChange:(Wt,...Ft)=>{var Nt;(Nt=Bt.onChange)==null||Nt.call(Bt,Wt,...Ft),Pt(Wt,...Ft)}}),ownerState:Ae,additionalProps:{type:"radio",icon:He.cloneElement(s,{fontSize:s.props.fontSize??ue}),checkedIcon:He.cloneElement(E,{fontSize:E.props.fontSize??ue}),disabled:ze,name:Yt,checked:ot,slots:he,slotProps:{input:typeof ge=="function"?ge(Ae):ge}}});return $t.jsx(bt,{...St,classes:Ge})});function e5(o){return ya("MuiFormGroup",o)}Zi("MuiFormGroup",["root","row","error"]);const t5=o=>{const{classes:p,row:d,error:w}=o;return ma({root:["root",d&&"row",w&&"error"]},e5,p)},n5=rr("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(o,p)=>{const{ownerState:d}=o;return[p.root,d.row&&p.row]}})({display:"flex",flexDirection:"column",flexWrap:"wrap",variants:[{props:{row:!0},style:{flexDirection:"row"}}]}),r5=He.forwardRef(function(p,d){const w=Ha({props:p,name:"MuiFormGroup"}),{className:D,row:E=!1,...I}=w,s=yp(),V=Ld({props:w,muiFormControl:s,states:["error"]}),q={...w,row:E,error:V.error},ue=t5(q);return $t.jsx(n5,{className:Br(ue.root,D),ownerState:q,ref:d,...I})});function i5(o){return ya("MuiRadioGroup",o)}Zi("MuiRadioGroup",["root","row","error"]);const a5=o=>{const{classes:p,row:d,error:w}=o;return ma({root:["root",d&&"row",w&&"error"]},i5,p)},o5=He.forwardRef(function(p,d){const{actions:w,children:D,className:E,defaultValue:I,name:s,onChange:V,value:q,...ue}=p,te=He.useRef(null),ce=a5(p),[ae,he]=Bm({controlled:q,default:I,name:"RadioGroup"});He.useImperativeHandle(w,()=>({focus:()=>{let tt=te.current.querySelector("input:not(:disabled):checked");tt||(tt=te.current.querySelector("input:not(:disabled)")),tt&&tt.focus()}}),[]);const _e=t0(d,te),Pe=M_(s),Ze=He.useMemo(()=>({name:Pe,onChange(tt){he(tt.target.value),V&&V(tt,tt.target.value)},value:ae}),[Pe,V,he,ae]);return $t.jsx(iw.Provider,{value:Ze,children:$t.jsx(r5,{role:"radiogroup",ref:_e,className:Br(ce.root,E),...ue,children:D})})}),s5=Rg($t.jsx("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"})),l5=Rg($t.jsx("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"}));function u5(o){return ya("MuiCircularProgress",o)}Zi("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Xp=44,$1=Eg`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,j1=Eg`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,c5=typeof $1!="string"?m_`
        animation: ${$1} 1.4s linear infinite;
      `:null,h5=typeof j1!="string"?m_`
        animation: ${j1} 1.4s ease-in-out infinite;
      `:null,p5=o=>{const{classes:p,variant:d,color:w,disableShrink:D}=o,E={root:["root",d,`color${kr(w)}`],svg:["svg"],circle:["circle",`circle${kr(d)}`,D&&"circleDisableShrink"]};return ma(E,u5,p)},d5=rr("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(o,p)=>{const{ownerState:d}=o;return[p.root,p[d.variant],p[`color${kr(d.color)}`]]}})(Wa(({theme:o})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:o.transitions.create("transform")}},{props:{variant:"indeterminate"},style:c5||{animation:`${$1} 1.4s linear infinite`}},...Object.entries(o.palette).filter(dp()).map(([p])=>({props:{color:p},style:{color:(o.vars||o).palette[p].main}}))]}))),f5=rr("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),g5=rr("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(o,p)=>{const{ownerState:d}=o;return[p.circle,p[`circle${kr(d.variant)}`],d.disableShrink&&p.circleDisableShrink]}})(Wa(({theme:o})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:o.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:p})=>p.variant==="indeterminate"&&!p.disableShrink,style:h5||{animation:`${j1} 1.4s ease-in-out infinite`}}]}))),m5=He.forwardRef(function(p,d){const w=Ha({props:p,name:"MuiCircularProgress"}),{className:D,color:E="primary",disableShrink:I=!1,size:s=40,style:V,thickness:q=3.6,value:ue=0,variant:te="indeterminate",...ce}=w,ae={...w,color:E,disableShrink:I,size:s,thickness:q,value:ue,variant:te},he=p5(ae),_e={},Pe={},Ze={};if(te==="determinate"){const tt=2*Math.PI*((Xp-q)/2);_e.strokeDasharray=tt.toFixed(3),Ze["aria-valuenow"]=Math.round(ue),_e.strokeDashoffset=`${((100-ue)/100*tt).toFixed(3)}px`,Pe.transform="rotate(-90deg)"}return $t.jsx(d5,{className:Br(he.root,D),style:{width:s,height:s,...Pe,...V},ownerState:ae,ref:d,role:"progressbar",...Ze,...ce,children:$t.jsx(f5,{className:he.svg,ownerState:ae,viewBox:`${Xp/2} ${Xp/2} ${Xp} ${Xp}`,children:$t.jsx(g5,{className:he.circle,style:_e,ownerState:ae,cx:Xp,cy:Xp,r:(Xp-q)/2,fill:"none",strokeWidth:q})})})});function y5(o){return ya("MuiButton",o)}const Md=Zi("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),_5=He.createContext({}),v5=He.createContext(void 0),x5=o=>{const{color:p,disableElevation:d,fullWidth:w,size:D,variant:E,loading:I,loadingPosition:s,classes:V}=o,q={root:["root",I&&"loading",E,`${E}${kr(p)}`,`size${kr(D)}`,`${E}Size${kr(D)}`,`color${kr(p)}`,d&&"disableElevation",w&&"fullWidth",I&&`loadingPosition${kr(s)}`],startIcon:["icon","startIcon",`iconSize${kr(D)}`],endIcon:["icon","endIcon",`iconSize${kr(D)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},ue=ma(q,y5,V);return{...V,...ue}},aw=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],b5=rr(T_,{shouldForwardProp:o=>x0(o)||o==="classes",name:"MuiButton",slot:"Root",overridesResolver:(o,p)=>{const{ownerState:d}=o;return[p.root,p[d.variant],p[`${d.variant}${kr(d.color)}`],p[`size${kr(d.size)}`],p[`${d.variant}Size${kr(d.size)}`],d.color==="inherit"&&p.colorInherit,d.disableElevation&&p.disableElevation,d.fullWidth&&p.fullWidth,d.loading&&p.loading]}})(Wa(({theme:o})=>{const p=o.palette.mode==="light"?o.palette.grey[300]:o.palette.grey[800],d=o.palette.mode==="light"?o.palette.grey.A100:o.palette.grey[700];return{...o.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(o.vars||o).shape.borderRadius,transition:o.transitions.create(["background-color","box-shadow","border-color","color"],{duration:o.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Md.disabled}`]:{color:(o.vars||o).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(o.vars||o).shadows[2],"&:hover":{boxShadow:(o.vars||o).shadows[4],"@media (hover: none)":{boxShadow:(o.vars||o).shadows[2]}},"&:active":{boxShadow:(o.vars||o).shadows[8]},[`&.${Md.focusVisible}`]:{boxShadow:(o.vars||o).shadows[6]},[`&.${Md.disabled}`]:{color:(o.vars||o).palette.action.disabled,boxShadow:(o.vars||o).shadows[0],backgroundColor:(o.vars||o).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Md.disabled}`]:{border:`1px solid ${(o.vars||o).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(o.palette).filter(dp()).map(([w])=>({props:{color:w},style:{"--variant-textColor":(o.vars||o).palette[w].main,"--variant-outlinedColor":(o.vars||o).palette[w].main,"--variant-outlinedBorder":o.vars?`rgba(${o.vars.palette[w].mainChannel} / 0.5)`:q0(o.palette[w].main,.5),"--variant-containedColor":(o.vars||o).palette[w].contrastText,"--variant-containedBg":(o.vars||o).palette[w].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(o.vars||o).palette[w].dark,"--variant-textBg":o.vars?`rgba(${o.vars.palette[w].mainChannel} / ${o.vars.palette.action.hoverOpacity})`:q0(o.palette[w].main,o.palette.action.hoverOpacity),"--variant-outlinedBorder":(o.vars||o).palette[w].main,"--variant-outlinedBg":o.vars?`rgba(${o.vars.palette[w].mainChannel} / ${o.vars.palette.action.hoverOpacity})`:q0(o.palette[w].main,o.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":o.vars?o.vars.palette.Button.inheritContainedBg:p,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":o.vars?o.vars.palette.Button.inheritContainedHoverBg:d,"--variant-textBg":o.vars?`rgba(${o.vars.palette.text.primaryChannel} / ${o.vars.palette.action.hoverOpacity})`:q0(o.palette.text.primary,o.palette.action.hoverOpacity),"--variant-outlinedBg":o.vars?`rgba(${o.vars.palette.text.primaryChannel} / ${o.vars.palette.action.hoverOpacity})`:q0(o.palette.text.primary,o.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:o.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:o.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:o.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:o.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:o.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:o.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Md.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Md.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:o.transitions.create(["background-color","box-shadow","border-color"],{duration:o.transitions.duration.short}),[`&.${Md.loading}`]:{color:"transparent"}}}]}})),w5=rr("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(o,p)=>{const{ownerState:d}=o;return[p.startIcon,d.loading&&p.startIconLoadingStart,p[`iconSize${kr(d.size)}`]]}})(({theme:o})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:o.transitions.create(["opacity"],{duration:o.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...aw]})),C5=rr("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(o,p)=>{const{ownerState:d}=o;return[p.endIcon,d.loading&&p.endIconLoadingEnd,p[`iconSize${kr(d.size)}`]]}})(({theme:o})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:o.transitions.create(["opacity"],{duration:o.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...aw]})),D5=rr("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:o})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(o.vars||o).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),$2=rr("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),I5=He.forwardRef(function(p,d){const w=He.useContext(_5),D=He.useContext(v5),E=Um(w,p),I=Ha({props:E,name:"MuiButton"}),{children:s,color:V="primary",component:q="button",className:ue,disabled:te=!1,disableElevation:ce=!1,disableFocusRipple:ae=!1,endIcon:he,focusVisibleClassName:_e,fullWidth:Pe=!1,id:Ze,loading:tt=null,loadingIndicator:ze,loadingPosition:Ae="center",size:Ge="medium",startIcon:$e,type:ot,variant:Pt="text",...Yt}=I,ge=M_(Ze),bt=ze??$t.jsx(m5,{"aria-labelledby":ge,color:"inherit",size:16}),St={...I,color:V,component:q,disabled:te,disableElevation:ce,disableFocusRipple:ae,fullWidth:Pe,loading:tt,loadingIndicator:bt,loadingPosition:Ae,size:Ge,type:ot,variant:Pt},Bt=x5(St),Wt=($e||tt&&Ae==="start")&&$t.jsx(w5,{className:Bt.startIcon,ownerState:St,children:$e||$t.jsx($2,{className:Bt.loadingIconPlaceholder,ownerState:St})}),Ft=(he||tt&&Ae==="end")&&$t.jsx(C5,{className:Bt.endIcon,ownerState:St,children:he||$t.jsx($2,{className:Bt.loadingIconPlaceholder,ownerState:St})}),Nt=D||"",cn=typeof tt=="boolean"?$t.jsx("span",{className:Bt.loadingWrapper,style:{display:"contents"},children:tt&&$t.jsx(D5,{className:Bt.loadingIndicator,ownerState:St,children:bt})}):null;return $t.jsxs(b5,{ownerState:St,className:Br(w.className,Bt.root,ue,Nt),component:q,disabled:te||tt,focusRipple:!ae,focusVisibleClassName:Br(Bt.focusVisible,_e),ref:d,type:ot,id:tt?ge:Ze,...Yt,classes:Bt,children:[Wt,Ae!=="end"&&cn,s,Ae==="end"&&cn,Ft]})});var Yp={},Pd={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j2;function A5(){if(j2)return Pd;j2=1;var o=xg();function p(B){for(var J="https://reactjs.org/docs/error-decoder.html?invariant="+B,fe=1;fe<arguments.length;fe++)J+="&args[]="+encodeURIComponent(arguments[fe]);return"Minified React error #"+B+"; visit "+J+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d=Object.prototype.hasOwnProperty,w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,D={},E={};function I(B){return d.call(E,B)?!0:d.call(D,B)?!1:w.test(B)?E[B]=!0:(D[B]=!0,!1)}function s(B,J,fe,Te,gt,ct,Ut){this.acceptsBooleans=J===2||J===3||J===4,this.attributeName=Te,this.attributeNamespace=gt,this.mustUseProperty=fe,this.propertyName=B,this.type=J,this.sanitizeURL=ct,this.removeEmptyString=Ut}var V={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(B){V[B]=new s(B,0,!1,B,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(B){var J=B[0];V[J]=new s(J,1,!1,B[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(B){V[B]=new s(B,2,!1,B.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(B){V[B]=new s(B,2,!1,B,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(B){V[B]=new s(B,3,!1,B.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(B){V[B]=new s(B,3,!0,B,null,!1,!1)}),["capture","download"].forEach(function(B){V[B]=new s(B,4,!1,B,null,!1,!1)}),["cols","rows","size","span"].forEach(function(B){V[B]=new s(B,6,!1,B,null,!1,!1)}),["rowSpan","start"].forEach(function(B){V[B]=new s(B,5,!1,B.toLowerCase(),null,!1,!1)});var q=/[\-:]([a-z])/g;function ue(B){return B[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(B){var J=B.replace(q,ue);V[J]=new s(J,1,!1,B,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(B){var J=B.replace(q,ue);V[J]=new s(J,1,!1,B,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(B){var J=B.replace(q,ue);V[J]=new s(J,1,!1,B,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(B){V[B]=new s(B,1,!1,B.toLowerCase(),null,!1,!1)}),V.xlinkHref=new s("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(B){V[B]=new s(B,1,!1,B.toLowerCase(),null,!0,!0)});var te={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ce=["Webkit","ms","Moz","O"];Object.keys(te).forEach(function(B){ce.forEach(function(J){J=J+B.charAt(0).toUpperCase()+B.substring(1),te[J]=te[B]})});var ae=/["'&<>]/;function he(B){if(typeof B=="boolean"||typeof B=="number")return""+B;B=""+B;var J=ae.exec(B);if(J){var fe="",Te,gt=0;for(Te=J.index;Te<B.length;Te++){switch(B.charCodeAt(Te)){case 34:J="&quot;";break;case 38:J="&amp;";break;case 39:J="&#x27;";break;case 60:J="&lt;";break;case 62:J="&gt;";break;default:continue}gt!==Te&&(fe+=B.substring(gt,Te)),gt=Te+1,fe+=J}B=gt!==Te?fe+B.substring(gt,Te):fe}return B}var _e=/([A-Z])/g,Pe=/^ms-/,Ze=Array.isArray;function tt(B,J){return{insertionMode:B,selectedValue:J}}function ze(B,J,fe){switch(J){case"select":return tt(1,fe.value!=null?fe.value:fe.defaultValue);case"svg":return tt(2,null);case"math":return tt(3,null);case"foreignObject":return tt(1,null);case"table":return tt(4,null);case"thead":case"tbody":case"tfoot":return tt(5,null);case"colgroup":return tt(7,null);case"tr":return tt(6,null)}return 4<=B.insertionMode||B.insertionMode===0?tt(1,null):B}var Ae=new Map;function Ge(B,J,fe){if(typeof fe!="object")throw Error(p(62));J=!0;for(var Te in fe)if(d.call(fe,Te)){var gt=fe[Te];if(gt!=null&&typeof gt!="boolean"&&gt!==""){if(Te.indexOf("--")===0){var ct=he(Te);gt=he((""+gt).trim())}else{ct=Te;var Ut=Ae.get(ct);Ut!==void 0||(Ut=he(ct.replace(_e,"-$1").toLowerCase().replace(Pe,"-ms-")),Ae.set(ct,Ut)),ct=Ut,gt=typeof gt=="number"?gt===0||d.call(te,Te)?""+gt:gt+"px":he((""+gt).trim())}J?(J=!1,B.push(' style="',ct,":",gt)):B.push(";",ct,":",gt)}}J||B.push('"')}function $e(B,J,fe,Te){switch(fe){case"style":Ge(B,J,Te);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<fe.length)||fe[0]!=="o"&&fe[0]!=="O"||fe[1]!=="n"&&fe[1]!=="N"){if(J=V.hasOwnProperty(fe)?V[fe]:null,J!==null){switch(typeof Te){case"function":case"symbol":return;case"boolean":if(!J.acceptsBooleans)return}switch(fe=J.attributeName,J.type){case 3:Te&&B.push(" ",fe,'=""');break;case 4:Te===!0?B.push(" ",fe,'=""'):Te!==!1&&B.push(" ",fe,'="',he(Te),'"');break;case 5:isNaN(Te)||B.push(" ",fe,'="',he(Te),'"');break;case 6:!isNaN(Te)&&1<=Te&&B.push(" ",fe,'="',he(Te),'"');break;default:J.sanitizeURL&&(Te=""+Te),B.push(" ",fe,'="',he(Te),'"')}}else if(I(fe)){switch(typeof Te){case"function":case"symbol":return;case"boolean":if(J=fe.toLowerCase().slice(0,5),J!=="data-"&&J!=="aria-")return}B.push(" ",fe,'="',he(Te),'"')}}}function ot(B,J,fe){if(J!=null){if(fe!=null)throw Error(p(60));if(typeof J!="object"||!("__html"in J))throw Error(p(61));J=J.__html,J!=null&&B.push(""+J)}}function Pt(B){var J="";return o.Children.forEach(B,function(fe){fe!=null&&(J+=fe)}),J}function Yt(B,J,fe,Te){B.push(St(fe));var gt=fe=null,ct;for(ct in J)if(d.call(J,ct)){var Ut=J[ct];if(Ut!=null)switch(ct){case"children":fe=Ut;break;case"dangerouslySetInnerHTML":gt=Ut;break;default:$e(B,Te,ct,Ut)}}return B.push(">"),ot(B,gt,fe),typeof fe=="string"?(B.push(he(fe)),null):fe}var ge=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,bt=new Map;function St(B){var J=bt.get(B);if(J===void 0){if(!ge.test(B))throw Error(p(65,B));J="<"+B,bt.set(B,J)}return J}function Bt(B,J,fe,Te,gt){switch(J){case"select":B.push(St("select"));var ct=null,Ut=null;for(xn in fe)if(d.call(fe,xn)){var sn=fe[xn];if(sn!=null)switch(xn){case"children":ct=sn;break;case"dangerouslySetInnerHTML":Ut=sn;break;case"defaultValue":case"value":break;default:$e(B,Te,xn,sn)}}return B.push(">"),ot(B,Ut,ct),ct;case"option":Ut=gt.selectedValue,B.push(St("option"));var _n=sn=null,Mn=null,xn=null;for(ct in fe)if(d.call(fe,ct)){var Fr=fe[ct];if(Fr!=null)switch(ct){case"children":sn=Fr;break;case"selected":Mn=Fr;break;case"dangerouslySetInnerHTML":xn=Fr;break;case"value":_n=Fr;default:$e(B,Te,ct,Fr)}}if(Ut!=null)if(fe=_n!==null?""+_n:Pt(sn),Ze(Ut)){for(Te=0;Te<Ut.length;Te++)if(""+Ut[Te]===fe){B.push(' selected=""');break}}else""+Ut===fe&&B.push(' selected=""');else Mn&&B.push(' selected=""');return B.push(">"),ot(B,xn,sn),sn;case"textarea":B.push(St("textarea")),xn=Ut=ct=null;for(sn in fe)if(d.call(fe,sn)&&(_n=fe[sn],_n!=null))switch(sn){case"children":xn=_n;break;case"value":ct=_n;break;case"defaultValue":Ut=_n;break;case"dangerouslySetInnerHTML":throw Error(p(91));default:$e(B,Te,sn,_n)}if(ct===null&&Ut!==null&&(ct=Ut),B.push(">"),xn!=null){if(ct!=null)throw Error(p(92));if(Ze(xn)&&1<xn.length)throw Error(p(93));ct=""+xn}return typeof ct=="string"&&ct[0]===`
`&&B.push(`
`),ct!==null&&B.push(he(""+ct)),null;case"input":B.push(St("input")),_n=xn=sn=ct=null;for(Ut in fe)if(d.call(fe,Ut)&&(Mn=fe[Ut],Mn!=null))switch(Ut){case"children":case"dangerouslySetInnerHTML":throw Error(p(399,"input"));case"defaultChecked":_n=Mn;break;case"defaultValue":sn=Mn;break;case"checked":xn=Mn;break;case"value":ct=Mn;break;default:$e(B,Te,Ut,Mn)}return xn!==null?$e(B,Te,"checked",xn):_n!==null&&$e(B,Te,"checked",_n),ct!==null?$e(B,Te,"value",ct):sn!==null&&$e(B,Te,"value",sn),B.push("/>"),null;case"menuitem":B.push(St("menuitem"));for(var mi in fe)if(d.call(fe,mi)&&(ct=fe[mi],ct!=null))switch(mi){case"children":case"dangerouslySetInnerHTML":throw Error(p(400));default:$e(B,Te,mi,ct)}return B.push(">"),null;case"title":B.push(St("title")),ct=null;for(Fr in fe)if(d.call(fe,Fr)&&(Ut=fe[Fr],Ut!=null))switch(Fr){case"children":ct=Ut;break;case"dangerouslySetInnerHTML":throw Error(p(434));default:$e(B,Te,Fr,Ut)}return B.push(">"),ct;case"listing":case"pre":B.push(St(J)),Ut=ct=null;for(_n in fe)if(d.call(fe,_n)&&(sn=fe[_n],sn!=null))switch(_n){case"children":ct=sn;break;case"dangerouslySetInnerHTML":Ut=sn;break;default:$e(B,Te,_n,sn)}if(B.push(">"),Ut!=null){if(ct!=null)throw Error(p(60));if(typeof Ut!="object"||!("__html"in Ut))throw Error(p(61));fe=Ut.__html,fe!=null&&(typeof fe=="string"&&0<fe.length&&fe[0]===`
`?B.push(`
`,fe):B.push(""+fe))}return typeof ct=="string"&&ct[0]===`
`&&B.push(`
`),ct;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":B.push(St(J));for(var ra in fe)if(d.call(fe,ra)&&(ct=fe[ra],ct!=null))switch(ra){case"children":case"dangerouslySetInnerHTML":throw Error(p(399,J));default:$e(B,Te,ra,ct)}return B.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return Yt(B,fe,J,Te);case"html":return gt.insertionMode===0&&B.push("<!DOCTYPE html>"),Yt(B,fe,J,Te);default:if(J.indexOf("-")===-1&&typeof fe.is!="string")return Yt(B,fe,J,Te);B.push(St(J)),Ut=ct=null;for(Mn in fe)if(d.call(fe,Mn)&&(sn=fe[Mn],sn!=null))switch(Mn){case"children":ct=sn;break;case"dangerouslySetInnerHTML":Ut=sn;break;case"style":Ge(B,Te,sn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:I(Mn)&&typeof sn!="function"&&typeof sn!="symbol"&&B.push(" ",Mn,'="',he(sn),'"')}return B.push(">"),ot(B,Ut,ct),ct}}function Wt(B,J,fe){if(B.push('<!--$?--><template id="'),fe===null)throw Error(p(395));return B.push(fe),B.push('"></template>')}function Ft(B,J,fe,Te){switch(fe.insertionMode){case 0:case 1:return B.push('<div hidden id="'),B.push(J.segmentPrefix),J=Te.toString(16),B.push(J),B.push('">');case 2:return B.push('<svg aria-hidden="true" style="display:none" id="'),B.push(J.segmentPrefix),J=Te.toString(16),B.push(J),B.push('">');case 3:return B.push('<math aria-hidden="true" style="display:none" id="'),B.push(J.segmentPrefix),J=Te.toString(16),B.push(J),B.push('">');case 4:return B.push('<table hidden id="'),B.push(J.segmentPrefix),J=Te.toString(16),B.push(J),B.push('">');case 5:return B.push('<table hidden><tbody id="'),B.push(J.segmentPrefix),J=Te.toString(16),B.push(J),B.push('">');case 6:return B.push('<table hidden><tr id="'),B.push(J.segmentPrefix),J=Te.toString(16),B.push(J),B.push('">');case 7:return B.push('<table hidden><colgroup id="'),B.push(J.segmentPrefix),J=Te.toString(16),B.push(J),B.push('">');default:throw Error(p(397))}}function Nt(B,J){switch(J.insertionMode){case 0:case 1:return B.push("</div>");case 2:return B.push("</svg>");case 3:return B.push("</math>");case 4:return B.push("</table>");case 5:return B.push("</tbody></table>");case 6:return B.push("</tr></table>");case 7:return B.push("</colgroup></table>");default:throw Error(p(397))}}var cn=/[<\u2028\u2029]/g;function yt(B){return JSON.stringify(B).replace(cn,function(J){switch(J){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function mt(B,J){return J=J===void 0?"":J,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:J+"P:",segmentPrefix:J+"S:",boundaryPrefix:J+"B:",idPrefix:J,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:B}}function jt(B,J,fe,Te){return fe.generateStaticMarkup?(B.push(he(J)),!1):(J===""?B=Te:(Te&&B.push("<!-- -->"),B.push(he(J)),B=!0),B)}var qe=Object.assign,Tt=Symbol.for("react.element"),mn=Symbol.for("react.portal"),hn=Symbol.for("react.fragment"),kt=Symbol.for("react.strict_mode"),gn=Symbol.for("react.profiler"),wn=Symbol.for("react.provider"),Fn=Symbol.for("react.context"),Rn=Symbol.for("react.forward_ref"),An=Symbol.for("react.suspense"),Nn=Symbol.for("react.suspense_list"),Kn=Symbol.for("react.memo"),Hn=Symbol.for("react.lazy"),yn=Symbol.for("react.scope"),yr=Symbol.for("react.debug_trace_mode"),gi=Symbol.for("react.legacy_hidden"),Ir=Symbol.for("react.default_value"),Yr=Symbol.iterator;function Li(B){if(B==null)return null;if(typeof B=="function")return B.displayName||B.name||null;if(typeof B=="string")return B;switch(B){case hn:return"Fragment";case mn:return"Portal";case gn:return"Profiler";case kt:return"StrictMode";case An:return"Suspense";case Nn:return"SuspenseList"}if(typeof B=="object")switch(B.$$typeof){case Fn:return(B.displayName||"Context")+".Consumer";case wn:return(B._context.displayName||"Context")+".Provider";case Rn:var J=B.render;return B=B.displayName,B||(B=J.displayName||J.name||"",B=B!==""?"ForwardRef("+B+")":"ForwardRef"),B;case Kn:return J=B.displayName||null,J!==null?J:Li(B.type)||"Memo";case Hn:J=B._payload,B=B._init;try{return Li(B(J))}catch{}}return null}var vr={};function ur(B,J){if(B=B.contextTypes,!B)return vr;var fe={},Te;for(Te in B)fe[Te]=J[Te];return fe}var Cn=null;function Or(B,J){if(B!==J){B.context._currentValue2=B.parentValue,B=B.parent;var fe=J.parent;if(B===null){if(fe!==null)throw Error(p(401))}else{if(fe===null)throw Error(p(401));Or(B,fe)}J.context._currentValue2=J.value}}function ni(B){B.context._currentValue2=B.parentValue,B=B.parent,B!==null&&ni(B)}function Wi(B){var J=B.parent;J!==null&&Wi(J),B.context._currentValue2=B.value}function Ga(B,J){if(B.context._currentValue2=B.parentValue,B=B.parent,B===null)throw Error(p(402));B.depth===J.depth?Or(B,J):Ga(B,J)}function Hi(B,J){var fe=J.parent;if(fe===null)throw Error(p(402));B.depth===fe.depth?Or(B,fe):Hi(B,fe),J.context._currentValue2=J.value}function Qr(B){var J=Cn;J!==B&&(J===null?Wi(B):B===null?ni(J):J.depth===B.depth?Or(J,B):J.depth>B.depth?Ga(J,B):Hi(J,B),Cn=B)}var Bi={isMounted:function(){return!1},enqueueSetState:function(B,J){B=B._reactInternals,B.queue!==null&&B.queue.push(J)},enqueueReplaceState:function(B,J){B=B._reactInternals,B.replace=!0,B.queue=[J]},enqueueForceUpdate:function(){}};function wi(B,J,fe,Te){var gt=B.state!==void 0?B.state:null;B.updater=Bi,B.props=fe,B.state=gt;var ct={queue:[],replace:!1};B._reactInternals=ct;var Ut=J.contextType;if(B.context=typeof Ut=="object"&&Ut!==null?Ut._currentValue2:Te,Ut=J.getDerivedStateFromProps,typeof Ut=="function"&&(Ut=Ut(fe,gt),gt=Ut==null?gt:qe({},gt,Ut),B.state=gt),typeof J.getDerivedStateFromProps!="function"&&typeof B.getSnapshotBeforeUpdate!="function"&&(typeof B.UNSAFE_componentWillMount=="function"||typeof B.componentWillMount=="function"))if(J=B.state,typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount(),J!==B.state&&Bi.enqueueReplaceState(B,B.state,null),ct.queue!==null&&0<ct.queue.length)if(J=ct.queue,Ut=ct.replace,ct.queue=null,ct.replace=!1,Ut&&J.length===1)B.state=J[0];else{for(ct=Ut?J[0]:B.state,gt=!0,Ut=Ut?1:0;Ut<J.length;Ut++){var sn=J[Ut];sn=typeof sn=="function"?sn.call(B,ct,fe,Te):sn,sn!=null&&(gt?(gt=!1,ct=qe({},ct,sn)):qe(ct,sn))}B.state=ct}else ct.queue=null}var xr={id:1,overflow:""};function Ci(B,J,fe){var Te=B.id;B=B.overflow;var gt=32-ri(Te)-1;Te&=~(1<<gt),fe+=1;var ct=32-ri(J)+gt;if(30<ct){var Ut=gt-gt%5;return ct=(Te&(1<<Ut)-1).toString(32),Te>>=Ut,gt-=Ut,{id:1<<32-ri(J)+gt|fe<<gt|Te,overflow:ct+B}}return{id:1<<ct|fe<<gt|Te,overflow:B}}var ri=Math.clz32?Math.clz32:ne,_a=Math.log,Fe=Math.LN2;function ne(B){return B>>>=0,B===0?32:31-(_a(B)/Fe|0)|0}function oe(B,J){return B===J&&(B!==0||1/B===1/J)||B!==B&&J!==J}var ve=typeof Object.is=="function"?Object.is:oe,Me=null,We=null,me=null,Je=null,Ye=!1,at=!1,pt=0,nt=null,Rt=0;function Jt(){if(Me===null)throw Error(p(321));return Me}function pn(){if(0<Rt)throw Error(p(312));return{memoizedState:null,queue:null,next:null}}function Tn(){return Je===null?me===null?(Ye=!1,me=Je=pn()):(Ye=!0,Je=me):Je.next===null?(Ye=!1,Je=Je.next=pn()):(Ye=!0,Je=Je.next),Je}function Xn(){We=Me=null,at=!1,me=null,Rt=0,Je=nt=null}function On(B,J){return typeof J=="function"?J(B):J}function Ct(B,J,fe){if(Me=Jt(),Je=Tn(),Ye){var Te=Je.queue;if(J=Te.dispatch,nt!==null&&(fe=nt.get(Te),fe!==void 0)){nt.delete(Te),Te=Je.memoizedState;do Te=B(Te,fe.action),fe=fe.next;while(fe!==null);return Je.memoizedState=Te,[Te,J]}return[Je.memoizedState,J]}return B=B===On?typeof J=="function"?J():J:fe!==void 0?fe(J):J,Je.memoizedState=B,B=Je.queue={last:null,dispatch:null},B=B.dispatch=fr.bind(null,Me,B),[Je.memoizedState,B]}function br(B,J){if(Me=Jt(),Je=Tn(),J=J===void 0?null:J,Je!==null){var fe=Je.memoizedState;if(fe!==null&&J!==null){var Te=fe[1];e:if(Te===null)Te=!1;else{for(var gt=0;gt<Te.length&&gt<J.length;gt++)if(!ve(J[gt],Te[gt])){Te=!1;break e}Te=!0}if(Te)return fe[0]}}return B=B(),Je.memoizedState=[B,J],B}function fr(B,J,fe){if(25<=Rt)throw Error(p(301));if(B===Me)if(at=!0,B={action:fe,next:null},nt===null&&(nt=new Map),fe=nt.get(J),fe===void 0)nt.set(J,B);else{for(J=fe;J.next!==null;)J=J.next;J.next=B}}function wr(){throw Error(p(394))}function Ln(){}var zt={readContext:function(B){return B._currentValue2},useContext:function(B){return Jt(),B._currentValue2},useMemo:br,useReducer:Ct,useRef:function(B){Me=Jt(),Je=Tn();var J=Je.memoizedState;return J===null?(B={current:B},Je.memoizedState=B):J},useState:function(B){return Ct(On,B)},useInsertionEffect:Ln,useLayoutEffect:function(){},useCallback:function(B,J){return br(function(){return B},J)},useImperativeHandle:Ln,useEffect:Ln,useDebugValue:Ln,useDeferredValue:function(B){return Jt(),B},useTransition:function(){return Jt(),[!1,wr]},useId:function(){var B=We.treeContext,J=B.overflow;B=B.id,B=(B&~(1<<32-ri(B)-1)).toString(32)+J;var fe=Gn;if(fe===null)throw Error(p(404));return J=pt++,B=":"+fe.idPrefix+"R"+B,0<J&&(B+="H"+J.toString(32)),B+":"},useMutableSource:function(B,J){return Jt(),J(B._source)},useSyncExternalStore:function(B,J,fe){if(fe===void 0)throw Error(p(407));return fe()}},Gn=null,nr=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function jr(B){return console.error(B),null}function Vr(){}function Sa(B,J,fe,Te,gt,ct,Ut,sn,_n){var Mn=[],xn=new Set;return J={destination:null,responseState:J,progressiveChunkSize:Te===void 0?12800:Te,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:xn,pingedTasks:Mn,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:gt===void 0?jr:gt,onAllReady:Vr,onShellReady:Ut===void 0?Vr:Ut,onShellError:Vr,onFatalError:Vr},fe=ns(J,0,null,fe,!1,!1),fe.parentFlushed=!0,B=or(J,B,null,fe,xn,vr,null,xr),Mn.push(B),J}function or(B,J,fe,Te,gt,ct,Ut,sn){B.allPendingTasks++,fe===null?B.pendingRootTasks++:fe.pendingTasks++;var _n={node:J,ping:function(){var Mn=B.pingedTasks;Mn.push(_n),Mn.length===1&&uo(B)},blockedBoundary:fe,blockedSegment:Te,abortSet:gt,legacyContext:ct,context:Ut,treeContext:sn};return gt.add(_n),_n}function ns(B,J,fe,Te,gt,ct){return{status:0,id:-1,index:J,parentFlushed:!1,chunks:[],children:[],formatContext:Te,boundary:fe,lastPushedText:gt,textEmbedded:ct}}function rs(B,J){if(B=B.onError(J),B!=null&&typeof B!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof B+'" instead');return B}function Eo(B,J){var fe=B.onShellError;fe(J),fe=B.onFatalError,fe(J),B.destination!==null?(B.status=2,B.destination.destroy(J)):(B.status=1,B.fatalError=J)}function ol(B,J,fe,Te,gt){for(Me={},We=J,pt=0,B=fe(Te,gt);at;)at=!1,pt=0,Rt+=1,Je=null,B=fe(Te,gt);return Xn(),B}function qa(B,J,fe,Te){var gt=fe.render(),ct=Te.childContextTypes;if(ct!=null){var Ut=J.legacyContext;if(typeof fe.getChildContext!="function")Te=Ut;else{fe=fe.getChildContext();for(var sn in fe)if(!(sn in ct))throw Error(p(108,Li(Te)||"Unknown",sn));Te=qe({},Ut,fe)}J.legacyContext=Te,si(B,J,gt),J.legacyContext=Ut}else si(B,J,gt)}function Fs(B,J){if(B&&B.defaultProps){J=qe({},J),B=B.defaultProps;for(var fe in B)J[fe]===void 0&&(J[fe]=B[fe]);return J}return J}function sr(B,J,fe,Te,gt){if(typeof fe=="function")if(fe.prototype&&fe.prototype.isReactComponent){gt=ur(fe,J.legacyContext);var ct=fe.contextType;ct=new fe(Te,typeof ct=="object"&&ct!==null?ct._currentValue2:gt),wi(ct,fe,Te,gt),qa(B,J,ct,fe)}else{ct=ur(fe,J.legacyContext),gt=ol(B,J,fe,Te,ct);var Ut=pt!==0;if(typeof gt=="object"&&gt!==null&&typeof gt.render=="function"&&gt.$$typeof===void 0)wi(gt,fe,Te,ct),qa(B,J,gt,fe);else if(Ut){Te=J.treeContext,J.treeContext=Ci(Te,1,0);try{si(B,J,gt)}finally{J.treeContext=Te}}else si(B,J,gt)}else if(typeof fe=="string"){switch(gt=J.blockedSegment,ct=Bt(gt.chunks,fe,Te,B.responseState,gt.formatContext),gt.lastPushedText=!1,Ut=gt.formatContext,gt.formatContext=ze(Ut,fe,Te),Ns(B,J,ct),gt.formatContext=Ut,fe){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:gt.chunks.push("</",fe,">")}gt.lastPushedText=!1}else{switch(fe){case gi:case yr:case kt:case gn:case hn:si(B,J,Te.children);return;case Nn:si(B,J,Te.children);return;case yn:throw Error(p(343));case An:e:{fe=J.blockedBoundary,gt=J.blockedSegment,ct=Te.fallback,Te=Te.children,Ut=new Set;var sn={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:Ut,errorDigest:null},_n=ns(B,gt.chunks.length,sn,gt.formatContext,!1,!1);gt.children.push(_n),gt.lastPushedText=!1;var Mn=ns(B,0,null,gt.formatContext,!1,!1);Mn.parentFlushed=!0,J.blockedBoundary=sn,J.blockedSegment=Mn;try{if(Ns(B,J,Te),B.responseState.generateStaticMarkup||Mn.lastPushedText&&Mn.textEmbedded&&Mn.chunks.push("<!-- -->"),Mn.status=1,La(sn,Mn),sn.pendingTasks===0)break e}catch(xn){Mn.status=4,sn.forceClientRender=!0,sn.errorDigest=rs(B,xn)}finally{J.blockedBoundary=fe,J.blockedSegment=gt}J=or(B,ct,fe,_n,Ut,J.legacyContext,J.context,J.treeContext),B.pingedTasks.push(J)}return}if(typeof fe=="object"&&fe!==null)switch(fe.$$typeof){case Rn:if(Te=ol(B,J,fe.render,Te,gt),pt!==0){fe=J.treeContext,J.treeContext=Ci(fe,1,0);try{si(B,J,Te)}finally{J.treeContext=fe}}else si(B,J,Te);return;case Kn:fe=fe.type,Te=Fs(fe,Te),sr(B,J,fe,Te,gt);return;case wn:if(gt=Te.children,fe=fe._context,Te=Te.value,ct=fe._currentValue2,fe._currentValue2=Te,Ut=Cn,Cn=Te={parent:Ut,depth:Ut===null?0:Ut.depth+1,context:fe,parentValue:ct,value:Te},J.context=Te,si(B,J,gt),B=Cn,B===null)throw Error(p(403));Te=B.parentValue,B.context._currentValue2=Te===Ir?B.context._defaultValue:Te,B=Cn=B.parent,J.context=B;return;case Fn:Te=Te.children,Te=Te(fe._currentValue2),si(B,J,Te);return;case Hn:gt=fe._init,fe=gt(fe._payload),Te=Fs(fe,Te),sr(B,J,fe,Te,void 0);return}throw Error(p(130,fe==null?fe:typeof fe,""))}}function si(B,J,fe){if(J.node=fe,typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case Tt:sr(B,J,fe.type,fe.props,fe.ref);return;case mn:throw Error(p(257));case Hn:var Te=fe._init;fe=Te(fe._payload),si(B,J,fe);return}if(Ze(fe)){Wr(B,J,fe);return}if(fe===null||typeof fe!="object"?Te=null:(Te=Yr&&fe[Yr]||fe["@@iterator"],Te=typeof Te=="function"?Te:null),Te&&(Te=Te.call(fe))){if(fe=Te.next(),!fe.done){var gt=[];do gt.push(fe.value),fe=Te.next();while(!fe.done);Wr(B,J,gt)}return}throw B=Object.prototype.toString.call(fe),Error(p(31,B==="[object Object]"?"object with keys {"+Object.keys(fe).join(", ")+"}":B))}typeof fe=="string"?(Te=J.blockedSegment,Te.lastPushedText=jt(J.blockedSegment.chunks,fe,B.responseState,Te.lastPushedText)):typeof fe=="number"&&(Te=J.blockedSegment,Te.lastPushedText=jt(J.blockedSegment.chunks,""+fe,B.responseState,Te.lastPushedText))}function Wr(B,J,fe){for(var Te=fe.length,gt=0;gt<Te;gt++){var ct=J.treeContext;J.treeContext=Ci(ct,Te,gt);try{Ns(B,J,fe[gt])}finally{J.treeContext=ct}}}function Ns(B,J,fe){var Te=J.blockedSegment.formatContext,gt=J.legacyContext,ct=J.context;try{return si(B,J,fe)}catch(_n){if(Xn(),typeof _n=="object"&&_n!==null&&typeof _n.then=="function"){fe=_n;var Ut=J.blockedSegment,sn=ns(B,Ut.chunks.length,null,Ut.formatContext,Ut.lastPushedText,!0);Ut.children.push(sn),Ut.lastPushedText=!1,B=or(B,J.node,J.blockedBoundary,sn,J.abortSet,J.legacyContext,J.context,J.treeContext).ping,fe.then(B,B),J.blockedSegment.formatContext=Te,J.legacyContext=gt,J.context=ct,Qr(ct)}else throw J.blockedSegment.formatContext=Te,J.legacyContext=gt,J.context=ct,Qr(ct),_n}}function lo(B){var J=B.blockedBoundary;B=B.blockedSegment,B.status=3,na(this,J,B)}function n0(B,J,fe){var Te=B.blockedBoundary;B.blockedSegment.status=3,Te===null?(J.allPendingTasks--,J.status!==2&&(J.status=2,J.destination!==null&&J.destination.push(null))):(Te.pendingTasks--,Te.forceClientRender||(Te.forceClientRender=!0,B=fe===void 0?Error(p(432)):fe,Te.errorDigest=J.onError(B),Te.parentFlushed&&J.clientRenderedBoundaries.push(Te)),Te.fallbackAbortableTasks.forEach(function(gt){return n0(gt,J,fe)}),Te.fallbackAbortableTasks.clear(),J.allPendingTasks--,J.allPendingTasks===0&&(Te=J.onAllReady,Te()))}function La(B,J){if(J.chunks.length===0&&J.children.length===1&&J.children[0].boundary===null){var fe=J.children[0];fe.id=J.id,fe.parentFlushed=!0,fe.status===1&&La(B,fe)}else B.completedSegments.push(J)}function na(B,J,fe){if(J===null){if(fe.parentFlushed){if(B.completedRootSegment!==null)throw Error(p(389));B.completedRootSegment=fe}B.pendingRootTasks--,B.pendingRootTasks===0&&(B.onShellError=Vr,J=B.onShellReady,J())}else J.pendingTasks--,J.forceClientRender||(J.pendingTasks===0?(fe.parentFlushed&&fe.status===1&&La(J,fe),J.parentFlushed&&B.completedBoundaries.push(J),J.fallbackAbortableTasks.forEach(lo,B),J.fallbackAbortableTasks.clear()):fe.parentFlushed&&fe.status===1&&(La(J,fe),J.completedSegments.length===1&&J.parentFlushed&&B.partialBoundaries.push(J)));B.allPendingTasks--,B.allPendingTasks===0&&(B=B.onAllReady,B())}function uo(B){if(B.status!==2){var J=Cn,fe=nr.current;nr.current=zt;var Te=Gn;Gn=B.responseState;try{var gt=B.pingedTasks,ct;for(ct=0;ct<gt.length;ct++){var Ut=gt[ct],sn=B,_n=Ut.blockedSegment;if(_n.status===0){Qr(Ut.context);try{si(sn,Ut,Ut.node),sn.responseState.generateStaticMarkup||_n.lastPushedText&&_n.textEmbedded&&_n.chunks.push("<!-- -->"),Ut.abortSet.delete(Ut),_n.status=1,na(sn,Ut.blockedBoundary,_n)}catch(er){if(Xn(),typeof er=="object"&&er!==null&&typeof er.then=="function"){var Mn=Ut.ping;er.then(Mn,Mn)}else{Ut.abortSet.delete(Ut),_n.status=4;var xn=Ut.blockedBoundary,Fr=er,mi=rs(sn,Fr);if(xn===null?Eo(sn,Fr):(xn.pendingTasks--,xn.forceClientRender||(xn.forceClientRender=!0,xn.errorDigest=mi,xn.parentFlushed&&sn.clientRenderedBoundaries.push(xn))),sn.allPendingTasks--,sn.allPendingTasks===0){var ra=sn.onAllReady;ra()}}}finally{}}}gt.splice(0,ct),B.destination!==null&&ws(B,B.destination)}catch(er){rs(B,er),Eo(B,er)}finally{Gn=Te,nr.current=fe,fe===zt&&Qr(J)}}}function sl(B,J,fe){switch(fe.parentFlushed=!0,fe.status){case 0:var Te=fe.id=B.nextSegmentId++;return fe.lastPushedText=!1,fe.textEmbedded=!1,B=B.responseState,J.push('<template id="'),J.push(B.placeholderPrefix),B=Te.toString(16),J.push(B),J.push('"></template>');case 1:fe.status=2;var gt=!0;Te=fe.chunks;var ct=0;fe=fe.children;for(var Ut=0;Ut<fe.length;Ut++){for(gt=fe[Ut];ct<gt.index;ct++)J.push(Te[ct]);gt=va(B,J,gt)}for(;ct<Te.length-1;ct++)J.push(Te[ct]);return ct<Te.length&&(gt=J.push(Te[ct])),gt;default:throw Error(p(390))}}function va(B,J,fe){var Te=fe.boundary;if(Te===null)return sl(B,J,fe);if(Te.parentFlushed=!0,Te.forceClientRender)return B.responseState.generateStaticMarkup||(Te=Te.errorDigest,J.push("<!--$!-->"),J.push("<template"),Te&&(J.push(' data-dgst="'),Te=he(Te),J.push(Te),J.push('"')),J.push("></template>")),sl(B,J,fe),B=B.responseState.generateStaticMarkup?!0:J.push("<!--/$-->"),B;if(0<Te.pendingTasks){Te.rootSegmentID=B.nextSegmentId++,0<Te.completedSegments.length&&B.partialBoundaries.push(Te);var gt=B.responseState,ct=gt.nextSuspenseID++;return gt=gt.boundaryPrefix+ct.toString(16),Te=Te.id=gt,Wt(J,B.responseState,Te),sl(B,J,fe),J.push("<!--/$-->")}if(Te.byteSize>B.progressiveChunkSize)return Te.rootSegmentID=B.nextSegmentId++,B.completedBoundaries.push(Te),Wt(J,B.responseState,Te.id),sl(B,J,fe),J.push("<!--/$-->");if(B.responseState.generateStaticMarkup||J.push("<!--$-->"),fe=Te.completedSegments,fe.length!==1)throw Error(p(391));return va(B,J,fe[0]),B=B.responseState.generateStaticMarkup?!0:J.push("<!--/$-->"),B}function bs(B,J,fe){return Ft(J,B.responseState,fe.formatContext,fe.id),va(B,J,fe),Nt(J,fe.formatContext)}function r0(B,J,fe){for(var Te=fe.completedSegments,gt=0;gt<Te.length;gt++)b0(B,J,fe,Te[gt]);if(Te.length=0,B=B.responseState,Te=fe.id,fe=fe.rootSegmentID,J.push(B.startInlineScript),B.sentCompleteBoundaryFunction?J.push('$RC("'):(B.sentCompleteBoundaryFunction=!0,J.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),Te===null)throw Error(p(395));return fe=fe.toString(16),J.push(Te),J.push('","'),J.push(B.segmentPrefix),J.push(fe),J.push('")<\/script>')}function b0(B,J,fe,Te){if(Te.status===2)return!0;var gt=Te.id;if(gt===-1){if((Te.id=fe.rootSegmentID)===-1)throw Error(p(392));return bs(B,J,Te)}return bs(B,J,Te),B=B.responseState,J.push(B.startInlineScript),B.sentCompleteSegmentFunction?J.push('$RS("'):(B.sentCompleteSegmentFunction=!0,J.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),J.push(B.segmentPrefix),gt=gt.toString(16),J.push(gt),J.push('","'),J.push(B.placeholderPrefix),J.push(gt),J.push('")<\/script>')}function ws(B,J){try{var fe=B.completedRootSegment;if(fe!==null&&B.pendingRootTasks===0){va(B,J,fe),B.completedRootSegment=null;var Te=B.responseState.bootstrapChunks;for(fe=0;fe<Te.length-1;fe++)J.push(Te[fe]);fe<Te.length&&J.push(Te[fe])}var gt=B.clientRenderedBoundaries,ct;for(ct=0;ct<gt.length;ct++){var Ut=gt[ct];Te=J;var sn=B.responseState,_n=Ut.id,Mn=Ut.errorDigest,xn=Ut.errorMessage,Fr=Ut.errorComponentStack;if(Te.push(sn.startInlineScript),sn.sentClientRenderFunction?Te.push('$RX("'):(sn.sentClientRenderFunction=!0,Te.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),_n===null)throw Error(p(395));if(Te.push(_n),Te.push('"'),Mn||xn||Fr){Te.push(",");var mi=yt(Mn||"");Te.push(mi)}if(xn||Fr){Te.push(",");var ra=yt(xn||"");Te.push(ra)}if(Fr){Te.push(",");var er=yt(Fr);Te.push(er)}if(!Te.push(")<\/script>")){B.destination=null,ct++,gt.splice(0,ct);return}}gt.splice(0,ct);var co=B.completedBoundaries;for(ct=0;ct<co.length;ct++)if(!r0(B,J,co[ct])){B.destination=null,ct++,co.splice(0,ct);return}co.splice(0,ct);var Ta=B.partialBoundaries;for(ct=0;ct<Ta.length;ct++){var Ma=Ta[ct];e:{gt=B,Ut=J;var li=Ma.completedSegments;for(sn=0;sn<li.length;sn++)if(!b0(gt,Ut,Ma,li[sn])){sn++,li.splice(0,sn);var ui=!1;break e}li.splice(0,sn),ui=!0}if(!ui){B.destination=null,ct++,Ta.splice(0,ct);return}}Ta.splice(0,ct);var zr=B.completedBoundaries;for(ct=0;ct<zr.length;ct++)if(!r0(B,J,zr[ct])){B.destination=null,ct++,zr.splice(0,ct);return}zr.splice(0,ct)}finally{B.allPendingTasks===0&&B.pingedTasks.length===0&&B.clientRenderedBoundaries.length===0&&B.completedBoundaries.length===0&&J.push(null)}}function i0(B,J){try{var fe=B.abortableTasks;fe.forEach(function(Te){return n0(Te,B,J)}),fe.clear(),B.destination!==null&&ws(B,B.destination)}catch(Te){rs(B,Te),Eo(B,Te)}}function $s(){}function ko(B,J,fe,Te){var gt=!1,ct=null,Ut="",sn={push:function(Mn){return Mn!==null&&(Ut+=Mn),!0},destroy:function(Mn){gt=!0,ct=Mn}},_n=!1;if(B=Sa(B,mt(fe,J?J.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,$s,void 0,function(){_n=!0}),uo(B),i0(B,Te),B.status===1)B.status=2,sn.destroy(B.fatalError);else if(B.status!==2&&B.destination===null){B.destination=sn;try{ws(B,sn)}catch(Mn){rs(B,Mn),Eo(B,Mn)}}if(gt)throw ct;if(!_n)throw Error(p(426));return Ut}return Pd.renderToNodeStream=function(){throw Error(p(207))},Pd.renderToStaticMarkup=function(B,J){return ko(B,J,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},Pd.renderToStaticNodeStream=function(){throw Error(p(208))},Pd.renderToString=function(B,J){return ko(B,J,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},Pd.version="18.3.1",Pd}var _m={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V2;function S5(){if(V2)return _m;V2=1;var o=xg();function p(F){for(var X="https://reactjs.org/docs/error-decoder.html?invariant="+F,pe=1;pe<arguments.length;pe++)X+="&args[]="+encodeURIComponent(arguments[pe]);return"Minified React error #"+F+"; visit "+X+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d=null,w=0;function D(F,X){if(X.length!==0)if(512<X.length)0<w&&(F.enqueue(new Uint8Array(d.buffer,0,w)),d=new Uint8Array(512),w=0),F.enqueue(X);else{var pe=d.length-w;pe<X.length&&(pe===0?F.enqueue(d):(d.set(X.subarray(0,pe),w),F.enqueue(d),X=X.subarray(pe)),d=new Uint8Array(512),w=0),d.set(X,w),w+=X.length}}function E(F,X){return D(F,X),!0}function I(F){d&&0<w&&(F.enqueue(new Uint8Array(d.buffer,0,w)),d=null,w=0)}var s=new TextEncoder;function V(F){return s.encode(F)}function q(F){return s.encode(F)}function ue(F,X){typeof F.error=="function"?F.error(X):F.close()}var te=Object.prototype.hasOwnProperty,ce=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ae={},he={};function _e(F){return te.call(he,F)?!0:te.call(ae,F)?!1:ce.test(F)?he[F]=!0:(ae[F]=!0,!1)}function Pe(F,X,pe,Se,_t,st,Ot){this.acceptsBooleans=X===2||X===3||X===4,this.attributeName=Se,this.attributeNamespace=_t,this.mustUseProperty=pe,this.propertyName=F,this.type=X,this.sanitizeURL=st,this.removeEmptyString=Ot}var Ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(F){Ze[F]=new Pe(F,0,!1,F,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(F){var X=F[0];Ze[X]=new Pe(X,1,!1,F[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(F){Ze[F]=new Pe(F,2,!1,F.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(F){Ze[F]=new Pe(F,2,!1,F,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(F){Ze[F]=new Pe(F,3,!1,F.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(F){Ze[F]=new Pe(F,3,!0,F,null,!1,!1)}),["capture","download"].forEach(function(F){Ze[F]=new Pe(F,4,!1,F,null,!1,!1)}),["cols","rows","size","span"].forEach(function(F){Ze[F]=new Pe(F,6,!1,F,null,!1,!1)}),["rowSpan","start"].forEach(function(F){Ze[F]=new Pe(F,5,!1,F.toLowerCase(),null,!1,!1)});var tt=/[\-:]([a-z])/g;function ze(F){return F[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(F){var X=F.replace(tt,ze);Ze[X]=new Pe(X,1,!1,F,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(F){var X=F.replace(tt,ze);Ze[X]=new Pe(X,1,!1,F,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(F){var X=F.replace(tt,ze);Ze[X]=new Pe(X,1,!1,F,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(F){Ze[F]=new Pe(F,1,!1,F.toLowerCase(),null,!1,!1)}),Ze.xlinkHref=new Pe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(F){Ze[F]=new Pe(F,1,!1,F.toLowerCase(),null,!0,!0)});var Ae={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ge=["Webkit","ms","Moz","O"];Object.keys(Ae).forEach(function(F){Ge.forEach(function(X){X=X+F.charAt(0).toUpperCase()+F.substring(1),Ae[X]=Ae[F]})});var $e=/["'&<>]/;function ot(F){if(typeof F=="boolean"||typeof F=="number")return""+F;F=""+F;var X=$e.exec(F);if(X){var pe="",Se,_t=0;for(Se=X.index;Se<F.length;Se++){switch(F.charCodeAt(Se)){case 34:X="&quot;";break;case 38:X="&amp;";break;case 39:X="&#x27;";break;case 60:X="&lt;";break;case 62:X="&gt;";break;default:continue}_t!==Se&&(pe+=F.substring(_t,Se)),_t=Se+1,pe+=X}F=_t!==Se?pe+F.substring(_t,Se):pe}return F}var Pt=/([A-Z])/g,Yt=/^ms-/,ge=Array.isArray,bt=q("<script>"),St=q("<\/script>"),Bt=q('<script src="'),Wt=q('<script type="module" src="'),Ft=q('" async=""><\/script>'),Nt=/(<\/|<)(s)(cript)/gi;function cn(F,X,pe,Se){return""+X+(pe==="s"?"\\u0073":"\\u0053")+Se}function yt(F,X,pe,Se,_t){F=F===void 0?"":F,X=X===void 0?bt:q('<script nonce="'+ot(X)+'">');var st=[];if(pe!==void 0&&st.push(X,V((""+pe).replace(Nt,cn)),St),Se!==void 0)for(pe=0;pe<Se.length;pe++)st.push(Bt,V(ot(Se[pe])),Ft);if(_t!==void 0)for(Se=0;Se<_t.length;Se++)st.push(Wt,V(ot(_t[Se])),Ft);return{bootstrapChunks:st,startInlineScript:X,placeholderPrefix:q(F+"P:"),segmentPrefix:q(F+"S:"),boundaryPrefix:F+"B:",idPrefix:F,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function mt(F,X){return{insertionMode:F,selectedValue:X}}function jt(F){return mt(F==="http://www.w3.org/2000/svg"?2:F==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function qe(F,X,pe){switch(X){case"select":return mt(1,pe.value!=null?pe.value:pe.defaultValue);case"svg":return mt(2,null);case"math":return mt(3,null);case"foreignObject":return mt(1,null);case"table":return mt(4,null);case"thead":case"tbody":case"tfoot":return mt(5,null);case"colgroup":return mt(7,null);case"tr":return mt(6,null)}return 4<=F.insertionMode||F.insertionMode===0?mt(1,null):F}var Tt=q("<!-- -->");function mn(F,X,pe,Se){return X===""?Se:(Se&&F.push(Tt),F.push(V(ot(X))),!0)}var hn=new Map,kt=q(' style="'),gn=q(":"),wn=q(";");function Fn(F,X,pe){if(typeof pe!="object")throw Error(p(62));X=!0;for(var Se in pe)if(te.call(pe,Se)){var _t=pe[Se];if(_t!=null&&typeof _t!="boolean"&&_t!==""){if(Se.indexOf("--")===0){var st=V(ot(Se));_t=V(ot((""+_t).trim()))}else{st=Se;var Ot=hn.get(st);Ot!==void 0||(Ot=q(ot(st.replace(Pt,"-$1").toLowerCase().replace(Yt,"-ms-"))),hn.set(st,Ot)),st=Ot,_t=typeof _t=="number"?_t===0||te.call(Ae,Se)?V(""+_t):V(_t+"px"):V(ot((""+_t).trim()))}X?(X=!1,F.push(kt,st,gn,_t)):F.push(wn,st,gn,_t)}}X||F.push(Nn)}var Rn=q(" "),An=q('="'),Nn=q('"'),Kn=q('=""');function Hn(F,X,pe,Se){switch(pe){case"style":Fn(F,X,Se);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<pe.length)||pe[0]!=="o"&&pe[0]!=="O"||pe[1]!=="n"&&pe[1]!=="N"){if(X=Ze.hasOwnProperty(pe)?Ze[pe]:null,X!==null){switch(typeof Se){case"function":case"symbol":return;case"boolean":if(!X.acceptsBooleans)return}switch(pe=V(X.attributeName),X.type){case 3:Se&&F.push(Rn,pe,Kn);break;case 4:Se===!0?F.push(Rn,pe,Kn):Se!==!1&&F.push(Rn,pe,An,V(ot(Se)),Nn);break;case 5:isNaN(Se)||F.push(Rn,pe,An,V(ot(Se)),Nn);break;case 6:!isNaN(Se)&&1<=Se&&F.push(Rn,pe,An,V(ot(Se)),Nn);break;default:X.sanitizeURL&&(Se=""+Se),F.push(Rn,pe,An,V(ot(Se)),Nn)}}else if(_e(pe)){switch(typeof Se){case"function":case"symbol":return;case"boolean":if(X=pe.toLowerCase().slice(0,5),X!=="data-"&&X!=="aria-")return}F.push(Rn,V(pe),An,V(ot(Se)),Nn)}}}var yn=q(">"),yr=q("/>");function gi(F,X,pe){if(X!=null){if(pe!=null)throw Error(p(60));if(typeof X!="object"||!("__html"in X))throw Error(p(61));X=X.__html,X!=null&&F.push(V(""+X))}}function Ir(F){var X="";return o.Children.forEach(F,function(pe){pe!=null&&(X+=pe)}),X}var Yr=q(' selected=""');function Li(F,X,pe,Se){F.push(Or(pe));var _t=pe=null,st;for(st in X)if(te.call(X,st)){var Ot=X[st];if(Ot!=null)switch(st){case"children":pe=Ot;break;case"dangerouslySetInnerHTML":_t=Ot;break;default:Hn(F,Se,st,Ot)}}return F.push(yn),gi(F,_t,pe),typeof pe=="string"?(F.push(V(ot(pe))),null):pe}var vr=q(`
`),ur=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Cn=new Map;function Or(F){var X=Cn.get(F);if(X===void 0){if(!ur.test(F))throw Error(p(65,F));X=q("<"+F),Cn.set(F,X)}return X}var ni=q("<!DOCTYPE html>");function Wi(F,X,pe,Se,_t){switch(X){case"select":F.push(Or("select"));var st=null,Ot=null;for(Qn in pe)if(te.call(pe,Qn)){var ln=pe[Qn];if(ln!=null)switch(Qn){case"children":st=ln;break;case"dangerouslySetInnerHTML":Ot=ln;break;case"defaultValue":case"value":break;default:Hn(F,Se,Qn,ln)}}return F.push(yn),gi(F,Ot,st),st;case"option":Ot=_t.selectedValue,F.push(Or("option"));var Bn=ln=null,hr=null,Qn=null;for(st in pe)if(te.call(pe,st)){var pi=pe[st];if(pi!=null)switch(st){case"children":ln=pi;break;case"selected":hr=pi;break;case"dangerouslySetInnerHTML":Qn=pi;break;case"value":Bn=pi;default:Hn(F,Se,st,pi)}}if(Ot!=null)if(pe=Bn!==null?""+Bn:Ir(ln),ge(Ot)){for(Se=0;Se<Ot.length;Se++)if(""+Ot[Se]===pe){F.push(Yr);break}}else""+Ot===pe&&F.push(Yr);else hr&&F.push(Yr);return F.push(yn),gi(F,Qn,ln),ln;case"textarea":F.push(Or("textarea")),Qn=Ot=st=null;for(ln in pe)if(te.call(pe,ln)&&(Bn=pe[ln],Bn!=null))switch(ln){case"children":Qn=Bn;break;case"value":st=Bn;break;case"defaultValue":Ot=Bn;break;case"dangerouslySetInnerHTML":throw Error(p(91));default:Hn(F,Se,ln,Bn)}if(st===null&&Ot!==null&&(st=Ot),F.push(yn),Qn!=null){if(st!=null)throw Error(p(92));if(ge(Qn)&&1<Qn.length)throw Error(p(93));st=""+Qn}return typeof st=="string"&&st[0]===`
`&&F.push(vr),st!==null&&F.push(V(ot(""+st))),null;case"input":F.push(Or("input")),Bn=Qn=ln=st=null;for(Ot in pe)if(te.call(pe,Ot)&&(hr=pe[Ot],hr!=null))switch(Ot){case"children":case"dangerouslySetInnerHTML":throw Error(p(399,"input"));case"defaultChecked":Bn=hr;break;case"defaultValue":ln=hr;break;case"checked":Qn=hr;break;case"value":st=hr;break;default:Hn(F,Se,Ot,hr)}return Qn!==null?Hn(F,Se,"checked",Qn):Bn!==null&&Hn(F,Se,"checked",Bn),st!==null?Hn(F,Se,"value",st):ln!==null&&Hn(F,Se,"value",ln),F.push(yr),null;case"menuitem":F.push(Or("menuitem"));for(var Oa in pe)if(te.call(pe,Oa)&&(st=pe[Oa],st!=null))switch(Oa){case"children":case"dangerouslySetInnerHTML":throw Error(p(400));default:Hn(F,Se,Oa,st)}return F.push(yn),null;case"title":F.push(Or("title")),st=null;for(pi in pe)if(te.call(pe,pi)&&(Ot=pe[pi],Ot!=null))switch(pi){case"children":st=Ot;break;case"dangerouslySetInnerHTML":throw Error(p(434));default:Hn(F,Se,pi,Ot)}return F.push(yn),st;case"listing":case"pre":F.push(Or(X)),Ot=st=null;for(Bn in pe)if(te.call(pe,Bn)&&(ln=pe[Bn],ln!=null))switch(Bn){case"children":st=ln;break;case"dangerouslySetInnerHTML":Ot=ln;break;default:Hn(F,Se,Bn,ln)}if(F.push(yn),Ot!=null){if(st!=null)throw Error(p(60));if(typeof Ot!="object"||!("__html"in Ot))throw Error(p(61));pe=Ot.__html,pe!=null&&(typeof pe=="string"&&0<pe.length&&pe[0]===`
`?F.push(vr,V(pe)):F.push(V(""+pe)))}return typeof st=="string"&&st[0]===`
`&&F.push(vr),st;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":F.push(Or(X));for(var zo in pe)if(te.call(pe,zo)&&(st=pe[zo],st!=null))switch(zo){case"children":case"dangerouslySetInnerHTML":throw Error(p(399,X));default:Hn(F,Se,zo,st)}return F.push(yr),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return Li(F,pe,X,Se);case"html":return _t.insertionMode===0&&F.push(ni),Li(F,pe,X,Se);default:if(X.indexOf("-")===-1&&typeof pe.is!="string")return Li(F,pe,X,Se);F.push(Or(X)),Ot=st=null;for(hr in pe)if(te.call(pe,hr)&&(ln=pe[hr],ln!=null))switch(hr){case"children":st=ln;break;case"dangerouslySetInnerHTML":Ot=ln;break;case"style":Fn(F,Se,ln);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:_e(hr)&&typeof ln!="function"&&typeof ln!="symbol"&&F.push(Rn,V(hr),An,V(ot(ln)),Nn)}return F.push(yn),gi(F,Ot,st),st}}var Ga=q("</"),Hi=q(">"),Qr=q('<template id="'),Bi=q('"></template>'),wi=q("<!--$-->"),xr=q('<!--$?--><template id="'),Ci=q('"></template>'),ri=q("<!--$!-->"),_a=q("<!--/$-->"),Fe=q("<template"),ne=q('"'),oe=q(' data-dgst="');q(' data-msg="'),q(' data-stck="');var ve=q("></template>");function Me(F,X,pe){if(D(F,xr),pe===null)throw Error(p(395));return D(F,pe),E(F,Ci)}var We=q('<div hidden id="'),me=q('">'),Je=q("</div>"),Ye=q('<svg aria-hidden="true" style="display:none" id="'),at=q('">'),pt=q("</svg>"),nt=q('<math aria-hidden="true" style="display:none" id="'),Rt=q('">'),Jt=q("</math>"),pn=q('<table hidden id="'),Tn=q('">'),Xn=q("</table>"),On=q('<table hidden><tbody id="'),Ct=q('">'),br=q("</tbody></table>"),fr=q('<table hidden><tr id="'),wr=q('">'),Ln=q("</tr></table>"),zt=q('<table hidden><colgroup id="'),Gn=q('">'),nr=q("</colgroup></table>");function jr(F,X,pe,Se){switch(pe.insertionMode){case 0:case 1:return D(F,We),D(F,X.segmentPrefix),D(F,V(Se.toString(16))),E(F,me);case 2:return D(F,Ye),D(F,X.segmentPrefix),D(F,V(Se.toString(16))),E(F,at);case 3:return D(F,nt),D(F,X.segmentPrefix),D(F,V(Se.toString(16))),E(F,Rt);case 4:return D(F,pn),D(F,X.segmentPrefix),D(F,V(Se.toString(16))),E(F,Tn);case 5:return D(F,On),D(F,X.segmentPrefix),D(F,V(Se.toString(16))),E(F,Ct);case 6:return D(F,fr),D(F,X.segmentPrefix),D(F,V(Se.toString(16))),E(F,wr);case 7:return D(F,zt),D(F,X.segmentPrefix),D(F,V(Se.toString(16))),E(F,Gn);default:throw Error(p(397))}}function Vr(F,X){switch(X.insertionMode){case 0:case 1:return E(F,Je);case 2:return E(F,pt);case 3:return E(F,Jt);case 4:return E(F,Xn);case 5:return E(F,br);case 6:return E(F,Ln);case 7:return E(F,nr);default:throw Error(p(397))}}var Sa=q('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),or=q('$RS("'),ns=q('","'),rs=q('")<\/script>'),Eo=q('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),ol=q('$RC("'),qa=q('","'),Fs=q('")<\/script>'),sr=q('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),si=q('$RX("'),Wr=q('"'),Ns=q(")<\/script>"),lo=q(","),n0=/[<\u2028\u2029]/g;function La(F){return JSON.stringify(F).replace(n0,function(X){switch(X){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var na=Object.assign,uo=Symbol.for("react.element"),sl=Symbol.for("react.portal"),va=Symbol.for("react.fragment"),bs=Symbol.for("react.strict_mode"),r0=Symbol.for("react.profiler"),b0=Symbol.for("react.provider"),ws=Symbol.for("react.context"),i0=Symbol.for("react.forward_ref"),$s=Symbol.for("react.suspense"),ko=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),fe=Symbol.for("react.scope"),Te=Symbol.for("react.debug_trace_mode"),gt=Symbol.for("react.legacy_hidden"),ct=Symbol.for("react.default_value"),Ut=Symbol.iterator;function sn(F){if(F==null)return null;if(typeof F=="function")return F.displayName||F.name||null;if(typeof F=="string")return F;switch(F){case va:return"Fragment";case sl:return"Portal";case r0:return"Profiler";case bs:return"StrictMode";case $s:return"Suspense";case ko:return"SuspenseList"}if(typeof F=="object")switch(F.$$typeof){case ws:return(F.displayName||"Context")+".Consumer";case b0:return(F._context.displayName||"Context")+".Provider";case i0:var X=F.render;return F=F.displayName,F||(F=X.displayName||X.name||"",F=F!==""?"ForwardRef("+F+")":"ForwardRef"),F;case B:return X=F.displayName||null,X!==null?X:sn(F.type)||"Memo";case J:X=F._payload,F=F._init;try{return sn(F(X))}catch{}}return null}var _n={};function Mn(F,X){if(F=F.contextTypes,!F)return _n;var pe={},Se;for(Se in F)pe[Se]=X[Se];return pe}var xn=null;function Fr(F,X){if(F!==X){F.context._currentValue=F.parentValue,F=F.parent;var pe=X.parent;if(F===null){if(pe!==null)throw Error(p(401))}else{if(pe===null)throw Error(p(401));Fr(F,pe)}X.context._currentValue=X.value}}function mi(F){F.context._currentValue=F.parentValue,F=F.parent,F!==null&&mi(F)}function ra(F){var X=F.parent;X!==null&&ra(X),F.context._currentValue=F.value}function er(F,X){if(F.context._currentValue=F.parentValue,F=F.parent,F===null)throw Error(p(402));F.depth===X.depth?Fr(F,X):er(F,X)}function co(F,X){var pe=X.parent;if(pe===null)throw Error(p(402));F.depth===pe.depth?Fr(F,pe):co(F,pe),X.context._currentValue=X.value}function Ta(F){var X=xn;X!==F&&(X===null?ra(F):F===null?mi(X):X.depth===F.depth?Fr(X,F):X.depth>F.depth?er(X,F):co(X,F),xn=F)}var Ma={isMounted:function(){return!1},enqueueSetState:function(F,X){F=F._reactInternals,F.queue!==null&&F.queue.push(X)},enqueueReplaceState:function(F,X){F=F._reactInternals,F.replace=!0,F.queue=[X]},enqueueForceUpdate:function(){}};function li(F,X,pe,Se){var _t=F.state!==void 0?F.state:null;F.updater=Ma,F.props=pe,F.state=_t;var st={queue:[],replace:!1};F._reactInternals=st;var Ot=X.contextType;if(F.context=typeof Ot=="object"&&Ot!==null?Ot._currentValue:Se,Ot=X.getDerivedStateFromProps,typeof Ot=="function"&&(Ot=Ot(pe,_t),_t=Ot==null?_t:na({},_t,Ot),F.state=_t),typeof X.getDerivedStateFromProps!="function"&&typeof F.getSnapshotBeforeUpdate!="function"&&(typeof F.UNSAFE_componentWillMount=="function"||typeof F.componentWillMount=="function"))if(X=F.state,typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount(),X!==F.state&&Ma.enqueueReplaceState(F,F.state,null),st.queue!==null&&0<st.queue.length)if(X=st.queue,Ot=st.replace,st.queue=null,st.replace=!1,Ot&&X.length===1)F.state=X[0];else{for(st=Ot?X[0]:F.state,_t=!0,Ot=Ot?1:0;Ot<X.length;Ot++){var ln=X[Ot];ln=typeof ln=="function"?ln.call(F,st,pe,Se):ln,ln!=null&&(_t?(_t=!1,st=na({},st,ln)):na(st,ln))}F.state=st}else st.queue=null}var ui={id:1,overflow:""};function zr(F,X,pe){var Se=F.id;F=F.overflow;var _t=32-Ai(Se)-1;Se&=~(1<<_t),pe+=1;var st=32-Ai(X)+_t;if(30<st){var Ot=_t-_t%5;return st=(Se&(1<<Ot)-1).toString(32),Se>>=Ot,_t-=Ot,{id:1<<32-Ai(X)+_t|pe<<_t|Se,overflow:st+F}}return{id:1<<st|pe<<_t|Se,overflow:F}}var Ai=Math.clz32?Math.clz32:Ba,Gr=Math.log,w0=Math.LN2;function Ba(F){return F>>>=0,F===0?32:31-(Gr(F)/w0|0)|0}function ia(F,X){return F===X&&(F!==0||1/F===1/X)||F!==F&&X!==X}var ho=typeof Object.is=="function"?Object.is:ia,po=null,Ur=null,ci=null,Un=null,vn=!1,Ar=!1,Yn=0,fo=null,aa=0;function ll(){if(po===null)throw Error(p(321));return po}function C0(){if(0<aa)throw Error(p(312));return{memoizedState:null,queue:null,next:null}}function js(){return Un===null?ci===null?(vn=!1,ci=Un=C0()):(vn=!0,Un=ci):Un.next===null?(vn=!1,Un=Un.next=C0()):(vn=!0,Un=Un.next),Un}function Cs(){Ur=po=null,Ar=!1,ci=null,aa=0,Un=fo=null}function a0(F,X){return typeof X=="function"?X(F):X}function hi(F,X,pe){if(po=ll(),Un=js(),vn){var Se=Un.queue;if(X=Se.dispatch,fo!==null&&(pe=fo.get(Se),pe!==void 0)){fo.delete(Se),Se=Un.memoizedState;do Se=F(Se,pe.action),pe=pe.next;while(pe!==null);return Un.memoizedState=Se,[Se,X]}return[Un.memoizedState,X]}return F=F===a0?typeof X=="function"?X():X:pe!==void 0?pe(X):X,Un.memoizedState=F,F=Un.queue={last:null,dispatch:null},F=F.dispatch=go.bind(null,po,F),[Un.memoizedState,F]}function ul(F,X){if(po=ll(),Un=js(),X=X===void 0?null:X,Un!==null){var pe=Un.memoizedState;if(pe!==null&&X!==null){var Se=pe[1];e:if(Se===null)Se=!1;else{for(var _t=0;_t<Se.length&&_t<X.length;_t++)if(!ho(X[_t],Se[_t])){Se=!1;break e}Se=!0}if(Se)return pe[0]}}return F=F(),Un.memoizedState=[F,X],F}function go(F,X,pe){if(25<=aa)throw Error(p(301));if(F===po)if(Ar=!0,F={action:pe,next:null},fo===null&&(fo=new Map),pe=fo.get(X),pe===void 0)fo.set(X,F);else{for(X=pe;X.next!==null;)X=X.next;X.next=F}}function cl(){throw Error(p(394))}function yi(){}var Oi={readContext:function(F){return F._currentValue},useContext:function(F){return ll(),F._currentValue},useMemo:ul,useReducer:hi,useRef:function(F){po=ll(),Un=js();var X=Un.memoizedState;return X===null?(F={current:F},Un.memoizedState=F):X},useState:function(F){return hi(a0,F)},useInsertionEffect:yi,useLayoutEffect:function(){},useCallback:function(F,X){return ul(function(){return F},X)},useImperativeHandle:yi,useEffect:yi,useDebugValue:yi,useDeferredValue:function(F){return ll(),F},useTransition:function(){return ll(),[!1,cl]},useId:function(){var F=Ur.treeContext,X=F.overflow;F=F.id,F=(F&~(1<<32-Ai(F)-1)).toString(32)+X;var pe=Vs;if(pe===null)throw Error(p(404));return X=Yn++,F=":"+pe.idPrefix+"R"+F,0<X&&(F+="H"+X.toString(32)),F+":"},useMutableSource:function(F,X){return ll(),X(F._source)},useSyncExternalStore:function(F,X,pe){if(pe===void 0)throw Error(p(407));return pe()}},Vs=null,Ei=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Si(F){return console.error(F),null}function Ds(){}function hl(F,X,pe,Se,_t,st,Ot,ln,Bn){var hr=[],Qn=new Set;return X={destination:null,responseState:X,progressiveChunkSize:Se===void 0?12800:Se,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:Qn,pingedTasks:hr,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:_t===void 0?Si:_t,onAllReady:st===void 0?Ds:st,onShellReady:Ot===void 0?Ds:Ot,onShellError:ln===void 0?Ds:ln,onFatalError:Bn===void 0?Ds:Bn},pe=xa(X,0,null,pe,!1,!1),pe.parentFlushed=!0,F=Y0(X,F,null,pe,Qn,_n,null,ui),hr.push(F),X}function Y0(F,X,pe,Se,_t,st,Ot,ln){F.allPendingTasks++,pe===null?F.pendingRootTasks++:pe.pendingTasks++;var Bn={node:X,ping:function(){var hr=F.pingedTasks;hr.push(Bn),hr.length===1&&I0(F)},blockedBoundary:pe,blockedSegment:Se,abortSet:_t,legacyContext:st,context:Ot,treeContext:ln};return _t.add(Bn),Bn}function xa(F,X,pe,Se,_t,st){return{status:0,id:-1,index:X,parentFlushed:!1,chunks:[],children:[],formatContext:Se,boundary:pe,lastPushedText:_t,textEmbedded:st}}function Fi(F,X){if(F=F.onError(X),F!=null&&typeof F!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof F+'" instead');return F}function ki(F,X){var pe=F.onShellError;pe(X),pe=F.onFatalError,pe(X),F.destination!==null?(F.status=2,ue(F.destination,X)):(F.status=1,F.fatalError=X)}function mo(F,X,pe,Se,_t){for(po={},Ur=X,Yn=0,F=pe(Se,_t);Ar;)Ar=!1,Yn=0,aa+=1,Un=null,F=pe(Se,_t);return Cs(),F}function Zs(F,X,pe,Se){var _t=pe.render(),st=Se.childContextTypes;if(st!=null){var Ot=X.legacyContext;if(typeof pe.getChildContext!="function")Se=Ot;else{pe=pe.getChildContext();for(var ln in pe)if(!(ln in st))throw Error(p(108,sn(Se)||"Unknown",ln));Se=na({},Ot,pe)}X.legacyContext=Se,qi(F,X,_t),X.legacyContext=Ot}else qi(F,X,_t)}function Ro(F,X){if(F&&F.defaultProps){X=na({},X),F=F.defaultProps;for(var pe in F)X[pe]===void 0&&(X[pe]=F[pe]);return X}return X}function Pa(F,X,pe,Se,_t){if(typeof pe=="function")if(pe.prototype&&pe.prototype.isReactComponent){_t=Mn(pe,X.legacyContext);var st=pe.contextType;st=new pe(Se,typeof st=="object"&&st!==null?st._currentValue:_t),li(st,pe,Se,_t),Zs(F,X,st,pe)}else{st=Mn(pe,X.legacyContext),_t=mo(F,X,pe,Se,st);var Ot=Yn!==0;if(typeof _t=="object"&&_t!==null&&typeof _t.render=="function"&&_t.$$typeof===void 0)li(_t,pe,Se,st),Zs(F,X,_t,pe);else if(Ot){Se=X.treeContext,X.treeContext=zr(Se,1,0);try{qi(F,X,_t)}finally{X.treeContext=Se}}else qi(F,X,_t)}else if(typeof pe=="string"){switch(_t=X.blockedSegment,st=Wi(_t.chunks,pe,Se,F.responseState,_t.formatContext),_t.lastPushedText=!1,Ot=_t.formatContext,_t.formatContext=qe(Ot,pe,Se),Ws(F,X,st),_t.formatContext=Ot,pe){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:_t.chunks.push(Ga,V(pe),Hi)}_t.lastPushedText=!1}else{switch(pe){case gt:case Te:case bs:case r0:case va:qi(F,X,Se.children);return;case ko:qi(F,X,Se.children);return;case fe:throw Error(p(343));case $s:e:{pe=X.blockedBoundary,_t=X.blockedSegment,st=Se.fallback,Se=Se.children,Ot=new Set;var ln={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:Ot,errorDigest:null},Bn=xa(F,_t.chunks.length,ln,_t.formatContext,!1,!1);_t.children.push(Bn),_t.lastPushedText=!1;var hr=xa(F,0,null,_t.formatContext,!1,!1);hr.parentFlushed=!0,X.blockedBoundary=ln,X.blockedSegment=hr;try{if(Ws(F,X,Se),hr.lastPushedText&&hr.textEmbedded&&hr.chunks.push(Tt),hr.status=1,D0(ln,hr),ln.pendingTasks===0)break e}catch(Qn){hr.status=4,ln.forceClientRender=!0,ln.errorDigest=Fi(F,Qn)}finally{X.blockedBoundary=pe,X.blockedSegment=_t}X=Y0(F,st,pe,Bn,Ot,X.legacyContext,X.context,X.treeContext),F.pingedTasks.push(X)}return}if(typeof pe=="object"&&pe!==null)switch(pe.$$typeof){case i0:if(Se=mo(F,X,pe.render,Se,_t),Yn!==0){pe=X.treeContext,X.treeContext=zr(pe,1,0);try{qi(F,X,Se)}finally{X.treeContext=pe}}else qi(F,X,Se);return;case B:pe=pe.type,Se=Ro(pe,Se),Pa(F,X,pe,Se,_t);return;case b0:if(_t=Se.children,pe=pe._context,Se=Se.value,st=pe._currentValue,pe._currentValue=Se,Ot=xn,xn=Se={parent:Ot,depth:Ot===null?0:Ot.depth+1,context:pe,parentValue:st,value:Se},X.context=Se,qi(F,X,_t),F=xn,F===null)throw Error(p(403));Se=F.parentValue,F.context._currentValue=Se===ct?F.context._defaultValue:Se,F=xn=F.parent,X.context=F;return;case ws:Se=Se.children,Se=Se(pe._currentValue),qi(F,X,Se);return;case J:_t=pe._init,pe=_t(pe._payload),Se=Ro(pe,Se),Pa(F,X,pe,Se,void 0);return}throw Error(p(130,pe==null?pe:typeof pe,""))}}function qi(F,X,pe){if(X.node=pe,typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case uo:Pa(F,X,pe.type,pe.props,pe.ref);return;case sl:throw Error(p(257));case J:var Se=pe._init;pe=Se(pe._payload),qi(F,X,pe);return}if(ge(pe)){Hr(F,X,pe);return}if(pe===null||typeof pe!="object"?Se=null:(Se=Ut&&pe[Ut]||pe["@@iterator"],Se=typeof Se=="function"?Se:null),Se&&(Se=Se.call(pe))){if(pe=Se.next(),!pe.done){var _t=[];do _t.push(pe.value),pe=Se.next();while(!pe.done);Hr(F,X,_t)}return}throw F=Object.prototype.toString.call(pe),Error(p(31,F==="[object Object]"?"object with keys {"+Object.keys(pe).join(", ")+"}":F))}typeof pe=="string"?(Se=X.blockedSegment,Se.lastPushedText=mn(X.blockedSegment.chunks,pe,F.responseState,Se.lastPushedText)):typeof pe=="number"&&(Se=X.blockedSegment,Se.lastPushedText=mn(X.blockedSegment.chunks,""+pe,F.responseState,Se.lastPushedText))}function Hr(F,X,pe){for(var Se=pe.length,_t=0;_t<Se;_t++){var st=X.treeContext;X.treeContext=zr(st,Se,_t);try{Ws(F,X,pe[_t])}finally{X.treeContext=st}}}function Ws(F,X,pe){var Se=X.blockedSegment.formatContext,_t=X.legacyContext,st=X.context;try{return qi(F,X,pe)}catch(Bn){if(Cs(),typeof Bn=="object"&&Bn!==null&&typeof Bn.then=="function"){pe=Bn;var Ot=X.blockedSegment,ln=xa(F,Ot.chunks.length,null,Ot.formatContext,Ot.lastPushedText,!0);Ot.children.push(ln),Ot.lastPushedText=!1,F=Y0(F,X.node,X.blockedBoundary,ln,X.abortSet,X.legacyContext,X.context,X.treeContext).ping,pe.then(F,F),X.blockedSegment.formatContext=Se,X.legacyContext=_t,X.context=st,Ta(st)}else throw X.blockedSegment.formatContext=Se,X.legacyContext=_t,X.context=st,Ta(st),Bn}}function Q0(F){var X=F.blockedBoundary;F=F.blockedSegment,F.status=3,jc(this,X,F)}function $c(F,X,pe){var Se=F.blockedBoundary;F.blockedSegment.status=3,Se===null?(X.allPendingTasks--,X.status!==2&&(X.status=2,X.destination!==null&&X.destination.close())):(Se.pendingTasks--,Se.forceClientRender||(Se.forceClientRender=!0,F=pe===void 0?Error(p(432)):pe,Se.errorDigest=X.onError(F),Se.parentFlushed&&X.clientRenderedBoundaries.push(Se)),Se.fallbackAbortableTasks.forEach(function(_t){return $c(_t,X,pe)}),Se.fallbackAbortableTasks.clear(),X.allPendingTasks--,X.allPendingTasks===0&&(Se=X.onAllReady,Se()))}function D0(F,X){if(X.chunks.length===0&&X.children.length===1&&X.children[0].boundary===null){var pe=X.children[0];pe.id=X.id,pe.parentFlushed=!0,pe.status===1&&D0(F,pe)}else F.completedSegments.push(X)}function jc(F,X,pe){if(X===null){if(pe.parentFlushed){if(F.completedRootSegment!==null)throw Error(p(389));F.completedRootSegment=pe}F.pendingRootTasks--,F.pendingRootTasks===0&&(F.onShellError=Ds,X=F.onShellReady,X())}else X.pendingTasks--,X.forceClientRender||(X.pendingTasks===0?(pe.parentFlushed&&pe.status===1&&D0(X,pe),X.parentFlushed&&F.completedBoundaries.push(X),X.fallbackAbortableTasks.forEach(Q0,F),X.fallbackAbortableTasks.clear()):pe.parentFlushed&&pe.status===1&&(D0(X,pe),X.completedSegments.length===1&&X.parentFlushed&&F.partialBoundaries.push(X)));F.allPendingTasks--,F.allPendingTasks===0&&(F=F.onAllReady,F())}function I0(F){if(F.status!==2){var X=xn,pe=Ei.current;Ei.current=Oi;var Se=Vs;Vs=F.responseState;try{var _t=F.pingedTasks,st;for(st=0;st<_t.length;st++){var Ot=_t[st],ln=F,Bn=Ot.blockedSegment;if(Bn.status===0){Ta(Ot.context);try{qi(ln,Ot,Ot.node),Bn.lastPushedText&&Bn.textEmbedded&&Bn.chunks.push(Tt),Ot.abortSet.delete(Ot),Bn.status=1,jc(ln,Ot.blockedBoundary,Bn)}catch(yo){if(Cs(),typeof yo=="object"&&yo!==null&&typeof yo.then=="function"){var hr=Ot.ping;yo.then(hr,hr)}else{Ot.abortSet.delete(Ot),Bn.status=4;var Qn=Ot.blockedBoundary,pi=yo,Oa=Fi(ln,pi);if(Qn===null?ki(ln,pi):(Qn.pendingTasks--,Qn.forceClientRender||(Qn.forceClientRender=!0,Qn.errorDigest=Oa,Qn.parentFlushed&&ln.clientRenderedBoundaries.push(Qn))),ln.allPendingTasks--,ln.allPendingTasks===0){var zo=ln.onAllReady;zo()}}}finally{}}}_t.splice(0,st),F.destination!==null&&J0(F,F.destination)}catch(yo){Fi(F,yo),ki(F,yo)}finally{Vs=Se,Ei.current=pe,pe===Oi&&Ta(X)}}}function pl(F,X,pe){switch(pe.parentFlushed=!0,pe.status){case 0:var Se=pe.id=F.nextSegmentId++;return pe.lastPushedText=!1,pe.textEmbedded=!1,F=F.responseState,D(X,Qr),D(X,F.placeholderPrefix),F=V(Se.toString(16)),D(X,F),E(X,Bi);case 1:pe.status=2;var _t=!0;Se=pe.chunks;var st=0;pe=pe.children;for(var Ot=0;Ot<pe.length;Ot++){for(_t=pe[Ot];st<_t.index;st++)D(X,Se[st]);_t=zl(F,X,_t)}for(;st<Se.length-1;st++)D(X,Se[st]);return st<Se.length&&(_t=E(X,Se[st])),_t;default:throw Error(p(390))}}function zl(F,X,pe){var Se=pe.boundary;if(Se===null)return pl(F,X,pe);if(Se.parentFlushed=!0,Se.forceClientRender)Se=Se.errorDigest,E(X,ri),D(X,Fe),Se&&(D(X,oe),D(X,V(ot(Se))),D(X,ne)),E(X,ve),pl(F,X,pe);else if(0<Se.pendingTasks){Se.rootSegmentID=F.nextSegmentId++,0<Se.completedSegments.length&&F.partialBoundaries.push(Se);var _t=F.responseState,st=_t.nextSuspenseID++;_t=q(_t.boundaryPrefix+st.toString(16)),Se=Se.id=_t,Me(X,F.responseState,Se),pl(F,X,pe)}else if(Se.byteSize>F.progressiveChunkSize)Se.rootSegmentID=F.nextSegmentId++,F.completedBoundaries.push(Se),Me(X,F.responseState,Se.id),pl(F,X,pe);else{if(E(X,wi),pe=Se.completedSegments,pe.length!==1)throw Error(p(391));zl(F,X,pe[0])}return E(X,_a)}function Gl(F,X,pe){return jr(X,F.responseState,pe.formatContext,pe.id),zl(F,X,pe),Vr(X,pe.formatContext)}function Hs(F,X,pe){for(var Se=pe.completedSegments,_t=0;_t<Se.length;_t++)Uo(F,X,pe,Se[_t]);if(Se.length=0,F=F.responseState,Se=pe.id,pe=pe.rootSegmentID,D(X,F.startInlineScript),F.sentCompleteBoundaryFunction?D(X,ol):(F.sentCompleteBoundaryFunction=!0,D(X,Eo)),Se===null)throw Error(p(395));return pe=V(pe.toString(16)),D(X,Se),D(X,qa),D(X,F.segmentPrefix),D(X,pe),E(X,Fs)}function Uo(F,X,pe,Se){if(Se.status===2)return!0;var _t=Se.id;if(_t===-1){if((Se.id=pe.rootSegmentID)===-1)throw Error(p(392));return Gl(F,X,Se)}return Gl(F,X,Se),F=F.responseState,D(X,F.startInlineScript),F.sentCompleteSegmentFunction?D(X,or):(F.sentCompleteSegmentFunction=!0,D(X,Sa)),D(X,F.segmentPrefix),_t=V(_t.toString(16)),D(X,_t),D(X,ns),D(X,F.placeholderPrefix),D(X,_t),E(X,rs)}function J0(F,X){d=new Uint8Array(512),w=0;try{var pe=F.completedRootSegment;if(pe!==null&&F.pendingRootTasks===0){zl(F,X,pe),F.completedRootSegment=null;var Se=F.responseState.bootstrapChunks;for(pe=0;pe<Se.length-1;pe++)D(X,Se[pe]);pe<Se.length&&E(X,Se[pe])}var _t=F.clientRenderedBoundaries,st;for(st=0;st<_t.length;st++){var Ot=_t[st];Se=X;var ln=F.responseState,Bn=Ot.id,hr=Ot.errorDigest,Qn=Ot.errorMessage,pi=Ot.errorComponentStack;if(D(Se,ln.startInlineScript),ln.sentClientRenderFunction?D(Se,si):(ln.sentClientRenderFunction=!0,D(Se,sr)),Bn===null)throw Error(p(395));D(Se,Bn),D(Se,Wr),(hr||Qn||pi)&&(D(Se,lo),D(Se,V(La(hr||"")))),(Qn||pi)&&(D(Se,lo),D(Se,V(La(Qn||"")))),pi&&(D(Se,lo),D(Se,V(La(pi)))),E(Se,Ns)}_t.splice(0,st);var Oa=F.completedBoundaries;for(st=0;st<Oa.length;st++)Hs(F,X,Oa[st]);Oa.splice(0,st),I(X),d=new Uint8Array(512),w=0;var zo=F.partialBoundaries;for(st=0;st<zo.length;st++){var yo=zo[st];e:{_t=F,Ot=X;var is=yo.completedSegments;for(ln=0;ln<is.length;ln++)if(!Uo(_t,Ot,yo,is[ln])){ln++,is.splice(0,ln);var Ou=!1;break e}is.splice(0,ln),Ou=!0}if(!Ou){F.destination=null,st++,zo.splice(0,st);return}}zo.splice(0,st);var dl=F.completedBoundaries;for(st=0;st<dl.length;st++)Hs(F,X,dl[st]);dl.splice(0,st)}finally{I(X),F.allPendingTasks===0&&F.pingedTasks.length===0&&F.clientRenderedBoundaries.length===0&&F.completedBoundaries.length===0&&X.close()}}function eu(F,X){try{var pe=F.abortableTasks;pe.forEach(function(Se){return $c(Se,F,X)}),pe.clear(),F.destination!==null&&J0(F,F.destination)}catch(Se){Fi(F,Se),ki(F,Se)}}return _m.renderToReadableStream=function(F,X){return new Promise(function(pe,Se){var _t,st,Ot=new Promise(function(Qn,pi){st=Qn,_t=pi}),ln=hl(F,yt(X?X.identifierPrefix:void 0,X?X.nonce:void 0,X?X.bootstrapScriptContent:void 0,X?X.bootstrapScripts:void 0,X?X.bootstrapModules:void 0),jt(X?X.namespaceURI:void 0),X?X.progressiveChunkSize:void 0,X?X.onError:void 0,st,function(){var Qn=new ReadableStream({type:"bytes",pull:function(pi){if(ln.status===1)ln.status=2,ue(pi,ln.fatalError);else if(ln.status!==2&&ln.destination===null){ln.destination=pi;try{J0(ln,pi)}catch(Oa){Fi(ln,Oa),ki(ln,Oa)}}},cancel:function(){eu(ln)}},{highWaterMark:0});Qn.allReady=Ot,pe(Qn)},function(Qn){Ot.catch(function(){}),Se(Qn)},_t);if(X&&X.signal){var Bn=X.signal,hr=function(){eu(ln,Bn.reason),Bn.removeEventListener("abort",hr)};Bn.addEventListener("abort",hr)}I0(ln)})},_m.version="18.3.1",_m}var Z2;function T5(){if(Z2)return Yp;Z2=1;var o,p;return o=A5(),p=S5(),Yp.version=o.version,Yp.renderToString=o.renderToString,Yp.renderToStaticMarkup=o.renderToStaticMarkup,Yp.renderToNodeStream=o.renderToNodeStream,Yp.renderToStaticNodeStream=o.renderToStaticNodeStream,Yp.renderToReadableStream=p.renderToReadableStream,Yp}T5();function M5(o){const{challenges:p,setChallenge:d,challenge:w,colorBy:D,setColorBy:E}=o,[I,s]=Os.useState([]),[V,q]=Os.useState(!1);return He.useEffect(()=>{s(p.map(ue=>$t.jsx(NE,{value:ue.name,children:ue.name})))},[p]),$t.jsxs("div",{style:{position:"absolute",top:20,left:20,zIndex:1e3,width:"300px",backgroundColor:"white",padding:"10px",borderRadius:"8px",height:V?"30px":"auto",overflow:"hidden",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[$t.jsx("div",{style:{width:"100%",textAlign:"right"},children:$t.jsxs(I5,{onClick:()=>q(ue=>!ue),children:[!V&&$t.jsx(s5,{}),V&&$t.jsx(l5,{})]})}),$t.jsx("div",{style:{width:"300px",height:"200px",background:"url('/blitz-the-gap-map/logo.png') no-repeat",marginBottom:"10px",backgroundPosition:"center center",backgroundSize:"contain"}}),$t.jsxs(w2,{variant:"standard",sx:{m:1,minWidth:280},children:[$t.jsx(sE,{id:"simple-select-standard-label",children:"Choose challenge"}),$t.jsx(nw,{labelId:"simple-select-standard-label",id:"simple-select-standard",value:w,onChange:ue=>{d(ue.target.value)},label:"Challenge",children:I.length>0&&I}),$t.jsxs(w2,{sx:{marginTop:"15px"},children:[$t.jsx(zb,{id:"row-radio-buttons-group-label",children:"Color by:"}),$t.jsxs(o5,{row:!0,"aria-labelledby":"row-radio-buttons-group-label",name:"row-radio-buttons-group",value:D,onChange:ue=>{E(ue.target.value)},children:[$t.jsx(C2,{value:"challenges",control:$t.jsx(N2,{}),label:w==="All challenges"?"Number of challenges":"Included in challenge"}),$t.jsx(C2,{value:"species",control:$t.jsx(N2,{}),label:"Number of species"})]})]})]})]})}const{useEffect:N5,useRef:$5}=Os;function P5(){const[o,p]=Os.useState("https://object-arbutus.cloud.computecanada.ca/bq-io/io/inat_canada_heatmaps/All_density_inat_100m.tif"),[d,w]=He.useState("All challenges"),[D,E]=He.useState("challenges"),I=[{name:"All challenges",everywhere:!1},{name:"Conservation priorities (MayBAs)",everywhere:!1},{name:"Make a splash",everywhere:!1},{name:"Trailblazers",everywhere:!1},{name:"99 Percent",everywhere:!1},{name:"Revisit the past",everywhere:!1},{name:"Climate gaps",everywhere:!1},{name:"Birders, don't look up!",everywhere:!0},{name:"Getting Even",everywhere:!0},{name:"More than a Monarch",everywhere:!0},{name:"Missing Canadian Species",everywhere:!0}];return $t.jsxs($t.Fragment,{children:[$t.jsx(M5,{challenges:I,challenge:d,setChallenge:w,colorBy:D,setColorBy:E}),$t.jsx(BS,{COGUrl:o,opacity:100,challenges:I,challenge:d,colorBy:D}),$t.jsx(QA,{effect:"solid",type:"dark",scrollHide:"true",event:"mousemove",eventOff:"mouseleave",delayHide:1e3})]})}const E5=document.getElementById("root"),k5=zw.createRoot(E5);k5.render($t.jsx(P5,{}));
