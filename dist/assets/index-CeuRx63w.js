var _w=Object.defineProperty;var vw=(o,p,d)=>p in o?_w(o,p,{enumerable:!0,configurable:!0,writable:!0,value:d}):o[p]=d;var Wf=(o,p,d)=>vw(o,typeof p!="symbol"?p+"":p,d);function xw(o,p){for(var d=0;d<p.length;d++){const w=p[d];if(typeof w!="string"&&!Array.isArray(w)){for(const C in w)if(C!=="default"&&!(C in o)){const E=Object.getOwnPropertyDescriptor(w,C);E&&Object.defineProperty(o,C,E.get?E:{enumerable:!0,get:()=>w[C]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}(function(){const p=document.createElement("link").relList;if(p&&p.supports&&p.supports("modulepreload"))return;for(const C of document.querySelectorAll('link[rel="modulepreload"]'))w(C);new MutationObserver(C=>{for(const E of C)if(E.type==="childList")for(const A of E.addedNodes)A.tagName==="LINK"&&A.rel==="modulepreload"&&w(A)}).observe(document,{childList:!0,subtree:!0});function d(C){const E={};return C.integrity&&(E.integrity=C.integrity),C.referrerPolicy&&(E.referrerPolicy=C.referrerPolicy),C.crossOrigin==="use-credentials"?E.credentials="include":C.crossOrigin==="anonymous"?E.credentials="omit":E.credentials="same-origin",E}function w(C){if(C.ep)return;C.ep=!0;const E=d(C);fetch(C.href,E)}})();var Jg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zm(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var yy={exports:{}},Hf={},_y={exports:{}},qr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function bw(){if(S_)return qr;S_=1;var o=Symbol.for("react.element"),p=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),A=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),q=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),te=Symbol.iterator;function ce(We){return We===null||typeof We!="object"?null:(We=te&&We[te]||We["@@iterator"],typeof We=="function"?We:null)}var oe={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},de=Object.assign,xe={};function Pe(We,St,mn){this.props=We,this.context=St,this.refs=xe,this.updater=mn||oe}Pe.prototype.isReactComponent={},Pe.prototype.setState=function(We,St){if(typeof We!="object"&&typeof We!="function"&&We!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,We,St,"setState")},Pe.prototype.forceUpdate=function(We){this.updater.enqueueForceUpdate(this,We,"forceUpdate")};function He(){}He.prototype=Pe.prototype;function rt(We,St,mn){this.props=We,this.context=St,this.refs=xe,this.updater=mn||oe}var ze=rt.prototype=new He;ze.constructor=rt,de(ze,Pe.prototype),ze.isPureReactComponent=!0;var Me=Array.isArray,Ge=Object.prototype.hasOwnProperty,je={current:null},ot={key:!0,ref:!0,__self:!0,__source:!0};function Pt(We,St,mn){var cn,kt={},gn=null,wn=null;if(St!=null)for(cn in St.ref!==void 0&&(wn=St.ref),St.key!==void 0&&(gn=""+St.key),St)Ge.call(St,cn)&&!ot.hasOwnProperty(cn)&&(kt[cn]=St[cn]);var Fn=arguments.length-2;if(Fn===1)kt.children=mn;else if(1<Fn){for(var Rn=Array(Fn),An=0;An<Fn;An++)Rn[An]=arguments[An+2];kt.children=Rn}if(We&&We.defaultProps)for(cn in Fn=We.defaultProps,Fn)kt[cn]===void 0&&(kt[cn]=Fn[cn]);return{$$typeof:o,type:We,key:gn,ref:wn,props:kt,_owner:je.current}}function Jt(We,St){return{$$typeof:o,type:We.type,key:St,ref:We.ref,props:We.props,_owner:We._owner}}function ye(We){return typeof We=="object"&&We!==null&&We.$$typeof===o}function Dt(We){var St={"=":"=0",":":"=2"};return"$"+We.replace(/[=:]/g,function(mn){return St[mn]})}var Mt=/\/+/g;function Wt(We,St){return typeof We=="object"&&We!==null&&We.key!=null?Dt(""+We.key):St.toString(36)}function Vt(We,St,mn,cn,kt){var gn=typeof We;(gn==="undefined"||gn==="boolean")&&(We=null);var wn=!1;if(We===null)wn=!0;else switch(gn){case"string":case"number":wn=!0;break;case"object":switch(We.$$typeof){case o:case p:wn=!0}}if(wn)return wn=We,kt=kt(wn),We=cn===""?"."+Wt(wn,0):cn,Me(kt)?(mn="",We!=null&&(mn=We.replace(Mt,"$&/")+"/"),Vt(kt,St,mn,"",function(An){return An})):kt!=null&&(ye(kt)&&(kt=Jt(kt,mn+(!kt.key||wn&&wn.key===kt.key?"":(""+kt.key).replace(Mt,"$&/")+"/")+We)),St.push(kt)),1;if(wn=0,cn=cn===""?".":cn+":",Me(We))for(var Fn=0;Fn<We.length;Fn++){gn=We[Fn];var Rn=cn+Wt(gn,Fn);wn+=Vt(gn,St,mn,Rn,kt)}else if(Rn=ce(We),typeof Rn=="function")for(We=Rn.call(We),Fn=0;!(gn=We.next()).done;)gn=gn.value,Rn=cn+Wt(gn,Fn++),wn+=Vt(gn,St,mn,Rn,kt);else if(gn==="object")throw St=String(We),Error("Objects are not valid as a React child (found: "+(St==="[object Object]"?"object with keys {"+Object.keys(We).join(", ")+"}":St)+"). If you meant to render a collection of children, use an array instead.");return wn}function Nt(We,St,mn){if(We==null)return We;var cn=[],kt=0;return Vt(We,cn,"","",function(gn){return St.call(mn,gn,kt++)}),cn}function $t(We){if(We._status===-1){var St=We._result;St=St(),St.then(function(mn){(We._status===0||We._status===-1)&&(We._status=1,We._result=mn)},function(mn){(We._status===0||We._status===-1)&&(We._status=2,We._result=mn)}),We._status===-1&&(We._status=0,We._result=St)}if(We._status===1)return We._result.default;throw We._result}var dn={current:null},yt={transition:null},mt={ReactCurrentDispatcher:dn,ReactCurrentBatchConfig:yt,ReactCurrentOwner:je};function Ot(){throw Error("act(...) is not supported in production builds of React.")}return qr.Children={map:Nt,forEach:function(We,St,mn){Nt(We,function(){St.apply(this,arguments)},mn)},count:function(We){var St=0;return Nt(We,function(){St++}),St},toArray:function(We){return Nt(We,function(St){return St})||[]},only:function(We){if(!ye(We))throw Error("React.Children.only expected to receive a single React element child.");return We}},qr.Component=Pe,qr.Fragment=d,qr.Profiler=C,qr.PureComponent=rt,qr.StrictMode=w,qr.Suspense=V,qr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mt,qr.act=Ot,qr.cloneElement=function(We,St,mn){if(We==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+We+".");var cn=de({},We.props),kt=We.key,gn=We.ref,wn=We._owner;if(St!=null){if(St.ref!==void 0&&(gn=St.ref,wn=je.current),St.key!==void 0&&(kt=""+St.key),We.type&&We.type.defaultProps)var Fn=We.type.defaultProps;for(Rn in St)Ge.call(St,Rn)&&!ot.hasOwnProperty(Rn)&&(cn[Rn]=St[Rn]===void 0&&Fn!==void 0?Fn[Rn]:St[Rn])}var Rn=arguments.length-2;if(Rn===1)cn.children=mn;else if(1<Rn){Fn=Array(Rn);for(var An=0;An<Rn;An++)Fn[An]=arguments[An+2];cn.children=Fn}return{$$typeof:o,type:We.type,key:kt,ref:gn,props:cn,_owner:wn}},qr.createContext=function(We){return We={$$typeof:A,_currentValue:We,_currentValue2:We,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},We.Provider={$$typeof:E,_context:We},We.Consumer=We},qr.createElement=Pt,qr.createFactory=function(We){var St=Pt.bind(null,We);return St.type=We,St},qr.createRef=function(){return{current:null}},qr.forwardRef=function(We){return{$$typeof:l,render:We}},qr.isValidElement=ye,qr.lazy=function(We){return{$$typeof:ue,_payload:{_status:-1,_result:We},_init:$t}},qr.memo=function(We,St){return{$$typeof:q,type:We,compare:St===void 0?null:St}},qr.startTransition=function(We){var St=yt.transition;yt.transition={};try{We()}finally{yt.transition=St}},qr.unstable_act=Ot,qr.useCallback=function(We,St){return dn.current.useCallback(We,St)},qr.useContext=function(We){return dn.current.useContext(We)},qr.useDebugValue=function(){},qr.useDeferredValue=function(We){return dn.current.useDeferredValue(We)},qr.useEffect=function(We,St){return dn.current.useEffect(We,St)},qr.useId=function(){return dn.current.useId()},qr.useImperativeHandle=function(We,St,mn){return dn.current.useImperativeHandle(We,St,mn)},qr.useInsertionEffect=function(We,St){return dn.current.useInsertionEffect(We,St)},qr.useLayoutEffect=function(We,St){return dn.current.useLayoutEffect(We,St)},qr.useMemo=function(We,St){return dn.current.useMemo(We,St)},qr.useReducer=function(We,St,mn){return dn.current.useReducer(We,St,mn)},qr.useRef=function(We){return dn.current.useRef(We)},qr.useState=function(We){return dn.current.useState(We)},qr.useSyncExternalStore=function(We,St,mn){return dn.current.useSyncExternalStore(We,St,mn)},qr.useTransition=function(){return dn.current.useTransition()},qr.version="18.3.1",qr}var T_;function _g(){return T_||(T_=1,_y.exports=bw()),_y.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_;function ww(){if(M_)return Hf;M_=1;var o=_g(),p=Symbol.for("react.element"),d=Symbol.for("react.fragment"),w=Object.prototype.hasOwnProperty,C=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,E={key:!0,ref:!0,__self:!0,__source:!0};function A(l,V,q){var ue,te={},ce=null,oe=null;q!==void 0&&(ce=""+q),V.key!==void 0&&(ce=""+V.key),V.ref!==void 0&&(oe=V.ref);for(ue in V)w.call(V,ue)&&!E.hasOwnProperty(ue)&&(te[ue]=V[ue]);if(l&&l.defaultProps)for(ue in V=l.defaultProps,V)te[ue]===void 0&&(te[ue]=V[ue]);return{$$typeof:p,type:l,key:ce,ref:oe,props:te,_owner:C.current}}return Hf.Fragment=d,Hf.jsx=A,Hf.jsxs=A,Hf}var P_;function Dw(){return P_||(P_=1,yy.exports=ww()),yy.exports}var Yt=Dw(),em={},vy={exports:{}},Z0={},xy={exports:{}},by={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_;function Cw(){return E_||(E_=1,function(o){function p(yt,mt){var Ot=yt.length;yt.push(mt);e:for(;0<Ot;){var We=Ot-1>>>1,St=yt[We];if(0<C(St,mt))yt[We]=mt,yt[Ot]=St,Ot=We;else break e}}function d(yt){return yt.length===0?null:yt[0]}function w(yt){if(yt.length===0)return null;var mt=yt[0],Ot=yt.pop();if(Ot!==mt){yt[0]=Ot;e:for(var We=0,St=yt.length,mn=St>>>1;We<mn;){var cn=2*(We+1)-1,kt=yt[cn],gn=cn+1,wn=yt[gn];if(0>C(kt,Ot))gn<St&&0>C(wn,kt)?(yt[We]=wn,yt[gn]=Ot,We=gn):(yt[We]=kt,yt[cn]=Ot,We=cn);else if(gn<St&&0>C(wn,Ot))yt[We]=wn,yt[gn]=Ot,We=gn;else break e}}return mt}function C(yt,mt){var Ot=yt.sortIndex-mt.sortIndex;return Ot!==0?Ot:yt.id-mt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var E=performance;o.unstable_now=function(){return E.now()}}else{var A=Date,l=A.now();o.unstable_now=function(){return A.now()-l}}var V=[],q=[],ue=1,te=null,ce=3,oe=!1,de=!1,xe=!1,Pe=typeof setTimeout=="function"?setTimeout:null,He=typeof clearTimeout=="function"?clearTimeout:null,rt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ze(yt){for(var mt=d(q);mt!==null;){if(mt.callback===null)w(q);else if(mt.startTime<=yt)w(q),mt.sortIndex=mt.expirationTime,p(V,mt);else break;mt=d(q)}}function Me(yt){if(xe=!1,ze(yt),!de)if(d(V)!==null)de=!0,$t(Ge);else{var mt=d(q);mt!==null&&dn(Me,mt.startTime-yt)}}function Ge(yt,mt){de=!1,xe&&(xe=!1,He(Pt),Pt=-1),oe=!0;var Ot=ce;try{for(ze(mt),te=d(V);te!==null&&(!(te.expirationTime>mt)||yt&&!Dt());){var We=te.callback;if(typeof We=="function"){te.callback=null,ce=te.priorityLevel;var St=We(te.expirationTime<=mt);mt=o.unstable_now(),typeof St=="function"?te.callback=St:te===d(V)&&w(V),ze(mt)}else w(V);te=d(V)}if(te!==null)var mn=!0;else{var cn=d(q);cn!==null&&dn(Me,cn.startTime-mt),mn=!1}return mn}finally{te=null,ce=Ot,oe=!1}}var je=!1,ot=null,Pt=-1,Jt=5,ye=-1;function Dt(){return!(o.unstable_now()-ye<Jt)}function Mt(){if(ot!==null){var yt=o.unstable_now();ye=yt;var mt=!0;try{mt=ot(!0,yt)}finally{mt?Wt():(je=!1,ot=null)}}else je=!1}var Wt;if(typeof rt=="function")Wt=function(){rt(Mt)};else if(typeof MessageChannel<"u"){var Vt=new MessageChannel,Nt=Vt.port2;Vt.port1.onmessage=Mt,Wt=function(){Nt.postMessage(null)}}else Wt=function(){Pe(Mt,0)};function $t(yt){ot=yt,je||(je=!0,Wt())}function dn(yt,mt){Pt=Pe(function(){yt(o.unstable_now())},mt)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(yt){yt.callback=null},o.unstable_continueExecution=function(){de||oe||(de=!0,$t(Ge))},o.unstable_forceFrameRate=function(yt){0>yt||125<yt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Jt=0<yt?Math.floor(1e3/yt):5},o.unstable_getCurrentPriorityLevel=function(){return ce},o.unstable_getFirstCallbackNode=function(){return d(V)},o.unstable_next=function(yt){switch(ce){case 1:case 2:case 3:var mt=3;break;default:mt=ce}var Ot=ce;ce=mt;try{return yt()}finally{ce=Ot}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(yt,mt){switch(yt){case 1:case 2:case 3:case 4:case 5:break;default:yt=3}var Ot=ce;ce=yt;try{return mt()}finally{ce=Ot}},o.unstable_scheduleCallback=function(yt,mt,Ot){var We=o.unstable_now();switch(typeof Ot=="object"&&Ot!==null?(Ot=Ot.delay,Ot=typeof Ot=="number"&&0<Ot?We+Ot:We):Ot=We,yt){case 1:var St=-1;break;case 2:St=250;break;case 5:St=1073741823;break;case 4:St=1e4;break;default:St=5e3}return St=Ot+St,yt={id:ue++,callback:mt,priorityLevel:yt,startTime:Ot,expirationTime:St,sortIndex:-1},Ot>We?(yt.sortIndex=Ot,p(q,yt),d(V)===null&&yt===d(q)&&(xe?(He(Pt),Pt=-1):xe=!0,dn(Me,Ot-We))):(yt.sortIndex=St,p(V,yt),de||oe||(de=!0,$t(Ge))),yt},o.unstable_shouldYield=Dt,o.unstable_wrapCallback=function(yt){var mt=ce;return function(){var Ot=ce;ce=mt;try{return yt.apply(this,arguments)}finally{ce=Ot}}}}(by)),by}var k_;function Iw(){return k_||(k_=1,xy.exports=Cw()),xy.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R_;function Aw(){if(R_)return Z0;R_=1;var o=_g(),p=Iw();function d(a){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+a,x=1;x<arguments.length;x++)c+="&args[]="+encodeURIComponent(arguments[x]);return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var w=new Set,C={};function E(a,c){A(a,c),A(a+"Capture",c)}function A(a,c){for(C[a]=c,a=0;a<c.length;a++)w.add(c[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),V=Object.prototype.hasOwnProperty,q=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ue={},te={};function ce(a){return V.call(te,a)?!0:V.call(ue,a)?!1:q.test(a)?te[a]=!0:(ue[a]=!0,!1)}function oe(a,c,x,S){if(x!==null&&x.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return S?!1:x!==null?!x.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function de(a,c,x,S){if(c===null||typeof c>"u"||oe(a,c,x,S))return!0;if(S)return!1;if(x!==null)switch(x.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function xe(a,c,x,S,U,$,le){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=S,this.attributeNamespace=U,this.mustUseProperty=x,this.propertyName=a,this.type=c,this.sanitizeURL=$,this.removeEmptyString=le}var Pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){Pe[a]=new xe(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var c=a[0];Pe[c]=new xe(c,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){Pe[a]=new xe(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){Pe[a]=new xe(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){Pe[a]=new xe(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){Pe[a]=new xe(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){Pe[a]=new xe(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){Pe[a]=new xe(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){Pe[a]=new xe(a,5,!1,a.toLowerCase(),null,!1,!1)});var He=/[\-:]([a-z])/g;function rt(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var c=a.replace(He,rt);Pe[c]=new xe(c,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var c=a.replace(He,rt);Pe[c]=new xe(c,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var c=a.replace(He,rt);Pe[c]=new xe(c,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){Pe[a]=new xe(a,1,!1,a.toLowerCase(),null,!1,!1)}),Pe.xlinkHref=new xe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){Pe[a]=new xe(a,1,!1,a.toLowerCase(),null,!0,!0)});function ze(a,c,x,S){var U=Pe.hasOwnProperty(c)?Pe[c]:null;(U!==null?U.type!==0:S||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(de(c,x,U,S)&&(x=null),S||U===null?ce(c)&&(x===null?a.removeAttribute(c):a.setAttribute(c,""+x)):U.mustUseProperty?a[U.propertyName]=x===null?U.type===3?!1:"":x:(c=U.attributeName,S=U.attributeNamespace,x===null?a.removeAttribute(c):(U=U.type,x=U===3||U===4&&x===!0?"":""+x,S?a.setAttributeNS(S,c,x):a.setAttribute(c,x))))}var Me=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ge=Symbol.for("react.element"),je=Symbol.for("react.portal"),ot=Symbol.for("react.fragment"),Pt=Symbol.for("react.strict_mode"),Jt=Symbol.for("react.profiler"),ye=Symbol.for("react.provider"),Dt=Symbol.for("react.context"),Mt=Symbol.for("react.forward_ref"),Wt=Symbol.for("react.suspense"),Vt=Symbol.for("react.suspense_list"),Nt=Symbol.for("react.memo"),$t=Symbol.for("react.lazy"),dn=Symbol.for("react.offscreen"),yt=Symbol.iterator;function mt(a){return a===null||typeof a!="object"?null:(a=yt&&a[yt]||a["@@iterator"],typeof a=="function"?a:null)}var Ot=Object.assign,We;function St(a){if(We===void 0)try{throw Error()}catch(x){var c=x.stack.trim().match(/\n( *(at )?)/);We=c&&c[1]||""}return`
`+We+a}var mn=!1;function cn(a,c){if(!a||mn)return"";mn=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(It){var S=It}Reflect.construct(a,[],c)}else{try{c.call()}catch(It){S=It}a.call(c.prototype)}else{try{throw Error()}catch(It){S=It}a()}}catch(It){if(It&&S&&typeof It.stack=="string"){for(var U=It.stack.split(`
`),$=S.stack.split(`
`),le=U.length-1,Re=$.length-1;1<=le&&0<=Re&&U[le]!==$[Re];)Re--;for(;1<=le&&0<=Re;le--,Re--)if(U[le]!==$[Re]){if(le!==1||Re!==1)do if(le--,Re--,0>Re||U[le]!==$[Re]){var Xe=`
`+U[le].replace(" at new "," at ");return a.displayName&&Xe.includes("<anonymous>")&&(Xe=Xe.replace("<anonymous>",a.displayName)),Xe}while(1<=le&&0<=Re);break}}}finally{mn=!1,Error.prepareStackTrace=x}return(a=a?a.displayName||a.name:"")?St(a):""}function kt(a){switch(a.tag){case 5:return St(a.type);case 16:return St("Lazy");case 13:return St("Suspense");case 19:return St("SuspenseList");case 0:case 2:case 15:return a=cn(a.type,!1),a;case 11:return a=cn(a.type.render,!1),a;case 1:return a=cn(a.type,!0),a;default:return""}}function gn(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case ot:return"Fragment";case je:return"Portal";case Jt:return"Profiler";case Pt:return"StrictMode";case Wt:return"Suspense";case Vt:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case Dt:return(a.displayName||"Context")+".Consumer";case ye:return(a._context.displayName||"Context")+".Provider";case Mt:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case Nt:return c=a.displayName||null,c!==null?c:gn(a.type)||"Memo";case $t:c=a._payload,a=a._init;try{return gn(a(c))}catch{}}return null}function wn(a){var c=a.type;switch(a.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=c.render,a=a.displayName||a.name||"",c.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gn(c);case 8:return c===Pt?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function Fn(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Rn(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function An(a){var c=Rn(a)?"checked":"value",x=Object.getOwnPropertyDescriptor(a.constructor.prototype,c),S=""+a[c];if(!a.hasOwnProperty(c)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var U=x.get,$=x.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return U.call(this)},set:function(le){S=""+le,$.call(this,le)}}),Object.defineProperty(a,c,{enumerable:x.enumerable}),{getValue:function(){return S},setValue:function(le){S=""+le},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function Nn(a){a._valueTracker||(a._valueTracker=An(a))}function Kn(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var x=c.getValue(),S="";return a&&(S=Rn(a)?a.checked?"true":"false":a.value),a=S,a!==x?(c.setValue(a),!0):!1}function Hn(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function yn(a,c){var x=c.checked;return Ot({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:x??a._wrapperState.initialChecked})}function yr(a,c){var x=c.defaultValue==null?"":c.defaultValue,S=c.checked!=null?c.checked:c.defaultChecked;x=Fn(c.value!=null?c.value:x),a._wrapperState={initialChecked:S,initialValue:x,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function fi(a,c){c=c.checked,c!=null&&ze(a,"checked",c,!1)}function Ir(a,c){fi(a,c);var x=Fn(c.value),S=c.type;if(x!=null)S==="number"?(x===0&&a.value===""||a.value!=x)&&(a.value=""+x):a.value!==""+x&&(a.value=""+x);else if(S==="submit"||S==="reset"){a.removeAttribute("value");return}c.hasOwnProperty("value")?Gi(a,c.type,x):c.hasOwnProperty("defaultValue")&&Gi(a,c.type,Fn(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(a.defaultChecked=!!c.defaultChecked)}function Xr(a,c,x){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var S=c.type;if(!(S!=="submit"&&S!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+a._wrapperState.initialValue,x||c===a.value||(a.value=c),a.defaultValue=c}x=a.name,x!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,x!==""&&(a.name=x)}function Gi(a,c,x){(c!=="number"||Hn(a.ownerDocument)!==a)&&(x==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+x&&(a.defaultValue=""+x))}var vr=Array.isArray;function lr(a,c,x,S){if(a=a.options,c){c={};for(var U=0;U<x.length;U++)c["$"+x[U]]=!0;for(x=0;x<a.length;x++)U=c.hasOwnProperty("$"+a[x].value),a[x].selected!==U&&(a[x].selected=U),U&&S&&(a[x].defaultSelected=!0)}else{for(x=""+Fn(x),c=null,U=0;U<a.length;U++){if(a[U].value===x){a[U].selected=!0,S&&(a[U].defaultSelected=!0);return}c!==null||a[U].disabled||(c=a[U])}c!==null&&(c.selected=!0)}}function Dn(a,c){if(c.dangerouslySetInnerHTML!=null)throw Error(d(91));return Ot({},c,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Lr(a,c){var x=c.value;if(x==null){if(x=c.children,c=c.defaultValue,x!=null){if(c!=null)throw Error(d(92));if(vr(x)){if(1<x.length)throw Error(d(93));x=x[0]}c=x}c==null&&(c=""),x=c}a._wrapperState={initialValue:Fn(x)}}function ti(a,c){var x=Fn(c.value),S=Fn(c.defaultValue);x!=null&&(x=""+x,x!==a.value&&(a.value=x),c.defaultValue==null&&a.defaultValue!==x&&(a.defaultValue=x)),S!=null&&(a.defaultValue=""+S)}function Vi(a){var c=a.textContent;c===a._wrapperState.initialValue&&c!==""&&c!==null&&(a.value=c)}function Ga(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zi(a,c){return a==null||a==="http://www.w3.org/1999/xhtml"?Ga(c):a==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Yr,Li=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,x,S,U){MSApp.execUnsafeLocalFunction(function(){return a(c,x,S,U)})}:a}(function(a,c){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=c;else{for(Yr=Yr||document.createElement("div"),Yr.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=Yr.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;c.firstChild;)a.appendChild(c.firstChild)}});function bi(a,c){if(c){var x=a.firstChild;if(x&&x===a.lastChild&&x.nodeType===3){x.nodeValue=c;return}}a.textContent=c}var xr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wi=["Webkit","ms","Moz","O"];Object.keys(xr).forEach(function(a){wi.forEach(function(c){c=c+a.charAt(0).toUpperCase()+a.substring(1),xr[c]=xr[a]})});function ni(a,c,x){return c==null||typeof c=="boolean"||c===""?"":x||typeof c!="number"||c===0||xr.hasOwnProperty(a)&&xr[a]?(""+c).trim():c+"px"}function ma(a,c){a=a.style;for(var x in c)if(c.hasOwnProperty(x)){var S=x.indexOf("--")===0,U=ni(x,c[x],S);x==="float"&&(x="cssFloat"),S?a.setProperty(x,U):a[x]=U}}var Fe=Ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ne(a,c){if(c){if(Fe[a]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(d(137,a));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(d(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(d(61))}if(c.style!=null&&typeof c.style!="object")throw Error(d(62))}}function ae(a,c){if(a.indexOf("-")===-1)return typeof c.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function Te(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ze=null,ge=null,Je=null;function Ye(a){if(a=Ka(a)){if(typeof Ze!="function")throw Error(d(280));var c=a.stateNode;c&&(c=s0(c),Ze(a.stateNode,a.type,c))}}function at(a){ge?Je?Je.push(a):Je=[a]:ge=a}function pt(){if(ge){var a=ge,c=Je;if(Je=ge=null,Ye(a),c)for(a=0;a<c.length;a++)Ye(c[a])}}function tt(a,c){return a(c)}function Rt(){}var Qt=!1;function hn(a,c,x){if(Qt)return a(c,x);Qt=!0;try{return tt(a,c,x)}finally{Qt=!1,(ge!==null||Je!==null)&&(Rt(),pt())}}function Tn(a,c){var x=a.stateNode;if(x===null)return null;var S=s0(x);if(S===null)return null;x=S[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(a=a.type,S=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!S;break e;default:a=!1}if(a)return null;if(x&&typeof x!="function")throw Error(d(231,c,typeof x));return x}var Xn=!1;if(l)try{var On={};Object.defineProperty(On,"passive",{get:function(){Xn=!0}}),window.addEventListener("test",On,On),window.removeEventListener("test",On,On)}catch{Xn=!1}function wt(a,c,x,S,U,$,le,Re,Xe){var It=Array.prototype.slice.call(arguments,3);try{c.apply(x,It)}catch(en){this.onError(en)}}var br=!1,dr=null,wr=!1,Ln=null,zt={onError:function(a){br=!0,dr=a}};function Gn(a,c,x,S,U,$,le,Re,Xe){br=!1,dr=null,wt.apply(zt,arguments)}function nr(a,c,x,S,U,$,le,Re,Xe){if(Gn.apply(this,arguments),br){if(br){var It=dr;br=!1,dr=null}else throw Error(d(198));wr||(wr=!0,Ln=It)}}function Nr(a){var c=a,x=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(x=c.return),a=c.return;while(a)}return c.tag===3?x:null}function $r(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function Ia(a){if(Nr(a)!==a)throw Error(d(188))}function ar(a){var c=a.alternate;if(!c){if(c=Nr(a),c===null)throw Error(d(188));return c!==a?null:a}for(var x=a,S=c;;){var U=x.return;if(U===null)break;var $=U.alternate;if($===null){if(S=U.return,S!==null){x=S;continue}break}if(U.child===$.child){for($=U.child;$;){if($===x)return Ia(U),a;if($===S)return Ia(U),c;$=$.sibling}throw Error(d(188))}if(x.return!==S.return)x=U,S=$;else{for(var le=!1,Re=U.child;Re;){if(Re===x){le=!0,x=U,S=$;break}if(Re===S){le=!0,S=U,x=$;break}Re=Re.sibling}if(!le){for(Re=$.child;Re;){if(Re===x){le=!0,x=$,S=U;break}if(Re===S){le=!0,S=$,x=U;break}Re=Re.sibling}if(!le)throw Error(d(189))}}if(x.alternate!==S)throw Error(d(190))}if(x.tag!==3)throw Error(d(188));return x.stateNode.current===x?a:c}function ns(a){return a=ar(a),a!==null?rs(a):null}function rs(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var c=rs(a);if(c!==null)return c;a=a.sibling}return null}var Po=p.unstable_scheduleCallback,ol=p.unstable_cancelCallback,Wa=p.unstable_shouldYield,Os=p.unstable_requestPaint,or=p.unstable_now,oi=p.unstable_getCurrentPriorityLevel,Vr=p.unstable_ImmediatePriority,Fs=p.unstable_UserBlockingPriority,oo=p.unstable_NormalPriority,n0=p.unstable_LowPriority,La=p.unstable_IdlePriority,na=null,so=null;function sl(a){if(so&&typeof so.onCommitFiberRoot=="function")try{so.onCommitFiberRoot(na,a,void 0,(a.current.flags&128)===128)}catch{}}var ya=Math.clz32?Math.clz32:x0,bs=Math.log,r0=Math.LN2;function x0(a){return a>>>=0,a===0?32:31-(bs(a)/r0|0)|0}var ws=64,i0=4194304;function Ns(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Eo(a,c){var x=a.pendingLanes;if(x===0)return 0;var S=0,U=a.suspendedLanes,$=a.pingedLanes,le=x&268435455;if(le!==0){var Re=le&~U;Re!==0?S=Ns(Re):($&=le,$!==0&&(S=Ns($)))}else le=x&~U,le!==0?S=Ns(le):$!==0&&(S=Ns($));if(S===0)return 0;if(c!==0&&c!==S&&(c&U)===0&&(U=S&-S,$=c&-c,U>=$||U===16&&($&4194240)!==0))return c;if((S&4)!==0&&(S|=x&16),c=a.entangledLanes,c!==0)for(a=a.entanglements,c&=S;0<c;)x=31-ya(c),U=1<<x,S|=a[x],c&=~U;return S}function B(a,c){switch(a){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function J(a,c){for(var x=a.suspendedLanes,S=a.pingedLanes,U=a.expirationTimes,$=a.pendingLanes;0<$;){var le=31-ya($),Re=1<<le,Xe=U[le];Xe===-1?((Re&x)===0||(Re&S)!==0)&&(U[le]=B(Re,c)):Xe<=c&&(a.expiredLanes|=Re),$&=~Re}}function fe(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Se(){var a=ws;return ws<<=1,(ws&4194240)===0&&(ws=64),a}function gt(a){for(var c=[],x=0;31>x;x++)c.push(a);return c}function ct(a,c,x){a.pendingLanes|=c,c!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,c=31-ya(c),a[c]=x}function Ut(a,c){var x=a.pendingLanes&~c;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=c,a.mutableReadLanes&=c,a.entangledLanes&=c,c=a.entanglements;var S=a.eventTimes;for(a=a.expirationTimes;0<x;){var U=31-ya(x),$=1<<U;c[U]=0,S[U]=-1,a[U]=-1,x&=~$}}function sn(a,c){var x=a.entangledLanes|=c;for(a=a.entanglements;x;){var S=31-ya(x),U=1<<S;U&c|a[S]&c&&(a[S]|=c),x&=~U}}var _n=0;function Mn(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var xn,Br,gi,ra,er,lo=!1,Aa=[],Sa=null,si=null,li=null,Ur=new Map,Ii=new Map,zr=[],b0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ba(a,c){switch(a){case"focusin":case"focusout":Sa=null;break;case"dragenter":case"dragleave":si=null;break;case"mouseover":case"mouseout":li=null;break;case"pointerover":case"pointerout":Ur.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ii.delete(c.pointerId)}}function ia(a,c,x,S,U,$){return a===null||a.nativeEvent!==$?(a={blockedOn:c,domEventName:x,eventSystemFlags:S,nativeEvent:$,targetContainers:[U]},c!==null&&(c=Ka(c),c!==null&&Br(c)),a):(a.eventSystemFlags|=S,c=a.targetContainers,U!==null&&c.indexOf(U)===-1&&c.push(U),a)}function uo(a,c,x,S,U){switch(c){case"focusin":return Sa=ia(Sa,a,c,x,S,U),!0;case"dragenter":return si=ia(si,a,c,x,S,U),!0;case"mouseover":return li=ia(li,a,c,x,S,U),!0;case"pointerover":var $=U.pointerId;return Ur.set($,ia(Ur.get($)||null,a,c,x,S,U)),!0;case"gotpointercapture":return $=U.pointerId,Ii.set($,ia(Ii.get($)||null,a,c,x,S,U)),!0}return!1}function co(a){var c=_l(a.target);if(c!==null){var x=Nr(c);if(x!==null){if(c=x.tag,c===13){if(c=$r(x),c!==null){a.blockedOn=c,er(a.priority,function(){gi(x)});return}}else if(c===3&&x.stateNode.current.memoizedState.isDehydrated){a.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Rr(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var x=Ds(a.domEventName,a.eventSystemFlags,c[0],a.nativeEvent);if(x===null){x=a.nativeEvent;var S=new x.constructor(x.type,x);_e=S,x.target.dispatchEvent(S),_e=null}else return c=Ka(x),c!==null&&Br(c),a.blockedOn=x,!1;c.shift()}return!0}function ui(a,c,x){Rr(a)&&x.delete(c)}function Un(){lo=!1,Sa!==null&&Rr(Sa)&&(Sa=null),si!==null&&Rr(si)&&(si=null),li!==null&&Rr(li)&&(li=null),Ur.forEach(ui),Ii.forEach(ui)}function vn(a,c){a.blockedOn===c&&(a.blockedOn=null,lo||(lo=!0,p.unstable_scheduleCallback(p.unstable_NormalPriority,Un)))}function Ar(a){function c(U){return vn(U,a)}if(0<Aa.length){vn(Aa[0],a);for(var x=1;x<Aa.length;x++){var S=Aa[x];S.blockedOn===a&&(S.blockedOn=null)}}for(Sa!==null&&vn(Sa,a),si!==null&&vn(si,a),li!==null&&vn(li,a),Ur.forEach(c),Ii.forEach(c),x=0;x<zr.length;x++)S=zr[x],S.blockedOn===a&&(S.blockedOn=null);for(;0<zr.length&&(x=zr[0],x.blockedOn===null);)co(x),x.blockedOn===null&&zr.shift()}var Yn=Me.ReactCurrentBatchConfig,ho=!0;function aa(a,c,x,S){var U=_n,$=Yn.transition;Yn.transition=null;try{_n=1,w0(a,c,x,S)}finally{_n=U,Yn.transition=$}}function ll(a,c,x,S){var U=_n,$=Yn.transition;Yn.transition=null;try{_n=4,w0(a,c,x,S)}finally{_n=U,Yn.transition=$}}function w0(a,c,x,S){if(ho){var U=Ds(a,c,x,S);if(U===null)Wu(a,c,S,$s,x),Ba(a,S);else if(uo(U,a,c,x,S))S.stopPropagation();else if(Ba(a,S),c&4&&-1<b0.indexOf(a)){for(;U!==null;){var $=Ka(U);if($!==null&&xn($),$=Ds(a,c,x,S),$===null&&Wu(a,c,S,$s,x),$===U)break;U=$}U!==null&&S.stopPropagation()}else Wu(a,c,S,null,x)}}var $s=null;function Ds(a,c,x,S){if($s=null,a=Te(S),a=_l(a),a!==null)if(c=Nr(a),c===null)a=null;else if(x=c.tag,x===13){if(a=$r(c),a!==null)return a;a=null}else if(x===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null);return $s=a,null}function a0(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oi()){case Vr:return 1;case Fs:return 4;case oo:case n0:return 16;case La:return 536870912;default:return 16}default:return 16}}var ci=null,ul=null,po=null;function cl(){if(po)return po;var a,c=ul,x=c.length,S,U="value"in ci?ci.value:ci.textContent,$=U.length;for(a=0;a<x&&c[a]===U[a];a++);var le=x-a;for(S=1;S<=le&&c[x-S]===U[$-S];S++);return po=U.slice(a,1<S?1-S:void 0)}function mi(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function Bi(){return!0}function js(){return!1}function Pi(a){function c(x,S,U,$,le){this._reactName=x,this._targetInst=U,this.type=S,this.nativeEvent=$,this.target=le,this.currentTarget=null;for(var Re in a)a.hasOwnProperty(Re)&&(x=a[Re],this[Re]=x?x($):$[Re]);return this.isDefaultPrevented=($.defaultPrevented!=null?$.defaultPrevented:$.returnValue===!1)?Bi:js,this.isPropagationStopped=js,this}return Ot(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),c}var Ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cs=Pi(Ai),hl=Ot({},Ai,{view:0,detail:0}),X0=Pi(hl),_a,Oi,Ei,fo=Ot({},hl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ro,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ei&&(Ei&&a.type==="mousemove"?(_a=a.screenX-Ei.screenX,Oi=a.screenY-Ei.screenY):Oi=_a=0,Ei=a),_a)},movementY:function(a){return"movementY"in a?a.movementY:Oi}}),Vs=Pi(fo),ko=Ot({},fo,{dataTransfer:0}),Ta=Pi(ko),Wi=Ot({},hl,{relatedTarget:0}),Zr=Pi(Wi),Zs=Ot({},Ai,{animationName:0,elapsedTime:0,pseudoElement:0}),Y0=Pi(Zs),Nc=Ot({},Ai,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),D0=Pi(Nc),$c=Ot({},Ai,{data:0}),C0=Pi($c),pl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ws(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=Gl[a])?!!c[a]:!1}function Ro(){return Ws}var Q0=Ot({},hl,{key:function(a){if(a.key){var c=pl[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=mi(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?zl[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ro,charCode:function(a){return a.type==="keypress"?mi(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?mi(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),J0=Pi(Q0),F=Ot({},fo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),X=Pi(F),he=Ot({},hl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ro}),Ae=Pi(he),_t=Ot({},Ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),st=Pi(_t),Bt=Ot({},fo,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ln=Pi(Bt),Bn=[9,13,27,32],cr=l&&"CompositionEvent"in window,Qn=null;l&&"documentMode"in document&&(Qn=document.documentMode);var hi=l&&"TextEvent"in window&&!Qn,Oa=l&&(!cr||Qn&&8<Qn&&11>=Qn),Uo=" ",go=!1;function is(a,c){switch(a){case"keyup":return Bn.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bu(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var dl=!1;function fl(a,c){switch(a){case"compositionend":return Bu(c);case"keypress":return c.which!==32?null:(go=!0,Uo);case"textInput":return a=c.data,a===Uo&&go?null:a;default:return null}}function yp(a,c){if(dl)return a==="compositionend"||!cr&&is(a,c)?(a=cl(),po=ul=ci=null,dl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Oa&&c.locale!=="ko"?null:c.data;default:return null}}var jc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vc(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!jc[a.type]:c==="textarea"}function Rh(a,c,x,S){at(S),c=E0(c,"onChange"),0<c.length&&(x=new Cs("onChange","change",null,x,S),a.push({event:x,listeners:c}))}var as=null,o0=null;function _p(a){Gh(a,0)}function Ou(a){var c=pr(a);if(Kn(c))return a}function vp(a,c){if(a==="change")return c}var Dr=!1;if(l){var oa;if(l){var Fu="oninput"in document;if(!Fu){var Zc=document.createElement("div");Zc.setAttribute("oninput","return;"),Fu=typeof Zc.oninput=="function"}oa=Fu}else oa=!1;Dr=oa&&(!document.documentMode||9<document.documentMode)}function Wc(){as&&(as.detachEvent("onpropertychange",Uh),o0=as=null)}function Uh(a){if(a.propertyName==="value"&&Ou(o0)){var c=[];Rh(c,o0,a,Te(a)),hn(_p,c)}}function zh(a,c,x){a==="focusin"?(Wc(),as=c,o0=x,as.attachEvent("onpropertychange",Uh)):a==="focusout"&&Wc()}function eu(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Ou(o0)}function I0(a,c){if(a==="click")return Ou(c)}function it(a,c){if(a==="input"||a==="change")return Ou(c)}function Lt(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var bt=typeof Object.is=="function"?Object.is:Lt;function Sn(a,c){if(bt(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var x=Object.keys(a),S=Object.keys(c);if(x.length!==S.length)return!1;for(S=0;S<x.length;S++){var U=x[S];if(!V.call(c,U)||!bt(a[U],c[U]))return!1}return!0}function hr(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Wr(a,c){var x=hr(a);a=0;for(var S;x;){if(x.nodeType===3){if(S=a+x.textContent.length,a<=c&&S>=c)return{node:x,offset:c-a};a=S}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=hr(x)}}function sa(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?sa(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function Qr(){for(var a=window,c=Hn();c instanceof a.HTMLIFrameElement;){try{var x=typeof c.contentWindow.location.href=="string"}catch{x=!1}if(x)a=c.contentWindow;else break;c=Hn(a.document)}return c}function A0(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}function Hc(a){var c=Qr(),x=a.focusedElem,S=a.selectionRange;if(c!==x&&x&&x.ownerDocument&&sa(x.ownerDocument.documentElement,x)){if(S!==null&&A0(x)){if(c=S.start,a=S.end,a===void 0&&(a=c),"selectionStart"in x)x.selectionStart=c,x.selectionEnd=Math.min(a,x.value.length);else if(a=(c=x.ownerDocument||document)&&c.defaultView||window,a.getSelection){a=a.getSelection();var U=x.textContent.length,$=Math.min(S.start,U);S=S.end===void 0?$:Math.min(S.end,U),!a.extend&&$>S&&(U=S,S=$,$=U),U=Wr(x,$);var le=Wr(x,S);U&&le&&(a.rangeCount!==1||a.anchorNode!==U.node||a.anchorOffset!==U.offset||a.focusNode!==le.node||a.focusOffset!==le.offset)&&(c=c.createRange(),c.setStart(U.node,U.offset),a.removeAllRanges(),$>S?(a.addRange(c),a.extend(le.node,le.offset)):(c.setEnd(le.node,le.offset),a.addRange(c)))}}for(c=[],a=x;a=a.parentNode;)a.nodeType===1&&c.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<c.length;x++)a=c[x],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var os=l&&"documentMode"in document&&11>=document.documentMode,zo=null,Nu=null,Go=null,Ha=!1;function $u(a,c,x){var S=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;Ha||zo==null||zo!==Hn(S)||(S=zo,"selectionStart"in S&&A0(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),Go&&Sn(Go,S)||(Go=S,S=E0(Nu,"onSelect"),0<S.length&&(c=new Cs("onSelect","select",null,c,x),a.push({event:c,listeners:S}),c.target=zo)))}function jr(a,c){var x={};return x[a.toLowerCase()]=c.toLowerCase(),x["Webkit"+a]="webkit"+c,x["Moz"+a]="moz"+c,x}var S0={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionend:jr("Transition","TransitionEnd")},Ll={},T0={};l&&(T0=document.createElement("div").style,"AnimationEvent"in window||(delete S0.animationend.animation,delete S0.animationiteration.animation,delete S0.animationstart.animation),"TransitionEvent"in window||delete S0.transitionend.transition);function tu(a){if(Ll[a])return Ll[a];if(!S0[a])return a;var c=S0[a],x;for(x in c)if(c.hasOwnProperty(x)&&x in T0)return Ll[a]=c[x];return a}var ju=tu("animationend"),fc=tu("animationiteration"),M0=tu("animationstart"),ss=tu("transitionend"),Bl=new Map,qc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ls(a,c){Bl.set(a,c),E(c,[a])}for(var _r=0;_r<qc.length;_r++){var nu=qc[_r],ru=nu.toLowerCase(),Kc=nu[0].toUpperCase()+nu.slice(1);ls(ru,"on"+Kc)}ls(ju,"onAnimationEnd"),ls(fc,"onAnimationIteration"),ls(M0,"onAnimationStart"),ls("dblclick","onDoubleClick"),ls("focusin","onFocus"),ls("focusout","onBlur"),ls(ss,"onTransitionEnd"),A("onMouseEnter",["mouseout","mouseover"]),A("onMouseLeave",["mouseout","mouseover"]),A("onPointerEnter",["pointerout","pointerover"]),A("onPointerLeave",["pointerout","pointerover"]),E("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),E("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),E("onBeforeInput",["compositionend","keypress","textInput","paste"]),E("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),E("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),E("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Is="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iu=new Set("cancel close invalid load scroll toggle".split(" ").concat(Is));function gc(a,c,x){var S=a.type||"unknown-event";a.currentTarget=x,nr(S,c,void 0,a),a.currentTarget=null}function Gh(a,c){c=(c&4)!==0;for(var x=0;x<a.length;x++){var S=a[x],U=S.event;S=S.listeners;e:{var $=void 0;if(c)for(var le=S.length-1;0<=le;le--){var Re=S[le],Xe=Re.instance,It=Re.currentTarget;if(Re=Re.listener,Xe!==$&&U.isPropagationStopped())break e;gc(U,Re,It),$=Xe}else for(le=0;le<S.length;le++){if(Re=S[le],Xe=Re.instance,It=Re.currentTarget,Re=Re.listener,Xe!==$&&U.isPropagationStopped())break e;gc(U,Re,It),$=Xe}}}if(wr)throw a=Ln,wr=!1,Ln=null,a}function ki(a,c){var x=c[z0];x===void 0&&(x=c[z0]=new Set);var S=a+"__bubble";x.has(S)||(Zu(c,a,2,!1),x.add(S))}function Vu(a,c,x){var S=0;c&&(S|=4),Zu(x,a,S,c)}var gl="_reactListening"+Math.random().toString(36).slice(2);function ml(a){if(!a[gl]){a[gl]=!0,w.forEach(function(x){x!=="selectionchange"&&(iu.has(x)||Vu(x,!1,a),Vu(x,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[gl]||(c[gl]=!0,Vu("selectionchange",!1,c))}}function Zu(a,c,x,S){switch(a0(c)){case 1:var U=aa;break;case 4:U=ll;break;default:U=w0}x=U.bind(null,c,x,a),U=void 0,!Xn||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(U=!0),S?U!==void 0?a.addEventListener(c,x,{capture:!0,passive:U}):a.addEventListener(c,x,!0):U!==void 0?a.addEventListener(c,x,{passive:U}):a.addEventListener(c,x,!1)}function Wu(a,c,x,S,U){var $=S;if((c&1)===0&&(c&2)===0&&S!==null)e:for(;;){if(S===null)return;var le=S.tag;if(le===3||le===4){var Re=S.stateNode.containerInfo;if(Re===U||Re.nodeType===8&&Re.parentNode===U)break;if(le===4)for(le=S.return;le!==null;){var Xe=le.tag;if((Xe===3||Xe===4)&&(Xe=le.stateNode.containerInfo,Xe===U||Xe.nodeType===8&&Xe.parentNode===U))return;le=le.return}for(;Re!==null;){if(le=_l(Re),le===null)return;if(Xe=le.tag,Xe===5||Xe===6){S=$=le;continue e}Re=Re.parentNode}}S=S.return}hn(function(){var It=$,en=Te(x),on=[];e:{var tn=Bl.get(a);if(tn!==void 0){var Cn=Cs,zn=a;switch(a){case"keypress":if(mi(x)===0)break e;case"keydown":case"keyup":Cn=J0;break;case"focusin":zn="focus",Cn=Zr;break;case"focusout":zn="blur",Cn=Zr;break;case"beforeblur":case"afterblur":Cn=Zr;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Cn=Vs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Cn=Ta;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Cn=Ae;break;case ju:case fc:case M0:Cn=Y0;break;case ss:Cn=st;break;case"scroll":Cn=X0;break;case"wheel":Cn=ln;break;case"copy":case"cut":case"paste":Cn=D0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Cn=X}var $n=(c&4)!==0,da=!$n&&a==="scroll",dt=$n?tn!==null?tn+"Capture":null:tn;$n=[];for(var et=It,vt;et!==null;){vt=et;var pn=vt.stateNode;if(vt.tag===5&&pn!==null&&(vt=pn,dt!==null&&(pn=Tn(et,dt),pn!=null&&$n.push(P0(et,pn,vt)))),da)break;et=et.return}0<$n.length&&(tn=new Cn(tn,zn,null,x,en),on.push({event:tn,listeners:$n}))}}if((c&7)===0){e:{if(tn=a==="mouseover"||a==="pointerover",Cn=a==="mouseout"||a==="pointerout",tn&&x!==_e&&(zn=x.relatedTarget||x.fromElement)&&(_l(zn)||zn[Lo]))break e;if((Cn||tn)&&(tn=en.window===en?en:(tn=en.ownerDocument)?tn.defaultView||tn.parentWindow:window,Cn?(zn=x.relatedTarget||x.toElement,Cn=It,zn=zn?_l(zn):null,zn!==null&&(da=Nr(zn),zn!==da||zn.tag!==5&&zn.tag!==6)&&(zn=null)):(Cn=null,zn=It),Cn!==zn)){if($n=Vs,pn="onMouseLeave",dt="onMouseEnter",et="mouse",(a==="pointerout"||a==="pointerover")&&($n=X,pn="onPointerLeave",dt="onPointerEnter",et="pointer"),da=Cn==null?tn:pr(Cn),vt=zn==null?tn:pr(zn),tn=new $n(pn,et+"leave",Cn,x,en),tn.target=da,tn.relatedTarget=vt,pn=null,_l(en)===It&&($n=new $n(dt,et+"enter",zn,x,en),$n.target=vt,$n.relatedTarget=da,pn=$n),da=pn,Cn&&zn)t:{for($n=Cn,dt=zn,et=0,vt=$n;vt;vt=Ol(vt))et++;for(vt=0,pn=dt;pn;pn=Ol(pn))vt++;for(;0<et-vt;)$n=Ol($n),et--;for(;0<vt-et;)dt=Ol(dt),vt--;for(;et--;){if($n===dt||dt!==null&&$n===dt.alternate)break t;$n=Ol($n),dt=Ol(dt)}$n=null}else $n=null;Cn!==null&&Fi(on,tn,Cn,$n,!1),zn!==null&&da!==null&&Fi(on,da,zn,$n,!0)}}e:{if(tn=It?pr(It):window,Cn=tn.nodeName&&tn.nodeName.toLowerCase(),Cn==="select"||Cn==="input"&&tn.type==="file")var Vn=vp;else if(Vc(tn))if(Dr)Vn=it;else{Vn=eu;var ir=zh}else(Cn=tn.nodeName)&&Cn.toLowerCase()==="input"&&(tn.type==="checkbox"||tn.type==="radio")&&(Vn=I0);if(Vn&&(Vn=Vn(a,It))){Rh(on,Vn,x,en);break e}ir&&ir(a,tn,It),a==="focusout"&&(ir=tn._wrapperState)&&ir.controlled&&tn.type==="number"&&Gi(tn,"number",tn.value)}switch(ir=It?pr(It):window,a){case"focusin":(Vc(ir)||ir.contentEditable==="true")&&(zo=ir,Nu=It,Go=null);break;case"focusout":Go=Nu=zo=null;break;case"mousedown":Ha=!0;break;case"contextmenu":case"mouseup":case"dragend":Ha=!1,$u(on,x,en);break;case"selectionchange":if(os)break;case"keydown":case"keyup":$u(on,x,en)}var Jn;if(cr)e:{switch(a){case"compositionstart":var ur="onCompositionStart";break e;case"compositionend":ur="onCompositionEnd";break e;case"compositionupdate":ur="onCompositionUpdate";break e}ur=void 0}else dl?is(a,x)&&(ur="onCompositionEnd"):a==="keydown"&&x.keyCode===229&&(ur="onCompositionStart");ur&&(Oa&&x.locale!=="ko"&&(dl||ur!=="onCompositionStart"?ur==="onCompositionEnd"&&dl&&(Jn=cl()):(ci=en,ul="value"in ci?ci.value:ci.textContent,dl=!0)),ir=E0(It,ur),0<ir.length&&(ur=new C0(ur,a,null,x,en),on.push({event:ur,listeners:ir}),Jn?ur.data=Jn:(Jn=Bu(x),Jn!==null&&(ur.data=Jn)))),(Jn=hi?fl(a,x):yp(a,x))&&(It=E0(It,"onBeforeInput"),0<It.length&&(en=new C0("onBeforeInput","beforeinput",null,x,en),on.push({event:en,listeners:It}),en.data=Jn))}Gh(on,c)})}function P0(a,c,x){return{instance:a,listener:c,currentTarget:x}}function E0(a,c){for(var x=c+"Capture",S=[];a!==null;){var U=a,$=U.stateNode;U.tag===5&&$!==null&&(U=$,$=Tn(a,x),$!=null&&S.unshift(P0(a,$,U)),$=Tn(a,c),$!=null&&S.push(P0(a,$,U))),a=a.return}return S}function Ol(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function Fi(a,c,x,S,U){for(var $=c._reactName,le=[];x!==null&&x!==S;){var Re=x,Xe=Re.alternate,It=Re.stateNode;if(Xe!==null&&Xe===S)break;Re.tag===5&&It!==null&&(Re=It,U?(Xe=Tn(x,$),Xe!=null&&le.unshift(P0(x,Xe,Re))):U||(Xe=Tn(x,$),Xe!=null&&le.push(P0(x,Xe,Re)))),x=x.return}le.length!==0&&a.push({event:c,listeners:le})}var Fa=/\r\n?/g,mc=/\u0000|\uFFFD/g;function yc(a){return(typeof a=="string"?a:""+a).replace(Fa,`
`).replace(mc,"")}function Hu(a,c,x){if(c=yc(c),yc(a)!==c&&x)throw Error(d(425))}function au(){}var ou=null,k0=null;function qu(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var yl=typeof setTimeout=="function"?setTimeout:void 0,R0=typeof clearTimeout=="function"?clearTimeout:void 0,su=typeof Promise=="function"?Promise:void 0,U0=typeof queueMicrotask=="function"?queueMicrotask:typeof su<"u"?function(a){return su.resolve(null).then(a).catch(Di)}:yl;function Di(a){setTimeout(function(){throw a})}function Fl(a,c){var x=c,S=0;do{var U=x.nextSibling;if(a.removeChild(x),U&&U.nodeType===8)if(x=U.data,x==="/$"){if(S===0){a.removeChild(U),Ar(c);return}S--}else x!=="$"&&x!=="$?"&&x!=="$!"||S++;x=U}while(x);Ar(c)}function va(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return a}function Xc(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var x=a.data;if(x==="$"||x==="$!"||x==="$?"){if(c===0)return a;c--}else x==="/$"&&c++}a=a.previousSibling}return null}var Nl=Math.random().toString(36).slice(2),Hs="__reactFiber$"+Nl,qa="__reactProps$"+Nl,Lo="__reactContainer$"+Nl,z0="__reactEvents$"+Nl,pe="__reactListeners$"+Nl,lu="__reactHandles$"+Nl;function _l(a){var c=a[Hs];if(c)return c;for(var x=a.parentNode;x;){if(c=x[Lo]||x[Hs]){if(x=c.alternate,c.child!==null||x!==null&&x.child!==null)for(a=Xc(a);a!==null;){if(x=a[Hs])return x;a=Xc(a)}return c}a=x,x=a.parentNode}return null}function Ka(a){return a=a[Hs]||a[Lo],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function pr(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(d(33))}function s0(a){return a[qa]||null}var la=[],vl=-1;function mo(a){return{current:a}}function Si(a){0>vl||(a.current=la[vl],la[vl]=null,vl--)}function Ci(a,c){vl++,la[vl]=a.current,a.current=c}var As={},Na=mo(As),Xa=mo(!1),yo=As;function xl(a,c){var x=a.type.contextTypes;if(!x)return As;var S=a.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===c)return S.__reactInternalMemoizedMaskedChildContext;var U={},$;for($ in x)U[$]=c[$];return S&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=c,a.__reactInternalMemoizedMaskedChildContext=U),U}function Bo(a){return a=a.childContextTypes,a!=null}function Ma(){Si(Xa),Si(Na)}function qs(a,c,x){if(Na.current!==As)throw Error(d(168));Ci(Na,c),Ci(Xa,x)}function uu(a,c,x){var S=a.stateNode;if(c=c.childContextTypes,typeof S.getChildContext!="function")return x;S=S.getChildContext();for(var U in S)if(!(U in c))throw Error(d(108,wn(a)||"Unknown",U));return Ot({},x,S)}function Hi(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||As,yo=Na.current,Ci(Na,a),Ci(Xa,Xa.current),!0}function cu(a,c,x){var S=a.stateNode;if(!S)throw Error(d(169));x?(a=uu(a,c,yo),S.__reactInternalMemoizedMergedChildContext=a,Si(Xa),Si(Na),Ci(Na,a)):Si(Xa),Ci(Xa,x)}var Ks=null,Yc=!1,_c=!1;function vc(a){Ks===null?Ks=[a]:Ks.push(a)}function l0(a){Yc=!0,vc(a)}function Ss(){if(!_c&&Ks!==null){_c=!0;var a=0,c=_n;try{var x=Ks;for(_n=1;a<x.length;a++){var S=x[a];do S=S(!0);while(S!==null)}Ks=null,Yc=!1}catch(U){throw Ks!==null&&(Ks=Ks.slice(a+1)),Po(Vr,Ss),U}finally{_n=c,_c=!1}}return null}var Oo=[],un=0,hu=null,pu=0,Ts=[],Ya=0,bl=null,Xs=1,sr="";function $l(a,c){Oo[un++]=pu,Oo[un++]=hu,hu=a,pu=c}function xp(a,c,x){Ts[Ya++]=Xs,Ts[Ya++]=sr,Ts[Ya++]=bl,bl=a;var S=Xs;a=sr;var U=32-ya(S)-1;S&=~(1<<U),x+=1;var $=32-ya(c)+U;if(30<$){var le=U-U%5;$=(S&(1<<le)-1).toString(32),S>>=le,U-=le,Xs=1<<32-ya(c)+U|x<<U|S,sr=$+a}else Xs=1<<$|x<<U|S,sr=a}function du(a){a.return!==null&&($l(a,1),xp(a,1,0))}function G0(a){for(;a===hu;)hu=Oo[--un],Oo[un]=null,pu=Oo[--un],Oo[un]=null;for(;a===bl;)bl=Ts[--Ya],Ts[Ya]=null,sr=Ts[--Ya],Ts[Ya]=null,Xs=Ts[--Ya],Ts[Ya]=null}var Qa=null,Fo=null,yi=!1,No=null;function jl(a,c){var x=nl(5,null,null,0);x.elementType="DELETED",x.stateNode=c,x.return=a,c=a.deletions,c===null?(a.deletions=[x],a.flags|=16):c.push(x)}function fu(a,c){switch(a.tag){case 5:var x=a.type;return c=c.nodeType!==1||x.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(a.stateNode=c,Qa=a,Fo=va(c.firstChild),!0):!1;case 6:return c=a.pendingProps===""||c.nodeType!==3?null:c,c!==null?(a.stateNode=c,Qa=a,Fo=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(x=bl!==null?{id:Xs,overflow:sr}:null,a.memoizedState={dehydrated:c,treeContext:x,retryLane:1073741824},x=nl(18,null,null,0),x.stateNode=c,x.return=a,a.child=x,Qa=a,Fo=null,!0):!1;default:return!1}}function u0(a){return(a.mode&1)!==0&&(a.flags&128)===0}function us(a){if(yi){var c=Fo;if(c){var x=c;if(!fu(a,c)){if(u0(a))throw Error(d(418));c=va(x.nextSibling);var S=Qa;c&&fu(a,c)?jl(S,x):(a.flags=a.flags&-4097|2,yi=!1,Qa=a)}}else{if(u0(a))throw Error(d(418));a.flags=a.flags&-4097|2,yi=!1,Qa=a}}}function Vl(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Qa=a}function ri(a){if(a!==Qa)return!1;if(!yi)return Vl(a),yi=!0,!1;var c;if((c=a.tag!==3)&&!(c=a.tag!==5)&&(c=a.type,c=c!=="head"&&c!=="body"&&!qu(a.type,a.memoizedProps)),c&&(c=Fo)){if(u0(a))throw gu(),Error(d(418));for(;c;)jl(a,c),c=va(c.nextSibling)}if(Vl(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(d(317));e:{for(a=a.nextSibling,c=0;a;){if(a.nodeType===8){var x=a.data;if(x==="/$"){if(c===0){Fo=va(a.nextSibling);break e}c--}else x!=="$"&&x!=="$!"&&x!=="$?"||c++}a=a.nextSibling}Fo=null}}else Fo=Qa?va(a.stateNode.nextSibling):null;return!0}function gu(){for(var a=Fo;a;)a=va(a.nextSibling)}function Ys(){Fo=Qa=null,yi=!1}function wl(a){No===null?No=[a]:No.push(a)}var Lh=Me.ReactCurrentBatchConfig;function Ku(a,c,x){if(a=x.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(x._owner){if(x=x._owner,x){if(x.tag!==1)throw Error(d(309));var S=x.stateNode}if(!S)throw Error(d(147,a));var U=S,$=""+a;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===$?c.ref:(c=function(le){var Re=U.refs;le===null?delete Re[$]:Re[$]=le},c._stringRef=$,c)}if(typeof a!="string")throw Error(d(284));if(!x._owner)throw Error(d(290,a))}return a}function mu(a,c){throw a=Object.prototype.toString.call(c),Error(d(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a))}function _o(a){var c=a._init;return c(a._payload)}function Xu(a){function c(dt,et){if(a){var vt=dt.deletions;vt===null?(dt.deletions=[et],dt.flags|=16):vt.push(et)}}function x(dt,et){if(!a)return null;for(;et!==null;)c(dt,et),et=et.sibling;return null}function S(dt,et){for(dt=new Map;et!==null;)et.key!==null?dt.set(et.key,et):dt.set(et.index,et),et=et.sibling;return dt}function U(dt,et){return dt=Ml(dt,et),dt.index=0,dt.sibling=null,dt}function $(dt,et,vt){return dt.index=vt,a?(vt=dt.alternate,vt!==null?(vt=vt.index,vt<et?(dt.flags|=2,et):vt):(dt.flags|=2,et)):(dt.flags|=1048576,et)}function le(dt){return a&&dt.alternate===null&&(dt.flags|=2),dt}function Re(dt,et,vt,pn){return et===null||et.tag!==6?(et=fd(vt,dt.mode,pn),et.return=dt,et):(et=U(et,vt),et.return=dt,et)}function Xe(dt,et,vt,pn){var Vn=vt.type;return Vn===ot?en(dt,et,vt.props.children,pn,vt.key):et!==null&&(et.elementType===Vn||typeof Vn=="object"&&Vn!==null&&Vn.$$typeof===$t&&_o(Vn)===et.type)?(pn=U(et,vt.props),pn.ref=Ku(dt,et,vt),pn.return=dt,pn):(pn=yh(vt.type,vt.key,vt.props,null,dt.mode,pn),pn.ref=Ku(dt,et,vt),pn.return=dt,pn)}function It(dt,et,vt,pn){return et===null||et.tag!==4||et.stateNode.containerInfo!==vt.containerInfo||et.stateNode.implementation!==vt.implementation?(et=gd(vt,dt.mode,pn),et.return=dt,et):(et=U(et,vt.children||[]),et.return=dt,et)}function en(dt,et,vt,pn,Vn){return et===null||et.tag!==7?(et=Pc(vt,dt.mode,pn,Vn),et.return=dt,et):(et=U(et,vt),et.return=dt,et)}function on(dt,et,vt){if(typeof et=="string"&&et!==""||typeof et=="number")return et=fd(""+et,dt.mode,vt),et.return=dt,et;if(typeof et=="object"&&et!==null){switch(et.$$typeof){case Ge:return vt=yh(et.type,et.key,et.props,null,dt.mode,vt),vt.ref=Ku(dt,null,et),vt.return=dt,vt;case je:return et=gd(et,dt.mode,vt),et.return=dt,et;case $t:var pn=et._init;return on(dt,pn(et._payload),vt)}if(vr(et)||mt(et))return et=Pc(et,dt.mode,vt,null),et.return=dt,et;mu(dt,et)}return null}function tn(dt,et,vt,pn){var Vn=et!==null?et.key:null;if(typeof vt=="string"&&vt!==""||typeof vt=="number")return Vn!==null?null:Re(dt,et,""+vt,pn);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case Ge:return vt.key===Vn?Xe(dt,et,vt,pn):null;case je:return vt.key===Vn?It(dt,et,vt,pn):null;case $t:return Vn=vt._init,tn(dt,et,Vn(vt._payload),pn)}if(vr(vt)||mt(vt))return Vn!==null?null:en(dt,et,vt,pn,null);mu(dt,vt)}return null}function Cn(dt,et,vt,pn,Vn){if(typeof pn=="string"&&pn!==""||typeof pn=="number")return dt=dt.get(vt)||null,Re(et,dt,""+pn,Vn);if(typeof pn=="object"&&pn!==null){switch(pn.$$typeof){case Ge:return dt=dt.get(pn.key===null?vt:pn.key)||null,Xe(et,dt,pn,Vn);case je:return dt=dt.get(pn.key===null?vt:pn.key)||null,It(et,dt,pn,Vn);case $t:var ir=pn._init;return Cn(dt,et,vt,ir(pn._payload),Vn)}if(vr(pn)||mt(pn))return dt=dt.get(vt)||null,en(et,dt,pn,Vn,null);mu(et,pn)}return null}function zn(dt,et,vt,pn){for(var Vn=null,ir=null,Jn=et,ur=et=0,bo=null;Jn!==null&&ur<vt.length;ur++){Jn.index>ur?(bo=Jn,Jn=null):bo=Jn.sibling;var ai=tn(dt,Jn,vt[ur],pn);if(ai===null){Jn===null&&(Jn=bo);break}a&&Jn&&ai.alternate===null&&c(dt,Jn),et=$(ai,et,ur),ir===null?Vn=ai:ir.sibling=ai,ir=ai,Jn=bo}if(ur===vt.length)return x(dt,Jn),yi&&$l(dt,ur),Vn;if(Jn===null){for(;ur<vt.length;ur++)Jn=on(dt,vt[ur],pn),Jn!==null&&(et=$(Jn,et,ur),ir===null?Vn=Jn:ir.sibling=Jn,ir=Jn);return yi&&$l(dt,ur),Vn}for(Jn=S(dt,Jn);ur<vt.length;ur++)bo=Cn(Jn,dt,ur,vt[ur],pn),bo!==null&&(a&&bo.alternate!==null&&Jn.delete(bo.key===null?ur:bo.key),et=$(bo,et,ur),ir===null?Vn=bo:ir.sibling=bo,ir=bo);return a&&Jn.forEach(function(Au){return c(dt,Au)}),yi&&$l(dt,ur),Vn}function $n(dt,et,vt,pn){var Vn=mt(vt);if(typeof Vn!="function")throw Error(d(150));if(vt=Vn.call(vt),vt==null)throw Error(d(151));for(var ir=Vn=null,Jn=et,ur=et=0,bo=null,ai=vt.next();Jn!==null&&!ai.done;ur++,ai=vt.next()){Jn.index>ur?(bo=Jn,Jn=null):bo=Jn.sibling;var Au=tn(dt,Jn,ai.value,pn);if(Au===null){Jn===null&&(Jn=bo);break}a&&Jn&&Au.alternate===null&&c(dt,Jn),et=$(Au,et,ur),ir===null?Vn=Au:ir.sibling=Au,ir=Au,Jn=bo}if(ai.done)return x(dt,Jn),yi&&$l(dt,ur),Vn;if(Jn===null){for(;!ai.done;ur++,ai=vt.next())ai=on(dt,ai.value,pn),ai!==null&&(et=$(ai,et,ur),ir===null?Vn=ai:ir.sibling=ai,ir=ai);return yi&&$l(dt,ur),Vn}for(Jn=S(dt,Jn);!ai.done;ur++,ai=vt.next())ai=Cn(Jn,dt,ur,ai.value,pn),ai!==null&&(a&&ai.alternate!==null&&Jn.delete(ai.key===null?ur:ai.key),et=$(ai,et,ur),ir===null?Vn=ai:ir.sibling=ai,ir=ai);return a&&Jn.forEach(function(Sf){return c(dt,Sf)}),yi&&$l(dt,ur),Vn}function da(dt,et,vt,pn){if(typeof vt=="object"&&vt!==null&&vt.type===ot&&vt.key===null&&(vt=vt.props.children),typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case Ge:e:{for(var Vn=vt.key,ir=et;ir!==null;){if(ir.key===Vn){if(Vn=vt.type,Vn===ot){if(ir.tag===7){x(dt,ir.sibling),et=U(ir,vt.props.children),et.return=dt,dt=et;break e}}else if(ir.elementType===Vn||typeof Vn=="object"&&Vn!==null&&Vn.$$typeof===$t&&_o(Vn)===ir.type){x(dt,ir.sibling),et=U(ir,vt.props),et.ref=Ku(dt,ir,vt),et.return=dt,dt=et;break e}x(dt,ir);break}else c(dt,ir);ir=ir.sibling}vt.type===ot?(et=Pc(vt.props.children,dt.mode,pn,vt.key),et.return=dt,dt=et):(pn=yh(vt.type,vt.key,vt.props,null,dt.mode,pn),pn.ref=Ku(dt,et,vt),pn.return=dt,dt=pn)}return le(dt);case je:e:{for(ir=vt.key;et!==null;){if(et.key===ir)if(et.tag===4&&et.stateNode.containerInfo===vt.containerInfo&&et.stateNode.implementation===vt.implementation){x(dt,et.sibling),et=U(et,vt.children||[]),et.return=dt,dt=et;break e}else{x(dt,et);break}else c(dt,et);et=et.sibling}et=gd(vt,dt.mode,pn),et.return=dt,dt=et}return le(dt);case $t:return ir=vt._init,da(dt,et,ir(vt._payload),pn)}if(vr(vt))return zn(dt,et,vt,pn);if(mt(vt))return $n(dt,et,vt,pn);mu(dt,vt)}return typeof vt=="string"&&vt!==""||typeof vt=="number"?(vt=""+vt,et!==null&&et.tag===6?(x(dt,et.sibling),et=U(et,vt),et.return=dt,dt=et):(x(dt,et),et=fd(vt,dt.mode,pn),et.return=dt,dt=et),le(dt)):x(dt,et)}return da}var fn=Xu(!0),jn=Xu(!1),c0=mo(null),$o=null,Zl=null,Ri=null;function Dl(){Ri=Zl=$o=null}function jo(a){var c=c0.current;Si(c0),a._currentValue=c}function $a(a,c,x){for(;a!==null;){var S=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,S!==null&&(S.childLanes|=c)):S!==null&&(S.childLanes&c)!==c&&(S.childLanes|=c),a===x)break;a=a.return}}function cs(a,c){$o=a,Ri=Zl=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&c)!==0&&(Us=!0),a.firstContext=null)}function Or(a){var c=a._currentValue;if(Ri!==a)if(a={context:a,memoizedValue:c,next:null},Zl===null){if($o===null)throw Error(d(308));Zl=a,$o.dependencies={lanes:0,firstContext:a}}else Zl=Zl.next=a;return c}var ii=null;function L0(a){ii===null?ii=[a]:ii.push(a)}function B0(a,c,x,S){var U=c.interleaved;return U===null?(x.next=x,L0(c)):(x.next=U.next,U.next=x),c.interleaved=x,Ms(a,S)}function Ms(a,c){a.lanes|=c;var x=a.alternate;for(x!==null&&(x.lanes|=c),x=a,a=a.return;a!==null;)a.childLanes|=c,x=a.alternate,x!==null&&(x.childLanes|=c),x=a,a=a.return;return x.tag===3?x.stateNode:null}var ja=!1;function Yu(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qc(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function hs(a,c){return{eventTime:a,lane:c,tag:0,payload:null,callback:null,next:null}}function ps(a,c,x){var S=a.updateQueue;if(S===null)return null;if(S=S.shared,(Hr&2)!==0){var U=S.pending;return U===null?c.next=c:(c.next=U.next,U.next=c),S.pending=c,Ms(a,x)}return U=S.interleaved,U===null?(c.next=c,L0(S)):(c.next=U.next,U.next=c),S.interleaved=c,Ms(a,x)}function m(a,c,x){if(c=c.updateQueue,c!==null&&(c=c.shared,(x&4194240)!==0)){var S=c.lanes;S&=a.pendingLanes,x|=S,c.lanes=x,sn(a,x)}}function e(a,c){var x=a.updateQueue,S=a.alternate;if(S!==null&&(S=S.updateQueue,x===S)){var U=null,$=null;if(x=x.firstBaseUpdate,x!==null){do{var le={eventTime:x.eventTime,lane:x.lane,tag:x.tag,payload:x.payload,callback:x.callback,next:null};$===null?U=$=le:$=$.next=le,x=x.next}while(x!==null);$===null?U=$=c:$=$.next=c}else U=$=c;x={baseState:S.baseState,firstBaseUpdate:U,lastBaseUpdate:$,shared:S.shared,effects:S.effects},a.updateQueue=x;return}a=x.lastBaseUpdate,a===null?x.firstBaseUpdate=c:a.next=c,x.lastBaseUpdate=c}function n(a,c,x,S){var U=a.updateQueue;ja=!1;var $=U.firstBaseUpdate,le=U.lastBaseUpdate,Re=U.shared.pending;if(Re!==null){U.shared.pending=null;var Xe=Re,It=Xe.next;Xe.next=null,le===null?$=It:le.next=It,le=Xe;var en=a.alternate;en!==null&&(en=en.updateQueue,Re=en.lastBaseUpdate,Re!==le&&(Re===null?en.firstBaseUpdate=It:Re.next=It,en.lastBaseUpdate=Xe))}if($!==null){var on=U.baseState;le=0,en=It=Xe=null,Re=$;do{var tn=Re.lane,Cn=Re.eventTime;if((S&tn)===tn){en!==null&&(en=en.next={eventTime:Cn,lane:0,tag:Re.tag,payload:Re.payload,callback:Re.callback,next:null});e:{var zn=a,$n=Re;switch(tn=c,Cn=x,$n.tag){case 1:if(zn=$n.payload,typeof zn=="function"){on=zn.call(Cn,on,tn);break e}on=zn;break e;case 3:zn.flags=zn.flags&-65537|128;case 0:if(zn=$n.payload,tn=typeof zn=="function"?zn.call(Cn,on,tn):zn,tn==null)break e;on=Ot({},on,tn);break e;case 2:ja=!0}}Re.callback!==null&&Re.lane!==0&&(a.flags|=64,tn=U.effects,tn===null?U.effects=[Re]:tn.push(Re))}else Cn={eventTime:Cn,lane:tn,tag:Re.tag,payload:Re.payload,callback:Re.callback,next:null},en===null?(It=en=Cn,Xe=on):en=en.next=Cn,le|=tn;if(Re=Re.next,Re===null){if(Re=U.shared.pending,Re===null)break;tn=Re,Re=tn.next,tn.next=null,U.lastBaseUpdate=tn,U.shared.pending=null}}while(!0);if(en===null&&(Xe=on),U.baseState=Xe,U.firstBaseUpdate=It,U.lastBaseUpdate=en,c=U.shared.interleaved,c!==null){U=c;do le|=U.lane,U=U.next;while(U!==c)}else $===null&&(U.shared.lanes=0);tc|=le,a.lanes=le,a.memoizedState=on}}function u(a,c,x){if(a=c.effects,c.effects=null,a!==null)for(c=0;c<a.length;c++){var S=a[c],U=S.callback;if(U!==null){if(S.callback=null,S=x,typeof U!="function")throw Error(d(191,U));U.call(S)}}}var f={},y=mo(f),D=mo(f),T=mo(f);function k(a){if(a===f)throw Error(d(174));return a}function z(a,c){switch(Ci(T,c),Ci(D,a),Ci(y,f),a=c.nodeType,a){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:Zi(null,"");break;default:a=a===8?c.parentNode:c,c=a.namespaceURI||null,a=a.tagName,c=Zi(c,a)}Si(y),Ci(y,c)}function O(){Si(y),Si(D),Si(T)}function W(a){k(T.current);var c=k(y.current),x=Zi(c,a.type);c!==x&&(Ci(D,a),Ci(y,x))}function Z(a){D.current===a&&(Si(y),Si(D))}var Q=mo(0);function ie(a){for(var c=a;c!==null;){if(c.tag===13){var x=c.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||x.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var De=[];function we(){for(var a=0;a<De.length;a++)De[a]._workInProgressVersionPrimary=null;De.length=0}var Ce=Me.ReactCurrentDispatcher,ke=Me.ReactCurrentBatchConfig,Le=0,Ee=null,Be=null,$e=null,Ve=!1,lt=!1,At=0,nt=0;function ht(){throw Error(d(321))}function Ct(a,c){if(c===null)return!1;for(var x=0;x<c.length&&x<a.length;x++)if(!bt(a[x],c[x]))return!1;return!0}function nn(a,c,x,S,U,$){if(Le=$,Ee=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Ce.current=a===null||a.memoizedState===null?Qs:Rs,a=x(S,U),lt){$=0;do{if(lt=!1,At=0,25<=$)throw Error(d(301));$+=1,$e=Be=null,c.updateQueue=null,Ce.current=Ja,a=x(S,U)}while(lt)}if(Ce.current=O0,c=Be!==null&&Be.next!==null,Le=0,$e=Be=Ee=null,Ve=!1,c)throw Error(d(300));return a}function rn(){var a=At!==0;return At=0,a}function Gt(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?Ee.memoizedState=$e=a:$e=$e.next=a,$e}function bn(){if(Be===null){var a=Ee.alternate;a=a!==null?a.memoizedState:null}else a=Be.next;var c=$e===null?Ee.memoizedState:$e.next;if(c!==null)$e=c,Be=a;else{if(a===null)throw Error(d(310));Be=a,a={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},$e===null?Ee.memoizedState=$e=a:$e=$e.next=a}return $e}function Zn(a,c){return typeof c=="function"?c(a):c}function Sr(a){var c=bn(),x=c.queue;if(x===null)throw Error(d(311));x.lastRenderedReducer=a;var S=Be,U=S.baseQueue,$=x.pending;if($!==null){if(U!==null){var le=U.next;U.next=$.next,$.next=le}S.baseQueue=U=$,x.pending=null}if(U!==null){$=U.next,S=S.baseState;var Re=le=null,Xe=null,It=$;do{var en=It.lane;if((Le&en)===en)Xe!==null&&(Xe=Xe.next={lane:0,action:It.action,hasEagerState:It.hasEagerState,eagerState:It.eagerState,next:null}),S=It.hasEagerState?It.eagerState:a(S,It.action);else{var on={lane:en,action:It.action,hasEagerState:It.hasEagerState,eagerState:It.eagerState,next:null};Xe===null?(Re=Xe=on,le=S):Xe=Xe.next=on,Ee.lanes|=en,tc|=en}It=It.next}while(It!==null&&It!==$);Xe===null?le=S:Xe.next=Re,bt(S,c.memoizedState)||(Us=!0),c.memoizedState=S,c.baseState=le,c.baseQueue=Xe,x.lastRenderedState=S}if(a=x.interleaved,a!==null){U=a;do $=U.lane,Ee.lanes|=$,tc|=$,U=U.next;while(U!==a)}else U===null&&(x.lanes=0);return[c.memoizedState,x.dispatch]}function pi(a){var c=bn(),x=c.queue;if(x===null)throw Error(d(311));x.lastRenderedReducer=a;var S=x.dispatch,U=x.pending,$=c.memoizedState;if(U!==null){x.pending=null;var le=U=U.next;do $=a($,le.action),le=le.next;while(le!==U);bt($,c.memoizedState)||(Us=!0),c.memoizedState=$,c.baseQueue===null&&(c.baseState=$),x.lastRenderedState=$}return[$,S]}function Jr(){}function Ti(a,c){var x=Ee,S=bn(),U=c(),$=!bt(S.memoizedState,U);if($&&(S.memoizedState=U,Us=!0),S=S.queue,fs(Cr.bind(null,x,S,a),[a]),S.getSnapshot!==c||$||$e!==null&&$e.memoizedState.tag&1){if(x.flags|=2048,Pr(9,Tr.bind(null,x,S,U,c),void 0,null),wa===null)throw Error(d(349));(Le&30)!==0||Mi(x,c,U)}return U}function Mi(a,c,x){a.flags|=16384,a={getSnapshot:c,value:x},c=Ee.updateQueue,c===null?(c={lastEffect:null,stores:null},Ee.updateQueue=c,c.stores=[a]):(x=c.stores,x===null?c.stores=[a]:x.push(a))}function Tr(a,c,x,S){c.value=x,c.getSnapshot=S,qi(c)&&xa(a)}function Cr(a,c,x){return x(function(){qi(c)&&xa(a)})}function qi(a){var c=a.getSnapshot;a=a.value;try{var x=c();return!bt(a,x)}catch{return!0}}function xa(a){var c=Ms(a,1);c!==null&&Ql(c,a,1,-1)}function ua(a){var c=Gt();return typeof a=="function"&&(a=a()),c.memoizedState=c.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zn,lastRenderedState:a},c.queue=a,a=a.dispatch=Bh.bind(null,Ee,a),[c.memoizedState,a]}function Pr(a,c,x,S){return a={tag:a,create:c,destroy:x,deps:S,next:null},c=Ee.updateQueue,c===null?(c={lastEffect:null,stores:null},Ee.updateQueue=c,c.lastEffect=a.next=a):(x=c.lastEffect,x===null?c.lastEffect=a.next=a:(S=x.next,x.next=a,a.next=S,c.lastEffect=a)),a}function Cl(){return bn().memoizedState}function ds(a,c,x,S){var U=Gt();Ee.flags|=a,U.memoizedState=Pr(1|c,x,void 0,S===void 0?null:S)}function Ps(a,c,x,S){var U=bn();S=S===void 0?null:S;var $=void 0;if(Be!==null){var le=Be.memoizedState;if($=le.destroy,S!==null&&Ct(S,le.deps)){U.memoizedState=Pr(c,x,$,S);return}}Ee.flags|=a,U.memoizedState=Pr(1|c,x,$,S)}function Wl(a,c){return ds(8390656,8,a,c)}function fs(a,c){return Ps(2048,8,a,c)}function h0(a,c){return Ps(4,2,a,c)}function Vo(a,c){return Ps(4,4,a,c)}function Zo(a,c){if(typeof c=="function")return a=a(),c(a),function(){c(null)};if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function Hl(a,c,x){return x=x!=null?x.concat([a]):null,Ps(4,4,Zo.bind(null,c,a),x)}function Es(){}function p0(a,c){var x=bn();c=c===void 0?null:c;var S=x.memoizedState;return S!==null&&c!==null&&Ct(c,S[1])?S[0]:(x.memoizedState=[a,c],a)}function ca(a,c){var x=bn();c=c===void 0?null:c;var S=x.memoizedState;return S!==null&&c!==null&&Ct(c,S[1])?S[0]:(a=a(),x.memoizedState=[a,c],a)}function ha(a,c,x){return(Le&21)===0?(a.baseState&&(a.baseState=!1,Us=!0),a.memoizedState=x):(bt(x,c)||(x=Se(),Ee.lanes|=x,tc|=x,a.baseState=!0),c)}function vo(a,c){var x=_n;_n=x!==0&&4>x?x:4,a(!0);var S=ke.transition;ke.transition={};try{a(!1),c()}finally{_n=x,ke.transition=S}}function _i(){return bn().memoizedState}function Jc(a,c,x){var S=rc(a);if(x={lane:S,action:x,hasEagerState:!1,eagerState:null,next:null},eh(a))Wo(c,x);else if(x=B0(a,c,x,S),x!==null){var U=Gs();Ql(x,a,S,U),ks(x,c,S)}}function Bh(a,c,x){var S=rc(a),U={lane:S,action:x,hasEagerState:!1,eagerState:null,next:null};if(eh(a))Wo(c,U);else{var $=a.alternate;if(a.lanes===0&&($===null||$.lanes===0)&&($=c.lastRenderedReducer,$!==null))try{var le=c.lastRenderedState,Re=$(le,x);if(U.hasEagerState=!0,U.eagerState=Re,bt(Re,le)){var Xe=c.interleaved;Xe===null?(U.next=U,L0(c)):(U.next=Xe.next,Xe.next=U),c.interleaved=U;return}}catch{}finally{}x=B0(a,c,U,S),x!==null&&(U=Gs(),Ql(x,a,S,U),ks(x,c,S))}}function eh(a){var c=a.alternate;return a===Ee||c!==null&&c===Ee}function Wo(a,c){lt=Ve=!0;var x=a.pending;x===null?c.next=c:(c.next=x.next,x.next=c),a.pending=c}function ks(a,c,x){if((x&4194240)!==0){var S=c.lanes;S&=a.pendingLanes,x|=S,c.lanes=x,sn(a,x)}}var O0={readContext:Or,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useInsertionEffect:ht,useLayoutEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useMutableSource:ht,useSyncExternalStore:ht,useId:ht,unstable_isNewReconciler:!1},Qs={readContext:Or,useCallback:function(a,c){return Gt().memoizedState=[a,c===void 0?null:c],a},useContext:Or,useEffect:Wl,useImperativeHandle:function(a,c,x){return x=x!=null?x.concat([a]):null,ds(4194308,4,Zo.bind(null,c,a),x)},useLayoutEffect:function(a,c){return ds(4194308,4,a,c)},useInsertionEffect:function(a,c){return ds(4,2,a,c)},useMemo:function(a,c){var x=Gt();return c=c===void 0?null:c,a=a(),x.memoizedState=[a,c],a},useReducer:function(a,c,x){var S=Gt();return c=x!==void 0?x(c):c,S.memoizedState=S.baseState=c,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:c},S.queue=a,a=a.dispatch=Jc.bind(null,Ee,a),[S.memoizedState,a]},useRef:function(a){var c=Gt();return a={current:a},c.memoizedState=a},useState:ua,useDebugValue:Es,useDeferredValue:function(a){return Gt().memoizedState=a},useTransition:function(){var a=ua(!1),c=a[0];return a=vo.bind(null,a[1]),Gt().memoizedState=a,[c,a]},useMutableSource:function(){},useSyncExternalStore:function(a,c,x){var S=Ee,U=Gt();if(yi){if(x===void 0)throw Error(d(407));x=x()}else{if(x=c(),wa===null)throw Error(d(349));(Le&30)!==0||Mi(S,c,x)}U.memoizedState=x;var $={value:x,getSnapshot:c};return U.queue=$,Wl(Cr.bind(null,S,$,a),[a]),S.flags|=2048,Pr(9,Tr.bind(null,S,$,x,c),void 0,null),x},useId:function(){var a=Gt(),c=wa.identifierPrefix;if(yi){var x=sr,S=Xs;x=(S&~(1<<32-ya(S)-1)).toString(32)+x,c=":"+c+"R"+x,x=At++,0<x&&(c+="H"+x.toString(32)),c+=":"}else x=nt++,c=":"+c+"r"+x.toString(32)+":";return a.memoizedState=c},unstable_isNewReconciler:!1},Rs={readContext:Or,useCallback:p0,useContext:Or,useEffect:fs,useImperativeHandle:Hl,useInsertionEffect:h0,useLayoutEffect:Vo,useMemo:ca,useReducer:Sr,useRef:Cl,useState:function(){return Sr(Zn)},useDebugValue:Es,useDeferredValue:function(a){var c=bn();return ha(c,Be.memoizedState,a)},useTransition:function(){var a=Sr(Zn)[0],c=bn().memoizedState;return[a,c]},useMutableSource:Jr,useSyncExternalStore:Ti,useId:_i,unstable_isNewReconciler:!1},Ja={readContext:Or,useCallback:p0,useContext:Or,useEffect:fs,useImperativeHandle:Hl,useInsertionEffect:h0,useLayoutEffect:Vo,useMemo:ca,useReducer:pi,useRef:Cl,useState:function(){return pi(Zn)},useDebugValue:Es,useDeferredValue:function(a){var c=bn();return Be===null?c.memoizedState=a:ha(c,Be.memoizedState,a)},useTransition:function(){var a=pi(Zn)[0],c=bn().memoizedState;return[a,c]},useMutableSource:Jr,useSyncExternalStore:Ti,useId:_i,unstable_isNewReconciler:!1};function ba(a,c){if(a&&a.defaultProps){c=Ot({},c),a=a.defaultProps;for(var x in a)c[x]===void 0&&(c[x]=a[x]);return c}return c}function yu(a,c,x,S){c=a.memoizedState,x=x(S,c),x=x==null?c:Ot({},c,x),a.memoizedState=x,a.lanes===0&&(a.updateQueue.baseState=x)}var Il={isMounted:function(a){return(a=a._reactInternals)?Nr(a)===a:!1},enqueueSetState:function(a,c,x){a=a._reactInternals;var S=Gs(),U=rc(a),$=hs(S,U);$.payload=c,x!=null&&($.callback=x),c=ps(a,$,U),c!==null&&(Ql(c,a,U,S),m(c,a,U))},enqueueReplaceState:function(a,c,x){a=a._reactInternals;var S=Gs(),U=rc(a),$=hs(S,U);$.tag=1,$.payload=c,x!=null&&($.callback=x),c=ps(a,$,U),c!==null&&(Ql(c,a,U,S),m(c,a,U))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var x=Gs(),S=rc(a),U=hs(x,S);U.tag=2,c!=null&&(U.callback=c),c=ps(a,U,S),c!==null&&(Ql(c,a,S,x),m(c,a,S))}};function xc(a,c,x,S,U,$,le){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(S,$,le):c.prototype&&c.prototype.isPureReactComponent?!Sn(x,S)||!Sn(U,$):!0}function Qu(a,c,x){var S=!1,U=As,$=c.contextType;return typeof $=="object"&&$!==null?$=Or($):(U=Bo(c)?yo:Na.current,S=c.contextTypes,$=(S=S!=null)?xl(a,U):As),c=new c(x,$),a.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Il,a.stateNode=c,c._reactInternals=a,S&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=U,a.__reactInternalMemoizedMaskedChildContext=$),c}function Ju(a,c,x,S){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(x,S),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(x,S),c.state!==a&&Il.enqueueReplaceState(c,c.state,null)}function bp(a,c,x,S){var U=a.stateNode;U.props=x,U.state=a.memoizedState,U.refs={},Yu(a);var $=c.contextType;typeof $=="object"&&$!==null?U.context=Or($):($=Bo(c)?yo:Na.current,U.context=xl(a,$)),U.state=a.memoizedState,$=c.getDerivedStateFromProps,typeof $=="function"&&(yu(a,c,$,x),U.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof U.getSnapshotBeforeUpdate=="function"||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(c=U.state,typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount(),c!==U.state&&Il.enqueueReplaceState(U,U.state,null),n(a,x,U,S),U.state=a.memoizedState),typeof U.componentDidMount=="function"&&(a.flags|=4194308)}function Al(a,c){try{var x="",S=c;do x+=kt(S),S=S.return;while(S);var U=x}catch($){U=`
Error generating stack: `+$.message+`
`+$.stack}return{value:a,source:c,stack:U,digest:null}}function F0(a,c,x){return{value:a,source:null,stack:x??null,digest:c??null}}function bc(a,c){try{console.error(c.value)}catch(x){setTimeout(function(){throw x})}}var Gd=typeof WeakMap=="function"?WeakMap:Map;function wc(a,c,x){x=hs(-1,x),x.tag=3,x.payload={element:null};var S=c.value;return x.callback=function(){Xh||(Xh=!0,gh=S),bc(a,c)},x}function Oh(a,c,x){x=hs(-1,x),x.tag=3;var S=a.type.getDerivedStateFromError;if(typeof S=="function"){var U=c.value;x.payload=function(){return S(U)},x.callback=function(){bc(a,c)}}var $=a.stateNode;return $!==null&&typeof $.componentDidCatch=="function"&&(x.callback=function(){bc(a,c),typeof S!="function"&&(wu===null?wu=new Set([this]):wu.add(this));var le=c.stack;this.componentDidCatch(c.value,{componentStack:le!==null?le:""})}),x}function Fh(a,c,x){var S=a.pingCache;if(S===null){S=a.pingCache=new Gd;var U=new Set;S.set(c,U)}else U=S.get(c),U===void 0&&(U=new Set,S.set(c,U));U.has(x)||(U.add(x),a=Af.bind(null,a,c,x),c.then(a,a))}function Jp(a){do{var c;if((c=a.tag===13)&&(c=a.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return a;a=a.return}while(a!==null);return null}function ed(a,c,x,S,U){return(a.mode&1)===0?(a===c?a.flags|=65536:(a.flags|=128,x.flags|=131072,x.flags&=-52805,x.tag===1&&(x.alternate===null?x.tag=17:(c=hs(-1,1),c.tag=2,ps(x,c,1))),x.lanes|=1),a):(a.flags|=65536,a.lanes=U,a)}var th=Me.ReactCurrentOwner,Us=!1;function eo(a,c,x,S){c.child=a===null?jn(c,null,x,S):fn(c,a.child,x,S)}function td(a,c,x,S,U){x=x.render;var $=c.ref;return cs(c,U),S=nn(a,c,x,S,$,U),x=rn(),a!==null&&!Us?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~U,Kl(a,c,U)):(yi&&x&&du(c),c.flags|=1,eo(a,c,S,U),c.child)}function wp(a,c,x,S,U){if(a===null){var $=x.type;return typeof $=="function"&&!Rp($)&&$.defaultProps===void 0&&x.compare===null&&x.defaultProps===void 0?(c.tag=15,c.type=$,gs(a,c,$,S,U)):(a=yh(x.type,null,S,c,c.mode,U),a.ref=c.ref,a.return=c,c.child=a)}if($=a.child,(a.lanes&U)===0){var le=$.memoizedProps;if(x=x.compare,x=x!==null?x:Sn,x(le,S)&&a.ref===c.ref)return Kl(a,c,U)}return c.flags|=1,a=Ml($,S),a.ref=c.ref,a.return=c,c.child=a}function gs(a,c,x,S,U){if(a!==null){var $=a.memoizedProps;if(Sn($,S)&&a.ref===c.ref)if(Us=!1,c.pendingProps=S=$,(a.lanes&U)!==0)(a.flags&131072)!==0&&(Us=!0);else return c.lanes=a.lanes,Kl(a,c,U)}return nh(a,c,x,S,U)}function nd(a,c,x){var S=c.pendingProps,U=S.children,$=a!==null?a.memoizedState:null;if(S.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(ph,tl),tl|=x;else{if((x&1073741824)===0)return a=$!==null?$.baseLanes|x:x,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:a,cachePool:null,transitions:null},c.updateQueue=null,Ci(ph,tl),tl|=a,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},S=$!==null?$.baseLanes:x,Ci(ph,tl),tl|=S}else $!==null?(S=$.baseLanes|x,c.memoizedState=null):S=x,Ci(ph,tl),tl|=S;return eo(a,c,U,x),c.child}function Dc(a,c){var x=c.ref;(a===null&&x!==null||a!==null&&a.ref!==x)&&(c.flags|=512,c.flags|=2097152)}function nh(a,c,x,S,U){var $=Bo(x)?yo:Na.current;return $=xl(c,$),cs(c,U),x=nn(a,c,x,S,$,U),S=rn(),a!==null&&!Us?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~U,Kl(a,c,U)):(yi&&S&&du(c),c.flags|=1,eo(a,c,x,U),c.child)}function rh(a,c,x,S,U){if(Bo(x)){var $=!0;Hi(c)}else $=!1;if(cs(c,U),c.stateNode===null)ms(a,c),Qu(c,x,S),bp(c,x,S,U),S=!0;else if(a===null){var le=c.stateNode,Re=c.memoizedProps;le.props=Re;var Xe=le.context,It=x.contextType;typeof It=="object"&&It!==null?It=Or(It):(It=Bo(x)?yo:Na.current,It=xl(c,It));var en=x.getDerivedStateFromProps,on=typeof en=="function"||typeof le.getSnapshotBeforeUpdate=="function";on||typeof le.UNSAFE_componentWillReceiveProps!="function"&&typeof le.componentWillReceiveProps!="function"||(Re!==S||Xe!==It)&&Ju(c,le,S,It),ja=!1;var tn=c.memoizedState;le.state=tn,n(c,S,le,U),Xe=c.memoizedState,Re!==S||tn!==Xe||Xa.current||ja?(typeof en=="function"&&(yu(c,x,en,S),Xe=c.memoizedState),(Re=ja||xc(c,x,Re,S,tn,Xe,It))?(on||typeof le.UNSAFE_componentWillMount!="function"&&typeof le.componentWillMount!="function"||(typeof le.componentWillMount=="function"&&le.componentWillMount(),typeof le.UNSAFE_componentWillMount=="function"&&le.UNSAFE_componentWillMount()),typeof le.componentDidMount=="function"&&(c.flags|=4194308)):(typeof le.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=S,c.memoizedState=Xe),le.props=S,le.state=Xe,le.context=It,S=Re):(typeof le.componentDidMount=="function"&&(c.flags|=4194308),S=!1)}else{le=c.stateNode,Qc(a,c),Re=c.memoizedProps,It=c.type===c.elementType?Re:ba(c.type,Re),le.props=It,on=c.pendingProps,tn=le.context,Xe=x.contextType,typeof Xe=="object"&&Xe!==null?Xe=Or(Xe):(Xe=Bo(x)?yo:Na.current,Xe=xl(c,Xe));var Cn=x.getDerivedStateFromProps;(en=typeof Cn=="function"||typeof le.getSnapshotBeforeUpdate=="function")||typeof le.UNSAFE_componentWillReceiveProps!="function"&&typeof le.componentWillReceiveProps!="function"||(Re!==on||tn!==Xe)&&Ju(c,le,S,Xe),ja=!1,tn=c.memoizedState,le.state=tn,n(c,S,le,U);var zn=c.memoizedState;Re!==on||tn!==zn||Xa.current||ja?(typeof Cn=="function"&&(yu(c,x,Cn,S),zn=c.memoizedState),(It=ja||xc(c,x,It,S,tn,zn,Xe)||!1)?(en||typeof le.UNSAFE_componentWillUpdate!="function"&&typeof le.componentWillUpdate!="function"||(typeof le.componentWillUpdate=="function"&&le.componentWillUpdate(S,zn,Xe),typeof le.UNSAFE_componentWillUpdate=="function"&&le.UNSAFE_componentWillUpdate(S,zn,Xe)),typeof le.componentDidUpdate=="function"&&(c.flags|=4),typeof le.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof le.componentDidUpdate!="function"||Re===a.memoizedProps&&tn===a.memoizedState||(c.flags|=4),typeof le.getSnapshotBeforeUpdate!="function"||Re===a.memoizedProps&&tn===a.memoizedState||(c.flags|=1024),c.memoizedProps=S,c.memoizedState=zn),le.props=S,le.state=zn,le.context=Xe,S=It):(typeof le.componentDidUpdate!="function"||Re===a.memoizedProps&&tn===a.memoizedState||(c.flags|=4),typeof le.getSnapshotBeforeUpdate!="function"||Re===a.memoizedProps&&tn===a.memoizedState||(c.flags|=1024),S=!1)}return Dp(a,c,x,S,$,U)}function Dp(a,c,x,S,U,$){Dc(a,c);var le=(c.flags&128)!==0;if(!S&&!le)return U&&cu(c,x,!1),Kl(a,c,$);S=c.stateNode,th.current=c;var Re=le&&typeof x.getDerivedStateFromError!="function"?null:S.render();return c.flags|=1,a!==null&&le?(c.child=fn(c,a.child,null,$),c.child=fn(c,null,Re,$)):eo(a,c,Re,$),c.memoizedState=S.state,U&&cu(c,x,!0),c.child}function rd(a){var c=a.stateNode;c.pendingContext?qs(a,c.pendingContext,c.pendingContext!==c.context):c.context&&qs(a,c.context,!1),z(a,c.containerInfo)}function N0(a,c,x,S,U){return Ys(),wl(U),c.flags|=256,eo(a,c,x,S),c.child}var Nh={dehydrated:null,treeContext:null,retryLane:0};function ih(a){return{baseLanes:a,cachePool:null,transitions:null}}function $h(a,c,x){var S=c.pendingProps,U=Q.current,$=!1,le=(c.flags&128)!==0,Re;if((Re=le)||(Re=a!==null&&a.memoizedState===null?!1:(U&2)!==0),Re?($=!0,c.flags&=-129):(a===null||a.memoizedState!==null)&&(U|=1),Ci(Q,U&1),a===null)return us(c),a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((c.mode&1)===0?c.lanes=1:a.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(le=S.children,a=S.fallback,$?(S=c.mode,$=c.child,le={mode:"hidden",children:le},(S&1)===0&&$!==null?($.childLanes=0,$.pendingProps=le):$=Up(le,S,0,null),a=Pc(a,S,x,null),$.return=c,a.return=c,$.sibling=a,c.child=$,c.child.memoizedState=ih(x),c.memoizedState=Nh,a):Cc(c,le));if(U=a.memoizedState,U!==null&&(Re=U.dehydrated,Re!==null))return rr(a,c,le,S,Re,U,x);if($){$=S.fallback,le=c.mode,U=a.child,Re=U.sibling;var Xe={mode:"hidden",children:S.children};return(le&1)===0&&c.child!==U?(S=c.child,S.childLanes=0,S.pendingProps=Xe,c.deletions=null):(S=Ml(U,Xe),S.subtreeFlags=U.subtreeFlags&14680064),Re!==null?$=Ml(Re,$):($=Pc($,le,x,null),$.flags|=2),$.return=c,S.return=c,S.sibling=$,c.child=S,S=$,$=c.child,le=a.child.memoizedState,le=le===null?ih(x):{baseLanes:le.baseLanes|x,cachePool:null,transitions:le.transitions},$.memoizedState=le,$.childLanes=a.childLanes&~x,c.memoizedState=Nh,S}return $=a.child,a=$.sibling,S=Ml($,{mode:"visible",children:S.children}),(c.mode&1)===0&&(S.lanes=x),S.return=c,S.sibling=null,a!==null&&(x=c.deletions,x===null?(c.deletions=[a],c.flags|=16):x.push(a)),c.child=S,c.memoizedState=null,S}function Cc(a,c){return c=Up({mode:"visible",children:c},a.mode,0,null),c.return=a,a.child=c}function _u(a,c,x,S){return S!==null&&wl(S),fn(c,a.child,null,x),a=Cc(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function rr(a,c,x,S,U,$,le){if(x)return c.flags&256?(c.flags&=-257,S=F0(Error(d(422))),_u(a,c,le,S)):c.memoizedState!==null?(c.child=a.child,c.flags|=128,null):($=S.fallback,U=c.mode,S=Up({mode:"visible",children:S.children},U,0,null),$=Pc($,U,le,null),$.flags|=2,S.return=c,$.return=c,S.sibling=$,c.child=S,(c.mode&1)!==0&&fn(c,a.child,null,le),c.child.memoizedState=ih(le),c.memoizedState=Nh,$);if((c.mode&1)===0)return _u(a,c,le,null);if(U.data==="$!"){if(S=U.nextSibling&&U.nextSibling.dataset,S)var Re=S.dgst;return S=Re,$=Error(d(419)),S=F0($,S,void 0),_u(a,c,le,S)}if(Re=(le&a.childLanes)!==0,Us||Re){if(S=wa,S!==null){switch(le&-le){case 4:U=2;break;case 16:U=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:U=32;break;case 536870912:U=268435456;break;default:U=0}U=(U&(S.suspendedLanes|le))!==0?0:U,U!==0&&U!==$.retryLane&&($.retryLane=U,Ms(a,U),Ql(S,a,U,-1))}return Pp(),S=F0(Error(d(421))),_u(a,c,le,S)}return U.data==="$?"?(c.flags|=128,c.child=a.child,c=np.bind(null,a),U._reactRetry=c,null):(a=$.treeContext,Fo=va(U.nextSibling),Qa=c,yi=!0,No=null,a!==null&&(Ts[Ya++]=Xs,Ts[Ya++]=sr,Ts[Ya++]=bl,Xs=a.id,sr=a.overflow,bl=c),c=Cc(c,S.children),c.flags|=4096,c)}function ah(a,c,x){a.lanes|=c;var S=a.alternate;S!==null&&(S.lanes|=c),$a(a.return,c,x)}function Ic(a,c,x,S,U){var $=a.memoizedState;$===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:S,tail:x,tailMode:U}:($.isBackwards=c,$.rendering=null,$.renderingStartTime=0,$.last=S,$.tail=x,$.tailMode=U)}function ql(a,c,x){var S=c.pendingProps,U=S.revealOrder,$=S.tail;if(eo(a,c,S.children,x),S=Q.current,(S&2)!==0)S=S&1|2,c.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&ah(a,x,c);else if(a.tag===19)ah(a,x,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}S&=1}if(Ci(Q,S),(c.mode&1)===0)c.memoizedState=null;else switch(U){case"forwards":for(x=c.child,U=null;x!==null;)a=x.alternate,a!==null&&ie(a)===null&&(U=x),x=x.sibling;x=U,x===null?(U=c.child,c.child=null):(U=x.sibling,x.sibling=null),Ic(c,!1,U,x,$);break;case"backwards":for(x=null,U=c.child,c.child=null;U!==null;){if(a=U.alternate,a!==null&&ie(a)===null){c.child=U;break}a=U.sibling,U.sibling=x,x=U,U=a}Ic(c,!0,x,null,$);break;case"together":Ic(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function ms(a,c){(c.mode&1)===0&&a!==null&&(a.alternate=null,c.alternate=null,c.flags|=2)}function Kl(a,c,x){if(a!==null&&(c.dependencies=a.dependencies),tc|=c.lanes,(x&c.childLanes)===0)return null;if(a!==null&&c.child!==a.child)throw Error(d(153));if(c.child!==null){for(a=c.child,x=Ml(a,a.pendingProps),c.child=x,x.return=c;a.sibling!==null;)a=a.sibling,x=x.sibling=Ml(a,a.pendingProps),x.return=c;x.sibling=null}return c.child}function Cp(a,c,x){switch(c.tag){case 3:rd(c),Ys();break;case 5:W(c);break;case 1:Bo(c.type)&&Hi(c);break;case 4:z(c,c.stateNode.containerInfo);break;case 10:var S=c.type._context,U=c.memoizedProps.value;Ci(c0,S._currentValue),S._currentValue=U;break;case 13:if(S=c.memoizedState,S!==null)return S.dehydrated!==null?(Ci(Q,Q.current&1),c.flags|=128,null):(x&c.child.childLanes)!==0?$h(a,c,x):(Ci(Q,Q.current&1),a=Kl(a,c,x),a!==null?a.sibling:null);Ci(Q,Q.current&1);break;case 19:if(S=(x&c.childLanes)!==0,(a.flags&128)!==0){if(S)return ql(a,c,x);c.flags|=128}if(U=c.memoizedState,U!==null&&(U.rendering=null,U.tail=null,U.lastEffect=null),Ci(Q,Q.current),S)break;return null;case 22:case 23:return c.lanes=0,nd(a,c,x)}return Kl(a,c,x)}var Ho,Ip,Ld,id;Ho=function(a,c){for(var x=c.child;x!==null;){if(x.tag===5||x.tag===6)a.appendChild(x.stateNode);else if(x.tag!==4&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===c)break;for(;x.sibling===null;){if(x.return===null||x.return===c)return;x=x.return}x.sibling.return=x.return,x=x.sibling}},Ip=function(){},Ld=function(a,c,x,S){var U=a.memoizedProps;if(U!==S){a=c.stateNode,k(y.current);var $=null;switch(x){case"input":U=yn(a,U),S=yn(a,S),$=[];break;case"select":U=Ot({},U,{value:void 0}),S=Ot({},S,{value:void 0}),$=[];break;case"textarea":U=Dn(a,U),S=Dn(a,S),$=[];break;default:typeof U.onClick!="function"&&typeof S.onClick=="function"&&(a.onclick=au)}ne(x,S);var le;x=null;for(It in U)if(!S.hasOwnProperty(It)&&U.hasOwnProperty(It)&&U[It]!=null)if(It==="style"){var Re=U[It];for(le in Re)Re.hasOwnProperty(le)&&(x||(x={}),x[le]="")}else It!=="dangerouslySetInnerHTML"&&It!=="children"&&It!=="suppressContentEditableWarning"&&It!=="suppressHydrationWarning"&&It!=="autoFocus"&&(C.hasOwnProperty(It)?$||($=[]):($=$||[]).push(It,null));for(It in S){var Xe=S[It];if(Re=U!=null?U[It]:void 0,S.hasOwnProperty(It)&&Xe!==Re&&(Xe!=null||Re!=null))if(It==="style")if(Re){for(le in Re)!Re.hasOwnProperty(le)||Xe&&Xe.hasOwnProperty(le)||(x||(x={}),x[le]="");for(le in Xe)Xe.hasOwnProperty(le)&&Re[le]!==Xe[le]&&(x||(x={}),x[le]=Xe[le])}else x||($||($=[]),$.push(It,x)),x=Xe;else It==="dangerouslySetInnerHTML"?(Xe=Xe?Xe.__html:void 0,Re=Re?Re.__html:void 0,Xe!=null&&Re!==Xe&&($=$||[]).push(It,Xe)):It==="children"?typeof Xe!="string"&&typeof Xe!="number"||($=$||[]).push(It,""+Xe):It!=="suppressContentEditableWarning"&&It!=="suppressHydrationWarning"&&(C.hasOwnProperty(It)?(Xe!=null&&It==="onScroll"&&ki("scroll",a),$||Re===Xe||($=[])):($=$||[]).push(It,Xe))}x&&($=$||[]).push("style",x);var It=$;(c.updateQueue=It)&&(c.flags|=4)}},id=function(a,c,x,S){x!==S&&(c.flags|=4)};function jh(a,c){if(!yi)switch(a.tailMode){case"hidden":c=a.tail;for(var x=null;c!==null;)c.alternate!==null&&(x=c),c=c.sibling;x===null?a.tail=null:x.sibling=null;break;case"collapsed":x=a.tail;for(var S=null;x!==null;)x.alternate!==null&&(S=x),x=x.sibling;S===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:S.sibling=null}}function qo(a){var c=a.alternate!==null&&a.alternate.child===a.child,x=0,S=0;if(c)for(var U=a.child;U!==null;)x|=U.lanes|U.childLanes,S|=U.subtreeFlags&14680064,S|=U.flags&14680064,U.return=a,U=U.sibling;else for(U=a.child;U!==null;)x|=U.lanes|U.childLanes,S|=U.subtreeFlags,S|=U.flags,U.return=a,U=U.sibling;return a.subtreeFlags|=S,a.childLanes=x,c}function ad(a,c,x){var S=c.pendingProps;switch(G0(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qo(c),null;case 1:return Bo(c.type)&&Ma(),qo(c),null;case 3:return S=c.stateNode,O(),Si(Xa),Si(Na),we(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(a===null||a.child===null)&&(ri(c)?c.flags|=4:a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,No!==null&&(Sc(No),No=null))),Ip(a,c),qo(c),null;case 5:Z(c);var U=k(T.current);if(x=c.type,a!==null&&c.stateNode!=null)Ld(a,c,x,S,U),a.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!S){if(c.stateNode===null)throw Error(d(166));return qo(c),null}if(a=k(y.current),ri(c)){S=c.stateNode,x=c.type;var $=c.memoizedProps;switch(S[Hs]=c,S[qa]=$,a=(c.mode&1)!==0,x){case"dialog":ki("cancel",S),ki("close",S);break;case"iframe":case"object":case"embed":ki("load",S);break;case"video":case"audio":for(U=0;U<Is.length;U++)ki(Is[U],S);break;case"source":ki("error",S);break;case"img":case"image":case"link":ki("error",S),ki("load",S);break;case"details":ki("toggle",S);break;case"input":yr(S,$),ki("invalid",S);break;case"select":S._wrapperState={wasMultiple:!!$.multiple},ki("invalid",S);break;case"textarea":Lr(S,$),ki("invalid",S)}ne(x,$),U=null;for(var le in $)if($.hasOwnProperty(le)){var Re=$[le];le==="children"?typeof Re=="string"?S.textContent!==Re&&($.suppressHydrationWarning!==!0&&Hu(S.textContent,Re,a),U=["children",Re]):typeof Re=="number"&&S.textContent!==""+Re&&($.suppressHydrationWarning!==!0&&Hu(S.textContent,Re,a),U=["children",""+Re]):C.hasOwnProperty(le)&&Re!=null&&le==="onScroll"&&ki("scroll",S)}switch(x){case"input":Nn(S),Xr(S,$,!0);break;case"textarea":Nn(S),Vi(S);break;case"select":case"option":break;default:typeof $.onClick=="function"&&(S.onclick=au)}S=U,c.updateQueue=S,S!==null&&(c.flags|=4)}else{le=U.nodeType===9?U:U.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Ga(x)),a==="http://www.w3.org/1999/xhtml"?x==="script"?(a=le.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof S.is=="string"?a=le.createElement(x,{is:S.is}):(a=le.createElement(x),x==="select"&&(le=a,S.multiple?le.multiple=!0:S.size&&(le.size=S.size))):a=le.createElementNS(a,x),a[Hs]=c,a[qa]=S,Ho(a,c,!1,!1),c.stateNode=a;e:{switch(le=ae(x,S),x){case"dialog":ki("cancel",a),ki("close",a),U=S;break;case"iframe":case"object":case"embed":ki("load",a),U=S;break;case"video":case"audio":for(U=0;U<Is.length;U++)ki(Is[U],a);U=S;break;case"source":ki("error",a),U=S;break;case"img":case"image":case"link":ki("error",a),ki("load",a),U=S;break;case"details":ki("toggle",a),U=S;break;case"input":yr(a,S),U=yn(a,S),ki("invalid",a);break;case"option":U=S;break;case"select":a._wrapperState={wasMultiple:!!S.multiple},U=Ot({},S,{value:void 0}),ki("invalid",a);break;case"textarea":Lr(a,S),U=Dn(a,S),ki("invalid",a);break;default:U=S}ne(x,U),Re=U;for($ in Re)if(Re.hasOwnProperty($)){var Xe=Re[$];$==="style"?ma(a,Xe):$==="dangerouslySetInnerHTML"?(Xe=Xe?Xe.__html:void 0,Xe!=null&&Li(a,Xe)):$==="children"?typeof Xe=="string"?(x!=="textarea"||Xe!=="")&&bi(a,Xe):typeof Xe=="number"&&bi(a,""+Xe):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(C.hasOwnProperty($)?Xe!=null&&$==="onScroll"&&ki("scroll",a):Xe!=null&&ze(a,$,Xe,le))}switch(x){case"input":Nn(a),Xr(a,S,!1);break;case"textarea":Nn(a),Vi(a);break;case"option":S.value!=null&&a.setAttribute("value",""+Fn(S.value));break;case"select":a.multiple=!!S.multiple,$=S.value,$!=null?lr(a,!!S.multiple,$,!1):S.defaultValue!=null&&lr(a,!!S.multiple,S.defaultValue,!0);break;default:typeof U.onClick=="function"&&(a.onclick=au)}switch(x){case"button":case"input":case"select":case"textarea":S=!!S.autoFocus;break e;case"img":S=!0;break e;default:S=!1}}S&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return qo(c),null;case 6:if(a&&c.stateNode!=null)id(a,c,a.memoizedProps,S);else{if(typeof S!="string"&&c.stateNode===null)throw Error(d(166));if(x=k(T.current),k(y.current),ri(c)){if(S=c.stateNode,x=c.memoizedProps,S[Hs]=c,($=S.nodeValue!==x)&&(a=Qa,a!==null))switch(a.tag){case 3:Hu(S.nodeValue,x,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Hu(S.nodeValue,x,(a.mode&1)!==0)}$&&(c.flags|=4)}else S=(x.nodeType===9?x:x.ownerDocument).createTextNode(S),S[Hs]=c,c.stateNode=S}return qo(c),null;case 13:if(Si(Q),S=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(yi&&Fo!==null&&(c.mode&1)!==0&&(c.flags&128)===0)gu(),Ys(),c.flags|=98560,$=!1;else if($=ri(c),S!==null&&S.dehydrated!==null){if(a===null){if(!$)throw Error(d(318));if($=c.memoizedState,$=$!==null?$.dehydrated:null,!$)throw Error(d(317));$[Hs]=c}else Ys(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;qo(c),$=!1}else No!==null&&(Sc(No),No=null),$=!0;if(!$)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=x,c):(S=S!==null,S!==(a!==null&&a.memoizedState!==null)&&S&&(c.child.flags|=8192,(c.mode&1)!==0&&(a===null||(Q.current&1)!==0?no===0&&(no=3):Pp())),c.updateQueue!==null&&(c.flags|=4),qo(c),null);case 4:return O(),Ip(a,c),a===null&&ml(c.stateNode.containerInfo),qo(c),null;case 10:return jo(c.type._context),qo(c),null;case 17:return Bo(c.type)&&Ma(),qo(c),null;case 19:if(Si(Q),$=c.memoizedState,$===null)return qo(c),null;if(S=(c.flags&128)!==0,le=$.rendering,le===null)if(S)jh($,!1);else{if(no!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(le=ie(a),le!==null){for(c.flags|=128,jh($,!1),S=le.updateQueue,S!==null&&(c.updateQueue=S,c.flags|=4),c.subtreeFlags=0,S=x,x=c.child;x!==null;)$=x,a=S,$.flags&=14680066,le=$.alternate,le===null?($.childLanes=0,$.lanes=a,$.child=null,$.subtreeFlags=0,$.memoizedProps=null,$.memoizedState=null,$.updateQueue=null,$.dependencies=null,$.stateNode=null):($.childLanes=le.childLanes,$.lanes=le.lanes,$.child=le.child,$.subtreeFlags=0,$.deletions=null,$.memoizedProps=le.memoizedProps,$.memoizedState=le.memoizedState,$.updateQueue=le.updateQueue,$.type=le.type,a=le.dependencies,$.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),x=x.sibling;return Ci(Q,Q.current&1|2),c.child}a=a.sibling}$.tail!==null&&or()>bu&&(c.flags|=128,S=!0,jh($,!1),c.lanes=4194304)}else{if(!S)if(a=ie(le),a!==null){if(c.flags|=128,S=!0,x=a.updateQueue,x!==null&&(c.updateQueue=x,c.flags|=4),jh($,!0),$.tail===null&&$.tailMode==="hidden"&&!le.alternate&&!yi)return qo(c),null}else 2*or()-$.renderingStartTime>bu&&x!==1073741824&&(c.flags|=128,S=!0,jh($,!1),c.lanes=4194304);$.isBackwards?(le.sibling=c.child,c.child=le):(x=$.last,x!==null?x.sibling=le:c.child=le,$.last=le)}return $.tail!==null?(c=$.tail,$.rendering=c,$.tail=c.sibling,$.renderingStartTime=or(),c.sibling=null,x=Q.current,Ci(Q,S?x&1|2:x&1),c):(qo(c),null);case 22:case 23:return hd(),S=c.memoizedState!==null,a!==null&&a.memoizedState!==null!==S&&(c.flags|=8192),S&&(c.mode&1)!==0?(tl&1073741824)!==0&&(qo(c),c.subtreeFlags&6&&(c.flags|=8192)):qo(c),null;case 24:return null;case 25:return null}throw Error(d(156,c.tag))}function od(a,c){switch(G0(c),c.tag){case 1:return Bo(c.type)&&Ma(),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return O(),Si(Xa),Si(Na),we(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 5:return Z(c),null;case 13:if(Si(Q),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(d(340));Ys()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return Si(Q),null;case 4:return O(),null;case 10:return jo(c.type._context),null;case 22:case 23:return hd(),null;case 24:return null;default:return null}}var Vh=!1,vi=!1,to=typeof WeakSet=="function"?WeakSet:Set,kn=null;function oh(a,c){var x=a.ref;if(x!==null)if(typeof x=="function")try{x(null)}catch(S){Ki(a,c,S)}else x.current=null}function Zh(a,c,x){try{x()}catch(S){Ki(a,c,S)}}var Bd=!1;function Df(a,c){if(ou=ho,a=Qr(),A0(a)){if("selectionStart"in a)var x={start:a.selectionStart,end:a.selectionEnd};else e:{x=(x=a.ownerDocument)&&x.defaultView||window;var S=x.getSelection&&x.getSelection();if(S&&S.rangeCount!==0){x=S.anchorNode;var U=S.anchorOffset,$=S.focusNode;S=S.focusOffset;try{x.nodeType,$.nodeType}catch{x=null;break e}var le=0,Re=-1,Xe=-1,It=0,en=0,on=a,tn=null;t:for(;;){for(var Cn;on!==x||U!==0&&on.nodeType!==3||(Re=le+U),on!==$||S!==0&&on.nodeType!==3||(Xe=le+S),on.nodeType===3&&(le+=on.nodeValue.length),(Cn=on.firstChild)!==null;)tn=on,on=Cn;for(;;){if(on===a)break t;if(tn===x&&++It===U&&(Re=le),tn===$&&++en===S&&(Xe=le),(Cn=on.nextSibling)!==null)break;on=tn,tn=on.parentNode}on=Cn}x=Re===-1||Xe===-1?null:{start:Re,end:Xe}}else x=null}x=x||{start:0,end:0}}else x=null;for(k0={focusedElem:a,selectionRange:x},ho=!1,kn=c;kn!==null;)if(c=kn,a=c.child,(c.subtreeFlags&1028)!==0&&a!==null)a.return=c,kn=a;else for(;kn!==null;){c=kn;try{var zn=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(zn!==null){var $n=zn.memoizedProps,da=zn.memoizedState,dt=c.stateNode,et=dt.getSnapshotBeforeUpdate(c.elementType===c.type?$n:ba(c.type,$n),da);dt.__reactInternalSnapshotBeforeUpdate=et}break;case 3:var vt=c.stateNode.containerInfo;vt.nodeType===1?vt.textContent="":vt.nodeType===9&&vt.documentElement&&vt.removeChild(vt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(d(163))}}catch(pn){Ki(c,c.return,pn)}if(a=c.sibling,a!==null){a.return=c.return,kn=a;break}kn=c.return}return zn=Bd,Bd=!1,zn}function vu(a,c,x){var S=c.updateQueue;if(S=S!==null?S.lastEffect:null,S!==null){var U=S=S.next;do{if((U.tag&a)===a){var $=U.destroy;U.destroy=void 0,$!==void 0&&Zh(c,x,$)}U=U.next}while(U!==S)}}function Wh(a,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var x=c=c.next;do{if((x.tag&a)===a){var S=x.create;x.destroy=S()}x=x.next}while(x!==c)}}function sh(a){var c=a.ref;if(c!==null){var x=a.stateNode;switch(a.tag){case 5:a=x;break;default:a=x}typeof c=="function"?c(a):c.current=a}}function Od(a){var c=a.alternate;c!==null&&(a.alternate=null,Od(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&(delete c[Hs],delete c[qa],delete c[z0],delete c[pe],delete c[lu])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function sd(a){return a.tag===5||a.tag===3||a.tag===4}function lh(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||sd(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function ld(a,c,x){var S=a.tag;if(S===5||S===6)a=a.stateNode,c?x.nodeType===8?x.parentNode.insertBefore(a,c):x.insertBefore(a,c):(x.nodeType===8?(c=x.parentNode,c.insertBefore(a,x)):(c=x,c.appendChild(a)),x=x._reactRootContainer,x!=null||c.onclick!==null||(c.onclick=au));else if(S!==4&&(a=a.child,a!==null))for(ld(a,c,x),a=a.sibling;a!==null;)ld(a,c,x),a=a.sibling}function Ni(a,c,x){var S=a.tag;if(S===5||S===6)a=a.stateNode,c?x.insertBefore(a,c):x.appendChild(a);else if(S!==4&&(a=a.child,a!==null))for(Ni(a,c,x),a=a.sibling;a!==null;)Ni(a,c,x),a=a.sibling}var pa=null,Xl=!1;function Sl(a,c,x){for(x=x.child;x!==null;)uh(a,c,x),x=x.sibling}function uh(a,c,x){if(so&&typeof so.onCommitFiberUnmount=="function")try{so.onCommitFiberUnmount(na,x)}catch{}switch(x.tag){case 5:vi||oh(x,c);case 6:var S=pa,U=Xl;pa=null,Sl(a,c,x),pa=S,Xl=U,pa!==null&&(Xl?(a=pa,x=x.stateNode,a.nodeType===8?a.parentNode.removeChild(x):a.removeChild(x)):pa.removeChild(x.stateNode));break;case 18:pa!==null&&(Xl?(a=pa,x=x.stateNode,a.nodeType===8?Fl(a.parentNode,x):a.nodeType===1&&Fl(a,x),Ar(a)):Fl(pa,x.stateNode));break;case 4:S=pa,U=Xl,pa=x.stateNode.containerInfo,Xl=!0,Sl(a,c,x),pa=S,Xl=U;break;case 0:case 11:case 14:case 15:if(!vi&&(S=x.updateQueue,S!==null&&(S=S.lastEffect,S!==null))){U=S=S.next;do{var $=U,le=$.destroy;$=$.tag,le!==void 0&&(($&2)!==0||($&4)!==0)&&Zh(x,c,le),U=U.next}while(U!==S)}Sl(a,c,x);break;case 1:if(!vi&&(oh(x,c),S=x.stateNode,typeof S.componentWillUnmount=="function"))try{S.props=x.memoizedProps,S.state=x.memoizedState,S.componentWillUnmount()}catch(Re){Ki(x,c,Re)}Sl(a,c,x);break;case 21:Sl(a,c,x);break;case 22:x.mode&1?(vi=(S=vi)||x.memoizedState!==null,Sl(a,c,x),vi=S):Sl(a,c,x);break;default:Sl(a,c,x)}}function $0(a){var c=a.updateQueue;if(c!==null){a.updateQueue=null;var x=a.stateNode;x===null&&(x=a.stateNode=new to),c.forEach(function(S){var U=Wd.bind(null,a,S);x.has(S)||(x.add(S),S.then(U,U))})}}function Js(a,c){var x=c.deletions;if(x!==null)for(var S=0;S<x.length;S++){var U=x[S];try{var $=a,le=c,Re=le;e:for(;Re!==null;){switch(Re.tag){case 5:pa=Re.stateNode,Xl=!1;break e;case 3:pa=Re.stateNode.containerInfo,Xl=!0;break e;case 4:pa=Re.stateNode.containerInfo,Xl=!0;break e}Re=Re.return}if(pa===null)throw Error(d(160));uh($,le,U),pa=null,Xl=!1;var Xe=U.alternate;Xe!==null&&(Xe.return=null),U.return=null}catch(It){Ki(U,c,It)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)Ap(c,a),c=c.sibling}function Ap(a,c){var x=a.alternate,S=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Js(c,a),zs(a),S&4){try{vu(3,a,a.return),Wh(3,a)}catch($n){Ki(a,a.return,$n)}try{vu(5,a,a.return)}catch($n){Ki(a,a.return,$n)}}break;case 1:Js(c,a),zs(a),S&512&&x!==null&&oh(x,x.return);break;case 5:if(Js(c,a),zs(a),S&512&&x!==null&&oh(x,x.return),a.flags&32){var U=a.stateNode;try{bi(U,"")}catch($n){Ki(a,a.return,$n)}}if(S&4&&(U=a.stateNode,U!=null)){var $=a.memoizedProps,le=x!==null?x.memoizedProps:$,Re=a.type,Xe=a.updateQueue;if(a.updateQueue=null,Xe!==null)try{Re==="input"&&$.type==="radio"&&$.name!=null&&fi(U,$),ae(Re,le);var It=ae(Re,$);for(le=0;le<Xe.length;le+=2){var en=Xe[le],on=Xe[le+1];en==="style"?ma(U,on):en==="dangerouslySetInnerHTML"?Li(U,on):en==="children"?bi(U,on):ze(U,en,on,It)}switch(Re){case"input":Ir(U,$);break;case"textarea":ti(U,$);break;case"select":var tn=U._wrapperState.wasMultiple;U._wrapperState.wasMultiple=!!$.multiple;var Cn=$.value;Cn!=null?lr(U,!!$.multiple,Cn,!1):tn!==!!$.multiple&&($.defaultValue!=null?lr(U,!!$.multiple,$.defaultValue,!0):lr(U,!!$.multiple,$.multiple?[]:"",!1))}U[qa]=$}catch($n){Ki(a,a.return,$n)}}break;case 6:if(Js(c,a),zs(a),S&4){if(a.stateNode===null)throw Error(d(162));U=a.stateNode,$=a.memoizedProps;try{U.nodeValue=$}catch($n){Ki(a,a.return,$n)}}break;case 3:if(Js(c,a),zs(a),S&4&&x!==null&&x.memoizedState.isDehydrated)try{Ar(c.containerInfo)}catch($n){Ki(a,a.return,$n)}break;case 4:Js(c,a),zs(a);break;case 13:Js(c,a),zs(a),U=a.child,U.flags&8192&&($=U.memoizedState!==null,U.stateNode.isHidden=$,!$||U.alternate!==null&&U.alternate.memoizedState!==null||(Sp=or())),S&4&&$0(a);break;case 22:if(en=x!==null&&x.memoizedState!==null,a.mode&1?(vi=(It=vi)||en,Js(c,a),vi=It):Js(c,a),zs(a),S&8192){if(It=a.memoizedState!==null,(a.stateNode.isHidden=It)&&!en&&(a.mode&1)!==0)for(kn=a,en=a.child;en!==null;){for(on=kn=en;kn!==null;){switch(tn=kn,Cn=tn.child,tn.tag){case 0:case 11:case 14:case 15:vu(4,tn,tn.return);break;case 1:oh(tn,tn.return);var zn=tn.stateNode;if(typeof zn.componentWillUnmount=="function"){S=tn,x=tn.return;try{c=S,zn.props=c.memoizedProps,zn.state=c.memoizedState,zn.componentWillUnmount()}catch($n){Ki(S,x,$n)}}break;case 5:oh(tn,tn.return);break;case 22:if(tn.memoizedState!==null){Tl(on);continue}}Cn!==null?(Cn.return=tn,kn=Cn):Tl(on)}en=en.sibling}e:for(en=null,on=a;;){if(on.tag===5){if(en===null){en=on;try{U=on.stateNode,It?($=U.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none"):(Re=on.stateNode,Xe=on.memoizedProps.style,le=Xe!=null&&Xe.hasOwnProperty("display")?Xe.display:null,Re.style.display=ni("display",le))}catch($n){Ki(a,a.return,$n)}}}else if(on.tag===6){if(en===null)try{on.stateNode.nodeValue=It?"":on.memoizedProps}catch($n){Ki(a,a.return,$n)}}else if((on.tag!==22&&on.tag!==23||on.memoizedState===null||on===a)&&on.child!==null){on.child.return=on,on=on.child;continue}if(on===a)break e;for(;on.sibling===null;){if(on.return===null||on.return===a)break e;en===on&&(en=null),on=on.return}en===on&&(en=null),on.sibling.return=on.return,on=on.sibling}}break;case 19:Js(c,a),zs(a),S&4&&$0(a);break;case 21:break;default:Js(c,a),zs(a)}}function zs(a){var c=a.flags;if(c&2){try{e:{for(var x=a.return;x!==null;){if(sd(x)){var S=x;break e}x=x.return}throw Error(d(160))}switch(S.tag){case 5:var U=S.stateNode;S.flags&32&&(bi(U,""),S.flags&=-33);var $=lh(a);Ni(a,$,U);break;case 3:case 4:var le=S.stateNode.containerInfo,Re=lh(a);ld(a,Re,le);break;default:throw Error(d(161))}}catch(Xe){Ki(a,a.return,Xe)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function ch(a,c,x){kn=a,ec(a)}function ec(a,c,x){for(var S=(a.mode&1)!==0;kn!==null;){var U=kn,$=U.child;if(U.tag===22&&S){var le=U.memoizedState!==null||Vh;if(!le){var Re=U.alternate,Xe=Re!==null&&Re.memoizedState!==null||vi;Re=Vh;var It=vi;if(Vh=le,(vi=Xe)&&!It)for(kn=U;kn!==null;)le=kn,Xe=le.child,le.tag===22&&le.memoizedState!==null?hh(U):Xe!==null?(Xe.return=le,kn=Xe):hh(U);for(;$!==null;)kn=$,ec($),$=$.sibling;kn=U,Vh=Re,vi=It}el(a)}else(U.subtreeFlags&8772)!==0&&$!==null?($.return=U,kn=$):el(a)}}function el(a){for(;kn!==null;){var c=kn;if((c.flags&8772)!==0){var x=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:vi||Wh(5,c);break;case 1:var S=c.stateNode;if(c.flags&4&&!vi)if(x===null)S.componentDidMount();else{var U=c.elementType===c.type?x.memoizedProps:ba(c.type,x.memoizedProps);S.componentDidUpdate(U,x.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var $=c.updateQueue;$!==null&&u(c,$,S);break;case 3:var le=c.updateQueue;if(le!==null){if(x=null,c.child!==null)switch(c.child.tag){case 5:x=c.child.stateNode;break;case 1:x=c.child.stateNode}u(c,le,x)}break;case 5:var Re=c.stateNode;if(x===null&&c.flags&4){x=Re;var Xe=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":Xe.autoFocus&&x.focus();break;case"img":Xe.src&&(x.src=Xe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var It=c.alternate;if(It!==null){var en=It.memoizedState;if(en!==null){var on=en.dehydrated;on!==null&&Ar(on)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(d(163))}vi||c.flags&512&&sh(c)}catch(tn){Ki(c,c.return,tn)}}if(c===a){kn=null;break}if(x=c.sibling,x!==null){x.return=c.return,kn=x;break}kn=c.return}}function Tl(a){for(;kn!==null;){var c=kn;if(c===a){kn=null;break}var x=c.sibling;if(x!==null){x.return=c.return,kn=x;break}kn=c.return}}function hh(a){for(;kn!==null;){var c=kn;try{switch(c.tag){case 0:case 11:case 15:var x=c.return;try{Wh(4,c)}catch(Xe){Ki(c,x,Xe)}break;case 1:var S=c.stateNode;if(typeof S.componentDidMount=="function"){var U=c.return;try{S.componentDidMount()}catch(Xe){Ki(c,U,Xe)}}var $=c.return;try{sh(c)}catch(Xe){Ki(c,$,Xe)}break;case 5:var le=c.return;try{sh(c)}catch(Xe){Ki(c,le,Xe)}}}catch(Xe){Ki(c,c.return,Xe)}if(c===a){kn=null;break}var Re=c.sibling;if(Re!==null){Re.return=c.return,kn=Re;break}kn=c.return}}var Fd=Math.ceil,Hh=Me.ReactCurrentDispatcher,xu=Me.ReactCurrentOwner,Yl=Me.ReactCurrentBatchConfig,Hr=0,wa=null,Da=null,xo=0,tl=0,ph=mo(0),no=0,qh=null,tc=0,Kh=0,dh=0,fh=null,ys=null,Sp=0,bu=1/0,j0=null,Xh=!1,gh=null,wu=null,Yh=!1,Du=null,ro=0,Qh=0,Jh=null,nc=-1,Ac=0;function Gs(){return(Hr&6)!==0?or():nc!==-1?nc:nc=or()}function rc(a){return(a.mode&1)===0?1:(Hr&2)!==0&&xo!==0?xo&-xo:Lh.transition!==null?(Ac===0&&(Ac=Se()),Ac):(a=_n,a!==0||(a=window.event,a=a===void 0?16:a0(a.type)),a)}function Ql(a,c,x,S){if(50<Qh)throw Qh=0,Jh=null,Error(d(185));ct(a,x,S),((Hr&2)===0||a!==wa)&&(a===wa&&((Hr&2)===0&&(Kh|=x),no===4&&ic(a,xo)),Ls(a,S),x===1&&Hr===0&&(c.mode&1)===0&&(bu=or()+500,Yc&&Ss()))}function Ls(a,c){var x=a.callbackNode;J(a,c);var S=Eo(a,a===wa?xo:0);if(S===0)x!==null&&ol(x),a.callbackNode=null,a.callbackPriority=0;else if(c=S&-S,a.callbackPriority!==c){if(x!=null&&ol(x),c===1)a.tag===0?l0($d.bind(null,a)):vc($d.bind(null,a)),U0(function(){(Hr&6)===0&&Ss()}),x=null;else{switch(Mn(S)){case 1:x=Vr;break;case 4:x=Fs;break;case 16:x=oo;break;case 536870912:x=La;break;default:x=oo}x=dd(x,Tp.bind(null,a))}a.callbackPriority=c,a.callbackNode=x}}function Tp(a,c){if(nc=-1,Ac=0,(Hr&6)!==0)throw Error(d(327));var x=a.callbackNode;if(mh()&&a.callbackNode!==x)return null;var S=Eo(a,a===wa?xo:0);if(S===0)return null;if((S&30)!==0||(S&a.expiredLanes)!==0||c)c=ep(a,S);else{c=S;var U=Hr;Hr|=2;var $=Mp();(wa!==a||xo!==c)&&(j0=null,bu=or()+500,Mc(a,c));do try{Cf();break}catch(Re){pd(a,Re)}while(!0);Dl(),Hh.current=$,Hr=U,Da!==null?c=0:(wa=null,xo=0,c=no)}if(c!==0){if(c===2&&(U=fe(a),U!==0&&(S=U,c=ud(a,U))),c===1)throw x=qh,Mc(a,0),ic(a,S),Ls(a,or()),x;if(c===6)ic(a,S);else{if(U=a.current.alternate,(S&30)===0&&!Nd(U)&&(c=ep(a,S),c===2&&($=fe(a),$!==0&&(S=$,c=ud(a,$))),c===1))throw x=qh,Mc(a,0),ic(a,S),Ls(a,or()),x;switch(a.finishedWork=U,a.finishedLanes=S,c){case 0:case 1:throw Error(d(345));case 2:ac(a,ys,j0);break;case 3:if(ic(a,S),(S&130023424)===S&&(c=Sp+500-or(),10<c)){if(Eo(a,0)!==0)break;if(U=a.suspendedLanes,(U&S)!==S){Gs(),a.pingedLanes|=a.suspendedLanes&U;break}a.timeoutHandle=yl(ac.bind(null,a,ys,j0),c);break}ac(a,ys,j0);break;case 4:if(ic(a,S),(S&4194240)===S)break;for(c=a.eventTimes,U=-1;0<S;){var le=31-ya(S);$=1<<le,le=c[le],le>U&&(U=le),S&=~$}if(S=U,S=or()-S,S=(120>S?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*Fd(S/1960))-S,10<S){a.timeoutHandle=yl(ac.bind(null,a,ys,j0),S);break}ac(a,ys,j0);break;case 5:ac(a,ys,j0);break;default:throw Error(d(329))}}}return Ls(a,or()),a.callbackNode===x?Tp.bind(null,a):null}function ud(a,c){var x=fh;return a.current.memoizedState.isDehydrated&&(Mc(a,c).flags|=256),a=ep(a,c),a!==2&&(c=ys,ys=x,c!==null&&Sc(c)),a}function Sc(a){ys===null?ys=a:ys.push.apply(ys,a)}function Nd(a){for(var c=a;;){if(c.flags&16384){var x=c.updateQueue;if(x!==null&&(x=x.stores,x!==null))for(var S=0;S<x.length;S++){var U=x[S],$=U.getSnapshot;U=U.value;try{if(!bt($(),U))return!1}catch{return!1}}}if(x=c.child,c.subtreeFlags&16384&&x!==null)x.return=c,c=x;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function ic(a,c){for(c&=~dh,c&=~Kh,a.suspendedLanes|=c,a.pingedLanes&=~c,a=a.expirationTimes;0<c;){var x=31-ya(c),S=1<<x;a[x]=-1,c&=~S}}function $d(a){if((Hr&6)!==0)throw Error(d(327));mh();var c=Eo(a,0);if((c&1)===0)return Ls(a,or()),null;var x=ep(a,c);if(a.tag!==0&&x===2){var S=fe(a);S!==0&&(c=S,x=ud(a,S))}if(x===1)throw x=qh,Mc(a,0),ic(a,c),Ls(a,or()),x;if(x===6)throw Error(d(345));return a.finishedWork=a.current.alternate,a.finishedLanes=c,ac(a,ys,j0),Ls(a,or()),null}function cd(a,c){var x=Hr;Hr|=1;try{return a(c)}finally{Hr=x,Hr===0&&(bu=or()+500,Yc&&Ss())}}function Tc(a){Du!==null&&Du.tag===0&&(Hr&6)===0&&mh();var c=Hr;Hr|=1;var x=Yl.transition,S=_n;try{if(Yl.transition=null,_n=1,a)return a()}finally{_n=S,Yl.transition=x,Hr=c,(Hr&6)===0&&Ss()}}function hd(){tl=ph.current,Si(ph)}function Mc(a,c){a.finishedWork=null,a.finishedLanes=0;var x=a.timeoutHandle;if(x!==-1&&(a.timeoutHandle=-1,R0(x)),Da!==null)for(x=Da.return;x!==null;){var S=x;switch(G0(S),S.tag){case 1:S=S.type.childContextTypes,S!=null&&Ma();break;case 3:O(),Si(Xa),Si(Na),we();break;case 5:Z(S);break;case 4:O();break;case 13:Si(Q);break;case 19:Si(Q);break;case 10:jo(S.type._context);break;case 22:case 23:hd()}x=x.return}if(wa=a,Da=a=Ml(a.current,null),xo=tl=c,no=0,qh=null,dh=Kh=tc=0,ys=fh=null,ii!==null){for(c=0;c<ii.length;c++)if(x=ii[c],S=x.interleaved,S!==null){x.interleaved=null;var U=S.next,$=x.pending;if($!==null){var le=$.next;$.next=U,S.next=le}x.pending=S}ii=null}return a}function pd(a,c){do{var x=Da;try{if(Dl(),Ce.current=O0,Ve){for(var S=Ee.memoizedState;S!==null;){var U=S.queue;U!==null&&(U.pending=null),S=S.next}Ve=!1}if(Le=0,$e=Be=Ee=null,lt=!1,At=0,xu.current=null,x===null||x.return===null){no=1,qh=c,Da=null;break}e:{var $=a,le=x.return,Re=x,Xe=c;if(c=xo,Re.flags|=32768,Xe!==null&&typeof Xe=="object"&&typeof Xe.then=="function"){var It=Xe,en=Re,on=en.tag;if((en.mode&1)===0&&(on===0||on===11||on===15)){var tn=en.alternate;tn?(en.updateQueue=tn.updateQueue,en.memoizedState=tn.memoizedState,en.lanes=tn.lanes):(en.updateQueue=null,en.memoizedState=null)}var Cn=Jp(le);if(Cn!==null){Cn.flags&=-257,ed(Cn,le,Re,$,c),Cn.mode&1&&Fh($,It,c),c=Cn,Xe=It;var zn=c.updateQueue;if(zn===null){var $n=new Set;$n.add(Xe),c.updateQueue=$n}else zn.add(Xe);break e}else{if((c&1)===0){Fh($,It,c),Pp();break e}Xe=Error(d(426))}}else if(yi&&Re.mode&1){var da=Jp(le);if(da!==null){(da.flags&65536)===0&&(da.flags|=256),ed(da,le,Re,$,c),wl(Al(Xe,Re));break e}}$=Xe=Al(Xe,Re),no!==4&&(no=2),fh===null?fh=[$]:fh.push($),$=le;do{switch($.tag){case 3:$.flags|=65536,c&=-c,$.lanes|=c;var dt=wc($,Xe,c);e($,dt);break e;case 1:Re=Xe;var et=$.type,vt=$.stateNode;if(($.flags&128)===0&&(typeof et.getDerivedStateFromError=="function"||vt!==null&&typeof vt.componentDidCatch=="function"&&(wu===null||!wu.has(vt)))){$.flags|=65536,c&=-c,$.lanes|=c;var pn=Oh($,Re,c);e($,pn);break e}}$=$.return}while($!==null)}Vd(x)}catch(Vn){c=Vn,Da===x&&x!==null&&(Da=x=x.return);continue}break}while(!0)}function Mp(){var a=Hh.current;return Hh.current=O0,a===null?O0:a}function Pp(){(no===0||no===3||no===2)&&(no=4),wa===null||(tc&268435455)===0&&(Kh&268435455)===0||ic(wa,xo)}function ep(a,c){var x=Hr;Hr|=2;var S=Mp();(wa!==a||xo!==c)&&(j0=null,Mc(a,c));do try{jd();break}catch(U){pd(a,U)}while(!0);if(Dl(),Hr=x,Hh.current=S,Da!==null)throw Error(d(261));return wa=null,xo=0,no}function jd(){for(;Da!==null;)tp(Da)}function Cf(){for(;Da!==null&&!Wa();)tp(Da)}function tp(a){var c=kp(a.alternate,a,tl);a.memoizedProps=a.pendingProps,c===null?Vd(a):Da=c,xu.current=null}function Vd(a){var c=a;do{var x=c.alternate;if(a=c.return,(c.flags&32768)===0){if(x=ad(x,c,tl),x!==null){Da=x;return}}else{if(x=od(x,c),x!==null){x.flags&=32767,Da=x;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{no=6,Da=null;return}}if(c=c.sibling,c!==null){Da=c;return}Da=c=a}while(c!==null);no===0&&(no=5)}function ac(a,c,x){var S=_n,U=Yl.transition;try{Yl.transition=null,_n=1,If(a,c,x,S)}finally{Yl.transition=U,_n=S}return null}function If(a,c,x,S){do mh();while(Du!==null);if((Hr&6)!==0)throw Error(d(327));x=a.finishedWork;var U=a.finishedLanes;if(x===null)return null;if(a.finishedWork=null,a.finishedLanes=0,x===a.current)throw Error(d(177));a.callbackNode=null,a.callbackPriority=0;var $=x.lanes|x.childLanes;if(Ut(a,$),a===wa&&(Da=wa=null,xo=0),(x.subtreeFlags&2064)===0&&(x.flags&2064)===0||Yh||(Yh=!0,dd(oo,function(){return mh(),null})),$=(x.flags&15990)!==0,(x.subtreeFlags&15990)!==0||$){$=Yl.transition,Yl.transition=null;var le=_n;_n=1;var Re=Hr;Hr|=4,xu.current=null,Df(a,x),Ap(x,a),Hc(k0),ho=!!ou,k0=ou=null,a.current=x,ch(x),Os(),Hr=Re,_n=le,Yl.transition=$}else a.current=x;if(Yh&&(Yh=!1,Du=a,ro=U),$=a.pendingLanes,$===0&&(wu=null),sl(x.stateNode),Ls(a,or()),c!==null)for(S=a.onRecoverableError,x=0;x<c.length;x++)U=c[x],S(U.value,{componentStack:U.stack,digest:U.digest});if(Xh)throw Xh=!1,a=gh,gh=null,a;return(ro&1)!==0&&a.tag!==0&&mh(),$=a.pendingLanes,($&1)!==0?a===Jh?Qh++:(Qh=0,Jh=a):Qh=0,Ss(),null}function mh(){if(Du!==null){var a=Mn(ro),c=Yl.transition,x=_n;try{if(Yl.transition=null,_n=16>a?16:a,Du===null)var S=!1;else{if(a=Du,Du=null,ro=0,(Hr&6)!==0)throw Error(d(331));var U=Hr;for(Hr|=4,kn=a.current;kn!==null;){var $=kn,le=$.child;if((kn.flags&16)!==0){var Re=$.deletions;if(Re!==null){for(var Xe=0;Xe<Re.length;Xe++){var It=Re[Xe];for(kn=It;kn!==null;){var en=kn;switch(en.tag){case 0:case 11:case 15:vu(8,en,$)}var on=en.child;if(on!==null)on.return=en,kn=on;else for(;kn!==null;){en=kn;var tn=en.sibling,Cn=en.return;if(Od(en),en===It){kn=null;break}if(tn!==null){tn.return=Cn,kn=tn;break}kn=Cn}}}var zn=$.alternate;if(zn!==null){var $n=zn.child;if($n!==null){zn.child=null;do{var da=$n.sibling;$n.sibling=null,$n=da}while($n!==null)}}kn=$}}if(($.subtreeFlags&2064)!==0&&le!==null)le.return=$,kn=le;else e:for(;kn!==null;){if($=kn,($.flags&2048)!==0)switch($.tag){case 0:case 11:case 15:vu(9,$,$.return)}var dt=$.sibling;if(dt!==null){dt.return=$.return,kn=dt;break e}kn=$.return}}var et=a.current;for(kn=et;kn!==null;){le=kn;var vt=le.child;if((le.subtreeFlags&2064)!==0&&vt!==null)vt.return=le,kn=vt;else e:for(le=et;kn!==null;){if(Re=kn,(Re.flags&2048)!==0)try{switch(Re.tag){case 0:case 11:case 15:Wh(9,Re)}}catch(Vn){Ki(Re,Re.return,Vn)}if(Re===le){kn=null;break e}var pn=Re.sibling;if(pn!==null){pn.return=Re.return,kn=pn;break e}kn=Re.return}}if(Hr=U,Ss(),so&&typeof so.onPostCommitFiberRoot=="function")try{so.onPostCommitFiberRoot(na,a)}catch{}S=!0}return S}finally{_n=x,Yl.transition=c}}return!1}function Ep(a,c,x){c=Al(x,c),c=wc(a,c,1),a=ps(a,c,1),c=Gs(),a!==null&&(ct(a,1,c),Ls(a,c))}function Ki(a,c,x){if(a.tag===3)Ep(a,a,x);else for(;c!==null;){if(c.tag===3){Ep(c,a,x);break}else if(c.tag===1){var S=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(wu===null||!wu.has(S))){a=Al(x,a),a=Oh(c,a,1),c=ps(c,a,1),a=Gs(),c!==null&&(ct(c,1,a),Ls(c,a));break}}c=c.return}}function Af(a,c,x){var S=a.pingCache;S!==null&&S.delete(c),c=Gs(),a.pingedLanes|=a.suspendedLanes&x,wa===a&&(xo&x)===x&&(no===4||no===3&&(xo&130023424)===xo&&500>or()-Sp?Mc(a,0):dh|=x),Ls(a,c)}function Zd(a,c){c===0&&((a.mode&1)===0?c=1:(c=i0,i0<<=1,(i0&130023424)===0&&(i0=4194304)));var x=Gs();a=Ms(a,c),a!==null&&(ct(a,c,x),Ls(a,x))}function np(a){var c=a.memoizedState,x=0;c!==null&&(x=c.retryLane),Zd(a,x)}function Wd(a,c){var x=0;switch(a.tag){case 13:var S=a.stateNode,U=a.memoizedState;U!==null&&(x=U.retryLane);break;case 19:S=a.stateNode;break;default:throw Error(d(314))}S!==null&&S.delete(c),Zd(a,x)}var kp;kp=function(a,c,x){if(a!==null)if(a.memoizedProps!==c.pendingProps||Xa.current)Us=!0;else{if((a.lanes&x)===0&&(c.flags&128)===0)return Us=!1,Cp(a,c,x);Us=(a.flags&131072)!==0}else Us=!1,yi&&(c.flags&1048576)!==0&&xp(c,pu,c.index);switch(c.lanes=0,c.tag){case 2:var S=c.type;ms(a,c),a=c.pendingProps;var U=xl(c,Na.current);cs(c,x),U=nn(null,c,S,a,U,x);var $=rn();return c.flags|=1,typeof U=="object"&&U!==null&&typeof U.render=="function"&&U.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,Bo(S)?($=!0,Hi(c)):$=!1,c.memoizedState=U.state!==null&&U.state!==void 0?U.state:null,Yu(c),U.updater=Il,c.stateNode=U,U._reactInternals=c,bp(c,S,a,x),c=Dp(null,c,S,!0,$,x)):(c.tag=0,yi&&$&&du(c),eo(null,c,U,x),c=c.child),c;case 16:S=c.elementType;e:{switch(ms(a,c),a=c.pendingProps,U=S._init,S=U(S._payload),c.type=S,U=c.tag=Hd(S),a=ba(S,a),U){case 0:c=nh(null,c,S,a,x);break e;case 1:c=rh(null,c,S,a,x);break e;case 11:c=td(null,c,S,a,x);break e;case 14:c=wp(null,c,S,ba(S.type,a),x);break e}throw Error(d(306,S,""))}return c;case 0:return S=c.type,U=c.pendingProps,U=c.elementType===S?U:ba(S,U),nh(a,c,S,U,x);case 1:return S=c.type,U=c.pendingProps,U=c.elementType===S?U:ba(S,U),rh(a,c,S,U,x);case 3:e:{if(rd(c),a===null)throw Error(d(387));S=c.pendingProps,$=c.memoizedState,U=$.element,Qc(a,c),n(c,S,null,x);var le=c.memoizedState;if(S=le.element,$.isDehydrated)if($={element:S,isDehydrated:!1,cache:le.cache,pendingSuspenseBoundaries:le.pendingSuspenseBoundaries,transitions:le.transitions},c.updateQueue.baseState=$,c.memoizedState=$,c.flags&256){U=Al(Error(d(423)),c),c=N0(a,c,S,x,U);break e}else if(S!==U){U=Al(Error(d(424)),c),c=N0(a,c,S,x,U);break e}else for(Fo=va(c.stateNode.containerInfo.firstChild),Qa=c,yi=!0,No=null,x=jn(c,null,S,x),c.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(Ys(),S===U){c=Kl(a,c,x);break e}eo(a,c,S,x)}c=c.child}return c;case 5:return W(c),a===null&&us(c),S=c.type,U=c.pendingProps,$=a!==null?a.memoizedProps:null,le=U.children,qu(S,U)?le=null:$!==null&&qu(S,$)&&(c.flags|=32),Dc(a,c),eo(a,c,le,x),c.child;case 6:return a===null&&us(c),null;case 13:return $h(a,c,x);case 4:return z(c,c.stateNode.containerInfo),S=c.pendingProps,a===null?c.child=fn(c,null,S,x):eo(a,c,S,x),c.child;case 11:return S=c.type,U=c.pendingProps,U=c.elementType===S?U:ba(S,U),td(a,c,S,U,x);case 7:return eo(a,c,c.pendingProps,x),c.child;case 8:return eo(a,c,c.pendingProps.children,x),c.child;case 12:return eo(a,c,c.pendingProps.children,x),c.child;case 10:e:{if(S=c.type._context,U=c.pendingProps,$=c.memoizedProps,le=U.value,Ci(c0,S._currentValue),S._currentValue=le,$!==null)if(bt($.value,le)){if($.children===U.children&&!Xa.current){c=Kl(a,c,x);break e}}else for($=c.child,$!==null&&($.return=c);$!==null;){var Re=$.dependencies;if(Re!==null){le=$.child;for(var Xe=Re.firstContext;Xe!==null;){if(Xe.context===S){if($.tag===1){Xe=hs(-1,x&-x),Xe.tag=2;var It=$.updateQueue;if(It!==null){It=It.shared;var en=It.pending;en===null?Xe.next=Xe:(Xe.next=en.next,en.next=Xe),It.pending=Xe}}$.lanes|=x,Xe=$.alternate,Xe!==null&&(Xe.lanes|=x),$a($.return,x,c),Re.lanes|=x;break}Xe=Xe.next}}else if($.tag===10)le=$.type===c.type?null:$.child;else if($.tag===18){if(le=$.return,le===null)throw Error(d(341));le.lanes|=x,Re=le.alternate,Re!==null&&(Re.lanes|=x),$a(le,x,c),le=$.sibling}else le=$.child;if(le!==null)le.return=$;else for(le=$;le!==null;){if(le===c){le=null;break}if($=le.sibling,$!==null){$.return=le.return,le=$;break}le=le.return}$=le}eo(a,c,U.children,x),c=c.child}return c;case 9:return U=c.type,S=c.pendingProps.children,cs(c,x),U=Or(U),S=S(U),c.flags|=1,eo(a,c,S,x),c.child;case 14:return S=c.type,U=ba(S,c.pendingProps),U=ba(S.type,U),wp(a,c,S,U,x);case 15:return gs(a,c,c.type,c.pendingProps,x);case 17:return S=c.type,U=c.pendingProps,U=c.elementType===S?U:ba(S,U),ms(a,c),c.tag=1,Bo(S)?(a=!0,Hi(c)):a=!1,cs(c,x),Qu(c,S,U),bp(c,S,U,x),Dp(null,c,S,!0,a,x);case 19:return ql(a,c,x);case 22:return nd(a,c,x)}throw Error(d(156,c.tag))};function dd(a,c){return Po(a,c)}function Pa(a,c,x,S){this.tag=a,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nl(a,c,x,S){return new Pa(a,c,x,S)}function Rp(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Hd(a){if(typeof a=="function")return Rp(a)?1:0;if(a!=null){if(a=a.$$typeof,a===Mt)return 11;if(a===Nt)return 14}return 2}function Ml(a,c){var x=a.alternate;return x===null?(x=nl(a.tag,c,a.key,a.mode),x.elementType=a.elementType,x.type=a.type,x.stateNode=a.stateNode,x.alternate=a,a.alternate=x):(x.pendingProps=c,x.type=a.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=a.flags&14680064,x.childLanes=a.childLanes,x.lanes=a.lanes,x.child=a.child,x.memoizedProps=a.memoizedProps,x.memoizedState=a.memoizedState,x.updateQueue=a.updateQueue,c=a.dependencies,x.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},x.sibling=a.sibling,x.index=a.index,x.ref=a.ref,x}function yh(a,c,x,S,U,$){var le=2;if(S=a,typeof a=="function")Rp(a)&&(le=1);else if(typeof a=="string")le=5;else e:switch(a){case ot:return Pc(x.children,U,$,c);case Pt:le=8,U|=8;break;case Jt:return a=nl(12,x,c,U|2),a.elementType=Jt,a.lanes=$,a;case Wt:return a=nl(13,x,c,U),a.elementType=Wt,a.lanes=$,a;case Vt:return a=nl(19,x,c,U),a.elementType=Vt,a.lanes=$,a;case dn:return Up(x,U,$,c);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case ye:le=10;break e;case Dt:le=9;break e;case Mt:le=11;break e;case Nt:le=14;break e;case $t:le=16,S=null;break e}throw Error(d(130,a==null?a:typeof a,""))}return c=nl(le,x,c,U),c.elementType=a,c.type=S,c.lanes=$,c}function Pc(a,c,x,S){return a=nl(7,a,S,c),a.lanes=x,a}function Up(a,c,x,S){return a=nl(22,a,S,c),a.elementType=dn,a.lanes=x,a.stateNode={isHidden:!1},a}function fd(a,c,x){return a=nl(6,a,null,c),a.lanes=x,a}function gd(a,c,x){return c=nl(4,a.children!==null?a.children:[],a.key,c),c.lanes=x,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}function qd(a,c,x,S,U){this.tag=c,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=S,this.onRecoverableError=U,this.mutableSourceEagerHydrationData=null}function Ko(a,c,x,S,U,$,le,Re,Xe){return a=new qd(a,c,x,Re,Xe),c===1?(c=1,$===!0&&(c|=8)):c=0,$=nl(3,null,null,c),a.current=$,$.stateNode=a,$.memoizedState={element:S,isDehydrated:x,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yu($),a}function md(a,c,x){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:je,key:S==null?null:""+S,children:a,containerInfo:c,implementation:x}}function yd(a){if(!a)return As;a=a._reactInternals;e:{if(Nr(a)!==a||a.tag!==1)throw Error(d(170));var c=a;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(Bo(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(d(171))}if(a.tag===1){var x=a.type;if(Bo(x))return uu(a,x,c)}return c}function Cu(a,c,x,S,U,$,le,Re,Xe){return a=Ko(x,S,!0,a,U,$,le,Re,Xe),a.context=yd(null),x=a.current,S=Gs(),U=rc(x),$=hs(S,U),$.callback=c??null,ps(x,$,U),a.current.lanes=U,ct(a,U,S),Ls(a,S),a}function Ec(a,c,x,S){var U=c.current,$=Gs(),le=rc(U);return x=yd(x),c.context===null?c.context=x:c.pendingContext=x,c=hs($,le),c.payload={element:a},S=S===void 0?null:S,S!==null&&(c.callback=S),a=ps(U,c,le),a!==null&&(Ql(a,U,le,$),m(a,U,le)),le}function oc(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function kc(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var x=a.retryLane;a.retryLane=x!==0&&x<c?x:c}}function _h(a,c){kc(a,c),(a=a.alternate)&&kc(a,c)}function zp(){return null}var Kd=typeof reportError=="function"?reportError:function(a){console.error(a)};function Gp(a){this._internalRoot=a}vh.prototype.render=Gp.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(d(409));Ec(a,c,null,null)},vh.prototype.unmount=Gp.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;Tc(function(){Ec(null,a,null,null)}),c[Lo]=null}};function vh(a){this._internalRoot=a}vh.prototype.unstable_scheduleHydration=function(a){if(a){var c=ra();a={blockedOn:null,target:a,priority:c};for(var x=0;x<zr.length&&c!==0&&c<zr[x].priority;x++);zr.splice(x,0,a),x===0&&co(a)}};function Lp(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Bp(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function _d(){}function Xd(a,c,x,S,U){if(U){if(typeof S=="function"){var $=S;S=function(){var It=oc(le);$.call(It)}}var le=Cu(c,S,a,0,null,!1,!1,"",_d);return a._reactRootContainer=le,a[Lo]=le.current,ml(a.nodeType===8?a.parentNode:a),Tc(),le}for(;U=a.lastChild;)a.removeChild(U);if(typeof S=="function"){var Re=S;S=function(){var It=oc(Xe);Re.call(It)}}var Xe=Ko(a,0,!1,null,null,!1,!1,"",_d);return a._reactRootContainer=Xe,a[Lo]=Xe.current,ml(a.nodeType===8?a.parentNode:a),Tc(function(){Ec(c,Xe,x,S)}),Xe}function Iu(a,c,x,S,U){var $=x._reactRootContainer;if($){var le=$;if(typeof U=="function"){var Re=U;U=function(){var Xe=oc(le);Re.call(Xe)}}Ec(c,le,a,U)}else le=Xd(x,c,a,U,S);return oc(le)}xn=function(a){switch(a.tag){case 3:var c=a.stateNode;if(c.current.memoizedState.isDehydrated){var x=Ns(c.pendingLanes);x!==0&&(sn(c,x|1),Ls(c,or()),(Hr&6)===0&&(bu=or()+500,Ss()))}break;case 13:Tc(function(){var S=Ms(a,1);if(S!==null){var U=Gs();Ql(S,a,1,U)}}),_h(a,1)}},Br=function(a){if(a.tag===13){var c=Ms(a,134217728);if(c!==null){var x=Gs();Ql(c,a,134217728,x)}_h(a,134217728)}},gi=function(a){if(a.tag===13){var c=rc(a),x=Ms(a,c);if(x!==null){var S=Gs();Ql(x,a,c,S)}_h(a,c)}},ra=function(){return _n},er=function(a,c){var x=_n;try{return _n=a,c()}finally{_n=x}},Ze=function(a,c,x){switch(c){case"input":if(Ir(a,x),c=x.name,x.type==="radio"&&c!=null){for(x=a;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<x.length;c++){var S=x[c];if(S!==a&&S.form===a.form){var U=s0(S);if(!U)throw Error(d(90));Kn(S),Ir(S,U)}}}break;case"textarea":ti(a,x);break;case"select":c=x.value,c!=null&&lr(a,!!x.multiple,c,!1)}},tt=cd,Rt=Tc;var vd={usingClientEntryPoint:!1,Events:[Ka,pr,s0,at,pt,cd]},rp={findFiberByHostInstance:_l,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Yd={bundleType:rp.bundleType,version:rp.version,rendererPackageName:rp.rendererPackageName,rendererConfig:rp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Me.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=ns(a),a===null?null:a.stateNode},findFiberByHostInstance:rp.findFiberByHostInstance||zp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Op=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Op.isDisabled&&Op.supportsFiber)try{na=Op.inject(Yd),so=Op}catch{}}return Z0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vd,Z0.createPortal=function(a,c){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lp(c))throw Error(d(200));return md(a,c,null,x)},Z0.createRoot=function(a,c){if(!Lp(a))throw Error(d(299));var x=!1,S="",U=Kd;return c!=null&&(c.unstable_strictMode===!0&&(x=!0),c.identifierPrefix!==void 0&&(S=c.identifierPrefix),c.onRecoverableError!==void 0&&(U=c.onRecoverableError)),c=Ko(a,1,!1,null,null,x,!1,S,U),a[Lo]=c.current,ml(a.nodeType===8?a.parentNode:a),new Gp(c)},Z0.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(d(188)):(a=Object.keys(a).join(","),Error(d(268,a)));return a=ns(c),a=a===null?null:a.stateNode,a},Z0.flushSync=function(a){return Tc(a)},Z0.hydrate=function(a,c,x){if(!Bp(c))throw Error(d(200));return Iu(null,a,c,!0,x)},Z0.hydrateRoot=function(a,c,x){if(!Lp(a))throw Error(d(405));var S=x!=null&&x.hydratedSources||null,U=!1,$="",le=Kd;if(x!=null&&(x.unstable_strictMode===!0&&(U=!0),x.identifierPrefix!==void 0&&($=x.identifierPrefix),x.onRecoverableError!==void 0&&(le=x.onRecoverableError)),c=Cu(c,null,a,1,x??null,U,!1,$,le),a[Lo]=c.current,ml(a),S)for(a=0;a<S.length;a++)x=S[a],U=x._getVersion,U=U(x._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[x,U]:c.mutableSourceEagerHydrationData.push(x,U);return new vh(c)},Z0.render=function(a,c,x){if(!Bp(c))throw Error(d(200));return Iu(null,a,c,!1,x)},Z0.unmountComponentAtNode=function(a){if(!Bp(a))throw Error(d(40));return a._reactRootContainer?(Tc(function(){Iu(null,null,a,!1,function(){a._reactRootContainer=null,a[Lo]=null})}),!0):!1},Z0.unstable_batchedUpdates=cd,Z0.unstable_renderSubtreeIntoContainer=function(a,c,x,S){if(!Bp(x))throw Error(d(200));if(a==null||a._reactInternals===void 0)throw Error(d(38));return Iu(a,c,x,!1,S)},Z0.version="18.3.1-next-f1338f8080-20240426",Z0}var U_;function B2(){if(U_)return vy.exports;U_=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(p){console.error(p)}}return o(),vy.exports=Aw(),vy.exports}var z_;function Sw(){if(z_)return em;z_=1;var o=B2();return em.createRoot=o.createRoot,em.hydrateRoot=o.hydrateRoot,em}var Tw=Sw(),Ke=_g();const al=zm(Ke),n1=xw({__proto__:null,default:al},[Ke]);var wy={exports:{}},Dy,G_;function Mw(){if(G_)return Dy;G_=1;var o="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Dy=o,Dy}var Cy,L_;function Pw(){if(L_)return Cy;L_=1;var o=Mw();function p(){}function d(){}return d.resetWarningCache=p,Cy=function(){function w(A,l,V,q,ue,te){if(te!==o){var ce=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw ce.name="Invariant Violation",ce}}w.isRequired=w;function C(){return w}var E={array:w,bigint:w,bool:w,func:w,number:w,object:w,string:w,symbol:w,any:w,arrayOf:C,element:w,elementType:w,instanceOf:C,node:w,objectOf:C,oneOf:C,oneOfType:C,shape:C,exact:C,checkPropTypes:d,resetWarningCache:p};return E.PropTypes=E,E},Cy}var B_;function Ew(){return B_||(B_=1,wy.exports=Pw()()),wy.exports}var kw=Ew();const Gr=zm(kw);var O_=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),Rw=new Uint8Array(16);function Uw(){if(!O_)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return O_(Rw)}var O2=[];for(var tm=0;tm<256;++tm)O2[tm]=(tm+256).toString(16).substr(1);function zw(o,p){var d=0,w=O2;return[w[o[d++]],w[o[d++]],w[o[d++]],w[o[d++]],"-",w[o[d++]],w[o[d++]],"-",w[o[d++]],w[o[d++]],"-",w[o[d++]],w[o[d++]],"-",w[o[d++]],w[o[d++]],w[o[d++]],w[o[d++]],w[o[d++]],w[o[d++]]].join("")}function Gw(o,p,d){var w=p&&d||0;typeof o=="string"&&(p=o==="binary"?new Array(16):null,o=null),o=o||{};var C=o.random||(o.rng||Uw)();if(C[6]=C[6]&15|64,C[8]=C[8]&63|128,p)for(var E=0;E<16;++E)p[w+E]=C[E];return p||zw(C)}function F_(o,p){var d=Object.keys(o);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(o);p&&(w=w.filter(function(C){return Object.getOwnPropertyDescriptor(o,C).enumerable})),d.push.apply(d,w)}return d}function r1(o){for(var p=1;p<arguments.length;p++){var d=arguments[p]!=null?arguments[p]:{};p%2?F_(Object(d),!0).forEach(function(w){lg(o,w,d[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(d)):F_(Object(d)).forEach(function(w){Object.defineProperty(o,w,Object.getOwnPropertyDescriptor(d,w))})}return o}function Lw(o,p){if(!(o instanceof p))throw new TypeError("Cannot call a class as a function")}function N_(o,p){for(var d=0;d<p.length;d++){var w=p[d];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(o,w.key,w)}}function Bw(o,p,d){return p&&N_(o.prototype,p),d&&N_(o,d),Object.defineProperty(o,"prototype",{writable:!1}),o}function lg(o,p,d){return p in o?Object.defineProperty(o,p,{value:d,enumerable:!0,configurable:!0,writable:!0}):o[p]=d,o}function Dm(){return Dm=Object.assign?Object.assign.bind():function(o){for(var p=1;p<arguments.length;p++){var d=arguments[p];for(var w in d)Object.prototype.hasOwnProperty.call(d,w)&&(o[w]=d[w])}return o},Dm.apply(this,arguments)}function Ow(o,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(p&&p.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),p&&i1(o,p)}function Cm(o){return Cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)},Cm(o)}function i1(o,p){return i1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,C){return w.__proto__=C,w},i1(o,p)}function Fw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Nw(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function $w(o,p){if(p&&(typeof p=="object"||typeof p=="function"))return p;if(p!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nw(o)}function jw(o){var p=Fw();return function(){var w=Cm(o),C;if(p){var E=Cm(this).constructor;C=Reflect.construct(w,arguments,E)}else C=w.apply(this,arguments);return $w(this,C)}}function Vw(o,p){if(o){if(typeof o=="string")return $_(o,p);var d=Object.prototype.toString.call(o).slice(8,-1);if(d==="Object"&&o.constructor&&(d=o.constructor.name),d==="Map"||d==="Set")return Array.from(o);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return $_(o,p)}}function $_(o,p){(p==null||p>o.length)&&(p=o.length);for(var d=0,w=new Array(p);d<p;d++)w[d]=o[d];return w}function Zw(o,p){var d=typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(!d){if(Array.isArray(o)||(d=Vw(o))||p){d&&(o=d);var w=0,C=function(){};return{s:C,n:function(){return w>=o.length?{done:!0}:{done:!1,value:o[w++]}},e:function(V){throw V},f:C}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var E=!0,A=!1,l;return{s:function(){d=d.call(o)},n:function(){var V=d.next();return E=V.done,V},e:function(V){A=!0,l=V},f:function(){try{!E&&d.return!=null&&d.return()}finally{if(A)throw l}}}}var j_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},nm=function(o){return o&&o.Math==Math&&o},fp=nm(typeof globalThis=="object"&&globalThis)||nm(typeof window=="object"&&window)||nm(typeof self=="object"&&self)||nm(typeof j_=="object"&&j_)||function(){return this}()||Function("return this")(),B1={},gp=function(o){try{return!!o()}catch{return!0}},Ww=gp,Qp=!Ww(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),Hw=gp,O1=!Hw(function(){var o=(function(){}).bind();return typeof o!="function"||o.hasOwnProperty("prototype")}),qw=O1,rm=Function.prototype.call,F1=qw?rm.bind(rm):function(){return rm.apply(rm,arguments)},F2={},N2={}.propertyIsEnumerable,$2=Object.getOwnPropertyDescriptor,Kw=$2&&!N2.call({1:2},1);F2.f=Kw?function(p){var d=$2(this,p);return!!d&&d.enumerable}:N2;var j2=function(o,p){return{enumerable:!(o&1),configurable:!(o&2),writable:!(o&4),value:p}},V2=O1,Z2=Function.prototype,a1=Z2.call,Xw=V2&&Z2.bind.bind(a1,a1),W2=function(o){return V2?Xw(o):function(){return a1.apply(o,arguments)}},H2=W2,Yw=H2({}.toString),Qw=H2("".slice),Gm=function(o){return Qw(Yw(o),8,-1)},Jw=Gm,eD=W2,Eh=function(o){if(Jw(o)==="Function")return eD(o)},tD=Eh,nD=gp,rD=Gm,Iy=Object,iD=tD("".split),q2=nD(function(){return!Iy("z").propertyIsEnumerable(0)})?function(o){return rD(o)=="String"?iD(o,""):Iy(o)}:Iy,K2=function(o){return o==null},aD=K2,oD=TypeError,X2=function(o){if(aD(o))throw oD("Can't call method on "+o);return o},sD=q2,lD=X2,Lm=function(o){return sD(lD(o))},o1=typeof document=="object"&&document.all,uD=typeof o1>"u"&&o1!==void 0,Y2={all:o1,IS_HTMLDDA:uD},Q2=Y2,cD=Q2.all,pc=Q2.IS_HTMLDDA?function(o){return typeof o=="function"||o===cD}:function(o){return typeof o=="function"},V_=pc,J2=Y2,hD=J2.all,vg=J2.IS_HTMLDDA?function(o){return typeof o=="object"?o!==null:V_(o)||o===hD}:function(o){return typeof o=="object"?o!==null:V_(o)},Ay=fp,pD=pc,dD=function(o){return pD(o)?o:void 0},xg=function(o,p){return arguments.length<2?dD(Ay[o]):Ay[o]&&Ay[o][p]},fD=Eh,gD=fD({}.isPrototypeOf),mD=xg,yD=mD("navigator","userAgent")||"",ex=fp,Sy=yD,Z_=ex.process,W_=ex.Deno,H_=Z_&&Z_.versions||W_&&W_.version,q_=H_&&H_.v8,Oc,Im;q_&&(Oc=q_.split("."),Im=Oc[0]>0&&Oc[0]<4?1:+(Oc[0]+Oc[1]));!Im&&Sy&&(Oc=Sy.match(/Edge\/(\d+)/),(!Oc||Oc[1]>=74)&&(Oc=Sy.match(/Chrome\/(\d+)/),Oc&&(Im=+Oc[1])));var _D=Im,K_=_D,vD=gp,tx=!!Object.getOwnPropertySymbols&&!vD(function(){var o=Symbol();return!String(o)||!(Object(o)instanceof Symbol)||!Symbol.sham&&K_&&K_<41}),xD=tx,nx=xD&&!Symbol.sham&&typeof Symbol.iterator=="symbol",bD=xg,wD=pc,DD=gD,CD=nx,ID=Object,rx=CD?function(o){return typeof o=="symbol"}:function(o){var p=bD("Symbol");return wD(p)&&DD(p.prototype,ID(o))},AD=String,SD=function(o){try{return AD(o)}catch{return"Object"}},TD=pc,MD=SD,PD=TypeError,ix=function(o){if(TD(o))return o;throw PD(MD(o)+" is not a function")},ED=ix,kD=K2,RD=function(o,p){var d=o[p];return kD(d)?void 0:ED(d)},Ty=F1,My=pc,Py=vg,UD=TypeError,zD=function(o,p){var d,w;if(p==="string"&&My(d=o.toString)&&!Py(w=Ty(d,o))||My(d=o.valueOf)&&!Py(w=Ty(d,o))||p!=="string"&&My(d=o.toString)&&!Py(w=Ty(d,o)))return w;throw UD("Can't convert object to primitive value")},N1={exports:{}},X_=fp,GD=Object.defineProperty,$1=function(o,p){try{GD(X_,o,{value:p,configurable:!0,writable:!0})}catch{X_[o]=p}return p},LD=fp,BD=$1,Y_="__core-js_shared__",OD=LD[Y_]||BD(Y_,{}),j1=OD,Q_=j1;(N1.exports=function(o,p){return Q_[o]||(Q_[o]=p!==void 0?p:{})})("versions",[]).push({version:"3.25.5",mode:"global",copyright:" 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.5/LICENSE",source:"https://github.com/zloirock/core-js"});var FD=X2,ND=Object,ax=function(o){return ND(FD(o))},$D=Eh,jD=ax,VD=$D({}.hasOwnProperty),Ud=Object.hasOwn||function(p,d){return VD(jD(p),d)},ZD=Eh,WD=0,HD=Math.random(),qD=ZD(1 .toString),ox=function(o){return"Symbol("+(o===void 0?"":o)+")_"+qD(++WD+HD,36)},KD=fp,XD=N1.exports,J_=Ud,YD=ox,ev=tx,sx=nx,rf=XD("wks"),Ed=KD.Symbol,tv=Ed&&Ed.for,QD=sx?Ed:Ed&&Ed.withoutSetter||YD,bg=function(o){if(!J_(rf,o)||!(ev||typeof rf[o]=="string")){var p="Symbol."+o;ev&&J_(Ed,o)?rf[o]=Ed[o]:sx&&tv?rf[o]=tv(p):rf[o]=QD(p)}return rf[o]},JD=F1,nv=vg,rv=rx,eC=RD,tC=zD,nC=bg,rC=TypeError,iC=nC("toPrimitive"),aC=function(o,p){if(!nv(o)||rv(o))return o;var d=eC(o,iC),w;if(d){if(p===void 0&&(p="default"),w=JD(d,o,p),!nv(w)||rv(w))return w;throw rC("Can't convert object to primitive value")}return p===void 0&&(p="number"),tC(o,p)},oC=aC,sC=rx,lx=function(o){var p=oC(o,"string");return sC(p)?p:p+""},lC=fp,iv=vg,s1=lC.document,uC=iv(s1)&&iv(s1.createElement),ux=function(o){return uC?s1.createElement(o):{}},cC=Qp,hC=gp,pC=ux,cx=!cC&&!hC(function(){return Object.defineProperty(pC("div"),"a",{get:function(){return 7}}).a!=7}),dC=Qp,fC=F1,gC=F2,mC=j2,yC=Lm,_C=lx,vC=Ud,xC=cx,av=Object.getOwnPropertyDescriptor;B1.f=dC?av:function(p,d){if(p=yC(p),d=_C(d),xC)try{return av(p,d)}catch{}if(vC(p,d))return mC(!fC(gC.f,p,d),p[d])};var bf={},bC=Qp,wC=gp,hx=bC&&wC(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),DC=vg,CC=String,IC=TypeError,Bm=function(o){if(DC(o))return o;throw IC(CC(o)+" is not an object")},AC=Qp,SC=cx,TC=hx,im=Bm,ov=lx,MC=TypeError,Ey=Object.defineProperty,PC=Object.getOwnPropertyDescriptor,ky="enumerable",Ry="configurable",Uy="writable";bf.f=AC?TC?function(p,d,w){if(im(p),d=ov(d),im(w),typeof p=="function"&&d==="prototype"&&"value"in w&&Uy in w&&!w[Uy]){var C=PC(p,d);C&&C[Uy]&&(p[d]=w.value,w={configurable:Ry in w?w[Ry]:C[Ry],enumerable:ky in w?w[ky]:C[ky],writable:!1})}return Ey(p,d,w)}:Ey:function(p,d,w){if(im(p),d=ov(d),im(w),SC)try{return Ey(p,d,w)}catch{}if("get"in w||"set"in w)throw MC("Accessors not supported");return"value"in w&&(p[d]=w.value),p};var EC=Qp,kC=bf,RC=j2,px=EC?function(o,p,d){return kC.f(o,p,RC(1,d))}:function(o,p,d){return o[p]=d,o},dx={exports:{}},l1=Qp,UC=Ud,fx=Function.prototype,zC=l1&&Object.getOwnPropertyDescriptor,GC=UC(fx,"name"),LC=GC&&(!l1||l1&&zC(fx,"name").configurable),BC={CONFIGURABLE:LC},OC=Eh,FC=pc,u1=j1,NC=OC(Function.toString);FC(u1.inspectSource)||(u1.inspectSource=function(o){return NC(o)});var gx=u1.inspectSource,$C=fp,jC=pc,sv=$C.WeakMap,VC=jC(sv)&&/native code/.test(String(sv)),ZC=N1.exports,WC=ox,lv=ZC("keys"),mx=function(o){return lv[o]||(lv[o]=WC(o))},V1={},HC=VC,yx=fp,qC=px,zy=Ud,Gy=j1,KC=mx,XC=V1,uv="Object already initialized",cv=yx.TypeError,YC=yx.WeakMap,c1,Am,h1,QC=function(o){return h1(o)?Am(o):c1(o,{})};if(HC||Gy.state){var Ch=Gy.state||(Gy.state=new YC);Ch.get=Ch.get,Ch.has=Ch.has,Ch.set=Ch.set,c1=function(o,p){if(Ch.has(o))throw cv(uv);return p.facade=o,Ch.set(o,p),p},Am=function(o){return Ch.get(o)||{}},h1=function(o){return Ch.has(o)}}else{var af=KC("state");XC[af]=!0,c1=function(o,p){if(zy(o,af))throw cv(uv);return p.facade=o,qC(o,af,p),p},Am=function(o){return zy(o,af)?o[af]:{}},h1=function(o){return zy(o,af)}}var JC={get:Am,enforce:QC},e3=gp,t3=pc,am=Ud,p1=Qp,n3=BC.CONFIGURABLE,r3=gx,_x=JC,i3=_x.enforce,a3=_x.get,gm=Object.defineProperty,o3=p1&&!e3(function(){return gm(function(){},"length",{value:8}).length!==8}),s3=String(String).split("String"),l3=dx.exports=function(o,p,d){String(p).slice(0,7)==="Symbol("&&(p="["+String(p).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),d&&d.getter&&(p="get "+p),d&&d.setter&&(p="set "+p),(!am(o,"name")||n3&&o.name!==p)&&(p1?gm(o,"name",{value:p,configurable:!0}):o.name=p),o3&&d&&am(d,"arity")&&o.length!==d.arity&&gm(o,"length",{value:d.arity});try{d&&am(d,"constructor")&&d.constructor?p1&&gm(o,"prototype",{writable:!1}):o.prototype&&(o.prototype=void 0)}catch{}var w=i3(o);return am(w,"source")||(w.source=s3.join(typeof p=="string"?p:"")),o};Function.prototype.toString=l3(function(){return t3(this)&&a3(this).source||r3(this)},"toString");var u3=pc,c3=bf,h3=dx.exports,p3=$1,d3=function(o,p,d,w){w||(w={});var C=w.enumerable,E=w.name!==void 0?w.name:p;if(u3(d)&&h3(d,E,w),w.global)C?o[p]=d:p3(p,d);else{try{w.unsafe?o[p]&&(C=!0):delete o[p]}catch{}C?o[p]=d:c3.f(o,p,{value:d,enumerable:!1,configurable:!w.nonConfigurable,writable:!w.nonWritable})}return o},vx={},f3=Math.ceil,g3=Math.floor,m3=Math.trunc||function(p){var d=+p;return(d>0?g3:f3)(d)},y3=m3,xx=function(o){var p=+o;return p!==p||p===0?0:y3(p)},_3=xx,v3=Math.max,x3=Math.min,b3=function(o,p){var d=_3(o);return d<0?v3(d+p,0):x3(d,p)},w3=xx,D3=Math.min,C3=function(o){return o>0?D3(w3(o),9007199254740991):0},I3=C3,bx=function(o){return I3(o.length)},A3=Lm,S3=b3,T3=bx,M3=function(o){return function(p,d,w){var C=A3(p),E=T3(C),A=S3(w,E),l;if(o&&d!=d){for(;E>A;)if(l=C[A++],l!=l)return!0}else for(;E>A;A++)if((o||A in C)&&C[A]===d)return o||A||0;return!o&&-1}},P3={indexOf:M3(!1)},E3=Eh,Ly=Ud,k3=Lm,R3=P3.indexOf,U3=V1,hv=E3([].push),wx=function(o,p){var d=k3(o),w=0,C=[],E;for(E in d)!Ly(U3,E)&&Ly(d,E)&&hv(C,E);for(;p.length>w;)Ly(d,E=p[w++])&&(~R3(C,E)||hv(C,E));return C},Z1=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],z3=wx,G3=Z1,L3=G3.concat("length","prototype");vx.f=Object.getOwnPropertyNames||function(p){return z3(p,L3)};var Dx={};Dx.f=Object.getOwnPropertySymbols;var B3=xg,O3=Eh,F3=vx,N3=Dx,$3=Bm,j3=O3([].concat),V3=B3("Reflect","ownKeys")||function(p){var d=F3.f($3(p)),w=N3.f;return w?j3(d,w(p)):d},pv=Ud,Z3=V3,W3=B1,H3=bf,q3=function(o,p,d){for(var w=Z3(p),C=H3.f,E=W3.f,A=0;A<w.length;A++){var l=w[A];!pv(o,l)&&!(d&&pv(d,l))&&C(o,l,E(p,l))}},K3=gp,X3=pc,Y3=/#|\.prototype\./,wg=function(o,p){var d=J3[Q3(o)];return d==tI?!0:d==eI?!1:X3(p)?K3(p):!!p},Q3=wg.normalize=function(o){return String(o).replace(Y3,".").toLowerCase()},J3=wg.data={},eI=wg.NATIVE="N",tI=wg.POLYFILL="P",nI=wg,By=fp,rI=B1.f,iI=px,aI=d3,oI=$1,sI=q3,lI=nI,uI=function(o,p){var d=o.target,w=o.global,C=o.stat,E,A,l,V,q,ue;if(w?A=By:C?A=By[d]||oI(d,{}):A=(By[d]||{}).prototype,A)for(l in p){if(q=p[l],o.dontCallGetSet?(ue=rI(A,l),V=ue&&ue.value):V=A[l],E=lI(w?l:d+(C?".":"#")+l,o.forced),!E&&V!==void 0){if(typeof q==typeof V)continue;sI(q,V)}(o.sham||V&&V.sham)&&iI(q,"sham",!0),aI(A,l,q,o)}},dv=Eh,cI=ix,hI=O1,pI=dv(dv.bind),dI=function(o,p){return cI(o),p===void 0?o:hI?pI(o,p):function(){return o.apply(p,arguments)}},fI=Gm,gI=Array.isArray||function(p){return fI(p)=="Array"},mI=bg,yI=mI("toStringTag"),Cx={};Cx[yI]="z";var _I=String(Cx)==="[object z]",vI=_I,xI=pc,mm=Gm,bI=bg,wI=bI("toStringTag"),DI=Object,CI=mm(function(){return arguments}())=="Arguments",II=function(o,p){try{return o[p]}catch{}},AI=vI?mm:function(o){var p,d,w;return o===void 0?"Undefined":o===null?"Null":typeof(d=II(p=DI(o),wI))=="string"?d:CI?mm(p):(w=mm(p))=="Object"&&xI(p.callee)?"Arguments":w},SI=Eh,TI=gp,Ix=pc,MI=AI,PI=xg,EI=gx,Ax=function(){},kI=[],Sx=PI("Reflect","construct"),W1=/^\s*(?:class|function)\b/,RI=SI(W1.exec),UI=!W1.exec(Ax),qf=function(p){if(!Ix(p))return!1;try{return Sx(Ax,kI,p),!0}catch{return!1}},Tx=function(p){if(!Ix(p))return!1;switch(MI(p)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return UI||!!RI(W1,EI(p))}catch{return!0}};Tx.sham=!0;var zI=!Sx||TI(function(){var o;return qf(qf.call)||!qf(Object)||!qf(function(){o=!0})||o})?Tx:qf,fv=gI,GI=zI,LI=vg,BI=bg,OI=BI("species"),gv=Array,FI=function(o){var p;return fv(o)&&(p=o.constructor,GI(p)&&(p===gv||fv(p.prototype))?p=void 0:LI(p)&&(p=p[OI],p===null&&(p=void 0))),p===void 0?gv:p},NI=FI,$I=function(o,p){return new(NI(o))(p===0?0:p)},jI=dI,VI=Eh,ZI=q2,WI=ax,HI=bx,qI=$I,mv=VI([].push),KI=function(o){var p=o==1,d=o==2,w=o==3,C=o==4,E=o==6,A=o==7,l=o==5||E;return function(V,q,ue,te){for(var ce=WI(V),oe=ZI(ce),de=jI(q,ue),xe=HI(oe),Pe=0,He=te||qI,rt=p?He(V,xe):d||A?He(V,0):void 0,ze,Me;xe>Pe;Pe++)if((l||Pe in oe)&&(ze=oe[Pe],Me=de(ze,Pe,ce),o))if(p)rt[Pe]=Me;else if(Me)switch(o){case 3:return!0;case 5:return ze;case 6:return Pe;case 2:mv(rt,ze)}else switch(o){case 4:return!1;case 7:mv(rt,ze)}return E?-1:w||C?C:rt}},XI={find:KI(5)},Mx={},YI=wx,QI=Z1,JI=Object.keys||function(p){return YI(p,QI)},eA=Qp,tA=hx,nA=bf,rA=Bm,iA=Lm,aA=JI;Mx.f=eA&&!tA?Object.defineProperties:function(p,d){rA(p);for(var w=iA(d),C=aA(d),E=C.length,A=0,l;E>A;)nA.f(p,l=C[A++],w[l]);return p};var oA=xg,sA=oA("document","documentElement"),lA=Bm,uA=Mx,yv=Z1,cA=V1,hA=sA,pA=ux,dA=mx,_v=">",vv="<",d1="prototype",f1="script",Px=dA("IE_PROTO"),Oy=function(){},Ex=function(o){return vv+f1+_v+o+vv+"/"+f1+_v},xv=function(o){o.write(Ex("")),o.close();var p=o.parentWindow.Object;return o=null,p},fA=function(){var o=pA("iframe"),p="java"+f1+":",d;return o.style.display="none",hA.appendChild(o),o.src=String(p),d=o.contentWindow.document,d.open(),d.write(Ex("document.F=Object")),d.close(),d.F},om,ym=function(){try{om=new ActiveXObject("htmlfile")}catch{}ym=typeof document<"u"?document.domain&&om?xv(om):fA():xv(om);for(var o=yv.length;o--;)delete ym[d1][yv[o]];return ym()};cA[Px]=!0;var gA=Object.create||function(p,d){var w;return p!==null?(Oy[d1]=lA(p),w=new Oy,Oy[d1]=null,w[Px]=p):w=ym(),d===void 0?w:uA.f(w,d)},mA=bg,yA=gA,_A=bf.f,g1=mA("unscopables"),m1=Array.prototype;m1[g1]==null&&_A(m1,g1,{configurable:!0,value:yA(null)});var vA=function(o){m1[g1][o]=!0},xA=uI,bA=XI.find,wA=vA,y1="find",kx=!0;y1 in[]&&Array(1)[y1](function(){kx=!1});xA({target:"Array",proto:!0,forced:kx},{find:function(p){return bA(this,p,arguments.length>1?arguments[1]:void 0)}});wA(y1);var uc={GLOBAL:{HIDE:"__react_tooltip_hide_event",REBUILD:"__react_tooltip_rebuild_event",SHOW:"__react_tooltip_show_event"}},Fy=function(p,d){var w;typeof window.CustomEvent=="function"?w=new window.CustomEvent(p,{detail:d}):(w=document.createEvent("Event"),w.initEvent(p,!1,!0,d)),window.dispatchEvent(w)};function DA(o){o.hide=function(p){Fy(uc.GLOBAL.HIDE,{target:p})},o.rebuild=function(){Fy(uc.GLOBAL.REBUILD)},o.show=function(p){Fy(uc.GLOBAL.SHOW,{target:p})},o.prototype.globalRebuild=function(){this.mount&&(this.unbindListener(),this.bindListener())},o.prototype.globalShow=function(p){if(this.mount){var d=p&&p.detail&&p.detail.target&&!0||!1;this.showTooltip({currentTarget:d&&p.detail.target},!0)}},o.prototype.globalHide=function(p){if(this.mount){var d=p&&p.detail&&p.detail.target&&!0||!1;this.hideTooltip({currentTarget:d&&p.detail.target},d)}}}function CA(o){o.prototype.bindWindowEvents=function(p){window.removeEventListener(uc.GLOBAL.HIDE,this.globalHide),window.addEventListener(uc.GLOBAL.HIDE,this.globalHide,!1),window.removeEventListener(uc.GLOBAL.REBUILD,this.globalRebuild),window.addEventListener(uc.GLOBAL.REBUILD,this.globalRebuild,!1),window.removeEventListener(uc.GLOBAL.SHOW,this.globalShow),window.addEventListener(uc.GLOBAL.SHOW,this.globalShow,!1),p&&(window.removeEventListener("resize",this.onWindowResize),window.addEventListener("resize",this.onWindowResize,!1))},o.prototype.unbindWindowEvents=function(){window.removeEventListener(uc.GLOBAL.HIDE,this.globalHide),window.removeEventListener(uc.GLOBAL.REBUILD,this.globalRebuild),window.removeEventListener(uc.GLOBAL.SHOW,this.globalShow),window.removeEventListener("resize",this.onWindowResize)},o.prototype.onWindowResize=function(){this.mount&&this.hideTooltip()}}var Rx=function(p,d){var w=this.state.show,C=this.props.id,E=this.isCapture(d.currentTarget),A=d.currentTarget.getAttribute("currentItem");E||d.stopPropagation(),w&&A==="true"?p||this.hideTooltip(d):(d.currentTarget.setAttribute("currentItem","true"),IA(d.currentTarget,this.getTargetArray(C)),this.showTooltip(d))},IA=function(p,d){for(var w=0;w<d.length;w++)p!==d[w]?d[w].setAttribute("currentItem","false"):d[w].setAttribute("currentItem","true")},Ny={id:"9b69f92e-d3fe-498b-b1b4-c5e63a51b0cf",set:function(p,d,w){if(this.id in p){var C=p[this.id];C[d]=w}else Object.defineProperty(p,this.id,{configurable:!0,value:lg({},d,w)})},get:function(p,d){var w=p[this.id];if(w!==void 0)return w[d]}};function AA(o){o.prototype.isCustomEvent=function(p){var d=this.state.event;return d||!!p.getAttribute("data-event")},o.prototype.customBindListener=function(p){var d=this,w=this.state,C=w.event,E=w.eventOff,A=p.getAttribute("data-event")||C,l=p.getAttribute("data-event-off")||E;A.split(" ").forEach(function(V){p.removeEventListener(V,Ny.get(p,V));var q=Rx.bind(d,l);Ny.set(p,V,q),p.addEventListener(V,q,!1)}),l&&l.split(" ").forEach(function(V){p.removeEventListener(V,d.hideTooltip),p.addEventListener(V,d.hideTooltip,!1)})},o.prototype.customUnbindListener=function(p){var d=this.state,w=d.event,C=d.eventOff,E=w||p.getAttribute("data-event"),A=C||p.getAttribute("data-event-off");p.removeEventListener(E,Ny.get(p,w)),A&&p.removeEventListener(A,this.hideTooltip)}}function SA(o){o.prototype.isCapture=function(p){return p&&p.getAttribute("data-iscapture")==="true"||this.props.isCapture||!1}}function TA(o){o.prototype.getEffect=function(p){var d=p.getAttribute("data-effect");return d||this.props.effect||"float"}}var MA=function(p){var d={};for(var w in p)typeof p[w]=="function"?d[w]=p[w].bind(p):d[w]=p[w];return d},Kf=function(p,d,w){for(var C=d.respectEffect,E=C===void 0?!1:C,A=d.customEvent,l=A===void 0?!1:A,V=this.props.id,q=null,ue,te=w.target,ce;q===null&&te!==null;)ce=te,q=te.getAttribute("data-tip")||null,ue=te.getAttribute("data-for")||null,te=te.parentElement;if(te=ce||w.target,!(this.isCustomEvent(te)&&!l)){var oe=V==null&&ue==null||ue===V;if(q!=null&&(!E||this.getEffect(te)==="float")&&oe){var de=MA(w);de.currentTarget=te,p(de)}}},bv=function(p,d){var w={};return p.forEach(function(C){var E=C.getAttribute(d);E&&E.split(" ").forEach(function(A){return w[A]=!0})}),w},wv=function(){return document.getElementsByTagName("body")[0]};function PA(o){o.prototype.isBodyMode=function(){return!!this.props.bodyMode},o.prototype.bindBodyListener=function(p){var d=this,w=this.state,C=w.event,E=w.eventOff,A=w.possibleCustomEvents,l=w.possibleCustomEventsOff,V=wv(),q=bv(p,"data-event"),ue=bv(p,"data-event-off");C!=null&&(q[C]=!0),E!=null&&(ue[E]=!0),A.split(" ").forEach(function(xe){return q[xe]=!0}),l.split(" ").forEach(function(xe){return ue[xe]=!0}),this.unbindBodyListener(V);var te=this.bodyModeListeners={};C==null&&(te.mouseover=Kf.bind(this,this.showTooltip,{}),te.mousemove=Kf.bind(this,this.updateTooltip,{respectEffect:!0}),te.mouseout=Kf.bind(this,this.hideTooltip,{}));for(var ce in q)te[ce]=Kf.bind(this,function(xe){var Pe=xe.currentTarget.getAttribute("data-event-off")||E;Rx.call(d,Pe,xe)},{customEvent:!0});for(var oe in ue)te[oe]=Kf.bind(this,this.hideTooltip,{customEvent:!0});for(var de in te)V.addEventListener(de,te[de])},o.prototype.unbindBodyListener=function(p){p=p||wv();var d=this.bodyModeListeners;for(var w in d)p.removeEventListener(w,d[w])}}var EA=function(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver};function kA(o){o.prototype.bindRemovalTracker=function(){var p=this,d=EA();if(d!=null){var w=new d(function(C){for(var E=0;E<C.length;E++)for(var A=C[E],l=0;l<A.removedNodes.length;l++){var V=A.removedNodes[l];if(V===p.state.currentTarget){p.hideTooltip();return}}});w.observe(window.document,{childList:!0,subtree:!0}),this.removalTracker=w}},o.prototype.unbindRemovalTracker=function(){this.removalTracker&&(this.removalTracker.disconnect(),this.removalTracker=null)}}function Dv(o,p,d,w,C,E,A){var l=_1(d),V=l.width,q=l.height,ue=_1(p),te=ue.width,ce=ue.height,oe=RA(o,p,E),de=oe.mouseX,xe=oe.mouseY,Pe=UA(E,te,ce,V,q),He=zA(A),rt=He.extraOffsetX,ze=He.extraOffsetY,Me=window.innerWidth,Ge=window.innerHeight,je=GA(d),ot=je.parentTop,Pt=je.parentLeft,Jt=function(kt){var gn=Pe[kt].l;return de+gn+rt},ye=function(kt){var gn=Pe[kt].r;return de+gn+rt},Dt=function(kt){var gn=Pe[kt].t;return xe+gn+ze},Mt=function(kt){var gn=Pe[kt].b;return xe+gn+ze},Wt=function(kt){return Jt(kt)<0},Vt=function(kt){return ye(kt)>Me},Nt=function(kt){return Dt(kt)<0},$t=function(kt){return Mt(kt)>Ge},dn=function(kt){return Wt(kt)||Vt(kt)||Nt(kt)||$t(kt)},yt=function(kt){return!dn(kt)},mt={top:yt("top"),bottom:yt("bottom"),left:yt("left"),right:yt("right")};function Ot(){var cn=C.split(",").concat(w,["top","bottom","left","right"]),kt=Zw(cn),gn;try{for(kt.s();!(gn=kt.n()).done;){var wn=gn.value;if(mt[wn])return wn}}catch(Fn){kt.e(Fn)}finally{kt.f()}return w}var We=Ot(),St=!1,mn;return We&&We!==w&&(St=!0,mn=We),St?{isNewState:!0,newState:{place:mn}}:{isNewState:!1,position:{left:parseInt(Jt(w)-Pt,10),top:parseInt(Dt(w)-ot,10)}}}var _1=function(p){var d=p.getBoundingClientRect(),w=d.height,C=d.width;return{height:parseInt(w,10),width:parseInt(C,10)}},RA=function(p,d,w){var C=d.getBoundingClientRect(),E=C.top,A=C.left,l=_1(d),V=l.width,q=l.height;return w==="float"?{mouseX:p.clientX,mouseY:p.clientY}:{mouseX:A+V/2,mouseY:E+q/2}},UA=function(p,d,w,C,E){var A,l,V,q,ue=3,te=2,ce=12;return p==="float"?(A={l:-(C/2),r:C/2,t:-(E+ue+te),b:-3},V={l:-(C/2),r:C/2,t:ue+ce,b:E+ue+te+ce},q={l:-(C+ue+te),r:-3,t:-(E/2),b:E/2},l={l:ue,r:C+ue+te,t:-(E/2),b:E/2}):p==="solid"&&(A={l:-(C/2),r:C/2,t:-(w/2+E+te),b:-(w/2)},V={l:-(C/2),r:C/2,t:w/2,b:w/2+E+te},q={l:-(C+d/2+te),r:-(d/2),t:-(E/2),b:E/2},l={l:d/2,r:C+d/2+te,t:-(E/2),b:E/2}),{top:A,bottom:V,left:q,right:l}},zA=function(p){var d=0,w=0;Object.prototype.toString.apply(p)==="[object String]"&&(p=JSON.parse(p.toString().replace(/'/g,'"')));for(var C in p)C==="top"?w-=parseInt(p[C],10):C==="bottom"?w+=parseInt(p[C],10):C==="left"?d-=parseInt(p[C],10):C==="right"&&(d+=parseInt(p[C],10));return{extraOffsetX:d,extraOffsetY:w}},GA=function(p){for(var d=p;d;){var w=window.getComputedStyle(d);if(w.getPropertyValue("transform")!=="none"||w.getPropertyValue("will-change")==="transform")break;d=d.parentElement}var C=d&&d.getBoundingClientRect().top||0,E=d&&d.getBoundingClientRect().left||0;return{parentTop:C,parentLeft:E}};function Cv(o,p,d,w){if(p)return p;if(d!=null)return d;if(d===null)return null;var C=/<br\s*\/?>/;return!w||w==="false"||!C.test(o)?o:o.split(C).map(function(E,A){return al.createElement("span",{key:A,className:"multi-line"},E)})}function Iv(o){var p={};return Object.keys(o).filter(function(d){return/(^aria-\w+$|^role$)/.test(d)}).forEach(function(d){p[d]=o[d]}),p}function $y(o){var p=o.length;return o.hasOwnProperty?Array.prototype.slice.call(o):new Array(p).fill().map(function(d){return o[d]})}function LA(){return"t"+Gw()}var BA=`.__react_component_tooltip {
  border-radius: 3px;
  display: inline-block;
  font-size: 13px;
  left: -999em;
  opacity: 0;
  position: fixed;
  pointer-events: none;
  transition: opacity 0.3s ease-out;
  top: -999em;
  visibility: hidden;
  z-index: 999;
}
.__react_component_tooltip.allow_hover, .__react_component_tooltip.allow_click {
  pointer-events: auto;
}
.__react_component_tooltip::before, .__react_component_tooltip::after {
  content: "";
  width: 0;
  height: 0;
  position: absolute;
}
.__react_component_tooltip.show {
  opacity: 0.9;
  margin-top: 0;
  margin-left: 0;
  visibility: visible;
}
.__react_component_tooltip.place-top::before {
  bottom: 0;
  left: 50%;
  margin-left: -11px;
}
.__react_component_tooltip.place-bottom::before {
  top: 0;
  left: 50%;
  margin-left: -11px;
}
.__react_component_tooltip.place-left::before {
  right: 0;
  top: 50%;
  margin-top: -9px;
}
.__react_component_tooltip.place-right::before {
  left: 0;
  top: 50%;
  margin-top: -9px;
}
.__react_component_tooltip .multi-line {
  display: block;
  padding: 2px 0;
  text-align: center;
}`,Av={dark:{text:"#fff",background:"#222",border:"transparent",arrow:"#222"},success:{text:"#fff",background:"#8DC572",border:"transparent",arrow:"#8DC572"},warning:{text:"#fff",background:"#F0AD4E",border:"transparent",arrow:"#F0AD4E"},error:{text:"#fff",background:"#BE6464",border:"transparent",arrow:"#BE6464"},info:{text:"#fff",background:"#337AB7",border:"transparent",arrow:"#337AB7"},light:{text:"#222",background:"#fff",border:"transparent",arrow:"#fff"}};function OA(o){return Av[o]?r1({},Av[o]):void 0}var FA="8px 21px",NA={tooltip:3,arrow:0};function $A(o,p,d,w,C,E){return jA(o,VA(p,d,w),C,E)}function jA(o,p){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:FA,w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:NA,C=p.text,E=p.background,A=p.border,l=p.arrow,V=w.arrow,q=w.tooltip;return`
  	.`.concat(o,` {
	    color: `).concat(C,`;
	    background: `).concat(E,`;
	    border: 1px solid `).concat(A,`;
	    border-radius: `).concat(q,`px;
	    padding: `).concat(d,`;
  	}

  	.`).concat(o,`.place-top {
        margin-top: -10px;
    }
    .`).concat(o,`.place-top::before {
        content: "";
        background-color: inherit;
        position: absolute;
        z-index: 2;
        width: 20px;
        height: 12px;
    }
    .`).concat(o,`.place-top::after {
        content: "";
        position: absolute;
        width: 10px;
        height: 10px;
        border-top-right-radius: `).concat(V,`px;
        border: 1px solid `).concat(A,`;
        background-color: `).concat(l,`;
        z-index: -2;
        bottom: -6px;
        left: 50%;
        margin-left: -6px;
        transform: rotate(135deg);
    }

    .`).concat(o,`.place-bottom {
        margin-top: 10px;
    }
    .`).concat(o,`.place-bottom::before {
        content: "";
        background-color: inherit;
        position: absolute;
        z-index: -1;
        width: 18px;
        height: 10px;
    }
    .`).concat(o,`.place-bottom::after {
        content: "";
        position: absolute;
        width: 10px;
        height: 10px;
        border-top-right-radius: `).concat(V,`px;
        border: 1px solid `).concat(A,`;
        background-color: `).concat(l,`;
        z-index: -2;
        top: -6px;
        left: 50%;
        margin-left: -6px;
        transform: rotate(45deg);
    }

    .`).concat(o,`.place-left {
        margin-left: -10px;
    }
    .`).concat(o,`.place-left::before {
        content: "";
        background-color: inherit;
        position: absolute;
        z-index: -1;
        width: 10px;
        height: 18px;
    }
    .`).concat(o,`.place-left::after {
        content: "";
        position: absolute;
        width: 10px;
        height: 10px;
        border-top-right-radius: `).concat(V,`px;
        border: 1px solid `).concat(A,`;
        background-color: `).concat(l,`;
        z-index: -2;
        right: -6px;
        top: 50%;
        margin-top: -6px;
        transform: rotate(45deg);
    }

    .`).concat(o,`.place-right {
        margin-left: 10px;
    }
    .`).concat(o,`.place-right::before {
        content: "";
        background-color: inherit;
        position: absolute;
        z-index: -1;
        width: 10px;
        height: 18px;
    }
    .`).concat(o,`.place-right::after {
        content: "";
        position: absolute;
        width: 10px;
        height: 10px;
        border-top-right-radius: `).concat(V,`px;
        border: 1px solid `).concat(A,`;
        background-color: `).concat(l,`;
        z-index: -2;
        left: -6px;
        top: 50%;
        margin-top: -6px;
        transform: rotate(-135deg);
    }
  `)}function VA(o,p,d){var w=o.text,C=o.background,E=o.border,A=o.arrow?o.arrow:o.background,l=OA(p);return w&&(l.text=w),C&&(l.background=C),d&&(E?l.border=E:l.border=p==="light"?"black":"white"),A&&(l.arrow=A),l}var W0,Xf,ZA=DA(W0=CA(W0=AA(W0=SA(W0=TA(W0=PA(W0=kA(W0=(Xf=function(o){Ow(d,o);var p=jw(d);function d(w){var C;return Lw(this,d),C=p.call(this,w),C.state={uuid:w.uuid||LA(),place:w.place||"top",desiredPlace:w.place||"top",type:w.type||"dark",effect:w.effect||"float",show:!1,border:!1,borderClass:"border",customColors:{},customRadius:{},offset:{},padding:w.padding,extraClass:"",html:!1,delayHide:0,delayShow:0,event:w.event||null,eventOff:w.eventOff||null,currentEvent:null,currentTarget:null,ariaProps:Iv(w),isEmptyTip:!1,disable:!1,possibleCustomEvents:w.possibleCustomEvents||"",possibleCustomEventsOff:w.possibleCustomEventsOff||"",originTooltip:null,isMultiline:!1},C.bind(["showTooltip","updateTooltip","hideTooltip","hideTooltipOnScroll","getTooltipContent","globalRebuild","globalShow","globalHide","onWindowResize","mouseOnToolTip"]),C.mount=!0,C.delayShowLoop=null,C.delayHideLoop=null,C.delayReshow=null,C.intervalUpdateContent=null,C}return Bw(d,[{key:"bind",value:function(C){var E=this;C.forEach(function(A){E[A]=E[A].bind(E)})}},{key:"componentDidMount",value:function(){var C=this.props;C.insecure;var E=C.resizeHide,A=C.disableInternalStyle;this.mount=!0,this.bindListener(),this.bindWindowEvents(E),A||this.injectStyles()}},{key:"componentWillUnmount",value:function(){this.mount=!1,this.clearTimer(),this.unbindListener(),this.removeScrollListener(this.state.currentTarget),this.unbindWindowEvents()}},{key:"injectStyles",value:function(){var C=this.tooltipRef;if(C){for(var E=C.parentNode;E.parentNode;)E=E.parentNode;var A;switch(E.constructor.name){case"Document":case"HTMLDocument":case void 0:A=E.head;break;case"ShadowRoot":default:A=E;break}if(!A.querySelector("style[data-react-tooltip]")){var l=document.createElement("style");l.textContent=BA,l.setAttribute("data-react-tooltip","true"),A.appendChild(l)}}}},{key:"mouseOnToolTip",value:function(){var C=this.state.show;return C&&this.tooltipRef?(this.tooltipRef.matches||(this.tooltipRef.msMatchesSelector?this.tooltipRef.matches=this.tooltipRef.msMatchesSelector:this.tooltipRef.matches=this.tooltipRef.mozMatchesSelector),this.tooltipRef.matches(":hover")):!1}},{key:"getTargetArray",value:function(C){var E=[],A;if(!C)A="[data-tip]:not([data-for])";else{var l=C.replace(/\\/g,"\\\\").replace(/"/g,'\\"');A='[data-tip][data-for="'.concat(l,'"]')}return $y(document.getElementsByTagName("*")).filter(function(V){return V.shadowRoot}).forEach(function(V){E=E.concat($y(V.shadowRoot.querySelectorAll(A)))}),E.concat($y(document.querySelectorAll(A)))}},{key:"bindListener",value:function(){var C=this,E=this.props,A=E.id,l=E.globalEventOff,V=E.isCapture,q=this.getTargetArray(A);q.forEach(function(ue){ue.getAttribute("currentItem")===null&&ue.setAttribute("currentItem","false"),C.unbindBasicListener(ue),C.isCustomEvent(ue)&&C.customUnbindListener(ue)}),this.isBodyMode()?this.bindBodyListener(q):q.forEach(function(ue){var te=C.isCapture(ue),ce=C.getEffect(ue);if(C.isCustomEvent(ue)){C.customBindListener(ue);return}ue.addEventListener("mouseenter",C.showTooltip,te),ue.addEventListener("focus",C.showTooltip,te),ce==="float"&&ue.addEventListener("mousemove",C.updateTooltip,te),ue.addEventListener("mouseleave",C.hideTooltip,te),ue.addEventListener("blur",C.hideTooltip,te)}),l&&(window.removeEventListener(l,this.hideTooltip),window.addEventListener(l,this.hideTooltip,V)),this.bindRemovalTracker()}},{key:"unbindListener",value:function(){var C=this,E=this.props,A=E.id,l=E.globalEventOff;if(this.isBodyMode())this.unbindBodyListener();else{var V=this.getTargetArray(A);V.forEach(function(q){C.unbindBasicListener(q),C.isCustomEvent(q)&&C.customUnbindListener(q)})}l&&window.removeEventListener(l,this.hideTooltip),this.unbindRemovalTracker()}},{key:"unbindBasicListener",value:function(C){var E=this.isCapture(C);C.removeEventListener("mouseenter",this.showTooltip,E),C.removeEventListener("mousemove",this.updateTooltip,E),C.removeEventListener("mouseleave",this.hideTooltip,E)}},{key:"getTooltipContent",value:function(){var C=this.props,E=C.getContent,A=C.children,l;return E&&(Array.isArray(E)?l=E[0]&&E[0](this.state.originTooltip):l=E(this.state.originTooltip)),Cv(this.state.originTooltip,A,l,this.state.isMultiline)}},{key:"isEmptyTip",value:function(C){return typeof C=="string"&&C===""||C===null}},{key:"showTooltip",value:function(C,E){if(this.tooltipRef){if(E){var A=this.getTargetArray(this.props.id),l=A.some(function(Pt){return Pt===C.currentTarget});if(!l)return}var V=this.props,q=V.multiline,ue=V.getContent,te=C.currentTarget.getAttribute("data-tip"),ce=C.currentTarget.getAttribute("data-multiline")||q||!1,oe=C instanceof window.FocusEvent||E,de=!0;C.currentTarget.getAttribute("data-scroll-hide")?de=C.currentTarget.getAttribute("data-scroll-hide")==="true":this.props.scrollHide!=null&&(de=this.props.scrollHide),C&&C.currentTarget&&C.currentTarget.setAttribute&&C.currentTarget.setAttribute("aria-describedby",this.props.id||this.state.uuid);var xe=C.currentTarget.getAttribute("data-place")||this.props.place||"top",Pe=oe&&"solid"||this.getEffect(C.currentTarget),He=C.currentTarget.getAttribute("data-offset")||this.props.offset||{},rt=Dv(C,C.currentTarget,this.tooltipRef,xe.split(",")[0],xe,Pe,He);rt.position&&this.props.overridePosition&&(rt.position=this.props.overridePosition(rt.position,C,C.currentTarget,this.tooltipRef,xe,xe,Pe,He));var ze=rt.isNewState?rt.newState.place:xe.split(",")[0];this.clearTimer();var Me=C.currentTarget,Ge=this.state.show?Me.getAttribute("data-delay-update")||this.props.delayUpdate:0,je=this,ot=function(){je.setState({originTooltip:te,isMultiline:ce,desiredPlace:xe,place:ze,type:Me.getAttribute("data-type")||je.props.type||"dark",customColors:{text:Me.getAttribute("data-text-color")||je.props.textColor||null,background:Me.getAttribute("data-background-color")||je.props.backgroundColor||null,border:Me.getAttribute("data-border-color")||je.props.borderColor||null,arrow:Me.getAttribute("data-arrow-color")||je.props.arrowColor||null},customRadius:{tooltip:Me.getAttribute("data-tooltip-radius")||je.props.tooltipRadius||"3",arrow:Me.getAttribute("data-arrow-radius")||je.props.arrowRadius||"0"},effect:Pe,offset:He,padding:Me.getAttribute("data-padding")||je.props.padding,html:(Me.getAttribute("data-html")?Me.getAttribute("data-html")==="true":je.props.html)||!1,delayShow:Me.getAttribute("data-delay-show")||je.props.delayShow||0,delayHide:Me.getAttribute("data-delay-hide")||je.props.delayHide||0,delayUpdate:Me.getAttribute("data-delay-update")||je.props.delayUpdate||0,border:(Me.getAttribute("data-border")?Me.getAttribute("data-border")==="true":je.props.border)||!1,borderClass:Me.getAttribute("data-border-class")||je.props.borderClass||"border",extraClass:Me.getAttribute("data-class")||je.props.class||je.props.className||"",disable:(Me.getAttribute("data-tip-disable")?Me.getAttribute("data-tip-disable")==="true":je.props.disable)||!1,currentTarget:Me},function(){de&&je.addScrollListener(je.state.currentTarget),je.updateTooltip(C),ue&&Array.isArray(ue)&&(je.intervalUpdateContent=setInterval(function(){if(je.mount){var Jt=je.props.getContent,ye=Cv(te,"",Jt[0](),ce),Dt=je.isEmptyTip(ye);je.setState({isEmptyTip:Dt}),je.updatePosition()}},ue[1]))})};Ge?this.delayReshow=setTimeout(ot,Ge):ot()}}},{key:"updateTooltip",value:function(C){var E=this,A=this.state,l=A.delayShow,V=A.disable,q=this.props,ue=q.afterShow,te=q.disable,ce=this.getTooltipContent(),oe=C.currentTarget||C.target;if(!this.mouseOnToolTip()&&!(this.isEmptyTip(ce)||V||te)){var de=this.state.show?0:parseInt(l,10),xe=function(){if(Array.isArray(ce)&&ce.length>0||ce){var He=!E.state.show;E.setState({currentEvent:C,currentTarget:oe,show:!0},function(){E.updatePosition(function(){He&&ue&&ue(C)})})}};this.delayShowLoop&&clearTimeout(this.delayShowLoop),de?this.delayShowLoop=setTimeout(xe,de):(this.delayShowLoop=null,xe())}}},{key:"listenForTooltipExit",value:function(){var C=this.state.show;C&&this.tooltipRef&&this.tooltipRef.addEventListener("mouseleave",this.hideTooltip)}},{key:"removeListenerForTooltipExit",value:function(){var C=this.state.show;C&&this.tooltipRef&&this.tooltipRef.removeEventListener("mouseleave",this.hideTooltip)}},{key:"hideTooltip",value:function(C,E){var A=this,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{isScroll:!1},V=this.state.disable,q=l.isScroll,ue=q?0:this.state.delayHide,te=this.props,ce=te.afterHide,oe=te.disable,de=this.getTooltipContent();if(this.mount&&!(this.isEmptyTip(de)||V||oe)){if(E){var xe=this.getTargetArray(this.props.id),Pe=xe.some(function(rt){return rt===C.currentTarget});if(!Pe||!this.state.show)return}C&&C.currentTarget&&C.currentTarget.removeAttribute&&C.currentTarget.removeAttribute("aria-describedby");var He=function(){var ze=A.state.show;if(A.mouseOnToolTip()){A.listenForTooltipExit();return}A.removeListenerForTooltipExit(),A.setState({show:!1},function(){A.removeScrollListener(A.state.currentTarget),ze&&ce&&ce(C)})};this.clearTimer(),ue?this.delayHideLoop=setTimeout(He,parseInt(ue,10)):He()}}},{key:"hideTooltipOnScroll",value:function(C,E){this.hideTooltip(C,E,{isScroll:!0})}},{key:"addScrollListener",value:function(C){var E=this.isCapture(C);window.addEventListener("scroll",this.hideTooltipOnScroll,E)}},{key:"removeScrollListener",value:function(C){var E=this.isCapture(C);window.removeEventListener("scroll",this.hideTooltipOnScroll,E)}},{key:"updatePosition",value:function(C){var E=this,A=this.state,l=A.currentEvent,V=A.currentTarget,q=A.place,ue=A.desiredPlace,te=A.effect,ce=A.offset,oe=this.tooltipRef,de=Dv(l,V,oe,q,ue,te,ce);if(de.position&&this.props.overridePosition&&(de.position=this.props.overridePosition(de.position,l,V,oe,q,ue,te,ce)),de.isNewState)return this.setState(de.newState,function(){E.updatePosition(C)});C&&typeof C=="function"&&C(),oe.style.left=de.position.left+"px",oe.style.top=de.position.top+"px"}},{key:"clearTimer",value:function(){this.delayShowLoop&&(clearTimeout(this.delayShowLoop),this.delayShowLoop=null),this.delayHideLoop&&(clearTimeout(this.delayHideLoop),this.delayHideLoop=null),this.delayReshow&&(clearTimeout(this.delayReshow),this.delayReshow=null),this.intervalUpdateContent&&(clearInterval(this.intervalUpdateContent),this.intervalUpdateContent=null)}},{key:"hasCustomColors",value:function(){var C=this;return!!(Object.keys(this.state.customColors).find(function(E){return E!=="border"&&C.state.customColors[E]})||this.state.border&&this.state.customColors.border)}},{key:"render",value:function(){var C=this,E=this.state,A=E.extraClass,l=E.html,V=E.ariaProps,q=E.disable,ue=E.uuid,te=this.getTooltipContent(),ce=this.isEmptyTip(te),oe=this.props.disableInternalStyle?"":$A(this.state.uuid,this.state.customColors,this.state.type,this.state.border,this.state.padding,this.state.customRadius),de="__react_component_tooltip"+" ".concat(this.state.uuid)+(this.state.show&&!q&&!ce?" show":"")+(this.state.border?" "+this.state.borderClass:"")+" place-".concat(this.state.place)+" type-".concat(this.hasCustomColors()?"custom":this.state.type)+(this.props.delayUpdate?" allow_hover":"")+(this.props.clickable?" allow_click":""),xe=this.props.wrapper;d.supportedWrappers.indexOf(xe)<0&&(xe=d.defaultProps.wrapper);var Pe=[de,A].filter(Boolean).join(" ");if(l){var He="".concat(te).concat(oe?`
<style aria-hidden="true">`.concat(oe,"</style>"):"");return al.createElement(xe,Dm({className:"".concat(Pe),id:this.props.id||ue,ref:function(ze){return C.tooltipRef=ze}},V,{"data-id":"tooltip",dangerouslySetInnerHTML:{__html:He}}))}else return al.createElement(xe,Dm({className:"".concat(Pe),id:this.props.id||ue},V,{ref:function(ze){return C.tooltipRef=ze},"data-id":"tooltip"}),oe&&al.createElement("style",{dangerouslySetInnerHTML:{__html:oe},"aria-hidden":"true"}),te)}}],[{key:"propTypes",get:function(){return{uuid:Gr.string,children:Gr.any,place:Gr.string,type:Gr.string,effect:Gr.string,offset:Gr.object,padding:Gr.string,multiline:Gr.bool,border:Gr.bool,borderClass:Gr.string,textColor:Gr.string,backgroundColor:Gr.string,borderColor:Gr.string,arrowColor:Gr.string,arrowRadius:Gr.string,tooltipRadius:Gr.string,insecure:Gr.bool,class:Gr.string,className:Gr.string,id:Gr.string,html:Gr.bool,delayHide:Gr.number,delayUpdate:Gr.number,delayShow:Gr.number,event:Gr.string,eventOff:Gr.string,isCapture:Gr.bool,globalEventOff:Gr.string,getContent:Gr.any,afterShow:Gr.func,afterHide:Gr.func,overridePosition:Gr.func,disable:Gr.bool,scrollHide:Gr.bool,resizeHide:Gr.bool,wrapper:Gr.string,bodyMode:Gr.bool,possibleCustomEvents:Gr.string,possibleCustomEventsOff:Gr.string,clickable:Gr.bool,disableInternalStyle:Gr.bool}}},{key:"getDerivedStateFromProps",value:function(C,E){var A=E.ariaProps,l=Iv(C),V=Object.keys(l).some(function(q){return l[q]!==A[q]});return V?r1(r1({},E),{},{ariaProps:l}):null}}]),d}(al.Component),lg(Xf,"defaultProps",{insecure:!0,resizeHide:!0,wrapper:"div",clickable:!1}),lg(Xf,"supportedWrappers",["div","span"]),lg(Xf,"displayName","ReactTooltip"),Xf))||W0)||W0)||W0)||W0)||W0)||W0)||W0,_m={exports:{}};/**
 * MapLibre GL JS
 * @license 3-Clause BSD. Full text of license: https://github.com/maplibre/maplibre-gl-js/blob/v5.5.0/LICENSE.txt
 */var WA=_m.exports,Sv;function HA(){return Sv||(Sv=1,function(o,p){(function(d,w){o.exports=w()})(WA,function(){var d={},w={};function C(A,l,V){if(w[A]=V,A==="index"){var q="var sharedModule = {}; ("+w.shared+")(sharedModule); ("+w.worker+")(sharedModule);",ue={};return w.shared(ue),w.index(d,ue),typeof window<"u"&&d.setWorkerUrl(window.URL.createObjectURL(new Blob([q],{type:"text/javascript"}))),d}}C("shared",["exports"],function(A){function l(i,t,r,s){return new(r||(r=Promise))(function(g,v){function b(R){try{P(s.next(R))}catch(G){v(G)}}function I(R){try{P(s.throw(R))}catch(G){v(G)}}function P(R){var G;R.done?g(R.value):(G=R.value,G instanceof r?G:new r(function(N){N(G)})).then(b,I)}P((s=s.apply(i,t||[])).next())})}function V(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var q,ue;function te(){if(ue)return q;function i(t,r){this.x=t,this.y=r}return ue=1,q=i,i.prototype={clone:function(){return new i(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,r){return this.clone()._rotateAround(t,r)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var r=t.x-this.x,s=t.y-this.y;return r*r+s*s},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,r){return Math.atan2(this.x*r-this.y*t,this.x*t+this.y*r)},_matMult:function(t){var r=t[2]*this.x+t[3]*this.y;return this.x=t[0]*this.x+t[1]*this.y,this.y=r,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var r=Math.cos(t),s=Math.sin(t),g=s*this.x+r*this.y;return this.x=r*this.x-s*this.y,this.y=g,this},_rotateAround:function(t,r){var s=Math.cos(t),g=Math.sin(t),v=r.y+g*(this.x-r.x)+s*(this.y-r.y);return this.x=r.x+s*(this.x-r.x)-g*(this.y-r.y),this.y=v,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},i.convert=function(t){return t instanceof i?t:Array.isArray(t)?new i(t[0],t[1]):t},q}typeof SuppressedError=="function"&&SuppressedError;var ce,oe,de=V(te()),xe=function(){if(oe)return ce;function i(t,r,s,g){this.cx=3*t,this.bx=3*(s-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*r,this.by=3*(g-r)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=r,this.p2x=s,this.p2y=g}return oe=1,ce=i,i.prototype={sampleCurveX:function(t){return((this.ax*t+this.bx)*t+this.cx)*t},sampleCurveY:function(t){return((this.ay*t+this.by)*t+this.cy)*t},sampleCurveDerivativeX:function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},solveCurveX:function(t,r){if(r===void 0&&(r=1e-6),t<0)return 0;if(t>1)return 1;for(var s=t,g=0;g<8;g++){var v=this.sampleCurveX(s)-t;if(Math.abs(v)<r)return s;var b=this.sampleCurveDerivativeX(s);if(Math.abs(b)<1e-6)break;s-=v/b}var I=0,P=1;for(s=t,g=0;g<20&&(v=this.sampleCurveX(s),!(Math.abs(v-t)<r));g++)t>v?I=s:P=s,s=.5*(P-I)+I;return s},solve:function(t,r){return this.sampleCurveY(this.solveCurveX(t,r))}},ce}(),Pe=V(xe);let He,rt;function ze(){return He==null&&(He=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),He}function Me(){if(rt==null&&(rt=!1,ze())){const t=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(t){for(let s=0;s<5*5;s++){const g=4*s;t.fillStyle=`rgb(${g},${g+1},${g+2})`,t.fillRect(s%5,Math.floor(s/5),1,1)}const r=t.getImageData(0,0,5,5).data;for(let s=0;s<5*5*4;s++)if(s%4!=3&&r[s]!==s){rt=!0;break}}}return rt||!1}var Ge=1e-6,je=typeof Float32Array<"u"?Float32Array:Array;function ot(){var i=new je(9);return je!=Float32Array&&(i[1]=0,i[2]=0,i[3]=0,i[5]=0,i[6]=0,i[7]=0),i[0]=1,i[4]=1,i[8]=1,i}function Pt(i){return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function Jt(){var i=new je(3);return je!=Float32Array&&(i[0]=0,i[1]=0,i[2]=0),i}function ye(i){return Math.hypot(i[0],i[1],i[2])}function Dt(i,t,r){var s=new je(3);return s[0]=i,s[1]=t,s[2]=r,s}Math.hypot||(Math.hypot=function(){for(var i=0,t=arguments.length;t--;)i+=arguments[t]*arguments[t];return Math.sqrt(i)});var Mt,Wt=ye;function Vt(i,t,r){var s=t[0],g=t[1],v=t[2],b=t[3];return i[0]=r[0]*s+r[4]*g+r[8]*v+r[12]*b,i[1]=r[1]*s+r[5]*g+r[9]*v+r[13]*b,i[2]=r[2]*s+r[6]*g+r[10]*v+r[14]*b,i[3]=r[3]*s+r[7]*g+r[11]*v+r[15]*b,i}function Nt(){var i=new je(4);return je!=Float32Array&&(i[0]=0,i[1]=0,i[2]=0),i[3]=1,i}function $t(){var i=new je(2);return je!=Float32Array&&(i[0]=0,i[1]=0),i}function dn(i,t){var r=new je(2);return r[0]=i,r[1]=t,r}Jt(),Mt=new je(4),je!=Float32Array&&(Mt[0]=0,Mt[1]=0,Mt[2]=0,Mt[3]=0),Jt(),Dt(1,0,0),Dt(0,1,0),Nt(),Nt(),ot(),$t();const yt=8192;function mt(i,t,r){return t*(yt/(i.tileSize*Math.pow(2,r-i.tileID.overscaledZ)))}function Ot(i,t){return(i%t+t)%t}function We(i,t,r){return i*(1-r)+t*r}function St(i){if(i<=0)return 0;if(i>=1)return 1;const t=i*i,r=t*i;return 4*(i<.5?r:3*(i-t)+r-.75)}function mn(i,t,r,s){const g=new Pe(i,t,r,s);return v=>g.solve(v)}const cn=mn(.25,.1,.25,1);function kt(i,t,r){return Math.min(r,Math.max(t,i))}function gn(i,t,r){const s=r-t,g=((i-t)%s+s)%s+t;return g===t?r:g}function wn(i,...t){for(const r of t)for(const s in r)i[s]=r[s];return i}let Fn=1;function Rn(i,t,r){const s={};for(const g in i)s[g]=t.call(this,i[g],g,i);return s}function An(i,t,r){const s={};for(const g in i)t.call(this,i[g],g,i)&&(s[g]=i[g]);return s}function Nn(i){return Array.isArray(i)?i.map(Nn):typeof i=="object"&&i?Rn(i,Nn):i}const Kn={};function Hn(i){Kn[i]||(typeof console<"u"&&console.warn(i),Kn[i]=!0)}function yn(i,t,r){return(r.y-i.y)*(t.x-i.x)>(t.y-i.y)*(r.x-i.x)}function yr(i){return typeof WorkerGlobalScope<"u"&&i!==void 0&&i instanceof WorkerGlobalScope}let fi=null;function Ir(i){return typeof ImageBitmap<"u"&&i instanceof ImageBitmap}const Xr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Gi(i,t,r,s,g){return l(this,void 0,void 0,function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const v=new VideoFrame(i,{timestamp:0});try{const b=v==null?void 0:v.format;if(!b||!b.startsWith("BGR")&&!b.startsWith("RGB"))throw new Error(`Unrecognized format ${b}`);const I=b.startsWith("BGR"),P=new Uint8ClampedArray(s*g*4);if(yield v.copyTo(P,function(R,G,N,H,Y){const ee=4*Math.max(1,0),se=(Math.max(0,N)-N)*H*4+ee,ve=4*H,Ie=Math.max(0,G),qe=Math.max(0,N);return{rect:{x:Ie,y:qe,width:Math.min(R.width,G+H)-Ie,height:Math.min(R.height,N+Y)-qe},layout:[{offset:se,stride:ve}]}}(i,t,r,s,g)),I)for(let R=0;R<P.length;R+=4){const G=P[R];P[R]=P[R+2],P[R+2]=G}return P}finally{v.close()}})}let vr,lr;function Dn(i,t,r,s){return i.addEventListener(t,r,s),{unsubscribe:()=>{i.removeEventListener(t,r,s)}}}function Lr(i){return i*Math.PI/180}function ti(i){return i/Math.PI*180}const Vi={touchstart:!0,touchmove:!0,touchmoveWindow:!0,touchend:!0,touchcancel:!0},Ga={dblclick:!0,click:!0,mouseover:!0,mouseout:!0,mousedown:!0,mousemove:!0,mousemoveWindow:!0,mouseup:!0,mouseupWindow:!0,contextmenu:!0,wheel:!0},Zi="AbortError";function Yr(){return new Error(Zi)}const Li={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function bi(i){return Li.REGISTERED_PROTOCOLS[i.substring(0,i.indexOf("://"))]}const xr="global-dispatcher";class wi extends Error{constructor(t,r,s,g){super(`AJAXError: ${r} (${t}): ${s}`),this.status=t,this.statusText=r,this.url=s,this.body=g}}const ni=()=>yr(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,ma=function(i,t){if(/:\/\//.test(i.url)&&!/^https?:|^file:/.test(i.url)){const s=bi(i.url);if(s)return s(i,t);if(yr(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:i,targetMapId:xr},t)}if(!(/^file:/.test(r=i.url)||/^file:/.test(ni())&&!/^\w+:/.test(r))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return function(s,g){return l(this,void 0,void 0,function*(){const v=new Request(s.url,{method:s.method||"GET",body:s.body,credentials:s.credentials,headers:s.headers,cache:s.cache,referrer:ni(),signal:g.signal});let b,I;s.type!=="json"||v.headers.has("Accept")||v.headers.set("Accept","application/json");try{b=yield fetch(v)}catch(R){throw new wi(0,R.message,s.url,new Blob)}if(!b.ok){const R=yield b.blob();throw new wi(b.status,b.statusText,s.url,R)}I=s.type==="arrayBuffer"||s.type==="image"?b.arrayBuffer():s.type==="json"?b.json():b.text();const P=yield I;if(g.signal.aborted)throw Yr();return{data:P,cacheControl:b.headers.get("Cache-Control"),expires:b.headers.get("Expires")}})}(i,t);if(yr(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:i,mustQueue:!0,targetMapId:xr},t)}var r;return function(s,g){return new Promise((v,b)=>{var I;const P=new XMLHttpRequest;P.open(s.method||"GET",s.url,!0),s.type!=="arrayBuffer"&&s.type!=="image"||(P.responseType="arraybuffer");for(const R in s.headers)P.setRequestHeader(R,s.headers[R]);s.type==="json"&&(P.responseType="text",!((I=s.headers)===null||I===void 0)&&I.Accept||P.setRequestHeader("Accept","application/json")),P.withCredentials=s.credentials==="include",P.onerror=()=>{b(new Error(P.statusText))},P.onload=()=>{if(!g.signal.aborted)if((P.status>=200&&P.status<300||P.status===0)&&P.response!==null){let R=P.response;if(s.type==="json")try{R=JSON.parse(P.response)}catch(G){return void b(G)}v({data:R,cacheControl:P.getResponseHeader("Cache-Control"),expires:P.getResponseHeader("Expires")})}else{const R=new Blob([P.response],{type:P.getResponseHeader("Content-Type")});b(new wi(P.status,P.statusText,s.url,R))}},g.signal.addEventListener("abort",()=>{P.abort(),b(Yr())}),P.send(s.body)})}(i,t)};function Fe(i){if(!i||i.indexOf("://")<=0||i.indexOf("data:image/")===0||i.indexOf("blob:")===0)return!0;const t=new URL(i),r=window.location;return t.protocol===r.protocol&&t.host===r.host}function ne(i,t,r){r[i]&&r[i].indexOf(t)!==-1||(r[i]=r[i]||[],r[i].push(t))}function ae(i,t,r){if(r&&r[i]){const s=r[i].indexOf(t);s!==-1&&r[i].splice(s,1)}}class _e{constructor(t,r={}){wn(this,r),this.type=t}}class Te extends _e{constructor(t,r={}){super("error",wn({error:t},r))}}class Ze{on(t,r){return this._listeners=this._listeners||{},ne(t,r,this._listeners),{unsubscribe:()=>{this.off(t,r)}}}off(t,r){return ae(t,r,this._listeners),ae(t,r,this._oneTimeListeners),this}once(t,r){return r?(this._oneTimeListeners=this._oneTimeListeners||{},ne(t,r,this._oneTimeListeners),this):new Promise(s=>this.once(t,s))}fire(t,r){typeof t=="string"&&(t=new _e(t,r||{}));const s=t.type;if(this.listens(s)){t.target=this;const g=this._listeners&&this._listeners[s]?this._listeners[s].slice():[];for(const I of g)I.call(this,t);const v=this._oneTimeListeners&&this._oneTimeListeners[s]?this._oneTimeListeners[s].slice():[];for(const I of v)ae(s,I,this._oneTimeListeners),I.call(this,t);const b=this._eventedParent;b&&(wn(t,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),b.fire(t))}else t instanceof Te&&console.error(t.error);return this}listens(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)}setEventedParent(t,r){return this._eventedParent=t,this._eventedParentData=r,this}}var ge={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},centerAltitude:{type:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},roll:{type:"number",default:0,units:"degrees"},state:{type:"state",default:{}},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"projectionDefinition",default:"mercator","property-type":"data-constant",transition:!1,expression:{interpolated:!0,parameters:["zoom"]}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"numberArray",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-altitude":{type:"numberArray",default:45,minimum:0,maximum:90,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"colorArray",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"colorArray",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-method":{type:"enum",values:{standard:{},basic:{},combined:{},igor:{},multidirectional:{}},default:"standard",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const Je=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Ye(i,t){const r={};for(const s in i)s!=="ref"&&(r[s]=i[s]);return Je.forEach(s=>{s in t&&(r[s]=t[s])}),r}function at(i,t){if(Array.isArray(i)){if(!Array.isArray(t)||i.length!==t.length)return!1;for(let r=0;r<i.length;r++)if(!at(i[r],t[r]))return!1;return!0}if(typeof i=="object"&&i!==null&&t!==null){if(typeof t!="object"||Object.keys(i).length!==Object.keys(t).length)return!1;for(const r in i)if(!at(i[r],t[r]))return!1;return!0}return i===t}function pt(i,t){i.push(t)}function tt(i,t,r){pt(r,{command:"addSource",args:[i,t[i]]})}function Rt(i,t,r){pt(t,{command:"removeSource",args:[i]}),r[i]=!0}function Qt(i,t,r,s){Rt(i,r,s),tt(i,t,r)}function hn(i,t,r){let s;for(s in i[r])if(Object.prototype.hasOwnProperty.call(i[r],s)&&s!=="data"&&!at(i[r][s],t[r][s]))return!1;for(s in t[r])if(Object.prototype.hasOwnProperty.call(t[r],s)&&s!=="data"&&!at(i[r][s],t[r][s]))return!1;return!0}function Tn(i,t,r,s,g,v){i=i||{},t=t||{};for(const b in i)Object.prototype.hasOwnProperty.call(i,b)&&(at(i[b],t[b])||r.push({command:v,args:[s,b,t[b],g]}));for(const b in t)Object.prototype.hasOwnProperty.call(t,b)&&!Object.prototype.hasOwnProperty.call(i,b)&&(at(i[b],t[b])||r.push({command:v,args:[s,b,t[b],g]}))}function Xn(i){return i.id}function On(i,t){return i[t.id]=t,i}class wt{constructor(t,r,s,g){this.message=(t?`${t}: `:"")+s,g&&(this.identifier=g),r!=null&&r.__line__&&(this.line=r.__line__)}}function br(i,...t){for(const r of t)for(const s in r)i[s]=r[s];return i}class dr extends Error{constructor(t,r){super(r),this.message=r,this.key=t}}class wr{constructor(t,r=[]){this.parent=t,this.bindings={};for(const[s,g]of r)this.bindings[s]=g}concat(t){return new wr(this,t)}get(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(`${t} not found in scope.`)}has(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)}}const Ln={kind:"null"},zt={kind:"number"},Gn={kind:"string"},nr={kind:"boolean"},Nr={kind:"color"},$r={kind:"projectionDefinition"},Ia={kind:"object"},ar={kind:"value"},ns={kind:"collator"},rs={kind:"formatted"},Po={kind:"padding"},ol={kind:"colorArray"},Wa={kind:"numberArray"},Os={kind:"resolvedImage"},or={kind:"variableAnchorOffsetCollection"};function oi(i,t){return{kind:"array",itemType:i,N:t}}function Vr(i){if(i.kind==="array"){const t=Vr(i.itemType);return typeof i.N=="number"?`array<${t}, ${i.N}>`:i.itemType.kind==="value"?"array":`array<${t}>`}return i.kind}const Fs=[Ln,zt,Gn,nr,Nr,$r,rs,Ia,oi(ar),Po,Wa,ol,Os,or];function oo(i,t){if(t.kind==="error")return null;if(i.kind==="array"){if(t.kind==="array"&&(t.N===0&&t.itemType.kind==="value"||!oo(i.itemType,t.itemType))&&(typeof i.N!="number"||i.N===t.N))return null}else{if(i.kind===t.kind)return null;if(i.kind==="value"){for(const r of Fs)if(!oo(r,t))return null}}return`Expected ${Vr(i)} but found ${Vr(t)} instead.`}function n0(i,t){return t.some(r=>r.kind===i.kind)}function La(i,t){return t.some(r=>r==="null"?i===null:r==="array"?Array.isArray(i):r==="object"?i&&!Array.isArray(i)&&typeof i=="object":r===typeof i)}function na(i,t){return i.kind==="array"&&t.kind==="array"?i.itemType.kind===t.itemType.kind&&typeof i.N=="number":i.kind===t.kind}const so=.96422,sl=.82521,ya=4/29,bs=6/29,r0=3*bs*bs,x0=bs*bs*bs,ws=Math.PI/180,i0=180/Math.PI;function Ns(i){return(i%=360)<0&&(i+=360),i}function Eo([i,t,r,s]){let g,v;const b=J((.2225045*(i=B(i))+.7168786*(t=B(t))+.0606169*(r=B(r)))/1);i===t&&t===r?g=v=b:(g=J((.4360747*i+.3850649*t+.1430804*r)/so),v=J((.0139322*i+.0971045*t+.7141733*r)/sl));const I=116*b-16;return[I<0?0:I,500*(g-b),200*(b-v),s]}function B(i){return i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4)}function J(i){return i>x0?Math.pow(i,1/3):i/r0+ya}function fe([i,t,r,s]){let g=(i+16)/116,v=isNaN(t)?g:g+t/500,b=isNaN(r)?g:g-r/200;return g=1*gt(g),v=so*gt(v),b=sl*gt(b),[Se(3.1338561*v-1.6168667*g-.4906146*b),Se(-.9787684*v+1.9161415*g+.033454*b),Se(.0719453*v-.2289914*g+1.4052427*b),s]}function Se(i){return(i=i<=.00304?12.92*i:1.055*Math.pow(i,1/2.4)-.055)<0?0:i>1?1:i}function gt(i){return i>bs?i*i*i:r0*(i-ya)}const ct=Object.hasOwn||function(i,t){return Object.prototype.hasOwnProperty.call(i,t)};function Ut(i,t){return ct(i,t)?i[t]:void 0}function sn(i){return parseInt(i.padEnd(2,i),16)/255}function _n(i,t){return Mn(t?i/100:i,0,1)}function Mn(i,t,r){return Math.min(Math.max(t,i),r)}function xn(i){return!i.some(Number.isNaN)}const Br={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};function gi(i,t,r){return i+r*(t-i)}function ra(i,t,r){return i.map((s,g)=>gi(s,t[g],r))}class er{constructor(t,r,s,g=1,v=!0){this.r=t,this.g=r,this.b=s,this.a=g,v||(this.r*=g,this.g*=g,this.b*=g,g||this.overwriteGetter("rgb",[t,r,s,g]))}static parse(t){if(t instanceof er)return t;if(typeof t!="string")return;const r=function(s){if((s=s.toLowerCase().trim())==="transparent")return[0,0,0,0];const g=Ut(Br,s);if(g){const[b,I,P]=g;return[b/255,I/255,P/255,1]}if(s.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(s)){const b=s.length<6?1:2;let I=1;return[sn(s.slice(I,I+=b)),sn(s.slice(I,I+=b)),sn(s.slice(I,I+=b)),sn(s.slice(I,I+b)||"ff")]}if(s.startsWith("rgb")){const b=s.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(b){const[I,P,R,G,N,H,Y,ee,se,ve,Ie,qe]=b,Ue=[G||" ",Y||" ",ve].join("");if(Ue==="  "||Ue==="  /"||Ue===",,"||Ue===",,,"){const K=[R,H,se].join(""),me=K==="%%%"?100:K===""?255:0;if(me){const Oe=[Mn(+P/me,0,1),Mn(+N/me,0,1),Mn(+ee/me,0,1),Ie?_n(+Ie,qe):1];if(xn(Oe))return Oe}}return}}const v=s.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(v){const[b,I,P,R,G,N,H,Y,ee]=v,se=[P||" ",G||" ",H].join("");if(se==="  "||se==="  /"||se===",,"||se===",,,"){const ve=[+I,Mn(+R,0,100),Mn(+N,0,100),Y?_n(+Y,ee):1];if(xn(ve))return function([Ie,qe,Ue,K]){function me(Oe){const ft=(Oe+Ie/30)%12,jt=qe*Math.min(Ue,1-Ue);return Ue-jt*Math.max(-1,Math.min(ft-3,9-ft,1))}return Ie=Ns(Ie),qe/=100,Ue/=100,[me(0),me(8),me(4),K]}(ve)}}}(t);return r?new er(...r,!1):void 0}get rgb(){const{r:t,g:r,b:s,a:g}=this,v=g||1/0;return this.overwriteGetter("rgb",[t/v,r/v,s/v,g])}get hcl(){return this.overwriteGetter("hcl",function(t){const[r,s,g,v]=Eo(t),b=Math.sqrt(s*s+g*g);return[Math.round(1e4*b)?Ns(Math.atan2(g,s)*i0):NaN,b,r,v]}(this.rgb))}get lab(){return this.overwriteGetter("lab",Eo(this.rgb))}overwriteGetter(t,r){return Object.defineProperty(this,t,{value:r}),r}toString(){const[t,r,s,g]=this.rgb;return`rgba(${[t,r,s].map(v=>Math.round(255*v)).join(",")},${g})`}static interpolate(t,r,s,g="rgb"){switch(g){case"rgb":{const[v,b,I,P]=ra(t.rgb,r.rgb,s);return new er(v,b,I,P,!1)}case"hcl":{const[v,b,I,P]=t.hcl,[R,G,N,H]=r.hcl;let Y,ee;if(isNaN(v)||isNaN(R))isNaN(v)?isNaN(R)?Y=NaN:(Y=R,I!==1&&I!==0||(ee=G)):(Y=v,N!==1&&N!==0||(ee=b));else{let Ue=R-v;R>v&&Ue>180?Ue-=360:R<v&&v-R>180&&(Ue+=360),Y=v+s*Ue}const[se,ve,Ie,qe]=function([Ue,K,me,Oe]){return Ue=isNaN(Ue)?0:Ue*ws,fe([me,Math.cos(Ue)*K,Math.sin(Ue)*K,Oe])}([Y,ee??gi(b,G,s),gi(I,N,s),gi(P,H,s)]);return new er(se,ve,Ie,qe,!1)}case"lab":{const[v,b,I,P]=fe(ra(t.lab,r.lab,s));return new er(v,b,I,P,!1)}}}}er.black=new er(0,0,0,1),er.white=new er(1,1,1,1),er.transparent=new er(0,0,0,0),er.red=new er(1,0,0,1);class lo{constructor(t,r,s){this.sensitivity=t?r?"variant":"case":r?"accent":"base",this.locale=s,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(t,r){return this.collator.compare(t,r)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}const Aa=["bottom","center","top"];class Sa{constructor(t,r,s,g,v,b){this.text=t,this.image=r,this.scale=s,this.fontStack=g,this.textColor=v,this.verticalAlign=b}}class si{constructor(t){this.sections=t}static fromString(t){return new si([new Sa(t,null,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(t=>t.text.length!==0||t.image&&t.image.name.length!==0)}static factory(t){return t instanceof si?t:si.fromString(t)}toString(){return this.sections.length===0?"":this.sections.map(t=>t.text).join("")}}class li{constructor(t){this.values=t.slice()}static parse(t){if(t instanceof li)return t;if(typeof t=="number")return new li([t,t,t,t]);if(Array.isArray(t)&&!(t.length<1||t.length>4)){for(const r of t)if(typeof r!="number")return;switch(t.length){case 1:t=[t[0],t[0],t[0],t[0]];break;case 2:t=[t[0],t[1],t[0],t[1]];break;case 3:t=[t[0],t[1],t[2],t[1]]}return new li(t)}}toString(){return JSON.stringify(this.values)}static interpolate(t,r,s){return new li(ra(t.values,r.values,s))}}class Ur{constructor(t){this.values=t.slice()}static parse(t){if(t instanceof Ur)return t;if(typeof t=="number")return new Ur([t]);if(Array.isArray(t)){for(const r of t)if(typeof r!="number")return;return new Ur(t)}}toString(){return JSON.stringify(this.values)}static interpolate(t,r,s){return new Ur(ra(t.values,r.values,s))}}class Ii{constructor(t){this.values=t.slice()}static parse(t){if(t instanceof Ii)return t;if(typeof t=="string"){const s=er.parse(t);return s?new Ii([s]):void 0}if(!Array.isArray(t))return;const r=[];for(const s of t){if(typeof s!="string")return;const g=er.parse(s);if(!g)return;r.push(g)}return new Ii(r)}toString(){return JSON.stringify(this.values)}static interpolate(t,r,s,g="rgb"){const v=[];if(t.values.length!=r.values.length)throw new Error(`colorArray: Arrays have mismatched length (${t.values.length} vs. ${r.values.length}), cannot interpolate.`);for(let b=0;b<t.values.length;b++)v.push(er.interpolate(t.values[b],r.values[b],s,g));return new Ii(v)}}class zr extends Error{constructor(t){super(t),this.name="RuntimeError"}toJSON(){return this.message}}const b0=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class Ba{constructor(t){this.values=t.slice()}static parse(t){if(t instanceof Ba)return t;if(Array.isArray(t)&&!(t.length<1)&&t.length%2==0){for(let r=0;r<t.length;r+=2){const s=t[r],g=t[r+1];if(typeof s!="string"||!b0.has(s)||!Array.isArray(g)||g.length!==2||typeof g[0]!="number"||typeof g[1]!="number")return}return new Ba(t)}}toString(){return JSON.stringify(this.values)}static interpolate(t,r,s){const g=t.values,v=r.values;if(g.length!==v.length)throw new zr(`Cannot interpolate values of different length. from: ${t.toString()}, to: ${r.toString()}`);const b=[];for(let I=0;I<g.length;I+=2){if(g[I]!==v[I])throw new zr(`Cannot interpolate values containing mismatched anchors. from[${I}]: ${g[I]}, to[${I}]: ${v[I]}`);b.push(g[I]);const[P,R]=g[I+1],[G,N]=v[I+1];b.push([gi(P,G,s),gi(R,N,s)])}return new Ba(b)}}class ia{constructor(t){this.name=t.name,this.available=t.available}toString(){return this.name}static fromString(t){return t?new ia({name:t,available:!1}):null}}class uo{constructor(t,r,s){this.from=t,this.to=r,this.transition=s}static interpolate(t,r,s){return new uo(t,r,s)}static parse(t){return t instanceof uo?t:Array.isArray(t)&&t.length===3&&typeof t[0]=="string"&&typeof t[1]=="string"&&typeof t[2]=="number"?new uo(t[0],t[1],t[2]):typeof t=="object"&&typeof t.from=="string"&&typeof t.to=="string"&&typeof t.transition=="number"?new uo(t.from,t.to,t.transition):typeof t=="string"?new uo(t,t,1):void 0}}function co(i,t,r,s){return typeof i=="number"&&i>=0&&i<=255&&typeof t=="number"&&t>=0&&t<=255&&typeof r=="number"&&r>=0&&r<=255?s===void 0||typeof s=="number"&&s>=0&&s<=1?null:`Invalid rgba value [${[i,t,r,s].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof s=="number"?[i,t,r,s]:[i,t,r]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Rr(i){if(i===null||typeof i=="string"||typeof i=="boolean"||typeof i=="number"||i instanceof uo||i instanceof er||i instanceof lo||i instanceof si||i instanceof li||i instanceof Ur||i instanceof Ii||i instanceof Ba||i instanceof ia)return!0;if(Array.isArray(i)){for(const t of i)if(!Rr(t))return!1;return!0}if(typeof i=="object"){for(const t in i)if(!Rr(i[t]))return!1;return!0}return!1}function ui(i){if(i===null)return Ln;if(typeof i=="string")return Gn;if(typeof i=="boolean")return nr;if(typeof i=="number")return zt;if(i instanceof er)return Nr;if(i instanceof uo)return $r;if(i instanceof lo)return ns;if(i instanceof si)return rs;if(i instanceof li)return Po;if(i instanceof Ur)return Wa;if(i instanceof Ii)return ol;if(i instanceof Ba)return or;if(i instanceof ia)return Os;if(Array.isArray(i)){const t=i.length;let r;for(const s of i){const g=ui(s);if(r){if(r===g)continue;r=ar;break}r=g}return oi(r||ar,t)}return Ia}function Un(i){const t=typeof i;return i===null?"":t==="string"||t==="number"||t==="boolean"?String(i):i instanceof er||i instanceof uo||i instanceof si||i instanceof li||i instanceof Ur||i instanceof Ii||i instanceof Ba||i instanceof ia?i.toString():JSON.stringify(i)}class vn{constructor(t,r){this.type=t,this.value=r}static parse(t,r){if(t.length!==2)return r.error(`'literal' expression requires exactly one argument, but found ${t.length-1} instead.`);if(!Rr(t[1]))return r.error("invalid value");const s=t[1];let g=ui(s);const v=r.expectedType;return g.kind!=="array"||g.N!==0||!v||v.kind!=="array"||typeof v.N=="number"&&v.N!==0||(g=v),new vn(g,s)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}const Ar={string:Gn,number:zt,boolean:nr,object:Ia};class Yn{constructor(t,r){this.type=t,this.args=r}static parse(t,r){if(t.length<2)return r.error("Expected at least one argument.");let s,g=1;const v=t[0];if(v==="array"){let I,P;if(t.length>2){const R=t[1];if(typeof R!="string"||!(R in Ar)||R==="object")return r.error('The item type argument of "array" must be one of string, number, boolean',1);I=Ar[R],g++}else I=ar;if(t.length>3){if(t[2]!==null&&(typeof t[2]!="number"||t[2]<0||t[2]!==Math.floor(t[2])))return r.error('The length argument to "array" must be a positive integer literal',2);P=t[2],g++}s=oi(I,P)}else{if(!Ar[v])throw new Error(`Types doesn't contain name = ${v}`);s=Ar[v]}const b=[];for(;g<t.length;g++){const I=r.parse(t[g],g,ar);if(!I)return null;b.push(I)}return new Yn(s,b)}evaluate(t){for(let r=0;r<this.args.length;r++){const s=this.args[r].evaluate(t);if(!oo(this.type,ui(s)))return s;if(r===this.args.length-1)throw new zr(`Expected value to be of type ${Vr(this.type)}, but found ${Vr(ui(s))} instead.`)}throw new Error}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}}const ho={"to-boolean":nr,"to-color":Nr,"to-number":zt,"to-string":Gn};class aa{constructor(t,r){this.type=t,this.args=r}static parse(t,r){if(t.length<2)return r.error("Expected at least one argument.");const s=t[0];if(!ho[s])throw new Error(`Can't parse ${s} as it is not part of the known types`);if((s==="to-boolean"||s==="to-string")&&t.length!==2)return r.error("Expected one argument.");const g=ho[s],v=[];for(let b=1;b<t.length;b++){const I=r.parse(t[b],b,ar);if(!I)return null;v.push(I)}return new aa(g,v)}evaluate(t){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(t);case"color":{let r,s;for(const g of this.args){if(r=g.evaluate(t),s=null,r instanceof er)return r;if(typeof r=="string"){const v=t.parseColor(r);if(v)return v}else if(Array.isArray(r)&&(s=r.length<3||r.length>4?`Invalid rgba value ${JSON.stringify(r)}: expected an array containing either three or four numeric values.`:co(r[0],r[1],r[2],r[3]),!s))return new er(r[0]/255,r[1]/255,r[2]/255,r[3])}throw new zr(s||`Could not parse color from value '${typeof r=="string"?r:JSON.stringify(r)}'`)}case"padding":{let r;for(const s of this.args){r=s.evaluate(t);const g=li.parse(r);if(g)return g}throw new zr(`Could not parse padding from value '${typeof r=="string"?r:JSON.stringify(r)}'`)}case"numberArray":{let r;for(const s of this.args){r=s.evaluate(t);const g=Ur.parse(r);if(g)return g}throw new zr(`Could not parse numberArray from value '${typeof r=="string"?r:JSON.stringify(r)}'`)}case"colorArray":{let r;for(const s of this.args){r=s.evaluate(t);const g=Ii.parse(r);if(g)return g}throw new zr(`Could not parse colorArray from value '${typeof r=="string"?r:JSON.stringify(r)}'`)}case"variableAnchorOffsetCollection":{let r;for(const s of this.args){r=s.evaluate(t);const g=Ba.parse(r);if(g)return g}throw new zr(`Could not parse variableAnchorOffsetCollection from value '${typeof r=="string"?r:JSON.stringify(r)}'`)}case"number":{let r=null;for(const s of this.args){if(r=s.evaluate(t),r===null)return 0;const g=Number(r);if(!isNaN(g))return g}throw new zr(`Could not convert ${JSON.stringify(r)} to number.`)}case"formatted":return si.fromString(Un(this.args[0].evaluate(t)));case"resolvedImage":return ia.fromString(Un(this.args[0].evaluate(t)));case"projectionDefinition":return this.args[0].evaluate(t);default:return Un(this.args[0].evaluate(t))}}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}}const ll=["Unknown","Point","LineString","Polygon"];class w0{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache=new Map,this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?ll[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(t){let r=this._parseColorCache.get(t);return r||(r=er.parse(t),this._parseColorCache.set(t,r)),r}}class $s{constructor(t,r,s=[],g,v=new wr,b=[]){this.registry=t,this.path=s,this.key=s.map(I=>`[${I}]`).join(""),this.scope=v,this.errors=b,this.expectedType=g,this._isConstant=r}parse(t,r,s,g,v={}){return r?this.concat(r,s,g)._parse(t,v):this._parse(t,v)}_parse(t,r){function s(g,v,b){return b==="assert"?new Yn(v,[g]):b==="coerce"?new aa(v,[g]):g}if(t!==null&&typeof t!="string"&&typeof t!="boolean"&&typeof t!="number"||(t=["literal",t]),Array.isArray(t)){if(t.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const g=t[0];if(typeof g!="string")return this.error(`Expression name must be a string, but found ${typeof g} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const v=this.registry[g];if(v){let b=v.parse(t,this);if(!b)return null;if(this.expectedType){const I=this.expectedType,P=b.type;if(I.kind!=="string"&&I.kind!=="number"&&I.kind!=="boolean"&&I.kind!=="object"&&I.kind!=="array"||P.kind!=="value"){if(I.kind==="projectionDefinition"&&["string","array"].includes(P.kind)||["color","formatted","resolvedImage"].includes(I.kind)&&["value","string"].includes(P.kind)||["padding","numberArray"].includes(I.kind)&&["value","number","array"].includes(P.kind)||I.kind==="colorArray"&&["value","string","array"].includes(P.kind)||I.kind==="variableAnchorOffsetCollection"&&["value","array"].includes(P.kind))b=s(b,I,r.typeAnnotation||"coerce");else if(this.checkSubtype(I,P))return null}else b=s(b,I,r.typeAnnotation||"assert")}if(!(b instanceof vn)&&b.type.kind!=="resolvedImage"&&this._isConstant(b)){const I=new w0;try{b=new vn(b.type,b.evaluate(I))}catch(P){return this.error(P.message),null}}return b}return this.error(`Unknown expression "${g}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(t===void 0?"'undefined' value invalid. Use null instead.":typeof t=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof t} instead.`)}concat(t,r,s){const g=typeof t=="number"?this.path.concat(t):this.path,v=s?this.scope.concat(s):this.scope;return new $s(this.registry,this._isConstant,g,r||null,v,this.errors)}error(t,...r){const s=`${this.key}${r.map(g=>`[${g}]`).join("")}`;this.errors.push(new dr(s,t))}checkSubtype(t,r){const s=oo(t,r);return s&&this.error(s),s}}class Ds{constructor(t,r){this.type=r.type,this.bindings=[].concat(t),this.result=r}evaluate(t){return this.result.evaluate(t)}eachChild(t){for(const r of this.bindings)t(r[1]);t(this.result)}static parse(t,r){if(t.length<4)return r.error(`Expected at least 3 arguments, but found ${t.length-1} instead.`);const s=[];for(let v=1;v<t.length-1;v+=2){const b=t[v];if(typeof b!="string")return r.error(`Expected string, but found ${typeof b} instead.`,v);if(/[^a-zA-Z0-9_]/.test(b))return r.error("Variable names must contain only alphanumeric characters or '_'.",v);const I=r.parse(t[v+1],v+1);if(!I)return null;s.push([b,I])}const g=r.parse(t[t.length-1],t.length-1,r.expectedType,s);return g?new Ds(s,g):null}outputDefined(){return this.result.outputDefined()}}class a0{constructor(t,r){this.type=r.type,this.name=t,this.boundExpression=r}static parse(t,r){if(t.length!==2||typeof t[1]!="string")return r.error("'var' expression requires exactly one string literal argument.");const s=t[1];return r.scope.has(s)?new a0(s,r.scope.get(s)):r.error(`Unknown variable "${s}". Make sure "${s}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(t){return this.boundExpression.evaluate(t)}eachChild(){}outputDefined(){return!1}}class ci{constructor(t,r,s){this.type=t,this.index=r,this.input=s}static parse(t,r){if(t.length!==3)return r.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const s=r.parse(t[1],1,zt),g=r.parse(t[2],2,oi(r.expectedType||ar));return s&&g?new ci(g.type.itemType,s,g):null}evaluate(t){const r=this.index.evaluate(t),s=this.input.evaluate(t);if(r<0)throw new zr(`Array index out of bounds: ${r} < 0.`);if(r>=s.length)throw new zr(`Array index out of bounds: ${r} > ${s.length-1}.`);if(r!==Math.floor(r))throw new zr(`Array index must be an integer, but found ${r} instead.`);return s[r]}eachChild(t){t(this.index),t(this.input)}outputDefined(){return!1}}class ul{constructor(t,r){this.type=nr,this.needle=t,this.haystack=r}static parse(t,r){if(t.length!==3)return r.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const s=r.parse(t[1],1,ar),g=r.parse(t[2],2,ar);return s&&g?n0(s.type,[nr,Gn,zt,Ln,ar])?new ul(s,g):r.error(`Expected first argument to be of type boolean, string, number or null, but found ${Vr(s.type)} instead`):null}evaluate(t){const r=this.needle.evaluate(t),s=this.haystack.evaluate(t);if(!s)return!1;if(!La(r,["boolean","string","number","null"]))throw new zr(`Expected first argument to be of type boolean, string, number or null, but found ${Vr(ui(r))} instead.`);if(!La(s,["string","array"]))throw new zr(`Expected second argument to be of type array or string, but found ${Vr(ui(s))} instead.`);return s.indexOf(r)>=0}eachChild(t){t(this.needle),t(this.haystack)}outputDefined(){return!0}}class po{constructor(t,r,s){this.type=zt,this.needle=t,this.haystack=r,this.fromIndex=s}static parse(t,r){if(t.length<=2||t.length>=5)return r.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const s=r.parse(t[1],1,ar),g=r.parse(t[2],2,ar);if(!s||!g)return null;if(!n0(s.type,[nr,Gn,zt,Ln,ar]))return r.error(`Expected first argument to be of type boolean, string, number or null, but found ${Vr(s.type)} instead`);if(t.length===4){const v=r.parse(t[3],3,zt);return v?new po(s,g,v):null}return new po(s,g)}evaluate(t){const r=this.needle.evaluate(t),s=this.haystack.evaluate(t);if(!La(r,["boolean","string","number","null"]))throw new zr(`Expected first argument to be of type boolean, string, number or null, but found ${Vr(ui(r))} instead.`);let g;if(this.fromIndex&&(g=this.fromIndex.evaluate(t)),La(s,["string"])){const v=s.indexOf(r,g);return v===-1?-1:[...s.slice(0,v)].length}if(La(s,["array"]))return s.indexOf(r,g);throw new zr(`Expected second argument to be of type array or string, but found ${Vr(ui(s))} instead.`)}eachChild(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex)}outputDefined(){return!1}}class cl{constructor(t,r,s,g,v,b){this.inputType=t,this.type=r,this.input=s,this.cases=g,this.outputs=v,this.otherwise=b}static parse(t,r){if(t.length<5)return r.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if(t.length%2!=1)return r.error("Expected an even number of arguments.");let s,g;r.expectedType&&r.expectedType.kind!=="value"&&(g=r.expectedType);const v={},b=[];for(let R=2;R<t.length-1;R+=2){let G=t[R];const N=t[R+1];Array.isArray(G)||(G=[G]);const H=r.concat(R);if(G.length===0)return H.error("Expected at least one branch label.");for(const ee of G){if(typeof ee!="number"&&typeof ee!="string")return H.error("Branch labels must be numbers or strings.");if(typeof ee=="number"&&Math.abs(ee)>Number.MAX_SAFE_INTEGER)return H.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof ee=="number"&&Math.floor(ee)!==ee)return H.error("Numeric branch labels must be integer values.");if(s){if(H.checkSubtype(s,ui(ee)))return null}else s=ui(ee);if(v[String(ee)]!==void 0)return H.error("Branch labels must be unique.");v[String(ee)]=b.length}const Y=r.parse(N,R,g);if(!Y)return null;g=g||Y.type,b.push(Y)}const I=r.parse(t[1],1,ar);if(!I)return null;const P=r.parse(t[t.length-1],t.length-1,g);return P?I.type.kind!=="value"&&r.concat(1).checkSubtype(s,I.type)?null:new cl(s,g,I,v,b,P):null}evaluate(t){const r=this.input.evaluate(t);return(ui(r)===this.inputType&&this.outputs[this.cases[r]]||this.otherwise).evaluate(t)}eachChild(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)}outputDefined(){return this.outputs.every(t=>t.outputDefined())&&this.otherwise.outputDefined()}}class mi{constructor(t,r,s){this.type=t,this.branches=r,this.otherwise=s}static parse(t,r){if(t.length<4)return r.error(`Expected at least 3 arguments, but found only ${t.length-1}.`);if(t.length%2!=0)return r.error("Expected an odd number of arguments.");let s;r.expectedType&&r.expectedType.kind!=="value"&&(s=r.expectedType);const g=[];for(let b=1;b<t.length-1;b+=2){const I=r.parse(t[b],b,nr);if(!I)return null;const P=r.parse(t[b+1],b+1,s);if(!P)return null;g.push([I,P]),s=s||P.type}const v=r.parse(t[t.length-1],t.length-1,s);if(!v)return null;if(!s)throw new Error("Can't infer output type");return new mi(s,g,v)}evaluate(t){for(const[r,s]of this.branches)if(r.evaluate(t))return s.evaluate(t);return this.otherwise.evaluate(t)}eachChild(t){for(const[r,s]of this.branches)t(r),t(s);t(this.otherwise)}outputDefined(){return this.branches.every(([t,r])=>r.outputDefined())&&this.otherwise.outputDefined()}}class Bi{constructor(t,r,s,g){this.type=t,this.input=r,this.beginIndex=s,this.endIndex=g}static parse(t,r){if(t.length<=2||t.length>=5)return r.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const s=r.parse(t[1],1,ar),g=r.parse(t[2],2,zt);if(!s||!g)return null;if(!n0(s.type,[oi(ar),Gn,ar]))return r.error(`Expected first argument to be of type array or string, but found ${Vr(s.type)} instead`);if(t.length===4){const v=r.parse(t[3],3,zt);return v?new Bi(s.type,s,g,v):null}return new Bi(s.type,s,g)}evaluate(t){const r=this.input.evaluate(t),s=this.beginIndex.evaluate(t);let g;if(this.endIndex&&(g=this.endIndex.evaluate(t)),La(r,["string"]))return[...r].slice(s,g).join("");if(La(r,["array"]))return r.slice(s,g);throw new zr(`Expected first argument to be of type array or string, but found ${Vr(ui(r))} instead.`)}eachChild(t){t(this.input),t(this.beginIndex),this.endIndex&&t(this.endIndex)}outputDefined(){return!1}}function js(i,t){const r=i.length-1;let s,g,v=0,b=r,I=0;for(;v<=b;)if(I=Math.floor((v+b)/2),s=i[I],g=i[I+1],s<=t){if(I===r||t<g)return I;v=I+1}else{if(!(s>t))throw new zr("Input is not a number.");b=I-1}return 0}class Pi{constructor(t,r,s){this.type=t,this.input=r,this.labels=[],this.outputs=[];for(const[g,v]of s)this.labels.push(g),this.outputs.push(v)}static parse(t,r){if(t.length-1<4)return r.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return r.error("Expected an even number of arguments.");const s=r.parse(t[1],1,zt);if(!s)return null;const g=[];let v=null;r.expectedType&&r.expectedType.kind!=="value"&&(v=r.expectedType);for(let b=1;b<t.length;b+=2){const I=b===1?-1/0:t[b],P=t[b+1],R=b,G=b+1;if(typeof I!="number")return r.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',R);if(g.length&&g[g.length-1][0]>=I)return r.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',R);const N=r.parse(P,G,v);if(!N)return null;v=v||N.type,g.push([I,N])}return new Pi(v,s,g)}evaluate(t){const r=this.labels,s=this.outputs;if(r.length===1)return s[0].evaluate(t);const g=this.input.evaluate(t);if(g<=r[0])return s[0].evaluate(t);const v=r.length;return g>=r[v-1]?s[v-1].evaluate(t):s[js(r,g)].evaluate(t)}eachChild(t){t(this.input);for(const r of this.outputs)t(r)}outputDefined(){return this.outputs.every(t=>t.outputDefined())}}function Ai(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Cs,hl,X0=function(){if(hl)return Cs;function i(t,r,s,g){this.cx=3*t,this.bx=3*(s-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*r,this.by=3*(g-r)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=r,this.p2x=s,this.p2y=g}return hl=1,Cs=i,i.prototype={sampleCurveX:function(t){return((this.ax*t+this.bx)*t+this.cx)*t},sampleCurveY:function(t){return((this.ay*t+this.by)*t+this.cy)*t},sampleCurveDerivativeX:function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},solveCurveX:function(t,r){if(r===void 0&&(r=1e-6),t<0)return 0;if(t>1)return 1;for(var s=t,g=0;g<8;g++){var v=this.sampleCurveX(s)-t;if(Math.abs(v)<r)return s;var b=this.sampleCurveDerivativeX(s);if(Math.abs(b)<1e-6)break;s-=v/b}var I=0,P=1;for(s=t,g=0;g<20&&(v=this.sampleCurveX(s),!(Math.abs(v-t)<r));g++)t>v?I=s:P=s,s=.5*(P-I)+I;return s},solve:function(t,r){return this.sampleCurveY(this.solveCurveX(t,r))}},Cs}(),_a=Ai(X0);class Oi{constructor(t,r,s,g,v){this.type=t,this.operator=r,this.interpolation=s,this.input=g,this.labels=[],this.outputs=[];for(const[b,I]of v)this.labels.push(b),this.outputs.push(I)}static interpolationFactor(t,r,s,g){let v=0;if(t.name==="exponential")v=Ei(r,t.base,s,g);else if(t.name==="linear")v=Ei(r,1,s,g);else if(t.name==="cubic-bezier"){const b=t.controlPoints;v=new _a(b[0],b[1],b[2],b[3]).solve(Ei(r,1,s,g))}return v}static parse(t,r){let[s,g,v,...b]=t;if(!Array.isArray(g)||g.length===0)return r.error("Expected an interpolation type expression.",1);if(g[0]==="linear")g={name:"linear"};else if(g[0]==="exponential"){const R=g[1];if(typeof R!="number")return r.error("Exponential interpolation requires a numeric base.",1,1);g={name:"exponential",base:R}}else{if(g[0]!=="cubic-bezier")return r.error(`Unknown interpolation type ${String(g[0])}`,1,0);{const R=g.slice(1);if(R.length!==4||R.some(G=>typeof G!="number"||G<0||G>1))return r.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);g={name:"cubic-bezier",controlPoints:R}}}if(t.length-1<4)return r.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return r.error("Expected an even number of arguments.");if(v=r.parse(v,2,zt),!v)return null;const I=[];let P=null;s!=="interpolate-hcl"&&s!=="interpolate-lab"||r.expectedType==ol?r.expectedType&&r.expectedType.kind!=="value"&&(P=r.expectedType):P=Nr;for(let R=0;R<b.length;R+=2){const G=b[R],N=b[R+1],H=R+3,Y=R+4;if(typeof G!="number")return r.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',H);if(I.length&&I[I.length-1][0]>=G)return r.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',H);const ee=r.parse(N,Y,P);if(!ee)return null;P=P||ee.type,I.push([G,ee])}return na(P,zt)||na(P,$r)||na(P,Nr)||na(P,Po)||na(P,Wa)||na(P,ol)||na(P,or)||na(P,oi(zt))?new Oi(P,s,g,v,I):r.error(`Type ${Vr(P)} is not interpolatable.`)}evaluate(t){const r=this.labels,s=this.outputs;if(r.length===1)return s[0].evaluate(t);const g=this.input.evaluate(t);if(g<=r[0])return s[0].evaluate(t);const v=r.length;if(g>=r[v-1])return s[v-1].evaluate(t);const b=js(r,g),I=Oi.interpolationFactor(this.interpolation,g,r[b],r[b+1]),P=s[b].evaluate(t),R=s[b+1].evaluate(t);switch(this.operator){case"interpolate":switch(this.type.kind){case"number":return gi(P,R,I);case"color":return er.interpolate(P,R,I);case"padding":return li.interpolate(P,R,I);case"colorArray":return Ii.interpolate(P,R,I);case"numberArray":return Ur.interpolate(P,R,I);case"variableAnchorOffsetCollection":return Ba.interpolate(P,R,I);case"array":return ra(P,R,I);case"projectionDefinition":return uo.interpolate(P,R,I)}case"interpolate-hcl":switch(this.type.kind){case"color":return er.interpolate(P,R,I,"hcl");case"colorArray":return Ii.interpolate(P,R,I,"hcl")}case"interpolate-lab":switch(this.type.kind){case"color":return er.interpolate(P,R,I,"lab");case"colorArray":return Ii.interpolate(P,R,I,"lab")}}}eachChild(t){t(this.input);for(const r of this.outputs)t(r)}outputDefined(){return this.outputs.every(t=>t.outputDefined())}}function Ei(i,t,r,s){const g=s-r,v=i-r;return g===0?0:t===1?v/g:(Math.pow(t,v)-1)/(Math.pow(t,g)-1)}const fo={color:er.interpolate,number:gi,padding:li.interpolate,numberArray:Ur.interpolate,colorArray:Ii.interpolate,variableAnchorOffsetCollection:Ba.interpolate,array:ra};class Vs{constructor(t,r){this.type=t,this.args=r}static parse(t,r){if(t.length<2)return r.error("Expected at least one argument.");let s=null;const g=r.expectedType;g&&g.kind!=="value"&&(s=g);const v=[];for(const I of t.slice(1)){const P=r.parse(I,1+v.length,s,void 0,{typeAnnotation:"omit"});if(!P)return null;s=s||P.type,v.push(P)}if(!s)throw new Error("No output type");const b=g&&v.some(I=>oo(g,I.type));return new Vs(b?ar:s,v)}evaluate(t){let r,s=null,g=0;for(const v of this.args)if(g++,s=v.evaluate(t),s&&s instanceof ia&&!s.available&&(r||(r=s.name),s=null,g===this.args.length&&(s=r)),s!==null)break;return s}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}}function ko(i,t){return i==="=="||i==="!="?t.kind==="boolean"||t.kind==="string"||t.kind==="number"||t.kind==="null"||t.kind==="value":t.kind==="string"||t.kind==="number"||t.kind==="value"}function Ta(i,t,r,s){return s.compare(t,r)===0}function Wi(i,t,r){const s=i!=="=="&&i!=="!=";return class Ux{constructor(v,b,I){this.type=nr,this.lhs=v,this.rhs=b,this.collator=I,this.hasUntypedArgument=v.type.kind==="value"||b.type.kind==="value"}static parse(v,b){if(v.length!==3&&v.length!==4)return b.error("Expected two or three arguments.");const I=v[0];let P=b.parse(v[1],1,ar);if(!P)return null;if(!ko(I,P.type))return b.concat(1).error(`"${I}" comparisons are not supported for type '${Vr(P.type)}'.`);let R=b.parse(v[2],2,ar);if(!R)return null;if(!ko(I,R.type))return b.concat(2).error(`"${I}" comparisons are not supported for type '${Vr(R.type)}'.`);if(P.type.kind!==R.type.kind&&P.type.kind!=="value"&&R.type.kind!=="value")return b.error(`Cannot compare types '${Vr(P.type)}' and '${Vr(R.type)}'.`);s&&(P.type.kind==="value"&&R.type.kind!=="value"?P=new Yn(R.type,[P]):P.type.kind!=="value"&&R.type.kind==="value"&&(R=new Yn(P.type,[R])));let G=null;if(v.length===4){if(P.type.kind!=="string"&&R.type.kind!=="string"&&P.type.kind!=="value"&&R.type.kind!=="value")return b.error("Cannot use collator to compare non-string types.");if(G=b.parse(v[3],3,ns),!G)return null}return new Ux(P,R,G)}evaluate(v){const b=this.lhs.evaluate(v),I=this.rhs.evaluate(v);if(s&&this.hasUntypedArgument){const P=ui(b),R=ui(I);if(P.kind!==R.kind||P.kind!=="string"&&P.kind!=="number")throw new zr(`Expected arguments for "${i}" to be (string, string) or (number, number), but found (${P.kind}, ${R.kind}) instead.`)}if(this.collator&&!s&&this.hasUntypedArgument){const P=ui(b),R=ui(I);if(P.kind!=="string"||R.kind!=="string")return t(v,b,I)}return this.collator?r(v,b,I,this.collator.evaluate(v)):t(v,b,I)}eachChild(v){v(this.lhs),v(this.rhs),this.collator&&v(this.collator)}outputDefined(){return!0}}}const Zr=Wi("==",function(i,t,r){return t===r},Ta),Zs=Wi("!=",function(i,t,r){return t!==r},function(i,t,r,s){return!Ta(0,t,r,s)}),Y0=Wi("<",function(i,t,r){return t<r},function(i,t,r,s){return s.compare(t,r)<0}),Nc=Wi(">",function(i,t,r){return t>r},function(i,t,r,s){return s.compare(t,r)>0}),D0=Wi("<=",function(i,t,r){return t<=r},function(i,t,r,s){return s.compare(t,r)<=0}),$c=Wi(">=",function(i,t,r){return t>=r},function(i,t,r,s){return s.compare(t,r)>=0});class C0{constructor(t,r,s){this.type=ns,this.locale=s,this.caseSensitive=t,this.diacriticSensitive=r}static parse(t,r){if(t.length!==2)return r.error("Expected one argument.");const s=t[1];if(typeof s!="object"||Array.isArray(s))return r.error("Collator options argument must be an object.");const g=r.parse(s["case-sensitive"]!==void 0&&s["case-sensitive"],1,nr);if(!g)return null;const v=r.parse(s["diacritic-sensitive"]!==void 0&&s["diacritic-sensitive"],1,nr);if(!v)return null;let b=null;return s.locale&&(b=r.parse(s.locale,1,Gn),!b)?null:new C0(g,v,b)}evaluate(t){return new lo(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)}eachChild(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)}outputDefined(){return!1}}class pl{constructor(t,r,s,g,v){this.type=Gn,this.number=t,this.locale=r,this.currency=s,this.minFractionDigits=g,this.maxFractionDigits=v}static parse(t,r){if(t.length!==3)return r.error("Expected two arguments.");const s=r.parse(t[1],1,zt);if(!s)return null;const g=t[2];if(typeof g!="object"||Array.isArray(g))return r.error("NumberFormat options argument must be an object.");let v=null;if(g.locale&&(v=r.parse(g.locale,1,Gn),!v))return null;let b=null;if(g.currency&&(b=r.parse(g.currency,1,Gn),!b))return null;let I=null;if(g["min-fraction-digits"]&&(I=r.parse(g["min-fraction-digits"],1,zt),!I))return null;let P=null;return g["max-fraction-digits"]&&(P=r.parse(g["max-fraction-digits"],1,zt),!P)?null:new pl(s,v,b,I,P)}evaluate(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))}eachChild(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)}outputDefined(){return!1}}class zl{constructor(t){this.type=rs,this.sections=t}static parse(t,r){if(t.length<2)return r.error("Expected at least one argument.");const s=t[1];if(!Array.isArray(s)&&typeof s=="object")return r.error("First argument must be an image or text section.");const g=[];let v=!1;for(let b=1;b<=t.length-1;++b){const I=t[b];if(v&&typeof I=="object"&&!Array.isArray(I)){v=!1;let P=null;if(I["font-scale"]&&(P=r.parse(I["font-scale"],1,zt),!P))return null;let R=null;if(I["text-font"]&&(R=r.parse(I["text-font"],1,oi(Gn)),!R))return null;let G=null;if(I["text-color"]&&(G=r.parse(I["text-color"],1,Nr),!G))return null;let N=null;if(I["vertical-align"]){if(typeof I["vertical-align"]=="string"&&!Aa.includes(I["vertical-align"]))return r.error(`'vertical-align' must be one of: 'bottom', 'center', 'top' but found '${I["vertical-align"]}' instead.`);if(N=r.parse(I["vertical-align"],1,Gn),!N)return null}const H=g[g.length-1];H.scale=P,H.font=R,H.textColor=G,H.verticalAlign=N}else{const P=r.parse(t[b],1,ar);if(!P)return null;const R=P.type.kind;if(R!=="string"&&R!=="value"&&R!=="null"&&R!=="resolvedImage")return r.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");v=!0,g.push({content:P,scale:null,font:null,textColor:null,verticalAlign:null})}}return new zl(g)}evaluate(t){return new si(this.sections.map(r=>{const s=r.content.evaluate(t);return ui(s)===Os?new Sa("",s,null,null,null,r.verticalAlign?r.verticalAlign.evaluate(t):null):new Sa(Un(s),null,r.scale?r.scale.evaluate(t):null,r.font?r.font.evaluate(t).join(","):null,r.textColor?r.textColor.evaluate(t):null,r.verticalAlign?r.verticalAlign.evaluate(t):null)}))}eachChild(t){for(const r of this.sections)t(r.content),r.scale&&t(r.scale),r.font&&t(r.font),r.textColor&&t(r.textColor),r.verticalAlign&&t(r.verticalAlign)}outputDefined(){return!1}}class Gl{constructor(t){this.type=Os,this.input=t}static parse(t,r){if(t.length!==2)return r.error("Expected two arguments.");const s=r.parse(t[1],1,Gn);return s?new Gl(s):r.error("No image name provided.")}evaluate(t){const r=this.input.evaluate(t),s=ia.fromString(r);return s&&t.availableImages&&(s.available=t.availableImages.indexOf(r)>-1),s}eachChild(t){t(this.input)}outputDefined(){return!1}}class Ws{constructor(t){this.type=zt,this.input=t}static parse(t,r){if(t.length!==2)return r.error(`Expected 1 argument, but found ${t.length-1} instead.`);const s=r.parse(t[1],1);return s?s.type.kind!=="array"&&s.type.kind!=="string"&&s.type.kind!=="value"?r.error(`Expected argument of type string or array, but found ${Vr(s.type)} instead.`):new Ws(s):null}evaluate(t){const r=this.input.evaluate(t);if(typeof r=="string")return[...r].length;if(Array.isArray(r))return r.length;throw new zr(`Expected value to be of type string or array, but found ${Vr(ui(r))} instead.`)}eachChild(t){t(this.input)}outputDefined(){return!1}}const Ro=8192;function Q0(i,t){const r=(180+i[0])/360,s=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+i[1]*Math.PI/360)))/360,g=Math.pow(2,t.z);return[Math.round(r*g*Ro),Math.round(s*g*Ro)]}function J0(i,t){const r=Math.pow(2,t.z);return[(g=(i[0]/Ro+t.x)/r,360*g-180),(s=(i[1]/Ro+t.y)/r,360/Math.PI*Math.atan(Math.exp((180-360*s)*Math.PI/180))-90)];var s,g}function F(i,t){i[0]=Math.min(i[0],t[0]),i[1]=Math.min(i[1],t[1]),i[2]=Math.max(i[2],t[0]),i[3]=Math.max(i[3],t[1])}function X(i,t){return!(i[0]<=t[0]||i[2]>=t[2]||i[1]<=t[1]||i[3]>=t[3])}function he(i,t,r){const s=i[0]-t[0],g=i[1]-t[1],v=i[0]-r[0],b=i[1]-r[1];return s*b-v*g==0&&s*v<=0&&g*b<=0}function Ae(i,t,r,s){return(g=[s[0]-r[0],s[1]-r[1]])[0]*(v=[t[0]-i[0],t[1]-i[1]])[1]-g[1]*v[0]!=0&&!(!cr(i,t,r,s)||!cr(r,s,i,t));var g,v}function _t(i,t,r){for(const s of r)for(let g=0;g<s.length-1;++g)if(Ae(i,t,s[g],s[g+1]))return!0;return!1}function st(i,t,r=!1){let s=!1;for(const I of t)for(let P=0;P<I.length-1;P++){if(he(i,I[P],I[P+1]))return r;(v=I[P])[1]>(g=i)[1]!=(b=I[P+1])[1]>g[1]&&g[0]<(b[0]-v[0])*(g[1]-v[1])/(b[1]-v[1])+v[0]&&(s=!s)}var g,v,b;return s}function Bt(i,t){for(const r of t)if(st(i,r))return!0;return!1}function ln(i,t){for(const r of i)if(!st(r,t))return!1;for(let r=0;r<i.length-1;++r)if(_t(i[r],i[r+1],t))return!1;return!0}function Bn(i,t){for(const r of t)if(ln(i,r))return!0;return!1}function cr(i,t,r,s){const g=s[0]-r[0],v=s[1]-r[1],b=(i[0]-r[0])*v-g*(i[1]-r[1]),I=(t[0]-r[0])*v-g*(t[1]-r[1]);return b>0&&I<0||b<0&&I>0}function Qn(i,t,r){const s=[];for(let g=0;g<i.length;g++){const v=[];for(let b=0;b<i[g].length;b++){const I=Q0(i[g][b],r);F(t,I),v.push(I)}s.push(v)}return s}function hi(i,t,r){const s=[];for(let g=0;g<i.length;g++){const v=Qn(i[g],t,r);s.push(v)}return s}function Oa(i,t,r,s){if(i[0]<r[0]||i[0]>r[2]){const g=.5*s;let v=i[0]-r[0]>g?-s:r[0]-i[0]>g?s:0;v===0&&(v=i[0]-r[2]>g?-s:r[2]-i[0]>g?s:0),i[0]+=v}F(t,i)}function Uo(i,t,r,s){const g=Math.pow(2,s.z)*Ro,v=[s.x*Ro,s.y*Ro],b=[];for(const I of i)for(const P of I){const R=[P.x+v[0],P.y+v[1]];Oa(R,t,r,g),b.push(R)}return b}function go(i,t,r,s){const g=Math.pow(2,s.z)*Ro,v=[s.x*Ro,s.y*Ro],b=[];for(const P of i){const R=[];for(const G of P){const N=[G.x+v[0],G.y+v[1]];F(t,N),R.push(N)}b.push(R)}if(t[2]-t[0]<=g/2){(I=t)[0]=I[1]=1/0,I[2]=I[3]=-1/0;for(const P of b)for(const R of P)Oa(R,t,r,g)}var I;return b}class is{constructor(t,r){this.type=nr,this.geojson=t,this.geometries=r}static parse(t,r){if(t.length!==2)return r.error(`'within' expression requires exactly one argument, but found ${t.length-1} instead.`);if(Rr(t[1])){const s=t[1];if(s.type==="FeatureCollection"){const g=[];for(const v of s.features){const{type:b,coordinates:I}=v.geometry;b==="Polygon"&&g.push(I),b==="MultiPolygon"&&g.push(...I)}if(g.length)return new is(s,{type:"MultiPolygon",coordinates:g})}else if(s.type==="Feature"){const g=s.geometry.type;if(g==="Polygon"||g==="MultiPolygon")return new is(s,s.geometry)}else if(s.type==="Polygon"||s.type==="MultiPolygon")return new is(s,s)}return r.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(t){if(t.geometry()!=null&&t.canonicalID()!=null){if(t.geometryType()==="Point")return function(r,s){const g=[1/0,1/0,-1/0,-1/0],v=[1/0,1/0,-1/0,-1/0],b=r.canonicalID();if(s.type==="Polygon"){const I=Qn(s.coordinates,v,b),P=Uo(r.geometry(),g,v,b);if(!X(g,v))return!1;for(const R of P)if(!st(R,I))return!1}if(s.type==="MultiPolygon"){const I=hi(s.coordinates,v,b),P=Uo(r.geometry(),g,v,b);if(!X(g,v))return!1;for(const R of P)if(!Bt(R,I))return!1}return!0}(t,this.geometries);if(t.geometryType()==="LineString")return function(r,s){const g=[1/0,1/0,-1/0,-1/0],v=[1/0,1/0,-1/0,-1/0],b=r.canonicalID();if(s.type==="Polygon"){const I=Qn(s.coordinates,v,b),P=go(r.geometry(),g,v,b);if(!X(g,v))return!1;for(const R of P)if(!ln(R,I))return!1}if(s.type==="MultiPolygon"){const I=hi(s.coordinates,v,b),P=go(r.geometry(),g,v,b);if(!X(g,v))return!1;for(const R of P)if(!Bn(R,I))return!1}return!0}(t,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}let Bu=class{constructor(i=[],t=(r,s)=>r<s?-1:r>s?1:0){if(this.data=i,this.length=this.data.length,this.compare=t,this.length>0)for(let r=(this.length>>1)-1;r>=0;r--)this._down(r)}push(i){this.data.push(i),this._up(this.length++)}pop(){if(this.length===0)return;const i=this.data[0],t=this.data.pop();return--this.length>0&&(this.data[0]=t,this._down(0)),i}peek(){return this.data[0]}_up(i){const{data:t,compare:r}=this,s=t[i];for(;i>0;){const g=i-1>>1,v=t[g];if(r(s,v)>=0)break;t[i]=v,i=g}t[i]=s}_down(i){const{data:t,compare:r}=this,s=this.length>>1,g=t[i];for(;i<s;){let v=1+(i<<1);const b=v+1;if(b<this.length&&r(t[b],t[v])<0&&(v=b),r(t[v],g)>=0)break;t[i]=t[v],i=v}t[i]=g}};function dl(i,t,r=0,s=i.length-1,g=yp){for(;s>r;){if(s-r>600){const P=s-r+1,R=t-r+1,G=Math.log(P),N=.5*Math.exp(2*G/3),H=.5*Math.sqrt(G*N*(P-N)/P)*(R-P/2<0?-1:1);dl(i,t,Math.max(r,Math.floor(t-R*N/P+H)),Math.min(s,Math.floor(t+(P-R)*N/P+H)),g)}const v=i[t];let b=r,I=s;for(fl(i,r,t),g(i[s],v)>0&&fl(i,r,s);b<I;){for(fl(i,b,I),b++,I--;g(i[b],v)<0;)b++;for(;g(i[I],v)>0;)I--}g(i[r],v)===0?fl(i,r,I):(I++,fl(i,I,s)),I<=t&&(r=I+1),t<=I&&(s=I-1)}}function fl(i,t,r){const s=i[t];i[t]=i[r],i[r]=s}function yp(i,t){return i<t?-1:i>t?1:0}function jc(i,t){if(i.length<=1)return[i];const r=[];let s,g;for(const v of i){const b=Rh(v);b!==0&&(v.area=Math.abs(b),g===void 0&&(g=b<0),g===b<0?(s&&r.push(s),s=[v]):s.push(v))}if(s&&r.push(s),t>1)for(let v=0;v<r.length;v++)r[v].length<=t||(dl(r[v],t,1,r[v].length-1,Vc),r[v]=r[v].slice(0,t));return r}function Vc(i,t){return t.area-i.area}function Rh(i){let t=0;for(let r,s,g=0,v=i.length,b=v-1;g<v;b=g++)r=i[g],s=i[b],t+=(s.x-r.x)*(r.y+s.y);return t}const as=1/298.257223563,o0=as*(2-as),_p=Math.PI/180;class Ou{constructor(t){const r=6378.137*_p*1e3,s=Math.cos(t*_p),g=1/(1-o0*(1-s*s)),v=Math.sqrt(g);this.kx=r*v*s,this.ky=r*v*g*(1-o0)}distance(t,r){const s=this.wrap(t[0]-r[0])*this.kx,g=(t[1]-r[1])*this.ky;return Math.sqrt(s*s+g*g)}pointOnLine(t,r){let s,g,v,b,I=1/0;for(let P=0;P<t.length-1;P++){let R=t[P][0],G=t[P][1],N=this.wrap(t[P+1][0]-R)*this.kx,H=(t[P+1][1]-G)*this.ky,Y=0;N===0&&H===0||(Y=(this.wrap(r[0]-R)*this.kx*N+(r[1]-G)*this.ky*H)/(N*N+H*H),Y>1?(R=t[P+1][0],G=t[P+1][1]):Y>0&&(R+=N/this.kx*Y,G+=H/this.ky*Y)),N=this.wrap(r[0]-R)*this.kx,H=(r[1]-G)*this.ky;const ee=N*N+H*H;ee<I&&(I=ee,s=R,g=G,v=P,b=Y)}return{point:[s,g],index:v,t:Math.max(0,Math.min(1,b))}}wrap(t){for(;t<-180;)t+=360;for(;t>180;)t-=360;return t}}function vp(i,t){return t[0]-i[0]}function Dr(i){return i[1]-i[0]+1}function oa(i,t){return i[1]>=i[0]&&i[1]<t}function Fu(i,t){if(i[0]>i[1])return[null,null];const r=Dr(i);if(t){if(r===2)return[i,null];const g=Math.floor(r/2);return[[i[0],i[0]+g],[i[0]+g,i[1]]]}if(r===1)return[i,null];const s=Math.floor(r/2)-1;return[[i[0],i[0]+s],[i[0]+s+1,i[1]]]}function Zc(i,t){if(!oa(t,i.length))return[1/0,1/0,-1/0,-1/0];const r=[1/0,1/0,-1/0,-1/0];for(let s=t[0];s<=t[1];++s)F(r,i[s]);return r}function Wc(i){const t=[1/0,1/0,-1/0,-1/0];for(const r of i)for(const s of r)F(t,s);return t}function Uh(i){return i[0]!==-1/0&&i[1]!==-1/0&&i[2]!==1/0&&i[3]!==1/0}function zh(i,t,r){if(!Uh(i)||!Uh(t))return NaN;let s=0,g=0;return i[2]<t[0]&&(s=t[0]-i[2]),i[0]>t[2]&&(s=i[0]-t[2]),i[1]>t[3]&&(g=i[1]-t[3]),i[3]<t[1]&&(g=t[1]-i[3]),r.distance([0,0],[s,g])}function eu(i,t,r){const s=r.pointOnLine(t,i);return r.distance(i,s.point)}function I0(i,t,r,s,g){const v=Math.min(eu(i,[r,s],g),eu(t,[r,s],g)),b=Math.min(eu(r,[i,t],g),eu(s,[i,t],g));return Math.min(v,b)}function it(i,t,r,s,g){if(!oa(t,i.length)||!oa(s,r.length))return 1/0;let v=1/0;for(let b=t[0];b<t[1];++b){const I=i[b],P=i[b+1];for(let R=s[0];R<s[1];++R){const G=r[R],N=r[R+1];if(Ae(I,P,G,N))return 0;v=Math.min(v,I0(I,P,G,N,g))}}return v}function Lt(i,t,r,s,g){if(!oa(t,i.length)||!oa(s,r.length))return NaN;let v=1/0;for(let b=t[0];b<=t[1];++b)for(let I=s[0];I<=s[1];++I)if(v=Math.min(v,g.distance(i[b],r[I])),v===0)return v;return v}function bt(i,t,r){if(st(i,t,!0))return 0;let s=1/0;for(const g of t){const v=g[0],b=g[g.length-1];if(v!==b&&(s=Math.min(s,eu(i,[b,v],r)),s===0))return s;const I=r.pointOnLine(g,i);if(s=Math.min(s,r.distance(i,I.point)),s===0)return s}return s}function Sn(i,t,r,s){if(!oa(t,i.length))return NaN;for(let v=t[0];v<=t[1];++v)if(st(i[v],r,!0))return 0;let g=1/0;for(let v=t[0];v<t[1];++v){const b=i[v],I=i[v+1];for(const P of r)for(let R=0,G=P.length,N=G-1;R<G;N=R++){const H=P[N],Y=P[R];if(Ae(b,I,H,Y))return 0;g=Math.min(g,I0(b,I,H,Y,s))}}return g}function hr(i,t){for(const r of i)for(const s of r)if(st(s,t,!0))return!0;return!1}function Wr(i,t,r,s=1/0){const g=Wc(i),v=Wc(t);if(s!==1/0&&zh(g,v,r)>=s)return s;if(X(g,v)){if(hr(i,t))return 0}else if(hr(t,i))return 0;let b=1/0;for(const I of i)for(let P=0,R=I.length,G=R-1;P<R;G=P++){const N=I[G],H=I[P];for(const Y of t)for(let ee=0,se=Y.length,ve=se-1;ee<se;ve=ee++){const Ie=Y[ve],qe=Y[ee];if(Ae(N,H,Ie,qe))return 0;b=Math.min(b,I0(N,H,Ie,qe,r))}}return b}function sa(i,t,r,s,g,v){if(!v)return;const b=zh(Zc(s,v),g,r);b<t&&i.push([b,v,[0,0]])}function Qr(i,t,r,s,g,v,b){if(!v||!b)return;const I=zh(Zc(s,v),Zc(g,b),r);I<t&&i.push([I,v,b])}function A0(i,t,r,s,g=1/0){let v=Math.min(s.distance(i[0],r[0][0]),g);if(v===0)return v;const b=new Bu([[0,[0,i.length-1],[0,0]]],vp),I=Wc(r);for(;b.length>0;){const P=b.pop();if(P[0]>=v)continue;const R=P[1],G=t?50:100;if(Dr(R)<=G){if(!oa(R,i.length))return NaN;if(t){const N=Sn(i,R,r,s);if(isNaN(N)||N===0)return N;v=Math.min(v,N)}else for(let N=R[0];N<=R[1];++N){const H=bt(i[N],r,s);if(v=Math.min(v,H),v===0)return 0}}else{const N=Fu(R,t);sa(b,v,s,i,I,N[0]),sa(b,v,s,i,I,N[1])}}return v}function Hc(i,t,r,s,g,v=1/0){let b=Math.min(v,g.distance(i[0],r[0]));if(b===0)return b;const I=new Bu([[0,[0,i.length-1],[0,r.length-1]]],vp);for(;I.length>0;){const P=I.pop();if(P[0]>=b)continue;const R=P[1],G=P[2],N=t?50:100,H=s?50:100;if(Dr(R)<=N&&Dr(G)<=H){if(!oa(R,i.length)&&oa(G,r.length))return NaN;let Y;if(t&&s)Y=it(i,R,r,G,g),b=Math.min(b,Y);else if(t&&!s){const ee=i.slice(R[0],R[1]+1);for(let se=G[0];se<=G[1];++se)if(Y=eu(r[se],ee,g),b=Math.min(b,Y),b===0)return b}else if(!t&&s){const ee=r.slice(G[0],G[1]+1);for(let se=R[0];se<=R[1];++se)if(Y=eu(i[se],ee,g),b=Math.min(b,Y),b===0)return b}else Y=Lt(i,R,r,G,g),b=Math.min(b,Y)}else{const Y=Fu(R,t),ee=Fu(G,s);Qr(I,b,g,i,r,Y[0],ee[0]),Qr(I,b,g,i,r,Y[0],ee[1]),Qr(I,b,g,i,r,Y[1],ee[0]),Qr(I,b,g,i,r,Y[1],ee[1])}}return b}function os(i){return i.type==="MultiPolygon"?i.coordinates.map(t=>({type:"Polygon",coordinates:t})):i.type==="MultiLineString"?i.coordinates.map(t=>({type:"LineString",coordinates:t})):i.type==="MultiPoint"?i.coordinates.map(t=>({type:"Point",coordinates:t})):[i]}class zo{constructor(t,r){this.type=zt,this.geojson=t,this.geometries=r}static parse(t,r){if(t.length!==2)return r.error(`'distance' expression requires exactly one argument, but found ${t.length-1} instead.`);if(Rr(t[1])){const s=t[1];if(s.type==="FeatureCollection")return new zo(s,s.features.map(g=>os(g.geometry)).flat());if(s.type==="Feature")return new zo(s,os(s.geometry));if("type"in s&&"coordinates"in s)return new zo(s,os(s))}return r.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(t){if(t.geometry()!=null&&t.canonicalID()!=null){if(t.geometryType()==="Point")return function(r,s){const g=r.geometry(),v=g.flat().map(P=>J0([P.x,P.y],r.canonical));if(g.length===0)return NaN;const b=new Ou(v[0][1]);let I=1/0;for(const P of s){switch(P.type){case"Point":I=Math.min(I,Hc(v,!1,[P.coordinates],!1,b,I));break;case"LineString":I=Math.min(I,Hc(v,!1,P.coordinates,!0,b,I));break;case"Polygon":I=Math.min(I,A0(v,!1,P.coordinates,b,I))}if(I===0)return I}return I}(t,this.geometries);if(t.geometryType()==="LineString")return function(r,s){const g=r.geometry(),v=g.flat().map(P=>J0([P.x,P.y],r.canonical));if(g.length===0)return NaN;const b=new Ou(v[0][1]);let I=1/0;for(const P of s){switch(P.type){case"Point":I=Math.min(I,Hc(v,!0,[P.coordinates],!1,b,I));break;case"LineString":I=Math.min(I,Hc(v,!0,P.coordinates,!0,b,I));break;case"Polygon":I=Math.min(I,A0(v,!0,P.coordinates,b,I))}if(I===0)return I}return I}(t,this.geometries);if(t.geometryType()==="Polygon")return function(r,s){const g=r.geometry();if(g.length===0||g[0].length===0)return NaN;const v=jc(g,0).map(P=>P.map(R=>R.map(G=>J0([G.x,G.y],r.canonical)))),b=new Ou(v[0][0][0][1]);let I=1/0;for(const P of s)for(const R of v){switch(P.type){case"Point":I=Math.min(I,A0([P.coordinates],!1,R,b,I));break;case"LineString":I=Math.min(I,A0(P.coordinates,!0,R,b,I));break;case"Polygon":I=Math.min(I,Wr(R,P.coordinates,b,I))}if(I===0)return I}return I}(t,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}class Nu{constructor(t){this.type=ar,this.key=t}static parse(t,r){if(t.length!==2)return r.error(`Expected 1 argument, but found ${t.length-1} instead.`);const s=t[1];return s==null?r.error("Global state property must be defined."):typeof s!="string"?r.error(`Global state property must be string, but found ${typeof t[1]} instead.`):new Nu(s)}evaluate(t){var r;const s=(r=t.globals)===null||r===void 0?void 0:r.globalState;return s&&Object.keys(s).length!==0?Ut(s,this.key):null}eachChild(){}outputDefined(){return!1}}const Go={"==":Zr,"!=":Zs,">":Nc,"<":Y0,">=":$c,"<=":D0,array:Yn,at:ci,boolean:Yn,case:mi,coalesce:Vs,collator:C0,format:zl,image:Gl,in:ul,"index-of":po,interpolate:Oi,"interpolate-hcl":Oi,"interpolate-lab":Oi,length:Ws,let:Ds,literal:vn,match:cl,number:Yn,"number-format":pl,object:Yn,slice:Bi,step:Pi,string:Yn,"to-boolean":aa,"to-color":aa,"to-number":aa,"to-string":aa,var:a0,within:is,distance:zo,"global-state":Nu};class Ha{constructor(t,r,s,g){this.name=t,this.type=r,this._evaluate=s,this.args=g}evaluate(t){return this._evaluate(t,this.args)}eachChild(t){this.args.forEach(t)}outputDefined(){return!1}static parse(t,r){const s=t[0],g=Ha.definitions[s];if(!g)return r.error(`Unknown expression "${s}". If you wanted a literal array, use ["literal", [...]].`,0);const v=Array.isArray(g)?g[0]:g.type,b=Array.isArray(g)?[[g[1],g[2]]]:g.overloads,I=b.filter(([R])=>!Array.isArray(R)||R.length===t.length-1);let P=null;for(const[R,G]of I){P=new $s(r.registry,T0,r.path,null,r.scope);const N=[];let H=!1;for(let Y=1;Y<t.length;Y++){const ee=t[Y],se=Array.isArray(R)?R[Y-1]:R.type,ve=P.parse(ee,1+N.length,se);if(!ve){H=!0;break}N.push(ve)}if(!H)if(Array.isArray(R)&&R.length!==N.length)P.error(`Expected ${R.length} arguments, but found ${N.length} instead.`);else{for(let Y=0;Y<N.length;Y++){const ee=Array.isArray(R)?R[Y]:R.type,se=N[Y];P.concat(Y+1).checkSubtype(ee,se.type)}if(P.errors.length===0)return new Ha(s,v,G,N)}}if(I.length===1)r.errors.push(...P.errors);else{const R=(I.length?I:b).map(([N])=>{return H=N,Array.isArray(H)?`(${H.map(Vr).join(", ")})`:`(${Vr(H.type)}...)`;var H}).join(" | "),G=[];for(let N=1;N<t.length;N++){const H=r.parse(t[N],1+G.length);if(!H)return null;G.push(Vr(H.type))}r.error(`Expected arguments of type ${R}, but found (${G.join(", ")}) instead.`)}return null}static register(t,r){Ha.definitions=r;for(const s in r)t[s]=Ha}}function $u(i,[t,r,s,g]){t=t.evaluate(i),r=r.evaluate(i),s=s.evaluate(i);const v=g?g.evaluate(i):1,b=co(t,r,s,v);if(b)throw new zr(b);return new er(t/255,r/255,s/255,v,!1)}function jr(i,t){return i in t}function S0(i,t){const r=t[i];return r===void 0?null:r}function Ll(i){return{type:i}}function T0(i){if(i instanceof a0)return T0(i.boundExpression);if(i instanceof Ha&&i.name==="error"||i instanceof C0||i instanceof is||i instanceof zo||i instanceof Nu)return!1;const t=i instanceof aa||i instanceof Yn;let r=!0;return i.eachChild(s=>{r=t?r&&T0(s):r&&s instanceof vn}),!!r&&tu(i)&&fc(i,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function tu(i){if(i instanceof Ha&&(i.name==="get"&&i.args.length===1||i.name==="feature-state"||i.name==="has"&&i.args.length===1||i.name==="properties"||i.name==="geometry-type"||i.name==="id"||/^filter-/.test(i.name))||i instanceof is||i instanceof zo)return!1;let t=!0;return i.eachChild(r=>{t&&!tu(r)&&(t=!1)}),t}function ju(i){if(i instanceof Ha&&i.name==="feature-state")return!1;let t=!0;return i.eachChild(r=>{t&&!ju(r)&&(t=!1)}),t}function fc(i,t){if(i instanceof Ha&&t.indexOf(i.name)>=0)return!1;let r=!0;return i.eachChild(s=>{r&&!fc(s,t)&&(r=!1)}),r}function M0(i){return{result:"success",value:i}}function ss(i){return{result:"error",value:i}}function Bl(i){return i["property-type"]==="data-driven"||i["property-type"]==="cross-faded-data-driven"}function qc(i){return!!i.expression&&i.expression.parameters.indexOf("zoom")>-1}function ls(i){return!!i.expression&&i.expression.interpolated}function _r(i){return i instanceof Number?"number":i instanceof String?"string":i instanceof Boolean?"boolean":Array.isArray(i)?"array":i===null?"null":typeof i}function nu(i){return typeof i=="object"&&i!==null&&!Array.isArray(i)&&ui(i)===Ia}function ru(i){return i}function Kc(i,t){const r=i.stops&&typeof i.stops[0][0]=="object",s=r||!(r||i.property!==void 0),g=i.type||(ls(t)?"exponential":"interval"),v=function(G){switch(G.type){case"color":return er.parse;case"padding":return li.parse;case"numberArray":return Ur.parse;case"colorArray":return Ii.parse;default:return null}}(t);if(v&&((i=br({},i)).stops&&(i.stops=i.stops.map(G=>[G[0],v(G[1])])),i.default=v(i.default?i.default:t.default)),i.colorSpace&&(b=i.colorSpace)!=="rgb"&&b!=="hcl"&&b!=="lab")throw new Error(`Unknown color space: "${i.colorSpace}"`);var b;const I=function(G){switch(G){case"exponential":return Gh;case"interval":return gc;case"categorical":return iu;case"identity":return ki;default:throw new Error(`Unknown function type "${G}"`)}}(g);let P,R;if(g==="categorical"){P=Object.create(null);for(const G of i.stops)P[G[0]]=G[1];R=typeof i.stops[0][0]}if(r){const G={},N=[];for(let ee=0;ee<i.stops.length;ee++){const se=i.stops[ee],ve=se[0].zoom;G[ve]===void 0&&(G[ve]={zoom:ve,type:i.type,property:i.property,default:i.default,stops:[]},N.push(ve)),G[ve].stops.push([se[0].value,se[1]])}const H=[];for(const ee of N)H.push([G[ee].zoom,Kc(G[ee],t)]);const Y={name:"linear"};return{kind:"composite",interpolationType:Y,interpolationFactor:Oi.interpolationFactor.bind(void 0,Y),zoomStops:H.map(ee=>ee[0]),evaluate:({zoom:ee},se)=>Gh({stops:H,base:i.base},t,ee).evaluate(ee,se)}}if(s){const G=g==="exponential"?{name:"exponential",base:i.base!==void 0?i.base:1}:null;return{kind:"camera",interpolationType:G,interpolationFactor:Oi.interpolationFactor.bind(void 0,G),zoomStops:i.stops.map(N=>N[0]),evaluate:({zoom:N})=>I(i,t,N,P,R)}}return{kind:"source",evaluate(G,N){const H=N&&N.properties?N.properties[i.property]:void 0;return H===void 0?Is(i.default,t.default):I(i,t,H,P,R)}}}function Is(i,t,r){return i!==void 0?i:t!==void 0?t:r!==void 0?r:void 0}function iu(i,t,r,s,g){return Is(typeof r===g?s[r]:void 0,i.default,t.default)}function gc(i,t,r){if(_r(r)!=="number")return Is(i.default,t.default);const s=i.stops.length;if(s===1||r<=i.stops[0][0])return i.stops[0][1];if(r>=i.stops[s-1][0])return i.stops[s-1][1];const g=js(i.stops.map(v=>v[0]),r);return i.stops[g][1]}function Gh(i,t,r){const s=i.base!==void 0?i.base:1;if(_r(r)!=="number")return Is(i.default,t.default);const g=i.stops.length;if(g===1||r<=i.stops[0][0])return i.stops[0][1];if(r>=i.stops[g-1][0])return i.stops[g-1][1];const v=js(i.stops.map(G=>G[0]),r),b=function(G,N,H,Y){const ee=Y-H,se=G-H;return ee===0?0:N===1?se/ee:(Math.pow(N,se)-1)/(Math.pow(N,ee)-1)}(r,s,i.stops[v][0],i.stops[v+1][0]),I=i.stops[v][1],P=i.stops[v+1][1],R=fo[t.type]||ru;return typeof I.evaluate=="function"?{evaluate(...G){const N=I.evaluate.apply(void 0,G),H=P.evaluate.apply(void 0,G);if(N!==void 0&&H!==void 0)return R(N,H,b,i.colorSpace)}}:R(I,P,b,i.colorSpace)}function ki(i,t,r){switch(t.type){case"color":r=er.parse(r);break;case"formatted":r=si.fromString(r.toString());break;case"resolvedImage":r=ia.fromString(r.toString());break;case"padding":r=li.parse(r);break;case"colorArray":r=Ii.parse(r);break;case"numberArray":r=Ur.parse(r);break;default:_r(r)===t.type||t.type==="enum"&&t.values[r]||(r=void 0)}return Is(r,i.default,t.default)}Ha.register(Go,{error:[{kind:"error"},[Gn],(i,[t])=>{throw new zr(t.evaluate(i))}],typeof:[Gn,[ar],(i,[t])=>Vr(ui(t.evaluate(i)))],"to-rgba":[oi(zt,4),[Nr],(i,[t])=>{const[r,s,g,v]=t.evaluate(i).rgb;return[255*r,255*s,255*g,v]}],rgb:[Nr,[zt,zt,zt],$u],rgba:[Nr,[zt,zt,zt,zt],$u],has:{type:nr,overloads:[[[Gn],(i,[t])=>jr(t.evaluate(i),i.properties())],[[Gn,Ia],(i,[t,r])=>jr(t.evaluate(i),r.evaluate(i))]]},get:{type:ar,overloads:[[[Gn],(i,[t])=>S0(t.evaluate(i),i.properties())],[[Gn,Ia],(i,[t,r])=>S0(t.evaluate(i),r.evaluate(i))]]},"feature-state":[ar,[Gn],(i,[t])=>S0(t.evaluate(i),i.featureState||{})],properties:[Ia,[],i=>i.properties()],"geometry-type":[Gn,[],i=>i.geometryType()],id:[ar,[],i=>i.id()],zoom:[zt,[],i=>i.globals.zoom],"heatmap-density":[zt,[],i=>i.globals.heatmapDensity||0],"line-progress":[zt,[],i=>i.globals.lineProgress||0],accumulated:[ar,[],i=>i.globals.accumulated===void 0?null:i.globals.accumulated],"+":[zt,Ll(zt),(i,t)=>{let r=0;for(const s of t)r+=s.evaluate(i);return r}],"*":[zt,Ll(zt),(i,t)=>{let r=1;for(const s of t)r*=s.evaluate(i);return r}],"-":{type:zt,overloads:[[[zt,zt],(i,[t,r])=>t.evaluate(i)-r.evaluate(i)],[[zt],(i,[t])=>-t.evaluate(i)]]},"/":[zt,[zt,zt],(i,[t,r])=>t.evaluate(i)/r.evaluate(i)],"%":[zt,[zt,zt],(i,[t,r])=>t.evaluate(i)%r.evaluate(i)],ln2:[zt,[],()=>Math.LN2],pi:[zt,[],()=>Math.PI],e:[zt,[],()=>Math.E],"^":[zt,[zt,zt],(i,[t,r])=>Math.pow(t.evaluate(i),r.evaluate(i))],sqrt:[zt,[zt],(i,[t])=>Math.sqrt(t.evaluate(i))],log10:[zt,[zt],(i,[t])=>Math.log(t.evaluate(i))/Math.LN10],ln:[zt,[zt],(i,[t])=>Math.log(t.evaluate(i))],log2:[zt,[zt],(i,[t])=>Math.log(t.evaluate(i))/Math.LN2],sin:[zt,[zt],(i,[t])=>Math.sin(t.evaluate(i))],cos:[zt,[zt],(i,[t])=>Math.cos(t.evaluate(i))],tan:[zt,[zt],(i,[t])=>Math.tan(t.evaluate(i))],asin:[zt,[zt],(i,[t])=>Math.asin(t.evaluate(i))],acos:[zt,[zt],(i,[t])=>Math.acos(t.evaluate(i))],atan:[zt,[zt],(i,[t])=>Math.atan(t.evaluate(i))],min:[zt,Ll(zt),(i,t)=>Math.min(...t.map(r=>r.evaluate(i)))],max:[zt,Ll(zt),(i,t)=>Math.max(...t.map(r=>r.evaluate(i)))],abs:[zt,[zt],(i,[t])=>Math.abs(t.evaluate(i))],round:[zt,[zt],(i,[t])=>{const r=t.evaluate(i);return r<0?-Math.round(-r):Math.round(r)}],floor:[zt,[zt],(i,[t])=>Math.floor(t.evaluate(i))],ceil:[zt,[zt],(i,[t])=>Math.ceil(t.evaluate(i))],"filter-==":[nr,[Gn,ar],(i,[t,r])=>i.properties()[t.value]===r.value],"filter-id-==":[nr,[ar],(i,[t])=>i.id()===t.value],"filter-type-==":[nr,[Gn],(i,[t])=>i.geometryType()===t.value],"filter-<":[nr,[Gn,ar],(i,[t,r])=>{const s=i.properties()[t.value],g=r.value;return typeof s==typeof g&&s<g}],"filter-id-<":[nr,[ar],(i,[t])=>{const r=i.id(),s=t.value;return typeof r==typeof s&&r<s}],"filter->":[nr,[Gn,ar],(i,[t,r])=>{const s=i.properties()[t.value],g=r.value;return typeof s==typeof g&&s>g}],"filter-id->":[nr,[ar],(i,[t])=>{const r=i.id(),s=t.value;return typeof r==typeof s&&r>s}],"filter-<=":[nr,[Gn,ar],(i,[t,r])=>{const s=i.properties()[t.value],g=r.value;return typeof s==typeof g&&s<=g}],"filter-id-<=":[nr,[ar],(i,[t])=>{const r=i.id(),s=t.value;return typeof r==typeof s&&r<=s}],"filter->=":[nr,[Gn,ar],(i,[t,r])=>{const s=i.properties()[t.value],g=r.value;return typeof s==typeof g&&s>=g}],"filter-id->=":[nr,[ar],(i,[t])=>{const r=i.id(),s=t.value;return typeof r==typeof s&&r>=s}],"filter-has":[nr,[ar],(i,[t])=>t.value in i.properties()],"filter-has-id":[nr,[],i=>i.id()!==null&&i.id()!==void 0],"filter-type-in":[nr,[oi(Gn)],(i,[t])=>t.value.indexOf(i.geometryType())>=0],"filter-id-in":[nr,[oi(ar)],(i,[t])=>t.value.indexOf(i.id())>=0],"filter-in-small":[nr,[Gn,oi(ar)],(i,[t,r])=>r.value.indexOf(i.properties()[t.value])>=0],"filter-in-large":[nr,[Gn,oi(ar)],(i,[t,r])=>function(s,g,v,b){for(;v<=b;){const I=v+b>>1;if(g[I]===s)return!0;g[I]>s?b=I-1:v=I+1}return!1}(i.properties()[t.value],r.value,0,r.value.length-1)],all:{type:nr,overloads:[[[nr,nr],(i,[t,r])=>t.evaluate(i)&&r.evaluate(i)],[Ll(nr),(i,t)=>{for(const r of t)if(!r.evaluate(i))return!1;return!0}]]},any:{type:nr,overloads:[[[nr,nr],(i,[t,r])=>t.evaluate(i)||r.evaluate(i)],[Ll(nr),(i,t)=>{for(const r of t)if(r.evaluate(i))return!0;return!1}]]},"!":[nr,[nr],(i,[t])=>!t.evaluate(i)],"is-supported-script":[nr,[Gn],(i,[t])=>{const r=i.globals&&i.globals.isSupportedScript;return!r||r(t.evaluate(i))}],upcase:[Gn,[Gn],(i,[t])=>t.evaluate(i).toUpperCase()],downcase:[Gn,[Gn],(i,[t])=>t.evaluate(i).toLowerCase()],concat:[Gn,Ll(ar),(i,t)=>t.map(r=>Un(r.evaluate(i))).join("")],"resolved-locale":[Gn,[ns],(i,[t])=>t.evaluate(i).resolvedLocale()]});class Vu{constructor(t,r){this.expression=t,this._warningHistory={},this._evaluator=new w0,this._defaultValue=r?function(s){if(s.type==="color"&&nu(s.default))return new er(0,0,0,0);switch(s.type){case"color":return er.parse(s.default)||null;case"padding":return li.parse(s.default)||null;case"numberArray":return Ur.parse(s.default)||null;case"colorArray":return Ii.parse(s.default)||null;case"variableAnchorOffsetCollection":return Ba.parse(s.default)||null;case"projectionDefinition":return uo.parse(s.default)||null;default:return s.default===void 0?null:s.default}}(r):null,this._enumValues=r&&r.type==="enum"?r.values:null}evaluateWithoutErrorHandling(t,r,s,g,v,b){return this._evaluator.globals=t,this._evaluator.feature=r,this._evaluator.featureState=s,this._evaluator.canonical=g,this._evaluator.availableImages=v||null,this._evaluator.formattedSection=b,this.expression.evaluate(this._evaluator)}evaluate(t,r,s,g,v,b){this._evaluator.globals=t,this._evaluator.feature=r||null,this._evaluator.featureState=s||null,this._evaluator.canonical=g,this._evaluator.availableImages=v||null,this._evaluator.formattedSection=b||null;try{const I=this.expression.evaluate(this._evaluator);if(I==null||typeof I=="number"&&I!=I)return this._defaultValue;if(this._enumValues&&!(I in this._enumValues))throw new zr(`Expected value to be one of ${Object.keys(this._enumValues).map(P=>JSON.stringify(P)).join(", ")}, but found ${JSON.stringify(I)} instead.`);return I}catch(I){return this._warningHistory[I.message]||(this._warningHistory[I.message]=!0,typeof console<"u"&&console.warn(I.message)),this._defaultValue}}}function gl(i){return Array.isArray(i)&&i.length>0&&typeof i[0]=="string"&&i[0]in Go}function ml(i,t){const r=new $s(Go,T0,[],t?function(g){const v={color:Nr,string:Gn,number:zt,enum:Gn,boolean:nr,formatted:rs,padding:Po,numberArray:Wa,colorArray:ol,projectionDefinition:$r,resolvedImage:Os,variableAnchorOffsetCollection:or};return g.type==="array"?oi(v[g.value]||ar,g.length):v[g.type]}(t):void 0),s=r.parse(i,void 0,void 0,void 0,t&&t.type==="string"?{typeAnnotation:"coerce"}:void 0);return s?M0(new Vu(s,t)):ss(r.errors)}class Zu{constructor(t,r){this.kind=t,this._styleExpression=r,this.isStateDependent=t!=="constant"&&!ju(r.expression)}evaluateWithoutErrorHandling(t,r,s,g,v,b){return this._styleExpression.evaluateWithoutErrorHandling(t,r,s,g,v,b)}evaluate(t,r,s,g,v,b){return this._styleExpression.evaluate(t,r,s,g,v,b)}}class Wu{constructor(t,r,s,g){this.kind=t,this.zoomStops=s,this._styleExpression=r,this.isStateDependent=t!=="camera"&&!ju(r.expression),this.interpolationType=g}evaluateWithoutErrorHandling(t,r,s,g,v,b){return this._styleExpression.evaluateWithoutErrorHandling(t,r,s,g,v,b)}evaluate(t,r,s,g,v,b){return this._styleExpression.evaluate(t,r,s,g,v,b)}interpolationFactor(t,r,s){return this.interpolationType?Oi.interpolationFactor(this.interpolationType,t,r,s):0}}function P0(i,t){const r=ml(i,t);if(r.result==="error")return r;const s=r.value.expression,g=tu(s);if(!g&&!Bl(t))return ss([new dr("","data expressions not supported")]);const v=fc(s,["zoom"]);if(!v&&!qc(t))return ss([new dr("","zoom expressions not supported")]);const b=Ol(s);return b||v?b instanceof dr?ss([b]):b instanceof Oi&&!ls(t)?ss([new dr("",'"interpolate" expressions cannot be used with this property')]):M0(b?new Wu(g?"camera":"composite",r.value,b.labels,b instanceof Oi?b.interpolation:void 0):new Zu(g?"constant":"source",r.value)):ss([new dr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class E0{constructor(t,r){this._parameters=t,this._specification=r,br(this,Kc(this._parameters,this._specification))}static deserialize(t){return new E0(t._parameters,t._specification)}static serialize(t){return{_parameters:t._parameters,_specification:t._specification}}}function Ol(i){let t=null;if(i instanceof Ds)t=Ol(i.result);else if(i instanceof Vs){for(const r of i.args)if(t=Ol(r),t)break}else(i instanceof Pi||i instanceof Oi)&&i.input instanceof Ha&&i.input.name==="zoom"&&(t=i);return t instanceof dr||i.eachChild(r=>{const s=Ol(r);s instanceof dr?t=s:!t&&s?t=new dr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):t&&s&&t!==s&&(t=new dr("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),t}function Fi(i){if(i===!0||i===!1)return!0;if(!Array.isArray(i)||i.length===0)return!1;switch(i[0]){case"has":return i.length>=2&&i[1]!=="$id"&&i[1]!=="$type";case"in":return i.length>=3&&(typeof i[1]!="string"||Array.isArray(i[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return i.length!==3||Array.isArray(i[1])||Array.isArray(i[2]);case"any":case"all":for(const t of i.slice(1))if(!Fi(t)&&typeof t!="boolean")return!1;return!0;default:return!0}}const Fa={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function mc(i){if(i==null)return{filter:()=>!0,needGeometry:!1};Fi(i)||(i=au(i));const t=ml(i,Fa);if(t.result==="error")throw new Error(t.value.map(r=>`${r.key}: ${r.message}`).join(", "));return{filter:(r,s,g)=>t.value.evaluate(r,s,{},g),needGeometry:Hu(i)}}function yc(i,t){return i<t?-1:i>t?1:0}function Hu(i){if(!Array.isArray(i))return!1;if(i[0]==="within"||i[0]==="distance")return!0;for(let t=1;t<i.length;t++)if(Hu(i[t]))return!0;return!1}function au(i){if(!i)return!0;const t=i[0];return i.length<=1?t!=="any":t==="=="?ou(i[1],i[2],"=="):t==="!="?yl(ou(i[1],i[2],"==")):t==="<"||t===">"||t==="<="||t===">="?ou(i[1],i[2],t):t==="any"?(r=i.slice(1),["any"].concat(r.map(au))):t==="all"?["all"].concat(i.slice(1).map(au)):t==="none"?["all"].concat(i.slice(1).map(au).map(yl)):t==="in"?k0(i[1],i.slice(2)):t==="!in"?yl(k0(i[1],i.slice(2))):t==="has"?qu(i[1]):t!=="!has"||yl(qu(i[1]));var r}function ou(i,t,r){switch(i){case"$type":return[`filter-type-${r}`,t];case"$id":return[`filter-id-${r}`,t];default:return[`filter-${r}`,i,t]}}function k0(i,t){if(t.length===0)return!1;switch(i){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some(r=>typeof r!=typeof t[0])?["filter-in-large",i,["literal",t.sort(yc)]]:["filter-in-small",i,["literal",t]]}}function qu(i){switch(i){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",i]}}function yl(i){return["!",i]}function R0(i){const t=typeof i;if(t==="number"||t==="boolean"||t==="string"||i==null)return JSON.stringify(i);if(Array.isArray(i)){let g="[";for(const v of i)g+=`${R0(v)},`;return`${g}]`}const r=Object.keys(i).sort();let s="{";for(let g=0;g<r.length;g++)s+=`${JSON.stringify(r[g])}:${R0(i[r[g]])},`;return`${s}}`}function su(i){let t="";for(const r of Je)t+=`/${R0(i[r])}`;return t}function U0(i){const t=i.value;return t?[new wt(i.key,t,"constants have been deprecated as of v8")]:[]}function Di(i){return i instanceof Number||i instanceof String||i instanceof Boolean?i.valueOf():i}function Fl(i){if(Array.isArray(i))return i.map(Fl);if(i instanceof Object&&!(i instanceof Number||i instanceof String||i instanceof Boolean)){const t={};for(const r in i)t[r]=Fl(i[r]);return t}return Di(i)}function va(i){const t=i.key,r=i.value,s=i.valueSpec||{},g=i.objectElementValidators||{},v=i.style,b=i.styleSpec,I=i.validateSpec;let P=[];const R=_r(r);if(R!=="object")return[new wt(t,r,`object expected, ${R} found`)];for(const G in r){const N=G.split(".")[0],H=Ut(s,N)||s["*"];let Y;if(Ut(g,N))Y=g[N];else if(Ut(s,N))Y=I;else if(g["*"])Y=g["*"];else{if(!s["*"]){P.push(new wt(t,r[G],`unknown property "${G}"`));continue}Y=I}P=P.concat(Y({key:(t&&`${t}.`)+G,value:r[G],valueSpec:H,style:v,styleSpec:b,object:r,objectKey:G,validateSpec:I},r))}for(const G in s)g[G]||s[G].required&&s[G].default===void 0&&r[G]===void 0&&P.push(new wt(t,r,`missing required property "${G}"`));return P}function Xc(i){const t=i.value,r=i.valueSpec,s=i.style,g=i.styleSpec,v=i.key,b=i.arrayElementValidator||i.validateSpec;if(_r(t)!=="array")return[new wt(v,t,`array expected, ${_r(t)} found`)];if(r.length&&t.length!==r.length)return[new wt(v,t,`array length ${r.length} expected, length ${t.length} found`)];if(r["min-length"]&&t.length<r["min-length"])return[new wt(v,t,`array length at least ${r["min-length"]} expected, length ${t.length} found`)];let I={type:r.value,values:r.values};g.$version<7&&(I.function=r.function),_r(r.value)==="object"&&(I=r.value);let P=[];for(let R=0;R<t.length;R++)P=P.concat(b({array:t,arrayIndex:R,value:t[R],valueSpec:I,validateSpec:i.validateSpec,style:s,styleSpec:g,key:`${v}[${R}]`}));return P}function Nl(i){const t=i.key,r=i.value,s=i.valueSpec;let g=_r(r);return g==="number"&&r!=r&&(g="NaN"),g!=="number"?[new wt(t,r,`number expected, ${g} found`)]:"minimum"in s&&r<s.minimum?[new wt(t,r,`${r} is less than the minimum value ${s.minimum}`)]:"maximum"in s&&r>s.maximum?[new wt(t,r,`${r} is greater than the maximum value ${s.maximum}`)]:[]}function Hs(i){const t=i.valueSpec,r=Di(i.value.type);let s,g,v,b={};const I=r!=="categorical"&&i.value.property===void 0,P=!I,R=_r(i.value.stops)==="array"&&_r(i.value.stops[0])==="array"&&_r(i.value.stops[0][0])==="object",G=va({key:i.key,value:i.value,valueSpec:i.styleSpec.function,validateSpec:i.validateSpec,style:i.style,styleSpec:i.styleSpec,objectElementValidators:{stops:function(Y){if(r==="identity")return[new wt(Y.key,Y.value,'identity function may not have a "stops" property')];let ee=[];const se=Y.value;return ee=ee.concat(Xc({key:Y.key,value:se,valueSpec:Y.valueSpec,validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec,arrayElementValidator:N})),_r(se)==="array"&&se.length===0&&ee.push(new wt(Y.key,se,"array must have at least one stop")),ee},default:function(Y){return Y.validateSpec({key:Y.key,value:Y.value,valueSpec:t,validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec})}}});return r==="identity"&&I&&G.push(new wt(i.key,i.value,'missing required property "property"')),r==="identity"||i.value.stops||G.push(new wt(i.key,i.value,'missing required property "stops"')),r==="exponential"&&i.valueSpec.expression&&!ls(i.valueSpec)&&G.push(new wt(i.key,i.value,"exponential functions not supported")),i.styleSpec.$version>=8&&(P&&!Bl(i.valueSpec)?G.push(new wt(i.key,i.value,"property functions not supported")):I&&!qc(i.valueSpec)&&G.push(new wt(i.key,i.value,"zoom functions not supported"))),r!=="categorical"&&!R||i.value.property!==void 0||G.push(new wt(i.key,i.value,'"property" property is required')),G;function N(Y){let ee=[];const se=Y.value,ve=Y.key;if(_r(se)!=="array")return[new wt(ve,se,`array expected, ${_r(se)} found`)];if(se.length!==2)return[new wt(ve,se,`array length 2 expected, length ${se.length} found`)];if(R){if(_r(se[0])!=="object")return[new wt(ve,se,`object expected, ${_r(se[0])} found`)];if(se[0].zoom===void 0)return[new wt(ve,se,"object stop key must have zoom")];if(se[0].value===void 0)return[new wt(ve,se,"object stop key must have value")];if(v&&v>Di(se[0].zoom))return[new wt(ve,se[0].zoom,"stop zoom values must appear in ascending order")];Di(se[0].zoom)!==v&&(v=Di(se[0].zoom),g=void 0,b={}),ee=ee.concat(va({key:`${ve}[0]`,value:se[0],valueSpec:{zoom:{}},validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec,objectElementValidators:{zoom:Nl,value:H}}))}else ee=ee.concat(H({key:`${ve}[0]`,value:se[0],validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec},se));return gl(Fl(se[1]))?ee.concat([new wt(`${ve}[1]`,se[1],"expressions are not allowed in function stops.")]):ee.concat(Y.validateSpec({key:`${ve}[1]`,value:se[1],valueSpec:t,validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec}))}function H(Y,ee){const se=_r(Y.value),ve=Di(Y.value),Ie=Y.value!==null?Y.value:ee;if(s){if(se!==s)return[new wt(Y.key,Ie,`${se} stop domain type must match previous stop domain type ${s}`)]}else s=se;if(se!=="number"&&se!=="string"&&se!=="boolean")return[new wt(Y.key,Ie,"stop domain value must be a number, string, or boolean")];if(se!=="number"&&r!=="categorical"){let qe=`number expected, ${se} found`;return Bl(t)&&r===void 0&&(qe+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new wt(Y.key,Ie,qe)]}return r!=="categorical"||se!=="number"||isFinite(ve)&&Math.floor(ve)===ve?r!=="categorical"&&se==="number"&&g!==void 0&&ve<g?[new wt(Y.key,Ie,"stop domain values must appear in ascending order")]:(g=ve,r==="categorical"&&ve in b?[new wt(Y.key,Ie,"stop domain values must be unique")]:(b[ve]=!0,[])):[new wt(Y.key,Ie,`integer expected, found ${ve}`)]}}function qa(i){const t=(i.expressionContext==="property"?P0:ml)(Fl(i.value),i.valueSpec);if(t.result==="error")return t.value.map(s=>new wt(`${i.key}${s.key}`,i.value,s.message));const r=t.value.expression||t.value._styleExpression.expression;if(i.expressionContext==="property"&&i.propertyKey==="text-font"&&!r.outputDefined())return[new wt(i.key,i.value,`Invalid data expression for "${i.propertyKey}". Output values must be contained as literals within the expression.`)];if(i.expressionContext==="property"&&i.propertyType==="layout"&&!ju(r))return[new wt(i.key,i.value,'"feature-state" data expressions are not supported with layout properties.')];if(i.expressionContext==="filter"&&!ju(r))return[new wt(i.key,i.value,'"feature-state" data expressions are not supported with filters.')];if(i.expressionContext&&i.expressionContext.indexOf("cluster")===0){if(!fc(r,["zoom","feature-state"]))return[new wt(i.key,i.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(i.expressionContext==="cluster-initial"&&!tu(r))return[new wt(i.key,i.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Lo(i){const t=i.key,r=i.value,s=_r(r);return s!=="string"?[new wt(t,r,`color expected, ${s} found`)]:er.parse(String(r))?[]:[new wt(t,r,`color expected, "${r}" found`)]}function z0(i){const t=i.key,r=i.value,s=i.valueSpec,g=[];return Array.isArray(s.values)?s.values.indexOf(Di(r))===-1&&g.push(new wt(t,r,`expected one of [${s.values.join(", ")}], ${JSON.stringify(r)} found`)):Object.keys(s.values).indexOf(Di(r))===-1&&g.push(new wt(t,r,`expected one of [${Object.keys(s.values).join(", ")}], ${JSON.stringify(r)} found`)),g}function pe(i){return Fi(Fl(i.value))?qa(br({},i,{expressionContext:"filter",valueSpec:{value:"boolean"}})):lu(i)}function lu(i){const t=i.value,r=i.key;if(_r(t)!=="array")return[new wt(r,t,`array expected, ${_r(t)} found`)];const s=i.styleSpec;let g,v=[];if(t.length<1)return[new wt(r,t,"filter array must have at least 1 element")];switch(v=v.concat(z0({key:`${r}[0]`,value:t[0],valueSpec:s.filter_operator,style:i.style,styleSpec:i.styleSpec})),Di(t[0])){case"<":case"<=":case">":case">=":t.length>=2&&Di(t[1])==="$type"&&v.push(new wt(r,t,`"$type" cannot be use with operator "${t[0]}"`));case"==":case"!=":t.length!==3&&v.push(new wt(r,t,`filter array for operator "${t[0]}" must have 3 elements`));case"in":case"!in":t.length>=2&&(g=_r(t[1]),g!=="string"&&v.push(new wt(`${r}[1]`,t[1],`string expected, ${g} found`)));for(let b=2;b<t.length;b++)g=_r(t[b]),Di(t[1])==="$type"?v=v.concat(z0({key:`${r}[${b}]`,value:t[b],valueSpec:s.geometry_type,style:i.style,styleSpec:i.styleSpec})):g!=="string"&&g!=="number"&&g!=="boolean"&&v.push(new wt(`${r}[${b}]`,t[b],`string, number, or boolean expected, ${g} found`));break;case"any":case"all":case"none":for(let b=1;b<t.length;b++)v=v.concat(lu({key:`${r}[${b}]`,value:t[b],style:i.style,styleSpec:i.styleSpec}));break;case"has":case"!has":g=_r(t[1]),t.length!==2?v.push(new wt(r,t,`filter array for "${t[0]}" operator must have 2 elements`)):g!=="string"&&v.push(new wt(`${r}[1]`,t[1],`string expected, ${g} found`))}return v}function _l(i,t){const r=i.key,s=i.validateSpec,g=i.style,v=i.styleSpec,b=i.value,I=i.objectKey,P=v[`${t}_${i.layerType}`];if(!P)return[];const R=I.match(/^(.*)-transition$/);if(t==="paint"&&R&&P[R[1]]&&P[R[1]].transition)return s({key:r,value:b,valueSpec:v.transition,style:g,styleSpec:v});const G=i.valueSpec||P[I];if(!G)return[new wt(r,b,`unknown property "${I}"`)];let N;if(_r(b)==="string"&&Bl(G)&&!G.tokens&&(N=/^{([^}]+)}$/.exec(b)))return[new wt(r,b,`"${I}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(N[1])} }\`.`)];const H=[];return i.layerType==="symbol"&&(I==="text-field"&&g&&!g.glyphs&&H.push(new wt(r,b,'use of "text-field" requires a style "glyphs" property')),I==="text-font"&&nu(Fl(b))&&Di(b.type)==="identity"&&H.push(new wt(r,b,'"text-font" does not support identity functions'))),H.concat(s({key:i.key,value:b,valueSpec:G,style:g,styleSpec:v,expressionContext:"property",propertyType:t,propertyKey:I}))}function Ka(i){return _l(i,"paint")}function pr(i){return _l(i,"layout")}function s0(i){let t=[];const r=i.value,s=i.key,g=i.style,v=i.styleSpec;if(_r(r)!=="object")return[new wt(s,r,`object expected, ${_r(r)} found`)];r.type||r.ref||t.push(new wt(s,r,'either "type" or "ref" is required'));let b=Di(r.type);const I=Di(r.ref);if(r.id){const P=Di(r.id);for(let R=0;R<i.arrayIndex;R++){const G=g.layers[R];Di(G.id)===P&&t.push(new wt(s,r.id,`duplicate layer id "${r.id}", previously used at line ${G.id.__line__}`))}}if("ref"in r){let P;["type","source","source-layer","filter","layout"].forEach(R=>{R in r&&t.push(new wt(s,r[R],`"${R}" is prohibited for ref layers`))}),g.layers.forEach(R=>{Di(R.id)===I&&(P=R)}),P?P.ref?t.push(new wt(s,r.ref,"ref cannot reference another ref layer")):b=Di(P.type):t.push(new wt(s,r.ref,`ref layer "${I}" not found`))}else if(b!=="background")if(r.source){const P=g.sources&&g.sources[r.source],R=P&&Di(P.type);P?R==="vector"&&b==="raster"?t.push(new wt(s,r.source,`layer "${r.id}" requires a raster source`)):R!=="raster-dem"&&b==="hillshade"?t.push(new wt(s,r.source,`layer "${r.id}" requires a raster-dem source`)):R==="raster"&&b!=="raster"?t.push(new wt(s,r.source,`layer "${r.id}" requires a vector source`)):R!=="vector"||r["source-layer"]?R==="raster-dem"&&b!=="hillshade"?t.push(new wt(s,r.source,"raster-dem source can only be used with layer type 'hillshade'.")):b!=="line"||!r.paint||!r.paint["line-gradient"]||R==="geojson"&&P.lineMetrics||t.push(new wt(s,r,`layer "${r.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):t.push(new wt(s,r,`layer "${r.id}" must specify a "source-layer"`)):t.push(new wt(s,r.source,`source "${r.source}" not found`))}else t.push(new wt(s,r,'missing required property "source"'));return t=t.concat(va({key:s,value:r,valueSpec:v.layer,style:i.style,styleSpec:i.styleSpec,validateSpec:i.validateSpec,objectElementValidators:{"*":()=>[],type:()=>i.validateSpec({key:`${s}.type`,value:r.type,valueSpec:v.layer.type,style:i.style,styleSpec:i.styleSpec,validateSpec:i.validateSpec,object:r,objectKey:"type"}),filter:pe,layout:P=>va({layer:r,key:P.key,value:P.value,style:P.style,styleSpec:P.styleSpec,validateSpec:P.validateSpec,objectElementValidators:{"*":R=>pr(br({layerType:b},R))}}),paint:P=>va({layer:r,key:P.key,value:P.value,style:P.style,styleSpec:P.styleSpec,validateSpec:P.validateSpec,objectElementValidators:{"*":R=>Ka(br({layerType:b},R))}})}})),t}function la(i){const t=i.value,r=i.key,s=_r(t);return s!=="string"?[new wt(r,t,`string expected, ${s} found`)]:[]}const vl={promoteId:function({key:i,value:t}){if(_r(t)==="string")return la({key:i,value:t});{const r=[];for(const s in t)r.push(...la({key:`${i}.${s}`,value:t[s]}));return r}}};function mo(i){const t=i.value,r=i.key,s=i.styleSpec,g=i.style,v=i.validateSpec;if(!t.type)return[new wt(r,t,'"type" is required')];const b=Di(t.type);let I;switch(b){case"vector":case"raster":return I=va({key:r,value:t,valueSpec:s[`source_${b.replace("-","_")}`],style:i.style,styleSpec:s,objectElementValidators:vl,validateSpec:v}),I;case"raster-dem":return I=function(P){var R;const G=(R=P.sourceName)!==null&&R!==void 0?R:"",N=P.value,H=P.styleSpec,Y=H.source_raster_dem,ee=P.style;let se=[];const ve=_r(N);if(N===void 0)return se;if(ve!=="object")return se.push(new wt("source_raster_dem",N,`object expected, ${ve} found`)),se;const Ie=Di(N.encoding)==="custom",qe=["redFactor","greenFactor","blueFactor","baseShift"],Ue=P.value.encoding?`"${P.value.encoding}"`:"Default";for(const K in N)!Ie&&qe.includes(K)?se.push(new wt(K,N[K],`In "${G}": "${K}" is only valid when "encoding" is set to "custom". ${Ue} encoding found`)):Y[K]?se=se.concat(P.validateSpec({key:K,value:N[K],valueSpec:Y[K],validateSpec:P.validateSpec,style:ee,styleSpec:H})):se.push(new wt(K,N[K],`unknown property "${K}"`));return se}({sourceName:r,value:t,style:i.style,styleSpec:s,validateSpec:v}),I;case"geojson":if(I=va({key:r,value:t,valueSpec:s.source_geojson,style:g,styleSpec:s,validateSpec:v,objectElementValidators:vl}),t.cluster)for(const P in t.clusterProperties){const[R,G]=t.clusterProperties[P],N=typeof R=="string"?[R,["accumulated"],["get",P]]:R;I.push(...qa({key:`${r}.${P}.map`,value:G,expressionContext:"cluster-map"})),I.push(...qa({key:`${r}.${P}.reduce`,value:N,expressionContext:"cluster-reduce"}))}return I;case"video":return va({key:r,value:t,valueSpec:s.source_video,style:g,validateSpec:v,styleSpec:s});case"image":return va({key:r,value:t,valueSpec:s.source_image,style:g,validateSpec:v,styleSpec:s});case"canvas":return[new wt(r,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return z0({key:`${r}.type`,value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]}})}}function Si(i){const t=i.value,r=i.styleSpec,s=r.light,g=i.style;let v=[];const b=_r(t);if(t===void 0)return v;if(b!=="object")return v=v.concat([new wt("light",t,`object expected, ${b} found`)]),v;for(const I in t){const P=I.match(/^(.*)-transition$/);v=v.concat(P&&s[P[1]]&&s[P[1]].transition?i.validateSpec({key:I,value:t[I],valueSpec:r.transition,validateSpec:i.validateSpec,style:g,styleSpec:r}):s[I]?i.validateSpec({key:I,value:t[I],valueSpec:s[I],validateSpec:i.validateSpec,style:g,styleSpec:r}):[new wt(I,t[I],`unknown property "${I}"`)])}return v}function Ci(i){const t=i.value,r=i.styleSpec,s=r.sky,g=i.style,v=_r(t);if(t===void 0)return[];if(v!=="object")return[new wt("sky",t,`object expected, ${v} found`)];let b=[];for(const I in t)b=b.concat(s[I]?i.validateSpec({key:I,value:t[I],valueSpec:s[I],style:g,styleSpec:r}):[new wt(I,t[I],`unknown property "${I}"`)]);return b}function As(i){const t=i.value,r=i.styleSpec,s=r.terrain,g=i.style;let v=[];const b=_r(t);if(t===void 0)return v;if(b!=="object")return v=v.concat([new wt("terrain",t,`object expected, ${b} found`)]),v;for(const I in t)v=v.concat(s[I]?i.validateSpec({key:I,value:t[I],valueSpec:s[I],validateSpec:i.validateSpec,style:g,styleSpec:r}):[new wt(I,t[I],`unknown property "${I}"`)]);return v}function Na(i){let t=[];const r=i.value,s=i.key;if(Array.isArray(r)){const g=[],v=[];for(const b in r)r[b].id&&g.includes(r[b].id)&&t.push(new wt(s,r,`all the sprites' ids must be unique, but ${r[b].id} is duplicated`)),g.push(r[b].id),r[b].url&&v.includes(r[b].url)&&t.push(new wt(s,r,`all the sprites' URLs must be unique, but ${r[b].url} is duplicated`)),v.push(r[b].url),t=t.concat(va({key:`${s}[${b}]`,value:r[b],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:i.validateSpec}));return t}return la({key:s,value:r})}function Xa(i){return t=i.value,t&&t.constructor===Object?[]:[new wt(i.key,i.value,`object expected, ${_r(i.value)} found`)];var t}const yo={"*":()=>[],array:Xc,boolean:function(i){const t=i.value,r=i.key,s=_r(t);return s!=="boolean"?[new wt(r,t,`boolean expected, ${s} found`)]:[]},number:Nl,color:Lo,constants:U0,enum:z0,filter:pe,function:Hs,layer:s0,object:va,source:mo,light:Si,sky:Ci,terrain:As,projection:function(i){const t=i.value,r=i.styleSpec,s=r.projection,g=i.style,v=_r(t);if(t===void 0)return[];if(v!=="object")return[new wt("projection",t,`object expected, ${v} found`)];let b=[];for(const I in t)b=b.concat(s[I]?i.validateSpec({key:I,value:t[I],valueSpec:s[I],style:g,styleSpec:r}):[new wt(I,t[I],`unknown property "${I}"`)]);return b},projectionDefinition:function(i){const t=i.key;let r=i.value;r=r instanceof String?r.valueOf():r;const s=_r(r);return s!=="array"||function(g){return Array.isArray(g)&&g.length===3&&typeof g[0]=="string"&&typeof g[1]=="string"&&typeof g[2]=="number"}(r)||function(g){return!!["interpolate","step","literal"].includes(g[0])}(r)?["array","string"].includes(s)?[]:[new wt(t,r,`projection expected, invalid type "${s}" found`)]:[new wt(t,r,`projection expected, invalid array ${JSON.stringify(r)} found`)]},string:la,formatted:function(i){return la(i).length===0?[]:qa(i)},resolvedImage:function(i){return la(i).length===0?[]:qa(i)},padding:function(i){const t=i.key,r=i.value;if(_r(r)==="array"){if(r.length<1||r.length>4)return[new wt(t,r,`padding requires 1 to 4 values; ${r.length} values found`)];const s={type:"number"};let g=[];for(let v=0;v<r.length;v++)g=g.concat(i.validateSpec({key:`${t}[${v}]`,value:r[v],validateSpec:i.validateSpec,valueSpec:s}));return g}return Nl({key:t,value:r,valueSpec:{}})},numberArray:function(i){const t=i.key,r=i.value;if(_r(r)==="array"){const s={type:"number"};if(r.length<1)return[new wt(t,r,"array length at least 1 expected, length 0 found")];let g=[];for(let v=0;v<r.length;v++)g=g.concat(i.validateSpec({key:`${t}[${v}]`,value:r[v],validateSpec:i.validateSpec,valueSpec:s}));return g}return Nl({key:t,value:r,valueSpec:{}})},colorArray:function(i){const t=i.key,r=i.value;if(_r(r)==="array"){if(r.length<1)return[new wt(t,r,"array length at least 1 expected, length 0 found")];let s=[];for(let g=0;g<r.length;g++)s=s.concat(Lo({key:`${t}[${g}]`,value:r[g]}));return s}return Lo({key:t,value:r})},variableAnchorOffsetCollection:function(i){const t=i.key,r=i.value,s=_r(r),g=i.styleSpec;if(s!=="array"||r.length<1||r.length%2!=0)return[new wt(t,r,"variableAnchorOffsetCollection requires a non-empty array of even length")];let v=[];for(let b=0;b<r.length;b+=2)v=v.concat(z0({key:`${t}[${b}]`,value:r[b],valueSpec:g.layout_symbol["text-anchor"]})),v=v.concat(Xc({key:`${t}[${b+1}]`,value:r[b+1],valueSpec:{length:2,value:"number"},validateSpec:i.validateSpec,style:i.style,styleSpec:g}));return v},sprite:Na,state:Xa};function xl(i){const t=i.value,r=i.valueSpec,s=i.styleSpec;return i.validateSpec=xl,r.expression&&nu(Di(t))?Hs(i):r.expression&&gl(Fl(t))?qa(i):r.type&&yo[r.type]?yo[r.type](i):va(br({},i,{valueSpec:r.type?s[r.type]:r}))}function Bo(i){const t=i.value,r=i.key,s=la(i);return s.length||(t.indexOf("{fontstack}")===-1&&s.push(new wt(r,t,'"glyphs" url must include a "{fontstack}" token')),t.indexOf("{range}")===-1&&s.push(new wt(r,t,'"glyphs" url must include a "{range}" token'))),s}function Ma(i,t=ge){let r=[];return r=r.concat(xl({key:"",value:i,valueSpec:t.$root,styleSpec:t,style:i,validateSpec:xl,objectElementValidators:{glyphs:Bo,"*":()=>[]}})),i.constants&&(r=r.concat(U0({key:"constants",value:i.constants}))),uu(r)}function qs(i){return function(t){return i({...t,validateSpec:xl})}}function uu(i){return[].concat(i).sort((t,r)=>t.line-r.line)}function Hi(i){return function(...t){return uu(i.apply(this,t))}}Ma.source=Hi(qs(mo)),Ma.sprite=Hi(qs(Na)),Ma.glyphs=Hi(qs(Bo)),Ma.light=Hi(qs(Si)),Ma.sky=Hi(qs(Ci)),Ma.terrain=Hi(qs(As)),Ma.state=Hi(qs(Xa)),Ma.layer=Hi(qs(s0)),Ma.filter=Hi(qs(pe)),Ma.paintProperty=Hi(qs(Ka)),Ma.layoutProperty=Hi(qs(pr));const cu=Ma,Ks=cu.light,Yc=cu.sky,_c=cu.paintProperty,vc=cu.layoutProperty;function l0(i,t){let r=!1;if(t&&t.length)for(const s of t)i.fire(new Te(new Error(s.message))),r=!0;return r}class Ss{constructor(t,r,s){const g=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;const b=new Int32Array(this.arrayBuffer);t=b[0],this.d=(r=b[1])+2*(s=b[2]);for(let P=0;P<this.d*this.d;P++){const R=b[3+P],G=b[3+P+1];g.push(R===G?null:b.subarray(R,G))}const I=b[3+g.length+1];this.keys=b.subarray(b[3+g.length],I),this.bboxes=b.subarray(I),this.insert=this._insertReadonly}else{this.d=r+2*s;for(let b=0;b<this.d*this.d;b++)g.push([]);this.keys=[],this.bboxes=[]}this.n=r,this.extent=t,this.padding=s,this.scale=r/t,this.uid=0;const v=s/r*t;this.min=-v,this.max=t+v}insert(t,r,s,g,v){this._forEachCell(r,s,g,v,this._insertCell,this.uid++,void 0,void 0),this.keys.push(t),this.bboxes.push(r),this.bboxes.push(s),this.bboxes.push(g),this.bboxes.push(v)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(t,r,s,g,v,b){this.cells[v].push(b)}query(t,r,s,g,v){const b=this.min,I=this.max;if(t<=b&&r<=b&&I<=s&&I<=g&&!v)return Array.prototype.slice.call(this.keys);{const P=[];return this._forEachCell(t,r,s,g,this._queryCell,P,{},v),P}}_queryCell(t,r,s,g,v,b,I,P){const R=this.cells[v];if(R!==null){const G=this.keys,N=this.bboxes;for(let H=0;H<R.length;H++){const Y=R[H];if(I[Y]===void 0){const ee=4*Y;(P?P(N[ee+0],N[ee+1],N[ee+2],N[ee+3]):t<=N[ee+2]&&r<=N[ee+3]&&s>=N[ee+0]&&g>=N[ee+1])?(I[Y]=!0,b.push(G[Y])):I[Y]=!1}}}}_forEachCell(t,r,s,g,v,b,I,P){const R=this._convertToCellCoord(t),G=this._convertToCellCoord(r),N=this._convertToCellCoord(s),H=this._convertToCellCoord(g);for(let Y=R;Y<=N;Y++)for(let ee=G;ee<=H;ee++){const se=this.d*ee+Y;if((!P||P(this._convertFromCellCoord(Y),this._convertFromCellCoord(ee),this._convertFromCellCoord(Y+1),this._convertFromCellCoord(ee+1)))&&v.call(this,t,r,s,g,se,b,I,P))return}}_convertFromCellCoord(t){return(t-this.padding)/this.scale}_convertToCellCoord(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const t=this.cells,r=3+this.cells.length+1+1;let s=0;for(let b=0;b<this.cells.length;b++)s+=this.cells[b].length;const g=new Int32Array(r+s+this.keys.length+this.bboxes.length);g[0]=this.extent,g[1]=this.n,g[2]=this.padding;let v=r;for(let b=0;b<t.length;b++){const I=t[b];g[3+b]=v,g.set(I,v),v+=I.length}return g[3+t.length]=v,g.set(this.keys,v),v+=this.keys.length,g[3+t.length+1]=v,g.set(this.bboxes,v),v+=this.bboxes.length,g.buffer}static serialize(t,r){const s=t.toArrayBuffer();return r&&r.push(s),{buffer:s}}static deserialize(t){return new Ss(t.buffer)}}const Oo={};function un(i,t,r={}){if(Oo[i])throw new Error(`${i} is already registered.`);Object.defineProperty(t,"_classRegistryKey",{value:i,writeable:!1}),Oo[i]={klass:t,omit:r.omit||[],shallow:r.shallow||[]}}un("Object",Object),un("TransferableGridIndex",Ss),un("Color",er),un("Error",Error),un("AJAXError",wi),un("ResolvedImage",ia),un("StylePropertyFunction",E0),un("StyleExpression",Vu,{omit:["_evaluator"]}),un("ZoomDependentExpression",Wu),un("ZoomConstantExpression",Zu),un("CompoundExpression",Ha,{omit:["_evaluate"]});for(const i in Go)Go[i]._classRegistryKey||un(`Expression_${i}`,Go[i]);function hu(i){return i&&typeof ArrayBuffer<"u"&&(i instanceof ArrayBuffer||i.constructor&&i.constructor.name==="ArrayBuffer")}function pu(i){return i.$name||i.constructor._classRegistryKey}function Ts(i){return!function(t){if(t===null||typeof t!="object")return!1;const r=pu(t);return!(!r||r==="Object")}(i)&&(i==null||typeof i=="boolean"||typeof i=="number"||typeof i=="string"||i instanceof Boolean||i instanceof Number||i instanceof String||i instanceof Date||i instanceof RegExp||i instanceof Blob||i instanceof Error||hu(i)||Ir(i)||ArrayBuffer.isView(i)||i instanceof ImageData)}function Ya(i,t){if(Ts(i))return(hu(i)||Ir(i))&&t&&t.push(i),ArrayBuffer.isView(i)&&t&&t.push(i.buffer),i instanceof ImageData&&t&&t.push(i.data.buffer),i;if(Array.isArray(i)){const v=[];for(const b of i)v.push(Ya(b,t));return v}if(typeof i!="object")throw new Error("can't serialize object of type "+typeof i);const r=pu(i);if(!r)throw new Error(`can't serialize object of unregistered class ${i.constructor.name}`);if(!Oo[r])throw new Error(`${r} is not registered.`);const{klass:s}=Oo[r],g=s.serialize?s.serialize(i,t):{};if(s.serialize){if(t&&g===t[t.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const v in i){if(!i.hasOwnProperty(v)||Oo[r].omit.indexOf(v)>=0)continue;const b=i[v];g[v]=Oo[r].shallow.indexOf(v)>=0?b:Ya(b,t)}i instanceof Error&&(g.message=i.message)}if(g.$name)throw new Error("$name property is reserved for worker serialization logic.");return r!=="Object"&&(g.$name=r),g}function bl(i){if(Ts(i))return i;if(Array.isArray(i))return i.map(bl);if(typeof i!="object")throw new Error("can't deserialize object of type "+typeof i);const t=pu(i)||"Object";if(!Oo[t])throw new Error(`can't deserialize unregistered class ${t}`);const{klass:r}=Oo[t];if(!r)throw new Error(`can't deserialize unregistered class ${t}`);if(r.deserialize)return r.deserialize(i);const s=Object.create(r.prototype);for(const g of Object.keys(i)){if(g==="$name")continue;const v=i[g];s[g]=Oo[t].shallow.indexOf(g)>=0?v:bl(v)}return s}class Xs{constructor(){this.first=!0}update(t,r){const s=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=s,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=s,!0):(this.lastFloorZoom>s?(this.lastIntegerZoom=s+1,this.lastIntegerZoomTime=r):this.lastFloorZoom<s&&(this.lastIntegerZoom=s,this.lastIntegerZoomTime=r),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=s,!0))}}const sr={"Latin-1 Supplement":i=>i>=128&&i<=255,"Hangul Jamo":i=>i>=4352&&i<=4607,Khmer:i=>i>=6016&&i<=6143,"General Punctuation":i=>i>=8192&&i<=8303,"Letterlike Symbols":i=>i>=8448&&i<=8527,"Number Forms":i=>i>=8528&&i<=8591,"Miscellaneous Technical":i=>i>=8960&&i<=9215,"Control Pictures":i=>i>=9216&&i<=9279,"Optical Character Recognition":i=>i>=9280&&i<=9311,"Enclosed Alphanumerics":i=>i>=9312&&i<=9471,"Geometric Shapes":i=>i>=9632&&i<=9727,"Miscellaneous Symbols":i=>i>=9728&&i<=9983,"Miscellaneous Symbols and Arrows":i=>i>=11008&&i<=11263,"Ideographic Description Characters":i=>i>=12272&&i<=12287,"CJK Symbols and Punctuation":i=>i>=12288&&i<=12351,Hiragana:i=>i>=12352&&i<=12447,Katakana:i=>i>=12448&&i<=12543,Kanbun:i=>i>=12688&&i<=12703,"CJK Strokes":i=>i>=12736&&i<=12783,"Enclosed CJK Letters and Months":i=>i>=12800&&i<=13055,"CJK Compatibility":i=>i>=13056&&i<=13311,"Yijing Hexagram Symbols":i=>i>=19904&&i<=19967,"CJK Unified Ideographs":i=>i>=19968&&i<=40959,"Hangul Syllables":i=>i>=44032&&i<=55215,"Private Use Area":i=>i>=57344&&i<=63743,"Vertical Forms":i=>i>=65040&&i<=65055,"CJK Compatibility Forms":i=>i>=65072&&i<=65103,"Small Form Variants":i=>i>=65104&&i<=65135,"Halfwidth and Fullwidth Forms":i=>i>=65280&&i<=65519};function $l(i){for(const t of i)if(yi(t.charCodeAt(0)))return!0;return!1}function xp(i){for(const t of i)if(!Qa(t.charCodeAt(0)))return!1;return!0}function du(i){const t=i.map(r=>{try{return new RegExp(`\\p{sc=${r}}`,"u").source}catch{return null}}).filter(r=>r);return new RegExp(t.join("|"),"u")}const G0=du(["Arab","Dupl","Mong","Ougr","Syrc"]);function Qa(i){return!G0.test(String.fromCodePoint(i))}const Fo=du(["Bopo","Hani","Hira","Kana","Kits","Nshu","Tang","Yiii"]);function yi(i){return!(i!==746&&i!==747&&(i<4352||!(sr["CJK Compatibility Forms"](i)&&!(i>=65097&&i<=65103)||sr["CJK Compatibility"](i)||sr["CJK Strokes"](i)||!(!sr["CJK Symbols and Punctuation"](i)||i>=12296&&i<=12305||i>=12308&&i<=12319||i===12336)||sr["Enclosed CJK Letters and Months"](i)||sr["Ideographic Description Characters"](i)||sr.Kanbun(i)||sr.Katakana(i)&&i!==12540||!(!sr["Halfwidth and Fullwidth Forms"](i)||i===65288||i===65289||i===65293||i>=65306&&i<=65310||i===65339||i===65341||i===65343||i>=65371&&i<=65503||i===65507||i>=65512&&i<=65519)||!(!sr["Small Form Variants"](i)||i>=65112&&i<=65118||i>=65123&&i<=65126)||sr["Vertical Forms"](i)||sr["Yijing Hexagram Symbols"](i)||new RegExp("\\p{sc=Cans}","u").test(String.fromCodePoint(i))||new RegExp("\\p{sc=Hang}","u").test(String.fromCodePoint(i))||Fo.test(String.fromCodePoint(i)))))}function No(i){return!(yi(i)||function(t){return!!(sr["Latin-1 Supplement"](t)&&(t===167||t===169||t===174||t===177||t===188||t===189||t===190||t===215||t===247)||sr["General Punctuation"](t)&&(t===8214||t===8224||t===8225||t===8240||t===8241||t===8251||t===8252||t===8258||t===8263||t===8264||t===8265||t===8273)||sr["Letterlike Symbols"](t)||sr["Number Forms"](t)||sr["Miscellaneous Technical"](t)&&(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||t===9003||t>=9085&&t<=9114||t>=9150&&t<=9165||t===9167||t>=9169&&t<=9179||t>=9186&&t<=9215)||sr["Control Pictures"](t)&&t!==9251||sr["Optical Character Recognition"](t)||sr["Enclosed Alphanumerics"](t)||sr["Geometric Shapes"](t)||sr["Miscellaneous Symbols"](t)&&!(t>=9754&&t<=9759)||sr["Miscellaneous Symbols and Arrows"](t)&&(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243)||sr["CJK Symbols and Punctuation"](t)||sr.Katakana(t)||sr["Private Use Area"](t)||sr["CJK Compatibility Forms"](t)||sr["Small Form Variants"](t)||sr["Halfwidth and Fullwidth Forms"](t)||t===8734||t===8756||t===8757||t>=9984&&t<=10087||t>=10102&&t<=10131||t===65532||t===65533)}(i))}const jl=du(["Adlm","Arab","Armi","Avst","Chrs","Cprt","Egyp","Elym","Gara","Hatr","Hebr","Hung","Khar","Lydi","Mand","Mani","Mend","Merc","Mero","Narb","Nbat","Nkoo","Orkh","Palm","Phli","Phlp","Phnx","Prti","Rohg","Samr","Sarb","Sogo","Syrc","Thaa","Todr","Yezi"]);function fu(i){return jl.test(String.fromCodePoint(i))}function u0(i,t){return!(!t&&fu(i)||i>=2304&&i<=3583||i>=3840&&i<=4255||sr.Khmer(i))}function us(i){for(const t of i)if(fu(t.charCodeAt(0)))return!0;return!1}const Vl=new class{constructor(){this.TIMEOUT=5e3,this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null,this.loadScriptResolve=()=>{}}setState(i){this.pluginStatus=i.pluginStatus,this.pluginURL=i.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(i){if(Vl.isParsed())throw new Error("RTL text plugin already registered.");this.applyArabicShaping=i.applyArabicShaping,this.processBidirectionalText=i.processBidirectionalText,this.processStyledBidirectionalText=i.processStyledBidirectionalText,this.loadScriptResolve()}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getRTLTextPluginStatus(){return this.pluginStatus}syncState(i,t){return l(this,void 0,void 0,function*(){if(this.isParsed())return this.getState();if(i.pluginStatus!=="loading")return this.setState(i),i;const r=i.pluginURL,s=new Promise(v=>{this.loadScriptResolve=v});t(r);const g=new Promise(v=>setTimeout(()=>v(),this.TIMEOUT));if(yield Promise.race([s,g]),this.isParsed()){const v={pluginStatus:"loaded",pluginURL:r};return this.setState(v),v}throw this.setState({pluginStatus:"error",pluginURL:""}),new Error(`RTL Text Plugin failed to import scripts from ${r}`)})}};class ri{constructor(t,r){this.zoom=t,r?(this.now=r.now,this.fadeDuration=r.fadeDuration,this.zoomHistory=r.zoomHistory,this.transition=r.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Xs,this.transition={})}isSupportedScript(t){return function(r,s){for(const g of r)if(!u0(g.charCodeAt(0),s))return!1;return!0}(t,Vl.getRTLTextPluginStatus()==="loaded")}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const t=this.zoom,r=t-Math.floor(t),s=this.crossFadingFactor();return t>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:r+(1-r)*s}:{fromScale:.5,toScale:1,t:1-(1-s)*r}}}class gu{constructor(t,r){this.property=t,this.value=r,this.expression=function(s,g){if(nu(s))return new E0(s,g);if(gl(s)){const v=P0(s,g);if(v.result==="error")throw new Error(v.value.map(b=>`${b.key}: ${b.message}`).join(", "));return v.value}{let v=s;return g.type==="color"&&typeof s=="string"?v=er.parse(s):g.type!=="padding"||typeof s!="number"&&!Array.isArray(s)?g.type!=="numberArray"||typeof s!="number"&&!Array.isArray(s)?g.type!=="colorArray"||typeof s!="string"&&!Array.isArray(s)?g.type==="variableAnchorOffsetCollection"&&Array.isArray(s)?v=Ba.parse(s):g.type==="projectionDefinition"&&typeof s=="string"&&(v=uo.parse(s)):v=Ii.parse(s):v=Ur.parse(s):v=li.parse(s),{kind:"constant",evaluate:()=>v}}}(r===void 0?t.specification.default:r,t.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(t,r,s){return this.property.possiblyEvaluate(this,t,r,s)}}class Ys{constructor(t){this.property=t,this.value=new gu(t,void 0)}transitioned(t,r){return new Lh(this.property,this.value,r,wn({},t.transition,this.transition),t.now)}untransitioned(){return new Lh(this.property,this.value,null,{},0)}}class wl{constructor(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)}getValue(t){return Nn(this._values[t].value.value)}setValue(t,r){Object.prototype.hasOwnProperty.call(this._values,t)||(this._values[t]=new Ys(this._values[t].property)),this._values[t].value=new gu(this._values[t].property,r===null?void 0:Nn(r))}getTransition(t){return Nn(this._values[t].transition)}setTransition(t,r){Object.prototype.hasOwnProperty.call(this._values,t)||(this._values[t]=new Ys(this._values[t].property)),this._values[t].transition=Nn(r)||void 0}serialize(){const t={};for(const r of Object.keys(this._values)){const s=this.getValue(r);s!==void 0&&(t[r]=s);const g=this.getTransition(r);g!==void 0&&(t[`${r}-transition`]=g)}return t}transitioned(t,r){const s=new Ku(this._properties);for(const g of Object.keys(this._values))s._values[g]=this._values[g].transitioned(t,r._values[g]);return s}untransitioned(){const t=new Ku(this._properties);for(const r of Object.keys(this._values))t._values[r]=this._values[r].untransitioned();return t}}class Lh{constructor(t,r,s,g,v){this.property=t,this.value=r,this.begin=v+g.delay||0,this.end=this.begin+g.duration||0,t.specification.transition&&(g.delay||g.duration)&&(this.prior=s)}possiblyEvaluate(t,r,s){const g=t.now||0,v=this.value.possiblyEvaluate(t,r,s),b=this.prior;if(b){if(g>this.end)return this.prior=null,v;if(this.value.isDataDriven())return this.prior=null,v;if(g<this.begin)return b.possiblyEvaluate(t,r,s);{const I=(g-this.begin)/(this.end-this.begin);return this.property.interpolate(b.possiblyEvaluate(t,r,s),v,St(I))}}return v}}class Ku{constructor(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)}possiblyEvaluate(t,r,s){const g=new Xu(this._properties);for(const v of Object.keys(this._values))g._values[v]=this._values[v].possiblyEvaluate(t,r,s);return g}hasTransition(){for(const t of Object.keys(this._values))if(this._values[t].prior)return!0;return!1}}class mu{constructor(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)}hasValue(t){return this._values[t].value!==void 0}getValue(t){return Nn(this._values[t].value)}setValue(t,r){this._values[t]=new gu(this._values[t].property,r===null?void 0:Nn(r))}serialize(){const t={};for(const r of Object.keys(this._values)){const s=this.getValue(r);s!==void 0&&(t[r]=s)}return t}possiblyEvaluate(t,r,s){const g=new Xu(this._properties);for(const v of Object.keys(this._values))g._values[v]=this._values[v].possiblyEvaluate(t,r,s);return g}}class _o{constructor(t,r,s){this.property=t,this.value=r,this.parameters=s}isConstant(){return this.value.kind==="constant"}constantOr(t){return this.value.kind==="constant"?this.value.value:t}evaluate(t,r,s,g){return this.property.evaluate(this.value,this.parameters,t,r,s,g)}}class Xu{constructor(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)}get(t){return this._values[t]}}class fn{constructor(t){this.specification=t}possiblyEvaluate(t,r){if(t.isDataDriven())throw new Error("Value should not be data driven");return t.expression.evaluate(r)}interpolate(t,r,s){const g=fo[this.specification.type];return g?g(t,r,s):t}}class jn{constructor(t,r){this.specification=t,this.overrides=r}possiblyEvaluate(t,r,s,g){return new _o(this,t.expression.kind==="constant"||t.expression.kind==="camera"?{kind:"constant",value:t.expression.evaluate(r,null,{},s,g)}:t.expression,r)}interpolate(t,r,s){if(t.value.kind!=="constant"||r.value.kind!=="constant")return t;if(t.value.value===void 0||r.value.value===void 0)return new _o(this,{kind:"constant",value:void 0},t.parameters);const g=fo[this.specification.type];if(g){const v=g(t.value.value,r.value.value,s);return new _o(this,{kind:"constant",value:v},t.parameters)}return t}evaluate(t,r,s,g,v,b){return t.kind==="constant"?t.value:t.evaluate(r,s,g,v,b)}}class c0 extends jn{possiblyEvaluate(t,r,s,g){if(t.value===void 0)return new _o(this,{kind:"constant",value:void 0},r);if(t.expression.kind==="constant"){const v=t.expression.evaluate(r,null,{},s,g),b=t.property.specification.type==="resolvedImage"&&typeof v!="string"?v.name:v,I=this._calculate(b,b,b,r);return new _o(this,{kind:"constant",value:I},r)}if(t.expression.kind==="camera"){const v=this._calculate(t.expression.evaluate({zoom:r.zoom-1}),t.expression.evaluate({zoom:r.zoom}),t.expression.evaluate({zoom:r.zoom+1}),r);return new _o(this,{kind:"constant",value:v},r)}return new _o(this,t.expression,r)}evaluate(t,r,s,g,v,b){if(t.kind==="source"){const I=t.evaluate(r,s,g,v,b);return this._calculate(I,I,I,r)}return t.kind==="composite"?this._calculate(t.evaluate({zoom:Math.floor(r.zoom)-1},s,g),t.evaluate({zoom:Math.floor(r.zoom)},s,g),t.evaluate({zoom:Math.floor(r.zoom)+1},s,g),r):t.value}_calculate(t,r,s,g){return g.zoom>g.zoomHistory.lastIntegerZoom?{from:t,to:r}:{from:s,to:r}}interpolate(t){return t}}class $o{constructor(t){this.specification=t}possiblyEvaluate(t,r,s,g){if(t.value!==void 0){if(t.expression.kind==="constant"){const v=t.expression.evaluate(r,null,{},s,g);return this._calculate(v,v,v,r)}return this._calculate(t.expression.evaluate(new ri(Math.floor(r.zoom-1),r)),t.expression.evaluate(new ri(Math.floor(r.zoom),r)),t.expression.evaluate(new ri(Math.floor(r.zoom+1),r)),r)}}_calculate(t,r,s,g){return g.zoom>g.zoomHistory.lastIntegerZoom?{from:t,to:r}:{from:s,to:r}}interpolate(t){return t}}class Zl{constructor(t){this.specification=t}possiblyEvaluate(t,r,s,g){return!!t.expression.evaluate(r,null,{},s,g)}interpolate(){return!1}}class Ri{constructor(t){this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const r in t){const s=t[r];s.specification.overridable&&this.overridableProperties.push(r);const g=this.defaultPropertyValues[r]=new gu(s,void 0),v=this.defaultTransitionablePropertyValues[r]=new Ys(s);this.defaultTransitioningPropertyValues[r]=v.untransitioned(),this.defaultPossiblyEvaluatedValues[r]=g.possiblyEvaluate({})}}}un("DataDrivenProperty",jn),un("DataConstantProperty",fn),un("CrossFadedDataDrivenProperty",c0),un("CrossFadedProperty",$o),un("ColorRampProperty",Zl);const Dl="-transition";class jo extends Ze{constructor(t,r){if(super(),this.id=t.id,this.type=t.type,this._featureFilter={filter:()=>!0,needGeometry:!1},t.type!=="custom"&&(this.metadata=t.metadata,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,t.type!=="background"&&(this.source=t.source,this.sourceLayer=t["source-layer"],this.filter=t.filter),r.layout&&(this._unevaluatedLayout=new mu(r.layout)),r.paint)){this._transitionablePaint=new wl(r.paint);for(const s in t.paint)this.setPaintProperty(s,t.paint[s],{validate:!1});for(const s in t.layout)this.setLayoutProperty(s,t.layout[s],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Xu(r.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(t){return t==="visibility"?this.visibility:this._unevaluatedLayout.getValue(t)}setLayoutProperty(t,r,s={}){r!=null&&this._validate(vc,`layers.${this.id}.layout.${t}`,t,r,s)||(t!=="visibility"?this._unevaluatedLayout.setValue(t,r):this.visibility=r)}getPaintProperty(t){return t.endsWith(Dl)?this._transitionablePaint.getTransition(t.slice(0,-11)):this._transitionablePaint.getValue(t)}setPaintProperty(t,r,s={}){if(r!=null&&this._validate(_c,`layers.${this.id}.paint.${t}`,t,r,s))return!1;if(t.endsWith(Dl))return this._transitionablePaint.setTransition(t.slice(0,-11),r||void 0),!1;{const g=this._transitionablePaint._values[t],v=g.property.specification["property-type"]==="cross-faded-data-driven",b=g.value.isDataDriven(),I=g.value;this._transitionablePaint.setValue(t,r),this._handleSpecialPaintPropertyUpdate(t);const P=this._transitionablePaint._values[t].value;return P.isDataDriven()||b||v||this._handleOverridablePaintPropertyUpdate(t,I,P)}}_handleSpecialPaintPropertyUpdate(t){}_handleOverridablePaintPropertyUpdate(t,r,s){return!1}isHidden(t){return!!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||this.visibility==="none"}updateTransitions(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(t,r){t.getCrossfadeParameters&&(this._crossfadeParameters=t.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t,void 0,r)),this.paint=this._transitioningPaint.possiblyEvaluate(t,void 0,r)}serialize(){const t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(t.layout=t.layout||{},t.layout.visibility=this.visibility),An(t,(r,s)=>!(r===void 0||s==="layout"&&!Object.keys(r).length||s==="paint"&&!Object.keys(r).length))}_validate(t,r,s,g,v={}){return(!v||v.validate!==!1)&&l0(this,t.call(cu,{key:r,layerType:this.type,objectKey:s,value:g,styleSpec:ge,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const t in this.paint._values){const r=this.paint.get(t);if(r instanceof _o&&Bl(r.property.specification)&&(r.value.kind==="source"||r.value.kind==="composite")&&r.value.isStateDependent)return!0}return!1}}const $a={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class cs{constructor(t,r){this._structArray=t,this._pos1=r*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Or{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(t,r){return t._trim(),r&&(t.isTransferred=!0,r.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}}static deserialize(t){const r=Object.create(this.prototype);return r.arrayBuffer=t.arrayBuffer,r.length=t.length,r.capacity=t.arrayBuffer.byteLength/r.bytesPerElement,r._refreshViews(),r}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(t){this.reserve(t),this.length=t}reserve(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const r=this.uint8;this._refreshViews(),r&&this.uint8.set(r)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function ii(i,t=1){let r=0,s=0;return{members:i.map(g=>{const v=$a[g.type].BYTES_PER_ELEMENT,b=r=L0(r,Math.max(t,v)),I=g.components||1;return s=Math.max(s,v),r+=v*I,{name:g.name,type:g.type,components:I,offset:b}}),size:L0(r,Math.max(s,t)),alignment:t}}function L0(i,t){return Math.ceil(i/t)*t}class B0 extends Or{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,r){const s=this.length;return this.resize(s+1),this.emplace(s,t,r)}emplace(t,r,s){const g=2*t;return this.int16[g+0]=r,this.int16[g+1]=s,t}}B0.prototype.bytesPerElement=4,un("StructArrayLayout2i4",B0);class Ms extends Or{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,r,s){const g=this.length;return this.resize(g+1),this.emplace(g,t,r,s)}emplace(t,r,s,g){const v=3*t;return this.int16[v+0]=r,this.int16[v+1]=s,this.int16[v+2]=g,t}}Ms.prototype.bytesPerElement=6,un("StructArrayLayout3i6",Ms);class ja extends Or{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,r,s,g){const v=this.length;return this.resize(v+1),this.emplace(v,t,r,s,g)}emplace(t,r,s,g,v){const b=4*t;return this.int16[b+0]=r,this.int16[b+1]=s,this.int16[b+2]=g,this.int16[b+3]=v,t}}ja.prototype.bytesPerElement=8,un("StructArrayLayout4i8",ja);class Yu extends Or{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,r,s,g,v,b){const I=this.length;return this.resize(I+1),this.emplace(I,t,r,s,g,v,b)}emplace(t,r,s,g,v,b,I){const P=6*t;return this.int16[P+0]=r,this.int16[P+1]=s,this.int16[P+2]=g,this.int16[P+3]=v,this.int16[P+4]=b,this.int16[P+5]=I,t}}Yu.prototype.bytesPerElement=12,un("StructArrayLayout2i4i12",Yu);class Qc extends Or{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,r,s,g,v,b){const I=this.length;return this.resize(I+1),this.emplace(I,t,r,s,g,v,b)}emplace(t,r,s,g,v,b,I){const P=4*t,R=8*t;return this.int16[P+0]=r,this.int16[P+1]=s,this.uint8[R+4]=g,this.uint8[R+5]=v,this.uint8[R+6]=b,this.uint8[R+7]=I,t}}Qc.prototype.bytesPerElement=8,un("StructArrayLayout2i4ub8",Qc);class hs extends Or{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,r){const s=this.length;return this.resize(s+1),this.emplace(s,t,r)}emplace(t,r,s){const g=2*t;return this.float32[g+0]=r,this.float32[g+1]=s,t}}hs.prototype.bytesPerElement=8,un("StructArrayLayout2f8",hs);class ps extends Or{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,r,s,g,v,b,I,P,R,G){const N=this.length;return this.resize(N+1),this.emplace(N,t,r,s,g,v,b,I,P,R,G)}emplace(t,r,s,g,v,b,I,P,R,G,N){const H=10*t;return this.uint16[H+0]=r,this.uint16[H+1]=s,this.uint16[H+2]=g,this.uint16[H+3]=v,this.uint16[H+4]=b,this.uint16[H+5]=I,this.uint16[H+6]=P,this.uint16[H+7]=R,this.uint16[H+8]=G,this.uint16[H+9]=N,t}}ps.prototype.bytesPerElement=20,un("StructArrayLayout10ui20",ps);class m extends Or{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,r,s,g,v,b,I,P,R,G,N,H){const Y=this.length;return this.resize(Y+1),this.emplace(Y,t,r,s,g,v,b,I,P,R,G,N,H)}emplace(t,r,s,g,v,b,I,P,R,G,N,H,Y){const ee=12*t;return this.int16[ee+0]=r,this.int16[ee+1]=s,this.int16[ee+2]=g,this.int16[ee+3]=v,this.uint16[ee+4]=b,this.uint16[ee+5]=I,this.uint16[ee+6]=P,this.uint16[ee+7]=R,this.int16[ee+8]=G,this.int16[ee+9]=N,this.int16[ee+10]=H,this.int16[ee+11]=Y,t}}m.prototype.bytesPerElement=24,un("StructArrayLayout4i4ui4i24",m);class e extends Or{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,r,s){const g=this.length;return this.resize(g+1),this.emplace(g,t,r,s)}emplace(t,r,s,g){const v=3*t;return this.float32[v+0]=r,this.float32[v+1]=s,this.float32[v+2]=g,t}}e.prototype.bytesPerElement=12,un("StructArrayLayout3f12",e);class n extends Or{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(t){const r=this.length;return this.resize(r+1),this.emplace(r,t)}emplace(t,r){return this.uint32[1*t+0]=r,t}}n.prototype.bytesPerElement=4,un("StructArrayLayout1ul4",n);class u extends Or{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,r,s,g,v,b,I,P,R){const G=this.length;return this.resize(G+1),this.emplace(G,t,r,s,g,v,b,I,P,R)}emplace(t,r,s,g,v,b,I,P,R,G){const N=10*t,H=5*t;return this.int16[N+0]=r,this.int16[N+1]=s,this.int16[N+2]=g,this.int16[N+3]=v,this.int16[N+4]=b,this.int16[N+5]=I,this.uint32[H+3]=P,this.uint16[N+8]=R,this.uint16[N+9]=G,t}}u.prototype.bytesPerElement=20,un("StructArrayLayout6i1ul2ui20",u);class f extends Or{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,r,s,g,v,b){const I=this.length;return this.resize(I+1),this.emplace(I,t,r,s,g,v,b)}emplace(t,r,s,g,v,b,I){const P=6*t;return this.int16[P+0]=r,this.int16[P+1]=s,this.int16[P+2]=g,this.int16[P+3]=v,this.int16[P+4]=b,this.int16[P+5]=I,t}}f.prototype.bytesPerElement=12,un("StructArrayLayout2i2i2i12",f);class y extends Or{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,r,s,g,v){const b=this.length;return this.resize(b+1),this.emplace(b,t,r,s,g,v)}emplace(t,r,s,g,v,b){const I=4*t,P=8*t;return this.float32[I+0]=r,this.float32[I+1]=s,this.float32[I+2]=g,this.int16[P+6]=v,this.int16[P+7]=b,t}}y.prototype.bytesPerElement=16,un("StructArrayLayout2f1f2i16",y);class D extends Or{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,r,s,g,v,b){const I=this.length;return this.resize(I+1),this.emplace(I,t,r,s,g,v,b)}emplace(t,r,s,g,v,b,I){const P=16*t,R=4*t,G=8*t;return this.uint8[P+0]=r,this.uint8[P+1]=s,this.float32[R+1]=g,this.float32[R+2]=v,this.int16[G+6]=b,this.int16[G+7]=I,t}}D.prototype.bytesPerElement=16,un("StructArrayLayout2ub2f2i16",D);class T extends Or{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,r,s){const g=this.length;return this.resize(g+1),this.emplace(g,t,r,s)}emplace(t,r,s,g){const v=3*t;return this.uint16[v+0]=r,this.uint16[v+1]=s,this.uint16[v+2]=g,t}}T.prototype.bytesPerElement=6,un("StructArrayLayout3ui6",T);class k extends Or{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,r,s,g,v,b,I,P,R,G,N,H,Y,ee,se,ve,Ie){const qe=this.length;return this.resize(qe+1),this.emplace(qe,t,r,s,g,v,b,I,P,R,G,N,H,Y,ee,se,ve,Ie)}emplace(t,r,s,g,v,b,I,P,R,G,N,H,Y,ee,se,ve,Ie,qe){const Ue=24*t,K=12*t,me=48*t;return this.int16[Ue+0]=r,this.int16[Ue+1]=s,this.uint16[Ue+2]=g,this.uint16[Ue+3]=v,this.uint32[K+2]=b,this.uint32[K+3]=I,this.uint32[K+4]=P,this.uint16[Ue+10]=R,this.uint16[Ue+11]=G,this.uint16[Ue+12]=N,this.float32[K+7]=H,this.float32[K+8]=Y,this.uint8[me+36]=ee,this.uint8[me+37]=se,this.uint8[me+38]=ve,this.uint32[K+10]=Ie,this.int16[Ue+22]=qe,t}}k.prototype.bytesPerElement=48,un("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",k);class z extends Or{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,r,s,g,v,b,I,P,R,G,N,H,Y,ee,se,ve,Ie,qe,Ue,K,me,Oe,ft,jt,xt,Tt,Xt,Zt){const Kt=this.length;return this.resize(Kt+1),this.emplace(Kt,t,r,s,g,v,b,I,P,R,G,N,H,Y,ee,se,ve,Ie,qe,Ue,K,me,Oe,ft,jt,xt,Tt,Xt,Zt)}emplace(t,r,s,g,v,b,I,P,R,G,N,H,Y,ee,se,ve,Ie,qe,Ue,K,me,Oe,ft,jt,xt,Tt,Xt,Zt,Kt){const Et=32*t,In=16*t;return this.int16[Et+0]=r,this.int16[Et+1]=s,this.int16[Et+2]=g,this.int16[Et+3]=v,this.int16[Et+4]=b,this.int16[Et+5]=I,this.int16[Et+6]=P,this.int16[Et+7]=R,this.uint16[Et+8]=G,this.uint16[Et+9]=N,this.uint16[Et+10]=H,this.uint16[Et+11]=Y,this.uint16[Et+12]=ee,this.uint16[Et+13]=se,this.uint16[Et+14]=ve,this.uint16[Et+15]=Ie,this.uint16[Et+16]=qe,this.uint16[Et+17]=Ue,this.uint16[Et+18]=K,this.uint16[Et+19]=me,this.uint16[Et+20]=Oe,this.uint16[Et+21]=ft,this.uint16[Et+22]=jt,this.uint32[In+12]=xt,this.float32[In+13]=Tt,this.float32[In+14]=Xt,this.uint16[Et+30]=Zt,this.uint16[Et+31]=Kt,t}}z.prototype.bytesPerElement=64,un("StructArrayLayout8i15ui1ul2f2ui64",z);class O extends Or{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t){const r=this.length;return this.resize(r+1),this.emplace(r,t)}emplace(t,r){return this.float32[1*t+0]=r,t}}O.prototype.bytesPerElement=4,un("StructArrayLayout1f4",O);class W extends Or{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,r,s){const g=this.length;return this.resize(g+1),this.emplace(g,t,r,s)}emplace(t,r,s,g){const v=3*t;return this.uint16[6*t+0]=r,this.float32[v+1]=s,this.float32[v+2]=g,t}}W.prototype.bytesPerElement=12,un("StructArrayLayout1ui2f12",W);class Z extends Or{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,r,s){const g=this.length;return this.resize(g+1),this.emplace(g,t,r,s)}emplace(t,r,s,g){const v=4*t;return this.uint32[2*t+0]=r,this.uint16[v+2]=s,this.uint16[v+3]=g,t}}Z.prototype.bytesPerElement=8,un("StructArrayLayout1ul2ui8",Z);class Q extends Or{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,r){const s=this.length;return this.resize(s+1),this.emplace(s,t,r)}emplace(t,r,s){const g=2*t;return this.uint16[g+0]=r,this.uint16[g+1]=s,t}}Q.prototype.bytesPerElement=4,un("StructArrayLayout2ui4",Q);class ie extends Or{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t){const r=this.length;return this.resize(r+1),this.emplace(r,t)}emplace(t,r){return this.uint16[1*t+0]=r,t}}ie.prototype.bytesPerElement=2,un("StructArrayLayout1ui2",ie);class De extends Or{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,r,s,g){const v=this.length;return this.resize(v+1),this.emplace(v,t,r,s,g)}emplace(t,r,s,g,v){const b=4*t;return this.float32[b+0]=r,this.float32[b+1]=s,this.float32[b+2]=g,this.float32[b+3]=v,t}}De.prototype.bytesPerElement=16,un("StructArrayLayout4f16",De);class we extends cs{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new de(this.anchorPointX,this.anchorPointY)}}we.prototype.size=20;class Ce extends u{get(t){return new we(this,t)}}un("CollisionBoxArray",Ce);class ke extends cs{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(t){this._structArray.uint8[this._pos1+37]=t}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(t){this._structArray.uint8[this._pos1+38]=t}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(t){this._structArray.uint32[this._pos4+10]=t}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}ke.prototype.size=48;class Le extends k{get(t){return new ke(this,t)}}un("PlacedSymbolArray",Le);class Ee extends cs{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(t){this._structArray.uint32[this._pos4+12]=t}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}Ee.prototype.size=64;class Be extends z{get(t){return new Ee(this,t)}}un("SymbolInstanceArray",Be);class $e extends O{getoffsetX(t){return this.float32[1*t+0]}}un("GlyphOffsetArray",$e);class Ve extends Ms{getx(t){return this.int16[3*t+0]}gety(t){return this.int16[3*t+1]}gettileUnitDistanceFromAnchor(t){return this.int16[3*t+2]}}un("SymbolLineVertexArray",Ve);class lt extends cs{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}lt.prototype.size=12;class At extends W{get(t){return new lt(this,t)}}un("TextAnchorOffsetArray",At);class nt extends cs{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}nt.prototype.size=8;class ht extends Z{get(t){return new nt(this,t)}}un("FeatureIndexArray",ht);class Ct extends B0{}class nn extends B0{}class rn extends B0{}class Gt extends Yu{}class bn extends Qc{}class Zn extends hs{}class Sr extends ps{}class pi extends m{}class Jr extends e{}class Ti extends n{}class Mi extends f{}class Tr extends D{}class Cr extends T{}class qi extends Q{}const xa=ii([{name:"a_pos",components:2,type:"Int16"}],4),{members:ua}=xa;class Pr{constructor(t=[]){this._forceNewSegmentOnNextPrepare=!1,this.segments=t}prepareSegment(t,r,s,g){const v=this.segments[this.segments.length-1];return t>Pr.MAX_VERTEX_ARRAY_LENGTH&&Hn(`Max vertices per segment is ${Pr.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${t}. Consider using the \`fillLargeMeshArrays\` function if you require meshes with more than ${Pr.MAX_VERTEX_ARRAY_LENGTH} vertices.`),this._forceNewSegmentOnNextPrepare||!v||v.vertexLength+t>Pr.MAX_VERTEX_ARRAY_LENGTH||v.sortKey!==g?this.createNewSegment(r,s,g):v}createNewSegment(t,r,s){const g={vertexOffset:t.length,primitiveOffset:r.length,vertexLength:0,primitiveLength:0,vaos:{}};return s!==void 0&&(g.sortKey=s),this._forceNewSegmentOnNextPrepare=!1,this.segments.push(g),g}getOrCreateLatestSegment(t,r,s){return this.prepareSegment(0,t,r,s)}forceNewSegmentOnNextPrepare(){this._forceNewSegmentOnNextPrepare=!0}get(){return this.segments}destroy(){for(const t of this.segments)for(const r in t.vaos)t.vaos[r].destroy()}static simpleSegment(t,r,s,g){return new Pr([{vertexOffset:t,primitiveOffset:r,vertexLength:s,primitiveLength:g,vaos:{},sortKey:0}])}}function Cl(i,t){return 256*(i=kt(Math.floor(i),0,255))+kt(Math.floor(t),0,255)}Pr.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,un("SegmentVector",Pr);const ds=ii([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var Ps,Wl,fs,h0={exports:{}},Vo={exports:{}},Zo={exports:{}},Hl=function(){if(fs)return h0.exports;fs=1;var i=(Ps||(Ps=1,Vo.exports=function(r,s){var g,v,b,I,P,R,G,N;for(v=r.length-(g=3&r.length),b=s,P=3432918353,R=461845907,N=0;N<v;)G=255&r.charCodeAt(N)|(255&r.charCodeAt(++N))<<8|(255&r.charCodeAt(++N))<<16|(255&r.charCodeAt(++N))<<24,++N,b=27492+(65535&(I=5*(65535&(b=(b^=G=(65535&(G=(G=(65535&G)*P+(((G>>>16)*P&65535)<<16)&4294967295)<<15|G>>>17))*R+(((G>>>16)*R&65535)<<16)&4294967295)<<13|b>>>19))+((5*(b>>>16)&65535)<<16)&4294967295))+((58964+(I>>>16)&65535)<<16);switch(G=0,g){case 3:G^=(255&r.charCodeAt(N+2))<<16;case 2:G^=(255&r.charCodeAt(N+1))<<8;case 1:b^=G=(65535&(G=(G=(65535&(G^=255&r.charCodeAt(N)))*P+(((G>>>16)*P&65535)<<16)&4294967295)<<15|G>>>17))*R+(((G>>>16)*R&65535)<<16)&4294967295}return b^=r.length,b=2246822507*(65535&(b^=b>>>16))+((2246822507*(b>>>16)&65535)<<16)&4294967295,b=3266489909*(65535&(b^=b>>>13))+((3266489909*(b>>>16)&65535)<<16)&4294967295,(b^=b>>>16)>>>0}),Vo.exports),t=(Wl||(Wl=1,Zo.exports=function(r,s){for(var g,v=r.length,b=s^v,I=0;v>=4;)g=1540483477*(65535&(g=255&r.charCodeAt(I)|(255&r.charCodeAt(++I))<<8|(255&r.charCodeAt(++I))<<16|(255&r.charCodeAt(++I))<<24))+((1540483477*(g>>>16)&65535)<<16),b=1540483477*(65535&b)+((1540483477*(b>>>16)&65535)<<16)^(g=1540483477*(65535&(g^=g>>>24))+((1540483477*(g>>>16)&65535)<<16)),v-=4,++I;switch(v){case 3:b^=(255&r.charCodeAt(I+2))<<16;case 2:b^=(255&r.charCodeAt(I+1))<<8;case 1:b=1540483477*(65535&(b^=255&r.charCodeAt(I)))+((1540483477*(b>>>16)&65535)<<16)}return b=1540483477*(65535&(b^=b>>>13))+((1540483477*(b>>>16)&65535)<<16),(b^=b>>>15)>>>0}),Zo.exports);return h0.exports=i,h0.exports.murmur3=i,h0.exports.murmur2=t,h0.exports}(),Es=V(Hl);class p0{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(t,r,s,g){this.ids.push(ca(t)),this.positions.push(r,s,g)}getPositions(t){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const r=ca(t);let s=0,g=this.ids.length-1;for(;s<g;){const b=s+g>>1;this.ids[b]>=r?g=b:s=b+1}const v=[];for(;this.ids[s]===r;)v.push({index:this.positions[3*s],start:this.positions[3*s+1],end:this.positions[3*s+2]}),s++;return v}static serialize(t,r){const s=new Float64Array(t.ids),g=new Uint32Array(t.positions);return ha(s,g,0,s.length-1),r&&r.push(s.buffer,g.buffer),{ids:s,positions:g}}static deserialize(t){const r=new p0;return r.ids=t.ids,r.positions=t.positions,r.indexed=!0,r}}function ca(i){const t=+i;return!isNaN(t)&&t<=Number.MAX_SAFE_INTEGER?t:Es(String(i))}function ha(i,t,r,s){for(;r<s;){const g=i[r+s>>1];let v=r-1,b=s+1;for(;;){do v++;while(i[v]<g);do b--;while(i[b]>g);if(v>=b)break;vo(i,v,b),vo(t,3*v,3*b),vo(t,3*v+1,3*b+1),vo(t,3*v+2,3*b+2)}b-r<s-b?(ha(i,t,r,b),r=b+1):(ha(i,t,b+1,s),s=b)}}function vo(i,t,r){const s=i[t];i[t]=i[r],i[r]=s}un("FeaturePositionMap",p0);class _i{constructor(t,r){this.gl=t.gl,this.location=r}}class Jc extends _i{constructor(t,r){super(t,r),this.current=0}set(t){this.current!==t&&(this.current=t,this.gl.uniform1f(this.location,t))}}class Bh extends _i{constructor(t,r){super(t,r),this.current=[0,0,0,0]}set(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]&&t[3]===this.current[3]||(this.current=t,this.gl.uniform4f(this.location,t[0],t[1],t[2],t[3]))}}class eh extends _i{constructor(t,r){super(t,r),this.current=er.transparent}set(t){t.r===this.current.r&&t.g===this.current.g&&t.b===this.current.b&&t.a===this.current.a||(this.current=t,this.gl.uniform4f(this.location,t.r,t.g,t.b,t.a))}}const Wo=new Float32Array(16);function ks(i){return[Cl(255*i.r,255*i.g),Cl(255*i.b,255*i.a)]}class O0{constructor(t,r,s){this.value=t,this.uniformNames=r.map(g=>`u_${g}`),this.type=s}setUniform(t,r,s){t.set(s.constantOr(this.value))}getBinding(t,r,s){return this.type==="color"?new eh(t,r):new Jc(t,r)}}class Qs{constructor(t,r){this.uniformNames=r.map(s=>`u_${s}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(t,r){this.pixelRatioFrom=r.pixelRatio,this.pixelRatioTo=t.pixelRatio,this.patternFrom=r.tlbr,this.patternTo=t.tlbr}setUniform(t,r,s,g){const v=g==="u_pattern_to"?this.patternTo:g==="u_pattern_from"?this.patternFrom:g==="u_pixel_ratio_to"?this.pixelRatioTo:g==="u_pixel_ratio_from"?this.pixelRatioFrom:null;v&&t.set(v)}getBinding(t,r,s){return s.substr(0,9)==="u_pattern"?new Bh(t,r):new Jc(t,r)}}class Rs{constructor(t,r,s,g){this.expression=t,this.type=s,this.maxValue=0,this.paintVertexAttributes=r.map(v=>({name:`a_${v}`,type:"Float32",components:s==="color"?2:1,offset:0})),this.paintVertexArray=new g}populatePaintArray(t,r,s,g,v){const b=this.paintVertexArray.length,I=this.expression.evaluate(new ri(0),r,{},g,[],v);this.paintVertexArray.resize(t),this._setPaintValue(b,t,I)}updatePaintArray(t,r,s,g){const v=this.expression.evaluate({zoom:0},s,g);this._setPaintValue(t,r,v)}_setPaintValue(t,r,s){if(this.type==="color"){const g=ks(s);for(let v=t;v<r;v++)this.paintVertexArray.emplace(v,g[0],g[1])}else{for(let g=t;g<r;g++)this.paintVertexArray.emplace(g,s);this.maxValue=Math.max(this.maxValue,Math.abs(s))}}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Ja{constructor(t,r,s,g,v,b){this.expression=t,this.uniformNames=r.map(I=>`u_${I}_t`),this.type=s,this.useIntegerZoom=g,this.zoom=v,this.maxValue=0,this.paintVertexAttributes=r.map(I=>({name:`a_${I}`,type:"Float32",components:s==="color"?4:2,offset:0})),this.paintVertexArray=new b}populatePaintArray(t,r,s,g,v){const b=this.expression.evaluate(new ri(this.zoom),r,{},g,[],v),I=this.expression.evaluate(new ri(this.zoom+1),r,{},g,[],v),P=this.paintVertexArray.length;this.paintVertexArray.resize(t),this._setPaintValue(P,t,b,I)}updatePaintArray(t,r,s,g){const v=this.expression.evaluate({zoom:this.zoom},s,g),b=this.expression.evaluate({zoom:this.zoom+1},s,g);this._setPaintValue(t,r,v,b)}_setPaintValue(t,r,s,g){if(this.type==="color"){const v=ks(s),b=ks(g);for(let I=t;I<r;I++)this.paintVertexArray.emplace(I,v[0],v[1],b[0],b[1])}else{for(let v=t;v<r;v++)this.paintVertexArray.emplace(v,s,g);this.maxValue=Math.max(this.maxValue,Math.abs(s),Math.abs(g))}}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(t,r){const s=this.useIntegerZoom?Math.floor(r.zoom):r.zoom,g=kt(this.expression.interpolationFactor(s,this.zoom,this.zoom+1),0,1);t.set(g)}getBinding(t,r,s){return new Jc(t,r)}}class ba{constructor(t,r,s,g,v,b){this.expression=t,this.type=r,this.useIntegerZoom=s,this.zoom=g,this.layerId=b,this.zoomInPaintVertexArray=new v,this.zoomOutPaintVertexArray=new v}populatePaintArray(t,r,s){const g=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(t),this.zoomOutPaintVertexArray.resize(t),this._setPaintValues(g,t,r.patterns&&r.patterns[this.layerId],s)}updatePaintArray(t,r,s,g,v){this._setPaintValues(t,r,s.patterns&&s.patterns[this.layerId],v)}_setPaintValues(t,r,s,g){if(!g||!s)return;const{min:v,mid:b,max:I}=s,P=g[v],R=g[b],G=g[I];if(P&&R&&G)for(let N=t;N<r;N++)this.zoomInPaintVertexArray.emplace(N,R.tl[0],R.tl[1],R.br[0],R.br[1],P.tl[0],P.tl[1],P.br[0],P.br[1],R.pixelRatio,P.pixelRatio),this.zoomOutPaintVertexArray.emplace(N,R.tl[0],R.tl[1],R.br[0],R.br[1],G.tl[0],G.tl[1],G.br[0],G.br[1],R.pixelRatio,G.pixelRatio)}upload(t){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=t.createVertexBuffer(this.zoomInPaintVertexArray,ds.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=t.createVertexBuffer(this.zoomOutPaintVertexArray,ds.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class yu{constructor(t,r,s){this.binders={},this._buffers=[];const g=[];for(const v in t.paint._values){if(!s(v))continue;const b=t.paint.get(v);if(!(b instanceof _o&&Bl(b.property.specification)))continue;const I=xc(v,t.type),P=b.value,R=b.property.specification.type,G=b.property.useIntegerZoom,N=b.property.specification["property-type"],H=N==="cross-faded"||N==="cross-faded-data-driven";if(P.kind==="constant")this.binders[v]=H?new Qs(P.value,I):new O0(P.value,I,R),g.push(`/u_${v}`);else if(P.kind==="source"||H){const Y=Qu(v,R,"source");this.binders[v]=H?new ba(P,R,G,r,Y,t.id):new Rs(P,I,R,Y),g.push(`/a_${v}`)}else{const Y=Qu(v,R,"composite");this.binders[v]=new Ja(P,I,R,G,r,Y),g.push(`/z_${v}`)}}this.cacheKey=g.sort().join("")}getMaxValue(t){const r=this.binders[t];return r instanceof Rs||r instanceof Ja?r.maxValue:0}populatePaintArrays(t,r,s,g,v){for(const b in this.binders){const I=this.binders[b];(I instanceof Rs||I instanceof Ja||I instanceof ba)&&I.populatePaintArray(t,r,s,g,v)}}setConstantPatternPositions(t,r){for(const s in this.binders){const g=this.binders[s];g instanceof Qs&&g.setConstantPatternPositions(t,r)}}updatePaintArrays(t,r,s,g,v){let b=!1;for(const I in t){const P=r.getPositions(I);for(const R of P){const G=s.feature(R.index);for(const N in this.binders){const H=this.binders[N];if((H instanceof Rs||H instanceof Ja||H instanceof ba)&&H.expression.isStateDependent===!0){const Y=g.paint.get(N);H.expression=Y.value,H.updatePaintArray(R.start,R.end,G,t[I],v),b=!0}}}}return b}defines(){const t=[];for(const r in this.binders){const s=this.binders[r];(s instanceof O0||s instanceof Qs)&&t.push(...s.uniformNames.map(g=>`#define HAS_UNIFORM_${g}`))}return t}getBinderAttributes(){const t=[];for(const r in this.binders){const s=this.binders[r];if(s instanceof Rs||s instanceof Ja)for(let g=0;g<s.paintVertexAttributes.length;g++)t.push(s.paintVertexAttributes[g].name);else if(s instanceof ba)for(let g=0;g<ds.members.length;g++)t.push(ds.members[g].name)}return t}getBinderUniforms(){const t=[];for(const r in this.binders){const s=this.binders[r];if(s instanceof O0||s instanceof Qs||s instanceof Ja)for(const g of s.uniformNames)t.push(g)}return t}getPaintVertexBuffers(){return this._buffers}getUniforms(t,r){const s=[];for(const g in this.binders){const v=this.binders[g];if(v instanceof O0||v instanceof Qs||v instanceof Ja){for(const b of v.uniformNames)if(r[b]){const I=v.getBinding(t,r[b],b);s.push({name:b,property:g,binding:I})}}}return s}setUniforms(t,r,s,g){for(const{name:v,property:b,binding:I}of r)this.binders[b].setUniform(I,g,s.get(b),v)}updatePaintBuffers(t){this._buffers=[];for(const r in this.binders){const s=this.binders[r];if(t&&s instanceof ba){const g=t.fromScale===2?s.zoomInPaintVertexBuffer:s.zoomOutPaintVertexBuffer;g&&this._buffers.push(g)}else(s instanceof Rs||s instanceof Ja)&&s.paintVertexBuffer&&this._buffers.push(s.paintVertexBuffer)}}upload(t){for(const r in this.binders){const s=this.binders[r];(s instanceof Rs||s instanceof Ja||s instanceof ba)&&s.upload(t)}this.updatePaintBuffers()}destroy(){for(const t in this.binders){const r=this.binders[t];(r instanceof Rs||r instanceof Ja||r instanceof ba)&&r.destroy()}}}class Il{constructor(t,r,s=()=>!0){this.programConfigurations={};for(const g of t)this.programConfigurations[g.id]=new yu(g,r,s);this.needsUpload=!1,this._featureMap=new p0,this._bufferOffset=0}populatePaintArrays(t,r,s,g,v,b){for(const I in this.programConfigurations)this.programConfigurations[I].populatePaintArrays(t,r,g,v,b);r.id!==void 0&&this._featureMap.add(r.id,s,this._bufferOffset,t),this._bufferOffset=t,this.needsUpload=!0}updatePaintArrays(t,r,s,g){for(const v of s)this.needsUpload=this.programConfigurations[v.id].updatePaintArrays(t,this._featureMap,r,v,g)||this.needsUpload}get(t){return this.programConfigurations[t]}upload(t){if(this.needsUpload){for(const r in this.programConfigurations)this.programConfigurations[r].upload(t);this.needsUpload=!1}}destroy(){for(const t in this.programConfigurations)this.programConfigurations[t].destroy()}}function xc(i,t){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[i]||[i.replace(`${t}-`,"").replace(/-/g,"_")]}function Qu(i,t,r){const s={color:{source:hs,composite:De},number:{source:O,composite:hs}},g=function(v){return{"line-pattern":{source:Sr,composite:Sr},"fill-pattern":{source:Sr,composite:Sr},"fill-extrusion-pattern":{source:Sr,composite:Sr}}[v]}(i);return g&&g[r]||s[t][r]}un("ConstantBinder",O0),un("CrossFadedConstantBinder",Qs),un("SourceExpressionBinder",Rs),un("CrossFadedCompositeBinder",ba),un("CompositeExpressionBinder",Ja),un("ProgramConfiguration",yu,{omit:["_buffers"]}),un("ProgramConfigurationSet",Il);const Ju=Math.pow(2,14)-1,bp=-Ju-1;function Al(i){const t=yt/i.extent,r=i.loadGeometry();for(let s=0;s<r.length;s++){const g=r[s];for(let v=0;v<g.length;v++){const b=g[v],I=Math.round(b.x*t),P=Math.round(b.y*t);b.x=kt(I,bp,Ju),b.y=kt(P,bp,Ju),(I<b.x||I>b.x+1||P<b.y||P>b.y+1)&&Hn("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return r}function F0(i,t){return{type:i.type,id:i.id,properties:i.properties,geometry:t?Al(i):[]}}const bc=-32768;function Gd(i,t,r,s,g){i.emplaceBack(bc+8*t+s,bc+8*r+g)}class wc{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(r=>r.id),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new nn,this.indexArray=new Cr,this.segments=new Pr,this.programConfigurations=new Il(t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter(r=>r.isStateDependent()).map(r=>r.id)}populate(t,r,s){const g=this.layers[0],v=[];let b=null,I=!1,P=g.type==="heatmap";if(g.type==="circle"){const G=g;b=G.layout.get("circle-sort-key"),I=!b.isConstant(),P=P||G.paint.get("circle-pitch-alignment")==="map"}const R=P?r.subdivisionGranularity.circle:1;for(const{feature:G,id:N,index:H,sourceLayerIndex:Y}of t){const ee=this.layers[0]._featureFilter.needGeometry,se=F0(G,ee);if(!this.layers[0]._featureFilter.filter(new ri(this.zoom),se,s))continue;const ve=I?b.evaluate(se,{},s):void 0,Ie={id:N,properties:G.properties,type:G.type,sourceLayerIndex:Y,index:H,geometry:ee?se.geometry:Al(G),patterns:{},sortKey:ve};v.push(Ie)}I&&v.sort((G,N)=>G.sortKey-N.sortKey);for(const G of v){const{geometry:N,index:H,sourceLayerIndex:Y}=G,ee=t[H].feature;this.addFeature(G,N,H,s,R),r.featureIndex.insert(ee,N,H,Y,this.index)}}update(t,r,s){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,r,this.stateDependentLayers,s)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,ua),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(t,r,s,g,v=1){let b;switch(v){case 1:b=[0,7];break;case 3:b=[0,2,5,7];break;case 5:b=[0,1,3,4,6,7];break;case 7:b=[0,1,2,3,4,5,6,7];break;default:throw new Error(`Invalid circle bucket granularity: ${v}; valid values are 1, 3, 5, 7.`)}const I=b.length;for(const P of r)for(const R of P){const G=R.x,N=R.y;if(G<0||G>=yt||N<0||N>=yt)continue;const H=this.segments.prepareSegment(I*I,this.layoutVertexArray,this.indexArray,t.sortKey),Y=H.vertexLength;for(let ee=0;ee<I;ee++)for(let se=0;se<I;se++)Gd(this.layoutVertexArray,G,N,b[se],b[ee]);for(let ee=0;ee<I-1;ee++)for(let se=0;se<I-1;se++){const ve=Y+ee*I+se,Ie=Y+(ee+1)*I+se;this.indexArray.emplaceBack(ve,Ie+1,ve+1),this.indexArray.emplaceBack(ve,Ie,Ie+1)}H.vertexLength+=I*I,H.primitiveLength+=(I-1)*(I-1)*2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,s,{},g)}}function Oh(i,t){for(let r=0;r<i.length;r++)if(gs(t,i[r]))return!0;for(let r=0;r<t.length;r++)if(gs(i,t[r]))return!0;return!!th(i,t)}function Fh(i,t,r){return!!gs(i,t)||!!eo(t,i,r)}function Jp(i,t){if(i.length===1)return wp(t,i[0]);for(let r=0;r<t.length;r++){const s=t[r];for(let g=0;g<s.length;g++)if(gs(i,s[g]))return!0}for(let r=0;r<i.length;r++)if(wp(t,i[r]))return!0;for(let r=0;r<t.length;r++)if(th(i,t[r]))return!0;return!1}function ed(i,t,r){if(i.length>1){if(th(i,t))return!0;for(let s=0;s<t.length;s++)if(eo(t[s],i,r))return!0}for(let s=0;s<i.length;s++)if(eo(i[s],t,r))return!0;return!1}function th(i,t){if(i.length===0||t.length===0)return!1;for(let r=0;r<i.length-1;r++){const s=i[r],g=i[r+1];for(let v=0;v<t.length-1;v++)if(Us(s,g,t[v],t[v+1]))return!0}return!1}function Us(i,t,r,s){return yn(i,r,s)!==yn(t,r,s)&&yn(i,t,r)!==yn(i,t,s)}function eo(i,t,r){const s=r*r;if(t.length===1)return i.distSqr(t[0])<s;for(let g=1;g<t.length;g++)if(td(i,t[g-1],t[g])<s)return!0;return!1}function td(i,t,r){const s=t.distSqr(r);if(s===0)return i.distSqr(t);const g=((i.x-t.x)*(r.x-t.x)+(i.y-t.y)*(r.y-t.y))/s;return i.distSqr(g<0?t:g>1?r:r.sub(t)._mult(g)._add(t))}function wp(i,t){for(let r=0;r<i.length;r++)if(gs(i[r],t))return!0;return!1}function gs(i,t){let r=!1;for(let s=0,g=i.length-1;s<i.length;g=s++){const v=i[s],b=i[g];v.y>t.y!=b.y>t.y&&t.x<(b.x-v.x)*(t.y-v.y)/(b.y-v.y)+v.x&&(r=!r)}return r}function nd(i,t,r){const s=r[0],g=r[2];if(i.x<s.x&&t.x<s.x||i.x>g.x&&t.x>g.x||i.y<s.y&&t.y<s.y||i.y>g.y&&t.y>g.y)return!1;const v=yn(i,t,r[0]);return v!==yn(i,t,r[1])||v!==yn(i,t,r[2])||v!==yn(i,t,r[3])}function Dc(i,t,r){const s=t.paint.get(i).value;return s.kind==="constant"?s.value:r.programConfigurations.get(t.id).getMaxValue(i)}function nh(i){return Math.sqrt(i[0]*i[0]+i[1]*i[1])}function rh(i,t,r,s,g){if(!t[0]&&!t[1])return i;const v=de.convert(t)._mult(g);r==="viewport"&&v._rotate(-s);const b=[];for(let I=0;I<i.length;I++)b.push(i[I].sub(v));return b}let Dp,rd;un("CircleBucket",wc,{omit:["layers"]});var N0={get paint(){return rd=rd||new Ri({"circle-radius":new jn(ge.paint_circle["circle-radius"]),"circle-color":new jn(ge.paint_circle["circle-color"]),"circle-blur":new jn(ge.paint_circle["circle-blur"]),"circle-opacity":new jn(ge.paint_circle["circle-opacity"]),"circle-translate":new fn(ge.paint_circle["circle-translate"]),"circle-translate-anchor":new fn(ge.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new fn(ge.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new fn(ge.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new jn(ge.paint_circle["circle-stroke-width"]),"circle-stroke-color":new jn(ge.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new jn(ge.paint_circle["circle-stroke-opacity"])})},get layout(){return Dp=Dp||new Ri({"circle-sort-key":new jn(ge.layout_circle["circle-sort-key"])})}};class Nh extends jo{constructor(t){super(t,N0)}createBucket(t){return new wc(t)}queryRadius(t){const r=t;return Dc("circle-radius",this,r)+Dc("circle-stroke-width",this,r)+nh(this.paint.get("circle-translate"))}queryIntersectsFeature({queryGeometry:t,feature:r,featureState:s,geometry:g,transform:v,pixelsToTileUnits:b,unwrappedTileID:I,getElevation:P}){const R=rh(t,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),-v.bearingInRadians,b),G=this.paint.get("circle-radius").evaluate(r,s)+this.paint.get("circle-stroke-width").evaluate(r,s),N=this.paint.get("circle-pitch-alignment")==="map",H=N?R:function(ee,se,ve,Ie){return ee.map(qe=>ih(qe,se,ve,Ie))}(R,v,I,P),Y=N?G*b:G;for(const ee of g)for(const se of ee){const ve=N?se:ih(se,v,I,P);let Ie=Y;const qe=v.projectTileCoordinates(se.x,se.y,I,P).signedDistanceFromCamera;if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Ie*=qe/v.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Ie*=v.cameraToCenterDistance/qe),Fh(H,ve,Ie))return!0}return!1}}function ih(i,t,r,s){const g=t.projectTileCoordinates(i.x,i.y,r,s).point;return new de((.5*g.x+.5)*t.width,(.5*-g.y+.5)*t.height)}class $h extends wc{}let Cc;un("HeatmapBucket",$h,{omit:["layers"]});var _u={get paint(){return Cc=Cc||new Ri({"heatmap-radius":new jn(ge.paint_heatmap["heatmap-radius"]),"heatmap-weight":new jn(ge.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new fn(ge.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Zl(ge.paint_heatmap["heatmap-color"]),"heatmap-opacity":new fn(ge.paint_heatmap["heatmap-opacity"])})}};function rr(i,{width:t,height:r},s,g){if(g){if(g instanceof Uint8ClampedArray)g=new Uint8Array(g.buffer);else if(g.length!==t*r*s)throw new RangeError(`mismatched image size. expected: ${g.length} but got: ${t*r*s}`)}else g=new Uint8Array(t*r*s);return i.width=t,i.height=r,i.data=g,i}function ah(i,{width:t,height:r},s){if(t===i.width&&r===i.height)return;const g=rr({},{width:t,height:r},s);Ic(i,g,{x:0,y:0},{x:0,y:0},{width:Math.min(i.width,t),height:Math.min(i.height,r)},s),i.width=t,i.height=r,i.data=g.data}function Ic(i,t,r,s,g,v){if(g.width===0||g.height===0)return t;if(g.width>i.width||g.height>i.height||r.x>i.width-g.width||r.y>i.height-g.height)throw new RangeError("out of range source coordinates for image copy");if(g.width>t.width||g.height>t.height||s.x>t.width-g.width||s.y>t.height-g.height)throw new RangeError("out of range destination coordinates for image copy");const b=i.data,I=t.data;if(b===I)throw new Error("srcData equals dstData, so image is already copied");for(let P=0;P<g.height;P++){const R=((r.y+P)*i.width+r.x)*v,G=((s.y+P)*t.width+s.x)*v;for(let N=0;N<g.width*v;N++)I[G+N]=b[R+N]}return t}class ql{constructor(t,r){rr(this,t,1,r)}resize(t){ah(this,t,1)}clone(){return new ql({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(t,r,s,g,v){Ic(t,r,s,g,v,1)}}class ms{constructor(t,r){rr(this,t,4,r)}resize(t){ah(this,t,4)}replace(t,r){r?this.data.set(t):this.data=t instanceof Uint8ClampedArray?new Uint8Array(t.buffer):t}clone(){return new ms({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(t,r,s,g,v){Ic(t,r,s,g,v,4)}}function Kl(i){const t={},r=i.resolution||256,s=i.clips?i.clips.length:1,g=i.image||new ms({width:r,height:s});if(Math.log(r)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${r}`);const v=(b,I,P)=>{t[i.evaluationKey]=P;const R=i.expression.evaluate(t);g.data[b+I+0]=Math.floor(255*R.r/R.a),g.data[b+I+1]=Math.floor(255*R.g/R.a),g.data[b+I+2]=Math.floor(255*R.b/R.a),g.data[b+I+3]=Math.floor(255*R.a)};if(i.clips)for(let b=0,I=0;b<s;++b,I+=4*r)for(let P=0,R=0;P<r;P++,R+=4){const G=P/(r-1),{start:N,end:H}=i.clips[b];v(I,R,N*(1-G)+H*G)}else for(let b=0,I=0;b<r;b++,I+=4)v(0,I,b/(r-1));return g}un("AlphaImage",ql),un("RGBAImage",ms);const Cp="big-fb";class Ho extends jo{createBucket(t){return new $h(t)}constructor(t){super(t,_u),this.heatmapFbos=new Map,this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(t){t==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=Kl({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbos.has(Cp)&&this.heatmapFbos.delete(Cp)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let Ip;var Ld={get paint(){return Ip=Ip||new Ri({"hillshade-illumination-direction":new fn(ge.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-altitude":new fn(ge.paint_hillshade["hillshade-illumination-altitude"]),"hillshade-illumination-anchor":new fn(ge.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new fn(ge.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new fn(ge.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new fn(ge.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new fn(ge.paint_hillshade["hillshade-accent-color"]),"hillshade-method":new fn(ge.paint_hillshade["hillshade-method"])})}};class id extends jo{constructor(t){super(t,Ld),this.recalculate({zoom:0,zoomHistory:{}},void 0)}getIlluminationProperties(){let t=this.paint.get("hillshade-illumination-direction").values,r=this.paint.get("hillshade-illumination-altitude").values,s=this.paint.get("hillshade-highlight-color").values,g=this.paint.get("hillshade-shadow-color").values;const v=Math.max(t.length,r.length,s.length,g.length);t=t.concat(Array(v-t.length).fill(t.at(-1))),r=r.concat(Array(v-r.length).fill(r.at(-1))),s=s.concat(Array(v-s.length).fill(s.at(-1))),g=g.concat(Array(v-g.length).fill(g.at(-1)));const b=r.map(Lr);return{directionRadians:t.map(Lr),altitudeRadians:b,shadowColor:g,highlightColor:s}}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}const jh=ii([{name:"a_pos",components:2,type:"Int16"}],4),{members:qo}=jh;function ad(i,t,r){const s=r.patternDependencies;let g=!1;for(const v of t){const b=v.paint.get(`${i}-pattern`);b.isConstant()||(g=!0);const I=b.constantOr(null);I&&(g=!0,s[I.to]=!0,s[I.from]=!0)}return g}function od(i,t,r,s,g){const v=g.patternDependencies;for(const b of t){const I=b.paint.get(`${i}-pattern`).value;if(I.kind!=="constant"){let P=I.evaluate({zoom:s-1},r,{},g.availableImages),R=I.evaluate({zoom:s},r,{},g.availableImages),G=I.evaluate({zoom:s+1},r,{},g.availableImages);P=P&&P.name?P.name:P,R=R&&R.name?R.name:R,G=G&&G.name?G.name:G,v[P]=!0,v[R]=!0,v[G]=!0,r.patterns[b.id]={min:P,mid:R,max:G}}}return r}function Vh(i,t,r,s,g){let v;if(g===function(b,I,P,R){let G=0;for(let N=I,H=P-R;N<P;N+=R)G+=(b[H]-b[N])*(b[N+1]+b[H+1]),H=N;return G}(i,t,r,s)>0)for(let b=t;b<r;b+=s)v=Ap(b/s|0,i[b],i[b+1],v);else for(let b=r-s;b>=t;b-=s)v=Ap(b/s|0,i[b],i[b+1],v);return v&&pa(v,v.next)&&(zs(v),v=v.next),v}function vi(i,t){if(!i)return i;t||(t=i);let r,s=i;do if(r=!1,s.steiner||!pa(s,s.next)&&Ni(s.prev,s,s.next)!==0)s=s.next;else{if(zs(s),s=t=s.prev,s===s.next)break;r=!0}while(r||s!==t);return t}function to(i,t,r,s,g,v,b){if(!i)return;!b&&v&&function(P,R,G,N){let H=P;do H.z===0&&(H.z=sh(H.x,H.y,R,G,N)),H.prevZ=H.prev,H.nextZ=H.next,H=H.next;while(H!==P);H.prevZ.nextZ=null,H.prevZ=null,function(Y){let ee,se=1;do{let ve,Ie=Y;Y=null;let qe=null;for(ee=0;Ie;){ee++;let Ue=Ie,K=0;for(let Oe=0;Oe<se&&(K++,Ue=Ue.nextZ,Ue);Oe++);let me=se;for(;K>0||me>0&&Ue;)K!==0&&(me===0||!Ue||Ie.z<=Ue.z)?(ve=Ie,Ie=Ie.nextZ,K--):(ve=Ue,Ue=Ue.nextZ,me--),qe?qe.nextZ=ve:Y=ve,ve.prevZ=qe,qe=ve;Ie=Ue}qe.nextZ=null,se*=2}while(ee>1)}(H)}(i,s,g,v);let I=i;for(;i.prev!==i.next;){const P=i.prev,R=i.next;if(v?oh(i,s,g,v):kn(i))t.push(P.i,i.i,R.i),zs(i),i=R.next,I=R.next;else if((i=R)===I){b?b===1?to(i=Zh(vi(i),t),t,r,s,g,v,2):b===2&&Bd(i,t,r,s,g,v):to(vi(i),t,r,s,g,v,1);break}}}function kn(i){const t=i.prev,r=i,s=i.next;if(Ni(t,r,s)>=0)return!1;const g=t.x,v=r.x,b=s.x,I=t.y,P=r.y,R=s.y,G=Math.min(g,v,b),N=Math.min(I,P,R),H=Math.max(g,v,b),Y=Math.max(I,P,R);let ee=s.next;for(;ee!==t;){if(ee.x>=G&&ee.x<=H&&ee.y>=N&&ee.y<=Y&&lh(g,I,v,P,b,R,ee.x,ee.y)&&Ni(ee.prev,ee,ee.next)>=0)return!1;ee=ee.next}return!0}function oh(i,t,r,s){const g=i.prev,v=i,b=i.next;if(Ni(g,v,b)>=0)return!1;const I=g.x,P=v.x,R=b.x,G=g.y,N=v.y,H=b.y,Y=Math.min(I,P,R),ee=Math.min(G,N,H),se=Math.max(I,P,R),ve=Math.max(G,N,H),Ie=sh(Y,ee,t,r,s),qe=sh(se,ve,t,r,s);let Ue=i.prevZ,K=i.nextZ;for(;Ue&&Ue.z>=Ie&&K&&K.z<=qe;){if(Ue.x>=Y&&Ue.x<=se&&Ue.y>=ee&&Ue.y<=ve&&Ue!==g&&Ue!==b&&lh(I,G,P,N,R,H,Ue.x,Ue.y)&&Ni(Ue.prev,Ue,Ue.next)>=0||(Ue=Ue.prevZ,K.x>=Y&&K.x<=se&&K.y>=ee&&K.y<=ve&&K!==g&&K!==b&&lh(I,G,P,N,R,H,K.x,K.y)&&Ni(K.prev,K,K.next)>=0))return!1;K=K.nextZ}for(;Ue&&Ue.z>=Ie;){if(Ue.x>=Y&&Ue.x<=se&&Ue.y>=ee&&Ue.y<=ve&&Ue!==g&&Ue!==b&&lh(I,G,P,N,R,H,Ue.x,Ue.y)&&Ni(Ue.prev,Ue,Ue.next)>=0)return!1;Ue=Ue.prevZ}for(;K&&K.z<=qe;){if(K.x>=Y&&K.x<=se&&K.y>=ee&&K.y<=ve&&K!==g&&K!==b&&lh(I,G,P,N,R,H,K.x,K.y)&&Ni(K.prev,K,K.next)>=0)return!1;K=K.nextZ}return!0}function Zh(i,t){let r=i;do{const s=r.prev,g=r.next.next;!pa(s,g)&&Xl(s,r,r.next,g)&&$0(s,g)&&$0(g,s)&&(t.push(s.i,r.i,g.i),zs(r),zs(r.next),r=i=g),r=r.next}while(r!==i);return vi(r)}function Bd(i,t,r,s,g,v){let b=i;do{let I=b.next.next;for(;I!==b.prev;){if(b.i!==I.i&&ld(b,I)){let P=Js(b,I);return b=vi(b,b.next),P=vi(P,P.next),to(b,t,r,s,g,v,0),void to(P,t,r,s,g,v,0)}I=I.next}b=b.next}while(b!==i)}function Df(i,t){let r=i.x-t.x;return r===0&&(r=i.y-t.y,r===0)&&(r=(i.next.y-i.y)/(i.next.x-i.x)-(t.next.y-t.y)/(t.next.x-t.x)),r}function vu(i,t){const r=function(g,v){let b=v;const I=g.x,P=g.y;let R,G=-1/0;if(pa(g,b))return b;do{if(pa(g,b.next))return b.next;if(P<=b.y&&P>=b.next.y&&b.next.y!==b.y){const se=b.x+(P-b.y)*(b.next.x-b.x)/(b.next.y-b.y);if(se<=I&&se>G&&(G=se,R=b.x<b.next.x?b:b.next,se===I))return R}b=b.next}while(b!==v);if(!R)return null;const N=R,H=R.x,Y=R.y;let ee=1/0;b=R;do{if(I>=b.x&&b.x>=H&&I!==b.x&&sd(P<Y?I:G,P,H,Y,P<Y?G:I,P,b.x,b.y)){const se=Math.abs(P-b.y)/(I-b.x);$0(b,g)&&(se<ee||se===ee&&(b.x>R.x||b.x===R.x&&Wh(R,b)))&&(R=b,ee=se)}b=b.next}while(b!==N);return R}(i,t);if(!r)return t;const s=Js(r,i);return vi(s,s.next),vi(r,r.next)}function Wh(i,t){return Ni(i.prev,i,t.prev)<0&&Ni(t.next,i,i.next)<0}function sh(i,t,r,s,g){return(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i=(i-r)*g|0)|i<<8))|i<<4))|i<<2))|i<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-s)*g|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Od(i){let t=i,r=i;do(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next;while(t!==i);return r}function sd(i,t,r,s,g,v,b,I){return(g-b)*(t-I)>=(i-b)*(v-I)&&(i-b)*(s-I)>=(r-b)*(t-I)&&(r-b)*(v-I)>=(g-b)*(s-I)}function lh(i,t,r,s,g,v,b,I){return!(i===b&&t===I)&&sd(i,t,r,s,g,v,b,I)}function ld(i,t){return i.next.i!==t.i&&i.prev.i!==t.i&&!function(r,s){let g=r;do{if(g.i!==r.i&&g.next.i!==r.i&&g.i!==s.i&&g.next.i!==s.i&&Xl(g,g.next,r,s))return!0;g=g.next}while(g!==r);return!1}(i,t)&&($0(i,t)&&$0(t,i)&&function(r,s){let g=r,v=!1;const b=(r.x+s.x)/2,I=(r.y+s.y)/2;do g.y>I!=g.next.y>I&&g.next.y!==g.y&&b<(g.next.x-g.x)*(I-g.y)/(g.next.y-g.y)+g.x&&(v=!v),g=g.next;while(g!==r);return v}(i,t)&&(Ni(i.prev,i,t.prev)||Ni(i,t.prev,t))||pa(i,t)&&Ni(i.prev,i,i.next)>0&&Ni(t.prev,t,t.next)>0)}function Ni(i,t,r){return(t.y-i.y)*(r.x-t.x)-(t.x-i.x)*(r.y-t.y)}function pa(i,t){return i.x===t.x&&i.y===t.y}function Xl(i,t,r,s){const g=uh(Ni(i,t,r)),v=uh(Ni(i,t,s)),b=uh(Ni(r,s,i)),I=uh(Ni(r,s,t));return g!==v&&b!==I||!(g!==0||!Sl(i,r,t))||!(v!==0||!Sl(i,s,t))||!(b!==0||!Sl(r,i,s))||!(I!==0||!Sl(r,t,s))}function Sl(i,t,r){return t.x<=Math.max(i.x,r.x)&&t.x>=Math.min(i.x,r.x)&&t.y<=Math.max(i.y,r.y)&&t.y>=Math.min(i.y,r.y)}function uh(i){return i>0?1:i<0?-1:0}function $0(i,t){return Ni(i.prev,i,i.next)<0?Ni(i,t,i.next)>=0&&Ni(i,i.prev,t)>=0:Ni(i,t,i.prev)<0||Ni(i,i.next,t)<0}function Js(i,t){const r=ch(i.i,i.x,i.y),s=ch(t.i,t.x,t.y),g=i.next,v=t.prev;return i.next=t,t.prev=i,r.next=g,g.prev=r,s.next=r,r.prev=s,v.next=s,s.prev=v,s}function Ap(i,t,r,s){const g=ch(i,t,r);return s?(g.next=s.next,g.prev=s,s.next.prev=g,s.next=g):(g.prev=g,g.next=g),g}function zs(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function ch(i,t,r){return{i,x:t,y:r,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}class ec{constructor(t,r){if(r>t)throw new Error("Min granularity must not be greater than base granularity.");this._baseZoomGranularity=t,this._minGranularity=r}getGranularityForZoomLevel(t){return Math.max(Math.floor(this._baseZoomGranularity/(1<<t)),this._minGranularity,1)}}class el{constructor(t){this.fill=t.fill,this.line=t.line,this.tile=t.tile,this.stencil=t.stencil,this.circle=t.circle}}el.noSubdivision=new el({fill:new ec(0,0),line:new ec(0,0),tile:new ec(0,0),stencil:new ec(0,0),circle:1}),un("SubdivisionGranularityExpression",ec),un("SubdivisionGranularitySetting",el);const Tl=-32768,hh=32767;class Fd{constructor(t,r){this._vertexBuffer=[],this._vertexDictionary=new Map,this._used=!1,this._granularity=t,this._granularityCellSize=yt/t,this._canonical=r}_getKey(t,r){return(t+=32768)<<16|(r+=32768)<<0}_vertexToIndex(t,r){if(t<-32768||r<-32768||t>32767||r>32767)throw new Error("Vertex coordinates are out of signed 16 bit integer range.");const s=0|Math.round(t),g=0|Math.round(r),v=this._getKey(s,g);if(this._vertexDictionary.has(v))return this._vertexDictionary.get(v);const b=this._vertexBuffer.length/2;return this._vertexDictionary.set(v,b),this._vertexBuffer.push(s,g),b}_subdivideTrianglesScanline(t){if(this._granularity<2)return function(g,v){const b=[];for(let I=0;I<v.length;I+=3){const P=v[I],R=v[I+1],G=v[I+2],N=g[2*P],H=g[2*P+1];(g[2*R]-N)*(g[2*G+1]-H)-(g[2*R+1]-H)*(g[2*G]-N)>0?(b.push(P),b.push(G),b.push(R)):(b.push(P),b.push(R),b.push(G))}return b}(this._vertexBuffer,t);const r=[],s=t.length;for(let g=0;g<s;g+=3){const v=[t[g+0],t[g+1],t[g+2]],b=[this._vertexBuffer[2*t[g+0]+0],this._vertexBuffer[2*t[g+0]+1],this._vertexBuffer[2*t[g+1]+0],this._vertexBuffer[2*t[g+1]+1],this._vertexBuffer[2*t[g+2]+0],this._vertexBuffer[2*t[g+2]+1]];let I=1/0,P=1/0,R=-1/0,G=-1/0;for(let se=0;se<3;se++){const ve=b[2*se],Ie=b[2*se+1];I=Math.min(I,ve),R=Math.max(R,ve),P=Math.min(P,Ie),G=Math.max(G,Ie)}if(I===R||P===G)continue;const N=Math.floor(I/this._granularityCellSize),H=Math.ceil(R/this._granularityCellSize),Y=Math.floor(P/this._granularityCellSize),ee=Math.ceil(G/this._granularityCellSize);if(N!==H||Y!==ee)for(let se=Y;se<ee;se++){const ve=this._scanlineGenerateVertexRingForCellRow(se,b,v);Yl(this._vertexBuffer,ve,r)}else r.push(...v)}return r}_scanlineGenerateVertexRingForCellRow(t,r,s){const g=t*this._granularityCellSize,v=g+this._granularityCellSize,b=[];for(let I=0;I<3;I++){const P=r[2*I],R=r[2*I+1],G=r[2*(I+1)%6],N=r[(2*(I+1)+1)%6],H=r[2*(I+2)%6],Y=r[(2*(I+2)+1)%6],ee=G-P,se=N-R,ve=ee===0,Ie=se===0,qe=(g-R)/se,Ue=(v-R)/se,K=Math.min(qe,Ue),me=Math.max(qe,Ue);if(!Ie&&(K>=1||me<=0)||Ie&&(R<g||R>v)){N>=g&&N<=v&&b.push(s[(I+1)%3]);continue}!Ie&&K>0&&b.push(this._vertexToIndex(P+ee*K,R+se*K));const Oe=P+ee*Math.max(K,0),ft=P+ee*Math.min(me,1);ve||this._generateIntraEdgeVertices(b,P,R,G,N,Oe,ft),!Ie&&me<1&&b.push(this._vertexToIndex(P+ee*me,R+se*me)),(Ie||N>=g&&N<=v)&&b.push(s[(I+1)%3]),!Ie&&(N<=g||N>=v)&&this._generateInterEdgeVertices(b,P,R,G,N,H,Y,ft,g,v)}return b}_generateIntraEdgeVertices(t,r,s,g,v,b,I){const P=g-r,R=v-s,G=R===0,N=G?Math.min(r,g):Math.min(b,I),H=G?Math.max(r,g):Math.max(b,I),Y=Math.floor(N/this._granularityCellSize)+1,ee=Math.ceil(H/this._granularityCellSize)-1;if(G?r<g:b<I)for(let se=Y;se<=ee;se++){const ve=se*this._granularityCellSize;t.push(this._vertexToIndex(ve,s+R*(ve-r)/P))}else for(let se=ee;se>=Y;se--){const ve=se*this._granularityCellSize;t.push(this._vertexToIndex(ve,s+R*(ve-r)/P))}}_generateInterEdgeVertices(t,r,s,g,v,b,I,P,R,G){const N=v-s,H=b-g,Y=I-v,ee=(R-v)/Y,se=(G-v)/Y,ve=Math.min(ee,se),Ie=Math.max(ee,se),qe=g+H*ve;let Ue=Math.floor(Math.min(qe,P)/this._granularityCellSize)+1,K=Math.ceil(Math.max(qe,P)/this._granularityCellSize)-1,me=P<qe;const Oe=Y===0;if(Oe&&(I===R||I===G))return;if(Oe||ve>=1||Ie<=0){const jt=s-I,xt=b+(r-b)*Math.min((R-I)/jt,(G-I)/jt);Ue=Math.floor(Math.min(xt,P)/this._granularityCellSize)+1,K=Math.ceil(Math.max(xt,P)/this._granularityCellSize)-1,me=P<xt}const ft=N>0?G:R;if(me)for(let jt=Ue;jt<=K;jt++)t.push(this._vertexToIndex(jt*this._granularityCellSize,ft));else for(let jt=K;jt>=Ue;jt--)t.push(this._vertexToIndex(jt*this._granularityCellSize,ft))}_generateOutline(t){const r=[];for(const s of t){const g=xu(s,this._granularity,!0),v=this._pointArrayToIndices(g),b=[];for(let I=1;I<v.length;I++)b.push(v[I-1]),b.push(v[I]);r.push(b)}return r}_handlePoles(t){let r=!1,s=!1;this._canonical&&(this._canonical.y===0&&(r=!0),this._canonical.y===(1<<this._canonical.z)-1&&(s=!0)),(r||s)&&this._fillPoles(t,r,s)}_ensureNoPoleVertices(){const t=this._vertexBuffer;for(let r=0;r<t.length;r+=2){const s=t[r+1];s===Tl&&(t[r+1]=-32767),s===hh&&(t[r+1]=32766)}}_generatePoleQuad(t,r,s,g,v,b){g>v!=(b===Tl)?(t.push(r),t.push(s),t.push(this._vertexToIndex(g,b)),t.push(s),t.push(this._vertexToIndex(v,b)),t.push(this._vertexToIndex(g,b))):(t.push(s),t.push(r),t.push(this._vertexToIndex(g,b)),t.push(this._vertexToIndex(v,b)),t.push(s),t.push(this._vertexToIndex(g,b)))}_fillPoles(t,r,s){const g=this._vertexBuffer,v=yt,b=t.length;for(let I=2;I<b;I+=3){const P=t[I-2],R=t[I-1],G=t[I],N=g[2*P],H=g[2*P+1],Y=g[2*R],ee=g[2*R+1],se=g[2*G],ve=g[2*G+1];r&&(H===0&&ee===0&&this._generatePoleQuad(t,P,R,N,Y,Tl),ee===0&&ve===0&&this._generatePoleQuad(t,R,G,Y,se,Tl),ve===0&&H===0&&this._generatePoleQuad(t,G,P,se,N,Tl)),s&&(H===v&&ee===v&&this._generatePoleQuad(t,P,R,N,Y,hh),ee===v&&ve===v&&this._generatePoleQuad(t,R,G,Y,se,hh),ve===v&&H===v&&this._generatePoleQuad(t,G,P,se,N,hh))}}_initializeVertices(t){for(let r=0;r<t.length;r+=2)this._vertexToIndex(t[r],t[r+1])}subdividePolygonInternal(t,r){if(this._used)throw new Error("Subdivision: multiple use not allowed.");this._used=!0;const{flattened:s,holeIndices:g}=function(I){const P=[],R=[];for(const G of I)if(G.length!==0){G!==I[0]&&P.push(R.length/2);for(let N=0;N<G.length;N++)R.push(G[N].x),R.push(G[N].y)}return{flattened:R,holeIndices:P}}(t);let v;this._initializeVertices(s);try{const I=function(R,G,N=2){const H=G&&G.length,Y=H?G[0]*N:R.length;let ee=Vh(R,0,Y,N,!0);const se=[];if(!ee||ee.next===ee.prev)return se;let ve,Ie,qe;if(H&&(ee=function(Ue,K,me,Oe){const ft=[];for(let jt=0,xt=K.length;jt<xt;jt++){const Tt=Vh(Ue,K[jt]*Oe,jt<xt-1?K[jt+1]*Oe:Ue.length,Oe,!1);Tt===Tt.next&&(Tt.steiner=!0),ft.push(Od(Tt))}ft.sort(Df);for(let jt=0;jt<ft.length;jt++)me=vu(ft[jt],me);return me}(R,G,ee,N)),R.length>80*N){ve=1/0,Ie=1/0;let Ue=-1/0,K=-1/0;for(let me=N;me<Y;me+=N){const Oe=R[me],ft=R[me+1];Oe<ve&&(ve=Oe),ft<Ie&&(Ie=ft),Oe>Ue&&(Ue=Oe),ft>K&&(K=ft)}qe=Math.max(Ue-ve,K-Ie),qe=qe!==0?32767/qe:0}return to(ee,se,N,ve,Ie,qe,0),se}(s,g),P=this._convertIndices(s,I);v=this._subdivideTrianglesScanline(P)}catch(I){console.error(I)}let b=[];return r&&(b=this._generateOutline(t)),this._ensureNoPoleVertices(),this._handlePoles(v),{verticesFlattened:this._vertexBuffer,indicesTriangles:v,indicesLineList:b}}_convertIndices(t,r){const s=[];for(let g=0;g<r.length;g++)s.push(this._vertexToIndex(t[2*r[g]],t[2*r[g]+1]));return s}_pointArrayToIndices(t){const r=[];for(let s=0;s<t.length;s++){const g=t[s];r.push(this._vertexToIndex(g.x,g.y))}return r}}function Hh(i,t,r,s=!0){return new Fd(r,t).subdividePolygonInternal(i,s)}function xu(i,t,r=!1){if(!i||i.length<1)return[];if(i.length<2)return[];const s=i[0],g=i[i.length-1],v=r&&(s.x!==g.x||s.y!==g.y);if(t<2)return v?[...i,i[0]]:[...i];const b=Math.floor(yt/t),I=[];I.push(new de(i[0].x,i[0].y));const P=i.length,R=v?P:P-1;for(let G=0;G<R;G++){const N=i[G],H=G<P-1?i[G+1]:i[0],Y=N.x,ee=N.y,se=H.x,ve=H.y,Ie=Y!==se,qe=ee!==ve;if(!Ie&&!qe)continue;const Ue=se-Y,K=ve-ee,me=Math.abs(Ue),Oe=Math.abs(K);let ft=Y,jt=ee;for(;;){const Tt=Ue>0?(Math.floor(ft/b)+1)*b:(Math.ceil(ft/b)-1)*b,Xt=K>0?(Math.floor(jt/b)+1)*b:(Math.ceil(jt/b)-1)*b,Zt=Math.abs(ft-Tt),Kt=Math.abs(jt-Xt),Et=Math.abs(ft-se),In=Math.abs(jt-ve),qn=Ie?Zt/me:Number.POSITIVE_INFINITY,Wn=qe?Kt/Oe:Number.POSITIVE_INFINITY;if((Et<=Zt||!Ie)&&(In<=Kt||!qe))break;if(qn<Wn&&Ie||!qe){ft=Tt,jt+=K*qn;const En=new de(ft,Math.round(jt));I[I.length-1].x===En.x&&I[I.length-1].y===En.y||I.push(En)}else{ft+=Ue*Wn,jt=Xt;const En=new de(Math.round(ft),jt);I[I.length-1].x===En.x&&I[I.length-1].y===En.y||I.push(En)}}const xt=new de(se,ve);I[I.length-1].x===xt.x&&I[I.length-1].y===xt.y||I.push(xt)}return I}function Yl(i,t,r){if(t.length===0)throw new Error("Subdivision vertex ring is empty.");let s=0,g=i[2*t[0]];for(let P=1;P<t.length;P++){const R=i[2*t[P]];R<g&&(g=R,s=P)}const v=t.length;let b=s,I=(b+1)%v;for(;;){const P=b-1>=0?b-1:v-1,R=(I+1)%v,G=i[2*t[P]],N=i[2*t[R]],H=i[2*t[b]],Y=i[2*t[b]+1],ee=i[2*t[I]+1];let se=!1;if(G<N)se=!0;else if(G>N)se=!1;else{const ve=ee-Y,Ie=-(i[2*t[I]]-H),qe=Y<ee?1:-1;((G-H)*ve+(i[2*t[P]+1]-Y)*Ie)*qe>((N-H)*ve+(i[2*t[R]+1]-Y)*Ie)*qe&&(se=!0)}if(se){const ve=t[P],Ie=t[b],qe=t[I];ve!==Ie&&ve!==qe&&Ie!==qe&&r.push(qe,Ie,ve),b--,b<0&&(b=v-1)}else{const ve=t[R],Ie=t[b],qe=t[I];ve!==Ie&&ve!==qe&&Ie!==qe&&r.push(qe,Ie,ve),I++,I>=v&&(I=0)}if(P===R)break}}function Hr(i,t,r,s,g,v,b,I,P){const R=g.length/2,G=b&&I&&P;if(R<Pr.MAX_VERTEX_ARRAY_LENGTH){const N=t.prepareSegment(R,r,s),H=N.vertexLength;for(let se=0;se<v.length;se+=3)s.emplaceBack(H+v[se],H+v[se+1],H+v[se+2]);let Y,ee;N.vertexLength+=R,N.primitiveLength+=v.length/3,G&&(ee=b.prepareSegment(R,r,I),Y=ee.vertexLength,ee.vertexLength+=R);for(let se=0;se<g.length;se+=2)i(g[se],g[se+1]);if(G)for(let se=0;se<P.length;se++){const ve=P[se];for(let Ie=1;Ie<ve.length;Ie+=2)I.emplaceBack(Y+ve[Ie-1],Y+ve[Ie]);ee.primitiveLength+=ve.length/2}}else(function(N,H,Y,ee,se,ve){const Ie=[];for(let Oe=0;Oe<ee.length/2;Oe++)Ie.push(-1);const qe={count:0};let Ue=0,K=N.getOrCreateLatestSegment(H,Y),me=K.vertexLength;for(let Oe=2;Oe<se.length;Oe+=3){const ft=se[Oe-2],jt=se[Oe-1],xt=se[Oe];let Tt=Ie[ft]<Ue,Xt=Ie[jt]<Ue,Zt=Ie[xt]<Ue;K.vertexLength+((Tt?1:0)+(Xt?1:0)+(Zt?1:0))>Pr.MAX_VERTEX_ARRAY_LENGTH&&(K=N.createNewSegment(H,Y),Ue=qe.count,Tt=!0,Xt=!0,Zt=!0,me=0);const Kt=wa(Ie,ee,ve,qe,ft,Tt,K),Et=wa(Ie,ee,ve,qe,jt,Xt,K),In=wa(Ie,ee,ve,qe,xt,Zt,K);Y.emplaceBack(me+Kt-Ue,me+Et-Ue,me+In-Ue),K.primitiveLength++}})(t,r,s,g,v,i),G&&function(N,H,Y,ee,se,ve){const Ie=[];for(let Oe=0;Oe<ee.length/2;Oe++)Ie.push(-1);const qe={count:0};let Ue=0,K=N.getOrCreateLatestSegment(H,Y),me=K.vertexLength;for(let Oe=0;Oe<se.length;Oe++){const ft=se[Oe];for(let jt=1;jt<se[Oe].length;jt+=2){const xt=ft[jt-1],Tt=ft[jt];let Xt=Ie[xt]<Ue,Zt=Ie[Tt]<Ue;K.vertexLength+((Xt?1:0)+(Zt?1:0))>Pr.MAX_VERTEX_ARRAY_LENGTH&&(K=N.createNewSegment(H,Y),Ue=qe.count,Xt=!0,Zt=!0,me=0);const Kt=wa(Ie,ee,ve,qe,xt,Xt,K),Et=wa(Ie,ee,ve,qe,Tt,Zt,K);Y.emplaceBack(me+Kt-Ue,me+Et-Ue),K.primitiveLength++}}}(b,r,I,g,P,i),t.forceNewSegmentOnNextPrepare(),b==null||b.forceNewSegmentOnNextPrepare()}function wa(i,t,r,s,g,v,b){if(v){const I=s.count;return r(t[2*g],t[2*g+1]),i[g]=s.count,s.count++,b.vertexLength++,I}return i[g]}class Da{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(r=>r.id),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new rn,this.indexArray=new Cr,this.indexArray2=new qi,this.programConfigurations=new Il(t.layers,t.zoom),this.segments=new Pr,this.segments2=new Pr,this.stateDependentLayerIds=this.layers.filter(r=>r.isStateDependent()).map(r=>r.id)}populate(t,r,s){this.hasPattern=ad("fill",this.layers,r);const g=this.layers[0].layout.get("fill-sort-key"),v=!g.isConstant(),b=[];for(const{feature:I,id:P,index:R,sourceLayerIndex:G}of t){const N=this.layers[0]._featureFilter.needGeometry,H=F0(I,N);if(!this.layers[0]._featureFilter.filter(new ri(this.zoom),H,s))continue;const Y=v?g.evaluate(H,{},s,r.availableImages):void 0,ee={id:P,properties:I.properties,type:I.type,sourceLayerIndex:G,index:R,geometry:N?H.geometry:Al(I),patterns:{},sortKey:Y};b.push(ee)}v&&b.sort((I,P)=>I.sortKey-P.sortKey);for(const I of b){const{geometry:P,index:R,sourceLayerIndex:G}=I;if(this.hasPattern){const N=od("fill",this.layers,I,this.zoom,r);this.patternFeatures.push(N)}else this.addFeature(I,P,R,s,{},r.subdivisionGranularity);r.featureIndex.insert(t[R].feature,P,R,G,this.index)}}update(t,r,s){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,r,this.stateDependentLayers,s)}addFeatures(t,r,s){for(const g of this.patternFeatures)this.addFeature(g,g.geometry,g.index,r,s,t.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,qo),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(t,r,s,g,v,b){for(const I of jc(r,500)){const P=Hh(I,g,b.fill.getGranularityForZoomLevel(g.z)),R=this.layoutVertexArray;Hr((G,N)=>{R.emplaceBack(G,N)},this.segments,this.layoutVertexArray,this.indexArray,P.verticesFlattened,P.indicesTriangles,this.segments2,this.indexArray2,P.indicesLineList)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,s,v,g)}}let xo,tl;un("FillBucket",Da,{omit:["layers","patternFeatures"]});var ph={get paint(){return tl=tl||new Ri({"fill-antialias":new fn(ge.paint_fill["fill-antialias"]),"fill-opacity":new jn(ge.paint_fill["fill-opacity"]),"fill-color":new jn(ge.paint_fill["fill-color"]),"fill-outline-color":new jn(ge.paint_fill["fill-outline-color"]),"fill-translate":new fn(ge.paint_fill["fill-translate"]),"fill-translate-anchor":new fn(ge.paint_fill["fill-translate-anchor"]),"fill-pattern":new c0(ge.paint_fill["fill-pattern"])})},get layout(){return xo=xo||new Ri({"fill-sort-key":new jn(ge.layout_fill["fill-sort-key"])})}};class no extends jo{constructor(t){super(t,ph)}recalculate(t,r){super.recalculate(t,r);const s=this.paint._values["fill-outline-color"];s.value.kind==="constant"&&s.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(t){return new Da(t)}queryRadius(){return nh(this.paint.get("fill-translate"))}queryIntersectsFeature({queryGeometry:t,geometry:r,transform:s,pixelsToTileUnits:g}){return Jp(rh(t,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),-s.bearingInRadians,g),r)}isTileClipped(){return!0}}const qh=ii([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),tc=ii([{name:"a_centroid",components:2,type:"Int16"}],4),{members:Kh}=qh;var dh,fh,ys,Sp,bu,j0,Xh,gh={};function wu(){if(fh)return dh;fh=1;var i=te();function t(g,v,b,I,P){this.properties={},this.extent=b,this.type=0,this._pbf=g,this._geometry=-1,this._keys=I,this._values=P,g.readFields(r,this,v)}function r(g,v,b){g==1?v.id=b.readVarint():g==2?function(I,P){for(var R=I.readVarint()+I.pos;I.pos<R;){var G=P._keys[I.readVarint()],N=P._values[I.readVarint()];P.properties[G]=N}}(b,v):g==3?v.type=b.readVarint():g==4&&(v._geometry=b.pos)}function s(g){for(var v,b,I=0,P=0,R=g.length,G=R-1;P<R;G=P++)I+=((b=g[G]).x-(v=g[P]).x)*(v.y+b.y);return I}return dh=t,t.types=["Unknown","Point","LineString","Polygon"],t.prototype.loadGeometry=function(){var g=this._pbf;g.pos=this._geometry;for(var v,b=g.readVarint()+g.pos,I=1,P=0,R=0,G=0,N=[];g.pos<b;){if(P<=0){var H=g.readVarint();I=7&H,P=H>>3}if(P--,I===1||I===2)R+=g.readSVarint(),G+=g.readSVarint(),I===1&&(v&&N.push(v),v=[]),v.push(new i(R,G));else{if(I!==7)throw new Error("unknown command "+I);v&&v.push(v[0].clone())}}return v&&N.push(v),N},t.prototype.bbox=function(){var g=this._pbf;g.pos=this._geometry;for(var v=g.readVarint()+g.pos,b=1,I=0,P=0,R=0,G=1/0,N=-1/0,H=1/0,Y=-1/0;g.pos<v;){if(I<=0){var ee=g.readVarint();b=7&ee,I=ee>>3}if(I--,b===1||b===2)(P+=g.readSVarint())<G&&(G=P),P>N&&(N=P),(R+=g.readSVarint())<H&&(H=R),R>Y&&(Y=R);else if(b!==7)throw new Error("unknown command "+b)}return[G,H,N,Y]},t.prototype.toGeoJSON=function(g,v,b){var I,P,R=this.extent*Math.pow(2,b),G=this.extent*g,N=this.extent*v,H=this.loadGeometry(),Y=t.types[this.type];function ee(Ie){for(var qe=0;qe<Ie.length;qe++){var Ue=Ie[qe];Ie[qe]=[360*(Ue.x+G)/R-180,360/Math.PI*Math.atan(Math.exp((180-360*(Ue.y+N)/R)*Math.PI/180))-90]}}switch(this.type){case 1:var se=[];for(I=0;I<H.length;I++)se[I]=H[I][0];ee(H=se);break;case 2:for(I=0;I<H.length;I++)ee(H[I]);break;case 3:for(H=function(Ie){var qe=Ie.length;if(qe<=1)return[Ie];for(var Ue,K,me=[],Oe=0;Oe<qe;Oe++){var ft=s(Ie[Oe]);ft!==0&&(K===void 0&&(K=ft<0),K===ft<0?(Ue&&me.push(Ue),Ue=[Ie[Oe]]):Ue.push(Ie[Oe]))}return Ue&&me.push(Ue),me}(H),I=0;I<H.length;I++)for(P=0;P<H[I].length;P++)ee(H[I][P])}H.length===1?H=H[0]:Y="Multi"+Y;var ve={type:"Feature",geometry:{type:Y,coordinates:H},properties:this.properties};return"id"in this&&(ve.id=this.id),ve},dh}function Yh(){if(Sp)return ys;Sp=1;var i=wu();function t(s,g){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=s,this._keys=[],this._values=[],this._features=[],s.readFields(r,this,g),this.length=this._features.length}function r(s,g,v){s===15?g.version=v.readVarint():s===1?g.name=v.readString():s===5?g.extent=v.readVarint():s===2?g._features.push(v.pos):s===3?g._keys.push(v.readString()):s===4&&g._values.push(function(b){for(var I=null,P=b.readVarint()+b.pos;b.pos<P;){var R=b.readVarint()>>3;I=R===1?b.readString():R===2?b.readFloat():R===3?b.readDouble():R===4?b.readVarint64():R===5?b.readVarint():R===6?b.readSVarint():R===7?b.readBoolean():null}return I}(v))}return ys=t,t.prototype.feature=function(s){if(s<0||s>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[s];var g=this._pbf.readVarint()+this._pbf.pos;return new i(this._pbf,g,this.extent,this._keys,this._values)},ys}function Du(){return Xh||(Xh=1,gh.VectorTile=function(){if(j0)return bu;j0=1;var i=Yh();function t(r,s,g){if(r===3){var v=new i(g,g.readVarint()+g.pos);v.length&&(s[v.name]=v)}}return bu=function(r,s){this.layers=r.readFields(t,{},s)},bu}(),gh.VectorTileFeature=wu(),gh.VectorTileLayer=Yh()),gh}var ro=V(Du());const Qh=ro.VectorTileFeature.types,Jh=Math.pow(2,13);function nc(i,t,r,s,g,v,b,I){i.emplaceBack(t,r,2*Math.floor(s*Jh)+b,g*Jh*2,v*Jh*2,Math.round(I))}class Ac{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(r=>r.id),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Gt,this.centroidVertexArray=new Ct,this.indexArray=new Cr,this.programConfigurations=new Il(t.layers,t.zoom),this.segments=new Pr,this.stateDependentLayerIds=this.layers.filter(r=>r.isStateDependent()).map(r=>r.id)}populate(t,r,s){this.features=[],this.hasPattern=ad("fill-extrusion",this.layers,r);for(const{feature:g,id:v,index:b,sourceLayerIndex:I}of t){const P=this.layers[0]._featureFilter.needGeometry,R=F0(g,P);if(!this.layers[0]._featureFilter.filter(new ri(this.zoom),R,s))continue;const G={id:v,sourceLayerIndex:I,index:b,geometry:P?R.geometry:Al(g),properties:g.properties,type:g.type,patterns:{}};this.hasPattern?this.features.push(od("fill-extrusion",this.layers,G,this.zoom,r)):this.addFeature(G,G.geometry,b,s,{},r.subdivisionGranularity),r.featureIndex.insert(g,G.geometry,b,I,this.index,!0)}}addFeatures(t,r,s){for(const g of this.features){const{geometry:v}=g;this.addFeature(g,v,g.index,r,s,t.subdivisionGranularity)}}update(t,r,s){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,r,this.stateDependentLayers,s)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Kh),this.centroidVertexBuffer=t.createVertexBuffer(this.centroidVertexArray,tc.members,!0),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(t,r,s,g,v,b){for(const I of jc(r,500)){const P={x:0,y:0,sampleCount:0},R=this.layoutVertexArray.length;this.processPolygon(P,g,t,I,b);const G=this.layoutVertexArray.length-R,N=Math.floor(P.x/P.sampleCount),H=Math.floor(P.y/P.sampleCount);for(let Y=0;Y<G;Y++)this.centroidVertexArray.emplaceBack(N,H)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,s,v,g)}processPolygon(t,r,s,g,v){if(g.length<1||Ql(g[0]))return;for(const N of g)N.length!==0&&Gs(t,N);const b={segment:this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray)},I=v.fill.getGranularityForZoomLevel(r.z),P=Qh[s.type]==="Polygon";for(const N of g){if(N.length===0||Ql(N))continue;const H=xu(N,I,P);this._generateSideFaces(H,b)}if(!P)return;const R=Hh(g,r,I,!1),G=this.layoutVertexArray;Hr((N,H)=>{nc(G,N,H,0,0,1,1,0)},this.segments,this.layoutVertexArray,this.indexArray,R.verticesFlattened,R.indicesTriangles)}_generateSideFaces(t,r){let s=0;for(let g=1;g<t.length;g++){const v=t[g],b=t[g-1];if(rc(v,b))continue;r.segment.vertexLength+4>Pr.MAX_VERTEX_ARRAY_LENGTH&&(r.segment=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const I=v.sub(b)._perp()._unit(),P=b.dist(v);s+P>32768&&(s=0),nc(this.layoutVertexArray,v.x,v.y,I.x,I.y,0,0,s),nc(this.layoutVertexArray,v.x,v.y,I.x,I.y,0,1,s),s+=P,nc(this.layoutVertexArray,b.x,b.y,I.x,I.y,0,0,s),nc(this.layoutVertexArray,b.x,b.y,I.x,I.y,0,1,s);const R=r.segment.vertexLength;this.indexArray.emplaceBack(R,R+2,R+1),this.indexArray.emplaceBack(R+1,R+2,R+3),r.segment.vertexLength+=4,r.segment.primitiveLength+=2}}}function Gs(i,t){for(let r=0;r<t.length;r++){const s=t[r];r===t.length-1&&t[0].x===s.x&&t[0].y===s.y||(i.x+=s.x,i.y+=s.y,i.sampleCount++)}}function rc(i,t){return i.x===t.x&&(i.x<0||i.x>yt)||i.y===t.y&&(i.y<0||i.y>yt)}function Ql(i){return i.every(t=>t.x<0)||i.every(t=>t.x>yt)||i.every(t=>t.y<0)||i.every(t=>t.y>yt)}let Ls;un("FillExtrusionBucket",Ac,{omit:["layers","features"]});var Tp={get paint(){return Ls=Ls||new Ri({"fill-extrusion-opacity":new fn(ge["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new jn(ge["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new fn(ge["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new fn(ge["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new c0(ge["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new jn(ge["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new jn(ge["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new fn(ge["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class ud extends jo{constructor(t){super(t,Tp)}createBucket(t){return new Ac(t)}queryRadius(){return nh(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature({queryGeometry:t,feature:r,featureState:s,geometry:g,transform:v,pixelsToTileUnits:b,pixelPosMatrix:I}){const P=rh(t,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),-v.bearingInRadians,b),R=this.paint.get("fill-extrusion-height").evaluate(r,s),G=this.paint.get("fill-extrusion-base").evaluate(r,s),N=function(Y,ee,se){const ve=[];for(const Ie of Y){const qe=[Ie.x,Ie.y,0,1];Vt(qe,qe,ee),ve.push(new de(qe[0]/qe[3],qe[1]/qe[3]))}return ve}(P,I),H=function(Y,ee,se,ve){const Ie=[],qe=[],Ue=ve[8]*ee,K=ve[9]*ee,me=ve[10]*ee,Oe=ve[11]*ee,ft=ve[8]*se,jt=ve[9]*se,xt=ve[10]*se,Tt=ve[11]*se;for(const Xt of Y){const Zt=[],Kt=[];for(const Et of Xt){const In=Et.x,qn=Et.y,Wn=ve[0]*In+ve[4]*qn+ve[12],En=ve[1]*In+ve[5]*qn+ve[13],Er=ve[2]*In+ve[6]*qn+ve[14],Xi=ve[3]*In+ve[7]*qn+ve[15],io=Er+me,vs=Xi+Oe,g0=Wn+ft,El=En+jt,Xo=Er+xt,Yi=Xi+Tt,Do=new de((Wn+Ue)/vs,(En+K)/vs);Do.z=io/vs,Zt.push(Do);const Yo=new de(g0/Yi,El/Yi);Yo.z=Xo/Yi,Kt.push(Yo)}Ie.push(Zt),qe.push(Kt)}return[Ie,qe]}(g,G,R,I);return function(Y,ee,se){let ve=1/0;Jp(se,ee)&&(ve=Nd(se,ee[0]));for(let Ie=0;Ie<ee.length;Ie++){const qe=ee[Ie],Ue=Y[Ie];for(let K=0;K<qe.length-1;K++){const me=qe[K],Oe=[me,qe[K+1],Ue[K+1],Ue[K],me];Oh(se,Oe)&&(ve=Math.min(ve,Nd(se,Oe)))}}return ve!==1/0&&ve}(H[0],H[1],N)}}function Sc(i,t){return i.x*t.x+i.y*t.y}function Nd(i,t){if(i.length===1){let r=0;const s=t[r++];let g;for(;!g||s.equals(g);)if(g=t[r++],!g)return 1/0;for(;r<t.length;r++){const v=t[r],b=i[0],I=g.sub(s),P=v.sub(s),R=b.sub(s),G=Sc(I,I),N=Sc(I,P),H=Sc(P,P),Y=Sc(R,I),ee=Sc(R,P),se=G*H-N*N,ve=(H*Y-N*ee)/se,Ie=(G*ee-N*Y)/se,qe=s.z*(1-ve-Ie)+g.z*ve+v.z*Ie;if(isFinite(qe))return qe}return 1/0}{let r=1/0;for(const s of t)r=Math.min(r,s.z);return r}}const ic=ii([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:$d}=ic,cd=ii([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:Tc}=cd,hd=ro.VectorTileFeature.types,Mc=Math.cos(Math.PI/180*37.5),pd=Math.pow(2,14)/.5;class Mp{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(r=>r.id),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(r=>{this.gradients[r.id]={}}),this.layoutVertexArray=new bn,this.layoutVertexArray2=new Zn,this.indexArray=new Cr,this.programConfigurations=new Il(t.layers,t.zoom),this.segments=new Pr,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(r=>r.isStateDependent()).map(r=>r.id)}populate(t,r,s){this.hasPattern=ad("line",this.layers,r);const g=this.layers[0].layout.get("line-sort-key"),v=!g.isConstant(),b=[];for(const{feature:I,id:P,index:R,sourceLayerIndex:G}of t){const N=this.layers[0]._featureFilter.needGeometry,H=F0(I,N);if(!this.layers[0]._featureFilter.filter(new ri(this.zoom),H,s))continue;const Y=v?g.evaluate(H,{},s):void 0,ee={id:P,properties:I.properties,type:I.type,sourceLayerIndex:G,index:R,geometry:N?H.geometry:Al(I),patterns:{},sortKey:Y};b.push(ee)}v&&b.sort((I,P)=>I.sortKey-P.sortKey);for(const I of b){const{geometry:P,index:R,sourceLayerIndex:G}=I;if(this.hasPattern){const N=od("line",this.layers,I,this.zoom,r);this.patternFeatures.push(N)}else this.addFeature(I,P,R,s,{},r.subdivisionGranularity);r.featureIndex.insert(t[R].feature,P,R,G,this.index)}}update(t,r,s){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,r,this.stateDependentLayers,s)}addFeatures(t,r,s){for(const g of this.patternFeatures)this.addFeature(g,g.geometry,g.index,r,s,t.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=t.createVertexBuffer(this.layoutVertexArray2,Tc)),this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,$d),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(t){if(t.properties&&Object.prototype.hasOwnProperty.call(t.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(t.properties,"mapbox_clip_end"))return{start:+t.properties.mapbox_clip_start,end:+t.properties.mapbox_clip_end}}addFeature(t,r,s,g,v,b){const I=this.layers[0].layout,P=I.get("line-join").evaluate(t,{}),R=I.get("line-cap"),G=I.get("line-miter-limit"),N=I.get("line-round-limit");this.lineClips=this.lineFeatureClips(t);for(const H of r)this.addLine(H,t,P,R,G,N,g,b);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,s,v,g)}addLine(t,r,s,g,v,b,I,P){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,t=xu(t,I?P.line.getGranularityForZoomLevel(I.z):1),this.lineClips){this.lineClipsArray.push(this.lineClips);for(let Ue=0;Ue<t.length-1;Ue++)this.totalDistance+=t[Ue].dist(t[Ue+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const R=hd[r.type]==="Polygon";let G=t.length;for(;G>=2&&t[G-1].equals(t[G-2]);)G--;let N=0;for(;N<G-1&&t[N].equals(t[N+1]);)N++;if(G<(R?3:2))return;s==="bevel"&&(v=1.05);const H=this.overscaling<=16?15*yt/(512*this.overscaling):0,Y=this.segments.prepareSegment(10*G,this.layoutVertexArray,this.indexArray);let ee,se,ve,Ie,qe;this.e1=this.e2=-1,R&&(ee=t[G-2],qe=t[N].sub(ee)._unit()._perp());for(let Ue=N;Ue<G;Ue++){if(ve=Ue===G-1?R?t[N+1]:void 0:t[Ue+1],ve&&t[Ue].equals(ve))continue;qe&&(Ie=qe),ee&&(se=ee),ee=t[Ue],qe=ve?ve.sub(ee)._unit()._perp():Ie,Ie=Ie||qe;let K=Ie.add(qe);K.x===0&&K.y===0||K._unit();const me=Ie.x*qe.x+Ie.y*qe.y,Oe=K.x*qe.x+K.y*qe.y,ft=Oe!==0?1/Oe:1/0,jt=2*Math.sqrt(2-2*Oe),xt=Oe<Mc&&se&&ve,Tt=Ie.x*qe.y-Ie.y*qe.x>0;if(xt&&Ue>N){const Kt=ee.dist(se);if(Kt>2*H){const Et=ee.sub(ee.sub(se)._mult(H/Kt)._round());this.updateDistance(se,Et),this.addCurrentVertex(Et,Ie,0,0,Y),se=Et}}const Xt=se&&ve;let Zt=Xt?s:R?"butt":g;if(Xt&&Zt==="round"&&(ft<b?Zt="miter":ft<=2&&(Zt="fakeround")),Zt==="miter"&&ft>v&&(Zt="bevel"),Zt==="bevel"&&(ft>2&&(Zt="flipbevel"),ft<v&&(Zt="miter")),se&&this.updateDistance(se,ee),Zt==="miter")K._mult(ft),this.addCurrentVertex(ee,K,0,0,Y);else if(Zt==="flipbevel"){if(ft>100)K=qe.mult(-1);else{const Kt=ft*Ie.add(qe).mag()/Ie.sub(qe).mag();K._perp()._mult(Kt*(Tt?-1:1))}this.addCurrentVertex(ee,K,0,0,Y),this.addCurrentVertex(ee,K.mult(-1),0,0,Y)}else if(Zt==="bevel"||Zt==="fakeround"){const Kt=-Math.sqrt(ft*ft-1),Et=Tt?Kt:0,In=Tt?0:Kt;if(se&&this.addCurrentVertex(ee,Ie,Et,In,Y),Zt==="fakeround"){const qn=Math.round(180*jt/Math.PI/20);for(let Wn=1;Wn<qn;Wn++){let En=Wn/qn;if(En!==.5){const Xi=En-.5;En+=En*Xi*(En-1)*((1.0904+me*(me*(3.55645-1.43519*me)-3.2452))*Xi*Xi+(.848013+me*(.215638*me-1.06021)))}const Er=qe.sub(Ie)._mult(En)._add(Ie)._unit()._mult(Tt?-1:1);this.addHalfVertex(ee,Er.x,Er.y,!1,Tt,0,Y)}}ve&&this.addCurrentVertex(ee,qe,-Et,-In,Y)}else if(Zt==="butt")this.addCurrentVertex(ee,K,0,0,Y);else if(Zt==="square"){const Kt=se?1:-1;this.addCurrentVertex(ee,K,Kt,Kt,Y)}else Zt==="round"&&(se&&(this.addCurrentVertex(ee,Ie,0,0,Y),this.addCurrentVertex(ee,Ie,1,1,Y,!0)),ve&&(this.addCurrentVertex(ee,qe,-1,-1,Y,!0),this.addCurrentVertex(ee,qe,0,0,Y)));if(xt&&Ue<G-1){const Kt=ee.dist(ve);if(Kt>2*H){const Et=ee.add(ve.sub(ee)._mult(H/Kt)._round());this.updateDistance(ee,Et),this.addCurrentVertex(Et,qe,0,0,Y),ee=Et}}}}addCurrentVertex(t,r,s,g,v,b=!1){const I=r.y*g-r.x,P=-r.y-r.x*g;this.addHalfVertex(t,r.x+r.y*s,r.y-r.x*s,b,!1,s,v),this.addHalfVertex(t,I,P,b,!0,-g,v),this.distance>pd/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(t,r,s,g,v,b))}addHalfVertex({x:t,y:r},s,g,v,b,I,P){const R=.5*(this.lineClips?this.scaledDistance*(pd-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((t<<1)+(v?1:0),(r<<1)+(b?1:0),Math.round(63*s)+128,Math.round(63*g)+128,1+(I===0?0:I<0?-1:1)|(63&R)<<2,R>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const G=P.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,G,this.e2),P.primitiveLength++),b?this.e2=G:this.e1=G}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(t,r){this.distance+=t.dist(r),this.updateScaledDistance()}}let Pp,ep;un("LineBucket",Mp,{omit:["layers","patternFeatures"]});var jd={get paint(){return ep=ep||new Ri({"line-opacity":new jn(ge.paint_line["line-opacity"]),"line-color":new jn(ge.paint_line["line-color"]),"line-translate":new fn(ge.paint_line["line-translate"]),"line-translate-anchor":new fn(ge.paint_line["line-translate-anchor"]),"line-width":new jn(ge.paint_line["line-width"]),"line-gap-width":new jn(ge.paint_line["line-gap-width"]),"line-offset":new jn(ge.paint_line["line-offset"]),"line-blur":new jn(ge.paint_line["line-blur"]),"line-dasharray":new $o(ge.paint_line["line-dasharray"]),"line-pattern":new c0(ge.paint_line["line-pattern"]),"line-gradient":new Zl(ge.paint_line["line-gradient"])})},get layout(){return Pp=Pp||new Ri({"line-cap":new fn(ge.layout_line["line-cap"]),"line-join":new jn(ge.layout_line["line-join"]),"line-miter-limit":new fn(ge.layout_line["line-miter-limit"]),"line-round-limit":new fn(ge.layout_line["line-round-limit"]),"line-sort-key":new jn(ge.layout_line["line-sort-key"])})}};class Cf extends jn{possiblyEvaluate(t,r){return r=new ri(Math.floor(r.zoom),{now:r.now,fadeDuration:r.fadeDuration,zoomHistory:r.zoomHistory,transition:r.transition}),super.possiblyEvaluate(t,r)}evaluate(t,r,s,g){return r=wn({},r,{zoom:Math.floor(r.zoom)}),super.evaluate(t,r,s,g)}}let tp;class Vd extends jo{constructor(t){super(t,jd),this.gradientVersion=0,tp||(tp=new Cf(jd.paint.properties["line-width"].specification),tp.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(t){if(t==="line-gradient"){const r=this.gradientExpression();this.stepInterpolant=!!function(s){return s._styleExpression!==void 0}(r)&&r._styleExpression.expression instanceof Pi,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(t,r){super.recalculate(t,r),this.paint._values["line-floorwidth"]=tp.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,t)}createBucket(t){return new Mp(t)}queryRadius(t){const r=t,s=ac(Dc("line-width",this,r),Dc("line-gap-width",this,r)),g=Dc("line-offset",this,r);return s/2+Math.abs(g)+nh(this.paint.get("line-translate"))}queryIntersectsFeature({queryGeometry:t,feature:r,featureState:s,geometry:g,transform:v,pixelsToTileUnits:b}){const I=rh(t,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),-v.bearingInRadians,b),P=b/2*ac(this.paint.get("line-width").evaluate(r,s),this.paint.get("line-gap-width").evaluate(r,s)),R=this.paint.get("line-offset").evaluate(r,s);return R&&(g=function(G,N){const H=[];for(let Y=0;Y<G.length;Y++){const ee=G[Y],se=[];for(let ve=0;ve<ee.length;ve++){const Ie=ee[ve-1],qe=ee[ve],Ue=ee[ve+1],K=ve===0?new de(0,0):qe.sub(Ie)._unit()._perp(),me=ve===ee.length-1?new de(0,0):Ue.sub(qe)._unit()._perp(),Oe=K._add(me)._unit(),ft=Oe.x*me.x+Oe.y*me.y;ft!==0&&Oe._mult(1/ft),se.push(Oe._mult(N)._add(qe))}H.push(se)}return H}(g,R*b)),function(G,N,H){for(let Y=0;Y<N.length;Y++){const ee=N[Y];if(G.length>=3){for(let se=0;se<ee.length;se++)if(gs(G,ee[se]))return!0}if(ed(G,ee,H))return!0}return!1}(I,g,P)}isTileClipped(){return!0}}function ac(i,t){return t>0?t+2*i:i}const If=ii([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),mh=ii([{name:"a_projected_pos",components:3,type:"Float32"}],4);ii([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const Ep=ii([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_box_real",components:2,type:"Int16"}]);ii([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const Ki=ii([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),Af=ii([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Zd(i,t,r){return i.sections.forEach(s=>{s.text=function(g,v,b){const I=v.layout.get("text-transform").evaluate(b,{});return I==="uppercase"?g=g.toLocaleUpperCase():I==="lowercase"&&(g=g.toLocaleLowerCase()),Vl.applyArabicShaping&&(g=Vl.applyArabicShaping(g)),g}(s.text,t,r)}),i}ii([{name:"triangle",components:3,type:"Uint16"}]),ii([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),ii([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),ii([{type:"Float32",name:"offsetX"}]),ii([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),ii([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const np={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};var Wd,kp,dd,Pa=24,nl={};function Rp(){return Wd||(Wd=1,nl.read=function(i,t,r,s,g){var v,b,I=8*g-s-1,P=(1<<I)-1,R=P>>1,G=-7,N=r?g-1:0,H=r?-1:1,Y=i[t+N];for(N+=H,v=Y&(1<<-G)-1,Y>>=-G,G+=I;G>0;v=256*v+i[t+N],N+=H,G-=8);for(b=v&(1<<-G)-1,v>>=-G,G+=s;G>0;b=256*b+i[t+N],N+=H,G-=8);if(v===0)v=1-R;else{if(v===P)return b?NaN:1/0*(Y?-1:1);b+=Math.pow(2,s),v-=R}return(Y?-1:1)*b*Math.pow(2,v-s)},nl.write=function(i,t,r,s,g,v){var b,I,P,R=8*v-g-1,G=(1<<R)-1,N=G>>1,H=g===23?Math.pow(2,-24)-Math.pow(2,-77):0,Y=s?0:v-1,ee=s?1:-1,se=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(I=isNaN(t)?1:0,b=G):(b=Math.floor(Math.log(t)/Math.LN2),t*(P=Math.pow(2,-b))<1&&(b--,P*=2),(t+=b+N>=1?H/P:H*Math.pow(2,1-N))*P>=2&&(b++,P/=2),b+N>=G?(I=0,b=G):b+N>=1?(I=(t*P-1)*Math.pow(2,g),b+=N):(I=t*Math.pow(2,N-1)*Math.pow(2,g),b=0));g>=8;i[r+Y]=255&I,Y+=ee,I/=256,g-=8);for(b=b<<g|I,R+=g;R>0;i[r+Y]=255&b,Y+=ee,b/=256,R-=8);i[r+Y-ee]|=128*se}),nl}function Hd(){if(dd)return kp;dd=1,kp=t;var i=Rp();function t(K){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(K)?K:new Uint8Array(K||0),this.pos=0,this.type=0,this.length=this.buf.length}t.Varint=0,t.Fixed64=1,t.Bytes=2,t.Fixed32=5;var r=4294967296,s=1/r,g=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");function v(K){return K.type===t.Bytes?K.readVarint()+K.pos:K.pos+1}function b(K,me,Oe){return Oe?4294967296*me+(K>>>0):4294967296*(me>>>0)+(K>>>0)}function I(K,me,Oe){var ft=me<=16383?1:me<=2097151?2:me<=268435455?3:Math.floor(Math.log(me)/(7*Math.LN2));Oe.realloc(ft);for(var jt=Oe.pos-1;jt>=K;jt--)Oe.buf[jt+ft]=Oe.buf[jt]}function P(K,me){for(var Oe=0;Oe<K.length;Oe++)me.writeVarint(K[Oe])}function R(K,me){for(var Oe=0;Oe<K.length;Oe++)me.writeSVarint(K[Oe])}function G(K,me){for(var Oe=0;Oe<K.length;Oe++)me.writeFloat(K[Oe])}function N(K,me){for(var Oe=0;Oe<K.length;Oe++)me.writeDouble(K[Oe])}function H(K,me){for(var Oe=0;Oe<K.length;Oe++)me.writeBoolean(K[Oe])}function Y(K,me){for(var Oe=0;Oe<K.length;Oe++)me.writeFixed32(K[Oe])}function ee(K,me){for(var Oe=0;Oe<K.length;Oe++)me.writeSFixed32(K[Oe])}function se(K,me){for(var Oe=0;Oe<K.length;Oe++)me.writeFixed64(K[Oe])}function ve(K,me){for(var Oe=0;Oe<K.length;Oe++)me.writeSFixed64(K[Oe])}function Ie(K,me){return(K[me]|K[me+1]<<8|K[me+2]<<16)+16777216*K[me+3]}function qe(K,me,Oe){K[Oe]=me,K[Oe+1]=me>>>8,K[Oe+2]=me>>>16,K[Oe+3]=me>>>24}function Ue(K,me){return(K[me]|K[me+1]<<8|K[me+2]<<16)+(K[me+3]<<24)}return t.prototype={destroy:function(){this.buf=null},readFields:function(K,me,Oe){for(Oe=Oe||this.length;this.pos<Oe;){var ft=this.readVarint(),jt=ft>>3,xt=this.pos;this.type=7&ft,K(jt,me,this),this.pos===xt&&this.skip(ft)}return me},readMessage:function(K,me){return this.readFields(K,me,this.readVarint()+this.pos)},readFixed32:function(){var K=Ie(this.buf,this.pos);return this.pos+=4,K},readSFixed32:function(){var K=Ue(this.buf,this.pos);return this.pos+=4,K},readFixed64:function(){var K=Ie(this.buf,this.pos)+Ie(this.buf,this.pos+4)*r;return this.pos+=8,K},readSFixed64:function(){var K=Ie(this.buf,this.pos)+Ue(this.buf,this.pos+4)*r;return this.pos+=8,K},readFloat:function(){var K=i.read(this.buf,this.pos,!0,23,4);return this.pos+=4,K},readDouble:function(){var K=i.read(this.buf,this.pos,!0,52,8);return this.pos+=8,K},readVarint:function(K){var me,Oe,ft=this.buf;return me=127&(Oe=ft[this.pos++]),Oe<128?me:(me|=(127&(Oe=ft[this.pos++]))<<7,Oe<128?me:(me|=(127&(Oe=ft[this.pos++]))<<14,Oe<128?me:(me|=(127&(Oe=ft[this.pos++]))<<21,Oe<128?me:function(jt,xt,Tt){var Xt,Zt,Kt=Tt.buf;if(Xt=(112&(Zt=Kt[Tt.pos++]))>>4,Zt<128||(Xt|=(127&(Zt=Kt[Tt.pos++]))<<3,Zt<128)||(Xt|=(127&(Zt=Kt[Tt.pos++]))<<10,Zt<128)||(Xt|=(127&(Zt=Kt[Tt.pos++]))<<17,Zt<128)||(Xt|=(127&(Zt=Kt[Tt.pos++]))<<24,Zt<128)||(Xt|=(1&(Zt=Kt[Tt.pos++]))<<31,Zt<128))return b(jt,Xt,xt);throw new Error("Expected varint not more than 10 bytes")}(me|=(15&(Oe=ft[this.pos]))<<28,K,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var K=this.readVarint();return K%2==1?(K+1)/-2:K/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var K=this.readVarint()+this.pos,me=this.pos;return this.pos=K,K-me>=12&&g?function(Oe,ft,jt){return g.decode(Oe.subarray(ft,jt))}(this.buf,me,K):function(Oe,ft,jt){for(var xt="",Tt=ft;Tt<jt;){var Xt,Zt,Kt,Et=Oe[Tt],In=null,qn=Et>239?4:Et>223?3:Et>191?2:1;if(Tt+qn>jt)break;qn===1?Et<128&&(In=Et):qn===2?(192&(Xt=Oe[Tt+1]))==128&&(In=(31&Et)<<6|63&Xt)<=127&&(In=null):qn===3?(Zt=Oe[Tt+2],(192&(Xt=Oe[Tt+1]))==128&&(192&Zt)==128&&((In=(15&Et)<<12|(63&Xt)<<6|63&Zt)<=2047||In>=55296&&In<=57343)&&(In=null)):qn===4&&(Zt=Oe[Tt+2],Kt=Oe[Tt+3],(192&(Xt=Oe[Tt+1]))==128&&(192&Zt)==128&&(192&Kt)==128&&((In=(15&Et)<<18|(63&Xt)<<12|(63&Zt)<<6|63&Kt)<=65535||In>=1114112)&&(In=null)),In===null?(In=65533,qn=1):In>65535&&(In-=65536,xt+=String.fromCharCode(In>>>10&1023|55296),In=56320|1023&In),xt+=String.fromCharCode(In),Tt+=qn}return xt}(this.buf,me,K)},readBytes:function(){var K=this.readVarint()+this.pos,me=this.buf.subarray(this.pos,K);return this.pos=K,me},readPackedVarint:function(K,me){if(this.type!==t.Bytes)return K.push(this.readVarint(me));var Oe=v(this);for(K=K||[];this.pos<Oe;)K.push(this.readVarint(me));return K},readPackedSVarint:function(K){if(this.type!==t.Bytes)return K.push(this.readSVarint());var me=v(this);for(K=K||[];this.pos<me;)K.push(this.readSVarint());return K},readPackedBoolean:function(K){if(this.type!==t.Bytes)return K.push(this.readBoolean());var me=v(this);for(K=K||[];this.pos<me;)K.push(this.readBoolean());return K},readPackedFloat:function(K){if(this.type!==t.Bytes)return K.push(this.readFloat());var me=v(this);for(K=K||[];this.pos<me;)K.push(this.readFloat());return K},readPackedDouble:function(K){if(this.type!==t.Bytes)return K.push(this.readDouble());var me=v(this);for(K=K||[];this.pos<me;)K.push(this.readDouble());return K},readPackedFixed32:function(K){if(this.type!==t.Bytes)return K.push(this.readFixed32());var me=v(this);for(K=K||[];this.pos<me;)K.push(this.readFixed32());return K},readPackedSFixed32:function(K){if(this.type!==t.Bytes)return K.push(this.readSFixed32());var me=v(this);for(K=K||[];this.pos<me;)K.push(this.readSFixed32());return K},readPackedFixed64:function(K){if(this.type!==t.Bytes)return K.push(this.readFixed64());var me=v(this);for(K=K||[];this.pos<me;)K.push(this.readFixed64());return K},readPackedSFixed64:function(K){if(this.type!==t.Bytes)return K.push(this.readSFixed64());var me=v(this);for(K=K||[];this.pos<me;)K.push(this.readSFixed64());return K},skip:function(K){var me=7&K;if(me===t.Varint)for(;this.buf[this.pos++]>127;);else if(me===t.Bytes)this.pos=this.readVarint()+this.pos;else if(me===t.Fixed32)this.pos+=4;else{if(me!==t.Fixed64)throw new Error("Unimplemented type: "+me);this.pos+=8}},writeTag:function(K,me){this.writeVarint(K<<3|me)},realloc:function(K){for(var me=this.length||16;me<this.pos+K;)me*=2;if(me!==this.length){var Oe=new Uint8Array(me);Oe.set(this.buf),this.buf=Oe,this.length=me}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(K){this.realloc(4),qe(this.buf,K,this.pos),this.pos+=4},writeSFixed32:function(K){this.realloc(4),qe(this.buf,K,this.pos),this.pos+=4},writeFixed64:function(K){this.realloc(8),qe(this.buf,-1&K,this.pos),qe(this.buf,Math.floor(K*s),this.pos+4),this.pos+=8},writeSFixed64:function(K){this.realloc(8),qe(this.buf,-1&K,this.pos),qe(this.buf,Math.floor(K*s),this.pos+4),this.pos+=8},writeVarint:function(K){(K=+K||0)>268435455||K<0?function(me,Oe){var ft,jt;if(me>=0?(ft=me%4294967296|0,jt=me/4294967296|0):(jt=~(-me/4294967296),4294967295^(ft=~(-me%4294967296))?ft=ft+1|0:(ft=0,jt=jt+1|0)),me>=18446744073709552e3||me<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");Oe.realloc(10),function(xt,Tt,Xt){Xt.buf[Xt.pos++]=127&xt|128,xt>>>=7,Xt.buf[Xt.pos++]=127&xt|128,xt>>>=7,Xt.buf[Xt.pos++]=127&xt|128,xt>>>=7,Xt.buf[Xt.pos++]=127&xt|128,Xt.buf[Xt.pos]=127&(xt>>>=7)}(ft,0,Oe),function(xt,Tt){var Xt=(7&xt)<<4;Tt.buf[Tt.pos++]|=Xt|((xt>>>=3)?128:0),xt&&(Tt.buf[Tt.pos++]=127&xt|((xt>>>=7)?128:0),xt&&(Tt.buf[Tt.pos++]=127&xt|((xt>>>=7)?128:0),xt&&(Tt.buf[Tt.pos++]=127&xt|((xt>>>=7)?128:0),xt&&(Tt.buf[Tt.pos++]=127&xt|((xt>>>=7)?128:0),xt&&(Tt.buf[Tt.pos++]=127&xt)))))}(jt,Oe)}(K,this):(this.realloc(4),this.buf[this.pos++]=127&K|(K>127?128:0),K<=127||(this.buf[this.pos++]=127&(K>>>=7)|(K>127?128:0),K<=127||(this.buf[this.pos++]=127&(K>>>=7)|(K>127?128:0),K<=127||(this.buf[this.pos++]=K>>>7&127))))},writeSVarint:function(K){this.writeVarint(K<0?2*-K-1:2*K)},writeBoolean:function(K){this.writeVarint(!!K)},writeString:function(K){K=String(K),this.realloc(4*K.length),this.pos++;var me=this.pos;this.pos=function(ft,jt,xt){for(var Tt,Xt,Zt=0;Zt<jt.length;Zt++){if((Tt=jt.charCodeAt(Zt))>55295&&Tt<57344){if(!Xt){Tt>56319||Zt+1===jt.length?(ft[xt++]=239,ft[xt++]=191,ft[xt++]=189):Xt=Tt;continue}if(Tt<56320){ft[xt++]=239,ft[xt++]=191,ft[xt++]=189,Xt=Tt;continue}Tt=Xt-55296<<10|Tt-56320|65536,Xt=null}else Xt&&(ft[xt++]=239,ft[xt++]=191,ft[xt++]=189,Xt=null);Tt<128?ft[xt++]=Tt:(Tt<2048?ft[xt++]=Tt>>6|192:(Tt<65536?ft[xt++]=Tt>>12|224:(ft[xt++]=Tt>>18|240,ft[xt++]=Tt>>12&63|128),ft[xt++]=Tt>>6&63|128),ft[xt++]=63&Tt|128)}return xt}(this.buf,K,this.pos);var Oe=this.pos-me;Oe>=128&&I(me,Oe,this),this.pos=me-1,this.writeVarint(Oe),this.pos+=Oe},writeFloat:function(K){this.realloc(4),i.write(this.buf,K,this.pos,!0,23,4),this.pos+=4},writeDouble:function(K){this.realloc(8),i.write(this.buf,K,this.pos,!0,52,8),this.pos+=8},writeBytes:function(K){var me=K.length;this.writeVarint(me),this.realloc(me);for(var Oe=0;Oe<me;Oe++)this.buf[this.pos++]=K[Oe]},writeRawMessage:function(K,me){this.pos++;var Oe=this.pos;K(me,this);var ft=this.pos-Oe;ft>=128&&I(Oe,ft,this),this.pos=Oe-1,this.writeVarint(ft),this.pos+=ft},writeMessage:function(K,me,Oe){this.writeTag(K,t.Bytes),this.writeRawMessage(me,Oe)},writePackedVarint:function(K,me){me.length&&this.writeMessage(K,P,me)},writePackedSVarint:function(K,me){me.length&&this.writeMessage(K,R,me)},writePackedBoolean:function(K,me){me.length&&this.writeMessage(K,H,me)},writePackedFloat:function(K,me){me.length&&this.writeMessage(K,G,me)},writePackedDouble:function(K,me){me.length&&this.writeMessage(K,N,me)},writePackedFixed32:function(K,me){me.length&&this.writeMessage(K,Y,me)},writePackedSFixed32:function(K,me){me.length&&this.writeMessage(K,ee,me)},writePackedFixed64:function(K,me){me.length&&this.writeMessage(K,se,me)},writePackedSFixed64:function(K,me){me.length&&this.writeMessage(K,ve,me)},writeBytesField:function(K,me){this.writeTag(K,t.Bytes),this.writeBytes(me)},writeFixed32Field:function(K,me){this.writeTag(K,t.Fixed32),this.writeFixed32(me)},writeSFixed32Field:function(K,me){this.writeTag(K,t.Fixed32),this.writeSFixed32(me)},writeFixed64Field:function(K,me){this.writeTag(K,t.Fixed64),this.writeFixed64(me)},writeSFixed64Field:function(K,me){this.writeTag(K,t.Fixed64),this.writeSFixed64(me)},writeVarintField:function(K,me){this.writeTag(K,t.Varint),this.writeVarint(me)},writeSVarintField:function(K,me){this.writeTag(K,t.Varint),this.writeSVarint(me)},writeStringField:function(K,me){this.writeTag(K,t.Bytes),this.writeString(me)},writeFloatField:function(K,me){this.writeTag(K,t.Fixed32),this.writeFloat(me)},writeDoubleField:function(K,me){this.writeTag(K,t.Fixed64),this.writeDouble(me)},writeBooleanField:function(K,me){this.writeVarintField(K,!!me)}},kp}var Ml=V(Hd());const yh=3;function Pc(i,t,r){i===1&&r.readMessage(Up,t)}function Up(i,t,r){if(i===3){const{id:s,bitmap:g,width:v,height:b,left:I,top:P,advance:R}=r.readMessage(fd,{});t.push({id:s,bitmap:new ql({width:v+2*yh,height:b+2*yh},g),metrics:{width:v,height:b,left:I,top:P,advance:R}})}}function fd(i,t,r){i===1?t.id=r.readVarint():i===2?t.bitmap=r.readBytes():i===3?t.width=r.readVarint():i===4?t.height=r.readVarint():i===5?t.left=r.readSVarint():i===6?t.top=r.readSVarint():i===7&&(t.advance=r.readVarint())}const gd=yh;function qd(i){let t=0,r=0;for(const b of i)t+=b.w*b.h,r=Math.max(r,b.w);i.sort((b,I)=>I.h-b.h);const s=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),r),h:1/0}];let g=0,v=0;for(const b of i)for(let I=s.length-1;I>=0;I--){const P=s[I];if(!(b.w>P.w||b.h>P.h)){if(b.x=P.x,b.y=P.y,v=Math.max(v,b.y+b.h),g=Math.max(g,b.x+b.w),b.w===P.w&&b.h===P.h){const R=s.pop();I<s.length&&(s[I]=R)}else b.h===P.h?(P.x+=b.w,P.w-=b.w):b.w===P.w?(P.y+=b.h,P.h-=b.h):(s.push({x:P.x+b.w,y:P.y,w:P.w-b.w,h:b.h}),P.y+=b.h,P.h-=b.h);break}}return{w:g,h:v,fill:t/(g*v)||0}}const Ko=1;class md{constructor(t,{pixelRatio:r,version:s,stretchX:g,stretchY:v,content:b,textFitWidth:I,textFitHeight:P}){this.paddedRect=t,this.pixelRatio=r,this.stretchX=g,this.stretchY=v,this.content=b,this.version=s,this.textFitWidth=I,this.textFitHeight=P}get tl(){return[this.paddedRect.x+Ko,this.paddedRect.y+Ko]}get br(){return[this.paddedRect.x+this.paddedRect.w-Ko,this.paddedRect.y+this.paddedRect.h-Ko]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*Ko)/this.pixelRatio,(this.paddedRect.h-2*Ko)/this.pixelRatio]}}class yd{constructor(t,r){const s={},g={};this.haveRenderCallbacks=[];const v=[];this.addImages(t,s,v),this.addImages(r,g,v);const{w:b,h:I}=qd(v),P=new ms({width:b||1,height:I||1});for(const R in t){const G=t[R],N=s[R].paddedRect;ms.copy(G.data,P,{x:0,y:0},{x:N.x+Ko,y:N.y+Ko},G.data)}for(const R in r){const G=r[R],N=g[R].paddedRect,H=N.x+Ko,Y=N.y+Ko,ee=G.data.width,se=G.data.height;ms.copy(G.data,P,{x:0,y:0},{x:H,y:Y},G.data),ms.copy(G.data,P,{x:0,y:se-1},{x:H,y:Y-1},{width:ee,height:1}),ms.copy(G.data,P,{x:0,y:0},{x:H,y:Y+se},{width:ee,height:1}),ms.copy(G.data,P,{x:ee-1,y:0},{x:H-1,y:Y},{width:1,height:se}),ms.copy(G.data,P,{x:0,y:0},{x:H+ee,y:Y},{width:1,height:se})}this.image=P,this.iconPositions=s,this.patternPositions=g}addImages(t,r,s){for(const g in t){const v=t[g],b={x:0,y:0,w:v.data.width+2*Ko,h:v.data.height+2*Ko};s.push(b),r[g]=new md(b,v),v.hasRenderCallback&&this.haveRenderCallbacks.push(g)}}patchUpdatedImages(t,r){t.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const s in t.updatedImages)this.patchUpdatedImage(this.iconPositions[s],t.getImage(s),r),this.patchUpdatedImage(this.patternPositions[s],t.getImage(s),r)}patchUpdatedImage(t,r,s){if(!t||!r||t.version===r.version)return;t.version=r.version;const[g,v]=t.tl;s.update(r.data,void 0,{x:g,y:v})}}var Cu;un("ImagePosition",md),un("ImageAtlas",yd),A.al=void 0,(Cu=A.al||(A.al={}))[Cu.none=0]="none",Cu[Cu.horizontal=1]="horizontal",Cu[Cu.vertical=2]="vertical",Cu[Cu.horizontalOnly=3]="horizontalOnly";const Ec=-17;class oc{constructor(){this.scale=1,this.fontStack="",this.imageName=null,this.verticalAlign="bottom"}static forText(t,r,s){const g=new oc;return g.scale=t||1,g.fontStack=r,g.verticalAlign=s||"bottom",g}static forImage(t,r){const s=new oc;return s.imageName=t,s.verticalAlign=r||"bottom",s}}class kc{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(t,r){const s=new kc;for(let g=0;g<t.sections.length;g++){const v=t.sections[g];v.image?s.addImageSection(v):s.addTextSection(v,r)}return s}length(){return this.text.length}getSection(t){return this.sections[this.sectionIndex[t]]}getSectionIndex(t){return this.sectionIndex[t]}getCharCode(t){return this.text.charCodeAt(t)}verticalizePunctuation(){this.text=function(t){let r="";for(let s=0;s<t.length;s++){const g=t.charCodeAt(s+1)||null,v=t.charCodeAt(s-1)||null;r+=g&&No(g)&&!np[t[s+1]]||v&&No(v)&&!np[t[s-1]]||!np[t[s]]?t[s]:np[t[s]]}return r}(this.text)}trim(){let t=0;for(let s=0;s<this.text.length&&zp[this.text.charCodeAt(s)];s++)t++;let r=this.text.length;for(let s=this.text.length-1;s>=0&&s>=t&&zp[this.text.charCodeAt(s)];s--)r--;this.text=this.text.substring(t,r),this.sectionIndex=this.sectionIndex.slice(t,r)}substring(t,r){const s=new kc;return s.text=this.text.substring(t,r),s.sectionIndex=this.sectionIndex.slice(t,r),s.sections=this.sections,s}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((t,r)=>Math.max(t,this.sections[r].scale),0)}getMaxImageSize(t){let r=0,s=0;for(let g=0;g<this.length();g++){const v=this.getSection(g);if(v.imageName){const b=t[v.imageName];if(!b)continue;const I=b.displaySize;r=Math.max(r,I[0]),s=Math.max(s,I[1])}}return{maxImageWidth:r,maxImageHeight:s}}addTextSection(t,r){this.text+=t.text,this.sections.push(oc.forText(t.scale,t.fontStack||r,t.verticalAlign));const s=this.sections.length-1;for(let g=0;g<t.text.length;++g)this.sectionIndex.push(s)}addImageSection(t){const r=t.image?t.image.name:"";if(r.length===0)return void Hn("Can't add FormattedSection with an empty image.");const s=this.getNextImageSectionCharCode();s?(this.text+=String.fromCharCode(s),this.sections.push(oc.forImage(r,t.verticalAlign)),this.sectionIndex.push(this.sections.length-1)):Hn("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function _h(i,t,r,s,g,v,b,I,P,R,G,N,H,Y,ee){const se=kc.fromFeature(i,g);let ve;N===A.al.vertical&&se.verticalizePunctuation();const{processBidirectionalText:Ie,processStyledBidirectionalText:qe}=Vl;if(Ie&&se.sections.length===1){ve=[];const me=Ie(se.toString(),Iu(se,R,v,t,s,Y));for(const Oe of me){const ft=new kc;ft.text=Oe,ft.sections=se.sections;for(let jt=0;jt<Oe.length;jt++)ft.sectionIndex.push(0);ve.push(ft)}}else if(qe){ve=[];const me=qe(se.text,se.sectionIndex,Iu(se,R,v,t,s,Y));for(const Oe of me){const ft=new kc;ft.text=Oe[0],ft.sectionIndex=Oe[1],ft.sections=se.sections,ve.push(ft)}}else ve=function(me,Oe){const ft=[],jt=me.text;let xt=0;for(const Tt of Oe)ft.push(me.substring(xt,Tt)),xt=Tt;return xt<jt.length&&ft.push(me.substring(xt,jt.length)),ft}(se,Iu(se,R,v,t,s,Y));const Ue=[],K={positionedLines:Ue,text:se.toString(),top:G[1],bottom:G[1],left:G[0],right:G[0],writingMode:N,iconsInText:!1,verticalizable:!1};return function(me,Oe,ft,jt,xt,Tt,Xt,Zt,Kt,Et,In,qn){let Wn=0,En=0,Er=0,Xi=0;const io=Zt==="right"?1:Zt==="left"?0:.5,vs=Pa/qn;let g0=0;for(const Yi of xt){Yi.trim();const Do=Yi.getMaxScale(),Yo={positionedGlyphs:[],lineOffset:0};me.positionedLines[g0]=Yo;const Qo=Yo.positionedGlyphs;let rl=0;if(!Yi.length()){En+=Tt,++g0;continue}const m0=rp(jt,Yi,vs);for(let kl=0;kl<Yi.length();kl++){const ao=Yi.getSection(kl),Io=Yi.getSectionIndex(kl),Ao=Yi.getCharCode(kl),Va=Op(Kt,In,Ao);let $i;if(ao.imageName){if(me.iconsInText=!0,ao.scale=ao.scale*vs,$i=c(ao,Va,Do,m0,jt),!$i)continue;rl=Math.max(rl,$i.imageOffset)}else if($i=a(ao,Ao,Va,m0,Oe,ft),!$i)continue;const{rect:Mu,metrics:Zp,baselineOffset:Pu}=$i;Qo.push({glyph:Ao,imageName:ao.imageName,x:Wn,y:En+Pu+Ec,vertical:Va,scale:ao.scale,fontStack:ao.fontStack,sectionIndex:Io,metrics:Zp,rect:Mu}),Va?(me.verticalizable=!0,Wn+=(ao.imageName?Zp.advance:Pa)*ao.scale+Et):Wn+=Zp.advance*ao.scale+Et}Qo.length!==0&&(Er=Math.max(Wn-Et,Er),x(Qo,0,Qo.length-1,io)),Wn=0,Yo.lineOffset=Math.max(rl,(Do-1)*Pa);const Co=Tt*Do+rl;En+=Co,Xi=Math.max(Co,Xi),++g0}const{horizontalAlign:El,verticalAlign:Xo}=vd(Xt);(function(Yi,Do,Yo,Qo,rl,m0,Co,kl,ao){const Io=(Do-Yo)*rl;let Ao=0;Ao=m0!==Co?-kl*Qo-Ec:-Qo*ao*Co+.5*Co;for(const Va of Yi)for(const $i of Va.positionedGlyphs)$i.x+=Io,$i.y+=Ao})(me.positionedLines,io,El,Xo,Er,Xi,Tt,En,xt.length),me.top+=-Xo*En,me.bottom=me.top+En,me.left+=-El*Er,me.right=me.left+Er}(K,t,r,s,ve,b,I,P,N,R,H,ee),!function(me){for(const Oe of me)if(Oe.positionedGlyphs.length!==0)return!1;return!0}(Ue)&&K}const zp={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Kd={10:!0,32:!0,38:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0},Gp={40:!0};function vh(i,t,r,s,g,v){if(t.imageName){const b=s[t.imageName];return b?b.displaySize[0]*t.scale*Pa/v+g:0}{const b=r[t.fontStack],I=b&&b[i];return I?I.metrics.advance*t.scale+g:0}}function Lp(i,t,r,s){const g=Math.pow(i-t,2);return s?i<t?g/2:2*g:g+Math.abs(r)*r}function Bp(i,t,r){let s=0;return i===10&&(s-=1e4),r&&(s+=150),i!==40&&i!==65288||(s+=50),t!==41&&t!==65289||(s+=50),s}function _d(i,t,r,s,g,v){let b=null,I=Lp(t,r,g,v);for(const P of s){const R=Lp(t-P.x,r,g,v)+P.badness;R<=I&&(b=P,I=R)}return{index:i,x:t,priorBreak:b,badness:I}}function Xd(i){return i?Xd(i.priorBreak).concat(i.index):[]}function Iu(i,t,r,s,g,v){if(!i)return[];const b=[],I=function(N,H,Y,ee,se,ve){let Ie=0;for(let qe=0;qe<N.length();qe++){const Ue=N.getSection(qe);Ie+=vh(N.getCharCode(qe),Ue,ee,se,H,ve)}return Ie/Math.max(1,Math.ceil(Ie/Y))}(i,t,r,s,g,v),P=i.text.indexOf("")>=0;let R=0;for(let N=0;N<i.length();N++){const H=i.getSection(N),Y=i.getCharCode(N);if(zp[Y]||(R+=vh(Y,H,s,g,t,v)),N<i.length()-1){const ee=!((G=Y)<11904)&&(!!sr["CJK Compatibility Forms"](G)||!!sr["CJK Compatibility"](G)||!!sr["CJK Strokes"](G)||!!sr["CJK Symbols and Punctuation"](G)||!!sr["Enclosed CJK Letters and Months"](G)||!!sr["Halfwidth and Fullwidth Forms"](G)||!!sr["Ideographic Description Characters"](G)||!!sr["Vertical Forms"](G)||Fo.test(String.fromCodePoint(G)));(Kd[Y]||ee||H.imageName||N!==i.length()-2&&Gp[i.getCharCode(N+1)])&&b.push(_d(N+1,R,I,b,Bp(Y,i.getCharCode(N+1),ee&&P),!1))}}var G;return Xd(_d(i.length(),R,I,b,0,!0))}function vd(i){let t=.5,r=.5;switch(i){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(i){case"bottom":case"bottom-right":case"bottom-left":r=1;break;case"top":case"top-right":case"top-left":r=0}return{horizontalAlign:t,verticalAlign:r}}function rp(i,t,r){const s=t.getMaxScale()*Pa,{maxImageWidth:g,maxImageHeight:v}=t.getMaxImageSize(i),b=Math.max(s,v*r);return{verticalLineContentWidth:Math.max(s,g*r),horizontalLineContentHeight:b}}function Yd(i){switch(i){case"top":return 0;case"center":return .5;default:return 1}}function Op(i,t,r){return!(i===A.al.horizontal||!t&&!yi(r)||t&&(zp[r]||(s=r,new RegExp("\\p{sc=Arab}","u").test(String.fromCodePoint(s)))));var s}function a(i,t,r,s,g,v){const b=v[i.fontStack],I=function(R,G,N,H){if(R&&R.rect)return R;const Y=G[N.fontStack],ee=Y&&Y[H];return ee?{rect:null,metrics:ee.metrics}:null}(b&&b[t],g,i,t);if(I===null)return null;let P;if(r)P=s.verticalLineContentWidth-i.scale*Pa;else{const R=Yd(i.verticalAlign);P=(s.horizontalLineContentHeight-i.scale*Pa)*R}return{rect:I.rect,metrics:I.metrics,baselineOffset:P}}function c(i,t,r,s,g){const v=g[i.imageName];if(!v)return null;const b=v.paddedRect,I=v.displaySize,P={width:I[0],height:I[1],left:Ko,top:-3,advance:t?I[1]:I[0]};let R;if(t)R=s.verticalLineContentWidth-I[1]*i.scale;else{const G=Yd(i.verticalAlign);R=(s.horizontalLineContentHeight-I[1]*i.scale)*G}return{rect:b,metrics:P,baselineOffset:R,imageOffset:(t?I[0]:I[1])*i.scale-Pa*r}}function x(i,t,r,s){if(s===0)return;const g=i[r],v=(i[r].x+g.metrics.advance*g.scale)*s;for(let b=t;b<=r;b++)i[b].x-=v}function S(i,t,r){const{horizontalAlign:s,verticalAlign:g}=vd(r),v=t[0]-i.displaySize[0]*s,b=t[1]-i.displaySize[1]*g;return{image:i,top:b,bottom:b+i.displaySize[1],left:v,right:v+i.displaySize[0]}}function U(i){var t,r;let s=i.left,g=i.top,v=i.right-s,b=i.bottom-g;const I=(t=i.image.textFitWidth)!==null&&t!==void 0?t:"stretchOrShrink",P=(r=i.image.textFitHeight)!==null&&r!==void 0?r:"stretchOrShrink",R=(i.image.content[2]-i.image.content[0])/(i.image.content[3]-i.image.content[1]);if(P==="proportional"){if(I==="stretchOnly"&&v/b<R||I==="proportional"){const G=Math.ceil(b*R);s*=G/v,v=G}}else if(I==="proportional"&&P==="stretchOnly"&&R!==0&&v/b>R){const G=Math.ceil(v/R);g*=G/b,b=G}return{x1:s,y1:g,x2:s+v,y2:g+b}}function $(i,t,r,s,g,v){const b=i.image;let I;if(b.content){const ve=b.content,Ie=b.pixelRatio||1;I=[ve[0]/Ie,ve[1]/Ie,b.displaySize[0]-ve[2]/Ie,b.displaySize[1]-ve[3]/Ie]}const P=t.left*v,R=t.right*v;let G,N,H,Y;r==="width"||r==="both"?(Y=g[0]+P-s[3],N=g[0]+R+s[1]):(Y=g[0]+(P+R-b.displaySize[0])/2,N=Y+b.displaySize[0]);const ee=t.top*v,se=t.bottom*v;return r==="height"||r==="both"?(G=g[1]+ee-s[0],H=g[1]+se+s[2]):(G=g[1]+(ee+se-b.displaySize[1])/2,H=G+b.displaySize[1]),{image:b,top:G,right:N,bottom:H,left:Y,collisionPadding:I}}const le=255,Re=128,Xe=le*Re;function It(i,t){const{expression:r}=t;if(r.kind==="constant")return{kind:"constant",layoutSize:r.evaluate(new ri(i+1))};if(r.kind==="source")return{kind:"source"};{const{zoomStops:s,interpolationType:g}=r;let v=0;for(;v<s.length&&s[v]<=i;)v++;v=Math.max(0,v-1);let b=v;for(;b<s.length&&s[b]<i+1;)b++;b=Math.min(s.length-1,b);const I=s[v],P=s[b];return r.kind==="composite"?{kind:"composite",minZoom:I,maxZoom:P,interpolationType:g}:{kind:"camera",minZoom:I,maxZoom:P,minSize:r.evaluate(new ri(I)),maxSize:r.evaluate(new ri(P)),interpolationType:g}}}function en(i,t,r){let s="never";const g=i.get(t);return g?s=g:i.get(r)&&(s="always"),s}const on=ro.VectorTileFeature.types,tn=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Cn(i,t,r,s,g,v,b,I,P,R,G,N,H){const Y=I?Math.min(Xe,Math.round(I[0])):0,ee=I?Math.min(Xe,Math.round(I[1])):0;i.emplaceBack(t,r,Math.round(32*s),Math.round(32*g),v,b,(Y<<1)+(P?1:0),ee,16*R,16*G,256*N,256*H)}function zn(i,t,r){i.emplaceBack(t.x,t.y,r),i.emplaceBack(t.x,t.y,r),i.emplaceBack(t.x,t.y,r),i.emplaceBack(t.x,t.y,r)}function $n(i){for(const t of i.sections)if(us(t.text))return!0;return!1}class da{constructor(t){this.layoutVertexArray=new pi,this.indexArray=new Cr,this.programConfigurations=t,this.segments=new Pr,this.dynamicLayoutVertexArray=new Jr,this.opacityVertexArray=new Ti,this.hasVisibleVertices=!1,this.placedSymbolArray=new Le}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(t,r,s,g){this.isEmpty()||(s&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,If.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,r),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,mh.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,tn,!0),this.opacityVertexBuffer.itemSize=1),(s||g)&&this.programConfigurations.upload(t))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}un("SymbolBuffers",da);class dt{constructor(t,r,s){this.layoutVertexArray=new t,this.layoutAttributes=r,this.indexArray=new s,this.segments=new Pr,this.collisionVertexArray=new Tr}upload(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,Ep.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}un("CollisionBuffers",dt);class et{constructor(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(b=>b.id),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[];const r=this.layers[0]._unevaluatedLayout._values;this.textSizeData=It(this.zoom,r["text-size"]),this.iconSizeData=It(this.zoom,r["icon-size"]);const s=this.layers[0].layout,g=s.get("symbol-sort-key"),v=s.get("symbol-z-order");this.canOverlap=en(s,"text-overlap","text-allow-overlap")!=="never"||en(s,"icon-overlap","icon-allow-overlap")!=="never"||s.get("text-ignore-placement")||s.get("icon-ignore-placement"),this.sortFeaturesByKey=v!=="viewport-y"&&!g.isConstant(),this.sortFeaturesByY=(v==="viewport-y"||v==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,s.get("symbol-placement")==="point"&&(this.writingModes=s.get("text-writing-mode").map(b=>A.al[b])),this.stateDependentLayerIds=this.layers.filter(b=>b.isStateDependent()).map(b=>b.id),this.sourceID=t.sourceID}createArrays(){this.text=new da(new Il(this.layers,this.zoom,t=>/^text/.test(t))),this.icon=new da(new Il(this.layers,this.zoom,t=>/^icon/.test(t))),this.glyphOffsetArray=new $e,this.lineVertexArray=new Ve,this.symbolInstances=new Be,this.textAnchorOffsets=new At}calculateGlyphDependencies(t,r,s,g,v){for(let b=0;b<t.length;b++)if(r[t.charCodeAt(b)]=!0,(s||g)&&v){const I=np[t.charAt(b)];I&&(r[I.charCodeAt(0)]=!0)}}populate(t,r,s){const g=this.layers[0],v=g.layout,b=v.get("text-font"),I=v.get("text-field"),P=v.get("icon-image"),R=(I.value.kind!=="constant"||I.value.value instanceof si&&!I.value.value.isEmpty()||I.value.value.toString().length>0)&&(b.value.kind!=="constant"||b.value.value.length>0),G=P.value.kind!=="constant"||!!P.value.value||Object.keys(P.parameters).length>0,N=v.get("symbol-sort-key");if(this.features=[],!R&&!G)return;const H=r.iconDependencies,Y=r.glyphDependencies,ee=r.availableImages,se=new ri(this.zoom);for(const{feature:ve,id:Ie,index:qe,sourceLayerIndex:Ue}of t){const K=g._featureFilter.needGeometry,me=F0(ve,K);if(!g._featureFilter.filter(se,me,s))continue;let Oe,ft;if(K||(me.geometry=Al(ve)),R){const xt=g.getValueAndResolveTokens("text-field",me,s,ee),Tt=si.factory(xt),Xt=this.hasRTLText=this.hasRTLText||$n(Tt);(!Xt||Vl.getRTLTextPluginStatus()==="unavailable"||Xt&&Vl.isParsed())&&(Oe=Zd(Tt,g,me))}if(G){const xt=g.getValueAndResolveTokens("icon-image",me,s,ee);ft=xt instanceof ia?xt:ia.fromString(xt)}if(!Oe&&!ft)continue;const jt=this.sortFeaturesByKey?N.evaluate(me,{},s):void 0;if(this.features.push({id:Ie,text:Oe,icon:ft,index:qe,sourceLayerIndex:Ue,geometry:me.geometry,properties:ve.properties,type:on[ve.type],sortKey:jt}),ft&&(H[ft.name]=!0),Oe){const xt=b.evaluate(me,{},s).join(","),Tt=v.get("text-rotation-alignment")!=="viewport"&&v.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(A.al.vertical)>=0;for(const Xt of Oe.sections)if(Xt.image)H[Xt.image.name]=!0;else{const Zt=$l(Oe.toString()),Kt=Xt.fontStack||xt,Et=Y[Kt]=Y[Kt]||{};this.calculateGlyphDependencies(Xt.text,Et,Tt,this.allowVerticalPlacement,Zt)}}}v.get("symbol-placement")==="line"&&(this.features=function(ve){const Ie={},qe={},Ue=[];let K=0;function me(xt){Ue.push(ve[xt]),K++}function Oe(xt,Tt,Xt){const Zt=qe[xt];return delete qe[xt],qe[Tt]=Zt,Ue[Zt].geometry[0].pop(),Ue[Zt].geometry[0]=Ue[Zt].geometry[0].concat(Xt[0]),Zt}function ft(xt,Tt,Xt){const Zt=Ie[Tt];return delete Ie[Tt],Ie[xt]=Zt,Ue[Zt].geometry[0].shift(),Ue[Zt].geometry[0]=Xt[0].concat(Ue[Zt].geometry[0]),Zt}function jt(xt,Tt,Xt){const Zt=Xt?Tt[0][Tt[0].length-1]:Tt[0][0];return`${xt}:${Zt.x}:${Zt.y}`}for(let xt=0;xt<ve.length;xt++){const Tt=ve[xt],Xt=Tt.geometry,Zt=Tt.text?Tt.text.toString():null;if(!Zt){me(xt);continue}const Kt=jt(Zt,Xt),Et=jt(Zt,Xt,!0);if(Kt in qe&&Et in Ie&&qe[Kt]!==Ie[Et]){const In=ft(Kt,Et,Xt),qn=Oe(Kt,Et,Ue[In].geometry);delete Ie[Kt],delete qe[Et],qe[jt(Zt,Ue[qn].geometry,!0)]=qn,Ue[In].geometry=null}else Kt in qe?Oe(Kt,Et,Xt):Et in Ie?ft(Kt,Et,Xt):(me(xt),Ie[Kt]=K-1,qe[Et]=K-1)}return Ue.filter(xt=>xt.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((ve,Ie)=>ve.sortKey-Ie.sortKey)}update(t,r,s){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,r,this.layers,s),this.icon.programConfigurations.updatePaintArrays(t,r,this.layers,s))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(t){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(t),this.iconCollisionBox.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(t,r){const s=this.lineVertexArray.length;if(t.segment!==void 0){let g=t.dist(r[t.segment+1]),v=t.dist(r[t.segment]);const b={};for(let I=t.segment+1;I<r.length;I++)b[I]={x:r[I].x,y:r[I].y,tileUnitDistanceFromAnchor:g},I<r.length-1&&(g+=r[I+1].dist(r[I]));for(let I=t.segment||0;I>=0;I--)b[I]={x:r[I].x,y:r[I].y,tileUnitDistanceFromAnchor:v},I>0&&(v+=r[I-1].dist(r[I]));for(let I=0;I<r.length;I++){const P=b[I];this.lineVertexArray.emplaceBack(P.x,P.y,P.tileUnitDistanceFromAnchor)}}return{lineStartIndex:s,lineLength:this.lineVertexArray.length-s}}addSymbols(t,r,s,g,v,b,I,P,R,G,N,H){const Y=t.indexArray,ee=t.layoutVertexArray,se=t.segments.prepareSegment(4*r.length,ee,Y,this.canOverlap?b.sortKey:void 0),ve=this.glyphOffsetArray.length,Ie=se.vertexLength,qe=this.allowVerticalPlacement&&I===A.al.vertical?Math.PI/2:0,Ue=b.text&&b.text.sections;for(let K=0;K<r.length;K++){const{tl:me,tr:Oe,bl:ft,br:jt,tex:xt,pixelOffsetTL:Tt,pixelOffsetBR:Xt,minFontScaleX:Zt,minFontScaleY:Kt,glyphOffset:Et,isSDF:In,sectionIndex:qn}=r[K],Wn=se.vertexLength,En=Et[1];Cn(ee,P.x,P.y,me.x,En+me.y,xt.x,xt.y,s,In,Tt.x,Tt.y,Zt,Kt),Cn(ee,P.x,P.y,Oe.x,En+Oe.y,xt.x+xt.w,xt.y,s,In,Xt.x,Tt.y,Zt,Kt),Cn(ee,P.x,P.y,ft.x,En+ft.y,xt.x,xt.y+xt.h,s,In,Tt.x,Xt.y,Zt,Kt),Cn(ee,P.x,P.y,jt.x,En+jt.y,xt.x+xt.w,xt.y+xt.h,s,In,Xt.x,Xt.y,Zt,Kt),zn(t.dynamicLayoutVertexArray,P,qe),Y.emplaceBack(Wn,Wn+2,Wn+1),Y.emplaceBack(Wn+1,Wn+2,Wn+3),se.vertexLength+=4,se.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Et[0]),K!==r.length-1&&qn===r[K+1].sectionIndex||t.programConfigurations.populatePaintArrays(ee.length,b,b.index,{},H,Ue&&Ue[qn])}t.placedSymbolArray.emplaceBack(P.x,P.y,ve,this.glyphOffsetArray.length-ve,Ie,R,G,P.segment,s?s[0]:0,s?s[1]:0,g[0],g[1],I,0,!1,0,N)}_addCollisionDebugVertex(t,r,s,g,v,b){return r.emplaceBack(0,0),t.emplaceBack(s.x,s.y,g,v,Math.round(b.x),Math.round(b.y))}addCollisionDebugVertices(t,r,s,g,v,b,I){const P=v.segments.prepareSegment(4,v.layoutVertexArray,v.indexArray),R=P.vertexLength,G=v.layoutVertexArray,N=v.collisionVertexArray,H=I.anchorX,Y=I.anchorY;this._addCollisionDebugVertex(G,N,b,H,Y,new de(t,r)),this._addCollisionDebugVertex(G,N,b,H,Y,new de(s,r)),this._addCollisionDebugVertex(G,N,b,H,Y,new de(s,g)),this._addCollisionDebugVertex(G,N,b,H,Y,new de(t,g)),P.vertexLength+=4;const ee=v.indexArray;ee.emplaceBack(R,R+1),ee.emplaceBack(R+1,R+2),ee.emplaceBack(R+2,R+3),ee.emplaceBack(R+3,R),P.primitiveLength+=4}addDebugCollisionBoxes(t,r,s,g){for(let v=t;v<r;v++){const b=this.collisionBoxArray.get(v);this.addCollisionDebugVertices(b.x1,b.y1,b.x2,b.y2,g?this.textCollisionBox:this.iconCollisionBox,b.anchorPoint,s)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new dt(Mi,Ki.members,qi),this.iconCollisionBox=new dt(Mi,Ki.members,qi);for(let t=0;t<this.symbolInstances.length;t++){const r=this.symbolInstances.get(t);this.addDebugCollisionBoxes(r.textBoxStartIndex,r.textBoxEndIndex,r,!0),this.addDebugCollisionBoxes(r.verticalTextBoxStartIndex,r.verticalTextBoxEndIndex,r,!0),this.addDebugCollisionBoxes(r.iconBoxStartIndex,r.iconBoxEndIndex,r,!1),this.addDebugCollisionBoxes(r.verticalIconBoxStartIndex,r.verticalIconBoxEndIndex,r,!1)}}_deserializeCollisionBoxesForSymbol(t,r,s,g,v,b,I,P,R){const G={};for(let N=r;N<s;N++){const H=t.get(N);G.textBox={x1:H.x1,y1:H.y1,x2:H.x2,y2:H.y2,anchorPointX:H.anchorPointX,anchorPointY:H.anchorPointY},G.textFeatureIndex=H.featureIndex;break}for(let N=g;N<v;N++){const H=t.get(N);G.verticalTextBox={x1:H.x1,y1:H.y1,x2:H.x2,y2:H.y2,anchorPointX:H.anchorPointX,anchorPointY:H.anchorPointY},G.verticalTextFeatureIndex=H.featureIndex;break}for(let N=b;N<I;N++){const H=t.get(N);G.iconBox={x1:H.x1,y1:H.y1,x2:H.x2,y2:H.y2,anchorPointX:H.anchorPointX,anchorPointY:H.anchorPointY},G.iconFeatureIndex=H.featureIndex;break}for(let N=P;N<R;N++){const H=t.get(N);G.verticalIconBox={x1:H.x1,y1:H.y1,x2:H.x2,y2:H.y2,anchorPointX:H.anchorPointX,anchorPointY:H.anchorPointY},G.verticalIconFeatureIndex=H.featureIndex;break}return G}deserializeCollisionBoxes(t){this.collisionArrays=[];for(let r=0;r<this.symbolInstances.length;r++){const s=this.symbolInstances.get(r);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,s.textBoxStartIndex,s.textBoxEndIndex,s.verticalTextBoxStartIndex,s.verticalTextBoxEndIndex,s.iconBoxStartIndex,s.iconBoxEndIndex,s.verticalIconBoxStartIndex,s.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(t,r){const s=t.placedSymbolArray.get(r),g=s.vertexStartIndex+4*s.numGlyphs;for(let v=s.vertexStartIndex;v<g;v+=4)t.indexArray.emplaceBack(v,v+2,v+1),t.indexArray.emplaceBack(v+1,v+2,v+3)}getSortedSymbolIndexes(t){if(this.sortedAngle===t&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const r=Math.sin(t),s=Math.cos(t),g=[],v=[],b=[];for(let I=0;I<this.symbolInstances.length;++I){b.push(I);const P=this.symbolInstances.get(I);g.push(0|Math.round(r*P.anchorX+s*P.anchorY)),v.push(P.featureIndex)}return b.sort((I,P)=>g[I]-g[P]||v[P]-v[I]),b}addToSortKeyRanges(t,r){const s=this.sortKeyRanges[this.sortKeyRanges.length-1];s&&s.sortKey===r?s.symbolInstanceEnd=t+1:this.sortKeyRanges.push({sortKey:r,symbolInstanceStart:t,symbolInstanceEnd:t+1})}sortFeatures(t){if(this.sortFeaturesByY&&this.sortedAngle!==t&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(t),this.sortedAngle=t,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const r of this.symbolInstanceIndexes){const s=this.symbolInstances.get(r);this.featureSortOrder.push(s.featureIndex),[s.rightJustifiedTextSymbolIndex,s.centerJustifiedTextSymbolIndex,s.leftJustifiedTextSymbolIndex].forEach((g,v,b)=>{g>=0&&b.indexOf(g)===v&&this.addIndicesForPlacedSymbol(this.text,g)}),s.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,s.verticalPlacedTextSymbolIndex),s.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,s.placedIconSymbolIndex),s.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,s.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let vt,pn;un("SymbolBucket",et,{omit:["layers","collisionBoxArray","features","compareText"]}),et.MAX_GLYPHS=65535,et.addDynamicAttributes=zn;var Vn={get paint(){return pn=pn||new Ri({"icon-opacity":new jn(ge.paint_symbol["icon-opacity"]),"icon-color":new jn(ge.paint_symbol["icon-color"]),"icon-halo-color":new jn(ge.paint_symbol["icon-halo-color"]),"icon-halo-width":new jn(ge.paint_symbol["icon-halo-width"]),"icon-halo-blur":new jn(ge.paint_symbol["icon-halo-blur"]),"icon-translate":new fn(ge.paint_symbol["icon-translate"]),"icon-translate-anchor":new fn(ge.paint_symbol["icon-translate-anchor"]),"text-opacity":new jn(ge.paint_symbol["text-opacity"]),"text-color":new jn(ge.paint_symbol["text-color"],{runtimeType:Nr,getOverride:i=>i.textColor,hasOverride:i=>!!i.textColor}),"text-halo-color":new jn(ge.paint_symbol["text-halo-color"]),"text-halo-width":new jn(ge.paint_symbol["text-halo-width"]),"text-halo-blur":new jn(ge.paint_symbol["text-halo-blur"]),"text-translate":new fn(ge.paint_symbol["text-translate"]),"text-translate-anchor":new fn(ge.paint_symbol["text-translate-anchor"])})},get layout(){return vt=vt||new Ri({"symbol-placement":new fn(ge.layout_symbol["symbol-placement"]),"symbol-spacing":new fn(ge.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new fn(ge.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new jn(ge.layout_symbol["symbol-sort-key"]),"symbol-z-order":new fn(ge.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new fn(ge.layout_symbol["icon-allow-overlap"]),"icon-overlap":new fn(ge.layout_symbol["icon-overlap"]),"icon-ignore-placement":new fn(ge.layout_symbol["icon-ignore-placement"]),"icon-optional":new fn(ge.layout_symbol["icon-optional"]),"icon-rotation-alignment":new fn(ge.layout_symbol["icon-rotation-alignment"]),"icon-size":new jn(ge.layout_symbol["icon-size"]),"icon-text-fit":new fn(ge.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new fn(ge.layout_symbol["icon-text-fit-padding"]),"icon-image":new jn(ge.layout_symbol["icon-image"]),"icon-rotate":new jn(ge.layout_symbol["icon-rotate"]),"icon-padding":new jn(ge.layout_symbol["icon-padding"]),"icon-keep-upright":new fn(ge.layout_symbol["icon-keep-upright"]),"icon-offset":new jn(ge.layout_symbol["icon-offset"]),"icon-anchor":new jn(ge.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new fn(ge.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new fn(ge.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new fn(ge.layout_symbol["text-rotation-alignment"]),"text-field":new jn(ge.layout_symbol["text-field"]),"text-font":new jn(ge.layout_symbol["text-font"]),"text-size":new jn(ge.layout_symbol["text-size"]),"text-max-width":new jn(ge.layout_symbol["text-max-width"]),"text-line-height":new fn(ge.layout_symbol["text-line-height"]),"text-letter-spacing":new jn(ge.layout_symbol["text-letter-spacing"]),"text-justify":new jn(ge.layout_symbol["text-justify"]),"text-radial-offset":new jn(ge.layout_symbol["text-radial-offset"]),"text-variable-anchor":new fn(ge.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new jn(ge.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new jn(ge.layout_symbol["text-anchor"]),"text-max-angle":new fn(ge.layout_symbol["text-max-angle"]),"text-writing-mode":new fn(ge.layout_symbol["text-writing-mode"]),"text-rotate":new jn(ge.layout_symbol["text-rotate"]),"text-padding":new fn(ge.layout_symbol["text-padding"]),"text-keep-upright":new fn(ge.layout_symbol["text-keep-upright"]),"text-transform":new jn(ge.layout_symbol["text-transform"]),"text-offset":new jn(ge.layout_symbol["text-offset"]),"text-allow-overlap":new fn(ge.layout_symbol["text-allow-overlap"]),"text-overlap":new fn(ge.layout_symbol["text-overlap"]),"text-ignore-placement":new fn(ge.layout_symbol["text-ignore-placement"]),"text-optional":new fn(ge.layout_symbol["text-optional"])})}};class ir{constructor(t){if(t.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=t.property.overrides?t.property.overrides.runtimeType:Ln,this.defaultValue=t}evaluate(t){if(t.formattedSection){const r=this.defaultValue.property.overrides;if(r&&r.hasOverride(t.formattedSection))return r.getOverride(t.formattedSection)}return t.feature&&t.featureState?this.defaultValue.evaluate(t.feature,t.featureState):this.defaultValue.property.specification.default}eachChild(t){this.defaultValue.isConstant()||t(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}un("FormatSectionOverride",ir,{omit:["defaultValue"]});class Jn extends jo{constructor(t){super(t,Vn)}recalculate(t,r){if(super.recalculate(t,r),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const s=this.layout.get("text-writing-mode");if(s){const g=[];for(const v of s)g.indexOf(v)<0&&g.push(v);this.layout._values["text-writing-mode"]=g}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(t,r,s,g){const v=this.layout.get(t).evaluate(r,{},s,g),b=this._unevaluatedLayout._values[t];return b.isDataDriven()||gl(b.value)||!v?v:function(I,P){return P.replace(/{([^{}]+)}/g,(R,G)=>I&&G in I?String(I[G]):"")}(r.properties,v)}createBucket(t){return new et(t)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const t of Vn.paint.overridableProperties){if(!Jn.hasPaintOverride(this.layout,t))continue;const r=this.paint.get(t),s=new ir(r),g=new Vu(s,r.property.specification);let v=null;v=r.value.kind==="constant"||r.value.kind==="source"?new Zu("source",g):new Wu("composite",g,r.value.zoomStops),this.paint._values[t]=new _o(r.property,v,r.parameters)}}_handleOverridablePaintPropertyUpdate(t,r,s){return!(!this.layout||r.isDataDriven()||s.isDataDriven())&&Jn.hasPaintOverride(this.layout,t)}static hasPaintOverride(t,r){const s=t.get("text-field"),g=Vn.paint.properties[r];let v=!1;const b=I=>{for(const P of I)if(g.overrides&&g.overrides.hasOverride(P))return void(v=!0)};if(s.value.kind==="constant"&&s.value.value instanceof si)b(s.value.value.sections);else if(s.value.kind==="source"){const I=R=>{v||(R instanceof vn&&ui(R.value)===rs?b(R.value.sections):R instanceof zl?b(R.sections):R.eachChild(I))},P=s.value;P._styleExpression&&I(P._styleExpression.expression)}return v}}let ur;var bo={get paint(){return ur=ur||new Ri({"background-color":new fn(ge.paint_background["background-color"]),"background-pattern":new $o(ge.paint_background["background-pattern"]),"background-opacity":new fn(ge.paint_background["background-opacity"])})}};class ai extends jo{constructor(t){super(t,bo)}}let Au;var Sf={get paint(){return Au=Au||new Ri({"raster-opacity":new fn(ge.paint_raster["raster-opacity"]),"raster-hue-rotate":new fn(ge.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new fn(ge.paint_raster["raster-brightness-min"]),"raster-brightness-max":new fn(ge.paint_raster["raster-brightness-max"]),"raster-saturation":new fn(ge.paint_raster["raster-saturation"]),"raster-contrast":new fn(ge.paint_raster["raster-contrast"]),"raster-resampling":new fn(ge.paint_raster["raster-resampling"]),"raster-fade-duration":new fn(ge.paint_raster["raster-fade-duration"])})}};class ny extends jo{constructor(t){super(t,Sf)}}class ry extends jo{constructor(t){super(t,{}),this.onAdd=r=>{this.implementation.onAdd&&this.implementation.onAdd(r,r.painter.context.gl)},this.onRemove=r=>{this.implementation.onRemove&&this.implementation.onRemove(r,r.painter.context.gl)},this.implementation=t}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class iy{constructor(t){this._methodToThrottle=t,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._methodToThrottle()},0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}const ay={once:!0},Tf=63710088e-1;class xh{constructor(t,r){if(isNaN(t)||isNaN(r))throw new Error(`Invalid LngLat object: (${t}, ${r})`);if(this.lng=+t,this.lat=+r,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new xh(gn(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(t){const r=Math.PI/180,s=this.lat*r,g=t.lat*r,v=Math.sin(s)*Math.sin(g)+Math.cos(s)*Math.cos(g)*Math.cos((t.lng-this.lng)*r);return Tf*Math.acos(Math.min(v,1))}static convert(t){if(t instanceof xh)return t;if(Array.isArray(t)&&(t.length===2||t.length===3))return new xh(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&typeof t=="object"&&t!==null)return new xh(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const Pg=2*Math.PI*Tf;function Eg(i){return Pg*Math.cos(i*Math.PI/180)}function V0(i){return(180+i)/360}function kg(i){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+i*Math.PI/360)))/360}function Rg(i,t){return i/Eg(t)}function Rc(i){return 360/Math.PI*Math.atan(Math.exp((180-360*i)*Math.PI/180))-90}function Mr(i,t){return i*Eg(Rc(t))}class xd{constructor(t,r,s=0){this.x=+t,this.y=+r,this.z=+s}static fromLngLat(t,r=0){const s=xh.convert(t);return new xd(V0(s.lng),kg(s.lat),Rg(r,s.lat))}toLngLat(){return new xh(360*this.x-180,Rc(this.y))}toAltitude(){return Mr(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/Pg*(t=Rc(this.y),1/Math.cos(t*Math.PI/180));var t}}function Pl(i,t,r){var s=2*Math.PI*6378137/256/Math.pow(2,r);return[i*s-2*Math.PI*6378137/2,t*s-2*Math.PI*6378137/2]}class Ea{constructor(t,r,s){if(!function(g,v,b){return!(g<0||g>25||b<0||b>=Math.pow(2,g)||v<0||v>=Math.pow(2,g))}(t,r,s))throw new Error(`x=${r}, y=${s}, z=${t} outside of bounds. 0<=x<${Math.pow(2,t)}, 0<=y<${Math.pow(2,t)} 0<=z<=25 `);this.z=t,this.x=r,this.y=s,this.key=Fp(0,t,t,r,s)}equals(t){return this.z===t.z&&this.x===t.x&&this.y===t.y}url(t,r,s){const g=(b=this.y,I=this.z,P=Pl(256*(v=this.x),256*(b=Math.pow(2,I)-b-1),I),R=Pl(256*(v+1),256*(b+1),I),P[0]+","+P[1]+","+R[0]+","+R[1]);var v,b,I,P,R;const G=function(N,H,Y){let ee,se="";for(let ve=N;ve>0;ve--)ee=1<<ve-1,se+=(H&ee?1:0)+(Y&ee?2:0);return se}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(s==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,r>1?"@2x":"").replace(/{quadkey}/g,G).replace(/{bbox-epsg-3857}/g,g)}isChildOf(t){const r=this.z-t.z;return r>0&&t.x===this.x>>r&&t.y===this.y>>r}getTilePoint(t){const r=Math.pow(2,this.z);return new de((t.x*r-this.x)*yt,(t.y*r-this.y)*yt)}toString(){return`${this.z}/${this.x}/${this.y}`}}class Ug{constructor(t,r){this.wrap=t,this.canonical=r,this.key=Fp(t,r.z,r.z,r.x,r.y)}}class wo{constructor(t,r,s,g,v){if(this.terrainRttPosMatrix32f=null,t<s)throw new Error(`overscaledZ should be >= z; overscaledZ = ${t}; z = ${s}`);this.overscaledZ=t,this.wrap=r,this.canonical=new Ea(s,+g,+v),this.key=Fp(r,t,s,g,v)}clone(){return new wo(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)}scaledTo(t){if(t>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${t}; overscaledZ = ${this.overscaledZ}`);const r=this.canonical.z-t;return t>this.canonical.z?new wo(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new wo(t,this.wrap,t,this.canonical.x>>r,this.canonical.y>>r)}calculateScaledKey(t,r){if(t>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${t}; overscaledZ = ${this.overscaledZ}`);const s=this.canonical.z-t;return t>this.canonical.z?Fp(this.wrap*+r,t,this.canonical.z,this.canonical.x,this.canonical.y):Fp(this.wrap*+r,t,t,this.canonical.x>>s,this.canonical.y>>s)}isChildOf(t){if(t.wrap!==this.wrap)return!1;const r=this.canonical.z-t.canonical.z;return t.overscaledZ===0||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>r&&t.canonical.y===this.canonical.y>>r}children(t){if(this.overscaledZ>=t)return[new wo(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const r=this.canonical.z+1,s=2*this.canonical.x,g=2*this.canonical.y;return[new wo(r,this.wrap,r,s,g),new wo(r,this.wrap,r,s+1,g),new wo(r,this.wrap,r,s,g+1),new wo(r,this.wrap,r,s+1,g+1)]}isLessThan(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))}wrapped(){return new wo(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(t){return new wo(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Ug(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(t){return this.canonical.getTilePoint(new xd(t.x-this.wrap,t.y))}}function Fp(i,t,r,s,g){(i*=2)<0&&(i=-1*i-1);const v=1<<r;return(v*v*i+v*g+s).toString(36)+r.toString(36)+t.toString(36)}un("CanonicalTileID",Ea),un("OverscaledTileID",wo,{omit:["terrainRttPosMatrix32f"]});class zg{constructor(t,r,s,g=1,v=1,b=1,I=0){if(this.uid=t,r.height!==r.width)throw new RangeError("DEM tiles must be square");if(s&&!["mapbox","terrarium","custom"].includes(s))return void Hn(`"${s}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=r.height;const P=this.dim=r.height-2;switch(this.data=new Uint32Array(r.data.buffer),s){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=g,this.greenFactor=v,this.blueFactor=b,this.baseShift=I;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let R=0;R<P;R++)this.data[this._idx(-1,R)]=this.data[this._idx(0,R)],this.data[this._idx(P,R)]=this.data[this._idx(P-1,R)],this.data[this._idx(R,-1)]=this.data[this._idx(R,0)],this.data[this._idx(R,P)]=this.data[this._idx(R,P-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(P,-1)]=this.data[this._idx(P-1,0)],this.data[this._idx(-1,P)]=this.data[this._idx(0,P-1)],this.data[this._idx(P,P)]=this.data[this._idx(P-1,P-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let R=0;R<P;R++)for(let G=0;G<P;G++){const N=this.get(R,G);N>this.max&&(this.max=N),N<this.min&&(this.min=N)}}get(t,r){const s=new Uint8Array(this.data.buffer),g=4*this._idx(t,r);return this.unpack(s[g],s[g+1],s[g+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(t,r){if(t<-1||t>=this.dim+1||r<-1||r>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(r+1)*this.stride+(t+1)}unpack(t,r,s){return t*this.redFactor+r*this.greenFactor+s*this.blueFactor-this.baseShift}getPixels(){return new ms({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(t,r,s){if(this.dim!==t.dim)throw new Error("dem dimension mismatch");let g=r*this.dim,v=r*this.dim+this.dim,b=s*this.dim,I=s*this.dim+this.dim;switch(r){case-1:g=v-1;break;case 1:v=g+1}switch(s){case-1:b=I-1;break;case 1:I=b+1}const P=-r*this.dim,R=-s*this.dim;for(let G=b;G<I;G++)for(let N=g;N<v;N++)this.data[this._idx(N,G)]=t.data[this._idx(N+P,G+R)]}}un("DEMData",zg);class Gg{constructor(t){this._stringToNumber={},this._numberToString=[];for(let r=0;r<t.length;r++){const s=t[r];this._stringToNumber[s]=r,this._numberToString[r]=s}}encode(t){return this._stringToNumber[t]}decode(t){if(t>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${t} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[t]}}class Lg{constructor(t,r,s,g,v){this.type="Feature",this._vectorTileFeature=t,t._z=r,t._x=s,t._y=g,this.properties=t.properties,this.id=v}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(t){this._geometry=t}toJSON(){const t={geometry:this.geometry};for(const r in this)r!=="_geometry"&&r!=="_vectorTileFeature"&&(t[r]=this[r]);return t}}class Bg{constructor(t,r){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=new Ss(yt,16,0),this.grid3D=new Ss(yt,16,0),this.featureIndexArray=new ht,this.promoteId=r}insert(t,r,s,g,v,b){const I=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(s,g,v);const P=b?this.grid3D:this.grid;for(let R=0;R<r.length;R++){const G=r[R],N=[1/0,1/0,-1/0,-1/0];for(let H=0;H<G.length;H++){const Y=G[H];N[0]=Math.min(N[0],Y.x),N[1]=Math.min(N[1],Y.y),N[2]=Math.max(N[2],Y.x),N[3]=Math.max(N[3],Y.y)}N[0]<yt&&N[1]<yt&&N[2]>=0&&N[3]>=0&&P.insert(I,N[0],N[1],N[2],N[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new ro.VectorTile(new Ml(this.rawTileData)).layers,this.sourceLayerCoder=new Gg(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(t,r,s,g){this.loadVTLayers();const v=t.params,b=yt/t.tileSize/t.scale,I=mc(v.filter),P=t.queryGeometry,R=t.queryPadding*b,G=Og(P),N=this.grid.query(G.minX-R,G.minY-R,G.maxX+R,G.maxY+R),H=Og(t.cameraQueryGeometry),Y=this.grid3D.query(H.minX-R,H.minY-R,H.maxX+R,H.maxY+R,(ve,Ie,qe,Ue)=>function(K,me,Oe,ft,jt){for(const Tt of K)if(me<=Tt.x&&Oe<=Tt.y&&ft>=Tt.x&&jt>=Tt.y)return!0;const xt=[new de(me,Oe),new de(me,jt),new de(ft,jt),new de(ft,Oe)];if(K.length>2){for(const Tt of xt)if(gs(K,Tt))return!0}for(let Tt=0;Tt<K.length-1;Tt++)if(nd(K[Tt],K[Tt+1],xt))return!0;return!1}(t.cameraQueryGeometry,ve-R,Ie-R,qe+R,Ue+R));for(const ve of Y)N.push(ve);N.sort(Uc);const ee={};let se;for(let ve=0;ve<N.length;ve++){const Ie=N[ve];if(Ie===se)continue;se=Ie;const qe=this.featureIndexArray.get(Ie);let Ue=null;this.loadMatchingFeature(ee,qe.bucketIndex,qe.sourceLayerIndex,qe.featureIndex,I,v.layers,v.availableImages,r,s,g,(K,me,Oe)=>(Ue||(Ue=Al(K)),me.queryIntersectsFeature({queryGeometry:P,feature:K,featureState:Oe,geometry:Ue,zoom:this.z,transform:t.transform,pixelsToTileUnits:b,pixelPosMatrix:t.pixelPosMatrix,unwrappedTileID:this.tileID.toUnwrapped(),getElevation:t.getElevation})))}return ee}loadMatchingFeature(t,r,s,g,v,b,I,P,R,G,N){const H=this.bucketLayerIDs[r];if(b&&!H.some(ve=>b.has(ve)))return;const Y=this.sourceLayerCoder.decode(s),ee=this.vtLayers[Y].feature(g);if(v.needGeometry){const ve=F0(ee,!0);if(!v.filter(new ri(this.tileID.overscaledZ),ve,this.tileID.canonical))return}else if(!v.filter(new ri(this.tileID.overscaledZ),ee))return;const se=this.getId(ee,Y);for(let ve=0;ve<H.length;ve++){const Ie=H[ve];if(b&&!b.has(Ie))continue;const qe=P[Ie];if(!qe)continue;let Ue={};se&&G&&(Ue=G.getState(qe.sourceLayer||"_geojsonTileLayer",se));const K=wn({},R[Ie]);K.paint=Qd(K.paint,qe.paint,ee,Ue,I),K.layout=Qd(K.layout,qe.layout,ee,Ue,I);const me=!N||N(ee,qe,Ue);if(!me)continue;const Oe=new Lg(ee,this.z,this.x,this.y,se);Oe.layer=K;let ft=t[Ie];ft===void 0&&(ft=t[Ie]=[]),ft.push({featureIndex:g,feature:Oe,intersectionZ:me})}}lookupSymbolFeatures(t,r,s,g,v,b,I,P){const R={};this.loadVTLayers();const G=mc(v);for(const N of t)this.loadMatchingFeature(R,s,g,N,G,b,I,P,r);return R}hasLayer(t){for(const r of this.bucketLayerIDs)for(const s of r)if(t===s)return!0;return!1}getId(t,r){var s;let g=t.id;return this.promoteId&&(g=t.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[r]],typeof g=="boolean"&&(g=Number(g)),g===void 0&&(!((s=t.properties)===null||s===void 0)&&s.cluster)&&this.promoteId&&(g=Number(t.properties.cluster_id))),g}}function Qd(i,t,r,s,g){return Rn(i,(v,b)=>{const I=t instanceof Xu?t.get(b):null;return I&&I.evaluate?I.evaluate(r,s,g):I})}function Og(i){let t=1/0,r=1/0,s=-1/0,g=-1/0;for(const v of i)t=Math.min(t,v.x),r=Math.min(r,v.y),s=Math.max(s,v.x),g=Math.max(g,v.y);return{minX:t,minY:r,maxX:s,maxY:g}}function Uc(i,t){return t-i}function Mf(i,t,r,s,g){const v=[];for(let b=0;b<i.length;b++){const I=i[b];let P;for(let R=0;R<I.length-1;R++){let G=I[R],N=I[R+1];G.x<t&&N.x<t||(G.x<t?G=new de(t,G.y+(t-G.x)/(N.x-G.x)*(N.y-G.y))._round():N.x<t&&(N=new de(t,G.y+(t-G.x)/(N.x-G.x)*(N.y-G.y))._round()),G.y<r&&N.y<r||(G.y<r?G=new de(G.x+(r-G.y)/(N.y-G.y)*(N.x-G.x),r)._round():N.y<r&&(N=new de(G.x+(r-G.y)/(N.y-G.y)*(N.x-G.x),r)._round()),G.x>=s&&N.x>=s||(G.x>=s?G=new de(s,G.y+(s-G.x)/(N.x-G.x)*(N.y-G.y))._round():N.x>=s&&(N=new de(s,G.y+(s-G.x)/(N.x-G.x)*(N.y-G.y))._round()),G.y>=g&&N.y>=g||(G.y>=g?G=new de(G.x+(g-G.y)/(N.y-G.y)*(N.x-G.x),g)._round():N.y>=g&&(N=new de(G.x+(g-G.y)/(N.y-G.y)*(N.x-G.x),g)._round()),P&&G.equals(P[P.length-1])||(P=[G],v.push(P)),P.push(N)))))}}return v}un("FeatureIndex",Bg,{omit:["rawTileData","sourceLayerCoder"]});class Su extends de{constructor(t,r,s,g){super(t,r),this.angle=s,g!==void 0&&(this.segment=g)}clone(){return new Su(this.x,this.y,this.angle,this.segment)}}function Ca(i,t,r,s,g){if(t.segment===void 0||r===0)return!0;let v=t,b=t.segment+1,I=0;for(;I>-r/2;){if(b--,b<0)return!1;I-=i[b].dist(v),v=i[b]}I+=i[b].dist(i[b+1]),b++;const P=[];let R=0;for(;I<r/2;){const G=i[b],N=i[b+1];if(!N)return!1;let H=i[b-1].angleTo(G)-G.angleTo(N);for(H=Math.abs((H+3*Math.PI)%(2*Math.PI)-Math.PI),P.push({distance:I,angleDelta:H}),R+=H;I-P[0].distance>s;)R-=P.shift().angleDelta;if(R>g)return!1;b++,I+=G.dist(N)}return!0}function ka(i){let t=0;for(let r=0;r<i.length-1;r++)t+=i[r].dist(i[r+1]);return t}function Pf(i,t,r){return i?.6*t*r:0}function Fg(i,t){return Math.max(i?i.right-i.left:0,t?t.right-t.left:0)}function oy(i,t,r,s,g,v){const b=Pf(r,g,v),I=Fg(r,s)*v;let P=0;const R=ka(i)/2;for(let G=0;G<i.length-1;G++){const N=i[G],H=i[G+1],Y=N.dist(H);if(P+Y>R){const ee=(R-P)/Y,se=fo.number(N.x,H.x,ee),ve=fo.number(N.y,H.y,ee),Ie=new Su(se,ve,H.angleTo(N),G);return Ie._round(),!b||Ca(i,Ie,I,b,t)?Ie:void 0}P+=Y}}function sy(i,t,r,s,g,v,b,I,P){const R=Pf(s,v,b),G=Fg(s,g),N=G*b,H=i[0].x===0||i[0].x===P||i[0].y===0||i[0].y===P;return t-N<t/4&&(t=N+t/4),Ng(i,H?t/2*I%t:(G/2+2*v)*b*I%t,t,R,r,N,H,!1,P)}function Ng(i,t,r,s,g,v,b,I,P){const R=v/2,G=ka(i);let N=0,H=t-r,Y=[];for(let ee=0;ee<i.length-1;ee++){const se=i[ee],ve=i[ee+1],Ie=se.dist(ve),qe=ve.angleTo(se);for(;H+r<N+Ie;){H+=r;const Ue=(H-N)/Ie,K=fo.number(se.x,ve.x,Ue),me=fo.number(se.y,ve.y,Ue);if(K>=0&&K<P&&me>=0&&me<P&&H-R>=0&&H+R<=G){const Oe=new Su(K,me,qe,ee);Oe._round(),s&&!Ca(i,Oe,v,s,g)||Y.push(Oe)}}N+=Ie}return I||Y.length||b||(Y=Ng(i,N/2,r,s,g,v,b,!0,P)),Y}un("Anchor",Su);const bd=Ko;function $g(i,t,r,s){const g=[],v=i.image,b=v.pixelRatio,I=v.paddedRect.w-2*bd,P=v.paddedRect.h-2*bd;let R={x1:i.left,y1:i.top,x2:i.right,y2:i.bottom};const G=v.stretchX||[[0,I]],N=v.stretchY||[[0,P]],H=(Et,In)=>Et+In[1]-In[0],Y=G.reduce(H,0),ee=N.reduce(H,0),se=I-Y,ve=P-ee;let Ie=0,qe=Y,Ue=0,K=ee,me=0,Oe=se,ft=0,jt=ve;if(v.content&&s){const Et=v.content,In=Et[2]-Et[0],qn=Et[3]-Et[1];(v.textFitWidth||v.textFitHeight)&&(R=U(i)),Ie=wd(G,0,Et[0]),Ue=wd(N,0,Et[1]),qe=wd(G,Et[0],Et[2]),K=wd(N,Et[1],Et[3]),me=Et[0]-Ie,ft=Et[1]-Ue,Oe=In-qe,jt=qn-K}const xt=R.x1,Tt=R.y1,Xt=R.x2-xt,Zt=R.y2-Tt,Kt=(Et,In,qn,Wn)=>{const En=$p(Et.stretch-Ie,qe,Xt,xt),Er=Jd(Et.fixed-me,Oe,Et.stretch,Y),Xi=$p(In.stretch-Ue,K,Zt,Tt),io=Jd(In.fixed-ft,jt,In.stretch,ee),vs=$p(qn.stretch-Ie,qe,Xt,xt),g0=Jd(qn.fixed-me,Oe,qn.stretch,Y),El=$p(Wn.stretch-Ue,K,Zt,Tt),Xo=Jd(Wn.fixed-ft,jt,Wn.stretch,ee),Yi=new de(En,Xi),Do=new de(vs,Xi),Yo=new de(vs,El),Qo=new de(En,El),rl=new de(Er/b,io/b),m0=new de(g0/b,Xo/b),Co=t*Math.PI/180;if(Co){const Io=Math.sin(Co),Ao=Math.cos(Co),Va=[Ao,-Io,Io,Ao];Yi._matMult(Va),Do._matMult(Va),Qo._matMult(Va),Yo._matMult(Va)}const kl=Et.stretch+Et.fixed,ao=In.stretch+In.fixed;return{tl:Yi,tr:Do,bl:Qo,br:Yo,tex:{x:v.paddedRect.x+bd+kl,y:v.paddedRect.y+bd+ao,w:qn.stretch+qn.fixed-kl,h:Wn.stretch+Wn.fixed-ao},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:rl,pixelOffsetBR:m0,minFontScaleX:Oe/b/Xt,minFontScaleY:jt/b/Zt,isSDF:r}};if(s&&(v.stretchX||v.stretchY)){const Et=Np(G,se,Y),In=Np(N,ve,ee);for(let qn=0;qn<Et.length-1;qn++){const Wn=Et[qn],En=Et[qn+1];for(let Er=0;Er<In.length-1;Er++)g.push(Kt(Wn,In[Er],En,In[Er+1]))}}else g.push(Kt({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:I+1},{fixed:0,stretch:P+1}));return g}function wd(i,t,r){let s=0;for(const g of i)s+=Math.max(t,Math.min(r,g[1]))-Math.max(t,Math.min(r,g[0]));return s}function Np(i,t,r){const s=[{fixed:-1,stretch:0}];for(const[g,v]of i){const b=s[s.length-1];s.push({fixed:g-b.stretch,stretch:b.stretch}),s.push({fixed:g-b.stretch,stretch:b.stretch+(v-g)})}return s.push({fixed:t+bd,stretch:r}),s}function $p(i,t,r,s){return i/t*r+s}function Jd(i,t,r,s){return i-t*r/s}class Dd{constructor(t,r,s,g,v,b,I,P,R,G){var N;if(this.boxStartIndex=t.length,R){let H=b.top,Y=b.bottom;const ee=b.collisionPadding;ee&&(H-=ee[1],Y+=ee[3]);let se=Y-H;se>0&&(se=Math.max(10,se),this.circleDiameter=se)}else{const H=!((N=b.image)===null||N===void 0)&&N.content&&(b.image.textFitWidth||b.image.textFitHeight)?U(b):{x1:b.left,y1:b.top,x2:b.right,y2:b.bottom};H.y1=H.y1*I-P[0],H.y2=H.y2*I+P[2],H.x1=H.x1*I-P[3],H.x2=H.x2*I+P[1];const Y=b.collisionPadding;if(Y&&(H.x1-=Y[0]*I,H.y1-=Y[1]*I,H.x2+=Y[2]*I,H.y2+=Y[3]*I),G){const ee=new de(H.x1,H.y1),se=new de(H.x2,H.y1),ve=new de(H.x1,H.y2),Ie=new de(H.x2,H.y2),qe=G*Math.PI/180;ee._rotate(qe),se._rotate(qe),ve._rotate(qe),Ie._rotate(qe),H.x1=Math.min(ee.x,se.x,ve.x,Ie.x),H.x2=Math.max(ee.x,se.x,ve.x,Ie.x),H.y1=Math.min(ee.y,se.y,ve.y,Ie.y),H.y2=Math.max(ee.y,se.y,ve.y,Ie.y)}t.emplaceBack(r.x,r.y,H.x1,H.y1,H.x2,H.y2,s,g,v)}this.boxEndIndex=t.length}}class ef{constructor(t=[],r=(s,g)=>s<g?-1:s>g?1:0){if(this.data=t,this.length=this.data.length,this.compare=r,this.length>0)for(let s=(this.length>>1)-1;s>=0;s--)this._down(s)}push(t){this.data.push(t),this._up(this.length++)}pop(){if(this.length===0)return;const t=this.data[0],r=this.data.pop();return--this.length>0&&(this.data[0]=r,this._down(0)),t}peek(){return this.data[0]}_up(t){const{data:r,compare:s}=this,g=r[t];for(;t>0;){const v=t-1>>1,b=r[v];if(s(g,b)>=0)break;r[t]=b,t=v}r[t]=g}_down(t){const{data:r,compare:s}=this,g=this.length>>1,v=r[t];for(;t<g;){let b=1+(t<<1);const I=b+1;if(I<this.length&&s(r[I],r[b])<0&&(b=I),s(r[b],v)>=0)break;r[t]=r[b],t=b}r[t]=v}}function d0(i,t=1,r=!1){let s=1/0,g=1/0,v=-1/0,b=-1/0;const I=i[0];for(let Y=0;Y<I.length;Y++){const ee=I[Y];(!Y||ee.x<s)&&(s=ee.x),(!Y||ee.y<g)&&(g=ee.y),(!Y||ee.x>v)&&(v=ee.x),(!Y||ee.y>b)&&(b=ee.y)}const P=Math.min(v-s,b-g);let R=P/2;const G=new ef([],jp);if(P===0)return new de(s,g);for(let Y=s;Y<v;Y+=P)for(let ee=g;ee<b;ee+=P)G.push(new Vp(Y+R,ee+R,R,i));let N=function(Y){let ee=0,se=0,ve=0;const Ie=Y[0];for(let qe=0,Ue=Ie.length,K=Ue-1;qe<Ue;K=qe++){const me=Ie[qe],Oe=Ie[K],ft=me.x*Oe.y-Oe.x*me.y;se+=(me.x+Oe.x)*ft,ve+=(me.y+Oe.y)*ft,ee+=3*ft}return new Vp(se/ee,ve/ee,0,Y)}(i),H=G.length;for(;G.length;){const Y=G.pop();(Y.d>N.d||!N.d)&&(N=Y,r&&console.log("found best %d after %d probes",Math.round(1e4*Y.d)/1e4,H)),Y.max-N.d<=t||(R=Y.h/2,G.push(new Vp(Y.p.x-R,Y.p.y-R,R,i)),G.push(new Vp(Y.p.x+R,Y.p.y-R,R,i)),G.push(new Vp(Y.p.x-R,Y.p.y+R,R,i)),G.push(new Vp(Y.p.x+R,Y.p.y+R,R,i)),H+=4)}return r&&(console.log(`num probes: ${H}`),console.log(`best distance: ${N.d}`)),N.p}function jp(i,t){return t.max-i.max}function Vp(i,t,r,s){this.p=new de(i,t),this.h=r,this.d=function(g,v){let b=!1,I=1/0;for(let P=0;P<v.length;P++){const R=v[P];for(let G=0,N=R.length,H=N-1;G<N;H=G++){const Y=R[G],ee=R[H];Y.y>g.y!=ee.y>g.y&&g.x<(ee.x-Y.x)*(g.y-Y.y)/(ee.y-Y.y)+Y.x&&(b=!b),I=Math.min(I,td(g,Y,ee))}}return(b?1:-1)*Math.sqrt(I)}(this.p,s),this.max=this.d+this.h*Math.SQRT2}var _s;A.aB=void 0,(_s=A.aB||(A.aB={}))[_s.center=1]="center",_s[_s.left=2]="left",_s[_s.right=3]="right",_s[_s.top=4]="top",_s[_s.bottom=5]="bottom",_s[_s["top-left"]=6]="top-left",_s[_s["top-right"]=7]="top-right",_s[_s["bottom-left"]=8]="bottom-left",_s[_s["bottom-right"]=9]="bottom-right";const bh=7,Ef=Number.POSITIVE_INFINITY;function jg(i,t){return t[1]!==Ef?function(r,s,g){let v=0,b=0;switch(s=Math.abs(s),g=Math.abs(g),r){case"top-right":case"top-left":case"top":b=g-bh;break;case"bottom-right":case"bottom-left":case"bottom":b=-g+bh}switch(r){case"top-right":case"bottom-right":case"right":v=-s;break;case"top-left":case"bottom-left":case"left":v=s}return[v,b]}(i,t[0],t[1]):function(r,s){let g=0,v=0;s<0&&(s=0);const b=s/Math.SQRT2;switch(r){case"top-right":case"top-left":v=b-bh;break;case"bottom-right":case"bottom-left":v=-b+bh;break;case"bottom":v=-s+bh;break;case"top":v=s-bh}switch(r){case"top-right":case"bottom-right":g=-b;break;case"top-left":case"bottom-left":g=b;break;case"left":g=s;break;case"right":g=-s}return[g,v]}(i,t[0])}function kf(i,t,r){var s;const g=i.layout,v=(s=g.get("text-variable-anchor-offset"))===null||s===void 0?void 0:s.evaluate(t,{},r);if(v){const I=v.values,P=[];for(let R=0;R<I.length;R+=2){const G=P[R]=I[R],N=I[R+1].map(H=>H*Pa);G.startsWith("top")?N[1]-=bh:G.startsWith("bottom")&&(N[1]+=bh),P[R+1]=N}return new Ba(P)}const b=g.get("text-variable-anchor");if(b){let I;I=i._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[g.get("text-radial-offset").evaluate(t,{},r)*Pa,Ef]:g.get("text-offset").evaluate(t,{},r).map(R=>R*Pa);const P=[];for(const R of b)P.push(R,jg(R,I));return new Ba(P)}return null}function Tu(i){switch(i){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function kr(i,t,r,s,g,v,b,I,P,R,G,N){let H=v.textMaxSize.evaluate(t,{});H===void 0&&(H=b);const Y=i.layers[0].layout,ee=Y.get("icon-offset").evaluate(t,{},G),se=f0(r.horizontal),ve=b/24,Ie=i.tilePixelRatio*ve,qe=i.tilePixelRatio*H/24,Ue=i.tilePixelRatio*I,K=i.tilePixelRatio*Y.get("symbol-spacing"),me=Y.get("text-padding")*i.tilePixelRatio,Oe=function(qn,Wn,En,Er=1){const Xi=qn.get("icon-padding").evaluate(Wn,{},En),io=Xi&&Xi.values;return[io[0]*Er,io[1]*Er,io[2]*Er,io[3]*Er]}(Y,t,G,i.tilePixelRatio),ft=Y.get("text-max-angle")/180*Math.PI,jt=Y.get("text-rotation-alignment")!=="viewport"&&Y.get("symbol-placement")!=="point",xt=Y.get("icon-rotation-alignment")==="map"&&Y.get("symbol-placement")!=="point",Tt=Y.get("symbol-placement"),Xt=K/2,Zt=Y.get("icon-text-fit");let Kt;s&&Zt!=="none"&&(i.allowVerticalPlacement&&r.vertical&&(Kt=$(s,r.vertical,Zt,Y.get("icon-text-fit-padding"),ee,ve)),se&&(s=$(s,se,Zt,Y.get("icon-text-fit-padding"),ee,ve)));const Et=G?N.line.getGranularityForZoomLevel(G.z):1,In=(qn,Wn)=>{Wn.x<0||Wn.x>=yt||Wn.y<0||Wn.y>=yt||function(En,Er,Xi,io,vs,g0,El,Xo,Yi,Do,Yo,Qo,rl,m0,Co,kl,ao,Io,Ao,Va,$i,Mu,Zp,Pu,uy){const Wp=En.addToLineVertexArray(Er,Xi);let ip,Hp,Dh,ap,Nf=0,Hg=0,qg=0,Kg=0,Id=-1,$f=-1;const zc={};let Xg=Es("");if(En.allowVerticalPlacement&&io.vertical){const Bs=Xo.layout.get("text-rotate").evaluate($i,{},Pu)+90;Dh=new Dd(Yi,Er,Do,Yo,Qo,io.vertical,rl,m0,Co,Bs),El&&(ap=new Dd(Yi,Er,Do,Yo,Qo,El,ao,Io,Co,Bs))}if(vs){const Bs=Xo.layout.get("icon-rotate").evaluate($i,{}),y0=Xo.layout.get("icon-text-fit")!=="none",Gc=$g(vs,Bs,Zp,y0),_0=El?$g(El,Bs,Zp,y0):void 0;Hp=new Dd(Yi,Er,Do,Yo,Qo,vs,ao,Io,!1,Bs),Nf=4*Gc.length;const op=En.iconSizeData;let sc=null;op.kind==="source"?(sc=[Re*Xo.layout.get("icon-size").evaluate($i,{})],sc[0]>Xe&&Hn(`${En.layerIds[0]}: Value for "icon-size" is >= ${le}. Reduce your "icon-size".`)):op.kind==="composite"&&(sc=[Re*Mu.compositeIconSizes[0].evaluate($i,{},Pu),Re*Mu.compositeIconSizes[1].evaluate($i,{},Pu)],(sc[0]>Xe||sc[1]>Xe)&&Hn(`${En.layerIds[0]}: Value for "icon-size" is >= ${le}. Reduce your "icon-size".`)),En.addSymbols(En.icon,Gc,sc,Va,Ao,$i,A.al.none,Er,Wp.lineStartIndex,Wp.lineLength,-1,Pu),Id=En.icon.placedSymbolArray.length-1,_0&&(Hg=4*_0.length,En.addSymbols(En.icon,_0,sc,Va,Ao,$i,A.al.vertical,Er,Wp.lineStartIndex,Wp.lineLength,-1,Pu),$f=En.icon.placedSymbolArray.length-1)}const Rl=Object.keys(io.horizontal);for(const Bs of Rl){const y0=io.horizontal[Bs];if(!ip){Xg=Es(y0.text);const _0=Xo.layout.get("text-rotate").evaluate($i,{},Pu);ip=new Dd(Yi,Er,Do,Yo,Qo,y0,rl,m0,Co,_0)}const Gc=y0.positionedLines.length===1;if(qg+=Rf(En,Er,y0,g0,Xo,Co,$i,kl,Wp,io.vertical?A.al.horizontal:A.al.horizontalOnly,Gc?Rl:[Bs],zc,Id,Mu,Pu),Gc)break}io.vertical&&(Kg+=Rf(En,Er,io.vertical,g0,Xo,Co,$i,kl,Wp,A.al.vertical,["vertical"],zc,$f,Mu,Pu));const jf=ip?ip.boxStartIndex:En.collisionBoxArray.length,cy=ip?ip.boxEndIndex:En.collisionBoxArray.length,hy=Dh?Dh.boxStartIndex:En.collisionBoxArray.length,py=Dh?Dh.boxEndIndex:En.collisionBoxArray.length,dy=Hp?Hp.boxStartIndex:En.collisionBoxArray.length,Vf=Hp?Hp.boxEndIndex:En.collisionBoxArray.length,fy=ap?ap.boxStartIndex:En.collisionBoxArray.length,Zf=ap?ap.boxEndIndex:En.collisionBoxArray.length;let Eu=-1;const nf=(Bs,y0)=>Bs&&Bs.circleDiameter?Math.max(Bs.circleDiameter,y0):y0;Eu=nf(ip,Eu),Eu=nf(Dh,Eu),Eu=nf(Hp,Eu),Eu=nf(ap,Eu);const Yg=Eu>-1?1:0;Yg&&(Eu*=uy/Pa),En.glyphOffsetArray.length>=et.MAX_GLYPHS&&Hn("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),$i.sortKey!==void 0&&En.addToSortKeyRanges(En.symbolInstances.length,$i.sortKey);const gy=kf(Xo,$i,Pu),[Qg,my]=function(Bs,y0){const Gc=Bs.length,_0=y0==null?void 0:y0.values;if((_0==null?void 0:_0.length)>0)for(let op=0;op<_0.length;op+=2){const sc=_0[op+1];Bs.emplaceBack(A.aB[_0[op]],sc[0],sc[1])}return[Gc,Bs.length]}(En.textAnchorOffsets,gy);En.symbolInstances.emplaceBack(Er.x,Er.y,zc.right>=0?zc.right:-1,zc.center>=0?zc.center:-1,zc.left>=0?zc.left:-1,zc.vertical||-1,Id,$f,Xg,jf,cy,hy,py,dy,Vf,fy,Zf,Do,qg,Kg,Nf,Hg,Yg,0,rl,Eu,Qg,my)}(i,Wn,qn,r,s,g,Kt,i.layers[0],i.collisionBoxArray,t.index,t.sourceLayerIndex,i.index,Ie,[me,me,me,me],jt,P,Ue,Oe,xt,ee,t,v,R,G,b)};if(Tt==="line")for(const qn of Mf(t.geometry,0,0,yt,yt)){const Wn=xu(qn,Et),En=sy(Wn,K,ft,r.vertical||se,s,24,qe,i.overscaling,yt);for(const Er of En)se&&Vg(i,se.text,Xt,Er)||In(Wn,Er)}else if(Tt==="line-center"){for(const qn of t.geometry)if(qn.length>1){const Wn=xu(qn,Et),En=oy(Wn,ft,r.vertical||se,s,24,qe);En&&In(Wn,En)}}else if(t.type==="Polygon")for(const qn of jc(t.geometry,0)){const Wn=d0(qn,16);In(xu(qn[0],Et,!0),new Su(Wn.x,Wn.y,0))}else if(t.type==="LineString")for(const qn of t.geometry){const Wn=xu(qn,Et);In(Wn,new Su(Wn[0].x,Wn[0].y,0))}else if(t.type==="Point")for(const qn of t.geometry)for(const Wn of qn)In([Wn],new Su(Wn.x,Wn.y,0))}function Rf(i,t,r,s,g,v,b,I,P,R,G,N,H,Y,ee){const se=function(qe,Ue,K,me,Oe,ft,jt,xt){const Tt=me.layout.get("text-rotate").evaluate(ft,{})*Math.PI/180,Xt=[];for(const Zt of Ue.positionedLines)for(const Kt of Zt.positionedGlyphs){if(!Kt.rect)continue;const Et=Kt.rect||{};let In=gd+1,qn=!0,Wn=1,En=0;const Er=(Oe||xt)&&Kt.vertical,Xi=Kt.metrics.advance*Kt.scale/2;if(xt&&Ue.verticalizable&&(En=Zt.lineOffset/2-(Kt.imageName?-(Pa-Kt.metrics.width*Kt.scale)/2:(Kt.scale-1)*Pa)),Kt.imageName){const Io=jt[Kt.imageName];qn=Io.sdf,Wn=Io.pixelRatio,In=Ko/Wn}const io=Oe?[Kt.x+Xi,Kt.y]:[0,0];let vs=Oe?[0,0]:[Kt.x+Xi+K[0],Kt.y+K[1]-En],g0=[0,0];Er&&(g0=vs,vs=[0,0]);const El=Kt.metrics.isDoubleResolution?2:1,Xo=(Kt.metrics.left-In)*Kt.scale-Xi+vs[0],Yi=(-Kt.metrics.top-In)*Kt.scale+vs[1],Do=Xo+Et.w/El*Kt.scale/Wn,Yo=Yi+Et.h/El*Kt.scale/Wn,Qo=new de(Xo,Yi),rl=new de(Do,Yi),m0=new de(Xo,Yo),Co=new de(Do,Yo);if(Er){const Io=new de(-Xi,Xi-Ec),Ao=-Math.PI/2,Va=Pa/2-Xi,$i=new de(5-Ec-Va,-(Kt.imageName?Va:0)),Mu=new de(...g0);Qo._rotateAround(Ao,Io)._add($i)._add(Mu),rl._rotateAround(Ao,Io)._add($i)._add(Mu),m0._rotateAround(Ao,Io)._add($i)._add(Mu),Co._rotateAround(Ao,Io)._add($i)._add(Mu)}if(Tt){const Io=Math.sin(Tt),Ao=Math.cos(Tt),Va=[Ao,-Io,Io,Ao];Qo._matMult(Va),rl._matMult(Va),m0._matMult(Va),Co._matMult(Va)}const kl=new de(0,0),ao=new de(0,0);Xt.push({tl:Qo,tr:rl,bl:m0,br:Co,tex:Et,writingMode:Ue.writingMode,glyphOffset:io,sectionIndex:Kt.sectionIndex,isSDF:qn,pixelOffsetTL:kl,pixelOffsetBR:ao,minFontScaleX:0,minFontScaleY:0})}return Xt}(0,r,I,g,v,b,s,i.allowVerticalPlacement),ve=i.textSizeData;let Ie=null;ve.kind==="source"?(Ie=[Re*g.layout.get("text-size").evaluate(b,{})],Ie[0]>Xe&&Hn(`${i.layerIds[0]}: Value for "text-size" is >= ${le}. Reduce your "text-size".`)):ve.kind==="composite"&&(Ie=[Re*Y.compositeTextSizes[0].evaluate(b,{},ee),Re*Y.compositeTextSizes[1].evaluate(b,{},ee)],(Ie[0]>Xe||Ie[1]>Xe)&&Hn(`${i.layerIds[0]}: Value for "text-size" is >= ${le}. Reduce your "text-size".`)),i.addSymbols(i.text,se,Ie,I,v,b,R,t,P.lineStartIndex,P.lineLength,H,ee);for(const qe of G)N[qe]=i.text.placedSymbolArray.length-1;return 4*se.length}function f0(i){for(const t in i)return i[t];return null}function Vg(i,t,r,s){const g=i.compareText;if(t in g){const v=g[t];for(let b=v.length-1;b>=0;b--)if(s.dist(v[b])<r)return!0}else g[t]=[];return g[t].push(s),!1}const Zg=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class xi{static from(t){if(!(t instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[r,s]=new Uint8Array(t,0,2);if(r!==219)throw new Error("Data does not appear to be in a KDBush format.");const g=s>>4;if(g!==1)throw new Error(`Got v${g} data when expected v1.`);const v=Zg[15&s];if(!v)throw new Error("Unrecognized array type.");const[b]=new Uint16Array(t,2,1),[I]=new Uint32Array(t,4,1);return new xi(I,b,v,t)}constructor(t,r=64,s=Float64Array,g){if(isNaN(t)||t<0)throw new Error(`Unpexpected numItems value: ${t}.`);this.numItems=+t,this.nodeSize=Math.min(Math.max(+r,2),65535),this.ArrayType=s,this.IndexArrayType=t<65536?Uint16Array:Uint32Array;const v=Zg.indexOf(this.ArrayType),b=2*t*this.ArrayType.BYTES_PER_ELEMENT,I=t*this.IndexArrayType.BYTES_PER_ELEMENT,P=(8-I%8)%8;if(v<0)throw new Error(`Unexpected typed array class: ${s}.`);g&&g instanceof ArrayBuffer?(this.data=g,this.ids=new this.IndexArrayType(this.data,8,t),this.coords=new this.ArrayType(this.data,8+I+P,2*t),this._pos=2*t,this._finished=!0):(this.data=new ArrayBuffer(8+b+I+P),this.ids=new this.IndexArrayType(this.data,8,t),this.coords=new this.ArrayType(this.data,8+I+P,2*t),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+v]),new Uint16Array(this.data,2,1)[0]=r,new Uint32Array(this.data,4,1)[0]=t)}add(t,r){const s=this._pos>>1;return this.ids[s]=s,this.coords[this._pos++]=t,this.coords[this._pos++]=r,s}finish(){const t=this._pos>>1;if(t!==this.numItems)throw new Error(`Added ${t} items when expected ${this.numItems}.`);return Uf(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(t,r,s,g){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:v,coords:b,nodeSize:I}=this,P=[0,v.length-1,0],R=[];for(;P.length;){const G=P.pop()||0,N=P.pop()||0,H=P.pop()||0;if(N-H<=I){for(let ve=H;ve<=N;ve++){const Ie=b[2*ve],qe=b[2*ve+1];Ie>=t&&Ie<=s&&qe>=r&&qe<=g&&R.push(v[ve])}continue}const Y=H+N>>1,ee=b[2*Y],se=b[2*Y+1];ee>=t&&ee<=s&&se>=r&&se<=g&&R.push(v[Y]),(G===0?t<=ee:r<=se)&&(P.push(H),P.push(Y-1),P.push(1-G)),(G===0?s>=ee:g>=se)&&(P.push(Y+1),P.push(N),P.push(1-G))}return R}within(t,r,s){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:g,coords:v,nodeSize:b}=this,I=[0,g.length-1,0],P=[],R=s*s;for(;I.length;){const G=I.pop()||0,N=I.pop()||0,H=I.pop()||0;if(N-H<=b){for(let ve=H;ve<=N;ve++)Wg(v[2*ve],v[2*ve+1],t,r)<=R&&P.push(g[ve]);continue}const Y=H+N>>1,ee=v[2*Y],se=v[2*Y+1];Wg(ee,se,t,r)<=R&&P.push(g[Y]),(G===0?t-s<=ee:r-s<=se)&&(I.push(H),I.push(Y-1),I.push(1-G)),(G===0?t+s>=ee:r+s>=se)&&(I.push(Y+1),I.push(N),I.push(1-G))}return P}}function Uf(i,t,r,s,g,v){if(g-s<=r)return;const b=s+g>>1;zf(i,t,b,s,g,v),Uf(i,t,r,s,b-1,1-v),Uf(i,t,r,b+1,g,1-v)}function zf(i,t,r,s,g,v){for(;g>s;){if(g-s>600){const R=g-s+1,G=r-s+1,N=Math.log(R),H=.5*Math.exp(2*N/3),Y=.5*Math.sqrt(N*H*(R-H)/R)*(G-R/2<0?-1:1);zf(i,t,r,Math.max(s,Math.floor(r-G*H/R+Y)),Math.min(g,Math.floor(r+(R-G)*H/R+Y)),v)}const b=t[2*r+v];let I=s,P=g;for(wh(i,t,s,r),t[2*g+v]>b&&wh(i,t,s,g);I<P;){for(wh(i,t,I,P),I++,P--;t[2*I+v]<b;)I++;for(;t[2*P+v]>b;)P--}t[2*s+v]===b?wh(i,t,s,P):(P++,wh(i,t,P,g)),P<=r&&(s=P+1),r<=P&&(g=P-1)}}function wh(i,t,r,s){Gf(i,r,s),Gf(t,2*r,2*s),Gf(t,2*r+1,2*s+1)}function Gf(i,t,r){const s=i[t];i[t]=i[r],i[r]=s}function Wg(i,t,r,s){const g=i-r,v=t-s;return g*g+v*v}var Lf;A.co=void 0,(Lf=A.co||(A.co={})).create="create",Lf.load="load",Lf.fullLoad="fullLoad";let tf=null,Cd=[];const Bf=1e3/60,Of="loadTime",Ff="fullLoadTime",ly={mark(i){performance.mark(i)},frame(i){const t=i;tf!=null&&Cd.push(t-tf),tf=t},clearMetrics(){tf=null,Cd=[],performance.clearMeasures(Of),performance.clearMeasures(Ff);for(const i in A.co)performance.clearMarks(A.co[i])},getPerformanceMetrics(){performance.measure(Of,A.co.create,A.co.load),performance.measure(Ff,A.co.create,A.co.fullLoad);const i=performance.getEntriesByName(Of)[0].duration,t=performance.getEntriesByName(Ff)[0].duration,r=Cd.length,s=1/(Cd.reduce((v,b)=>v+b,0)/r/1e3),g=Cd.filter(v=>v>Bf).reduce((v,b)=>v+(b-Bf)/Bf,0);return{loadTime:i,fullLoadTime:t,fps:s,percentDroppedFrames:g/(r+g)*100,totalFrames:r}}};A.$=xd,A.A=je,A.B=fo,A.C=ri,A.D=fn,A.E=Ze,A.F=Yc,A.G=function(i){if(fi==null){const t=i.navigator?i.navigator.userAgent:null;fi=!!i.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return fi},A.H=class{constructor(i,t){this.target=i,this.mapId=t,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new iy(()=>this.process()),this.subscription=Dn(this.target,"message",r=>this.receive(r),!1),this.globalScope=yr(self)?i:window}registerMessageHandler(i,t){this.messageHandlers[i]=t}sendAsync(i,t){return new Promise((r,s)=>{const g=Math.round(1e18*Math.random()).toString(36).substring(0,10),v=t?Dn(t.signal,"abort",()=>{v==null||v.unsubscribe(),delete this.resolveRejects[g];const P={id:g,type:"<cancel>",origin:location.origin,targetMapId:i.targetMapId,sourceMapId:this.mapId};this.target.postMessage(P)},ay):null;this.resolveRejects[g]={resolve:P=>{v==null||v.unsubscribe(),r(P)},reject:P=>{v==null||v.unsubscribe(),s(P)}};const b=[],I=Object.assign(Object.assign({},i),{id:g,sourceMapId:this.mapId,origin:location.origin,data:Ya(i.data,b)});this.target.postMessage(I,{transfer:b})})}receive(i){const t=i.data,r=t.id;if(!(t.origin!=="file://"&&location.origin!=="file://"&&t.origin!=="resource://android"&&location.origin!=="resource://android"&&t.origin!==location.origin||t.targetMapId&&this.mapId!==t.targetMapId)){if(t.type==="<cancel>"){delete this.tasks[r];const s=this.abortControllers[r];return delete this.abortControllers[r],void(s&&s.abort())}if(yr(self)||t.mustQueue)return this.tasks[r]=t,this.taskQueue.push(r),void this.invoker.trigger();this.processTask(r,t)}}process(){if(this.taskQueue.length===0)return;const i=this.taskQueue.shift(),t=this.tasks[i];delete this.tasks[i],this.taskQueue.length>0&&this.invoker.trigger(),t&&this.processTask(i,t)}processTask(i,t){return l(this,void 0,void 0,function*(){if(t.type==="<response>"){const g=this.resolveRejects[i];return delete this.resolveRejects[i],g?void(t.error?g.reject(bl(t.error)):g.resolve(bl(t.data))):void 0}if(!this.messageHandlers[t.type])return void this.completeTask(i,new Error(`Could not find a registered handler for ${t.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));const r=bl(t.data),s=new AbortController;this.abortControllers[i]=s;try{const g=yield this.messageHandlers[t.type](t.sourceMapId,r,s);this.completeTask(i,null,g)}catch(g){this.completeTask(i,g)}})}completeTask(i,t,r){const s=[];delete this.abortControllers[i];const g={id:i,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:t?Ya(t):null,data:Ya(r,s)};this.target.postMessage(g,{transfer:s})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},A.I=md,A.J=xr,A.K=function(){var i=new je(16);return je!=Float32Array&&(i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[11]=0,i[12]=0,i[13]=0,i[14]=0),i[0]=1,i[5]=1,i[10]=1,i[15]=1,i},A.L=function(i,t,r){var s,g,v,b,I,P,R,G,N,H,Y,ee,se=r[0],ve=r[1],Ie=r[2];return t===i?(i[12]=t[0]*se+t[4]*ve+t[8]*Ie+t[12],i[13]=t[1]*se+t[5]*ve+t[9]*Ie+t[13],i[14]=t[2]*se+t[6]*ve+t[10]*Ie+t[14],i[15]=t[3]*se+t[7]*ve+t[11]*Ie+t[15]):(g=t[1],v=t[2],b=t[3],I=t[4],P=t[5],R=t[6],G=t[7],N=t[8],H=t[9],Y=t[10],ee=t[11],i[0]=s=t[0],i[1]=g,i[2]=v,i[3]=b,i[4]=I,i[5]=P,i[6]=R,i[7]=G,i[8]=N,i[9]=H,i[10]=Y,i[11]=ee,i[12]=s*se+I*ve+N*Ie+t[12],i[13]=g*se+P*ve+H*Ie+t[13],i[14]=v*se+R*ve+Y*Ie+t[14],i[15]=b*se+G*ve+ee*Ie+t[15]),i},A.M=function(i,t,r){var s=r[0],g=r[1],v=r[2];return i[0]=t[0]*s,i[1]=t[1]*s,i[2]=t[2]*s,i[3]=t[3]*s,i[4]=t[4]*g,i[5]=t[5]*g,i[6]=t[6]*g,i[7]=t[7]*g,i[8]=t[8]*v,i[9]=t[9]*v,i[10]=t[10]*v,i[11]=t[11]*v,i[12]=t[12],i[13]=t[13],i[14]=t[14],i[15]=t[15],i},A.N=function(i,t,r){var s=t[0],g=t[1],v=t[2],b=t[3],I=t[4],P=t[5],R=t[6],G=t[7],N=t[8],H=t[9],Y=t[10],ee=t[11],se=t[12],ve=t[13],Ie=t[14],qe=t[15],Ue=r[0],K=r[1],me=r[2],Oe=r[3];return i[0]=Ue*s+K*I+me*N+Oe*se,i[1]=Ue*g+K*P+me*H+Oe*ve,i[2]=Ue*v+K*R+me*Y+Oe*Ie,i[3]=Ue*b+K*G+me*ee+Oe*qe,i[4]=(Ue=r[4])*s+(K=r[5])*I+(me=r[6])*N+(Oe=r[7])*se,i[5]=Ue*g+K*P+me*H+Oe*ve,i[6]=Ue*v+K*R+me*Y+Oe*Ie,i[7]=Ue*b+K*G+me*ee+Oe*qe,i[8]=(Ue=r[8])*s+(K=r[9])*I+(me=r[10])*N+(Oe=r[11])*se,i[9]=Ue*g+K*P+me*H+Oe*ve,i[10]=Ue*v+K*R+me*Y+Oe*Ie,i[11]=Ue*b+K*G+me*ee+Oe*qe,i[12]=(Ue=r[12])*s+(K=r[13])*I+(me=r[14])*N+(Oe=r[15])*se,i[13]=Ue*g+K*P+me*H+Oe*ve,i[14]=Ue*v+K*R+me*Y+Oe*Ie,i[15]=Ue*b+K*G+me*ee+Oe*qe,i},A.O=function(i,t){const r={};for(let s=0;s<t.length;s++){const g=t[s];g in i&&(r[g]=i[g])}return r},A.P=de,A.Q=xh,A.R=ms,A.S=kg,A.T=wl,A.U=V0,A.V=ze,A.W=Me,A.X=Gi,A.Y=wo,A.Z=yt,A._=l,A.a=Li,A.a$=function(i,t,r){var s=Math.sin(r),g=Math.cos(r),v=t[4],b=t[5],I=t[6],P=t[7],R=t[8],G=t[9],N=t[10],H=t[11];return t!==i&&(i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[12]=t[12],i[13]=t[13],i[14]=t[14],i[15]=t[15]),i[4]=v*g+R*s,i[5]=b*g+G*s,i[6]=I*g+N*s,i[7]=P*g+H*s,i[8]=R*g-v*s,i[9]=G*g-b*s,i[10]=N*g-I*s,i[11]=H*g-P*s,i},A.a0=25,A.a1=Ea,A.a2=i=>{const t=window.document.createElement("video");return t.muted=!0,new Promise(r=>{t.onloadstart=()=>{r(t)};for(const s of i){const g=window.document.createElement("source");Fe(s)||(t.crossOrigin="Anonymous"),g.src=s,t.appendChild(g)}})},A.a3=wt,A.a4=function(){return Fn++},A.a5=Ce,A.a6=et,A.a7=mc,A.a8=F0,A.a9=Lg,A.aA=function(i,t,r,s,g=!1){if(!r[0]&&!r[1])return[0,0];const v=g?s==="map"?-i.bearingInRadians:0:s==="viewport"?i.bearingInRadians:0;if(v){const b=Math.sin(v),I=Math.cos(v);r=[r[0]*I-r[1]*b,r[0]*b+r[1]*I]}return[g?r[0]:mt(t,r[0],i.zoom),g?r[1]:mt(t,r[1],i.zoom)]},A.aC=en,A.aD=Tu,A.aE=vd,A.aF=xi,A.aG=ii,A.aH=el,A.aI=Ct,A.aJ=Pr,A.aK=Cr,A.aL=gn,A.aM=ti,A.aN=Mr,A.aO=function(i,t,r){return i[0]=t[0]*r,i[1]=t[1]*r,i[2]=t[2]*r,i},A.aP=function(i,t,r){return i[0]=t[0]+r[0],i[1]=t[1]+r[1],i[2]=t[2]+r[2],i},A.aQ=function(i){var t=new je(3);return t[0]=i[0],t[1]=i[1],t[2]=i[2],t},A.aR=function(i,t,r){return i[0]=t[0]*r[0],i[1]=t[1]*r[1],i[2]=t[2]*r[2],i[3]=t[3]*r[3],i},A.aS=function(i,t,r){return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],i},A.aT=function(i,t){var r=t[0],s=t[1],g=t[2],v=r*r+s*s+g*g;return v>0&&(v=1/Math.sqrt(v)),i[0]=t[0]*v,i[1]=t[1]*v,i[2]=t[2]*v,i},A.aU=function(i,t,r){var s=t[0],g=t[1],v=t[2],b=r[0],I=r[1],P=r[2];return i[0]=g*P-v*I,i[1]=v*b-s*P,i[2]=s*I-g*b,i},A.aV=function(i,t){return i[0]*t[0]+i[1]*t[1]+i[2]*t[2]},A.aW=Ug,A.aX=Fp,A.aY=function(i,t,r,s,g){var v,b=1/Math.tan(t/2);return i[0]=b/r,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=b,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[11]=-1,i[12]=0,i[13]=0,i[15]=0,g!=null&&g!==1/0?(i[10]=(g+s)*(v=1/(s-g)),i[14]=2*g*s*v):(i[10]=-1,i[14]=-2*s),i},A.aZ=function(i){var t=new je(16);return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],t},A.a_=function(i,t,r){var s=Math.sin(r),g=Math.cos(r),v=t[0],b=t[1],I=t[2],P=t[3],R=t[4],G=t[5],N=t[6],H=t[7];return t!==i&&(i[8]=t[8],i[9]=t[9],i[10]=t[10],i[11]=t[11],i[12]=t[12],i[13]=t[13],i[14]=t[14],i[15]=t[15]),i[0]=v*g+R*s,i[1]=b*g+G*s,i[2]=I*g+N*s,i[3]=P*g+H*s,i[4]=R*g-v*s,i[5]=G*g-b*s,i[6]=N*g-I*s,i[7]=H*g-P*s,i},A.aa=function(i){const t={};if(i.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(r,s,g,v)=>{const b=g||v;return t[s]=!b||b.toLowerCase(),""}),t["max-age"]){const r=parseInt(t["max-age"],10);isNaN(r)?delete t["max-age"]:t["max-age"]=r}return t},A.ab=Lr,A.ac=function(i){return Math.pow(2,i)},A.ad=Pt,A.ae=kt,A.af=85.051129,A.ag=Rg,A.ah=function(i){return Math.log(i)/Math.LN2},A.ai=function(i){var t=i[0],r=i[1];return t*t+r*r},A.aj=function(i,t){const r=[];for(const s in i)s in t||r.push(s);return r},A.ak=function(i,t){let r=0,s=0;if(i.kind==="constant")s=i.layoutSize;else if(i.kind!=="source"){const{interpolationType:g,minZoom:v,maxZoom:b}=i,I=g?kt(Oi.interpolationFactor(g,t,v,b),0,1):0;i.kind==="camera"?s=fo.number(i.minSize,i.maxSize,I):r=I}return{uSizeT:r,uSize:s}},A.am=function(i,{uSize:t,uSizeT:r},{lowerSize:s,upperSize:g}){return i.kind==="source"?s/Re:i.kind==="composite"?fo.number(s/Re,g/Re,r):t},A.an=function(i,t){var r=t[0],s=t[1],g=t[2],v=t[3],b=t[4],I=t[5],P=t[6],R=t[7],G=t[8],N=t[9],H=t[10],Y=t[11],ee=t[12],se=t[13],ve=t[14],Ie=t[15],qe=r*I-s*b,Ue=r*P-g*b,K=r*R-v*b,me=s*P-g*I,Oe=s*R-v*I,ft=g*R-v*P,jt=G*se-N*ee,xt=G*ve-H*ee,Tt=G*Ie-Y*ee,Xt=N*ve-H*se,Zt=N*Ie-Y*se,Kt=H*Ie-Y*ve,Et=qe*Kt-Ue*Zt+K*Xt+me*Tt-Oe*xt+ft*jt;return Et?(i[0]=(I*Kt-P*Zt+R*Xt)*(Et=1/Et),i[1]=(g*Zt-s*Kt-v*Xt)*Et,i[2]=(se*ft-ve*Oe+Ie*me)*Et,i[3]=(H*Oe-N*ft-Y*me)*Et,i[4]=(P*Tt-b*Kt-R*xt)*Et,i[5]=(r*Kt-g*Tt+v*xt)*Et,i[6]=(ve*K-ee*ft-Ie*Ue)*Et,i[7]=(G*ft-H*K+Y*Ue)*Et,i[8]=(b*Zt-I*Tt+R*jt)*Et,i[9]=(s*Tt-r*Zt-v*jt)*Et,i[10]=(ee*Oe-se*K+Ie*qe)*Et,i[11]=(N*K-G*Oe-Y*qe)*Et,i[12]=(I*xt-b*Xt-P*jt)*Et,i[13]=(r*Xt-s*xt+g*jt)*Et,i[14]=(se*Ue-ee*me-ve*qe)*Et,i[15]=(G*me-N*Ue+H*qe)*Et,i):null},A.ao=$t,A.ap=function(i){return Math.hypot(i[0],i[1])},A.aq=function(i){return i[0]=0,i[1]=0,i},A.ar=function(i,t,r){return i[0]=t[0]*r,i[1]=t[1]*r,i},A.as=zn,A.at=Vt,A.au=function(i,t,r,s){const g=t.y-i.y,v=t.x-i.x,b=s.y-r.y,I=s.x-r.x,P=b*v-I*g;if(P===0)return null;const R=(I*(i.y-r.y)-b*(i.x-r.x))/P;return new de(i.x+R*v,i.y+R*g)},A.av=Mf,A.aw=Oh,A.ax=function(i){let t=1/0,r=1/0,s=-1/0,g=-1/0;for(const v of i)t=Math.min(t,v.x),r=Math.min(r,v.y),s=Math.max(s,v.x),g=Math.max(g,v.y);return[t,r,s,g]},A.ay=Pa,A.az=mt,A.b=Ir,A.b$=class extends ie{},A.b0=function(){const i=new Float32Array(16);return Pt(i),i},A.b1=function(){const i=new Float64Array(16);return Pt(i),i},A.b2=function(){return new Float64Array(16)},A.b3=function(i,t,r){const s=new Float64Array(4);return function(g,v,b,I){var P=.5*Math.PI/180;v*=P,b*=P,I*=P;var R=Math.sin(v),G=Math.cos(v),N=Math.sin(b),H=Math.cos(b),Y=Math.sin(I),ee=Math.cos(I);g[0]=R*H*ee-G*N*Y,g[1]=G*N*ee+R*H*Y,g[2]=G*H*Y-R*N*ee,g[3]=G*H*ee+R*N*Y}(s,i,t-90,r),s},A.b4=function(i,t,r,s){var g,v,b,I,P,R=t[0],G=t[1],N=t[2],H=t[3],Y=r[0],ee=r[1],se=r[2],ve=r[3];return(v=R*Y+G*ee+N*se+H*ve)<0&&(v=-v,Y=-Y,ee=-ee,se=-se,ve=-ve),1-v>Ge?(g=Math.acos(v),b=Math.sin(g),I=Math.sin((1-s)*g)/b,P=Math.sin(s*g)/b):(I=1-s,P=s),i[0]=I*R+P*Y,i[1]=I*G+P*ee,i[2]=I*N+P*se,i[3]=I*H+P*ve,i},A.b5=function(i){const t=new Float64Array(9);var r,s,g,v,b,I,P,R,G,N,H,Y,ee,se,ve,Ie,qe,Ue;N=(g=(s=i)[0])*(P=g+g),H=(v=s[1])*P,ee=(b=s[2])*P,se=b*(R=v+v),Ie=(I=s[3])*P,qe=I*R,Ue=I*(G=b+b),(r=t)[0]=1-(Y=v*R)-(ve=b*G),r[3]=H-Ue,r[6]=ee+qe,r[1]=H+Ue,r[4]=1-N-ve,r[7]=se-Ie,r[2]=ee-qe,r[5]=se+Ie,r[8]=1-N-Y;const K=ti(-Math.asin(kt(t[2],-1,1)));let me,Oe;return Math.hypot(t[5],t[8])<.001?(me=0,Oe=-ti(Math.atan2(t[3],t[4]))):(me=ti(t[5]===0&&t[8]===0?0:Math.atan2(t[5],t[8])),Oe=ti(t[1]===0&&t[0]===0?0:Math.atan2(t[1],t[0]))),{roll:me,pitch:K+90,bearing:Oe}},A.b6=function(i,t){return i.roll==t.roll&&i.pitch==t.pitch&&i.bearing==t.bearing},A.b7=er,A.b8=Jc,A.b9=Tl,A.bA=function(i){if(i.type==="custom")return new ry(i);switch(i.type){case"background":return new ai(i);case"circle":return new Nh(i);case"fill":return new no(i);case"fill-extrusion":return new ud(i);case"heatmap":return new Ho(i);case"hillshade":return new id(i);case"line":return new Vd(i);case"raster":return new ny(i);case"symbol":return new Jn(i)}},A.bB=Nn,A.bC=function(i,t){if(!i)return[{command:"setStyle",args:[t]}];let r=[];try{if(!at(i.version,t.version))return[{command:"setStyle",args:[t]}];at(i.center,t.center)||r.push({command:"setCenter",args:[t.center]}),at(i.state,t.state)||r.push({command:"setGlobalState",args:[t.state]}),at(i.centerAltitude,t.centerAltitude)||r.push({command:"setCenterAltitude",args:[t.centerAltitude]}),at(i.zoom,t.zoom)||r.push({command:"setZoom",args:[t.zoom]}),at(i.bearing,t.bearing)||r.push({command:"setBearing",args:[t.bearing]}),at(i.pitch,t.pitch)||r.push({command:"setPitch",args:[t.pitch]}),at(i.roll,t.roll)||r.push({command:"setRoll",args:[t.roll]}),at(i.sprite,t.sprite)||r.push({command:"setSprite",args:[t.sprite]}),at(i.glyphs,t.glyphs)||r.push({command:"setGlyphs",args:[t.glyphs]}),at(i.transition,t.transition)||r.push({command:"setTransition",args:[t.transition]}),at(i.light,t.light)||r.push({command:"setLight",args:[t.light]}),at(i.terrain,t.terrain)||r.push({command:"setTerrain",args:[t.terrain]}),at(i.sky,t.sky)||r.push({command:"setSky",args:[t.sky]}),at(i.projection,t.projection)||r.push({command:"setProjection",args:[t.projection]});const s={},g=[];(function(b,I,P,R){let G;for(G in I=I||{},b=b||{})Object.prototype.hasOwnProperty.call(b,G)&&(Object.prototype.hasOwnProperty.call(I,G)||Rt(G,P,R));for(G in I)Object.prototype.hasOwnProperty.call(I,G)&&(Object.prototype.hasOwnProperty.call(b,G)?at(b[G],I[G])||(b[G].type==="geojson"&&I[G].type==="geojson"&&hn(b,I,G)?pt(P,{command:"setGeoJSONSourceData",args:[G,I[G].data]}):Qt(G,I,P,R)):tt(G,I,P))})(i.sources,t.sources,g,s);const v=[];i.layers&&i.layers.forEach(b=>{"source"in b&&s[b.source]?r.push({command:"removeLayer",args:[b.id]}):v.push(b)}),r=r.concat(g),function(b,I,P){I=I||[];const R=(b=b||[]).map(Xn),G=I.map(Xn),N=b.reduce(On,{}),H=I.reduce(On,{}),Y=R.slice(),ee=Object.create(null);let se,ve,Ie,qe,Ue;for(let K=0,me=0;K<R.length;K++)se=R[K],Object.prototype.hasOwnProperty.call(H,se)?me++:(pt(P,{command:"removeLayer",args:[se]}),Y.splice(Y.indexOf(se,me),1));for(let K=0,me=0;K<G.length;K++)se=G[G.length-1-K],Y[Y.length-1-K]!==se&&(Object.prototype.hasOwnProperty.call(N,se)?(pt(P,{command:"removeLayer",args:[se]}),Y.splice(Y.lastIndexOf(se,Y.length-me),1)):me++,qe=Y[Y.length-K],pt(P,{command:"addLayer",args:[H[se],qe]}),Y.splice(Y.length-K,0,se),ee[se]=!0);for(let K=0;K<G.length;K++)if(se=G[K],ve=N[se],Ie=H[se],!ee[se]&&!at(ve,Ie))if(at(ve.source,Ie.source)&&at(ve["source-layer"],Ie["source-layer"])&&at(ve.type,Ie.type)){for(Ue in Tn(ve.layout,Ie.layout,P,se,null,"setLayoutProperty"),Tn(ve.paint,Ie.paint,P,se,null,"setPaintProperty"),at(ve.filter,Ie.filter)||pt(P,{command:"setFilter",args:[se,Ie.filter]}),at(ve.minzoom,Ie.minzoom)&&at(ve.maxzoom,Ie.maxzoom)||pt(P,{command:"setLayerZoomRange",args:[se,Ie.minzoom,Ie.maxzoom]}),ve)Object.prototype.hasOwnProperty.call(ve,Ue)&&Ue!=="layout"&&Ue!=="paint"&&Ue!=="filter"&&Ue!=="metadata"&&Ue!=="minzoom"&&Ue!=="maxzoom"&&(Ue.indexOf("paint.")===0?Tn(ve[Ue],Ie[Ue],P,se,Ue.slice(6),"setPaintProperty"):at(ve[Ue],Ie[Ue])||pt(P,{command:"setLayerProperty",args:[se,Ue,Ie[Ue]]}));for(Ue in Ie)Object.prototype.hasOwnProperty.call(Ie,Ue)&&!Object.prototype.hasOwnProperty.call(ve,Ue)&&Ue!=="layout"&&Ue!=="paint"&&Ue!=="filter"&&Ue!=="metadata"&&Ue!=="minzoom"&&Ue!=="maxzoom"&&(Ue.indexOf("paint.")===0?Tn(ve[Ue],Ie[Ue],P,se,Ue.slice(6),"setPaintProperty"):at(ve[Ue],Ie[Ue])||pt(P,{command:"setLayerProperty",args:[se,Ue,Ie[Ue]]}))}else pt(P,{command:"removeLayer",args:[se]}),qe=Y[Y.lastIndexOf(se)+1],pt(P,{command:"addLayer",args:[Ie,qe]})}(v,t.layers,r)}catch(s){console.warn("Unable to compute style diff:",s),r=[{command:"setStyle",args:[t]}]}return r},A.bD=function(i){const t=[],r=i.id;return r===void 0&&t.push({message:`layers.${r}: missing required property "id"`}),i.render===void 0&&t.push({message:`layers.${r}: missing required method "render"`}),i.renderingMode&&i.renderingMode!=="2d"&&i.renderingMode!=="3d"&&t.push({message:`layers.${r}: property "renderingMode" must be either "2d" or "3d"`}),t},A.bE=function i(t,r){if(Array.isArray(t)){if(!Array.isArray(r)||t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(!i(t[s],r[s]))return!1;return!0}if(typeof t=="object"&&t!==null&&r!==null){if(typeof r!="object"||Object.keys(t).length!==Object.keys(r).length)return!1;for(const s in t)if(!i(t[s],r[s]))return!1;return!0}return t===r},A.bF=Rn,A.bG=An,A.bH=class extends _i{constructor(i,t){super(i,t),this.current=0}set(i){this.current!==i&&(this.current=i,this.gl.uniform1i(this.location,i))}},A.bI=eh,A.bJ=class extends _i{constructor(i,t){super(i,t),this.current=Wo}set(i){if(i[12]!==this.current[12]||i[0]!==this.current[0])return this.current=i,void this.gl.uniformMatrix4fv(this.location,!1,i);for(let t=1;t<16;t++)if(i[t]!==this.current[t]){this.current=i,this.gl.uniformMatrix4fv(this.location,!1,i);break}}},A.bK=Bh,A.bL=class extends _i{constructor(i,t){super(i,t),this.current=[0,0,0]}set(i){i[0]===this.current[0]&&i[1]===this.current[1]&&i[2]===this.current[2]||(this.current=i,this.gl.uniform3f(this.location,i[0],i[1],i[2]))}},A.bM=class extends _i{constructor(i,t){super(i,t),this.current=[0,0]}set(i){i[0]===this.current[0]&&i[1]===this.current[1]||(this.current=i,this.gl.uniform2f(this.location,i[0],i[1]))}},A.bN=ot,A.bO=function(i,t){var r=Math.sin(t),s=Math.cos(t);return i[0]=s,i[1]=r,i[2]=0,i[3]=-r,i[4]=s,i[5]=0,i[6]=0,i[7]=0,i[8]=1,i},A.bP=function(i,t,r){var s=t[0],g=t[1],v=t[2];return i[0]=s*r[0]+g*r[3]+v*r[6],i[1]=s*r[1]+g*r[4]+v*r[7],i[2]=s*r[2]+g*r[5]+v*r[8],i},A.bQ=function(i,t,r,s,g,v,b){var I=1/(t-r),P=1/(s-g),R=1/(v-b);return i[0]=-2*I,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=-2*P,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=2*R,i[11]=0,i[12]=(t+r)*I,i[13]=(g+s)*P,i[14]=(b+v)*R,i[15]=1,i},A.bR=class extends _i{constructor(i,t){super(i,t),this.current=new Array}set(i){if(i!=this.current){this.current=i;const t=new Float32Array(4*i.length);for(let r=0;r<i.length;r++)t[4*r]=i[r].r,t[4*r+1]=i[r].g,t[4*r+2]=i[r].b,t[4*r+3]=i[r].a;this.gl.uniform4fv(this.location,t)}}},A.bS=class extends _i{constructor(i,t){super(i,t),this.current=new Array}set(i){if(i!=this.current){this.current=i;const t=new Float32Array(i);this.gl.uniform1fv(this.location,t)}}},A.bT=class extends y{},A.bU=Af,A.bV=class extends T{},A.bW=Cp,A.bX=function(i){return i<=1?1:Math.pow(2,Math.ceil(Math.log(i)/Math.LN2))},A.bY=Kl,A.bZ=function(i,t,r){var s=t[0],g=t[1],v=t[2],b=r[3]*s+r[7]*g+r[11]*v+r[15];return i[0]=(r[0]*s+r[4]*g+r[8]*v+r[12])/(b=b||1),i[1]=(r[1]*s+r[5]*g+r[9]*v+r[13])/b,i[2]=(r[2]*s+r[6]*g+r[10]*v+r[14])/b,i},A.b_=class extends ja{},A.ba=hh,A.bb=ec,A.bc=We,A.bd=St,A.be=uo,A.bf=function(i,t,r,s,g){return We(s,g,kt((i-t)/(r-t),0,1))},A.bg=Ot,A.bh=function(){return new Float64Array(3)},A.bi=function(i,t,r,s){return i[0]=t[0]+r[0]*s,i[1]=t[1]+r[1]*s,i[2]=t[2]+r[2]*s,i},A.bj=Wt,A.bk=function(){return new Float64Array(4)},A.bl=function(i,t,r,s){var g=[],v=[];return g[0]=t[0]-r[0],g[1]=t[1]-r[1],g[2]=t[2]-r[2],v[0]=g[0]*Math.cos(s)-g[1]*Math.sin(s),v[1]=g[0]*Math.sin(s)+g[1]*Math.cos(s),v[2]=g[2],i[0]=v[0]+r[0],i[1]=v[1]+r[1],i[2]=v[2]+r[2],i},A.bm=function(i,t,r,s){var g=[],v=[];return g[0]=t[0]-r[0],g[1]=t[1]-r[1],g[2]=t[2]-r[2],v[0]=g[0],v[1]=g[1]*Math.cos(s)-g[2]*Math.sin(s),v[2]=g[1]*Math.sin(s)+g[2]*Math.cos(s),i[0]=v[0]+r[0],i[1]=v[1]+r[1],i[2]=v[2]+r[2],i},A.bn=function(i,t,r,s){var g=[],v=[];return g[0]=t[0]-r[0],g[1]=t[1]-r[1],g[2]=t[2]-r[2],v[0]=g[2]*Math.sin(s)+g[0]*Math.cos(s),v[1]=g[1],v[2]=g[2]*Math.cos(s)-g[0]*Math.sin(s),i[0]=v[0]+r[0],i[1]=v[1]+r[1],i[2]=v[2]+r[2],i},A.bo=ye,A.bp=function(i,t,r){var s=Math.sin(r),g=Math.cos(r),v=t[0],b=t[1],I=t[2],P=t[3],R=t[8],G=t[9],N=t[10],H=t[11];return t!==i&&(i[4]=t[4],i[5]=t[5],i[6]=t[6],i[7]=t[7],i[12]=t[12],i[13]=t[13],i[14]=t[14],i[15]=t[15]),i[0]=v*g-R*s,i[1]=b*g-G*s,i[2]=I*g-N*s,i[3]=P*g-H*s,i[8]=v*s+R*g,i[9]=b*s+G*g,i[10]=I*s+N*g,i[11]=P*s+H*g,i},A.bq=function(i,t){const r=Ot(i,360),s=Ot(t,360),g=s-r,v=s>r?g-360:g+360;return Math.abs(g)<Math.abs(v)?g:v},A.br=function(i){return i[0]=0,i[1]=0,i[2]=0,i},A.bs=function(i,t,r,s){const g=Math.sqrt(i*i+t*t),v=Math.sqrt(r*r+s*s);i/=g,t/=g,r/=v,s/=v;const b=Math.acos(i*r+t*s);return-t*r+i*s>0?b:-b},A.bt=function(i,t){return i[0]*t[0]+i[1]*t[1]+i[2]*t[2]+i[3]},A.bu=Tf,A.bv=function(i,t){const r=Ot(i,2*Math.PI),s=Ot(t,2*Math.PI);return Math.min(Math.abs(r-s),Math.abs(r-s+2*Math.PI),Math.abs(r-s-2*Math.PI))},A.bw=function(){const i={},t=ge.$version;for(const r in ge.$root){const s=ge.$root[r];if(s.required){let g=null;g=r==="version"?t:s.type==="array"?[]:{},g!=null&&(i[r]=g)}}return i},A.bx=Xs,A.by=ni,A.bz=function(i){i=i.slice();const t=Object.create(null);for(let r=0;r<i.length;r++)t[i[r].id]=i[r];for(let r=0;r<i.length;r++)"ref"in i[r]&&(i[r]=Ye(i[r],t[i[r].ref]));return i},A.c=Yr,A.c0=function(i,t){return i[0]===t[0]&&i[1]===t[1]&&i[2]===t[2]&&i[3]===t[3]&&i[4]===t[4]&&i[5]===t[5]&&i[6]===t[6]&&i[7]===t[7]&&i[8]===t[8]&&i[9]===t[9]&&i[10]===t[10]&&i[11]===t[11]&&i[12]===t[12]&&i[13]===t[13]&&i[14]===t[14]&&i[15]===t[15]},A.c1=function(i,t){var r=i[0],s=i[1],g=i[2],v=i[3],b=i[4],I=i[5],P=i[6],R=i[7],G=i[8],N=i[9],H=i[10],Y=i[11],ee=i[12],se=i[13],ve=i[14],Ie=i[15],qe=t[0],Ue=t[1],K=t[2],me=t[3],Oe=t[4],ft=t[5],jt=t[6],xt=t[7],Tt=t[8],Xt=t[9],Zt=t[10],Kt=t[11],Et=t[12],In=t[13],qn=t[14],Wn=t[15];return Math.abs(r-qe)<=Ge*Math.max(1,Math.abs(r),Math.abs(qe))&&Math.abs(s-Ue)<=Ge*Math.max(1,Math.abs(s),Math.abs(Ue))&&Math.abs(g-K)<=Ge*Math.max(1,Math.abs(g),Math.abs(K))&&Math.abs(v-me)<=Ge*Math.max(1,Math.abs(v),Math.abs(me))&&Math.abs(b-Oe)<=Ge*Math.max(1,Math.abs(b),Math.abs(Oe))&&Math.abs(I-ft)<=Ge*Math.max(1,Math.abs(I),Math.abs(ft))&&Math.abs(P-jt)<=Ge*Math.max(1,Math.abs(P),Math.abs(jt))&&Math.abs(R-xt)<=Ge*Math.max(1,Math.abs(R),Math.abs(xt))&&Math.abs(G-Tt)<=Ge*Math.max(1,Math.abs(G),Math.abs(Tt))&&Math.abs(N-Xt)<=Ge*Math.max(1,Math.abs(N),Math.abs(Xt))&&Math.abs(H-Zt)<=Ge*Math.max(1,Math.abs(H),Math.abs(Zt))&&Math.abs(Y-Kt)<=Ge*Math.max(1,Math.abs(Y),Math.abs(Kt))&&Math.abs(ee-Et)<=Ge*Math.max(1,Math.abs(ee),Math.abs(Et))&&Math.abs(se-In)<=Ge*Math.max(1,Math.abs(se),Math.abs(In))&&Math.abs(ve-qn)<=Ge*Math.max(1,Math.abs(ve),Math.abs(qn))&&Math.abs(Ie-Wn)<=Ge*Math.max(1,Math.abs(Ie),Math.abs(Wn))},A.c2=function(i,t){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4],i[5]=t[5],i[6]=t[6],i[7]=t[7],i[8]=t[8],i[9]=t[9],i[10]=t[10],i[11]=t[11],i[12]=t[12],i[13]=t[13],i[14]=t[14],i[15]=t[15],i},A.c3=i=>i.type==="symbol",A.c4=i=>i.type==="circle",A.c5=i=>i.type==="heatmap",A.c6=i=>i.type==="line",A.c7=i=>i.type==="fill",A.c8=i=>i.type==="fill-extrusion",A.c9=i=>i.type==="hillshade",A.cA=Da,A.cB=Ac,A.cC=ro,A.cD=Ml,A.cE=class{constructor(i){this._marks={start:[i.url,"start"].join("#"),end:[i.url,"end"].join("#"),measure:i.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let i=performance.getEntriesByName(this._marks.measure);return i.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),i=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),i}},A.cF=function(i,t,r,s,g){return l(this,void 0,void 0,function*(){if(Me())try{return yield Gi(i,t,r,s,g)}catch{}return function(v,b,I,P,R){const G=v.width,N=v.height;vr&&lr||(vr=new OffscreenCanvas(G,N),lr=vr.getContext("2d",{willReadFrequently:!0})),vr.width=G,vr.height=N,lr.drawImage(v,0,0,G,N);const H=lr.getImageData(b,I,P,R);return lr.clearRect(0,0,G,N),H.data}(i,t,r,s,g)})},A.cG=zg,A.cH=V,A.cI=te,A.cJ=Du,A.cK=Hd,A.cL=ml,A.cM=Vl,A.ca=i=>i.type==="raster",A.cb=i=>i.type==="background",A.cc=i=>i.type==="custom",A.cd=mn,A.ce=function(i,t,r){const s=dn(t.x-r.x,t.y-r.y),g=dn(i.x-r.x,i.y-r.y);var v,b;return ti(Math.atan2(s[0]*g[1]-s[1]*g[0],(v=s)[0]*(b=g)[0]+v[1]*b[1]))},A.cf=cn,A.cg=function(i,t){return Ga[t]&&(i instanceof MouseEvent||i instanceof WheelEvent)},A.ch=function(i,t){return Vi[t]&&"touches"in i},A.ci=function(i){return Vi[i]||Ga[i]},A.cj=function(i,t,r){var s=t[0],g=t[1];return i[0]=r[0]*s+r[4]*g+r[12],i[1]=r[1]*s+r[5]*g+r[13],i},A.ck=function(i,t){const{x:r,y:s}=xd.fromLngLat(t);return!(i<0||i>25||s<0||s>=1||r<0||r>=1)},A.cl=function(i,t){return i[0]=t[0],i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=t[1],i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=t[2],i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i},A.cm=class extends Ms{},A.cn=ly,A.cp=function(i){return i.message===Zi},A.cq=wi,A.cr=function(i,t){Li.REGISTERED_PROTOCOLS[i]=t},A.cs=function(i){delete Li.REGISTERED_PROTOCOLS[i]},A.ct=function(i,t){const r={};for(let g=0;g<i.length;g++){const v=t&&t[i[g].id]||su(i[g]);t&&(t[i[g].id]=v);let b=r[v];b||(b=r[v]=[]),b.push(i[g])}const s=[];for(const g in r)s.push(r[g]);return s},A.cu=un,A.cv=Gg,A.cw=Bg,A.cx=yd,A.cy=function(i){i.bucket.createArrays(),i.bucket.tilePixelRatio=yt/(512*i.bucket.overscaling),i.bucket.compareText={},i.bucket.iconsNeedLinear=!1;const t=i.bucket.layers[0],r=t.layout,s=t._unevaluatedLayout._values,g={layoutIconSize:s["icon-size"].possiblyEvaluate(new ri(i.bucket.zoom+1),i.canonical),layoutTextSize:s["text-size"].possiblyEvaluate(new ri(i.bucket.zoom+1),i.canonical),textMaxSize:s["text-size"].possiblyEvaluate(new ri(18))};if(i.bucket.textSizeData.kind==="composite"){const{minZoom:R,maxZoom:G}=i.bucket.textSizeData;g.compositeTextSizes=[s["text-size"].possiblyEvaluate(new ri(R),i.canonical),s["text-size"].possiblyEvaluate(new ri(G),i.canonical)]}if(i.bucket.iconSizeData.kind==="composite"){const{minZoom:R,maxZoom:G}=i.bucket.iconSizeData;g.compositeIconSizes=[s["icon-size"].possiblyEvaluate(new ri(R),i.canonical),s["icon-size"].possiblyEvaluate(new ri(G),i.canonical)]}const v=r.get("text-line-height")*Pa,b=r.get("text-rotation-alignment")!=="viewport"&&r.get("symbol-placement")!=="point",I=r.get("text-keep-upright"),P=r.get("text-size");for(const R of i.bucket.features){const G=r.get("text-font").evaluate(R,{},i.canonical).join(","),N=P.evaluate(R,{},i.canonical),H=g.layoutTextSize.evaluate(R,{},i.canonical),Y=g.layoutIconSize.evaluate(R,{},i.canonical),ee={horizontal:{},vertical:void 0},se=R.text;let ve,Ie=[0,0];if(se){const K=se.toString(),me=r.get("text-letter-spacing").evaluate(R,{},i.canonical)*Pa,Oe=xp(K)?me:0,ft=r.get("text-anchor").evaluate(R,{},i.canonical),jt=kf(t,R,i.canonical);if(!jt){const Zt=r.get("text-radial-offset").evaluate(R,{},i.canonical);Ie=Zt?jg(ft,[Zt*Pa,Ef]):r.get("text-offset").evaluate(R,{},i.canonical).map(Kt=>Kt*Pa)}let xt=b?"center":r.get("text-justify").evaluate(R,{},i.canonical);const Tt=r.get("symbol-placement")==="point"?r.get("text-max-width").evaluate(R,{},i.canonical)*Pa:1/0,Xt=()=>{i.bucket.allowVerticalPlacement&&$l(K)&&(ee.vertical=_h(se,i.glyphMap,i.glyphPositions,i.imagePositions,G,Tt,v,ft,"left",Oe,Ie,A.al.vertical,!0,H,N))};if(!b&&jt){const Zt=new Set;if(xt==="auto")for(let Et=0;Et<jt.values.length;Et+=2)Zt.add(Tu(jt.values[Et]));else Zt.add(xt);let Kt=!1;for(const Et of Zt)if(!ee.horizontal[Et])if(Kt)ee.horizontal[Et]=ee.horizontal[0];else{const In=_h(se,i.glyphMap,i.glyphPositions,i.imagePositions,G,Tt,v,"center",Et,Oe,Ie,A.al.horizontal,!1,H,N);In&&(ee.horizontal[Et]=In,Kt=In.positionedLines.length===1)}Xt()}else{xt==="auto"&&(xt=Tu(ft));const Zt=_h(se,i.glyphMap,i.glyphPositions,i.imagePositions,G,Tt,v,ft,xt,Oe,Ie,A.al.horizontal,!1,H,N);Zt&&(ee.horizontal[xt]=Zt),Xt(),$l(K)&&b&&I&&(ee.vertical=_h(se,i.glyphMap,i.glyphPositions,i.imagePositions,G,Tt,v,ft,xt,Oe,Ie,A.al.vertical,!1,H,N))}}let qe=!1;if(R.icon&&R.icon.name){const K=i.imageMap[R.icon.name];K&&(ve=S(i.imagePositions[R.icon.name],r.get("icon-offset").evaluate(R,{},i.canonical),r.get("icon-anchor").evaluate(R,{},i.canonical)),qe=!!K.sdf,i.bucket.sdfIcons===void 0?i.bucket.sdfIcons=qe:i.bucket.sdfIcons!==qe&&Hn("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(K.pixelRatio!==i.bucket.pixelRatio||r.get("icon-rotate").constantOr(1)!==0)&&(i.bucket.iconsNeedLinear=!0))}const Ue=f0(ee.horizontal)||ee.vertical;i.bucket.iconsInText=!!Ue&&Ue.iconsInText,(Ue||ve)&&kr(i.bucket,R,ee,ve,i.imageMap,g,H,Y,Ie,qe,i.canonical,i.subdivisionGranularity)}i.showCollisionBoxes&&i.bucket.generateCollisionDebugBuffers()},A.cz=Mp,A.d=Fe,A.e=wn,A.f=i=>l(void 0,void 0,void 0,function*(){if(i.byteLength===0)return createImageBitmap(new ImageData(1,1));const t=new Blob([new Uint8Array(i)],{type:"image/png"});try{return createImageBitmap(t)}catch(r){throw new Error(`Could not load image because of ${r.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}}),A.g=bi,A.h=i=>new Promise((t,r)=>{const s=new Image;s.onload=()=>{t(s),URL.revokeObjectURL(s.src),s.onload=null,window.requestAnimationFrame(()=>{s.src=Xr})},s.onerror=()=>r(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const g=new Blob([new Uint8Array(i)],{type:"image/png"});s.src=i.byteLength?URL.createObjectURL(g):Xr}),A.i=yr,A.j=(i,t)=>ma(wn(i,{type:"json"}),t),A.k=Te,A.l=_e,A.m=ma,A.n=(i,t)=>ma(wn(i,{type:"arrayBuffer"}),t),A.o=function(i){return new Ml(i).readFields(Pc,[])},A.p=qd,A.q=ql,A.r=Ri,A.s=Dn,A.t=Ks,A.u=sr,A.v=ge,A.w=Hn,A.x=l0,A.y=cu,A.z=function([i,t,r]){return t+=90,t*=Math.PI/180,r*=Math.PI/180,{x:i*Math.cos(t)*Math.sin(r),y:i*Math.sin(t)*Math.sin(r),z:i*Math.cos(r)}}}),C("worker",["./shared"],function(A){class l{constructor(ne){this.keyCache={},ne&&this.replace(ne)}replace(ne){this._layerConfigs={},this._layers={},this.update(ne,[])}update(ne,ae){for(const Te of ne){this._layerConfigs[Te.id]=Te;const Ze=this._layers[Te.id]=A.bA(Te);Ze._featureFilter=A.a7(Ze.filter),this.keyCache[Te.id]&&delete this.keyCache[Te.id]}for(const Te of ae)delete this.keyCache[Te],delete this._layerConfigs[Te],delete this._layers[Te];this.familiesBySource={};const _e=A.ct(Object.values(this._layerConfigs),this.keyCache);for(const Te of _e){const Ze=Te.map(tt=>this._layers[tt.id]),ge=Ze[0];if(ge.visibility==="none")continue;const Je=ge.source||"";let Ye=this.familiesBySource[Je];Ye||(Ye=this.familiesBySource[Je]={});const at=ge.sourceLayer||"_geojsonTileLayer";let pt=Ye[at];pt||(pt=Ye[at]=[]),pt.push(Ze)}}}class V{constructor(ne){const ae={},_e=[];for(const Je in ne){const Ye=ne[Je],at=ae[Je]={};for(const pt in Ye){const tt=Ye[+pt];if(!tt||tt.bitmap.width===0||tt.bitmap.height===0)continue;const Rt={x:0,y:0,w:tt.bitmap.width+2,h:tt.bitmap.height+2};_e.push(Rt),at[pt]={rect:Rt,metrics:tt.metrics}}}const{w:Te,h:Ze}=A.p(_e),ge=new A.q({width:Te||1,height:Ze||1});for(const Je in ne){const Ye=ne[Je];for(const at in Ye){const pt=Ye[+at];if(!pt||pt.bitmap.width===0||pt.bitmap.height===0)continue;const tt=ae[Je][at].rect;A.q.copy(pt.bitmap,ge,{x:0,y:0},{x:tt.x+1,y:tt.y+1},pt.bitmap)}}this.image=ge,this.positions=ae}}A.cu("GlyphAtlas",V);class q{constructor(ne){this.tileID=new A.Y(ne.tileID.overscaledZ,ne.tileID.wrap,ne.tileID.canonical.z,ne.tileID.canonical.x,ne.tileID.canonical.y),this.uid=ne.uid,this.zoom=ne.zoom,this.pixelRatio=ne.pixelRatio,this.tileSize=ne.tileSize,this.source=ne.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=ne.showCollisionBoxes,this.collectResourceTiming=!!ne.collectResourceTiming,this.returnDependencies=!!ne.returnDependencies,this.promoteId=ne.promoteId,this.inFlightDependencies=[]}parse(ne,ae,_e,Te,Ze){return A._(this,void 0,void 0,function*(){this.status="parsing",this.data=ne,this.collisionBoxArray=new A.a5;const ge=new A.cv(Object.keys(ne.layers).sort()),Je=new A.cw(this.tileID,this.promoteId);Je.bucketLayerIDs=[];const Ye={},at={featureIndex:Je,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:_e,subdivisionGranularity:Ze},pt=ae.familiesBySource[this.source];for(const Ln in pt){const zt=ne.layers[Ln];if(!zt)continue;zt.version===1&&A.w(`Vector tile source "${this.source}" layer "${Ln}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Gn=ge.encode(Ln),nr=[];for(let Nr=0;Nr<zt.length;Nr++){const $r=zt.feature(Nr),Ia=Je.getId($r,Ln);nr.push({feature:$r,id:Ia,index:Nr,sourceLayerIndex:Gn})}for(const Nr of pt[Ln]){const $r=Nr[0];$r.source!==this.source&&A.w(`layer.source = ${$r.source} does not equal this.source = ${this.source}`),$r.minzoom&&this.zoom<Math.floor($r.minzoom)||$r.maxzoom&&this.zoom>=$r.maxzoom||$r.visibility!=="none"&&(ue(Nr,this.zoom,_e),(Ye[$r.id]=$r.createBucket({index:Je.bucketLayerIDs.length,layers:Nr,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Gn,sourceID:this.source})).populate(nr,at,this.tileID.canonical),Je.bucketLayerIDs.push(Nr.map(Ia=>Ia.id)))}}const tt=A.bF(at.glyphDependencies,Ln=>Object.keys(Ln).map(Number));this.inFlightDependencies.forEach(Ln=>Ln==null?void 0:Ln.abort()),this.inFlightDependencies=[];let Rt=Promise.resolve({});if(Object.keys(tt).length){const Ln=new AbortController;this.inFlightDependencies.push(Ln),Rt=Te.sendAsync({type:"GG",data:{stacks:tt,source:this.source,tileID:this.tileID,type:"glyphs"}},Ln)}const Qt=Object.keys(at.iconDependencies);let hn=Promise.resolve({});if(Qt.length){const Ln=new AbortController;this.inFlightDependencies.push(Ln),hn=Te.sendAsync({type:"GI",data:{icons:Qt,source:this.source,tileID:this.tileID,type:"icons"}},Ln)}const Tn=Object.keys(at.patternDependencies);let Xn=Promise.resolve({});if(Tn.length){const Ln=new AbortController;this.inFlightDependencies.push(Ln),Xn=Te.sendAsync({type:"GI",data:{icons:Tn,source:this.source,tileID:this.tileID,type:"patterns"}},Ln)}const[On,wt,br]=yield Promise.all([Rt,hn,Xn]),dr=new V(On),wr=new A.cx(wt,br);for(const Ln in Ye){const zt=Ye[Ln];zt instanceof A.a6?(ue(zt.layers,this.zoom,_e),A.cy({bucket:zt,glyphMap:On,glyphPositions:dr.positions,imageMap:wt,imagePositions:wr.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical,subdivisionGranularity:at.subdivisionGranularity})):zt.hasPattern&&(zt instanceof A.cz||zt instanceof A.cA||zt instanceof A.cB)&&(ue(zt.layers,this.zoom,_e),zt.addFeatures(at,this.tileID.canonical,wr.patternPositions))}return this.status="done",{buckets:Object.values(Ye).filter(Ln=>!Ln.isEmpty()),featureIndex:Je,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:dr.image,imageAtlas:wr,glyphMap:this.returnDependencies?On:null,iconMap:this.returnDependencies?wt:null,glyphPositions:this.returnDependencies?dr.positions:null}})}}function ue(Fe,ne,ae){const _e=new A.C(ne);for(const Te of Fe)Te.recalculate(_e,ae)}class te{constructor(ne,ae,_e){this.actor=ne,this.layerIndex=ae,this.availableImages=_e,this.fetching={},this.loading={},this.loaded={}}loadVectorTile(ne,ae){return A._(this,void 0,void 0,function*(){const _e=yield A.n(ne.request,ae);try{return{vectorTile:new A.cC.VectorTile(new A.cD(_e.data)),rawData:_e.data,cacheControl:_e.cacheControl,expires:_e.expires}}catch(Te){const Ze=new Uint8Array(_e.data);let ge=`Unable to parse the tile at ${ne.request.url}, `;throw ge+=Ze[0]===31&&Ze[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${Te.message}`,new Error(ge)}})}loadTile(ne){return A._(this,void 0,void 0,function*(){const ae=ne.uid,_e=!!(ne&&ne.request&&ne.request.collectResourceTiming)&&new A.cE(ne.request),Te=new q(ne);this.loading[ae]=Te;const Ze=new AbortController;Te.abort=Ze;try{const ge=yield this.loadVectorTile(ne,Ze);if(delete this.loading[ae],!ge)return null;const Je=ge.rawData,Ye={};ge.expires&&(Ye.expires=ge.expires),ge.cacheControl&&(Ye.cacheControl=ge.cacheControl);const at={};if(_e){const tt=_e.finish();tt&&(at.resourceTiming=JSON.parse(JSON.stringify(tt)))}Te.vectorTile=ge.vectorTile;const pt=Te.parse(ge.vectorTile,this.layerIndex,this.availableImages,this.actor,ne.subdivisionGranularity);this.loaded[ae]=Te,this.fetching[ae]={rawTileData:Je,cacheControl:Ye,resourceTiming:at};try{const tt=yield pt;return A.e({rawTileData:Je.slice(0)},tt,Ye,at)}finally{delete this.fetching[ae]}}catch(ge){throw delete this.loading[ae],Te.status="done",this.loaded[ae]=Te,ge}})}reloadTile(ne){return A._(this,void 0,void 0,function*(){const ae=ne.uid;if(!this.loaded||!this.loaded[ae])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");const _e=this.loaded[ae];if(_e.showCollisionBoxes=ne.showCollisionBoxes,_e.status==="parsing"){const Te=yield _e.parse(_e.vectorTile,this.layerIndex,this.availableImages,this.actor,ne.subdivisionGranularity);let Ze;if(this.fetching[ae]){const{rawTileData:ge,cacheControl:Je,resourceTiming:Ye}=this.fetching[ae];delete this.fetching[ae],Ze=A.e({rawTileData:ge.slice(0)},Te,Je,Ye)}else Ze=Te;return Ze}if(_e.status==="done"&&_e.vectorTile)return _e.parse(_e.vectorTile,this.layerIndex,this.availableImages,this.actor,ne.subdivisionGranularity)})}abortTile(ne){return A._(this,void 0,void 0,function*(){const ae=this.loading,_e=ne.uid;ae&&ae[_e]&&ae[_e].abort&&(ae[_e].abort.abort(),delete ae[_e])})}removeTile(ne){return A._(this,void 0,void 0,function*(){this.loaded&&this.loaded[ne.uid]&&delete this.loaded[ne.uid]})}}class ce{constructor(){this.loaded={}}loadTile(ne){return A._(this,void 0,void 0,function*(){const{uid:ae,encoding:_e,rawImageData:Te,redFactor:Ze,greenFactor:ge,blueFactor:Je,baseShift:Ye}=ne,at=Te.width+2,pt=Te.height+2,tt=A.b(Te)?new A.R({width:at,height:pt},yield A.cF(Te,-1,-1,at,pt)):Te,Rt=new A.cG(ae,tt,_e,Ze,ge,Je,Ye);return this.loaded=this.loaded||{},this.loaded[ae]=Rt,Rt})}removeTile(ne){const ae=this.loaded,_e=ne.uid;ae&&ae[_e]&&delete ae[_e]}}var oe,de,xe=function(){if(de)return oe;function Fe(ae,_e){if(ae.length!==0){ne(ae[0],_e);for(var Te=1;Te<ae.length;Te++)ne(ae[Te],!_e)}}function ne(ae,_e){for(var Te=0,Ze=0,ge=0,Je=ae.length,Ye=Je-1;ge<Je;Ye=ge++){var at=(ae[ge][0]-ae[Ye][0])*(ae[Ye][1]+ae[ge][1]),pt=Te+at;Ze+=Math.abs(Te)>=Math.abs(at)?Te-pt+at:at-pt+Te,Te=pt}Te+Ze>=0!=!!_e&&ae.reverse()}return de=1,oe=function ae(_e,Te){var Ze,ge=_e&&_e.type;if(ge==="FeatureCollection")for(Ze=0;Ze<_e.features.length;Ze++)ae(_e.features[Ze],Te);else if(ge==="GeometryCollection")for(Ze=0;Ze<_e.geometries.length;Ze++)ae(_e.geometries[Ze],Te);else if(ge==="Feature")ae(_e.geometry,Te);else if(ge==="Polygon")Fe(_e.coordinates,Te);else if(ge==="MultiPolygon")for(Ze=0;Ze<_e.coordinates.length;Ze++)Fe(_e.coordinates[Ze],Te);return _e}}(),Pe=A.cH(xe);const He=A.cC.VectorTileFeature.prototype.toGeoJSON;class rt{constructor(ne){this._feature=ne,this.extent=A.Z,this.type=ne.type,this.properties=ne.tags,"id"in ne&&!isNaN(ne.id)&&(this.id=parseInt(ne.id,10))}loadGeometry(){if(this._feature.type===1){const ne=[];for(const ae of this._feature.geometry)ne.push([new A.P(ae[0],ae[1])]);return ne}{const ne=[];for(const ae of this._feature.geometry){const _e=[];for(const Te of ae)_e.push(new A.P(Te[0],Te[1]));ne.push(_e)}return ne}}toGeoJSON(ne,ae,_e){return He.call(this,ne,ae,_e)}}class ze{constructor(ne){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=A.Z,this.length=ne.length,this._features=ne}feature(ne){return new rt(this._features[ne])}}var Me,Ge,je,ot={exports:{}},Pt=function(){if(je)return ot.exports;je=1;var Fe=A.cK(),ne=function(){if(Ge)return Me;Ge=1;var pt=A.cI(),tt=A.cJ().VectorTileFeature;function Rt(hn,Tn){this.options=Tn||{},this.features=hn,this.length=hn.length}function Qt(hn,Tn){this.id=typeof hn.id=="number"?hn.id:void 0,this.type=hn.type,this.rawGeometry=hn.type===1?[hn.geometry]:hn.geometry,this.properties=hn.tags,this.extent=Tn||4096}return Me=Rt,Rt.prototype.feature=function(hn){return new Qt(this.features[hn],this.options.extent)},Qt.prototype.loadGeometry=function(){var hn=this.rawGeometry;this.geometry=[];for(var Tn=0;Tn<hn.length;Tn++){for(var Xn=hn[Tn],On=[],wt=0;wt<Xn.length;wt++)On.push(new pt(Xn[wt][0],Xn[wt][1]));this.geometry.push(On)}return this.geometry},Qt.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var hn=this.geometry,Tn=1/0,Xn=-1/0,On=1/0,wt=-1/0,br=0;br<hn.length;br++)for(var dr=hn[br],wr=0;wr<dr.length;wr++){var Ln=dr[wr];Tn=Math.min(Tn,Ln.x),Xn=Math.max(Xn,Ln.x),On=Math.min(On,Ln.y),wt=Math.max(wt,Ln.y)}return[Tn,On,Xn,wt]},Qt.prototype.toGeoJSON=tt.prototype.toGeoJSON,Me}();function ae(pt){var tt=new Fe;return function(Rt,Qt){for(var hn in Rt.layers)Qt.writeMessage(3,_e,Rt.layers[hn])}(pt,tt),tt.finish()}function _e(pt,tt){var Rt;tt.writeVarintField(15,pt.version||1),tt.writeStringField(1,pt.name||""),tt.writeVarintField(5,pt.extent||4096);var Qt={keys:[],values:[],keycache:{},valuecache:{}};for(Rt=0;Rt<pt.length;Rt++)Qt.feature=pt.feature(Rt),tt.writeMessage(2,Te,Qt);var hn=Qt.keys;for(Rt=0;Rt<hn.length;Rt++)tt.writeStringField(3,hn[Rt]);var Tn=Qt.values;for(Rt=0;Rt<Tn.length;Rt++)tt.writeMessage(4,at,Tn[Rt])}function Te(pt,tt){var Rt=pt.feature;Rt.id!==void 0&&tt.writeVarintField(1,Rt.id),tt.writeMessage(2,Ze,pt),tt.writeVarintField(3,Rt.type),tt.writeMessage(4,Ye,Rt)}function Ze(pt,tt){var Rt=pt.feature,Qt=pt.keys,hn=pt.values,Tn=pt.keycache,Xn=pt.valuecache;for(var On in Rt.properties){var wt=Rt.properties[On],br=Tn[On];if(wt!==null){br===void 0&&(Qt.push(On),Tn[On]=br=Qt.length-1),tt.writeVarint(br);var dr=typeof wt;dr!=="string"&&dr!=="boolean"&&dr!=="number"&&(wt=JSON.stringify(wt));var wr=dr+":"+wt,Ln=Xn[wr];Ln===void 0&&(hn.push(wt),Xn[wr]=Ln=hn.length-1),tt.writeVarint(Ln)}}}function ge(pt,tt){return(tt<<3)+(7&pt)}function Je(pt){return pt<<1^pt>>31}function Ye(pt,tt){for(var Rt=pt.loadGeometry(),Qt=pt.type,hn=0,Tn=0,Xn=Rt.length,On=0;On<Xn;On++){var wt=Rt[On],br=1;Qt===1&&(br=wt.length),tt.writeVarint(ge(1,br));for(var dr=Qt===3?wt.length-1:wt.length,wr=0;wr<dr;wr++){wr===1&&Qt!==1&&tt.writeVarint(ge(2,dr-1));var Ln=wt[wr].x-hn,zt=wt[wr].y-Tn;tt.writeVarint(Je(Ln)),tt.writeVarint(Je(zt)),hn+=Ln,Tn+=zt}Qt===3&&tt.writeVarint(ge(7,1))}}function at(pt,tt){var Rt=typeof pt;Rt==="string"?tt.writeStringField(1,pt):Rt==="boolean"?tt.writeBooleanField(7,pt):Rt==="number"&&(pt%1!=0?tt.writeDoubleField(3,pt):pt<0?tt.writeSVarintField(6,pt):tt.writeVarintField(5,pt))}return ot.exports=ae,ot.exports.fromVectorTileJs=ae,ot.exports.fromGeojsonVt=function(pt,tt){tt=tt||{};var Rt={};for(var Qt in pt)Rt[Qt]=new ne(pt[Qt].features,tt),Rt[Qt].name=Qt,Rt[Qt].version=tt.version,Rt[Qt].extent=tt.extent;return ae({layers:Rt})},ot.exports.GeoJSONWrapper=ne,ot.exports}(),Jt=A.cH(Pt);const ye={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Fe=>Fe},Dt=Math.fround||(Mt=new Float32Array(1),Fe=>(Mt[0]=+Fe,Mt[0]));var Mt;const Wt=3,Vt=5,Nt=6;class $t{constructor(ne){this.options=Object.assign(Object.create(ye),ne),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(ne){const{log:ae,minZoom:_e,maxZoom:Te}=this.options;ae&&console.time("total time");const Ze=`prepare ${ne.length} points`;ae&&console.time(Ze),this.points=ne;const ge=[];for(let Ye=0;Ye<ne.length;Ye++){const at=ne[Ye];if(!at.geometry)continue;const[pt,tt]=at.geometry.coordinates,Rt=Dt(mt(pt)),Qt=Dt(Ot(tt));ge.push(Rt,Qt,1/0,Ye,-1,1),this.options.reduce&&ge.push(0)}let Je=this.trees[Te+1]=this._createTree(ge);ae&&console.timeEnd(Ze);for(let Ye=Te;Ye>=_e;Ye--){const at=+Date.now();Je=this.trees[Ye]=this._createTree(this._cluster(Je,Ye)),ae&&console.log("z%d: %d clusters in %dms",Ye,Je.numItems,+Date.now()-at)}return ae&&console.timeEnd("total time"),this}getClusters(ne,ae){let _e=((ne[0]+180)%360+360)%360-180;const Te=Math.max(-90,Math.min(90,ne[1]));let Ze=ne[2]===180?180:((ne[2]+180)%360+360)%360-180;const ge=Math.max(-90,Math.min(90,ne[3]));if(ne[2]-ne[0]>=360)_e=-180,Ze=180;else if(_e>Ze){const tt=this.getClusters([_e,Te,180,ge],ae),Rt=this.getClusters([-180,Te,Ze,ge],ae);return tt.concat(Rt)}const Je=this.trees[this._limitZoom(ae)],Ye=Je.range(mt(_e),Ot(ge),mt(Ze),Ot(Te)),at=Je.data,pt=[];for(const tt of Ye){const Rt=this.stride*tt;pt.push(at[Rt+Vt]>1?dn(at,Rt,this.clusterProps):this.points[at[Rt+Wt]])}return pt}getChildren(ne){const ae=this._getOriginId(ne),_e=this._getOriginZoom(ne),Te="No cluster with the specified id.",Ze=this.trees[_e];if(!Ze)throw new Error(Te);const ge=Ze.data;if(ae*this.stride>=ge.length)throw new Error(Te);const Je=this.options.radius/(this.options.extent*Math.pow(2,_e-1)),Ye=Ze.within(ge[ae*this.stride],ge[ae*this.stride+1],Je),at=[];for(const pt of Ye){const tt=pt*this.stride;ge[tt+4]===ne&&at.push(ge[tt+Vt]>1?dn(ge,tt,this.clusterProps):this.points[ge[tt+Wt]])}if(at.length===0)throw new Error(Te);return at}getLeaves(ne,ae,_e){const Te=[];return this._appendLeaves(Te,ne,ae=ae||10,_e=_e||0,0),Te}getTile(ne,ae,_e){const Te=this.trees[this._limitZoom(ne)],Ze=Math.pow(2,ne),{extent:ge,radius:Je}=this.options,Ye=Je/ge,at=(_e-Ye)/Ze,pt=(_e+1+Ye)/Ze,tt={features:[]};return this._addTileFeatures(Te.range((ae-Ye)/Ze,at,(ae+1+Ye)/Ze,pt),Te.data,ae,_e,Ze,tt),ae===0&&this._addTileFeatures(Te.range(1-Ye/Ze,at,1,pt),Te.data,Ze,_e,Ze,tt),ae===Ze-1&&this._addTileFeatures(Te.range(0,at,Ye/Ze,pt),Te.data,-1,_e,Ze,tt),tt.features.length?tt:null}getClusterExpansionZoom(ne){let ae=this._getOriginZoom(ne)-1;for(;ae<=this.options.maxZoom;){const _e=this.getChildren(ne);if(ae++,_e.length!==1)break;ne=_e[0].properties.cluster_id}return ae}_appendLeaves(ne,ae,_e,Te,Ze){const ge=this.getChildren(ae);for(const Je of ge){const Ye=Je.properties;if(Ye&&Ye.cluster?Ze+Ye.point_count<=Te?Ze+=Ye.point_count:Ze=this._appendLeaves(ne,Ye.cluster_id,_e,Te,Ze):Ze<Te?Ze++:ne.push(Je),ne.length===_e)break}return Ze}_createTree(ne){const ae=new A.aF(ne.length/this.stride|0,this.options.nodeSize,Float32Array);for(let _e=0;_e<ne.length;_e+=this.stride)ae.add(ne[_e],ne[_e+1]);return ae.finish(),ae.data=ne,ae}_addTileFeatures(ne,ae,_e,Te,Ze,ge){for(const Je of ne){const Ye=Je*this.stride,at=ae[Ye+Vt]>1;let pt,tt,Rt;if(at)pt=yt(ae,Ye,this.clusterProps),tt=ae[Ye],Rt=ae[Ye+1];else{const Tn=this.points[ae[Ye+Wt]];pt=Tn.properties;const[Xn,On]=Tn.geometry.coordinates;tt=mt(Xn),Rt=Ot(On)}const Qt={type:1,geometry:[[Math.round(this.options.extent*(tt*Ze-_e)),Math.round(this.options.extent*(Rt*Ze-Te))]],tags:pt};let hn;hn=at||this.options.generateId?ae[Ye+Wt]:this.points[ae[Ye+Wt]].id,hn!==void 0&&(Qt.id=hn),ge.features.push(Qt)}}_limitZoom(ne){return Math.max(this.options.minZoom,Math.min(Math.floor(+ne),this.options.maxZoom+1))}_cluster(ne,ae){const{radius:_e,extent:Te,reduce:Ze,minPoints:ge}=this.options,Je=_e/(Te*Math.pow(2,ae)),Ye=ne.data,at=[],pt=this.stride;for(let tt=0;tt<Ye.length;tt+=pt){if(Ye[tt+2]<=ae)continue;Ye[tt+2]=ae;const Rt=Ye[tt],Qt=Ye[tt+1],hn=ne.within(Ye[tt],Ye[tt+1],Je),Tn=Ye[tt+Vt];let Xn=Tn;for(const On of hn){const wt=On*pt;Ye[wt+2]>ae&&(Xn+=Ye[wt+Vt])}if(Xn>Tn&&Xn>=ge){let On,wt=Rt*Tn,br=Qt*Tn,dr=-1;const wr=((tt/pt|0)<<5)+(ae+1)+this.points.length;for(const Ln of hn){const zt=Ln*pt;if(Ye[zt+2]<=ae)continue;Ye[zt+2]=ae;const Gn=Ye[zt+Vt];wt+=Ye[zt]*Gn,br+=Ye[zt+1]*Gn,Ye[zt+4]=wr,Ze&&(On||(On=this._map(Ye,tt,!0),dr=this.clusterProps.length,this.clusterProps.push(On)),Ze(On,this._map(Ye,zt)))}Ye[tt+4]=wr,at.push(wt/Xn,br/Xn,1/0,wr,-1,Xn),Ze&&at.push(dr)}else{for(let On=0;On<pt;On++)at.push(Ye[tt+On]);if(Xn>1)for(const On of hn){const wt=On*pt;if(!(Ye[wt+2]<=ae)){Ye[wt+2]=ae;for(let br=0;br<pt;br++)at.push(Ye[wt+br])}}}}return at}_getOriginId(ne){return ne-this.points.length>>5}_getOriginZoom(ne){return(ne-this.points.length)%32}_map(ne,ae,_e){if(ne[ae+Vt]>1){const ge=this.clusterProps[ne[ae+Nt]];return _e?Object.assign({},ge):ge}const Te=this.points[ne[ae+Wt]].properties,Ze=this.options.map(Te);return _e&&Ze===Te?Object.assign({},Ze):Ze}}function dn(Fe,ne,ae){return{type:"Feature",id:Fe[ne+Wt],properties:yt(Fe,ne,ae),geometry:{type:"Point",coordinates:[(_e=Fe[ne],360*(_e-.5)),We(Fe[ne+1])]}};var _e}function yt(Fe,ne,ae){const _e=Fe[ne+Vt],Te=_e>=1e4?`${Math.round(_e/1e3)}k`:_e>=1e3?Math.round(_e/100)/10+"k":_e,Ze=Fe[ne+Nt],ge=Ze===-1?{}:Object.assign({},ae[Ze]);return Object.assign(ge,{cluster:!0,cluster_id:Fe[ne+Wt],point_count:_e,point_count_abbreviated:Te})}function mt(Fe){return Fe/360+.5}function Ot(Fe){const ne=Math.sin(Fe*Math.PI/180),ae=.5-.25*Math.log((1+ne)/(1-ne))/Math.PI;return ae<0?0:ae>1?1:ae}function We(Fe){const ne=(180-360*Fe)*Math.PI/180;return 360*Math.atan(Math.exp(ne))/Math.PI-90}function St(Fe,ne,ae,_e){let Te=_e;const Ze=ne+(ae-ne>>1);let ge,Je=ae-ne;const Ye=Fe[ne],at=Fe[ne+1],pt=Fe[ae],tt=Fe[ae+1];for(let Rt=ne+3;Rt<ae;Rt+=3){const Qt=mn(Fe[Rt],Fe[Rt+1],Ye,at,pt,tt);if(Qt>Te)ge=Rt,Te=Qt;else if(Qt===Te){const hn=Math.abs(Rt-Ze);hn<Je&&(ge=Rt,Je=hn)}}Te>_e&&(ge-ne>3&&St(Fe,ne,ge,_e),Fe[ge+2]=Te,ae-ge>3&&St(Fe,ge,ae,_e))}function mn(Fe,ne,ae,_e,Te,Ze){let ge=Te-ae,Je=Ze-_e;if(ge!==0||Je!==0){const Ye=((Fe-ae)*ge+(ne-_e)*Je)/(ge*ge+Je*Je);Ye>1?(ae=Te,_e=Ze):Ye>0&&(ae+=ge*Ye,_e+=Je*Ye)}return ge=Fe-ae,Je=ne-_e,ge*ge+Je*Je}function cn(Fe,ne,ae,_e){const Te={id:Fe??null,type:ne,geometry:ae,tags:_e,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if(ne==="Point"||ne==="MultiPoint"||ne==="LineString")kt(Te,ae);else if(ne==="Polygon")kt(Te,ae[0]);else if(ne==="MultiLineString")for(const Ze of ae)kt(Te,Ze);else if(ne==="MultiPolygon")for(const Ze of ae)kt(Te,Ze[0]);return Te}function kt(Fe,ne){for(let ae=0;ae<ne.length;ae+=3)Fe.minX=Math.min(Fe.minX,ne[ae]),Fe.minY=Math.min(Fe.minY,ne[ae+1]),Fe.maxX=Math.max(Fe.maxX,ne[ae]),Fe.maxY=Math.max(Fe.maxY,ne[ae+1])}function gn(Fe,ne,ae,_e){if(!ne.geometry)return;const Te=ne.geometry.coordinates;if(Te&&Te.length===0)return;const Ze=ne.geometry.type,ge=Math.pow(ae.tolerance/((1<<ae.maxZoom)*ae.extent),2);let Je=[],Ye=ne.id;if(ae.promoteId?Ye=ne.properties[ae.promoteId]:ae.generateId&&(Ye=_e||0),Ze==="Point")wn(Te,Je);else if(Ze==="MultiPoint")for(const at of Te)wn(at,Je);else if(Ze==="LineString")Fn(Te,Je,ge,!1);else if(Ze==="MultiLineString"){if(ae.lineMetrics){for(const at of Te)Je=[],Fn(at,Je,ge,!1),Fe.push(cn(Ye,"LineString",Je,ne.properties));return}Rn(Te,Je,ge,!1)}else if(Ze==="Polygon")Rn(Te,Je,ge,!0);else{if(Ze!=="MultiPolygon"){if(Ze==="GeometryCollection"){for(const at of ne.geometry.geometries)gn(Fe,{id:Ye,geometry:at,properties:ne.properties},ae,_e);return}throw new Error("Input data is not a valid GeoJSON object.")}for(const at of Te){const pt=[];Rn(at,pt,ge,!0),Je.push(pt)}}Fe.push(cn(Ye,Ze,Je,ne.properties))}function wn(Fe,ne){ne.push(An(Fe[0]),Nn(Fe[1]),0)}function Fn(Fe,ne,ae,_e){let Te,Ze,ge=0;for(let Ye=0;Ye<Fe.length;Ye++){const at=An(Fe[Ye][0]),pt=Nn(Fe[Ye][1]);ne.push(at,pt,0),Ye>0&&(ge+=_e?(Te*pt-at*Ze)/2:Math.sqrt(Math.pow(at-Te,2)+Math.pow(pt-Ze,2))),Te=at,Ze=pt}const Je=ne.length-3;ne[2]=1,St(ne,0,Je,ae),ne[Je+2]=1,ne.size=Math.abs(ge),ne.start=0,ne.end=ne.size}function Rn(Fe,ne,ae,_e){for(let Te=0;Te<Fe.length;Te++){const Ze=[];Fn(Fe[Te],Ze,ae,_e),ne.push(Ze)}}function An(Fe){return Fe/360+.5}function Nn(Fe){const ne=Math.sin(Fe*Math.PI/180),ae=.5-.25*Math.log((1+ne)/(1-ne))/Math.PI;return ae<0?0:ae>1?1:ae}function Kn(Fe,ne,ae,_e,Te,Ze,ge,Je){if(_e/=ne,Ze>=(ae/=ne)&&ge<_e)return Fe;if(ge<ae||Ze>=_e)return null;const Ye=[];for(const at of Fe){const pt=at.geometry;let tt=at.type;const Rt=Te===0?at.minX:at.minY,Qt=Te===0?at.maxX:at.maxY;if(Rt>=ae&&Qt<_e){Ye.push(at);continue}if(Qt<ae||Rt>=_e)continue;let hn=[];if(tt==="Point"||tt==="MultiPoint")Hn(pt,hn,ae,_e,Te);else if(tt==="LineString")yn(pt,hn,ae,_e,Te,!1,Je.lineMetrics);else if(tt==="MultiLineString")fi(pt,hn,ae,_e,Te,!1);else if(tt==="Polygon")fi(pt,hn,ae,_e,Te,!0);else if(tt==="MultiPolygon")for(const Tn of pt){const Xn=[];fi(Tn,Xn,ae,_e,Te,!0),Xn.length&&hn.push(Xn)}if(hn.length){if(Je.lineMetrics&&tt==="LineString"){for(const Tn of hn)Ye.push(cn(at.id,tt,Tn,at.tags));continue}tt!=="LineString"&&tt!=="MultiLineString"||(hn.length===1?(tt="LineString",hn=hn[0]):tt="MultiLineString"),tt!=="Point"&&tt!=="MultiPoint"||(tt=hn.length===3?"Point":"MultiPoint"),Ye.push(cn(at.id,tt,hn,at.tags))}}return Ye.length?Ye:null}function Hn(Fe,ne,ae,_e,Te){for(let Ze=0;Ze<Fe.length;Ze+=3){const ge=Fe[Ze+Te];ge>=ae&&ge<=_e&&Ir(ne,Fe[Ze],Fe[Ze+1],Fe[Ze+2])}}function yn(Fe,ne,ae,_e,Te,Ze,ge){let Je=yr(Fe);const Ye=Te===0?Xr:Gi;let at,pt,tt=Fe.start;for(let Xn=0;Xn<Fe.length-3;Xn+=3){const On=Fe[Xn],wt=Fe[Xn+1],br=Fe[Xn+2],dr=Fe[Xn+3],wr=Fe[Xn+4],Ln=Te===0?On:wt,zt=Te===0?dr:wr;let Gn=!1;ge&&(at=Math.sqrt(Math.pow(On-dr,2)+Math.pow(wt-wr,2))),Ln<ae?zt>ae&&(pt=Ye(Je,On,wt,dr,wr,ae),ge&&(Je.start=tt+at*pt)):Ln>_e?zt<_e&&(pt=Ye(Je,On,wt,dr,wr,_e),ge&&(Je.start=tt+at*pt)):Ir(Je,On,wt,br),zt<ae&&Ln>=ae&&(pt=Ye(Je,On,wt,dr,wr,ae),Gn=!0),zt>_e&&Ln<=_e&&(pt=Ye(Je,On,wt,dr,wr,_e),Gn=!0),!Ze&&Gn&&(ge&&(Je.end=tt+at*pt),ne.push(Je),Je=yr(Fe)),ge&&(tt+=at)}let Rt=Fe.length-3;const Qt=Fe[Rt],hn=Fe[Rt+1],Tn=Te===0?Qt:hn;Tn>=ae&&Tn<=_e&&Ir(Je,Qt,hn,Fe[Rt+2]),Rt=Je.length-3,Ze&&Rt>=3&&(Je[Rt]!==Je[0]||Je[Rt+1]!==Je[1])&&Ir(Je,Je[0],Je[1],Je[2]),Je.length&&ne.push(Je)}function yr(Fe){const ne=[];return ne.size=Fe.size,ne.start=Fe.start,ne.end=Fe.end,ne}function fi(Fe,ne,ae,_e,Te,Ze){for(const ge of Fe)yn(ge,ne,ae,_e,Te,Ze,!1)}function Ir(Fe,ne,ae,_e){Fe.push(ne,ae,_e)}function Xr(Fe,ne,ae,_e,Te,Ze){const ge=(Ze-ne)/(_e-ne);return Ir(Fe,Ze,ae+(Te-ae)*ge,1),ge}function Gi(Fe,ne,ae,_e,Te,Ze){const ge=(Ze-ae)/(Te-ae);return Ir(Fe,ne+(_e-ne)*ge,Ze,1),ge}function vr(Fe,ne){const ae=[];for(let _e=0;_e<Fe.length;_e++){const Te=Fe[_e],Ze=Te.type;let ge;if(Ze==="Point"||Ze==="MultiPoint"||Ze==="LineString")ge=lr(Te.geometry,ne);else if(Ze==="MultiLineString"||Ze==="Polygon"){ge=[];for(const Je of Te.geometry)ge.push(lr(Je,ne))}else if(Ze==="MultiPolygon"){ge=[];for(const Je of Te.geometry){const Ye=[];for(const at of Je)Ye.push(lr(at,ne));ge.push(Ye)}}ae.push(cn(Te.id,Ze,ge,Te.tags))}return ae}function lr(Fe,ne){const ae=[];ae.size=Fe.size,Fe.start!==void 0&&(ae.start=Fe.start,ae.end=Fe.end);for(let _e=0;_e<Fe.length;_e+=3)ae.push(Fe[_e]+ne,Fe[_e+1],Fe[_e+2]);return ae}function Dn(Fe,ne){if(Fe.transformed)return Fe;const ae=1<<Fe.z,_e=Fe.x,Te=Fe.y;for(const Ze of Fe.features){const ge=Ze.geometry,Je=Ze.type;if(Ze.geometry=[],Je===1)for(let Ye=0;Ye<ge.length;Ye+=2)Ze.geometry.push(Lr(ge[Ye],ge[Ye+1],ne,ae,_e,Te));else for(let Ye=0;Ye<ge.length;Ye++){const at=[];for(let pt=0;pt<ge[Ye].length;pt+=2)at.push(Lr(ge[Ye][pt],ge[Ye][pt+1],ne,ae,_e,Te));Ze.geometry.push(at)}}return Fe.transformed=!0,Fe}function Lr(Fe,ne,ae,_e,Te,Ze){return[Math.round(ae*(Fe*_e-Te)),Math.round(ae*(ne*_e-Ze))]}function ti(Fe,ne,ae,_e,Te){const Ze=ne===Te.maxZoom?0:Te.tolerance/((1<<ne)*Te.extent),ge={features:[],numPoints:0,numSimplified:0,numFeatures:Fe.length,source:null,x:ae,y:_e,z:ne,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(const Je of Fe)Vi(ge,Je,Ze,Te);return ge}function Vi(Fe,ne,ae,_e){const Te=ne.geometry,Ze=ne.type,ge=[];if(Fe.minX=Math.min(Fe.minX,ne.minX),Fe.minY=Math.min(Fe.minY,ne.minY),Fe.maxX=Math.max(Fe.maxX,ne.maxX),Fe.maxY=Math.max(Fe.maxY,ne.maxY),Ze==="Point"||Ze==="MultiPoint")for(let Je=0;Je<Te.length;Je+=3)ge.push(Te[Je],Te[Je+1]),Fe.numPoints++,Fe.numSimplified++;else if(Ze==="LineString")Ga(ge,Te,Fe,ae,!1,!1);else if(Ze==="MultiLineString"||Ze==="Polygon")for(let Je=0;Je<Te.length;Je++)Ga(ge,Te[Je],Fe,ae,Ze==="Polygon",Je===0);else if(Ze==="MultiPolygon")for(let Je=0;Je<Te.length;Je++){const Ye=Te[Je];for(let at=0;at<Ye.length;at++)Ga(ge,Ye[at],Fe,ae,!0,at===0)}if(ge.length){let Je=ne.tags||null;if(Ze==="LineString"&&_e.lineMetrics){Je={};for(const at in ne.tags)Je[at]=ne.tags[at];Je.mapbox_clip_start=Te.start/Te.size,Je.mapbox_clip_end=Te.end/Te.size}const Ye={geometry:ge,type:Ze==="Polygon"||Ze==="MultiPolygon"?3:Ze==="LineString"||Ze==="MultiLineString"?2:1,tags:Je};ne.id!==null&&(Ye.id=ne.id),Fe.features.push(Ye)}}function Ga(Fe,ne,ae,_e,Te,Ze){const ge=_e*_e;if(_e>0&&ne.size<(Te?ge:_e))return void(ae.numPoints+=ne.length/3);const Je=[];for(let Ye=0;Ye<ne.length;Ye+=3)(_e===0||ne[Ye+2]>ge)&&(ae.numSimplified++,Je.push(ne[Ye],ne[Ye+1])),ae.numPoints++;Te&&function(Ye,at){let pt=0;for(let tt=0,Rt=Ye.length,Qt=Rt-2;tt<Rt;Qt=tt,tt+=2)pt+=(Ye[tt]-Ye[Qt])*(Ye[tt+1]+Ye[Qt+1]);if(pt>0===at)for(let tt=0,Rt=Ye.length;tt<Rt/2;tt+=2){const Qt=Ye[tt],hn=Ye[tt+1];Ye[tt]=Ye[Rt-2-tt],Ye[tt+1]=Ye[Rt-1-tt],Ye[Rt-2-tt]=Qt,Ye[Rt-1-tt]=hn}}(Je,Ze),Fe.push(Je)}const Zi={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class Yr{constructor(ne,ae){const _e=(ae=this.options=function(Ze,ge){for(const Je in ge)Ze[Je]=ge[Je];return Ze}(Object.create(Zi),ae)).debug;if(_e&&console.time("preprocess data"),ae.maxZoom<0||ae.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(ae.promoteId&&ae.generateId)throw new Error("promoteId and generateId cannot be used together.");let Te=function(Ze,ge){const Je=[];if(Ze.type==="FeatureCollection")for(let Ye=0;Ye<Ze.features.length;Ye++)gn(Je,Ze.features[Ye],ge,Ye);else gn(Je,Ze.type==="Feature"?Ze:{geometry:Ze},ge);return Je}(ne,ae);this.tiles={},this.tileCoords=[],_e&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",ae.indexMaxZoom,ae.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Te=function(Ze,ge){const Je=ge.buffer/ge.extent;let Ye=Ze;const at=Kn(Ze,1,-1-Je,Je,0,-1,2,ge),pt=Kn(Ze,1,1-Je,2+Je,0,-1,2,ge);return(at||pt)&&(Ye=Kn(Ze,1,-Je,1+Je,0,-1,2,ge)||[],at&&(Ye=vr(at,1).concat(Ye)),pt&&(Ye=Ye.concat(vr(pt,-1)))),Ye}(Te,ae),Te.length&&this.splitTile(Te,0,0,0),_e&&(Te.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(ne,ae,_e,Te,Ze,ge,Je){const Ye=[ne,ae,_e,Te],at=this.options,pt=at.debug;for(;Ye.length;){Te=Ye.pop(),_e=Ye.pop(),ae=Ye.pop(),ne=Ye.pop();const tt=1<<ae,Rt=Li(ae,_e,Te);let Qt=this.tiles[Rt];if(!Qt&&(pt>1&&console.time("creation"),Qt=this.tiles[Rt]=ti(ne,ae,_e,Te,at),this.tileCoords.push({z:ae,x:_e,y:Te}),pt)){pt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",ae,_e,Te,Qt.numFeatures,Qt.numPoints,Qt.numSimplified),console.timeEnd("creation"));const Gn=`z${ae}`;this.stats[Gn]=(this.stats[Gn]||0)+1,this.total++}if(Qt.source=ne,Ze==null){if(ae===at.indexMaxZoom||Qt.numPoints<=at.indexMaxPoints)continue}else{if(ae===at.maxZoom||ae===Ze)continue;if(Ze!=null){const Gn=Ze-ae;if(_e!==ge>>Gn||Te!==Je>>Gn)continue}}if(Qt.source=null,ne.length===0)continue;pt>1&&console.time("clipping");const hn=.5*at.buffer/at.extent,Tn=.5-hn,Xn=.5+hn,On=1+hn;let wt=null,br=null,dr=null,wr=null,Ln=Kn(ne,tt,_e-hn,_e+Xn,0,Qt.minX,Qt.maxX,at),zt=Kn(ne,tt,_e+Tn,_e+On,0,Qt.minX,Qt.maxX,at);ne=null,Ln&&(wt=Kn(Ln,tt,Te-hn,Te+Xn,1,Qt.minY,Qt.maxY,at),br=Kn(Ln,tt,Te+Tn,Te+On,1,Qt.minY,Qt.maxY,at),Ln=null),zt&&(dr=Kn(zt,tt,Te-hn,Te+Xn,1,Qt.minY,Qt.maxY,at),wr=Kn(zt,tt,Te+Tn,Te+On,1,Qt.minY,Qt.maxY,at),zt=null),pt>1&&console.timeEnd("clipping"),Ye.push(wt||[],ae+1,2*_e,2*Te),Ye.push(br||[],ae+1,2*_e,2*Te+1),Ye.push(dr||[],ae+1,2*_e+1,2*Te),Ye.push(wr||[],ae+1,2*_e+1,2*Te+1)}}getTile(ne,ae,_e){ne=+ne,ae=+ae,_e=+_e;const Te=this.options,{extent:Ze,debug:ge}=Te;if(ne<0||ne>24)return null;const Je=1<<ne,Ye=Li(ne,ae=ae+Je&Je-1,_e);if(this.tiles[Ye])return Dn(this.tiles[Ye],Ze);ge>1&&console.log("drilling down to z%d-%d-%d",ne,ae,_e);let at,pt=ne,tt=ae,Rt=_e;for(;!at&&pt>0;)pt--,tt>>=1,Rt>>=1,at=this.tiles[Li(pt,tt,Rt)];return at&&at.source?(ge>1&&(console.log("found parent tile z%d-%d-%d",pt,tt,Rt),console.time("drilling down")),this.splitTile(at.source,pt,tt,Rt,ne,ae,_e),ge>1&&console.timeEnd("drilling down"),this.tiles[Ye]?Dn(this.tiles[Ye],Ze):null):null}}function Li(Fe,ne,ae){return 32*((1<<Fe)*ae+ne)+Fe}function bi(Fe,ne){return ne?Fe.properties[ne]:Fe.id}function xr(Fe,ne){if(Fe==null)return!0;if(Fe.type==="Feature")return bi(Fe,ne)!=null;if(Fe.type==="FeatureCollection"){const ae=new Set;for(const _e of Fe.features){const Te=bi(_e,ne);if(Te==null||ae.has(Te))return!1;ae.add(Te)}return!0}return!1}function wi(Fe,ne){const ae=new Map;if(Fe!=null)if(Fe.type==="Feature")ae.set(bi(Fe,ne),Fe);else for(const _e of Fe.features)ae.set(bi(_e,ne),_e);return ae}class ni extends te{constructor(){super(...arguments),this._dataUpdateable=new Map}loadVectorTile(ne,ae){return A._(this,void 0,void 0,function*(){const _e=ne.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");const Te=this._geoJSONIndex.getTile(_e.z,_e.x,_e.y);if(!Te)return null;const Ze=new ze(Te.features);let ge=Jt(Ze);return ge.byteOffset===0&&ge.byteLength===ge.buffer.byteLength||(ge=new Uint8Array(ge)),{vectorTile:Ze,rawData:ge.buffer}})}loadData(ne){return A._(this,void 0,void 0,function*(){var ae;(ae=this._pendingRequest)===null||ae===void 0||ae.abort();const _e=!!(ne&&ne.request&&ne.request.collectResourceTiming)&&new A.cE(ne.request);this._pendingRequest=new AbortController;try{this._pendingData=this.loadAndProcessGeoJSON(ne,this._pendingRequest),this._geoJSONIndex=ne.cluster?new $t(function({superclusterOptions:ge,clusterProperties:Je}){if(!Je||!ge)return ge;const Ye={},at={},pt={accumulated:null,zoom:0},tt={properties:null},Rt=Object.keys(Je);for(const Qt of Rt){const[hn,Tn]=Je[Qt],Xn=A.cL(Tn),On=A.cL(typeof hn=="string"?[hn,["accumulated"],["get",Qt]]:hn);Ye[Qt]=Xn.value,at[Qt]=On.value}return ge.map=Qt=>{tt.properties=Qt;const hn={};for(const Tn of Rt)hn[Tn]=Ye[Tn].evaluate(pt,tt);return hn},ge.reduce=(Qt,hn)=>{tt.properties=hn;for(const Tn of Rt)pt.accumulated=Qt[Tn],Qt[Tn]=at[Tn].evaluate(pt,tt)},ge}(ne)).load((yield this._pendingData).features):(Te=yield this._pendingData,new Yr(Te,ne.geojsonVtOptions)),this.loaded={};const Ze={};if(_e){const ge=_e.finish();ge&&(Ze.resourceTiming={},Ze.resourceTiming[ne.source]=JSON.parse(JSON.stringify(ge)))}return Ze}catch(Ze){if(delete this._pendingRequest,A.cp(Ze))return{abandoned:!0};throw Ze}var Te})}getData(){return A._(this,void 0,void 0,function*(){return this._pendingData})}reloadTile(ne){const ae=this.loaded;return ae&&ae[ne.uid]?super.reloadTile(ne):this.loadTile(ne)}loadAndProcessGeoJSON(ne,ae){return A._(this,void 0,void 0,function*(){let _e=yield this.loadGeoJSON(ne,ae);if(delete this._pendingRequest,typeof _e!="object")throw new Error(`Input data given to '${ne.source}' is not a valid GeoJSON object.`);if(Pe(_e,!0),ne.filter){const Te=A.cL(ne.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(Te.result==="error")throw new Error(Te.value.map(ge=>`${ge.key}: ${ge.message}`).join(", "));_e={type:"FeatureCollection",features:_e.features.filter(ge=>Te.value.evaluate({zoom:0},ge))}}return _e})}loadGeoJSON(ne,ae){return A._(this,void 0,void 0,function*(){const{promoteId:_e}=ne;if(ne.request){const Te=yield A.j(ne.request,ae);return this._dataUpdateable=xr(Te.data,_e)?wi(Te.data,_e):void 0,Te.data}if(typeof ne.data=="string")try{const Te=JSON.parse(ne.data);return this._dataUpdateable=xr(Te,_e)?wi(Te,_e):void 0,Te}catch{throw new Error(`Input data given to '${ne.source}' is not a valid GeoJSON object.`)}if(!ne.dataDiff)throw new Error(`Input data given to '${ne.source}' is not a valid GeoJSON object.`);if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${ne.source}`);return function(Te,Ze,ge){var Je,Ye,at,pt;if(Ze.removeAll&&Te.clear(),Ze.remove)for(const tt of Ze.remove)Te.delete(tt);if(Ze.add)for(const tt of Ze.add){const Rt=bi(tt,ge);Rt!=null&&Te.set(Rt,tt)}if(Ze.update)for(const tt of Ze.update){let Rt=Te.get(tt.id);if(Rt==null)continue;const Qt=!tt.removeAllProperties&&(((Je=tt.removeProperties)===null||Je===void 0?void 0:Je.length)>0||((Ye=tt.addOrUpdateProperties)===null||Ye===void 0?void 0:Ye.length)>0);if((tt.newGeometry||tt.removeAllProperties||Qt)&&(Rt=Object.assign({},Rt),Te.set(tt.id,Rt),Qt&&(Rt.properties=Object.assign({},Rt.properties))),tt.newGeometry&&(Rt.geometry=tt.newGeometry),tt.removeAllProperties)Rt.properties={};else if(((at=tt.removeProperties)===null||at===void 0?void 0:at.length)>0)for(const hn of tt.removeProperties)Object.prototype.hasOwnProperty.call(Rt.properties,hn)&&delete Rt.properties[hn];if(((pt=tt.addOrUpdateProperties)===null||pt===void 0?void 0:pt.length)>0)for(const{key:hn,value:Tn}of tt.addOrUpdateProperties)Rt.properties[hn]=Tn}}(this._dataUpdateable,ne.dataDiff,_e),{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())}})}removeSource(ne){return A._(this,void 0,void 0,function*(){this._pendingRequest&&this._pendingRequest.abort()})}getClusterExpansionZoom(ne){return this._geoJSONIndex.getClusterExpansionZoom(ne.clusterId)}getClusterChildren(ne){return this._geoJSONIndex.getChildren(ne.clusterId)}getClusterLeaves(ne){return this._geoJSONIndex.getLeaves(ne.clusterId,ne.limit,ne.offset)}}class ma{constructor(ne){this.self=ne,this.actor=new A.H(ne),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.self.registerWorkerSource=(ae,_e)=>{if(this.externalWorkerSourceTypes[ae])throw new Error(`Worker source with name "${ae}" already registered.`);this.externalWorkerSourceTypes[ae]=_e},this.self.addProtocol=A.cr,this.self.removeProtocol=A.cs,this.self.registerRTLTextPlugin=ae=>{A.cM.setMethods(ae)},this.actor.registerMessageHandler("LDT",(ae,_e)=>this._getDEMWorkerSource(ae,_e.source).loadTile(_e)),this.actor.registerMessageHandler("RDT",(ae,_e)=>A._(this,void 0,void 0,function*(){this._getDEMWorkerSource(ae,_e.source).removeTile(_e)})),this.actor.registerMessageHandler("GCEZ",(ae,_e)=>A._(this,void 0,void 0,function*(){return this._getWorkerSource(ae,_e.type,_e.source).getClusterExpansionZoom(_e)})),this.actor.registerMessageHandler("GCC",(ae,_e)=>A._(this,void 0,void 0,function*(){return this._getWorkerSource(ae,_e.type,_e.source).getClusterChildren(_e)})),this.actor.registerMessageHandler("GCL",(ae,_e)=>A._(this,void 0,void 0,function*(){return this._getWorkerSource(ae,_e.type,_e.source).getClusterLeaves(_e)})),this.actor.registerMessageHandler("LD",(ae,_e)=>this._getWorkerSource(ae,_e.type,_e.source).loadData(_e)),this.actor.registerMessageHandler("GD",(ae,_e)=>this._getWorkerSource(ae,_e.type,_e.source).getData()),this.actor.registerMessageHandler("LT",(ae,_e)=>this._getWorkerSource(ae,_e.type,_e.source).loadTile(_e)),this.actor.registerMessageHandler("RT",(ae,_e)=>this._getWorkerSource(ae,_e.type,_e.source).reloadTile(_e)),this.actor.registerMessageHandler("AT",(ae,_e)=>this._getWorkerSource(ae,_e.type,_e.source).abortTile(_e)),this.actor.registerMessageHandler("RMT",(ae,_e)=>this._getWorkerSource(ae,_e.type,_e.source).removeTile(_e)),this.actor.registerMessageHandler("RS",(ae,_e)=>A._(this,void 0,void 0,function*(){if(!this.workerSources[ae]||!this.workerSources[ae][_e.type]||!this.workerSources[ae][_e.type][_e.source])return;const Te=this.workerSources[ae][_e.type][_e.source];delete this.workerSources[ae][_e.type][_e.source],Te.removeSource!==void 0&&Te.removeSource(_e)})),this.actor.registerMessageHandler("RM",ae=>A._(this,void 0,void 0,function*(){delete this.layerIndexes[ae],delete this.availableImages[ae],delete this.workerSources[ae],delete this.demWorkerSources[ae]})),this.actor.registerMessageHandler("SR",(ae,_e)=>A._(this,void 0,void 0,function*(){this.referrer=_e})),this.actor.registerMessageHandler("SRPS",(ae,_e)=>this._syncRTLPluginState(ae,_e)),this.actor.registerMessageHandler("IS",(ae,_e)=>A._(this,void 0,void 0,function*(){this.self.importScripts(_e)})),this.actor.registerMessageHandler("SI",(ae,_e)=>this._setImages(ae,_e)),this.actor.registerMessageHandler("UL",(ae,_e)=>A._(this,void 0,void 0,function*(){this._getLayerIndex(ae).update(_e.layers,_e.removedIds)})),this.actor.registerMessageHandler("SL",(ae,_e)=>A._(this,void 0,void 0,function*(){this._getLayerIndex(ae).replace(_e)}))}_setImages(ne,ae){return A._(this,void 0,void 0,function*(){this.availableImages[ne]=ae;for(const _e in this.workerSources[ne]){const Te=this.workerSources[ne][_e];for(const Ze in Te)Te[Ze].availableImages=ae}})}_syncRTLPluginState(ne,ae){return A._(this,void 0,void 0,function*(){return yield A.cM.syncState(ae,this.self.importScripts)})}_getAvailableImages(ne){let ae=this.availableImages[ne];return ae||(ae=[]),ae}_getLayerIndex(ne){let ae=this.layerIndexes[ne];return ae||(ae=this.layerIndexes[ne]=new l),ae}_getWorkerSource(ne,ae,_e){if(this.workerSources[ne]||(this.workerSources[ne]={}),this.workerSources[ne][ae]||(this.workerSources[ne][ae]={}),!this.workerSources[ne][ae][_e]){const Te={sendAsync:(Ze,ge)=>(Ze.targetMapId=ne,this.actor.sendAsync(Ze,ge))};switch(ae){case"vector":this.workerSources[ne][ae][_e]=new te(Te,this._getLayerIndex(ne),this._getAvailableImages(ne));break;case"geojson":this.workerSources[ne][ae][_e]=new ni(Te,this._getLayerIndex(ne),this._getAvailableImages(ne));break;default:this.workerSources[ne][ae][_e]=new this.externalWorkerSourceTypes[ae](Te,this._getLayerIndex(ne),this._getAvailableImages(ne))}}return this.workerSources[ne][ae][_e]}_getDEMWorkerSource(ne,ae){return this.demWorkerSources[ne]||(this.demWorkerSources[ne]={}),this.demWorkerSources[ne][ae]||(this.demWorkerSources[ne][ae]=new ce),this.demWorkerSources[ne][ae]}}return A.i(self)&&(self.worker=new ma(self)),ma}),C("index",["exports","./shared"],function(A,l){var V="5.5.0";function q(){var m=new l.A(4);return l.A!=Float32Array&&(m[1]=0,m[2]=0),m[0]=1,m[3]=1,m}let ue,te;const ce={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(m,e,n){const u=requestAnimationFrame(y=>{f(),e(y)}),{unsubscribe:f}=l.s(m.signal,"abort",()=>{f(),cancelAnimationFrame(u),n(l.c())},!1)},frameAsync(m){return new Promise((e,n)=>{this.frame(m,e,n)})},getImageData(m,e=0){return this.getImageCanvasContext(m).getImageData(-e,-e,m.width+2*e,m.height+2*e)},getImageCanvasContext(m){const e=window.document.createElement("canvas"),n=e.getContext("2d",{willReadFrequently:!0});if(!n)throw new Error("failed to create canvas 2d context");return e.width=m.width,e.height=m.height,n.drawImage(m,0,0,m.width,m.height),n},resolveURL:m=>(ue||(ue=document.createElement("a")),ue.href=m,ue.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(te==null&&(te=matchMedia("(prefers-reduced-motion: reduce)")),te.matches)}};class oe{static testProp(e){if(!oe.docStyle)return e[0];for(let n=0;n<e.length;n++)if(e[n]in oe.docStyle)return e[n];return e[0]}static create(e,n,u){const f=window.document.createElement(e);return n!==void 0&&(f.className=n),u&&u.appendChild(f),f}static createNS(e,n){return window.document.createElementNS(e,n)}static disableDrag(){oe.docStyle&&oe.selectProp&&(oe.userSelect=oe.docStyle[oe.selectProp],oe.docStyle[oe.selectProp]="none")}static enableDrag(){oe.docStyle&&oe.selectProp&&(oe.docStyle[oe.selectProp]=oe.userSelect)}static setTransform(e,n){e.style[oe.transformProp]=n}static addEventListener(e,n,u,f={}){e.addEventListener(n,u,"passive"in f?f:f.capture)}static removeEventListener(e,n,u,f={}){e.removeEventListener(n,u,"passive"in f?f:f.capture)}static suppressClickInternal(e){e.preventDefault(),e.stopPropagation(),window.removeEventListener("click",oe.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",oe.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",oe.suppressClickInternal,!0)},0)}static getScale(e){const n=e.getBoundingClientRect();return{x:n.width/e.offsetWidth||1,y:n.height/e.offsetHeight||1,boundingClientRect:n}}static getPoint(e,n,u){const f=n.boundingClientRect;return new l.P((u.clientX-f.left)/n.x-e.clientLeft,(u.clientY-f.top)/n.y-e.clientTop)}static mousePos(e,n){const u=oe.getScale(e);return oe.getPoint(e,u,n)}static touchPos(e,n){const u=[],f=oe.getScale(e);for(let y=0;y<n.length;y++)u.push(oe.getPoint(e,f,n[y]));return u}static mouseButton(e){return e.button}static remove(e){e.parentNode&&e.parentNode.removeChild(e)}static sanitize(e){const n=new DOMParser().parseFromString(e,"text/html").body||document.createElement("body"),u=n.querySelectorAll("script");for(const f of u)f.remove();return oe.clean(n),n.innerHTML}static isPossiblyDangerous(e,n){const u=n.replace(/\s+/g,"").toLowerCase();return!(!["src","href","xlink:href"].includes(e)||!u.includes("javascript:")&&!u.includes("data:"))||!!e.startsWith("on")||void 0}static clean(e){const n=e.children;for(const u of n)oe.removeAttributes(u),oe.clean(u)}static removeAttributes(e){for(const{name:n,value:u}of e.attributes)oe.isPossiblyDangerous(n,u)&&e.removeAttribute(n)}}oe.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,oe.selectProp=oe.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),oe.transformProp=oe.testProp(["transform","WebkitTransform"]);const de={supported:!1,testSupport:function(m){!He&&Pe&&(rt?ze(m):xe=m)}};let xe,Pe,He=!1,rt=!1;function ze(m){const e=m.createTexture();m.bindTexture(m.TEXTURE_2D,e);try{if(m.texImage2D(m.TEXTURE_2D,0,m.RGBA,m.RGBA,m.UNSIGNED_BYTE,Pe),m.isContextLost())return;de.supported=!0}catch{}m.deleteTexture(e),He=!0}var Me;typeof document<"u"&&(Pe=document.createElement("img"),Pe.onload=()=>{xe&&ze(xe),xe=null,rt=!0},Pe.onerror=()=>{He=!0,xe=null},Pe.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(m){let e,n,u,f;m.resetRequestQueue=()=>{e=[],n=0,u=0,f={}},m.addThrottleControl=k=>{const z=u++;return f[z]=k,z},m.removeThrottleControl=k=>{delete f[k],D()},m.getImage=(k,z,O=!0)=>new Promise((W,Z)=>{de.supported&&(k.headers||(k.headers={}),k.headers.accept="image/webp,*/*"),l.e(k,{type:"image"}),e.push({abortController:z,requestParameters:k,supportImageRefresh:O,state:"queued",onError:Q=>{Z(Q)},onSuccess:Q=>{W(Q)}}),D()});const y=k=>l._(this,void 0,void 0,function*(){k.state="running";const{requestParameters:z,supportImageRefresh:O,onError:W,onSuccess:Z,abortController:Q}=k,ie=O===!1&&!l.i(self)&&!l.g(z.url)&&(!z.headers||Object.keys(z.headers).reduce((Ce,ke)=>Ce&&ke==="accept",!0));n++;const De=ie?T(z,Q):l.m(z,Q);try{const Ce=yield De;delete k.abortController,k.state="completed",Ce.data instanceof HTMLImageElement||l.b(Ce.data)?Z(Ce):Ce.data&&Z({data:yield(we=Ce.data,typeof createImageBitmap=="function"?l.f(we):l.h(we)),cacheControl:Ce.cacheControl,expires:Ce.expires})}catch(Ce){delete k.abortController,W(Ce)}finally{n--,D()}var we}),D=()=>{const k=(()=>{for(const z of Object.keys(f))if(f[z]())return!0;return!1})()?l.a.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:l.a.MAX_PARALLEL_IMAGE_REQUESTS;for(let z=n;z<k&&e.length>0;z++){const O=e.shift();O.abortController.signal.aborted?z--:y(O)}},T=(k,z)=>new Promise((O,W)=>{const Z=new Image,Q=k.url,ie=k.credentials;ie&&ie==="include"?Z.crossOrigin="use-credentials":(ie&&ie==="same-origin"||!l.d(Q))&&(Z.crossOrigin="anonymous"),z.signal.addEventListener("abort",()=>{Z.src="",W(l.c())}),Z.fetchPriority="high",Z.onload=()=>{Z.onerror=Z.onload=null,O({data:Z})},Z.onerror=()=>{Z.onerror=Z.onload=null,z.signal.aborted||W(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},Z.src=Q})}(Me||(Me={})),Me.resetRequestQueue();class Ge{constructor(e){this._transformRequestFn=e}transformRequest(e,n){return this._transformRequestFn&&this._transformRequestFn(e,n)||{url:e}}setTransformRequest(e){this._transformRequestFn=e}}function je(m){const e=[];if(typeof m=="string")e.push({id:"default",url:m});else if(m&&m.length>0){const n=[];for(const{id:u,url:f}of m){const y=`${u}${f}`;n.indexOf(y)===-1&&(n.push(y),e.push({id:u,url:f}))}}return e}function ot(m,e,n){try{const u=new URL(m);return u.pathname+=`${e}${n}`,u.toString()}catch{throw new Error(`Invalid sprite URL "${m}", must be absolute. Modify style specification directly or use TransformStyleFunction to correct the issue dynamically`)}}class Pt{constructor(e,n,u,f){this.context=e,this.format=u,this.texture=e.gl.createTexture(),this.update(n,f)}update(e,n,u){const{width:f,height:y}=e,D=!(this.size&&this.size[0]===f&&this.size[1]===y||u),{context:T}=this,{gl:k}=T;if(this.useMipmap=!!(n&&n.useMipmap),k.bindTexture(k.TEXTURE_2D,this.texture),T.pixelStoreUnpackFlipY.set(!1),T.pixelStoreUnpack.set(1),T.pixelStoreUnpackPremultiplyAlpha.set(this.format===k.RGBA&&(!n||n.premultiply!==!1)),D)this.size=[f,y],e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement||e instanceof ImageData||l.b(e)?k.texImage2D(k.TEXTURE_2D,0,this.format,this.format,k.UNSIGNED_BYTE,e):k.texImage2D(k.TEXTURE_2D,0,this.format,f,y,0,this.format,k.UNSIGNED_BYTE,e.data);else{const{x:z,y:O}=u||{x:0,y:0};e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement||e instanceof ImageData||l.b(e)?k.texSubImage2D(k.TEXTURE_2D,0,z,O,k.RGBA,k.UNSIGNED_BYTE,e):k.texSubImage2D(k.TEXTURE_2D,0,z,O,f,y,k.RGBA,k.UNSIGNED_BYTE,e.data)}this.useMipmap&&this.isSizePowerOfTwo()&&k.generateMipmap(k.TEXTURE_2D),T.pixelStoreUnpackFlipY.setDefault(),T.pixelStoreUnpack.setDefault(),T.pixelStoreUnpackPremultiplyAlpha.setDefault()}bind(e,n,u){const{context:f}=this,{gl:y}=f;y.bindTexture(y.TEXTURE_2D,this.texture),u!==y.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(u=y.LINEAR),e!==this.filter&&(y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MAG_FILTER,e),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MIN_FILTER,u||e),this.filter=e),n!==this.wrap&&(y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_S,n),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_T,n),this.wrap=n)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:e}=this.context;e.deleteTexture(this.texture),this.texture=null}}function Jt(m){const{userImage:e}=m;return!!(e&&e.render&&e.render())&&(m.data.replace(new Uint8Array(e.data.buffer)),!0)}class ye extends l.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new l.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(e){if(this.loaded!==e&&(this.loaded=e,e)){for(const{ids:n,promiseResolve:u}of this.requestors)u(this._getImagesForIds(n));this.requestors=[]}}getImage(e){const n=this.images[e];if(n&&!n.data&&n.spriteData){const u=n.spriteData;n.data=new l.R({width:u.width,height:u.height},u.context.getImageData(u.x,u.y,u.width,u.height).data),n.spriteData=null}return n}addImage(e,n){if(this.images[e])throw new Error(`Image id ${e} already exist, use updateImage instead`);this._validate(e,n)&&(this.images[e]=n)}_validate(e,n){let u=!0;const f=n.data||n.spriteData;return this._validateStretch(n.stretchX,f&&f.width)||(this.fire(new l.k(new Error(`Image "${e}" has invalid "stretchX" value`))),u=!1),this._validateStretch(n.stretchY,f&&f.height)||(this.fire(new l.k(new Error(`Image "${e}" has invalid "stretchY" value`))),u=!1),this._validateContent(n.content,n)||(this.fire(new l.k(new Error(`Image "${e}" has invalid "content" value`))),u=!1),u}_validateStretch(e,n){if(!e)return!0;let u=0;for(const f of e){if(f[0]<u||f[1]<f[0]||n<f[1])return!1;u=f[1]}return!0}_validateContent(e,n){if(!e)return!0;if(e.length!==4)return!1;const u=n.spriteData,f=u&&u.width||n.data.width,y=u&&u.height||n.data.height;return!(e[0]<0||f<e[0]||e[1]<0||y<e[1]||e[2]<0||f<e[2]||e[3]<0||y<e[3]||e[2]<e[0]||e[3]<e[1])}updateImage(e,n,u=!0){const f=this.getImage(e);if(u&&(f.data.width!==n.data.width||f.data.height!==n.data.height))throw new Error(`size mismatch between old image (${f.data.width}x${f.data.height}) and new image (${n.data.width}x${n.data.height}).`);n.version=f.version+1,this.images[e]=n,this.updatedImages[e]=!0}removeImage(e){const n=this.images[e];delete this.images[e],delete this.patterns[e],n.userImage&&n.userImage.onRemove&&n.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(e){return new Promise((n,u)=>{let f=!0;if(!this.isLoaded())for(const y of e)this.images[y]||(f=!1);this.isLoaded()||f?n(this._getImagesForIds(e)):this.requestors.push({ids:e,promiseResolve:n})})}_getImagesForIds(e){const n={};for(const u of e){let f=this.getImage(u);f||(this.fire(new l.l("styleimagemissing",{id:u})),f=this.getImage(u)),f?n[u]={data:f.data.clone(),pixelRatio:f.pixelRatio,sdf:f.sdf,version:f.version,stretchX:f.stretchX,stretchY:f.stretchY,content:f.content,textFitWidth:f.textFitWidth,textFitHeight:f.textFitHeight,hasRenderCallback:!!(f.userImage&&f.userImage.render)}:l.w(`Image "${u}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return n}getPixelSize(){const{width:e,height:n}=this.atlasImage;return{width:e,height:n}}getPattern(e){const n=this.patterns[e],u=this.getImage(e);if(!u)return null;if(n&&n.position.version===u.version)return n.position;if(n)n.position.version=u.version;else{const f={w:u.data.width+2,h:u.data.height+2,x:0,y:0},y=new l.I(f,u);this.patterns[e]={bin:f,position:y}}return this._updatePatternAtlas(),this.patterns[e].position}bind(e){const n=e.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new Pt(e,this.atlasImage,n.RGBA),this.atlasTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)}_updatePatternAtlas(){const e=[];for(const y in this.patterns)e.push(this.patterns[y].bin);const{w:n,h:u}=l.p(e),f=this.atlasImage;f.resize({width:n||1,height:u||1});for(const y in this.patterns){const{bin:D}=this.patterns[y],T=D.x+1,k=D.y+1,z=this.getImage(y).data,O=z.width,W=z.height;l.R.copy(z,f,{x:0,y:0},{x:T,y:k},{width:O,height:W}),l.R.copy(z,f,{x:0,y:W-1},{x:T,y:k-1},{width:O,height:1}),l.R.copy(z,f,{x:0,y:0},{x:T,y:k+W},{width:O,height:1}),l.R.copy(z,f,{x:O-1,y:0},{x:T-1,y:k},{width:1,height:W}),l.R.copy(z,f,{x:0,y:0},{x:T+O,y:k},{width:1,height:W})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(e){for(const n of e){if(this.callbackDispatchedThisFrame[n])continue;this.callbackDispatchedThisFrame[n]=!0;const u=this.getImage(n);u||l.w(`Image with ID: "${n}" was not found`),Jt(u)&&this.updateImage(n,u)}}}const Dt=1e20;function Mt(m,e,n,u,f,y,D,T,k){for(let z=e;z<e+u;z++)Wt(m,n*y+z,y,f,D,T,k);for(let z=n;z<n+f;z++)Wt(m,z*y+e,1,u,D,T,k)}function Wt(m,e,n,u,f,y,D){y[0]=0,D[0]=-1e20,D[1]=Dt,f[0]=m[e];for(let T=1,k=0,z=0;T<u;T++){f[T]=m[e+T*n];const O=T*T;do{const W=y[k];z=(f[T]-f[W]+O-W*W)/(T-W)/2}while(z<=D[k]&&--k>-1);k++,y[k]=T,D[k]=z,D[k+1]=Dt}for(let T=0,k=0;T<u;T++){for(;D[k+1]<T;)k++;const z=y[k],O=T-z;m[e+T*n]=f[z]+O*O}}class Vt{constructor(e,n){this.requestManager=e,this.localIdeographFontFamily=n,this.entries={}}setURL(e){this.url=e}getGlyphs(e){return l._(this,void 0,void 0,function*(){const n=[];for(const y in e)for(const D of e[y])n.push(this._getAndCacheGlyphsPromise(y,D));const u=yield Promise.all(n),f={};for(const{stack:y,id:D,glyph:T}of u)f[y]||(f[y]={}),f[y][D]=T&&{id:T.id,bitmap:T.bitmap.clone(),metrics:T.metrics};return f})}_getAndCacheGlyphsPromise(e,n){return l._(this,void 0,void 0,function*(){let u=this.entries[e];u||(u=this.entries[e]={glyphs:{},requests:{},ranges:{}});let f=u.glyphs[n];if(f!==void 0)return{stack:e,id:n,glyph:f};if(f=this._tinySDF(u,e,n),f)return u.glyphs[n]=f,{stack:e,id:n,glyph:f};const y=Math.floor(n/256);if(256*y>65535)throw new Error("glyphs > 65535 not supported");if(u.ranges[y])return{stack:e,id:n,glyph:f};if(!this.url)throw new Error("glyphsUrl is not set");if(!u.requests[y]){const T=Vt.loadGlyphRange(e,y,this.url,this.requestManager);u.requests[y]=T}const D=yield u.requests[y];for(const T in D)this._doesCharSupportLocalGlyph(+T)||(u.glyphs[+T]=D[+T]);return u.ranges[y]=!0,{stack:e,id:n,glyph:D[n]||null}})}_doesCharSupportLocalGlyph(e){return!!this.localIdeographFontFamily&&(new RegExp("\\p{Ideo}|\\p{sc=Hang}|\\p{sc=Hira}|\\p{sc=Kana}","u").test(String.fromCodePoint(e))||l.u["CJK Unified Ideographs"](e)||l.u["Hangul Syllables"](e)||l.u.Hiragana(e)||l.u.Katakana(e)||l.u["CJK Symbols and Punctuation"](e)||l.u["Halfwidth and Fullwidth Forms"](e))}_tinySDF(e,n,u){const f=this.localIdeographFontFamily;if(!f||!this._doesCharSupportLocalGlyph(u))return;let y=e.tinySDF;if(!y){let T="400";/bold/i.test(n)?T="900":/medium/i.test(n)?T="500":/light/i.test(n)&&(T="200"),y=e.tinySDF=new Vt.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:f,fontWeight:T})}const D=y.draw(String.fromCharCode(u));return{id:u,bitmap:new l.q({width:D.width||60,height:D.height||60},D.data),metrics:{width:D.glyphWidth/2||24,height:D.glyphHeight/2||24,left:D.glyphLeft/2+.5||0,top:D.glyphTop/2-27.5||-8,advance:D.glyphAdvance/2||24,isDoubleResolution:!0}}}}Vt.loadGlyphRange=function(m,e,n,u){return l._(this,void 0,void 0,function*(){const f=256*e,y=f+255,D=u.transformRequest(n.replace("{fontstack}",m).replace("{range}",`${f}-${y}`),"Glyphs"),T=yield l.n(D,new AbortController);if(!T||!T.data)throw new Error(`Could not load glyph range. range: ${e}, ${f}-${y}`);const k={};for(const z of l.o(T.data))k[z.id]=z;return k})},Vt.TinySDF=class{constructor({fontSize:m=24,buffer:e=3,radius:n=8,cutoff:u=.25,fontFamily:f="sans-serif",fontWeight:y="normal",fontStyle:D="normal"}={}){this.buffer=e,this.cutoff=u,this.radius=n;const T=this.size=m+4*e,k=this._createCanvas(T),z=this.ctx=k.getContext("2d",{willReadFrequently:!0});z.font=`${D} ${y} ${m}px ${f}`,z.textBaseline="alphabetic",z.textAlign="left",z.fillStyle="black",this.gridOuter=new Float64Array(T*T),this.gridInner=new Float64Array(T*T),this.f=new Float64Array(T),this.z=new Float64Array(T+1),this.v=new Uint16Array(T)}_createCanvas(m){const e=document.createElement("canvas");return e.width=e.height=m,e}draw(m){const{width:e,actualBoundingBoxAscent:n,actualBoundingBoxDescent:u,actualBoundingBoxLeft:f,actualBoundingBoxRight:y}=this.ctx.measureText(m),D=Math.ceil(n),T=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(y-f))),k=Math.min(this.size-this.buffer,D+Math.ceil(u)),z=T+2*this.buffer,O=k+2*this.buffer,W=Math.max(z*O,0),Z=new Uint8ClampedArray(W),Q={data:Z,width:z,height:O,glyphWidth:T,glyphHeight:k,glyphTop:D,glyphLeft:0,glyphAdvance:e};if(T===0||k===0)return Q;const{ctx:ie,buffer:De,gridInner:we,gridOuter:Ce}=this;ie.clearRect(De,De,T,k),ie.fillText(m,De,De+D);const ke=ie.getImageData(De,De,T,k);Ce.fill(Dt,0,W),we.fill(0,0,W);for(let Le=0;Le<k;Le++)for(let Ee=0;Ee<T;Ee++){const Be=ke.data[4*(Le*T+Ee)+3]/255;if(Be===0)continue;const $e=(Le+De)*z+Ee+De;if(Be===1)Ce[$e]=0,we[$e]=Dt;else{const Ve=.5-Be;Ce[$e]=Ve>0?Ve*Ve:0,we[$e]=Ve<0?Ve*Ve:0}}Mt(Ce,0,0,z,O,z,this.f,this.v,this.z),Mt(we,De,De,T,k,z,this.f,this.v,this.z);for(let Le=0;Le<W;Le++){const Ee=Math.sqrt(Ce[Le])-Math.sqrt(we[Le]);Z[Le]=Math.round(255-255*(Ee/this.radius+this.cutoff))}return Q}};class Nt{constructor(){this.specification=l.v.light.position}possiblyEvaluate(e,n){return l.z(e.expression.evaluate(n))}interpolate(e,n,u){return{x:l.B.number(e.x,n.x,u),y:l.B.number(e.y,n.y,u),z:l.B.number(e.z,n.z,u)}}}let $t;class dn extends l.E{constructor(e){super(),$t=$t||new l.r({anchor:new l.D(l.v.light.anchor),position:new Nt,color:new l.D(l.v.light.color),intensity:new l.D(l.v.light.intensity)}),this._transitionable=new l.T($t),this.setLight(e),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(e,n={}){if(!this._validate(l.t,e,n))for(const u in e){const f=e[u];u.endsWith("-transition")?this._transitionable.setTransition(u.slice(0,-11),f):this._transitionable.setValue(u,f)}}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}_validate(e,n,u){return(!u||u.validate!==!1)&&l.x(this,e.call(l.y,{value:n,style:{glyphs:!0,sprite:!0},styleSpec:l.v}))}}const yt=new l.r({"sky-color":new l.D(l.v.sky["sky-color"]),"horizon-color":new l.D(l.v.sky["horizon-color"]),"fog-color":new l.D(l.v.sky["fog-color"]),"fog-ground-blend":new l.D(l.v.sky["fog-ground-blend"]),"horizon-fog-blend":new l.D(l.v.sky["horizon-fog-blend"]),"sky-horizon-blend":new l.D(l.v.sky["sky-horizon-blend"]),"atmosphere-blend":new l.D(l.v.sky["atmosphere-blend"])});class mt extends l.E{constructor(e){super(),this._transitionable=new l.T(yt),this.setSky(e),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new l.C(0))}setSky(e,n={}){if(!this._validate(l.F,e,n)){e||(e={"sky-color":"transparent","horizon-color":"transparent","fog-color":"transparent","fog-ground-blend":1,"atmosphere-blend":0});for(const u in e){const f=e[u];u.endsWith("-transition")?this._transitionable.setTransition(u.slice(0,-11),f):this._transitionable.setValue(u,f)}}}getSky(){return this._transitionable.serialize()}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}_validate(e,n,u={}){return(u==null?void 0:u.validate)!==!1&&l.x(this,e.call(l.y,l.e({value:n,style:{glyphs:!0,sprite:!0},styleSpec:l.v})))}calculateFogBlendOpacity(e){return e<60?0:e<70?(e-60)/10:1}}class Ot{constructor(e,n){this.width=e,this.height=n,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(e,n){const u=e.join(",")+String(n);return this.dashEntry[u]||(this.dashEntry[u]=this.addDash(e,n)),this.dashEntry[u]}getDashRanges(e,n,u){const f=[];let y=e.length%2==1?-e[e.length-1]*u:0,D=e[0]*u,T=!0;f.push({left:y,right:D,isDash:T,zeroLength:e[0]===0});let k=e[0];for(let z=1;z<e.length;z++){T=!T;const O=e[z];y=k*u,k+=O,D=k*u,f.push({left:y,right:D,isDash:T,zeroLength:O===0})}return f}addRoundDash(e,n,u){const f=n/2;for(let y=-u;y<=u;y++){const D=this.width*(this.nextRow+u+y);let T=0,k=e[T];for(let z=0;z<this.width;z++){z/k.right>1&&(k=e[++T]);const O=Math.abs(z-k.left),W=Math.abs(z-k.right),Z=Math.min(O,W);let Q;const ie=y/u*(f+1);if(k.isDash){const De=f-Math.abs(ie);Q=Math.sqrt(Z*Z+De*De)}else Q=f-Math.sqrt(Z*Z+ie*ie);this.data[D+z]=Math.max(0,Math.min(255,Q+128))}}}addRegularDash(e){for(let T=e.length-1;T>=0;--T){const k=e[T],z=e[T+1];k.zeroLength?e.splice(T,1):z&&z.isDash===k.isDash&&(z.left=k.left,e.splice(T,1))}const n=e[0],u=e[e.length-1];n.isDash===u.isDash&&(n.left=u.left-this.width,u.right=n.right+this.width);const f=this.width*this.nextRow;let y=0,D=e[y];for(let T=0;T<this.width;T++){T/D.right>1&&(D=e[++y]);const k=Math.abs(T-D.left),z=Math.abs(T-D.right),O=Math.min(k,z);this.data[f+T]=Math.max(0,Math.min(255,(D.isDash?O:-O)+128))}}addDash(e,n){const u=n?7:0,f=2*u+1;if(this.nextRow+f>this.height)return l.w("LineAtlas out of space"),null;let y=0;for(let T=0;T<e.length;T++)y+=e[T];if(y!==0){const T=this.width/y,k=this.getDashRanges(e,this.width,T);n?this.addRoundDash(k,T,u):this.addRegularDash(k)}const D={y:(this.nextRow+u+.5)/this.height,height:2*u/this.height,width:y};return this.nextRow+=f,this.dirty=!0,D}bind(e){const n=e.gl;this.texture?(n.bindTexture(n.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,n.texSubImage2D(n.TEXTURE_2D,0,0,0,this.width,this.height,n.ALPHA,n.UNSIGNED_BYTE,this.data))):(this.texture=n.createTexture(),n.bindTexture(n.TEXTURE_2D,this.texture),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.REPEAT),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.REPEAT),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texImage2D(n.TEXTURE_2D,0,n.ALPHA,this.width,this.height,0,n.ALPHA,n.UNSIGNED_BYTE,this.data))}}const We="maplibre_preloaded_worker_pool";class St{constructor(){this.active={}}acquire(e){if(!this.workers)for(this.workers=[];this.workers.length<St.workerCount;)this.workers.push(new Worker(l.a.WORKER_URL));return this.active[e]=!0,this.workers.slice()}release(e){delete this.active[e],this.numActive()===0&&(this.workers.forEach(n=>{n.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[We]}numActive(){return Object.keys(this.active).length}}const mn=Math.floor(ce.hardwareConcurrency/2);let cn,kt;function gn(){return cn||(cn=new St),cn}St.workerCount=l.G(globalThis)?Math.max(Math.min(mn,3),1):1;class wn{constructor(e,n){this.workerPool=e,this.actors=[],this.currentActor=0,this.id=n;const u=this.workerPool.acquire(n);for(let f=0;f<u.length;f++){const y=new l.H(u[f],n);y.name=`Worker ${f}`,this.actors.push(y)}if(!this.actors.length)throw new Error("No actors found")}broadcast(e,n){const u=[];for(const f of this.actors)u.push(f.sendAsync({type:e,data:n}));return Promise.all(u)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(e=!0){this.actors.forEach(n=>{n.remove()}),this.actors=[],e&&this.workerPool.release(this.id)}registerMessageHandler(e,n){for(const u of this.actors)u.registerMessageHandler(e,n)}}function Fn(){return kt||(kt=new wn(gn(),l.J),kt.registerMessageHandler("GR",(m,e,n)=>l.m(e,n))),kt}function Rn(m,e){const n=l.K();return l.L(n,n,[1,1,0]),l.M(n,n,[.5*m.width,.5*m.height,1]),m.calculatePosMatrix?l.N(n,n,m.calculatePosMatrix(e.toUnwrapped())):n}function An(m,e,n,u,f,y,D){var T;const k=function(Z,Q,ie){if(Z)for(const De of Z){const we=Q[De];if(we&&we.source===ie&&we.type==="fill-extrusion")return!0}else for(const De in Q){const we=Q[De];if(we.source===ie&&we.type==="fill-extrusion")return!0}return!1}((T=f==null?void 0:f.layers)!==null&&T!==void 0?T:null,e,m.id),z=y.maxPitchScaleFactor(),O=m.tilesIn(u,z,k);O.sort(Nn);const W=[];for(const Z of O)W.push({wrappedTileID:Z.tileID.wrapped().key,queryResults:Z.tile.queryRenderedFeatures(e,n,m._state,Z.queryGeometry,Z.cameraQueryGeometry,Z.scale,f,y,z,Rn(m.transform,Z.tileID),D?(Q,ie)=>D(Z.tileID,Q,ie):void 0)});return function(Z,Q){for(const ie in Z)for(const De of Z[ie])Kn(De,Q);return Z}(function(Z){const Q={},ie={};for(const De of Z){const we=De.queryResults,Ce=De.wrappedTileID,ke=ie[Ce]=ie[Ce]||{};for(const Le in we){const Ee=we[Le],Be=ke[Le]=ke[Le]||{},$e=Q[Le]=Q[Le]||[];for(const Ve of Ee)Be[Ve.featureIndex]||(Be[Ve.featureIndex]=!0,$e.push(Ve))}}return Q}(W),m)}function Nn(m,e){const n=m.tileID,u=e.tileID;return n.overscaledZ-u.overscaledZ||n.canonical.y-u.canonical.y||n.wrap-u.wrap||n.canonical.x-u.canonical.x}function Kn(m,e){const n=m.feature,u=e.getFeatureState(n.layer["source-layer"],n.id);n.source=n.layer.source,n.layer["source-layer"]&&(n.sourceLayer=n.layer["source-layer"]),n.state=u}function Hn(m,e,n){return l._(this,void 0,void 0,function*(){let u=m;if(m.url?u=(yield l.j(e.transformRequest(m.url,"Source"),n)).data:yield ce.frameAsync(n),!u)return null;const f=l.O(l.e(u,m),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in u&&u.vector_layers&&(f.vectorLayerIds=u.vector_layers.map(y=>y.id)),f})}class yn{constructor(e,n){e&&(n?this.setSouthWest(e).setNorthEast(n):Array.isArray(e)&&(e.length===4?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1])))}setNorthEast(e){return this._ne=e instanceof l.Q?new l.Q(e.lng,e.lat):l.Q.convert(e),this}setSouthWest(e){return this._sw=e instanceof l.Q?new l.Q(e.lng,e.lat):l.Q.convert(e),this}extend(e){const n=this._sw,u=this._ne;let f,y;if(e instanceof l.Q)f=e,y=e;else{if(!(e instanceof yn))return Array.isArray(e)?e.length===4||e.every(Array.isArray)?this.extend(yn.convert(e)):this.extend(l.Q.convert(e)):e&&("lng"in e||"lon"in e)&&"lat"in e?this.extend(l.Q.convert(e)):this;if(f=e._sw,y=e._ne,!f||!y)return this}return n||u?(n.lng=Math.min(f.lng,n.lng),n.lat=Math.min(f.lat,n.lat),u.lng=Math.max(y.lng,u.lng),u.lat=Math.max(y.lat,u.lat)):(this._sw=new l.Q(f.lng,f.lat),this._ne=new l.Q(y.lng,y.lat)),this}getCenter(){return new l.Q((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new l.Q(this.getWest(),this.getNorth())}getSouthEast(){return new l.Q(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(e){const{lng:n,lat:u}=l.Q.convert(e);let f=this._sw.lng<=n&&n<=this._ne.lng;return this._sw.lng>this._ne.lng&&(f=this._sw.lng>=n&&n>=this._ne.lng),this._sw.lat<=u&&u<=this._ne.lat&&f}static convert(e){return e instanceof yn?e:e&&new yn(e)}static fromLngLat(e,n=0){const u=360*n/40075017,f=u/Math.cos(Math.PI/180*e.lat);return new yn(new l.Q(e.lng-f,e.lat-u),new l.Q(e.lng+f,e.lat+u))}adjustAntiMeridian(){const e=new l.Q(this._sw.lng,this._sw.lat),n=new l.Q(this._ne.lng,this._ne.lat);return new yn(e,e.lng>n.lng?new l.Q(n.lng+360,n.lat):n)}}class yr{constructor(e,n,u){this.bounds=yn.convert(this.validateBounds(e)),this.minzoom=n||0,this.maxzoom=u||24}validateBounds(e){return Array.isArray(e)&&e.length===4?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]}contains(e){const n=Math.pow(2,e.z),u=Math.floor(l.U(this.bounds.getWest())*n),f=Math.floor(l.S(this.bounds.getNorth())*n),y=Math.ceil(l.U(this.bounds.getEast())*n),D=Math.ceil(l.S(this.bounds.getSouth())*n);return e.x>=u&&e.x<y&&e.y>=f&&e.y<D}}class fi extends l.E{constructor(e,n,u,f){if(super(),this.id=e,this.dispatcher=u,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,l.e(this,l.O(n,["url","scheme","tileSize","promoteId"])),this._options=l.e({type:"vector"},n),this._collectResourceTiming=n.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(f)}load(){return l._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new l.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const e=yield Hn(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),e&&(l.e(this,e),e.bounds&&(this.tileBounds=new yr(e.bounds,this.minzoom,this.maxzoom)),this.fire(new l.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new l.l("data",{dataType:"source",sourceDataType:"content"})))}catch(e){this._tileJSONRequest=null,this.fire(new l.k(e))}})}loaded(){return this._loaded}hasTile(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}onAdd(e){this.map=e,this.load()}setSourceProperty(e){this._tileJSONRequest&&this._tileJSONRequest.abort(),e(),this.load()}setTiles(e){return this.setSourceProperty(()=>{this._options.tiles=e}),this}setUrl(e){return this.setSourceProperty(()=>{this.url=e,this._options.url=e}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return l.e({},this._options)}loadTile(e){return l._(this,void 0,void 0,function*(){const n=e.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),u={request:this.map._requestManager.transformRequest(n,"Tile"),uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,tileSize:this.tileSize*e.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity};u.request.collectResourceTiming=this._collectResourceTiming;let f="RT";if(e.actor&&e.state!=="expired"){if(e.state==="loading")return new Promise((y,D)=>{e.reloadPromise={resolve:y,reject:D}})}else e.actor=this.dispatcher.getActor(),f="LT";e.abortController=new AbortController;try{const y=yield e.actor.sendAsync({type:f,data:u},e.abortController);if(delete e.abortController,e.aborted)return;this._afterTileLoadWorkerResponse(e,y)}catch(y){if(delete e.abortController,e.aborted)return;if(y&&y.status!==404)throw y;this._afterTileLoadWorkerResponse(e,null)}})}_afterTileLoadWorkerResponse(e,n){if(n&&n.resourceTiming&&(e.resourceTiming=n.resourceTiming),n&&this.map._refreshExpiredTiles&&e.setExpiryData(n),e.loadVectorData(n,this.map.painter),e.reloadPromise){const u=e.reloadPromise;e.reloadPromise=null,this.loadTile(e).then(u.resolve).catch(u.reject)}}abortTile(e){return l._(this,void 0,void 0,function*(){e.abortController&&(e.abortController.abort(),delete e.abortController),e.actor&&(yield e.actor.sendAsync({type:"AT",data:{uid:e.uid,type:this.type,source:this.id}}))})}unloadTile(e){return l._(this,void 0,void 0,function*(){e.unloadVectorData(),e.actor&&(yield e.actor.sendAsync({type:"RMT",data:{uid:e.uid,type:this.type,source:this.id}}))})}hasTransition(){return!1}}class Ir extends l.E{constructor(e,n,u,f){super(),this.id=e,this.dispatcher=u,this.setEventedParent(f),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=l.e({type:"raster"},n),l.e(this,l.O(n,["url","scheme","tileSize"]))}load(){return l._(this,arguments,void 0,function*(e=!1){this._loaded=!1,this.fire(new l.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const n=yield Hn(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,n&&(l.e(this,n),n.bounds&&(this.tileBounds=new yr(n.bounds,this.minzoom,this.maxzoom)),this.fire(new l.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new l.l("data",{dataType:"source",sourceDataType:"content",sourceDataChanged:e})))}catch(n){this._tileJSONRequest=null,this.fire(new l.k(n))}})}loaded(){return this._loaded}onAdd(e){this.map=e,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(e){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),e(),this.load(!0)}setTiles(e){return this.setSourceProperty(()=>{this._options.tiles=e}),this}setUrl(e){return this.setSourceProperty(()=>{this.url=e,this._options.url=e}),this}serialize(){return l.e({},this._options)}hasTile(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}loadTile(e){return l._(this,void 0,void 0,function*(){const n=e.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);e.abortController=new AbortController;try{const u=yield Me.getImage(this.map._requestManager.transformRequest(n,"Tile"),e.abortController,this.map._refreshExpiredTiles);if(delete e.abortController,e.aborted)return void(e.state="unloaded");if(u&&u.data){this.map._refreshExpiredTiles&&(u.cacheControl||u.expires)&&e.setExpiryData({cacheControl:u.cacheControl,expires:u.expires});const f=this.map.painter.context,y=f.gl,D=u.data;e.texture=this.map.painter.getTileTexture(D.width),e.texture?e.texture.update(D,{useMipmap:!0}):(e.texture=new Pt(f,D,y.RGBA,{useMipmap:!0}),e.texture.bind(y.LINEAR,y.CLAMP_TO_EDGE,y.LINEAR_MIPMAP_NEAREST)),e.state="loaded"}}catch(u){if(delete e.abortController,e.aborted)e.state="unloaded";else if(u)throw e.state="errored",u}})}abortTile(e){return l._(this,void 0,void 0,function*(){e.abortController&&(e.abortController.abort(),delete e.abortController)})}unloadTile(e){return l._(this,void 0,void 0,function*(){e.texture&&this.map.painter.saveTileTexture(e.texture)})}hasTransition(){return!1}}class Xr extends Ir{constructor(e,n,u,f){super(e,n,u,f),this.type="raster-dem",this.maxzoom=22,this._options=l.e({type:"raster-dem"},n),this.encoding=n.encoding||"mapbox",this.redFactor=n.redFactor,this.greenFactor=n.greenFactor,this.blueFactor=n.blueFactor,this.baseShift=n.baseShift}loadTile(e){return l._(this,void 0,void 0,function*(){const n=e.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),u=this.map._requestManager.transformRequest(n,"Tile");e.neighboringTiles=this._getNeighboringTiles(e.tileID),e.abortController=new AbortController;try{const f=yield Me.getImage(u,e.abortController,this.map._refreshExpiredTiles);if(delete e.abortController,e.aborted)return void(e.state="unloaded");if(f&&f.data){const y=f.data;this.map._refreshExpiredTiles&&(f.cacheControl||f.expires)&&e.setExpiryData({cacheControl:f.cacheControl,expires:f.expires});const D=l.b(y)&&l.V()?y:yield this.readImageNow(y),T={type:this.type,uid:e.uid,source:this.id,rawImageData:D,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!e.actor||e.state==="expired"){e.actor=this.dispatcher.getActor();const k=yield e.actor.sendAsync({type:"LDT",data:T});e.dem=k,e.needsHillshadePrepare=!0,e.needsTerrainPrepare=!0,e.state="loaded"}}}catch(f){if(delete e.abortController,e.aborted)e.state="unloaded";else if(f)throw e.state="errored",f}})}readImageNow(e){return l._(this,void 0,void 0,function*(){if(typeof VideoFrame<"u"&&l.W()){const n=e.width+2,u=e.height+2;try{return new l.R({width:n,height:u},yield l.X(e,-1,-1,n,u))}catch{}}return ce.getImageData(e,1)})}_getNeighboringTiles(e){const n=e.canonical,u=Math.pow(2,n.z),f=(n.x-1+u)%u,y=n.x===0?e.wrap-1:e.wrap,D=(n.x+1+u)%u,T=n.x+1===u?e.wrap+1:e.wrap,k={};return k[new l.Y(e.overscaledZ,y,n.z,f,n.y).key]={backfilled:!1},k[new l.Y(e.overscaledZ,T,n.z,D,n.y).key]={backfilled:!1},n.y>0&&(k[new l.Y(e.overscaledZ,y,n.z,f,n.y-1).key]={backfilled:!1},k[new l.Y(e.overscaledZ,e.wrap,n.z,n.x,n.y-1).key]={backfilled:!1},k[new l.Y(e.overscaledZ,T,n.z,D,n.y-1).key]={backfilled:!1}),n.y+1<u&&(k[new l.Y(e.overscaledZ,y,n.z,f,n.y+1).key]={backfilled:!1},k[new l.Y(e.overscaledZ,e.wrap,n.z,n.x,n.y+1).key]={backfilled:!1},k[new l.Y(e.overscaledZ,T,n.z,D,n.y+1).key]={backfilled:!1}),k}unloadTile(e){return l._(this,void 0,void 0,function*(){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded",e.actor&&(yield e.actor.sendAsync({type:"RDT",data:{type:this.type,uid:e.uid,source:this.id}}))})}}class Gi extends l.E{constructor(e,n,u,f){super(),this.id=e,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=u.getActor(),this.setEventedParent(f),this._data=n.data,this._options=l.e({},n),this._collectResourceTiming=n.collectResourceTiming,n.maxzoom!==void 0&&(this.maxzoom=n.maxzoom),n.type&&(this.type=n.type),n.attribution&&(this.attribution=n.attribution),this.promoteId=n.promoteId,n.clusterMaxZoom!==void 0&&this.maxzoom<=n.clusterMaxZoom&&l.w(`The maxzoom value "${this.maxzoom}" is expected to be greater than the clusterMaxZoom value "${n.clusterMaxZoom}".`),this.workerOptions=l.e({source:this.id,cluster:n.cluster||!1,geojsonVtOptions:{buffer:this._pixelsToTileUnits(n.buffer!==void 0?n.buffer:128),tolerance:this._pixelsToTileUnits(n.tolerance!==void 0?n.tolerance:.375),extent:l.Z,maxZoom:this.maxzoom,lineMetrics:n.lineMetrics||!1,generateId:n.generateId||!1},superclusterOptions:{maxZoom:n.clusterMaxZoom!==void 0?n.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,n.clusterMinPoints||2),extent:l.Z,radius:this._pixelsToTileUnits(n.clusterRadius||50),log:!1,generateId:n.generateId||!1},clusterProperties:n.clusterProperties,filter:n.filter},n.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}_pixelsToTileUnits(e){return e*(l.Z/this.tileSize)}load(){return l._(this,void 0,void 0,function*(){yield this._updateWorkerData()})}onAdd(e){this.map=e,this.load()}setData(e){return this._data=e,this._updateWorkerData(),this}updateData(e){return this._updateWorkerData(e),this}getData(){return l._(this,void 0,void 0,function*(){const e=l.e({type:this.type},this.workerOptions);return this.actor.sendAsync({type:"GD",data:e})})}getCoordinatesFromGeometry(e){return e.type==="GeometryCollection"?e.geometries.map(n=>n.coordinates).flat(1/0):e.coordinates.flat(1/0)}getBounds(){return l._(this,void 0,void 0,function*(){const e=new yn,n=yield this.getData();let u;switch(n.type){case"FeatureCollection":u=n.features.map(f=>this.getCoordinatesFromGeometry(f.geometry)).flat(1/0);break;case"Feature":u=this.getCoordinatesFromGeometry(n.geometry);break;default:u=this.getCoordinatesFromGeometry(n)}if(u.length==0)return e;for(let f=0;f<u.length-1;f+=2)e.extend([u[f],u[f+1]]);return e})}setClusterOptions(e){return this.workerOptions.cluster=e.cluster,e&&(e.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=this._pixelsToTileUnits(e.clusterRadius)),e.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=e.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(e){return this.actor.sendAsync({type:"GCEZ",data:{type:this.type,clusterId:e,source:this.id}})}getClusterChildren(e){return this.actor.sendAsync({type:"GCC",data:{type:this.type,clusterId:e,source:this.id}})}getClusterLeaves(e,n,u){return this.actor.sendAsync({type:"GCL",data:{type:this.type,source:this.id,clusterId:e,limit:n,offset:u}})}_updateWorkerData(e){return l._(this,void 0,void 0,function*(){const n=l.e({type:this.type},this.workerOptions);e?n.dataDiff=e:typeof this._data=="string"?(n.request=this.map._requestManager.transformRequest(ce.resolveURL(this._data),"Source"),n.request.collectResourceTiming=this._collectResourceTiming):n.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new l.l("dataloading",{dataType:"source"}));try{const u=yield this.actor.sendAsync({type:"LD",data:n});if(this._pendingLoads--,this._removed||u.abandoned)return void this.fire(new l.l("dataabort",{dataType:"source"}));let f=null;u.resourceTiming&&u.resourceTiming[this.id]&&(f=u.resourceTiming[this.id].slice(0));const y={dataType:"source"};this._collectResourceTiming&&f&&f.length>0&&l.e(y,{resourceTiming:f}),this.fire(new l.l("data",Object.assign(Object.assign({},y),{sourceDataType:"metadata"}))),this.fire(new l.l("data",Object.assign(Object.assign({},y),{sourceDataType:"content"})))}catch(u){if(this._pendingLoads--,this._removed)return void this.fire(new l.l("dataabort",{dataType:"source"}));this.fire(new l.k(u))}})}loaded(){return this._pendingLoads===0}loadTile(e){return l._(this,void 0,void 0,function*(){const n=e.actor?"RT":"LT";e.actor=this.actor;const u={type:this.type,uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity};e.abortController=new AbortController;const f=yield this.actor.sendAsync({type:n,data:u},e.abortController);delete e.abortController,e.unloadVectorData(),e.aborted||e.loadVectorData(f,this.map.painter,n==="RT")})}abortTile(e){return l._(this,void 0,void 0,function*(){e.abortController&&(e.abortController.abort(),delete e.abortController),e.aborted=!0})}unloadTile(e){return l._(this,void 0,void 0,function*(){e.unloadVectorData(),yield this.actor.sendAsync({type:"RMT",data:{uid:e.uid,type:this.type,source:this.id}})})}onRemove(){this._removed=!0,this.actor.sendAsync({type:"RS",data:{type:this.type,source:this.id}})}serialize(){return l.e({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}class vr extends l.E{constructor(e,n,u,f){super(),this.flippedWindingOrder=!1,this.id=e,this.dispatcher=u,this.coordinates=n.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(f),this.options=n}load(e){return l._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new l.l("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{const n=yield Me.getImage(this.map._requestManager.transformRequest(this.url,"Image"),this._request);this._request=null,this._loaded=!0,n&&n.data&&(this.image=n.data,e&&(this.coordinates=e),this._finishLoading())}catch(n){this._request=null,this._loaded=!0,this.fire(new l.k(n))}})}loaded(){return this._loaded}updateImage(e){return e.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=e.url,this.load(e.coordinates).finally(()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new l.l("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(e){this.map=e,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(e){this.coordinates=e;const n=e.map(l.$.fromLngLat);var u;return this.tileID=function(f){let y=1/0,D=1/0,T=-1/0,k=-1/0;for(const Z of f)y=Math.min(y,Z.x),D=Math.min(D,Z.y),T=Math.max(T,Z.x),k=Math.max(k,Z.y);const z=Math.max(T-y,k-D),O=Math.max(0,Math.floor(-Math.log(z)/Math.LN2)),W=Math.pow(2,O);return new l.a1(O,Math.floor((y+T)/2*W),Math.floor((D+k)/2*W))}(n),this.terrainTileRanges=this._getOverlappingTileRanges(n),this.minzoom=this.maxzoom=this.tileID.z,this.tileCoords=n.map(f=>this.tileID.getTilePoint(f)._round()),this.flippedWindingOrder=((u=this.tileCoords)[1].x-u[0].x)*(u[2].y-u[0].y)-(u[1].y-u[0].y)*(u[2].x-u[0].x)<0,this.fire(new l.l("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const e=this.map.painter.context,n=e.gl;this.texture||(this.texture=new Pt(e,this.image,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE));let u=!1;for(const f in this.tiles){const y=this.tiles[f];y.state!=="loaded"&&(y.state="loaded",y.texture=this.texture,u=!0)}u&&this.fire(new l.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(e){return l._(this,void 0,void 0,function*(){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={}):e.state="errored"})}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}_getOverlappingTileRanges(e){let n=1/0,u=1/0,f=-1/0,y=-1/0;for(const T of e)n=Math.min(n,T.x),u=Math.min(u,T.y),f=Math.max(f,T.x),y=Math.max(y,T.y);const D={};for(let T=0;T<=l.a0;T++){const k=Math.pow(2,T),z=Math.floor(n*k),O=Math.floor(u*k),W=Math.floor(f*k),Z=Math.floor(y*k);D[T]={minTileX:z,minTileY:O,maxTileX:W,maxTileY:Z}}return D}}class lr extends vr{constructor(e,n,u,f){super(e,n,u,f),this.roundZoom=!0,this.type="video",this.options=n}load(){return l._(this,void 0,void 0,function*(){this._loaded=!1;const e=this.options;this.urls=[];for(const n of e.urls)this.urls.push(this.map._requestManager.transformRequest(n,"Source").url);try{const n=yield l.a2(this.urls);if(this._loaded=!0,!n)return;this.video=n,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading()}catch(n){this.fire(new l.k(n))}})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(e){if(this.video){const n=this.video.seekable;e<n.start(0)||e>n.end(0)?this.fire(new l.k(new l.a3(`sources.${this.id}`,null,`Playback for this video can be set only between the ${n.start(0)} and ${n.end(0)}-second mark.`))):this.video.currentTime=e}}getVideo(){return this.video}onAdd(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const e=this.map.painter.context,n=e.gl;this.texture?this.video.paused||(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.video)):(this.texture=new Pt(e,this.video,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE));let u=!1;for(const f in this.tiles){const y=this.tiles[f];y.state!=="loaded"&&(y.state="loaded",y.texture=this.texture,u=!0)}u&&this.fire(new l.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class Dn extends vr{constructor(e,n,u,f){super(e,n,u,f),n.coordinates?Array.isArray(n.coordinates)&&n.coordinates.length===4&&!n.coordinates.some(y=>!Array.isArray(y)||y.length!==2||y.some(D=>typeof D!="number"))||this.fire(new l.k(new l.a3(`sources.${e}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new l.k(new l.a3(`sources.${e}`,null,'missing required property "coordinates"'))),n.animate&&typeof n.animate!="boolean"&&this.fire(new l.k(new l.a3(`sources.${e}`,null,'optional "animate" property must be a boolean value'))),n.canvas?typeof n.canvas=="string"||n.canvas instanceof HTMLCanvasElement||this.fire(new l.k(new l.a3(`sources.${e}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new l.k(new l.a3(`sources.${e}`,null,'missing required property "canvas"'))),this.options=n,this.animate=n.animate===void 0||n.animate}load(){return l._(this,void 0,void 0,function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new l.k(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())})}getCanvas(){return this.canvas}onAdd(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let e=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,e=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,e=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const n=this.map.painter.context,u=n.gl;this.texture?(e||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new Pt(n,this.canvas,u.RGBA,{premultiply:!0});let f=!1;for(const y in this.tiles){const D=this.tiles[y];D.state!=="loaded"&&(D.state="loaded",D.texture=this.texture,f=!0)}f&&this.fire(new l.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const e of[this.canvas.width,this.canvas.height])if(isNaN(e)||e<=0)return!0;return!1}}const Lr={},ti=m=>{switch(m){case"geojson":return Gi;case"image":return vr;case"raster":return Ir;case"raster-dem":return Xr;case"vector":return fi;case"video":return lr;case"canvas":return Dn}return Lr[m]},Vi="RTLPluginLoaded";class Ga extends l.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=Fn()}_syncState(e){return this.status=e,this.dispatcher.broadcast("SRPS",{pluginStatus:e,pluginURL:this.url}).catch(n=>{throw this.status="error",n})}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(e){return l._(this,arguments,void 0,function*(n,u=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=ce.resolveURL(n),!this.url)throw new Error(`requested url ${n} is invalid`);if(this.status==="unavailable"){if(!u)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if(this.status==="requested")return this._requestImport()})}_requestImport(){return l._(this,void 0,void 0,function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new l.l(Vi))})}lazyLoad(){this.status==="unavailable"?this.status="requested":this.status==="deferred"&&this._requestImport()}}let Zi=null;function Yr(){return Zi||(Zi=new Ga),Zi}class Li{constructor(e,n){this.timeAdded=0,this.fadeEndTime=0,this.tileID=e,this.uid=l.a4(),this.uses=0,this.tileSize=n,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(e){const n=e+this.timeAdded;n<this.fadeEndTime||(this.fadeEndTime=n)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(e){this.demTexture&&e.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(e,n,u){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",e){e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(f,y){const D={};if(!y)return D;for(const T of f){const k=T.layerIds.map(z=>y.getLayer(z)).filter(Boolean);if(k.length!==0){T.layers=k,T.stateDependentLayerIds&&(T.stateDependentLayers=T.stateDependentLayerIds.map(z=>k.filter(O=>O.id===z)[0]));for(const z of k)D[z.id]=T}}return D}(e.buckets,n==null?void 0:n.style),this.hasSymbolBuckets=!1;for(const f in this.buckets){const y=this.buckets[f];if(y instanceof l.a6){if(this.hasSymbolBuckets=!0,!u)break;y.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const f in this.buckets){const y=this.buckets[f];if(y instanceof l.a6&&y.hasRTLText){this.hasRTLText=!0,Yr().lazyLoad();break}}this.queryPadding=0;for(const f in this.buckets){const y=this.buckets[f];this.queryPadding=Math.max(this.queryPadding,n.style.getLayer(f).queryRadius(y))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage)}else this.collisionBoxArray=new l.a5}unloadVectorData(){for(const e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(e){return this.buckets[e.id]}upload(e){for(const u in this.buckets){const f=this.buckets[u];f.uploadPending()&&f.upload(e)}const n=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Pt(e,this.imageAtlas.image,n.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Pt(e,this.glyphAtlasImage,n.ALPHA),this.glyphAtlasImage=null)}prepare(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)}queryRenderedFeatures(e,n,u,f,y,D,T,k,z,O,W){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:f,cameraQueryGeometry:y,scale:D,tileSize:this.tileSize,pixelPosMatrix:O,transform:k,params:T,queryPadding:this.queryPadding*z,getElevation:W},e,n,u):{}}querySourceFeatures(e,n){const u=this.latestFeatureIndex;if(!u||!u.rawTileData)return;const f=u.loadVTLayers(),y=n&&n.sourceLayer?n.sourceLayer:"",D=f._geojsonTileLayer||f[y];if(!D)return;const T=l.a7(n&&n.filter),{z:k,x:z,y:O}=this.tileID.canonical,W={z:k,x:z,y:O};for(let Z=0;Z<D.length;Z++){const Q=D.feature(Z);if(T.needGeometry){const we=l.a8(Q,!0);if(!T.filter(new l.C(this.tileID.overscaledZ),we,this.tileID.canonical))continue}else if(!T.filter(new l.C(this.tileID.overscaledZ),Q))continue;const ie=u.getId(Q,y),De=new l.a9(Q,k,z,O,ie);De.tile=W,e.push(De)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(e){const n=this.expirationTime;if(e.cacheControl){const u=l.aa(e.cacheControl);u["max-age"]&&(this.expirationTime=Date.now()+1e3*u["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){const u=Date.now();let f=!1;if(this.expirationTime>u)f=!1;else if(n)if(this.expirationTime<n)f=!0;else{const y=this.expirationTime-n;y?this.expirationTime=u+Math.max(y,3e4):f=!0}else f=!0;f?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(e,n){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(e).length===0)return;const u=this.latestFeatureIndex.loadVTLayers();for(const f in this.buckets){if(!n.style.hasLayer(f))continue;const y=this.buckets[f],D=y.layers[0].sourceLayer||"_geojsonTileLayer",T=u[D],k=e[D];if(!T||!k||Object.keys(k).length===0)continue;y.update(k,T,this.imageAtlas&&this.imageAtlas.patternPositions||{});const z=n&&n.style&&n.style.getLayer(f);z&&(this.queryPadding=Math.max(this.queryPadding,z.queryRadius(y)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<ce.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(e){this.symbolFadeHoldUntil=ce.now()+e}setDependencies(e,n){const u={};for(const f of n)u[f]=!0;this.dependencies[e]=u}hasDependency(e,n){for(const u of e){const f=this.dependencies[u];if(f){for(const y of n)if(f[y])return!0}}return!1}}class bi{constructor(e,n){this.max=e,this.onRemove=n,this.reset()}reset(){for(const e in this.data)for(const n of this.data[e])n.timeout&&clearTimeout(n.timeout),this.onRemove(n.value);return this.data={},this.order=[],this}add(e,n,u){const f=e.wrapped().key;this.data[f]===void 0&&(this.data[f]=[]);const y={value:n,timeout:void 0};if(u!==void 0&&(y.timeout=setTimeout(()=>{this.remove(e,y)},u)),this.data[f].push(y),this.order.push(f),this.order.length>this.max){const D=this._getAndRemoveByKey(this.order[0]);D&&this.onRemove(D)}return this}has(e){return e.wrapped().key in this.data}getAndRemove(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null}_getAndRemoveByKey(e){const n=this.data[e].shift();return n.timeout&&clearTimeout(n.timeout),this.data[e].length===0&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),n.value}getByKey(e){const n=this.data[e];return n?n[0].value:null}get(e){return this.has(e)?this.data[e.wrapped().key][0].value:null}remove(e,n){if(!this.has(e))return this;const u=e.wrapped().key,f=n===void 0?0:this.data[u].indexOf(n),y=this.data[u][f];return this.data[u].splice(f,1),y.timeout&&clearTimeout(y.timeout),this.data[u].length===0&&delete this.data[u],this.onRemove(y.value),this.order.splice(this.order.indexOf(u),1),this}setMaxSize(e){for(this.max=e;this.order.length>this.max;){const n=this._getAndRemoveByKey(this.order[0]);n&&this.onRemove(n)}return this}filter(e){const n=[];for(const u in this.data)for(const f of this.data[u])e(f.value)||n.push(f);for(const u of n)this.remove(u.value.tileID,u)}}class xr{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(e,n,u){const f=String(n);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][f]=this.stateChanges[e][f]||{},l.e(this.stateChanges[e][f],u),this.deletedStates[e]===null){this.deletedStates[e]={};for(const y in this.state[e])y!==f&&(this.deletedStates[e][y]=null)}else if(this.deletedStates[e]&&this.deletedStates[e][f]===null){this.deletedStates[e][f]={};for(const y in this.state[e][f])u[y]||(this.deletedStates[e][f][y]=null)}else for(const y in u)this.deletedStates[e]&&this.deletedStates[e][f]&&this.deletedStates[e][f][y]===null&&delete this.deletedStates[e][f][y]}removeFeatureState(e,n,u){if(this.deletedStates[e]===null)return;const f=String(n);if(this.deletedStates[e]=this.deletedStates[e]||{},u&&n!==void 0)this.deletedStates[e][f]!==null&&(this.deletedStates[e][f]=this.deletedStates[e][f]||{},this.deletedStates[e][f][u]=null);else if(n!==void 0)if(this.stateChanges[e]&&this.stateChanges[e][f])for(u in this.deletedStates[e][f]={},this.stateChanges[e][f])this.deletedStates[e][f][u]=null;else this.deletedStates[e][f]=null;else this.deletedStates[e]=null}getState(e,n){const u=String(n),f=l.e({},(this.state[e]||{})[u],(this.stateChanges[e]||{})[u]);if(this.deletedStates[e]===null)return{};if(this.deletedStates[e]){const y=this.deletedStates[e][n];if(y===null)return{};for(const D in y)delete f[D]}return f}initializeTileState(e,n){e.setFeatureState(this.state,n)}coalesceChanges(e,n){const u={};for(const f in this.stateChanges){this.state[f]=this.state[f]||{};const y={};for(const D in this.stateChanges[f])this.state[f][D]||(this.state[f][D]={}),l.e(this.state[f][D],this.stateChanges[f][D]),y[D]=this.state[f][D];u[f]=y}for(const f in this.deletedStates){this.state[f]=this.state[f]||{};const y={};if(this.deletedStates[f]===null)for(const D in this.state[f])y[D]={},this.state[f][D]={};else for(const D in this.deletedStates[f]){if(this.deletedStates[f][D]===null)this.state[f][D]={};else for(const T of Object.keys(this.deletedStates[f][D]))delete this.state[f][D][T];y[D]=this.state[f][D]}u[f]=u[f]||{},l.e(u[f],y)}if(this.stateChanges={},this.deletedStates={},Object.keys(u).length!==0)for(const f in e)e[f].setFeatureState(u,n)}}const wi=89.25;function ni(m,e){const n=l.ae(e.lat,-85.051129,l.af);return new l.P(l.U(e.lng)*m,l.S(n)*m)}function ma(m,e){return new l.$(e.x/m,e.y/m).toLngLat()}function Fe(m){return m.cameraToCenterDistance*Math.min(.85*Math.tan(l.ab(90-m.pitch)),Math.tan(l.ab(wi-m.pitch)))}function ne(m,e){const n=m.canonical,u=e/l.ac(n.z),f=n.x+Math.pow(2,n.z)*m.wrap,y=l.ad(new Float64Array(16));return l.L(y,y,[f*u,n.y*u,0]),l.M(y,y,[u/l.Z,u/l.Z,1]),y}function ae(m,e,n,u,f){const y=l.$.fromLngLat(m,e),D=f*l.ag(1,m.lat),T=D*Math.cos(l.ab(n)),k=Math.sqrt(D*D-T*T),z=k*Math.sin(l.ab(-u)),O=k*Math.cos(l.ab(-u));return new l.$(y.x+z,y.y+O,y.z+T)}function _e(m,e,n){const u=e.intersectsFrustum(m);if(!n)return u;const f=e.intersectsPlane(n);return u===0||f===0?0:u===2&&f===2?2:1}function Te(m,e,n){let u=0;const f=(n-e)/10;for(let y=0;y<10;y++)u+=f*Math.pow(Math.cos(e+(y+.5)/10*(n-e)),m);return u}function Ze(m,e){return function(n,u,f,y,D){const T=2*((m-1)/l.ah(Math.cos(l.ab(wi-D))/Math.cos(l.ab(wi)))-1),k=Math.acos(f/y),z=2*Te(T-1,0,l.ab(D/2)),O=Math.min(l.ab(wi),k+l.ab(D/2)),W=Te(T-1,Math.min(O,k-l.ab(D/2)),O),Z=Math.atan(u/f),Q=Math.hypot(u,f);let ie=n;return ie+=l.ah(y/Q/Math.max(.5,Math.cos(l.ab(D/2)))),ie+=T*l.ah(Math.cos(Z))/2,ie-=l.ah(Math.max(1,W/z/e))/2,ie}}const ge=Ze(9.314,3);function Je(m,e){const n=(e.roundZoom?Math.round:Math.floor)(m.zoom+l.ah(m.tileSize/e.tileSize));return Math.max(0,n)}function Ye(m,e){const n=m.getCameraFrustum(),u=m.getClippingPlane(),f=m.screenPointToMercatorCoordinate(m.getCameraPoint()),y=l.$.fromLngLat(m.center,m.elevation);f.z=y.z+Math.cos(m.pitchInRadians)*m.cameraToCenterDistance/m.worldSize;const D=m.getCoveringTilesDetailsProvider(),T=D.allowVariableZoom(m,e),k=Je(m,e),z=e.minzoom||0,O=e.maxzoom!==void 0?e.maxzoom:m.maxZoom,W=Math.min(Math.max(0,k),O),Z=Math.pow(2,W),Q=[Z*f.x,Z*f.y,0],ie=[Z*y.x,Z*y.y,0],De=Math.hypot(y.x-f.x,y.y-f.y),we=Math.abs(y.z-f.z),Ce=Math.hypot(De,we),ke=Be=>({zoom:0,x:0,y:0,wrap:Be,fullyVisible:!1}),Le=[],Ee=[];if(m.renderWorldCopies&&D.allowWorldCopies())for(let Be=1;Be<=3;Be++)Le.push(ke(-Be)),Le.push(ke(Be));for(Le.push(ke(0));Le.length>0;){const Be=Le.pop(),$e=Be.x,Ve=Be.y;let lt=Be.fullyVisible;const At={x:$e,y:Ve,z:Be.zoom},nt=D.getTileAABB(At,Be.wrap,m.elevation,e);if(!lt){const rn=_e(n,nt,u);if(rn===0)continue;lt=rn===2}const ht=D.distanceToTile2d(f.x,f.y,At,nt);let Ct=k;T&&(Ct=(e.calculateTileZoom||ge)(m.zoom+l.ah(m.tileSize/e.tileSize),ht,we,Ce,m.fov)),Ct=(e.roundZoom?Math.round:Math.floor)(Ct),Ct=Math.max(0,Ct);const nn=Math.min(Ct,O);if(Be.wrap=D.getWrap(y,At,Be.wrap),Be.zoom>=nn){if(Be.zoom<z)continue;const rn=W-Be.zoom,Gt=Q[0]-.5-($e<<rn),bn=Q[1]-.5-(Ve<<rn),Zn=e.reparseOverscaled?Math.max(Be.zoom,Ct):Be.zoom;Ee.push({tileID:new l.Y(Be.zoom===O?Zn:Be.zoom,Be.wrap,Be.zoom,$e,Ve),distanceSq:l.ai([ie[0]-.5-$e,ie[1]-.5-Ve]),tileDistanceToCamera:Math.sqrt(Gt*Gt+bn*bn)})}else for(let rn=0;rn<4;rn++)Le.push({zoom:Be.zoom+1,x:($e<<1)+rn%2,y:(Ve<<1)+(rn>>1),wrap:Be.wrap,fullyVisible:lt})}return Ee.sort((Be,$e)=>Be.distanceSq-$e.distanceSq).map(Be=>Be.tileID)}class at extends l.E{constructor(e,n,u){super(),this.id=e,this.dispatcher=u,this.on("data",f=>this._dataHandler(f)),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((f,y,D,T)=>{const k=new(ti(y.type))(f,y,D,T);if(k.id!==f)throw new Error(`Expected Source id to be ${f} instead of ${k.id}`);return k})(e,n,u,this),this._tiles={},this._cache=new bi(0,f=>this._unloadTile(f)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new xr,this._didEmitContent=!1,this._updated=!1}onAdd(e){this.map=e,this._maxTileCacheSize=e?e._maxTileCacheSize:null,this._maxTileCacheZoomLevels=e?e._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(e)}onRemove(e){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(e)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const e in this._tiles){const n=this._tiles[e];if(n.state!=="loaded"&&n.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(e,n,u){return l._(this,void 0,void 0,function*(){try{yield this._source.loadTile(e),this._tileLoaded(e,n,u)}catch(f){e.state="errored",f.status!==404?this._source.fire(new l.k(f,{tile:e})):this.update(this.transform,this.terrain)}})}_unloadTile(e){this._source.unloadTile&&this._source.unloadTile(e)}_abortTile(e){this._source.abortTile&&this._source.abortTile(e),this._source.fire(new l.l("dataabort",{tile:e,coord:e.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(e){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const n in this._tiles){const u=this._tiles[n];u.upload(e),u.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(e=>e.tileID).sort(pt).map(e=>e.key)}getRenderableIds(e){const n=[];for(const u in this._tiles)this._isIdRenderable(u,e)&&n.push(this._tiles[u]);return e?n.sort((u,f)=>{const y=u.tileID,D=f.tileID,T=new l.P(y.canonical.x,y.canonical.y)._rotate(-this.transform.bearingInRadians),k=new l.P(D.canonical.x,D.canonical.y)._rotate(-this.transform.bearingInRadians);return y.overscaledZ-D.overscaledZ||k.y-T.y||k.x-T.x}).map(u=>u.tileID.key):n.map(u=>u.tileID).sort(pt).map(u=>u.key)}hasRenderableParent(e){const n=this.findLoadedParent(e,0);return!!n&&this._isIdRenderable(n.tileID.key)}_isIdRenderable(e,n){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(n||!this._tiles[e].holdingForFade())}reload(e){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const n in this._tiles)(e||this._tiles[n].state!=="errored")&&this._reloadTile(n,"reloading")}}_reloadTile(e,n){return l._(this,void 0,void 0,function*(){const u=this._tiles[e];u&&(u.state!=="loading"&&(u.state=n),yield this._loadTile(u,e,n))})}_tileLoaded(e,n,u){e.timeAdded=ce.now(),u==="expired"&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(n,e),this.getSource().type==="raster-dem"&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),e.aborted||this._source.fire(new l.l("data",{dataType:"source",tile:e,coord:e.tileID}))}_backfillDEM(e){const n=this.getRenderableIds();for(let f=0;f<n.length;f++){const y=n[f];if(e.neighboringTiles&&e.neighboringTiles[y]){const D=this.getTileByID(y);u(e,D),u(D,e)}}function u(f,y){f.needsHillshadePrepare=!0,f.needsTerrainPrepare=!0;let D=y.tileID.canonical.x-f.tileID.canonical.x;const T=y.tileID.canonical.y-f.tileID.canonical.y,k=Math.pow(2,f.tileID.canonical.z),z=y.tileID.key;D===0&&T===0||Math.abs(T)>1||(Math.abs(D)>1&&(Math.abs(D+k)===1?D+=k:Math.abs(D-k)===1&&(D-=k)),y.dem&&f.dem&&(f.dem.backfillBorder(y.dem,D,T),f.neighboringTiles&&f.neighboringTiles[z]&&(f.neighboringTiles[z].backfilled=!0)))}}getTile(e){return this.getTileByID(e.key)}getTileByID(e){return this._tiles[e]}_retainLoadedChildren(e,n,u,f){for(const y in this._tiles){let D=this._tiles[y];if(f[y]||!D.hasData()||D.tileID.overscaledZ<=n||D.tileID.overscaledZ>u)continue;let T=D.tileID;for(;D&&D.tileID.overscaledZ>n+1;){const z=D.tileID.scaledTo(D.tileID.overscaledZ-1);D=this._tiles[z.key],D&&D.hasData()&&(T=z)}let k=T;for(;k.overscaledZ>n;)if(k=k.scaledTo(k.overscaledZ-1),e[k.key]||e[k.canonical.key]){f[T.key]=T;break}}}findLoadedParent(e,n){if(e.key in this._loadedParentTiles){const u=this._loadedParentTiles[e.key];return u&&u.tileID.overscaledZ>=n?u:null}for(let u=e.overscaledZ-1;u>=n;u--){const f=e.scaledTo(u),y=this._getLoadedTile(f);if(y)return y}}findLoadedSibling(e){return this._getLoadedTile(e)}_getLoadedTile(e){const n=this._tiles[e.key];return n&&n.hasData()?n:this._cache.getByKey(e.wrapped().key)}updateCacheSize(e){const n=Math.ceil(e.width/this._source.tileSize)+1,u=Math.ceil(e.height/this._source.tileSize)+1,f=Math.floor(n*u*(this._maxTileCacheZoomLevels===null?l.a.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),y=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,f):f;this._cache.setMaxSize(y)}handleWrapJump(e){const n=Math.round((e-(this._prevLng===void 0?e:this._prevLng))/360);if(this._prevLng=e,n){const u={};for(const f in this._tiles){const y=this._tiles[f];y.tileID=y.tileID.unwrapTo(y.tileID.wrap+n),u[y.tileID.key]=y}this._tiles=u;for(const f in this._timers)clearTimeout(this._timers[f]),delete this._timers[f];for(const f in this._tiles)this._setTileReloadTimer(f,this._tiles[f])}}_updateCoveredAndRetainedTiles(e,n,u,f,y,D){const T={},k={},z=Object.keys(e),O=ce.now();for(const W of z){const Z=e[W],Q=this._tiles[W];if(!Q||Q.fadeEndTime!==0&&Q.fadeEndTime<=O)continue;const ie=this.findLoadedParent(Z,n),De=this.findLoadedSibling(Z),we=ie||De||null;we&&(this._addTile(we.tileID),T[we.tileID.key]=we.tileID),k[W]=Z}this._retainLoadedChildren(k,f,u,e);for(const W in T)e[W]||(this._coveredTiles[W]=!0,e[W]=T[W]);if(D){const W={},Z={};for(const Q of y)this._tiles[Q.key].hasData()?W[Q.key]=Q:Z[Q.key]=Q;for(const Q in Z){const ie=Z[Q].children(this._source.maxzoom);this._tiles[ie[0].key]&&this._tiles[ie[1].key]&&this._tiles[ie[2].key]&&this._tiles[ie[3].key]&&(W[ie[0].key]=e[ie[0].key]=ie[0],W[ie[1].key]=e[ie[1].key]=ie[1],W[ie[2].key]=e[ie[2].key]=ie[2],W[ie[3].key]=e[ie[3].key]=ie[3],delete Z[Q])}for(const Q in Z){const ie=Z[Q],De=this.findLoadedParent(ie,this._source.minzoom),we=this.findLoadedSibling(ie),Ce=De||we||null;if(Ce){W[Ce.tileID.key]=e[Ce.tileID.key]=Ce.tileID;for(const ke in W)W[ke].isChildOf(Ce.tileID)&&delete W[ke]}}for(const Q in this._tiles)W[Q]||(this._coveredTiles[Q]=!0)}}update(e,n){if(!this._sourceLoaded||this._paused)return;let u;this.transform=e,this.terrain=n,this.updateCacheSize(e),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?u=e.getVisibleUnwrappedCoordinates(this._source.tileID).map(O=>new l.Y(O.canonical.z,O.wrap,O.canonical.z,O.canonical.x,O.canonical.y)):(u=Ye(e,{tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:n,calculateTileZoom:this._source.calculateTileZoom}),this._source.hasTile&&(u=u.filter(O=>this._source.hasTile(O)))):u=[];const f=Je(e,this._source),y=Math.max(f-at.maxOverzooming,this._source.minzoom),D=Math.max(f+at.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const O={};for(const W of u)if(W.canonical.z>this._source.minzoom){const Z=W.scaledTo(W.canonical.z-1);O[Z.key]=Z;const Q=W.scaledTo(Math.max(this._source.minzoom,Math.min(W.canonical.z,5)));O[Q.key]=Q}u=u.concat(Object.values(O))}const T=u.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,T&&this.fire(new l.l("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const k=this._updateRetainedTiles(u,f);tt(this._source.type)&&this._updateCoveredAndRetainedTiles(k,y,D,f,u,n);for(const O in k)this._tiles[O].clearFadeHold();const z=l.aj(this._tiles,k);for(const O of z){const W=this._tiles[O];W.hasSymbolBuckets&&!W.holdingForFade()?W.setHoldDuration(this.map._fadeDuration):W.hasSymbolBuckets&&!W.symbolFadeFinished()||this._removeTile(O)}this._updateLoadedParentTileCache(),this._updateLoadedSiblingTileCache()}releaseSymbolFadeTiles(){for(const e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(e)}_updateRetainedTiles(e,n){var u;const f={},y={},D=Math.max(n-at.maxOverzooming,this._source.minzoom),T=Math.max(n+at.maxUnderzooming,this._source.minzoom),k={};for(const z of e){const O=this._addTile(z);f[z.key]=z,O.hasData()||n<this._source.maxzoom&&(k[z.key]=z)}this._retainLoadedChildren(k,n,T,f);for(const z of e){let O=this._tiles[z.key];if(O.hasData())continue;if(n+1>this._source.maxzoom){const Z=z.children(this._source.maxzoom)[0],Q=this.getTile(Z);if(Q&&Q.hasData()){f[Z.key]=Z;continue}}else{const Z=z.children(this._source.maxzoom);if(f[Z[0].key]&&f[Z[1].key]&&f[Z[2].key]&&f[Z[3].key])continue}let W=O.wasRequested();for(let Z=z.overscaledZ-1;Z>=D;--Z){const Q=z.scaledTo(Z);if(y[Q.key])break;if(y[Q.key]=!0,O=this.getTile(Q),!O&&W&&(O=this._addTile(Q)),O){const ie=O.hasData();if((ie||!(!((u=this.map)===null||u===void 0)&&u.cancelPendingTileRequestsWhileZooming)||W)&&(f[Q.key]=Q),W=O.wasRequested(),ie)break}}}return f}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const e in this._tiles){const n=[];let u,f=this._tiles[e].tileID;for(;f.overscaledZ>0;){if(f.key in this._loadedParentTiles){u=this._loadedParentTiles[f.key];break}n.push(f.key);const y=f.scaledTo(f.overscaledZ-1);if(u=this._getLoadedTile(y),u)break;f=y}for(const y of n)this._loadedParentTiles[y]=u}}_updateLoadedSiblingTileCache(){this._loadedSiblingTiles={};for(const e in this._tiles){const n=this._tiles[e].tileID,u=this._getLoadedTile(n);this._loadedSiblingTiles[n.key]=u}}_addTile(e){let n=this._tiles[e.key];if(n)return n;n=this._cache.getAndRemove(e),n&&(this._setTileReloadTimer(e.key,n),n.tileID=e,this._state.initializeTileState(n,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,n)));const u=n;return n||(n=new Li(e,this._source.tileSize*e.overscaleFactor()),this._loadTile(n,e.key,n.state)),n.uses++,this._tiles[e.key]=n,u||this._source.fire(new l.l("dataloading",{tile:n,coord:n.tileID,dataType:"source"})),n}_setTileReloadTimer(e,n){e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);const u=n.getExpiryTimeout();u&&(this._timers[e]=setTimeout(()=>{this._reloadTile(e,"expired"),delete this._timers[e]},u))}refreshTiles(e){for(const n in this._tiles)this._isIdRenderable(n)&&e.some(u=>u.equals(this._tiles[n].tileID.canonical))&&this._reloadTile(n,"expired")}_removeTile(e){const n=this._tiles[e];n&&(n.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),n.uses>0||(n.hasData()&&n.state!=="reloading"?this._cache.add(n.tileID,n,n.getExpiryTimeout()):(n.aborted=!0,this._abortTile(n),this._unloadTile(n))))}_dataHandler(e){const n=e.sourceDataType;e.dataType==="source"&&n==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&e.dataType==="source"&&n==="content"&&(this.reload(e.sourceDataChanged),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const e in this._tiles)this._removeTile(e);this._cache.reset()}tilesIn(e,n,u){const f=[],y=this.transform;if(!y)return f;const D=u?y.getCameraQueryGeometry(e):e,T=e.map(ie=>y.screenPointToMercatorCoordinate(ie,this.terrain)),k=D.map(ie=>y.screenPointToMercatorCoordinate(ie,this.terrain)),z=this.getIds();let O=1/0,W=1/0,Z=-1/0,Q=-1/0;for(const ie of k)O=Math.min(O,ie.x),W=Math.min(W,ie.y),Z=Math.max(Z,ie.x),Q=Math.max(Q,ie.y);for(let ie=0;ie<z.length;ie++){const De=this._tiles[z[ie]];if(De.holdingForFade())continue;const we=y.getCoveringTilesDetailsProvider().allowWorldCopies()?De.tileID:De.tileID.unwrapTo(0),Ce=Math.pow(2,y.zoom-De.tileID.overscaledZ),ke=n*De.queryPadding*l.Z/De.tileSize/Ce,Le=[we.getTilePoint(new l.$(O,W)),we.getTilePoint(new l.$(Z,Q))];if(Le[0].x-ke<l.Z&&Le[0].y-ke<l.Z&&Le[1].x+ke>=0&&Le[1].y+ke>=0){const Ee=T.map($e=>we.getTilePoint($e)),Be=k.map($e=>we.getTilePoint($e));f.push({tile:De,tileID:we,queryGeometry:Ee,cameraQueryGeometry:Be,scale:Ce})}}return f}getVisibleCoordinates(e){const n=this.getRenderableIds(e).map(u=>this._tiles[u].tileID);return this.transform&&this.transform.populateCache(n),n}hasTransition(){if(this._source.hasTransition())return!0;if(tt(this._source.type)){const e=ce.now();for(const n in this._tiles)if(this._tiles[n].fadeEndTime>=e)return!0}return!1}setFeatureState(e,n,u){this._state.updateState(e=e||"_geojsonTileLayer",n,u)}removeFeatureState(e,n,u){this._state.removeFeatureState(e=e||"_geojsonTileLayer",n,u)}getFeatureState(e,n){return this._state.getState(e=e||"_geojsonTileLayer",n)}setDependencies(e,n,u){const f=this._tiles[e];f&&f.setDependencies(n,u)}reloadTilesForDependencies(e,n){for(const u in this._tiles)this._tiles[u].hasDependency(e,n)&&this._reloadTile(u,"reloading");this._cache.filter(u=>!u.hasDependency(e,n))}}function pt(m,e){const n=Math.abs(2*m.wrap)-+(m.wrap<0),u=Math.abs(2*e.wrap)-+(e.wrap<0);return m.overscaledZ-e.overscaledZ||u-n||e.canonical.y-m.canonical.y||e.canonical.x-m.canonical.x}function tt(m){return m==="raster"||m==="image"||m==="video"}at.maxOverzooming=10,at.maxUnderzooming=3;class Rt{constructor(e,n){this.reset(e,n)}reset(e,n){this.points=e||[],this._distances=[0];for(let u=1;u<this.points.length;u++)this._distances[u]=this._distances[u-1]+this.points[u].dist(this.points[u-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(n||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(e){if(this.points.length===1)return this.points[0];e=l.ae(e,0,1);let n=1,u=this._distances[n];const f=e*this.paddedLength+this.padding;for(;u<f&&n<this._distances.length;)u=this._distances[++n];const y=n-1,D=this._distances[y],T=u-D,k=T>0?(f-D)/T:0;return this.points[y].mult(1-k).add(this.points[n].mult(k))}}function Qt(m,e){let n=!0;return m==="always"||m!=="never"&&e!=="never"||(n=!1),n}class hn{constructor(e,n,u){const f=this.boxCells=[],y=this.circleCells=[];this.xCellCount=Math.ceil(e/u),this.yCellCount=Math.ceil(n/u);for(let D=0;D<this.xCellCount*this.yCellCount;D++)f.push([]),y.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=n,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/n,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(e,n,u,f,y){this._forEachCell(n,u,f,y,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(n),this.bboxes.push(u),this.bboxes.push(f),this.bboxes.push(y)}insertCircle(e,n,u,f){this._forEachCell(n-f,u-f,n+f,u+f,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(n),this.circles.push(u),this.circles.push(f)}_insertBoxCell(e,n,u,f,y,D){this.boxCells[y].push(D)}_insertCircleCell(e,n,u,f,y,D){this.circleCells[y].push(D)}_query(e,n,u,f,y,D,T){if(u<0||e>this.width||f<0||n>this.height)return[];const k=[];if(e<=0&&n<=0&&this.width<=u&&this.height<=f){if(y)return[{key:null,x1:e,y1:n,x2:u,y2:f}];for(let z=0;z<this.boxKeys.length;z++)k.push({key:this.boxKeys[z],x1:this.bboxes[4*z],y1:this.bboxes[4*z+1],x2:this.bboxes[4*z+2],y2:this.bboxes[4*z+3]});for(let z=0;z<this.circleKeys.length;z++){const O=this.circles[3*z],W=this.circles[3*z+1],Z=this.circles[3*z+2];k.push({key:this.circleKeys[z],x1:O-Z,y1:W-Z,x2:O+Z,y2:W+Z})}}else this._forEachCell(e,n,u,f,this._queryCell,k,{hitTest:y,overlapMode:D,seenUids:{box:{},circle:{}}},T);return k}query(e,n,u,f){return this._query(e,n,u,f,!1,null)}hitTest(e,n,u,f,y,D){return this._query(e,n,u,f,!0,y,D).length>0}hitTestCircle(e,n,u,f,y){const D=e-u,T=e+u,k=n-u,z=n+u;if(T<0||D>this.width||z<0||k>this.height)return!1;const O=[];return this._forEachCell(D,k,T,z,this._queryCellCircle,O,{hitTest:!0,overlapMode:f,circle:{x:e,y:n,radius:u},seenUids:{box:{},circle:{}}},y),O.length>0}_queryCell(e,n,u,f,y,D,T,k){const{seenUids:z,hitTest:O,overlapMode:W}=T,Z=this.boxCells[y];if(Z!==null){const ie=this.bboxes;for(const De of Z)if(!z.box[De]){z.box[De]=!0;const we=4*De,Ce=this.boxKeys[De];if(e<=ie[we+2]&&n<=ie[we+3]&&u>=ie[we+0]&&f>=ie[we+1]&&(!k||k(Ce))&&(!O||!Qt(W,Ce.overlapMode))&&(D.push({key:Ce,x1:ie[we],y1:ie[we+1],x2:ie[we+2],y2:ie[we+3]}),O))return!0}}const Q=this.circleCells[y];if(Q!==null){const ie=this.circles;for(const De of Q)if(!z.circle[De]){z.circle[De]=!0;const we=3*De,Ce=this.circleKeys[De];if(this._circleAndRectCollide(ie[we],ie[we+1],ie[we+2],e,n,u,f)&&(!k||k(Ce))&&(!O||!Qt(W,Ce.overlapMode))){const ke=ie[we],Le=ie[we+1],Ee=ie[we+2];if(D.push({key:Ce,x1:ke-Ee,y1:Le-Ee,x2:ke+Ee,y2:Le+Ee}),O)return!0}}}return!1}_queryCellCircle(e,n,u,f,y,D,T,k){const{circle:z,seenUids:O,overlapMode:W}=T,Z=this.boxCells[y];if(Z!==null){const ie=this.bboxes;for(const De of Z)if(!O.box[De]){O.box[De]=!0;const we=4*De,Ce=this.boxKeys[De];if(this._circleAndRectCollide(z.x,z.y,z.radius,ie[we+0],ie[we+1],ie[we+2],ie[we+3])&&(!k||k(Ce))&&!Qt(W,Ce.overlapMode))return D.push(!0),!0}}const Q=this.circleCells[y];if(Q!==null){const ie=this.circles;for(const De of Q)if(!O.circle[De]){O.circle[De]=!0;const we=3*De,Ce=this.circleKeys[De];if(this._circlesCollide(ie[we],ie[we+1],ie[we+2],z.x,z.y,z.radius)&&(!k||k(Ce))&&!Qt(W,Ce.overlapMode))return D.push(!0),!0}}}_forEachCell(e,n,u,f,y,D,T,k){const z=this._convertToXCellCoord(e),O=this._convertToYCellCoord(n),W=this._convertToXCellCoord(u),Z=this._convertToYCellCoord(f);for(let Q=z;Q<=W;Q++)for(let ie=O;ie<=Z;ie++)if(y.call(this,e,n,u,f,this.xCellCount*ie+Q,D,T,k))return}_convertToXCellCoord(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))}_convertToYCellCoord(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))}_circlesCollide(e,n,u,f,y,D){const T=f-e,k=y-n,z=u+D;return z*z>T*T+k*k}_circleAndRectCollide(e,n,u,f,y,D,T){const k=(D-f)/2,z=Math.abs(e-(f+k));if(z>k+u)return!1;const O=(T-y)/2,W=Math.abs(n-(y+O));if(W>O+u)return!1;if(z<=k||W<=O)return!0;const Z=z-k,Q=W-O;return Z*Z+Q*Q<=u*u}}function Tn(m,e,n){const u=l.K();if(!m){const{vecSouth:W,vecEast:Z}=On(e),Q=q();Q[0]=Z[0],Q[1]=Z[1],Q[2]=W[0],Q[3]=W[1],f=Q,(O=(D=(y=Q)[0])*(z=y[3])-(k=y[2])*(T=y[1]))&&(f[0]=z*(O=1/O),f[1]=-T*O,f[2]=-k*O,f[3]=D*O),u[0]=Q[0],u[1]=Q[1],u[4]=Q[2],u[5]=Q[3]}var f,y,D,T,k,z,O;return l.M(u,u,[1/n,1/n,1]),u}function Xn(m,e,n,u){if(m){const f=l.K();if(!e){const{vecSouth:y,vecEast:D}=On(n);f[0]=D[0],f[1]=D[1],f[4]=y[0],f[5]=y[1]}return l.M(f,f,[u,u,1]),f}return n.pixelsToClipSpaceMatrix}function On(m){const e=Math.cos(m.rollInRadians),n=Math.sin(m.rollInRadians),u=Math.cos(m.pitchInRadians),f=Math.cos(m.bearingInRadians),y=Math.sin(m.bearingInRadians),D=l.ao();D[0]=-f*u*n-y*e,D[1]=-y*u*n+f*e;const T=l.ap(D);T<1e-9?l.aq(D):l.ar(D,D,1/T);const k=l.ao();k[0]=f*u*e-y*n,k[1]=y*u*e+f*n;const z=l.ap(k);return z<1e-9?l.aq(k):l.ar(k,k,1/z),{vecEast:k,vecSouth:D}}function wt(m,e,n,u){let f;u?(f=[m,e,u(m,e),1],l.at(f,f,n)):(f=[m,e,0,1],Os(f,f,n));const y=f[3];return{point:new l.P(f[0]/y,f[1]/y),signedDistanceFromCamera:y,isOccluded:!1}}function br(m,e){return .5+m/e*.5}function dr(m,e){return m.x>=-e[0]&&m.x<=e[0]&&m.y>=-e[1]&&m.y<=e[1]}function wr(m,e,n,u,f,y,D,T,k,z,O,W,Z){const Q=n?m.textSizeData:m.iconSizeData,ie=l.ak(Q,e.transform.zoom),De=[256/e.width*2+1,256/e.height*2+1],we=n?m.text.dynamicLayoutVertexArray:m.icon.dynamicLayoutVertexArray;we.clear();const Ce=m.lineVertexArray,ke=n?m.text.placedSymbolArray:m.icon.placedSymbolArray,Le=e.transform.width/e.transform.height;let Ee=!1;for(let Be=0;Be<ke.length;Be++){const $e=ke.get(Be);if($e.hidden||$e.writingMode===l.al.vertical&&!Ee){Wa($e.numGlyphs,we);continue}Ee=!1;const Ve=new l.P($e.anchorX,$e.anchorY),lt={getElevation:Z,pitchedLabelPlaneMatrix:u,lineVertexArray:Ce,pitchWithMap:y,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:e.transform,tileAnchorPoint:Ve,unwrappedTileID:k,width:z,height:O,translation:W},At=ar($e.anchorX,$e.anchorY,lt);if(!dr(At.point,De)){Wa($e.numGlyphs,we);continue}const nt=br(e.transform.cameraToCenterDistance,At.signedDistanceFromCamera),ht=l.am(Q,ie,$e),Ct=y?ht*e.transform.getPitchedTextCorrection($e.anchorX,$e.anchorY,k)/nt:ht*nt,nn=Gn({projectionContext:lt,pitchedLabelPlaneMatrixInverse:f,symbol:$e,fontSize:Ct,flip:!1,keepUpright:D,glyphOffsetArray:m.glyphOffsetArray,dynamicLayoutVertexArray:we,aspectRatio:Le,rotateToLine:T});Ee=nn.useVertical,(nn.notEnoughRoom||Ee||nn.needsFlipping&&Gn({projectionContext:lt,pitchedLabelPlaneMatrixInverse:f,symbol:$e,fontSize:Ct,flip:!0,keepUpright:D,glyphOffsetArray:m.glyphOffsetArray,dynamicLayoutVertexArray:we,aspectRatio:Le,rotateToLine:T}).notEnoughRoom)&&Wa($e.numGlyphs,we)}n?m.text.dynamicLayoutVertexBuffer.updateData(we):m.icon.dynamicLayoutVertexBuffer.updateData(we)}function Ln(m,e,n,u,f,y,D,T){const k=y.glyphStartIndex+y.numGlyphs,z=y.lineStartIndex,O=y.lineStartIndex+y.lineLength,W=e.getoffsetX(y.glyphStartIndex),Z=e.getoffsetX(k-1),Q=Po(m*W,n,u,f,y.segment,z,O,T,D);if(!Q)return null;const ie=Po(m*Z,n,u,f,y.segment,z,O,T,D);return ie?T.projectionCache.anyProjectionOccluded?null:{first:Q,last:ie}:null}function zt(m,e,n,u){return m===l.al.horizontal&&Math.abs(n.y-e.y)>Math.abs(n.x-e.x)*u?{useVertical:!0}:(m===l.al.vertical?e.y<n.y:e.x>n.x)?{needsFlipping:!0}:null}function Gn(m){const{projectionContext:e,pitchedLabelPlaneMatrixInverse:n,symbol:u,fontSize:f,flip:y,keepUpright:D,glyphOffsetArray:T,dynamicLayoutVertexArray:k,aspectRatio:z,rotateToLine:O}=m,W=f/24,Z=u.lineOffsetX*W,Q=u.lineOffsetY*W;let ie;if(u.numGlyphs>1){const De=u.glyphStartIndex+u.numGlyphs,we=u.lineStartIndex,Ce=u.lineStartIndex+u.lineLength,ke=Ln(W,T,Z,Q,y,u,O,e);if(!ke)return{notEnoughRoom:!0};const Le=Ia(ke.first.point.x,ke.first.point.y,e,n),Ee=Ia(ke.last.point.x,ke.last.point.y,e,n);if(D&&!y){const Be=zt(u.writingMode,Le,Ee,z);if(Be)return Be}ie=[ke.first];for(let Be=u.glyphStartIndex+1;Be<De-1;Be++)ie.push(Po(W*T.getoffsetX(Be),Z,Q,y,u.segment,we,Ce,e,O));ie.push(ke.last)}else{if(D&&!y){const we=$r(e.tileAnchorPoint.x,e.tileAnchorPoint.y,e).point,Ce=u.lineStartIndex+u.segment+1,ke=new l.P(e.lineVertexArray.getx(Ce),e.lineVertexArray.gety(Ce)),Le=$r(ke.x,ke.y,e),Ee=Le.signedDistanceFromCamera>0?Le.point:nr(e.tileAnchorPoint,ke,we,1,e),Be=Ia(we.x,we.y,e,n),$e=Ia(Ee.x,Ee.y,e,n),Ve=zt(u.writingMode,Be,$e,z);if(Ve)return Ve}const De=Po(W*T.getoffsetX(u.glyphStartIndex),Z,Q,y,u.segment,u.lineStartIndex,u.lineStartIndex+u.lineLength,e,O);if(!De||e.projectionCache.anyProjectionOccluded)return{notEnoughRoom:!0};ie=[De]}for(const De of ie)l.as(k,De.point,De.angle);return{}}function nr(m,e,n,u,f){const y=m.add(m.sub(e)._unit()),D=$r(y.x,y.y,f).point,T=n.sub(D);return n.add(T._mult(u/T.mag()))}function Nr(m,e,n){const u=e.projectionCache;if(u.projections[m])return u.projections[m];const f=new l.P(e.lineVertexArray.getx(m),e.lineVertexArray.gety(m)),y=$r(f.x,f.y,e);if(y.signedDistanceFromCamera>0)return u.projections[m]=y.point,u.anyProjectionOccluded=u.anyProjectionOccluded||y.isOccluded,y.point;const D=m-n.direction;return nr(n.distanceFromAnchor===0?e.tileAnchorPoint:new l.P(e.lineVertexArray.getx(D),e.lineVertexArray.gety(D)),f,n.previousVertex,n.absOffsetX-n.distanceFromAnchor+1,e)}function $r(m,e,n){const u=m+n.translation[0],f=e+n.translation[1];let y;return n.pitchWithMap?(y=wt(u,f,n.pitchedLabelPlaneMatrix,n.getElevation),y.isOccluded=!1):(y=n.transform.projectTileCoordinates(u,f,n.unwrappedTileID,n.getElevation),y.point.x=(.5*y.point.x+.5)*n.width,y.point.y=(.5*-y.point.y+.5)*n.height),y}function Ia(m,e,n,u){if(n.pitchWithMap){const f=[m,e,0,1];return l.at(f,f,u),n.transform.projectTileCoordinates(f[0]/f[3],f[1]/f[3],n.unwrappedTileID,n.getElevation).point}return{x:m/n.width*2-1,y:e/n.height*2-1}}function ar(m,e,n){return n.transform.projectTileCoordinates(m,e,n.unwrappedTileID,n.getElevation)}function ns(m,e,n){return m._unit()._perp()._mult(e*n)}function rs(m,e,n,u,f,y,D,T,k){if(T.projectionCache.offsets[m])return T.projectionCache.offsets[m];const z=n.add(e);if(m+k.direction<u||m+k.direction>=f)return T.projectionCache.offsets[m]=z,z;const O=Nr(m+k.direction,T,k),W=ns(O.sub(n),D,k.direction),Z=n.add(W),Q=O.add(W);return T.projectionCache.offsets[m]=l.au(y,z,Z,Q)||z,T.projectionCache.offsets[m]}function Po(m,e,n,u,f,y,D,T,k){const z=u?m-e:m+e;let O=z>0?1:-1,W=0;u&&(O*=-1,W=Math.PI),O<0&&(W+=Math.PI);let Z,Q=O>0?y+f:y+f+1;T.projectionCache.cachedAnchorPoint?Z=T.projectionCache.cachedAnchorPoint:(Z=$r(T.tileAnchorPoint.x,T.tileAnchorPoint.y,T).point,T.projectionCache.cachedAnchorPoint=Z);let ie,De,we=Z,Ce=Z,ke=0,Le=0;const Ee=Math.abs(z),Be=[];let $e;for(;ke+Le<=Ee;){if(Q+=O,Q<y||Q>=D)return null;ke+=Le,Ce=we,De=ie;const At={absOffsetX:Ee,direction:O,distanceFromAnchor:ke,previousVertex:Ce};if(we=Nr(Q,T,At),n===0)Be.push(Ce),$e=we.sub(Ce);else{let nt;const ht=we.sub(Ce);nt=ht.mag()===0?ns(Nr(Q+O,T,At).sub(we),n,O):ns(ht,n,O),De||(De=Ce.add(nt)),ie=rs(Q,nt,we,y,D,De,n,T,At),Be.push(De),$e=ie.sub(De)}Le=$e.mag()}const Ve=$e._mult((Ee-ke)/Le)._add(De||Ce),lt=W+Math.atan2(we.y-Ce.y,we.x-Ce.x);return Be.push(Ve),{point:Ve,angle:k?lt:0,path:Be}}const ol=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Wa(m,e){for(let n=0;n<m;n++){const u=e.length;e.resize(u+4),e.float32.set(ol,3*u)}}function Os(m,e,n){const u=e[0],f=e[1];return m[0]=n[0]*u+n[4]*f+n[12],m[1]=n[1]*u+n[5]*f+n[13],m[3]=n[3]*u+n[7]*f+n[15],m}const or=100;class oi{constructor(e,n=new hn(e.width+200,e.height+200,25),u=new hn(e.width+200,e.height+200,25)){this.transform=e,this.grid=n,this.ignoredGrid=u,this.pitchFactor=Math.cos(e.pitch*Math.PI/180)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+or,this.screenBottomBoundary=e.height+or,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(e,n,u,f,y,D,T,k,z,O,W,Z){const Q=this.projectAndGetPerspectiveRatio(e.anchorPointX+k[0],e.anchorPointY+k[1],y,O,Z),ie=u*Q.perspectiveRatio;let De;if(D||T)De=this._projectCollisionBox(e,ie,f,y,D,T,k,Q,O,W,Z);else{const $e=Q.x+(W?W.x*ie:0),Ve=Q.y+(W?W.y*ie:0);De={allPointsOccluded:!1,box:[$e+e.x1*ie,Ve+e.y1*ie,$e+e.x2*ie,Ve+e.y2*ie]}}const[we,Ce,ke,Le]=De.box,Ee=D?De.allPointsOccluded:Q.isOccluded;let Be=Ee;return Be||(Be=Q.perspectiveRatio<this.perspectiveRatioCutoff),Be||(Be=!this.isInsideGrid(we,Ce,ke,Le)),Be||n!=="always"&&this.grid.hitTest(we,Ce,ke,Le,n,z)?{box:[we,Ce,ke,Le],placeable:!1,offscreen:!1,occluded:Ee}:{box:[we,Ce,ke,Le],placeable:!0,offscreen:this.isOffscreen(we,Ce,ke,Le),occluded:Ee}}placeCollisionCircles(e,n,u,f,y,D,T,k,z,O,W,Z,Q,ie){const De=[],we=new l.P(n.anchorX,n.anchorY),Ce=this.getPerspectiveRatio(we.x,we.y,D,ie),ke=(z?y*this.transform.getPitchedTextCorrection(n.anchorX,n.anchorY,D)/Ce:y*Ce)/l.ay,Le={getElevation:ie,pitchedLabelPlaneMatrix:T,lineVertexArray:u,pitchWithMap:z,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:this.transform,tileAnchorPoint:we,unwrappedTileID:D,width:this.transform.width,height:this.transform.height,translation:Q},Ee=Ln(ke,f,n.lineOffsetX*ke,n.lineOffsetY*ke,!1,n,!1,Le);let Be=!1,$e=!1,Ve=!0;if(Ee){const lt=.5*W*Ce+Z,At=new l.P(-100,-100),nt=new l.P(this.screenRightBoundary,this.screenBottomBoundary),ht=new Rt,Ct=Ee.first,nn=Ee.last;let rn=[];for(let Zn=Ct.path.length-1;Zn>=1;Zn--)rn.push(Ct.path[Zn]);for(let Zn=1;Zn<nn.path.length;Zn++)rn.push(nn.path[Zn]);const Gt=2.5*lt;if(z){const Zn=this.projectPathToScreenSpace(rn,Le);rn=Zn.some(Sr=>Sr.signedDistanceFromCamera<=0)?[]:Zn.map(Sr=>Sr.point)}let bn=[];if(rn.length>0){const Zn=rn[0].clone(),Sr=rn[0].clone();for(let pi=1;pi<rn.length;pi++)Zn.x=Math.min(Zn.x,rn[pi].x),Zn.y=Math.min(Zn.y,rn[pi].y),Sr.x=Math.max(Sr.x,rn[pi].x),Sr.y=Math.max(Sr.y,rn[pi].y);bn=Zn.x>=At.x&&Sr.x<=nt.x&&Zn.y>=At.y&&Sr.y<=nt.y?[rn]:Sr.x<At.x||Zn.x>nt.x||Sr.y<At.y||Zn.y>nt.y?[]:l.av([rn],At.x,At.y,nt.x,nt.y)}for(const Zn of bn){ht.reset(Zn,.25*lt);let Sr=0;Sr=ht.length<=.5*lt?1:Math.ceil(ht.paddedLength/Gt)+1;for(let pi=0;pi<Sr;pi++){const Jr=pi/Math.max(Sr-1,1),Ti=ht.lerp(Jr),Mi=Ti.x+or,Tr=Ti.y+or;De.push(Mi,Tr,lt,0);const Cr=Mi-lt,qi=Tr-lt,xa=Mi+lt,ua=Tr+lt;if(Ve=Ve&&this.isOffscreen(Cr,qi,xa,ua),$e=$e||this.isInsideGrid(Cr,qi,xa,ua),e!=="always"&&this.grid.hitTestCircle(Mi,Tr,lt,e,O)&&(Be=!0,!k))return{circles:[],offscreen:!1,collisionDetected:Be}}}}return{circles:!k&&Be||!$e||Ce<this.perspectiveRatioCutoff?[]:De,offscreen:Ve,collisionDetected:Be}}projectPathToScreenSpace(e,n){const u=function(f,y){const D=l.K();return l.an(D,y.pitchedLabelPlaneMatrix),f.map(T=>{const k=wt(T.x,T.y,D,y.getElevation),z=y.transform.projectTileCoordinates(k.point.x,k.point.y,y.unwrappedTileID,y.getElevation);return z.point.x=(.5*z.point.x+.5)*y.width,z.point.y=(.5*-z.point.y+.5)*y.height,z})}(e,n);return function(f){let y=0,D=0,T=0,k=0;for(let z=0;z<f.length;z++)f[z].isOccluded?(T=z+1,k=0):(k++,k>D&&(D=k,y=T));return f.slice(y,y+D)}(u)}queryRenderedSymbols(e){if(e.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const n=[];let u=1/0,f=1/0,y=-1/0,D=-1/0;for(const O of e){const W=new l.P(O.x+or,O.y+or);u=Math.min(u,W.x),f=Math.min(f,W.y),y=Math.max(y,W.x),D=Math.max(D,W.y),n.push(W)}const T=this.grid.query(u,f,y,D).concat(this.ignoredGrid.query(u,f,y,D)),k={},z={};for(const O of T){const W=O.key;if(k[W.bucketInstanceId]===void 0&&(k[W.bucketInstanceId]={}),k[W.bucketInstanceId][W.featureIndex])continue;const Z=[new l.P(O.x1,O.y1),new l.P(O.x2,O.y1),new l.P(O.x2,O.y2),new l.P(O.x1,O.y2)];l.aw(n,Z)&&(k[W.bucketInstanceId][W.featureIndex]=!0,z[W.bucketInstanceId]===void 0&&(z[W.bucketInstanceId]=[]),z[W.bucketInstanceId].push(W.featureIndex))}return z}insertCollisionBox(e,n,u,f,y,D){(u?this.ignoredGrid:this.grid).insert({bucketInstanceId:f,featureIndex:y,collisionGroupID:D,overlapMode:n},e[0],e[1],e[2],e[3])}insertCollisionCircles(e,n,u,f,y,D){const T=u?this.ignoredGrid:this.grid,k={bucketInstanceId:f,featureIndex:y,collisionGroupID:D,overlapMode:n};for(let z=0;z<e.length;z+=4)T.insertCircle(k,e[z],e[z+1],e[z+2])}projectAndGetPerspectiveRatio(e,n,u,f,y){if(y){let D;f?(D=[e,n,f(e,n),1],l.at(D,D,y)):(D=[e,n,0,1],Os(D,D,y));const T=D[3];return{x:(D[0]/T+1)/2*this.transform.width+or,y:(-D[1]/T+1)/2*this.transform.height+or,perspectiveRatio:.5+this.transform.cameraToCenterDistance/T*.5,isOccluded:!1,signedDistanceFromCamera:T}}{const D=this.transform.projectTileCoordinates(e,n,u,f);return{x:(D.point.x+1)/2*this.transform.width+or,y:(1-D.point.y)/2*this.transform.height+or,perspectiveRatio:.5+this.transform.cameraToCenterDistance/D.signedDistanceFromCamera*.5,isOccluded:D.isOccluded,signedDistanceFromCamera:D.signedDistanceFromCamera}}}getPerspectiveRatio(e,n,u,f){const y=this.transform.projectTileCoordinates(e,n,u,f);return .5+this.transform.cameraToCenterDistance/y.signedDistanceFromCamera*.5}isOffscreen(e,n,u,f){return u<or||e>=this.screenRightBoundary||f<or||n>this.screenBottomBoundary}isInsideGrid(e,n,u,f){return u>=0&&e<this.gridRightBoundary&&f>=0&&n<this.gridBottomBoundary}getViewportMatrix(){const e=l.ad([]);return l.L(e,e,[-100,-100,0]),e}_projectCollisionBox(e,n,u,f,y,D,T,k,z,O,W){let Z=1,Q=0,ie=0,De=1;const we=e.anchorPointX+T[0],Ce=e.anchorPointY+T[1];if(D&&!y){const rn=this.projectAndGetPerspectiveRatio(we+1,Ce,f,z,W),Gt=rn.x-k.x,bn=Math.atan((rn.y-k.y)/Gt)+(Gt<0?Math.PI:0),Zn=Math.sin(bn),Sr=Math.cos(bn);Z=Sr,Q=Zn,ie=-Zn,De=Sr}else if(!D&&y){const rn=On(this.transform);Z=rn.vecEast[0],Q=rn.vecEast[1],ie=rn.vecSouth[0],De=rn.vecSouth[1]}let ke=k.x,Le=k.y,Ee=n;y&&(ke=we,Le=Ce,Ee=Math.pow(2,-(this.transform.zoom-u.overscaledZ)),Ee*=this.transform.getPitchedTextCorrection(we,Ce,f),O||(Ee*=l.ae(.5+k.signedDistanceFromCamera/this.transform.cameraToCenterDistance*.5,0,4))),O&&(ke+=Z*O.x*Ee+ie*O.y*Ee,Le+=Q*O.x*Ee+De*O.y*Ee);const Be=e.x1*Ee,$e=e.x2*Ee,Ve=(Be+$e)/2,lt=e.y1*Ee,At=e.y2*Ee,nt=(lt+At)/2,ht=[{offsetX:Be,offsetY:lt},{offsetX:Ve,offsetY:lt},{offsetX:$e,offsetY:lt},{offsetX:$e,offsetY:nt},{offsetX:$e,offsetY:At},{offsetX:Ve,offsetY:At},{offsetX:Be,offsetY:At},{offsetX:Be,offsetY:nt}];let Ct=[];for(const{offsetX:rn,offsetY:Gt}of ht)Ct.push(new l.P(ke+Z*rn+ie*Gt,Le+Q*rn+De*Gt));let nn=!1;if(y){const rn=Ct.map(Gt=>this.projectAndGetPerspectiveRatio(Gt.x,Gt.y,f,z,W));nn=rn.some(Gt=>!Gt.isOccluded),Ct=rn.map(Gt=>new l.P(Gt.x,Gt.y))}else nn=!0;return{box:l.ax(Ct),allPointsOccluded:!nn}}}class Vr{constructor(e,n,u,f){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?n:-n))):f&&u?1:0,this.placed=u}isHidden(){return this.opacity===0&&!this.placed}}class Fs{constructor(e,n,u,f,y){this.text=new Vr(e?e.text:null,n,u,y),this.icon=new Vr(e?e.icon:null,n,f,y)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class oo{constructor(e,n,u){this.text=e,this.icon=n,this.skipFade=u}}class n0{constructor(e,n,u,f,y){this.bucketInstanceId=e,this.featureIndex=n,this.sourceLayerIndex=u,this.bucketIndex=f,this.tileID=y}}class La{constructor(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={}}get(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){const n=++this.maxGroupID;this.collisionGroups[e]={ID:n,predicate:u=>u.collisionGroupID===n}}return this.collisionGroups[e]}}function na(m,e,n,u,f){const{horizontalAlign:y,verticalAlign:D}=l.aE(m);return new l.P(-(y-.5)*e+u[0]*f,-(D-.5)*n+u[1]*f)}class so{constructor(e,n,u,f,y){this.transform=e.clone(),this.terrain=n,this.collisionIndex=new oi(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=u,this.retainedQueryData={},this.collisionGroups=new La(f),this.collisionCircleArrays={},this.collisionBoxArrays=new Map,this.prevPlacement=y,y&&(y.prevPlacement=void 0),this.placedOrientations={}}_getTerrainElevationFunc(e){const n=this.terrain;return n?(u,f)=>n.getElevation(e,u,f):null}getBucketParts(e,n,u,f){const y=u.getBucket(n),D=u.latestFeatureIndex;if(!y||!D||n.id!==y.layerIds[0])return;const T=u.collisionBoxArray,k=y.layers[0].layout,z=y.layers[0].paint,O=Math.pow(2,this.transform.zoom-u.tileID.overscaledZ),W=u.tileSize/l.Z,Z=u.tileID.toUnwrapped(),Q=k.get("text-rotation-alignment")==="map",ie=l.az(u,1,this.transform.zoom),De=l.aA(this.collisionIndex.transform,u,z.get("text-translate"),z.get("text-translate-anchor")),we=l.aA(this.collisionIndex.transform,u,z.get("icon-translate"),z.get("icon-translate-anchor")),Ce=Tn(Q,this.transform,ie);this.retainedQueryData[y.bucketInstanceId]=new n0(y.bucketInstanceId,D,y.sourceLayerIndex,y.index,u.tileID);const ke={bucket:y,layout:k,translationText:De,translationIcon:we,unwrappedTileID:Z,pitchedLabelPlaneMatrix:Ce,scale:O,textPixelRatio:W,holdingForFade:u.holdingForFade(),collisionBoxArray:T,partiallyEvaluatedTextSize:l.ak(y.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(y.sourceID)};if(f)for(const Le of y.sortKeyRanges){const{sortKey:Ee,symbolInstanceStart:Be,symbolInstanceEnd:$e}=Le;e.push({sortKey:Ee,symbolInstanceStart:Be,symbolInstanceEnd:$e,parameters:ke})}else e.push({symbolInstanceStart:0,symbolInstanceEnd:y.symbolInstances.length,parameters:ke})}attemptAnchorPlacement(e,n,u,f,y,D,T,k,z,O,W,Z,Q,ie,De,we,Ce,ke,Le,Ee){const Be=l.aB[e.textAnchor],$e=[e.textOffset0,e.textOffset1],Ve=na(Be,u,f,$e,y),lt=this.collisionIndex.placeCollisionBox(n,Z,k,z,O,T,D,we,W.predicate,Le,Ve,Ee);if((!ke||this.collisionIndex.placeCollisionBox(ke,Z,k,z,O,T,D,Ce,W.predicate,Le,Ve,Ee).placeable)&&lt.placeable){let At;if(this.prevPlacement&&this.prevPlacement.variableOffsets[Q.crossTileID]&&this.prevPlacement.placements[Q.crossTileID]&&this.prevPlacement.placements[Q.crossTileID].text&&(At=this.prevPlacement.variableOffsets[Q.crossTileID].anchor),Q.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[Q.crossTileID]={textOffset:$e,width:u,height:f,anchor:Be,textBoxScale:y,prevAnchor:At},this.markUsedJustification(ie,Be,Q,De),ie.allowVerticalPlacement&&(this.markUsedOrientation(ie,De,Q),this.placedOrientations[Q.crossTileID]=De),{shift:Ve,placedGlyphBoxes:lt}}}placeLayerBucketPart(e,n,u){const{bucket:f,layout:y,translationText:D,translationIcon:T,unwrappedTileID:k,pitchedLabelPlaneMatrix:z,textPixelRatio:O,holdingForFade:W,collisionBoxArray:Z,partiallyEvaluatedTextSize:Q,collisionGroup:ie}=e.parameters,De=y.get("text-optional"),we=y.get("icon-optional"),Ce=l.aC(y,"text-overlap","text-allow-overlap"),ke=Ce==="always",Le=l.aC(y,"icon-overlap","icon-allow-overlap"),Ee=Le==="always",Be=y.get("text-rotation-alignment")==="map",$e=y.get("text-pitch-alignment")==="map",Ve=y.get("icon-text-fit")!=="none",lt=y.get("symbol-z-order")==="viewport-y",At=ke&&(Ee||!f.hasIconData()||we),nt=Ee&&(ke||!f.hasTextData()||De);!f.collisionArrays&&Z&&f.deserializeCollisionBoxes(Z);const ht=this.retainedQueryData[f.bucketInstanceId].tileID,Ct=this._getTerrainElevationFunc(ht),nn=this.transform.getFastPathSimpleProjectionMatrix(ht),rn=(Gt,bn,Zn)=>{var Sr,pi;if(n[Gt.crossTileID])return;if(W)return void(this.placements[Gt.crossTileID]=new oo(!1,!1,!1));let Jr=!1,Ti=!1,Mi=!0,Tr=null,Cr={box:null,placeable:!1,offscreen:null,occluded:!1},qi={placeable:!1},xa=null,ua=null,Pr=null,Cl=0,ds=0,Ps=0;bn.textFeatureIndex?Cl=bn.textFeatureIndex:Gt.useRuntimeCollisionCircles&&(Cl=Gt.featureIndex),bn.verticalTextFeatureIndex&&(ds=bn.verticalTextFeatureIndex);const Wl=bn.textBox;if(Wl){const Zo=ca=>{let ha=l.al.horizontal;if(f.allowVerticalPlacement&&!ca&&this.prevPlacement){const vo=this.prevPlacement.placedOrientations[Gt.crossTileID];vo&&(this.placedOrientations[Gt.crossTileID]=vo,ha=vo,this.markUsedOrientation(f,ha,Gt))}return ha},Hl=(ca,ha)=>{if(f.allowVerticalPlacement&&Gt.numVerticalGlyphVertices>0&&bn.verticalTextBox){for(const vo of f.writingModes)if(vo===l.al.vertical?(Cr=ha(),qi=Cr):Cr=ca(),Cr&&Cr.placeable)break}else Cr=ca()},Es=Gt.textAnchorOffsetStartIndex,p0=Gt.textAnchorOffsetEndIndex;if(p0===Es){const ca=(ha,vo)=>{const _i=this.collisionIndex.placeCollisionBox(ha,Ce,O,ht,k,$e,Be,D,ie.predicate,Ct,void 0,nn);return _i&&_i.placeable&&(this.markUsedOrientation(f,vo,Gt),this.placedOrientations[Gt.crossTileID]=vo),_i};Hl(()=>ca(Wl,l.al.horizontal),()=>{const ha=bn.verticalTextBox;return f.allowVerticalPlacement&&Gt.numVerticalGlyphVertices>0&&ha?ca(ha,l.al.vertical):{box:null,offscreen:null}}),Zo(Cr&&Cr.placeable)}else{let ca=l.aB[(pi=(Sr=this.prevPlacement)===null||Sr===void 0?void 0:Sr.variableOffsets[Gt.crossTileID])===null||pi===void 0?void 0:pi.anchor];const ha=(_i,Jc,Bh)=>{const eh=_i.x2-_i.x1,Wo=_i.y2-_i.y1,ks=Gt.textBoxScale,O0=Ve&&Le==="never"?Jc:null;let Qs=null,Rs=Ce==="never"?1:2,Ja="never";ca&&Rs++;for(let ba=0;ba<Rs;ba++){for(let yu=Es;yu<p0;yu++){const Il=f.textAnchorOffsets.get(yu);if(ca&&Il.textAnchor!==ca)continue;const xc=this.attemptAnchorPlacement(Il,_i,eh,Wo,ks,Be,$e,O,ht,k,ie,Ja,Gt,f,Bh,D,T,O0,Ct);if(xc&&(Qs=xc.placedGlyphBoxes,Qs&&Qs.placeable))return Jr=!0,Tr=xc.shift,Qs}ca?ca=null:Ja=Ce}return u&&!Qs&&(Qs={box:this.collisionIndex.placeCollisionBox(Wl,"always",O,ht,k,$e,Be,D,ie.predicate,Ct,void 0,nn).box,offscreen:!1,placeable:!1,occluded:!1}),Qs};Hl(()=>ha(Wl,bn.iconBox,l.al.horizontal),()=>{const _i=bn.verticalTextBox;return f.allowVerticalPlacement&&(!Cr||!Cr.placeable)&&Gt.numVerticalGlyphVertices>0&&_i?ha(_i,bn.verticalIconBox,l.al.vertical):{box:null,occluded:!0,offscreen:null}}),Cr&&(Jr=Cr.placeable,Mi=Cr.offscreen);const vo=Zo(Cr&&Cr.placeable);if(!Jr&&this.prevPlacement){const _i=this.prevPlacement.variableOffsets[Gt.crossTileID];_i&&(this.variableOffsets[Gt.crossTileID]=_i,this.markUsedJustification(f,_i.anchor,Gt,vo))}}}if(xa=Cr,Jr=xa&&xa.placeable,Mi=xa&&xa.offscreen,Gt.useRuntimeCollisionCircles){const Zo=f.text.placedSymbolArray.get(Gt.centerJustifiedTextSymbolIndex),Hl=l.am(f.textSizeData,Q,Zo),Es=y.get("text-padding");ua=this.collisionIndex.placeCollisionCircles(Ce,Zo,f.lineVertexArray,f.glyphOffsetArray,Hl,k,z,u,$e,ie.predicate,Gt.collisionCircleDiameter,Es,D,Ct),ua.circles.length&&ua.collisionDetected&&!u&&l.w("Collisions detected, but collision boxes are not shown"),Jr=ke||ua.circles.length>0&&!ua.collisionDetected,Mi=Mi&&ua.offscreen}if(bn.iconFeatureIndex&&(Ps=bn.iconFeatureIndex),bn.iconBox){const Zo=Hl=>this.collisionIndex.placeCollisionBox(Hl,Le,O,ht,k,$e,Be,T,ie.predicate,Ct,Ve&&Tr?Tr:void 0,nn);qi&&qi.placeable&&bn.verticalIconBox?(Pr=Zo(bn.verticalIconBox),Ti=Pr.placeable):(Pr=Zo(bn.iconBox),Ti=Pr.placeable),Mi=Mi&&Pr.offscreen}const fs=De||Gt.numHorizontalGlyphVertices===0&&Gt.numVerticalGlyphVertices===0,h0=we||Gt.numIconVertices===0;fs||h0?h0?fs||(Ti=Ti&&Jr):Jr=Ti&&Jr:Ti=Jr=Ti&&Jr;const Vo=Ti&&Pr.placeable;if(Jr&&xa.placeable&&this.collisionIndex.insertCollisionBox(xa.box,Ce,y.get("text-ignore-placement"),f.bucketInstanceId,qi&&qi.placeable&&ds?ds:Cl,ie.ID),Vo&&this.collisionIndex.insertCollisionBox(Pr.box,Le,y.get("icon-ignore-placement"),f.bucketInstanceId,Ps,ie.ID),ua&&Jr&&this.collisionIndex.insertCollisionCircles(ua.circles,Ce,y.get("text-ignore-placement"),f.bucketInstanceId,Cl,ie.ID),u&&this.storeCollisionData(f.bucketInstanceId,Zn,bn,xa,Pr,ua),Gt.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(f.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[Gt.crossTileID]=new oo((Jr||At)&&!(xa!=null&&xa.occluded),(Ti||nt)&&!(Pr!=null&&Pr.occluded),Mi||f.justReloaded),n[Gt.crossTileID]=!0};if(lt){if(e.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const Gt=f.getSortedSymbolIndexes(-this.transform.bearingInRadians);for(let bn=Gt.length-1;bn>=0;--bn){const Zn=Gt[bn];rn(f.symbolInstances.get(Zn),f.collisionArrays[Zn],Zn)}}else for(let Gt=e.symbolInstanceStart;Gt<e.symbolInstanceEnd;Gt++)rn(f.symbolInstances.get(Gt),f.collisionArrays[Gt],Gt);f.justReloaded=!1}storeCollisionData(e,n,u,f,y,D){if(u.textBox||u.iconBox){let T,k;this.collisionBoxArrays.has(e)?T=this.collisionBoxArrays.get(e):(T=new Map,this.collisionBoxArrays.set(e,T)),T.has(n)?k=T.get(n):(k={text:null,icon:null},T.set(n,k)),u.textBox&&(k.text=f.box),u.iconBox&&(k.icon=y.box)}if(D){let T=this.collisionCircleArrays[e];T===void 0&&(T=this.collisionCircleArrays[e]=[]);for(let k=0;k<D.circles.length;k+=4)T.push(D.circles[k+0]-or),T.push(D.circles[k+1]-or),T.push(D.circles[k+2]),T.push(D.collisionDetected?1:0)}}markUsedJustification(e,n,u,f){let y;y=f===l.al.vertical?u.verticalPlacedTextSymbolIndex:{left:u.leftJustifiedTextSymbolIndex,center:u.centerJustifiedTextSymbolIndex,right:u.rightJustifiedTextSymbolIndex}[l.aD(n)];const D=[u.leftJustifiedTextSymbolIndex,u.centerJustifiedTextSymbolIndex,u.rightJustifiedTextSymbolIndex,u.verticalPlacedTextSymbolIndex];for(const T of D)T>=0&&(e.text.placedSymbolArray.get(T).crossTileID=y>=0&&T!==y?0:u.crossTileID)}markUsedOrientation(e,n,u){const f=n===l.al.horizontal||n===l.al.horizontalOnly?n:0,y=n===l.al.vertical?n:0,D=[u.leftJustifiedTextSymbolIndex,u.centerJustifiedTextSymbolIndex,u.rightJustifiedTextSymbolIndex];for(const T of D)e.text.placedSymbolArray.get(T).placedOrientation=f;u.verticalPlacedTextSymbolIndex&&(e.text.placedSymbolArray.get(u.verticalPlacedTextSymbolIndex).placedOrientation=y)}commit(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;const n=this.prevPlacement;let u=!1;this.prevZoomAdjustment=n?n.zoomAdjustment(this.transform.zoom):0;const f=n?n.symbolFadeChange(e):1,y=n?n.opacities:{},D=n?n.variableOffsets:{},T=n?n.placedOrientations:{};for(const k in this.placements){const z=this.placements[k],O=y[k];O?(this.opacities[k]=new Fs(O,f,z.text,z.icon),u=u||z.text!==O.text.placed||z.icon!==O.icon.placed):(this.opacities[k]=new Fs(null,f,z.text,z.icon,z.skipFade),u=u||z.text||z.icon)}for(const k in y){const z=y[k];if(!this.opacities[k]){const O=new Fs(z,f,!1,!1);O.isHidden()||(this.opacities[k]=O,u=u||z.text.placed||z.icon.placed)}}for(const k in D)this.variableOffsets[k]||!this.opacities[k]||this.opacities[k].isHidden()||(this.variableOffsets[k]=D[k]);for(const k in T)this.placedOrientations[k]||!this.opacities[k]||this.opacities[k].isHidden()||(this.placedOrientations[k]=T[k]);if(n&&n.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");u?this.lastPlacementChangeTime=e:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=n?n.lastPlacementChangeTime:e)}updateLayerOpacities(e,n){const u={};for(const f of n){const y=f.getBucket(e);y&&f.latestFeatureIndex&&e.id===y.layerIds[0]&&this.updateBucketOpacities(y,f.tileID,u,f.collisionBoxArray)}}updateBucketOpacities(e,n,u,f){e.hasTextData()&&(e.text.opacityVertexArray.clear(),e.text.hasVisibleVertices=!1),e.hasIconData()&&(e.icon.opacityVertexArray.clear(),e.icon.hasVisibleVertices=!1),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexArray.clear(),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexArray.clear();const y=e.layers[0],D=y.layout,T=new Fs(null,0,!1,!1,!0),k=D.get("text-allow-overlap"),z=D.get("icon-allow-overlap"),O=y._unevaluatedLayout.hasValue("text-variable-anchor")||y._unevaluatedLayout.hasValue("text-variable-anchor-offset"),W=D.get("text-rotation-alignment")==="map",Z=D.get("text-pitch-alignment")==="map",Q=D.get("icon-text-fit")!=="none",ie=new Fs(null,0,k&&(z||!e.hasIconData()||D.get("icon-optional")),z&&(k||!e.hasTextData()||D.get("text-optional")),!0);!e.collisionArrays&&f&&(e.hasIconCollisionBoxData()||e.hasTextCollisionBoxData())&&e.deserializeCollisionBoxes(f);const De=(Ce,ke,Le)=>{for(let Ee=0;Ee<ke/4;Ee++)Ce.opacityVertexArray.emplaceBack(Le);Ce.hasVisibleVertices=Ce.hasVisibleVertices||Le!==B},we=this.collisionBoxArrays.get(e.bucketInstanceId);for(let Ce=0;Ce<e.symbolInstances.length;Ce++){const ke=e.symbolInstances.get(Ce),{numHorizontalGlyphVertices:Le,numVerticalGlyphVertices:Ee,crossTileID:Be}=ke;let $e=this.opacities[Be];u[Be]?$e=T:$e||($e=ie,this.opacities[Be]=$e),u[Be]=!0;const Ve=ke.numIconVertices>0,lt=this.placedOrientations[ke.crossTileID],At=lt===l.al.vertical,nt=lt===l.al.horizontal||lt===l.al.horizontalOnly;if(Le>0||Ee>0){const Ct=Eo($e.text);De(e.text,Le,At?B:Ct),De(e.text,Ee,nt?B:Ct);const nn=$e.text.isHidden();[ke.rightJustifiedTextSymbolIndex,ke.centerJustifiedTextSymbolIndex,ke.leftJustifiedTextSymbolIndex].forEach(bn=>{bn>=0&&(e.text.placedSymbolArray.get(bn).hidden=nn||At?1:0)}),ke.verticalPlacedTextSymbolIndex>=0&&(e.text.placedSymbolArray.get(ke.verticalPlacedTextSymbolIndex).hidden=nn||nt?1:0);const rn=this.variableOffsets[ke.crossTileID];rn&&this.markUsedJustification(e,rn.anchor,ke,lt);const Gt=this.placedOrientations[ke.crossTileID];Gt&&(this.markUsedJustification(e,"left",ke,Gt),this.markUsedOrientation(e,Gt,ke))}if(Ve){const Ct=Eo($e.icon),nn=!(Q&&ke.verticalPlacedIconSymbolIndex&&At);ke.placedIconSymbolIndex>=0&&(De(e.icon,ke.numIconVertices,nn?Ct:B),e.icon.placedSymbolArray.get(ke.placedIconSymbolIndex).hidden=$e.icon.isHidden()),ke.verticalPlacedIconSymbolIndex>=0&&(De(e.icon,ke.numVerticalIconVertices,nn?B:Ct),e.icon.placedSymbolArray.get(ke.verticalPlacedIconSymbolIndex).hidden=$e.icon.isHidden())}const ht=we&&we.has(Ce)?we.get(Ce):{text:null,icon:null};if(e.hasIconCollisionBoxData()||e.hasTextCollisionBoxData()){const Ct=e.collisionArrays[Ce];if(Ct){let nn=new l.P(0,0);if(Ct.textBox||Ct.verticalTextBox){let rn=!0;if(O){const Gt=this.variableOffsets[Be];Gt?(nn=na(Gt.anchor,Gt.width,Gt.height,Gt.textOffset,Gt.textBoxScale),W&&nn._rotate(Z?-this.transform.bearingInRadians:this.transform.bearingInRadians)):rn=!1}if(Ct.textBox||Ct.verticalTextBox){let Gt;Ct.textBox&&(Gt=At),Ct.verticalTextBox&&(Gt=nt),sl(e.textCollisionBox.collisionVertexArray,$e.text.placed,!rn||Gt,ht.text,nn.x,nn.y)}}if(Ct.iconBox||Ct.verticalIconBox){const rn=!!(!nt&&Ct.verticalIconBox);let Gt;Ct.iconBox&&(Gt=rn),Ct.verticalIconBox&&(Gt=!rn),sl(e.iconCollisionBox.collisionVertexArray,$e.icon.placed,Gt,ht.icon,Q?nn.x:0,Q?nn.y:0)}}}}if(e.sortFeatures(-this.transform.bearingInRadians),this.retainedQueryData[e.bucketInstanceId]&&(this.retainedQueryData[e.bucketInstanceId].featureSortOrder=e.featureSortOrder),e.hasTextData()&&e.text.opacityVertexBuffer&&e.text.opacityVertexBuffer.updateData(e.text.opacityVertexArray),e.hasIconData()&&e.icon.opacityVertexBuffer&&e.icon.opacityVertexBuffer.updateData(e.icon.opacityVertexArray),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexBuffer&&e.iconCollisionBox.collisionVertexBuffer.updateData(e.iconCollisionBox.collisionVertexArray),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexBuffer&&e.textCollisionBox.collisionVertexBuffer.updateData(e.textCollisionBox.collisionVertexArray),e.text.opacityVertexArray.length!==e.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${e.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${e.text.layoutVertexArray.length}) / 4`);if(e.icon.opacityVertexArray.length!==e.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${e.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${e.icon.layoutVertexArray.length}) / 4`);e.bucketInstanceId in this.collisionCircleArrays&&(e.collisionCircleArray=this.collisionCircleArrays[e.bucketInstanceId],delete this.collisionCircleArrays[e.bucketInstanceId])}symbolFadeChange(e){return this.fadeDuration===0?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(e){return Math.max(0,(this.transform.zoom-e)/1.5)}hasTransitions(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(e,n){const u=this.zoomAtLastRecencyCheck===n?1-this.zoomAdjustment(n):1;return this.zoomAtLastRecencyCheck=n,this.commitTime+this.fadeDuration*u>e}setStale(){this.stale=!0}}function sl(m,e,n,u,f,y){u&&u.length!==0||(u=[0,0,0,0]);const D=u[0]-or,T=u[1]-or,k=u[2]-or,z=u[3]-or;m.emplaceBack(e?1:0,n?1:0,f||0,y||0,D,T),m.emplaceBack(e?1:0,n?1:0,f||0,y||0,k,T),m.emplaceBack(e?1:0,n?1:0,f||0,y||0,k,z),m.emplaceBack(e?1:0,n?1:0,f||0,y||0,D,z)}const ya=Math.pow(2,25),bs=Math.pow(2,24),r0=Math.pow(2,17),x0=Math.pow(2,16),ws=Math.pow(2,9),i0=Math.pow(2,8),Ns=Math.pow(2,1);function Eo(m){if(m.opacity===0&&!m.placed)return 0;if(m.opacity===1&&m.placed)return 4294967295;const e=m.placed?1:0,n=Math.floor(127*m.opacity);return n*ya+e*bs+n*r0+e*x0+n*ws+e*i0+n*Ns+e}const B=0;class J{constructor(e){this._sortAcrossTiles=e.layout.get("symbol-z-order")!=="viewport-y"&&!e.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(e,n,u,f,y){const D=this._bucketParts;for(;this._currentTileIndex<e.length;)if(n.getBucketParts(D,f,e[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,y())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,D.sort((T,k)=>T.sortKey-k.sortKey));this._currentPartIndex<D.length;)if(n.placeLayerBucketPart(D[this._currentPartIndex],this._seenCrossTileIDs,u),this._currentPartIndex++,y())return!0;return!1}}class fe{constructor(e,n,u,f,y,D,T,k){this.placement=new so(e,n,D,T,k),this._currentPlacementIndex=u.length-1,this._forceFullPlacement=f,this._showCollisionBoxes=y,this._done=!1}isDone(){return this._done}continuePlacement(e,n,u){const f=ce.now(),y=()=>!this._forceFullPlacement&&ce.now()-f>2;for(;this._currentPlacementIndex>=0;){const D=n[e[this._currentPlacementIndex]],T=this.placement.collisionIndex.transform.zoom;if(D.type==="symbol"&&(!D.minzoom||D.minzoom<=T)&&(!D.maxzoom||D.maxzoom>T)){if(this._inProgressLayer||(this._inProgressLayer=new J(D)),this._inProgressLayer.continuePlacement(u[D.source],this.placement,this._showCollisionBoxes,D,y))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(e){return this.placement.commit(e),this.placement}}const Se=512/l.Z/2;class gt{constructor(e,n,u){this.tileID=e,this.bucketInstanceId=u,this._symbolsByKey={};const f=new Map;for(let y=0;y<n.length;y++){const D=n.get(y),T=D.key,k=f.get(T);k?k.push(D):f.set(T,[D])}for(const[y,D]of f){const T={positions:D.map(k=>({x:Math.floor(k.anchorX*Se),y:Math.floor(k.anchorY*Se)})),crossTileIDs:D.map(k=>k.crossTileID)};if(T.positions.length>128){const k=new l.aF(T.positions.length,16,Uint16Array);for(const{x:z,y:O}of T.positions)k.add(z,O);k.finish(),delete T.positions,T.index=k}this._symbolsByKey[y]=T}}getScaledCoordinates(e,n){const{x:u,y:f,z:y}=this.tileID.canonical,{x:D,y:T,z:k}=n.canonical,z=Se/Math.pow(2,k-y),O=(T*l.Z+e.anchorY)*z,W=f*l.Z*Se;return{x:Math.floor((D*l.Z+e.anchorX)*z-u*l.Z*Se),y:Math.floor(O-W)}}findMatches(e,n,u){const f=this.tileID.canonical.z<n.canonical.z?1:Math.pow(2,this.tileID.canonical.z-n.canonical.z);for(let y=0;y<e.length;y++){const D=e.get(y);if(D.crossTileID)continue;const T=this._symbolsByKey[D.key];if(!T)continue;const k=this.getScaledCoordinates(D,n);if(T.index){const z=T.index.range(k.x-f,k.y-f,k.x+f,k.y+f).sort();for(const O of z){const W=T.crossTileIDs[O];if(!u[W]){u[W]=!0,D.crossTileID=W;break}}}else if(T.positions)for(let z=0;z<T.positions.length;z++){const O=T.positions[z],W=T.crossTileIDs[z];if(Math.abs(O.x-k.x)<=f&&Math.abs(O.y-k.y)<=f&&!u[W]){u[W]=!0,D.crossTileID=W;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:e})=>e)}}class ct{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Ut{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(e){const n=Math.round((e-this.lng)/360);if(n!==0)for(const u in this.indexes){const f=this.indexes[u],y={};for(const D in f){const T=f[D];T.tileID=T.tileID.unwrapTo(T.tileID.wrap+n),y[T.tileID.key]=T}this.indexes[u]=y}this.lng=e}addBucket(e,n,u){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===n.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(let y=0;y<n.symbolInstances.length;y++)n.symbolInstances.get(y).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});const f=this.usedCrossTileIDs[e.overscaledZ];for(const y in this.indexes){const D=this.indexes[y];if(Number(y)>e.overscaledZ)for(const T in D){const k=D[T];k.tileID.isChildOf(e)&&k.findMatches(n.symbolInstances,e,f)}else{const T=D[e.scaledTo(Number(y)).key];T&&T.findMatches(n.symbolInstances,e,f)}}for(let y=0;y<n.symbolInstances.length;y++){const D=n.symbolInstances.get(y);D.crossTileID||(D.crossTileID=u.generate(),f[D.crossTileID]=!0)}return this.indexes[e.overscaledZ]===void 0&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new gt(e,n.symbolInstances,n.bucketInstanceId),!0}removeBucketCrossTileIDs(e,n){for(const u of n.getCrossTileIDsLists())for(const f of u)delete this.usedCrossTileIDs[e][f]}removeStaleBuckets(e){let n=!1;for(const u in this.indexes){const f=this.indexes[u];for(const y in f)e[f[y].bucketInstanceId]||(this.removeBucketCrossTileIDs(u,f[y]),delete f[y],n=!0)}return n}}class sn{constructor(){this.layerIndexes={},this.crossTileIDs=new ct,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(e,n,u){let f=this.layerIndexes[e.id];f===void 0&&(f=this.layerIndexes[e.id]=new Ut);let y=!1;const D={};f.handleWrapJump(u);for(const T of n){const k=T.getBucket(e);k&&e.id===k.layerIds[0]&&(k.bucketInstanceId||(k.bucketInstanceId=++this.maxBucketInstanceId),f.addBucket(T.tileID,k,this.crossTileIDs)&&(y=!0),D[k.bucketInstanceId]=!0)}return f.removeStaleBuckets(D)&&(y=!0),y}pruneUnusedLayers(e){const n={};e.forEach(u=>{n[u]=!0});for(const u in this.layerIndexes)n[u]||delete this.layerIndexes[u]}}var _n="void main() {fragColor=vec4(1.0);}";const Mn={prelude:xn(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
out highp vec4 fragColor;`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}mat3 rotationMatrixFromAxisAngle(vec3 u,float angle) {float c=cos(angle);float s=sin(angle);float c2=1.0-c;return mat3(u.x*u.x*c2+      c,u.x*u.y*c2-u.z*s,u.x*u.z*c2+u.y*s,u.y*u.x*c2+u.z*s,u.y*u.y*c2+    c,u.y*u.z*c2-u.x*s,u.z*u.x*c2-u.y*s,u.z*u.y*c2+u.x*s,u.z*u.z*c2+    c
);}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
#ifdef GLOBE
if ((pos.y <-32767.5) || (pos.y > 32766.5)) {return 0.0;}
#endif
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}const float PI=3.141592653589793;uniform mat4 u_projection_matrix;`),projectionMercator:xn("","float projectLineThickness(float tileY) {return 1.0;}float projectCircleRadius(float tileY) {return 1.0;}vec4 projectTile(vec2 p) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);return result;}vec4 projectTile(vec2 p,vec2 rawPos) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);if (rawPos.y <-32767.5 || rawPos.y > 32766.5) {result.z=-10000000.0;}return result;}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_projection_matrix*vec4(posInTile,elevation,1.0);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {return projectTileWithElevation(posInTile,elevation);}"),projectionGlobe:xn("",`#define GLOBE_RADIUS 6371008.8
uniform highp vec4 u_projection_tile_mercator_coords;uniform highp vec4 u_projection_clipping_plane;uniform highp float u_projection_transition;uniform mat4 u_projection_fallback_matrix;vec3 globeRotateVector(vec3 vec,vec2 angles) {vec3 axisRight=vec3(vec.z,0.0,-vec.x);vec3 axisUp=cross(axisRight,vec);axisRight=normalize(axisRight);axisUp=normalize(axisUp);vec2 t=tan(angles);return normalize(vec+axisRight*t.x+axisUp*t.y);}mat3 globeGetRotationMatrix(vec3 spherePos) {vec3 axisRight=vec3(spherePos.z,0.0,-spherePos.x);vec3 axisDown=cross(axisRight,spherePos);axisRight=normalize(axisRight);axisDown=normalize(axisDown);return mat3(axisRight,axisDown,spherePos
);}float circumferenceRatioAtTileY(float tileY) {float mercator_pos_y=u_projection_tile_mercator_coords.y+u_projection_tile_mercator_coords.w*tileY;float spherical_y=2.0*atan(exp(PI-(mercator_pos_y*PI*2.0)))-PI*0.5;return cos(spherical_y);}float projectLineThickness(float tileY) {float thickness=1.0/circumferenceRatioAtTileY(tileY); 
if (u_projection_transition < 0.999) {return mix(1.0,thickness,u_projection_transition);} else {return thickness;}}vec3 projectToSphere(vec2 translatedPos,vec2 rawPos) {vec2 mercator_pos=u_projection_tile_mercator_coords.xy+u_projection_tile_mercator_coords.zw*translatedPos;vec2 spherical;spherical.x=mercator_pos.x*PI*2.0+PI;spherical.y=2.0*atan(exp(PI-(mercator_pos.y*PI*2.0)))-PI*0.5;float len=cos(spherical.y);vec3 pos=vec3(sin(spherical.x)*len,sin(spherical.y),cos(spherical.x)*len
);if (rawPos.y <-32767.5) {pos=vec3(0.0,1.0,0.0);}if (rawPos.y > 32766.5) {pos=vec3(0.0,-1.0,0.0);}return pos;}vec3 projectToSphere(vec2 posInTile) {return projectToSphere(posInTile,vec2(0.0,0.0));}float globeComputeClippingZ(vec3 spherePos) {return (1.0-(dot(spherePos,u_projection_clipping_plane.xyz)+u_projection_clipping_plane.w));}vec4 interpolateProjection(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);globePosition.z=globeComputeClippingZ(elevatedPos)*globePosition.w;if (u_projection_transition > 0.999) {return globePosition;}vec4 flatPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);const float z_globeness_threshold=0.2;vec4 result=globePosition;result.z=mix(0.0,globePosition.z,clamp((u_projection_transition-z_globeness_threshold)/(1.0-z_globeness_threshold),0.0,1.0));result.xyw=mix(flatPosition.xyw,globePosition.xyw,u_projection_transition);if ((posInTile.y <-32767.5) || (posInTile.y > 32766.5)) {result=globePosition;const float poles_hidden_anim_percentage=0.02;result.z=mix(globePosition.z,100.0,pow(max((1.0-u_projection_transition)/poles_hidden_anim_percentage,0.0),8.0));}return result;}vec4 interpolateProjectionFor3D(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);if (u_projection_transition > 0.999) {return globePosition;}vec4 fallbackPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);return mix(fallbackPosition,globePosition,u_projection_transition);}vec4 projectTile(vec2 posInTile) {return interpolateProjection(posInTile,projectToSphere(posInTile),0.0);}vec4 projectTile(vec2 posInTile,vec2 rawPos) {return interpolateProjection(posInTile,projectToSphere(posInTile,rawPos),0.0);}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return interpolateProjection(posInTile,projectToSphere(posInTile),elevation);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {vec3 spherePos=projectToSphere(posInTile,posInTile);return interpolateProjectionFor3D(posInTile,spherePos,elevation);}`),background:xn(`uniform vec4 u_color;uniform float u_opacity;void main() {fragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),backgroundPattern:xn(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;void main() {gl_Position=projectTile(a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:xn(`in vec3 v_data;in float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);float antialiased_blur=v_data.z;float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));fragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);const float epsilon=0.5/255.0;if (fragColor.r < epsilon && fragColor.g < epsilon && fragColor.b < epsilon && fragColor.a < epsilon) {discard;}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform highp float u_globe_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;uniform vec2 u_translate;in vec2 a_pos;out vec3 v_data;out float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 pos_raw=a_pos+32768.0;vec2 extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);vec2 circle_center=floor(pos_raw/8.0)+u_translate;float ele=get_elevation(circle_center);v_visibility=calculate_visibility(projectTileWithElevation(circle_center,ele));if (u_pitch_with_map) {
#ifdef GLOBE
vec3 center_vector=projectToSphere(circle_center);
#endif
float angle_scale=u_globe_extrude_scale;vec2 corner_position=circle_center;if (u_scale_with_map) {angle_scale*=(radius+stroke_width);corner_position+=extrude*u_extrude_scale*(radius+stroke_width);} else {
#ifdef GLOBE
vec4 projected_center=interpolateProjection(circle_center,center_vector,ele);
#else
vec4 projected_center=projectTileWithElevation(circle_center,ele);
#endif
corner_position+=extrude*u_extrude_scale*(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);angle_scale*=(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);}
#ifdef GLOBE
vec2 angles=extrude*angle_scale;vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(corner_position,corner_vector,ele);
#else
gl_Position=projectTileWithElevation(corner_position,ele);
#endif
} else {gl_Position=projectTileWithElevation(circle_center,ele);if (gl_Position.z/gl_Position.w > 1.0) {gl_Position.xy=vec2(10000.0);}if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}float antialiasblur=-max(1.0/u_device_pixel_ratio/(radius+stroke_width),blur);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:xn(_n,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),heatmap:xn(`uniform highp float u_intensity;in vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);fragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;uniform highp float u_globe_extrude_scale;in vec2 a_pos;out vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 pos_raw=a_pos+32768.0;vec2 unscaled_extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 circle_center=floor(pos_raw/8.0);
#ifdef GLOBE
vec2 angles=v_extrude*radius*u_globe_extrude_scale;vec3 center_vector=projectToSphere(circle_center);vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(circle_center+extrude,corner_vector,0.0);
#else
gl_Position=projectTileFor3D(circle_center+extrude,get_elevation(circle_center));
#endif
}`),heatmapTexture:xn(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;in vec2 v_pos;void main() {float t=texture(u_image,v_pos).r;vec4 color=texture(u_color_ramp,vec2(t,0.5));fragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:xn("in float v_placed;in float v_notUsed;void main() {float alpha=0.5;fragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {fragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {fragColor*=.1;}}","in vec2 a_anchor_pos;in vec2 a_placed;in vec2 a_box_real;uniform vec2 u_pixel_extrude_scale;out float v_placed;out float v_notUsed;void main() {gl_Position=projectTileWithElevation(a_anchor_pos,get_elevation(a_anchor_pos));gl_Position.xy=((a_box_real+0.5)*u_pixel_extrude_scale*2.0-1.0)*vec2(1.0,-1.0)*gl_Position.w;if (gl_Position.z/gl_Position.w < 1.1) {gl_Position.z=0.5;}v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:xn("in float v_radius;in vec2 v_extrude;in float v_collision;void main() {float alpha=0.5;float stroke_radius=0.9;float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);fragColor=color*alpha*opacity_t;}","in vec2 a_pos;in float a_radius;in vec2 a_flags;uniform vec2 u_viewport_size;out float v_radius;out vec2 v_extrude;out float v_collision;void main() {float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_collision=collision;gl_Position=vec4((a_pos/u_viewport_size*2.0-1.0)*vec2(1.0,-1.0),0.0,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:xn("uniform highp vec4 u_color;uniform sampler2D u_overlay;in vec2 v_uv;void main() {vec4 overlay_color=texture(u_overlay,v_uv);fragColor=mix(u_color,overlay_color,overlay_color.a);}","in vec2 a_pos;out vec2 v_uv;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=projectTileWithElevation(a_pos*u_overlay_scale,get_elevation(a_pos));}"),depth:xn(_n,`in vec2 a_pos;void main() {
#ifdef GLOBE
gl_Position=projectTileFor3D(a_pos,0.0);
#else
gl_Position=u_projection_matrix*vec4(a_pos,0.0,1.0);
#endif
}`),fill:xn(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
fragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_fill_translate;in vec2 a_pos;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);}`),fillOutline:xn(`in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=outline_color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillOutlinePattern:xn(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;in vec2 v_pos_a;in vec2 v_pos_b;in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillPattern:xn(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:xn(`in vec4 v_color;void main() {fragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
out vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;vec3 normalForLighting=normal/16384.0;float directional=clamp(dot(normalForLighting,u_lightpos),0.0,1.0);
#ifdef GLOBE
mat3 rotMatrix=globeGetRotationMatrix(spherePos);normalForLighting=rotMatrix*normalForLighting;directional=mix(directional,clamp(dot(normalForLighting,u_lightpos_globe),0.0,1.0),u_projection_transition);
#endif
directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:xn(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;in vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);fragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
#ifdef GLOBE
out vec3 v_sphere_pos;
#endif
out vec2 v_pos_a;out vec2 v_pos_b;out vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);v_sphere_pos=elevatedPos;gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,elevation*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:xn(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack);}void main() {vec2 epsilon=1.0/u_dimension;float tileSize=u_dimension.x-2.0;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))*tileSize/pow(2.0,exaggeration+(28.2562-u_zoom));fragColor=clamp(vec4(deriv.x/8.0+0.5,deriv.y/8.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:xn(`uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_latrange;uniform float u_exaggeration;uniform vec4 u_accent;uniform int u_method;uniform float u_altitudes[NUM_ILLUMINATION_SOURCES];uniform float u_azimuths[NUM_ILLUMINATION_SOURCES];uniform vec4 u_shadows[NUM_ILLUMINATION_SOURCES];uniform vec4 u_highlights[NUM_ILLUMINATION_SOURCES];
#define PI 3.141592653589793
#define STANDARD 0
#define COMBINED 1
#define IGOR 2
#define MULTIDIRECTIONAL 3
#define BASIC 4
float get_aspect(vec2 deriv){return deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);}void igor_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float aspect=get_aspect(deriv);float azimuth=u_azimuths[0]+PI;float slope_stength=atan(length(deriv))*2.0/PI;float aspect_strength=1.0-abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);float shadow_strength=slope_stength*aspect_strength;float highlight_strength=slope_stength*(1.0-aspect_strength);fragColor=u_shadows[0]*shadow_strength+u_highlights[0]*highlight_strength;}void standard_hillshade(vec2 deriv){float azimuth=u_azimuths[0]+PI;float slope=atan(0.625*length(deriv));float aspect=get_aspect(deriv);float intensity=u_exaggeration;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadows[0],u_highlights[0],shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);fragColor=accent_color*(1.0-shade_color.a)+shade_color;}void basic_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor=u_highlights[0]*(2.0*shade-1.0);}else
{fragColor=u_shadows[0]*(1.0-2.0*shade);}}void multidirectional_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;fragColor=vec4(0,0,0,0);for(int i=0; i < NUM_ILLUMINATION_SOURCES; i++){float cos_alt=cos(u_altitudes[i]);float sin_alt=sin(u_altitudes[i]);float cos_az=-cos(u_azimuths[i]);float sin_az=-sin(u_azimuths[i]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor+=u_highlights[i]*(2.0*shade-1.0)/float(NUM_ILLUMINATION_SOURCES);}else
{fragColor+=u_shadows[i]*(1.0-2.0*shade)/float(NUM_ILLUMINATION_SOURCES);}}}void combined_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=acos((sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv)));cang=clamp(cang,0.0,PI/2.0);float shade=cang*atan(length(deriv))*4.0/PI/PI;float highlight=(PI/2.0-cang)*atan(length(deriv))*4.0/PI/PI;fragColor=u_shadows[0]*shade+u_highlights[0]*highlight;}void main() {vec4 pixel=texture(u_image,v_pos);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));vec2 deriv=((pixel.rg*8.0)-4.0)/scaleFactor;switch(u_method){case BASIC:
basic_hillshade(deriv);break;case COMBINED:
combined_hillshade(deriv);break;case IGOR:
igor_hillshade(deriv);break;case MULTIDIRECTIONAL:
multidirectional_hillshade(deriv);break;case STANDARD:
default:
standard_hillshade(deriv);break;}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);v_pos=a_pos/8192.0;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),line:xn(`uniform lowp float u_device_pixel_ratio;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp float v_linesofar;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:xn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;in highp vec2 v_uv;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture(u_image,v_uv);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;in float a_uv_x;in float a_split_index;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec2 v_uv;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:xn(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;in vec2 v_normal;in vec2 v_width2;in float v_linesofar;in float v_gamma_scale;in float v_width;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture(u_image,pos_a),texture(u_image,pos_b),u_fade);fragColor=color*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_linesofar;out float v_gamma_scale;out float v_width;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:xn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;in vec2 v_normal;in vec2 v_width2;in vec2 v_tex_a;in vec2 v_tex_b;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture(u_image,v_tex_a).a;float sdfdist_b=texture(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;out vec2 v_normal;out vec2 v_width2;out vec2 v_tex_a;out vec2 v_tex_b;out float v_gamma_scale;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:xn(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;in vec2 v_pos0;in vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture(u_image0,v_pos0);vec4 color1=texture(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);fragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;uniform vec4 u_coords_top;uniform vec4 u_coords_bottom;in vec2 a_pos;out vec2 v_pos0;out vec2 v_pos1;void main() {vec2 fractionalPos=a_pos/8192.0;vec2 position=mix(mix(u_coords_top.xy,u_coords_top.zw,fractionalPos.x),mix(u_coords_bottom.xy,u_coords_bottom.zw,fractionalPos.x),fractionalPos.y);gl_Position=projectTile(position,position);v_pos0=((fractionalPos-0.5)/u_buffer_scale)+0.5;
#ifdef GLOBE
if (a_pos.y <-32767.5) {v_pos0.y=0.0;}if (a_pos.y > 32766.5) {v_pos0.y=1.0;}
#endif
v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}`),symbolIcon:xn(`uniform sampler2D u_texture;in vec2 v_tex;in float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;fragColor=texture(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_tex;out float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}gl_Position=finalPos;v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:xn(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;in vec2 v_data0;in vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_data0;out vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:xn(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;in vec4 v_data0;in vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;fragColor=texture(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec4 v_data0;out vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map && !u_is_along_line) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:xn("uniform sampler2D u_texture;uniform vec4 u_fog_color;uniform vec4 u_horizon_color;uniform float u_fog_ground_blend;uniform float u_fog_ground_blend_opacity;uniform float u_horizon_fog_blend;uniform bool u_is_globe_mode;in vec2 v_texture_pos;in float v_fog_depth;const float gamma=2.2;vec4 gammaToLinear(vec4 color) {return pow(color,vec4(gamma));}vec4 linearToGamma(vec4 color) {return pow(color,vec4(1.0/gamma));}void main() {vec4 surface_color=texture(u_texture,vec2(v_texture_pos.x,1.0-v_texture_pos.y));if (!u_is_globe_mode && v_fog_depth > u_fog_ground_blend) {vec4 surface_color_linear=gammaToLinear(surface_color);float blend_color=smoothstep(0.0,1.0,max((v_fog_depth-u_horizon_fog_blend)/(1.0-u_horizon_fog_blend),0.0));vec4 fog_horizon_color_linear=mix(gammaToLinear(u_fog_color),gammaToLinear(u_horizon_color),blend_color);float factor_fog=max(v_fog_depth-u_fog_ground_blend,0.0)/(1.0-u_fog_ground_blend);fragColor=linearToGamma(mix(surface_color_linear,fog_horizon_color_linear,pow(factor_fog,2.0)*u_fog_ground_blend_opacity));} else {fragColor=surface_color;}}","in vec3 a_pos3d;uniform mat4 u_fog_matrix;uniform float u_ele_delta;out vec2 v_texture_pos;out float v_fog_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta);vec4 pos=u_fog_matrix*vec4(a_pos3d.xy,ele,1.0);v_fog_depth=pos.z/pos.w*0.5+0.5;}"),terrainDepth:xn("in float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {fragColor=pack(v_depth);}","in vec3 a_pos3d;uniform float u_ele_delta;out float v_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);v_depth=gl_Position.z/gl_Position.w;}"),terrainCoords:xn("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;in vec2 v_texture_pos;void main() {vec4 rgba=texture(u_texture,v_texture_pos);fragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}","in vec3 a_pos3d;uniform float u_ele_delta;out vec2 v_texture_pos;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);}"),projectionErrorMeasurement:xn("in vec4 v_output_error_encoded;void main() {fragColor=v_output_error_encoded;}","in vec2 a_pos;uniform highp float u_input;uniform highp float u_output_expected;out vec4 v_output_error_encoded;void main() {float real_output=2.0*atan(exp(PI-(u_input*PI*2.0)))-PI*0.5;float error=real_output-u_output_expected;float abs_error=abs(error)*128.0;v_output_error_encoded.x=min(floor(abs_error*256.0),255.0)/255.0;abs_error-=v_output_error_encoded.x;v_output_error_encoded.y=min(floor(abs_error*65536.0),255.0)/255.0;abs_error-=v_output_error_encoded.x/255.0;v_output_error_encoded.z=min(floor(abs_error*16777216.0),255.0)/255.0;v_output_error_encoded.w=error >=0.0 ? 1.0 : 0.0;gl_Position=vec4(a_pos,0.0,1.0);}"),atmosphere:xn(`in vec3 view_direction;uniform vec3 u_sun_pos;uniform vec3 u_globe_position;uniform float u_globe_radius;uniform float u_atmosphere_blend;/**Shader use from https:*Made some change to adapt to MapLibre Globe geometry*/const float PI=3.141592653589793;const int iSteps=5;const int jSteps=3;/*radius of the planet*/const float EARTH_RADIUS=6371e3;/*radius of the atmosphere*/const float ATMOS_RADIUS=6471e3;vec2 rsi(vec3 r0,vec3 rd,float sr) {float a=dot(rd,rd);float b=2.0*dot(rd,r0);float c=dot(r0,r0)-(sr*sr);float d=(b*b)-4.0*a*c;if (d < 0.0) return vec2(1e5,-1e5);return vec2((-b-sqrt(d))/(2.0*a),(-b+sqrt(d))/(2.0*a));}vec4 atmosphere(vec3 r,vec3 r0,vec3 pSun,float iSun,float rPlanet,float rAtmos,vec3 kRlh,float kMie,float shRlh,float shMie,float g) {pSun=normalize(pSun);r=normalize(r);vec2 p=rsi(r0,r,rAtmos);if (p.x > p.y) {return vec4(0.0,0.0,0.0,1.0);}if (p.x < 0.0) {p.x=0.0;}vec3 pos=r0+r*p.x;vec2 p2=rsi(r0,r,rPlanet);if (p2.x <=p2.y && p2.x > 0.0) {p.y=min(p.y,p2.x);}float iStepSize=(p.y-p.x)/float(iSteps);float iTime=p.x+iStepSize*0.5;vec3 totalRlh=vec3(0,0,0);vec3 totalMie=vec3(0,0,0);float iOdRlh=0.0;float iOdMie=0.0;float mu=dot(r,pSun);float mumu=mu*mu;float gg=g*g;float pRlh=3.0/(16.0*PI)*(1.0+mumu);float pMie=3.0/(8.0*PI)*((1.0-gg)*(mumu+1.0))/(pow(1.0+gg-2.0*mu*g,1.5)*(2.0+gg));for (int i=0; i < iSteps; i++) {vec3 iPos=r0+r*iTime;float iHeight=length(iPos)-rPlanet;float odStepRlh=exp(-iHeight/shRlh)*iStepSize;float odStepMie=exp(-iHeight/shMie)*iStepSize;iOdRlh+=odStepRlh;iOdMie+=odStepMie;float jStepSize=rsi(iPos,pSun,rAtmos).y/float(jSteps);float jTime=jStepSize*0.5;float jOdRlh=0.0;float jOdMie=0.0;for (int j=0; j < jSteps; j++) {vec3 jPos=iPos+pSun*jTime;float jHeight=length(jPos)-rPlanet;jOdRlh+=exp(-jHeight/shRlh)*jStepSize;jOdMie+=exp(-jHeight/shMie)*jStepSize;jTime+=jStepSize;}vec3 attn=exp(-(kMie*(iOdMie+jOdMie)+kRlh*(iOdRlh+jOdRlh)));totalRlh+=odStepRlh*attn;totalMie+=odStepMie*attn;iTime+=iStepSize;}float opacity=exp(-(length(kRlh)*length(totalRlh)+kMie*length(totalMie)));vec3 color=iSun*(pRlh*kRlh*totalRlh+pMie*kMie*totalMie);return vec4(color,opacity);}void main() {vec3 scale_camera_pos=-u_globe_position*EARTH_RADIUS/u_globe_radius;vec4 color=atmosphere(normalize(view_direction),scale_camera_pos,u_sun_pos,22.0,EARTH_RADIUS,ATMOS_RADIUS,vec3(5.5e-6,13.0e-6,22.4e-6),21e-6,8e3,1.2e3,0.758
);color.rgb=1.0-exp(-1.0*color.rgb);color=pow(color,vec4(1.0/2.2));fragColor=vec4(color.rgb,1.0-color.a)*u_atmosphere_blend;}`,"in vec2 a_pos;uniform mat4 u_inv_proj_matrix;out vec3 view_direction;void main() {view_direction=(u_inv_proj_matrix*vec4(a_pos,0.0,1.0)).xyz;gl_Position=vec4(a_pos,0.0,1.0);}"),sky:xn("uniform vec4 u_sky_color;uniform vec4 u_horizon_color;uniform vec2 u_horizon;uniform vec2 u_horizon_normal;uniform float u_sky_horizon_blend;uniform float u_sky_blend;void main() {float x=gl_FragCoord.x;float y=gl_FragCoord.y;float blend=(y-u_horizon.y)*u_horizon_normal.y+(x-u_horizon.x)*u_horizon_normal.x;if (blend > 0.0) {if (blend < u_sky_horizon_blend) {fragColor=mix(u_sky_color,u_horizon_color,pow(1.0-blend/u_sky_horizon_blend,2.0));} else {fragColor=u_sky_color;}}fragColor=mix(fragColor,vec4(vec3(0.0),0.0),u_sky_blend);}","in vec2 a_pos;void main() {gl_Position=vec4(a_pos,1.0,1.0);}")};function xn(m,e){const n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,u=e.match(/in ([\w]+) ([\w]+)/g),f=m.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),y=e.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),D=y?y.concat(f):f,T={};return{fragmentSource:m=m.replace(n,(k,z,O,W,Z)=>(T[Z]=!0,z==="define"?`
#ifndef HAS_UNIFORM_u_${Z}
in ${O} ${W} ${Z};
#else
uniform ${O} ${W} u_${Z};
#endif
`:`
#ifdef HAS_UNIFORM_u_${Z}
    ${O} ${W} ${Z} = u_${Z};
#endif
`)),vertexSource:e=e.replace(n,(k,z,O,W,Z)=>{const Q=W==="float"?"vec2":"vec4",ie=Z.match(/color/)?"color":Q;return T[Z]?z==="define"?`
#ifndef HAS_UNIFORM_u_${Z}
uniform lowp float u_${Z}_t;
in ${O} ${Q} a_${Z};
out ${O} ${W} ${Z};
#else
uniform ${O} ${W} u_${Z};
#endif
`:ie==="vec4"?`
#ifndef HAS_UNIFORM_u_${Z}
    ${Z} = a_${Z};
#else
    ${O} ${W} ${Z} = u_${Z};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Z}
    ${Z} = unpack_mix_${ie}(a_${Z}, u_${Z}_t);
#else
    ${O} ${W} ${Z} = u_${Z};
#endif
`:z==="define"?`
#ifndef HAS_UNIFORM_u_${Z}
uniform lowp float u_${Z}_t;
in ${O} ${Q} a_${Z};
#else
uniform ${O} ${W} u_${Z};
#endif
`:ie==="vec4"?`
#ifndef HAS_UNIFORM_u_${Z}
    ${O} ${W} ${Z} = a_${Z};
#else
    ${O} ${W} ${Z} = u_${Z};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Z}
    ${O} ${W} ${Z} = unpack_mix_${ie}(a_${Z}, u_${Z}_t);
#else
    ${O} ${W} ${Z} = u_${Z};
#endif
`}),staticAttributes:u,staticUniforms:D}}class Br{constructor(e,n,u){this.vertexBuffer=e,this.indexBuffer=n,this.segments=u}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.vertexBuffer=null,this.indexBuffer=null,this.segments=null}}var gi=l.aG([{name:"a_pos",type:"Int16",components:2}]);const ra="#define PROJECTION_MERCATOR",er="mercator";class lo{constructor(){this._cachedMesh=null}get name(){return"mercator"}get useSubdivision(){return!1}get shaderVariantName(){return er}get shaderDefine(){return ra}get shaderPreludeCode(){return Mn.projectionMercator}get vertexShaderPreludeCode(){return Mn.projectionMercator.vertexSource}get subdivisionGranularity(){return l.aH.noSubdivision}get useGlobeControls(){return!1}get transitionState(){return 0}get latitudeErrorCorrectionRadians(){return 0}destroy(){}updateGPUdependent(e){}getMeshFromTileID(e,n,u,f,y){if(this._cachedMesh)return this._cachedMesh;const D=new l.aI;D.emplaceBack(0,0),D.emplaceBack(l.Z,0),D.emplaceBack(0,l.Z),D.emplaceBack(l.Z,l.Z);const T=e.createVertexBuffer(D,gi.members),k=l.aJ.simpleSegment(0,0,4,2),z=new l.aK;z.emplaceBack(1,0,2),z.emplaceBack(1,2,3);const O=e.createIndexBuffer(z);return this._cachedMesh=new Br(T,O,k),this._cachedMesh}recalculate(){}hasTransition(){return!1}setErrorQueryLatitudeDegrees(e){}}class Aa{constructor(e=0,n=0,u=0,f=0){if(isNaN(e)||e<0||isNaN(n)||n<0||isNaN(u)||u<0||isNaN(f)||f<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=e,this.bottom=n,this.left=u,this.right=f}interpolate(e,n,u){return n.top!=null&&e.top!=null&&(this.top=l.B.number(e.top,n.top,u)),n.bottom!=null&&e.bottom!=null&&(this.bottom=l.B.number(e.bottom,n.bottom,u)),n.left!=null&&e.left!=null&&(this.left=l.B.number(e.left,n.left,u)),n.right!=null&&e.right!=null&&(this.right=l.B.number(e.right,n.right,u)),this}getCenter(e,n){const u=l.ae((this.left+e-this.right)/2,0,e),f=l.ae((this.top+n-this.bottom)/2,0,n);return new l.P(u,f)}equals(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right}clone(){return new Aa(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function Sa(m,e){if(!m.renderWorldCopies||m.lngRange)return;const n=e.lng-m.center.lng;e.lng+=n>180?-360:n<-180?360:0}function si(m){return Math.max(0,Math.floor(m))}class li{constructor(e,n,u,f,y,D){this._callbacks=e,this._tileSize=512,this._renderWorldCopies=D===void 0||!!D,this._minZoom=n||0,this._maxZoom=u||22,this._minPitch=f??0,this._maxPitch=y??60,this.setMaxBounds(),this._width=0,this._height=0,this._center=new l.Q(0,0),this._elevation=0,this._zoom=0,this._tileZoom=si(this._zoom),this._scale=l.ac(this._zoom),this._bearingInRadians=0,this._fovInRadians=.6435011087932844,this._pitchInRadians=0,this._rollInRadians=0,this._unmodified=!0,this._edgeInsets=new Aa,this._minElevationForCurrentTile=0,this._autoCalculateNearFarZ=!0}apply(e,n,u){this._latRange=e.latRange,this._lngRange=e.lngRange,this._width=e.width,this._height=e.height,this._center=e.center,this._elevation=e.elevation,this._minElevationForCurrentTile=e.minElevationForCurrentTile,this._zoom=e.zoom,this._tileZoom=si(this._zoom),this._scale=l.ac(this._zoom),this._bearingInRadians=e.bearingInRadians,this._fovInRadians=e.fovInRadians,this._pitchInRadians=e.pitchInRadians,this._rollInRadians=e.rollInRadians,this._unmodified=e.unmodified,this._edgeInsets=new Aa(e.padding.top,e.padding.bottom,e.padding.left,e.padding.right),this._minZoom=e.minZoom,this._maxZoom=e.maxZoom,this._minPitch=e.minPitch,this._maxPitch=e.maxPitch,this._renderWorldCopies=e.renderWorldCopies,this._cameraToCenterDistance=e.cameraToCenterDistance,this._nearZ=e.nearZ,this._farZ=e.farZ,this._autoCalculateNearFarZ=!u&&e.autoCalculateNearFarZ,n&&this._constrain(),this._calcMatrices()}get pixelsToClipSpaceMatrix(){return this._pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._clipSpaceToPixelsMatrix}get minElevationForCurrentTile(){return this._minElevationForCurrentTile}setMinElevationForCurrentTile(e){this._minElevationForCurrentTile=e}get tileSize(){return this._tileSize}get tileZoom(){return this._tileZoom}get scale(){return this._scale}get width(){return this._width}get height(){return this._height}get bearingInRadians(){return this._bearingInRadians}get lngRange(){return this._lngRange}get latRange(){return this._latRange}get pixelsToGLUnits(){return this._pixelsToGLUnits}get minZoom(){return this._minZoom}setMinZoom(e){this._minZoom!==e&&(this._minZoom=e,this.setZoom(this.getConstrained(this._center,this.zoom).zoom))}get maxZoom(){return this._maxZoom}setMaxZoom(e){this._maxZoom!==e&&(this._maxZoom=e,this.setZoom(this.getConstrained(this._center,this.zoom).zoom))}get minPitch(){return this._minPitch}setMinPitch(e){this._minPitch!==e&&(this._minPitch=e,this.setPitch(Math.max(this.pitch,e)))}get maxPitch(){return this._maxPitch}setMaxPitch(e){this._maxPitch!==e&&(this._maxPitch=e,this.setPitch(Math.min(this.pitch,e)))}get renderWorldCopies(){return this._renderWorldCopies}setRenderWorldCopies(e){e===void 0?e=!0:e===null&&(e=!1),this._renderWorldCopies=e}get worldSize(){return this._tileSize*this._scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new l.P(this._width,this._height)}get bearing(){return this._bearingInRadians/Math.PI*180}setBearing(e){const n=l.aL(e,-180,180)*Math.PI/180;var u,f,y,D,T,k,z,O,W;this._bearingInRadians!==n&&(this._unmodified=!1,this._bearingInRadians=n,this._calcMatrices(),this._rotationMatrix=q(),u=this._rotationMatrix,y=-this._bearingInRadians,D=(f=this._rotationMatrix)[0],T=f[1],k=f[2],z=f[3],O=Math.sin(y),W=Math.cos(y),u[0]=D*W+k*O,u[1]=T*W+z*O,u[2]=D*-O+k*W,u[3]=T*-O+z*W)}get rotationMatrix(){return this._rotationMatrix}get pitchInRadians(){return this._pitchInRadians}get pitch(){return this._pitchInRadians/Math.PI*180}setPitch(e){const n=l.ae(e,this.minPitch,this.maxPitch)/180*Math.PI;this._pitchInRadians!==n&&(this._unmodified=!1,this._pitchInRadians=n,this._calcMatrices())}get rollInRadians(){return this._rollInRadians}get roll(){return this._rollInRadians/Math.PI*180}setRoll(e){const n=e/180*Math.PI;this._rollInRadians!==n&&(this._unmodified=!1,this._rollInRadians=n,this._calcMatrices())}get fovInRadians(){return this._fovInRadians}get fov(){return l.aM(this._fovInRadians)}setFov(e){e=l.ae(e,.1,150),this.fov!==e&&(this._unmodified=!1,this._fovInRadians=l.ab(e),this._calcMatrices())}get zoom(){return this._zoom}setZoom(e){const n=this.getConstrained(this._center,e).zoom;this._zoom!==n&&(this._unmodified=!1,this._zoom=n,this._tileZoom=Math.max(0,Math.floor(n)),this._scale=l.ac(n),this._constrain(),this._calcMatrices())}get center(){return this._center}setCenter(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}setElevation(e){e!==this._elevation&&(this._elevation=e,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}setPadding(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this._width,this._height)}get pixelsPerMeter(){return this._pixelPerMeter}get unmodified(){return this._unmodified}get cameraToCenterDistance(){return this._cameraToCenterDistance}get nearZ(){return this._nearZ}get farZ(){return this._farZ}get autoCalculateNearFarZ(){return this._autoCalculateNearFarZ}overrideNearFarZ(e,n){this._autoCalculateNearFarZ=!1,this._nearZ=e,this._farZ=n,this._calcMatrices()}clearNearFarZOverride(){this._autoCalculateNearFarZ=!0,this._calcMatrices()}isPaddingEqual(e){return this._edgeInsets.equals(e)}interpolatePadding(e,n,u){this._unmodified=!1,this._edgeInsets.interpolate(e,n,u),this._constrain(),this._calcMatrices()}resize(e,n,u=!0){this._width=e,this._height=n,u&&this._constrain(),this._calcMatrices()}getMaxBounds(){return this._latRange&&this._latRange.length===2&&this._lngRange&&this._lngRange.length===2?new yn([this._lngRange[0],this._latRange[0]],[this._lngRange[1],this._latRange[1]]):null}setMaxBounds(e){e?(this._lngRange=[e.getWest(),e.getEast()],this._latRange=[e.getSouth(),e.getNorth()],this._constrain()):(this._lngRange=null,this._latRange=[-85.051129,l.af])}getConstrained(e,n){return this._callbacks.getConstrained(e,n)}getCameraQueryGeometry(e,n){if(n.length===1)return[n[0],e];{let u=e.x,f=e.y,y=e.x,D=e.y;for(const T of n)u=Math.min(u,T.x),f=Math.min(f,T.y),y=Math.max(y,T.x),D=Math.max(D,T.y);return[new l.P(u,f),new l.P(y,f),new l.P(y,D),new l.P(u,D),new l.P(u,f)]}}_constrain(){if(!this.center||!this._width||!this._height||this._constraining)return;this._constraining=!0;const e=this._unmodified,{center:n,zoom:u}=this.getConstrained(this.center,this.zoom);this.setCenter(n),this.setZoom(u),this._unmodified=e,this._constraining=!1}_calcMatrices(){if(this._width&&this._height){this._pixelsToGLUnits=[2/this._width,-2/this._height];let e=l.ad(new Float64Array(16));l.M(e,e,[this._width/2,-this._height/2,1]),l.L(e,e,[1,-1,0]),this._clipSpaceToPixelsMatrix=e,e=l.ad(new Float64Array(16)),l.M(e,e,[1,-1,1]),l.L(e,e,[-1,-1,0]),l.M(e,e,[2/this._width,2/this._height,1]),this._pixelsToClipSpaceMatrix=e,this._cameraToCenterDistance=.5/Math.tan(this.fovInRadians/2)*this._height}this._callbacks.calcMatrices()}calculateCenterFromCameraLngLatAlt(e,n,u,f){const y=u!==void 0?u:this.bearing,D=f=f!==void 0?f:this.pitch,T=l.$.fromLngLat(e,n),k=-Math.cos(l.ab(D)),z=Math.sin(l.ab(D)),O=z*Math.sin(l.ab(y)),W=-z*Math.cos(l.ab(y));let Z=this.elevation;const Q=n-Z;let ie;k*Q>=0||Math.abs(k)<.1?(ie=1e4,Z=n+ie*k):ie=-Q/k;let De,we,Ce=l.aN(1,T.y),ke=0;do{if(ke+=1,ke>10)break;we=ie/Ce,De=new l.$(T.x+O*we,T.y+W*we),Ce=1/De.meterInMercatorCoordinateUnits()}while(Math.abs(ie-we*Ce)>1e-12);return{center:De.toLngLat(),elevation:Z,zoom:l.ah(this.height/2/Math.tan(this.fovInRadians/2)/we/this.tileSize)}}recalculateZoomAndCenter(e){if(this.elevation-e==0)return;const n=l.ag(1,this.center.lat)*this.worldSize,u=this.cameraToCenterDistance/n,f=l.$.fromLngLat(this.center,this.elevation),y=ae(this.center,this.elevation,this.pitch,this.bearing,u);this._elevation=e;const D=this.calculateCenterFromCameraLngLatAlt(y.toLngLat(),l.aN(y.z,f.y),this.bearing,this.pitch);this._elevation=D.elevation,this._center=D.center,this.setZoom(D.zoom)}getCameraPoint(){const e=Math.tan(this.pitchInRadians)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new l.P(e*Math.sin(this.rollInRadians),e*Math.cos(this.rollInRadians)))}getCameraAltitude(){return Math.cos(this.pitchInRadians)*this._cameraToCenterDistance/this._pixelPerMeter+this.elevation}getCameraLngLat(){const e=l.ag(1,this.center.lat)*this.worldSize;return ae(this.center,this.elevation,this.pitch,this.bearing,this.cameraToCenterDistance/e).toLngLat()}getMercatorTileCoordinates(e){if(!e)return[0,0,1,1];const n=e.canonical.z>=0?1<<e.canonical.z:Math.pow(2,e.canonical.z);return[e.canonical.x/n,e.canonical.y/n,1/n/l.Z,1/n/l.Z]}}class Ur{constructor(e,n){this.min=e,this.max=n,this.center=l.aO([],l.aP([],this.min,this.max),.5)}quadrant(e){const n=[e%2==0,e<2],u=l.aQ(this.min),f=l.aQ(this.max);for(let y=0;y<n.length;y++)u[y]=n[y]?this.min[y]:this.center[y],f[y]=n[y]?this.center[y]:this.max[y];return f[2]=this.max[2],new Ur(u,f)}distanceX(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]}distanceY(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]}intersectsFrustum(e){let n=!0;for(let u=0;u<e.planes.length;u++){const f=this.intersectsPlane(e.planes[u]);if(f===0)return 0;f===1&&(n=!1)}return n?2:e.aabb.min[0]>this.max[0]||e.aabb.min[1]>this.max[1]||e.aabb.min[2]>this.max[2]||e.aabb.max[0]<this.min[0]||e.aabb.max[1]<this.min[1]||e.aabb.max[2]<this.min[2]?0:1}intersectsPlane(e){let n=e[3],u=e[3];for(let f=0;f<3;f++)e[f]>0?(n+=e[f]*this.min[f],u+=e[f]*this.max[f]):(u+=e[f]*this.min[f],n+=e[f]*this.max[f]);return n>=0?2:u<0?0:1}}class Ii{distanceToTile2d(e,n,u,f){const y=f.distanceX([e,n]),D=f.distanceY([e,n]);return Math.hypot(y,D)}getWrap(e,n,u){return u}getTileAABB(e,n,u,f){var y,D;let T=u,k=u;if(f.terrain){const O=new l.Y(e.z,n,e.z,e.x,e.y),W=f.terrain.getMinMaxElevation(O);T=(y=W.minElevation)!==null&&y!==void 0?y:u,k=(D=W.maxElevation)!==null&&D!==void 0?D:u}const z=1<<e.z;return new Ur([n+e.x/z,e.y/z,T],[n+(e.x+1)/z,(e.y+1)/z,k])}allowVariableZoom(e,n){const u=e.fov*(Math.abs(Math.cos(e.rollInRadians))*e.height+Math.abs(Math.sin(e.rollInRadians))*e.width)/e.height,f=l.ae(78.5-u/2,0,60);return!!n.terrain||e.pitch>f}allowWorldCopies(){return!0}recalculateCache(){}}class zr{constructor(e,n,u){this.points=e,this.planes=n,this.aabb=u}static fromInvProjectionMatrix(e,n=1,u=0){const f=Math.pow(2,u),y=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(z=>{const O=1/(z=l.at([],z,e))[3]/n*f;return l.aR(z,z,[O,O,1/z[3],O])}),D=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(z=>{const O=l.aS([],y[z[0]],y[z[1]]),W=l.aS([],y[z[2]],y[z[1]]),Z=l.aT([],l.aU([],O,W)),Q=-l.aV(Z,y[z[1]]);return Z.concat(Q)}),T=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY],k=[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];for(const z of y)for(let O=0;O<3;O++)T[O]=Math.min(T[O],z[O]),k[O]=Math.max(k[O],z[O]);return new zr(y,D,new Ur(T,k))}}class b0{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(e){this._helper.setMinZoom(e)}setMaxZoom(e){this._helper.setMaxZoom(e)}setMinPitch(e){this._helper.setMinPitch(e)}setMaxPitch(e){this._helper.setMaxPitch(e)}setRenderWorldCopies(e){this._helper.setRenderWorldCopies(e)}setBearing(e){this._helper.setBearing(e)}setPitch(e){this._helper.setPitch(e)}setRoll(e){this._helper.setRoll(e)}setFov(e){this._helper.setFov(e)}setZoom(e){this._helper.setZoom(e)}setCenter(e){this._helper.setCenter(e)}setElevation(e){this._helper.setElevation(e)}setMinElevationForCurrentTile(e){this._helper.setMinElevationForCurrentTile(e)}setPadding(e){this._helper.setPadding(e)}interpolatePadding(e,n,u){return this._helper.interpolatePadding(e,n,u)}isPaddingEqual(e){return this._helper.isPaddingEqual(e)}resize(e,n,u=!0){this._helper.resize(e,n,u)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(e){this._helper.setMaxBounds(e)}overrideNearFarZ(e,n){this._helper.overrideNearFarZ(e,n)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(e){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),e)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(e,n){}constructor(e,n,u,f,y){this._posMatrixCache=new Map,this._alignedPosMatrixCache=new Map,this._fogMatrixCacheF32=new Map,this._helper=new li({calcMatrices:()=>{this._calcMatrices()},getConstrained:(D,T)=>this.getConstrained(D,T)},e,n,u,f,y),this._coveringTilesDetailsProvider=new Ii}clone(){const e=new b0;return e.apply(this),e}apply(e,n,u){this._helper.apply(e,n,u)}get cameraPosition(){return this._cameraPosition}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._viewProjMatrix}get inverseProjectionMatrix(){return this._invProjMatrix}get mercatorMatrix(){return this._mercatorMatrix}getVisibleUnwrappedCoordinates(e){const n=[new l.aW(0,e)];if(this._helper._renderWorldCopies){const u=this.screenPointToMercatorCoordinate(new l.P(0,0)),f=this.screenPointToMercatorCoordinate(new l.P(this._helper._width,0)),y=this.screenPointToMercatorCoordinate(new l.P(this._helper._width,this._helper._height)),D=this.screenPointToMercatorCoordinate(new l.P(0,this._helper._height)),T=Math.floor(Math.min(u.x,f.x,y.x,D.x)),k=Math.floor(Math.max(u.x,f.x,y.x,D.x)),z=1;for(let O=T-z;O<=k+z;O++)O!==0&&n.push(new l.aW(O,e))}return n}getCameraFrustum(){return zr.fromInvProjectionMatrix(this._invViewProjMatrix,this.worldSize)}getClippingPlane(){return null}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(e){const n=this.screenPointToLocation(this.centerPoint,e),u=e?e.getElevationForLngLatZoom(n,this._helper._tileZoom):0;this._helper.recalculateZoomAndCenter(u)}setLocationAtPoint(e,n){const u=l.ag(this.elevation,this.center.lat),f=this.screenPointToMercatorCoordinateAtZ(n,u),y=this.screenPointToMercatorCoordinateAtZ(this.centerPoint,u),D=l.$.fromLngLat(e),T=new l.$(D.x-(f.x-y.x),D.y-(f.y-y.y));this.setCenter(T==null?void 0:T.toLngLat()),this._helper._renderWorldCopies&&this.setCenter(this.center.wrap())}locationToScreenPoint(e,n){return n?this.coordinatePoint(l.$.fromLngLat(e),n.getElevationForLngLatZoom(e,this._helper._tileZoom),this._pixelMatrix3D):this.coordinatePoint(l.$.fromLngLat(e))}screenPointToLocation(e,n){var u;return(u=this.screenPointToMercatorCoordinate(e,n))===null||u===void 0?void 0:u.toLngLat()}screenPointToMercatorCoordinate(e,n){if(n){const u=n.pointCoordinate(e);if(u!=null)return u}return this.screenPointToMercatorCoordinateAtZ(e)}screenPointToMercatorCoordinateAtZ(e,n){const u=n||0,f=[e.x,e.y,0,1],y=[e.x,e.y,1,1];l.at(f,f,this._pixelMatrixInverse),l.at(y,y,this._pixelMatrixInverse);const D=f[3],T=y[3],k=f[1]/D,z=y[1]/T,O=f[2]/D,W=y[2]/T,Z=O===W?0:(u-O)/(W-O);return new l.$(l.B.number(f[0]/D,y[0]/T,Z)/this.worldSize,l.B.number(k,z,Z)/this.worldSize,u)}coordinatePoint(e,n=0,u=this._pixelMatrix){const f=[e.x*this.worldSize,e.y*this.worldSize,n,1];return l.at(f,f,u),new l.P(f[0]/f[3],f[1]/f[3])}getBounds(){const e=Math.max(0,this._helper._height/2-Fe(this));return new yn().extend(this.screenPointToLocation(new l.P(0,e))).extend(this.screenPointToLocation(new l.P(this._helper._width,e))).extend(this.screenPointToLocation(new l.P(this._helper._width,this._helper._height))).extend(this.screenPointToLocation(new l.P(0,this._helper._height)))}isPointOnMapSurface(e,n){return n?n.pointCoordinate(e)!=null:e.y>this.height/2-Fe(this)}calculatePosMatrix(e,n=!1,u){var f;const y=(f=e.key)!==null&&f!==void 0?f:l.aX(e.wrap,e.canonical.z,e.canonical.z,e.canonical.x,e.canonical.y),D=n?this._alignedPosMatrixCache:this._posMatrixCache;if(D.has(y)){const z=D.get(y);return u?z.f32:z.f64}const T=ne(e,this.worldSize);l.N(T,n?this._alignedProjMatrix:this._viewProjMatrix,T);const k={f64:T,f32:new Float32Array(T)};return D.set(y,k),u?k.f32:k.f64}calculateFogMatrix(e){const n=e.key,u=this._fogMatrixCacheF32;if(u.has(n))return u.get(n);const f=ne(e,this.worldSize);return l.N(f,this._fogMatrix,f),u.set(n,new Float32Array(f)),u.get(n)}getConstrained(e,n){n=l.ae(+n,this.minZoom,this.maxZoom);const u={center:new l.Q(e.lng,e.lat),zoom:n};let f=this._helper._lngRange;this._helper._renderWorldCopies||f!==null||(f=[-179.9999999999,180-1e-10]);const y=this.tileSize*l.ac(u.zoom);let D=0,T=y,k=0,z=y,O=0,W=0;const{x:Z,y:Q}=this.size;if(this._helper._latRange){const Le=this._helper._latRange;D=l.S(Le[1])*y,T=l.S(Le[0])*y,T-D<Q&&(O=Q/(T-D))}f&&(k=l.aL(l.U(f[0])*y,0,y),z=l.aL(l.U(f[1])*y,0,y),z<k&&(z+=y),z-k<Z&&(W=Z/(z-k)));const{x:ie,y:De}=ni(y,e);let we,Ce;const ke=Math.max(W||0,O||0);if(ke){const Le=new l.P(W?(z+k)/2:ie,O?(T+D)/2:De);return u.center=ma(y,Le).wrap(),u.zoom+=l.ah(ke),u}if(this._helper._latRange){const Le=Q/2;De-Le<D&&(Ce=D+Le),De+Le>T&&(Ce=T-Le)}if(f){const Le=(k+z)/2;let Ee=ie;this._helper._renderWorldCopies&&(Ee=l.aL(ie,Le-y/2,Le+y/2));const Be=Z/2;Ee-Be<k&&(we=k+Be),Ee+Be>z&&(we=z-Be)}if(we!==void 0||Ce!==void 0){const Le=new l.P(we??ie,Ce??De);u.center=ma(y,Le).wrap()}return u}calculateCenterFromCameraLngLatAlt(e,n,u,f){return this._helper.calculateCenterFromCameraLngLatAlt(e,n,u,f)}_calculateNearFarZIfNeeded(e,n,u){if(!this._helper.autoCalculateNearFarZ)return;const f=Math.min(this.elevation,this.minElevationForCurrentTile,this.getCameraAltitude()-100),y=e-f*this._helper._pixelPerMeter/Math.cos(n),D=f<0?y:e,T=Math.PI/2+this.pitchInRadians,k=l.ab(this.fov)*(Math.abs(Math.cos(l.ab(this.roll)))*this.height+Math.abs(Math.sin(l.ab(this.roll)))*this.width)/this.height*(.5+u.y/this.height),z=Math.sin(k)*D/Math.sin(l.ae(Math.PI-T-k,.01,Math.PI-.01)),O=Fe(this),W=Math.atan(O/this._helper.cameraToCenterDistance),Z=l.ab(.75),Q=W>Z?2*W*(.5+u.y/(2*O)):Z,ie=Math.sin(Q)*D/Math.sin(l.ae(Math.PI-T-Q,.01,Math.PI-.01)),De=Math.min(z,ie);this._helper._farZ=1.01*(Math.cos(Math.PI/2-n)*De+D),this._helper._nearZ=this._helper._height/50}_calcMatrices(){if(!this._helper._height)return;const e=this.centerOffset,n=ni(this.worldSize,this.center),u=n.x,f=n.y;this._helper._pixelPerMeter=l.ag(1,this.center.lat)*this.worldSize;const y=l.ab(Math.min(this.pitch,wi)),D=Math.max(this._helper.cameraToCenterDistance/2,this._helper.cameraToCenterDistance+this._helper._elevation*this._helper._pixelPerMeter/Math.cos(y));let T;this._calculateNearFarZIfNeeded(D,y,e),T=new Float64Array(16),l.aY(T,this.fovInRadians,this._helper._width/this._helper._height,this._helper._nearZ,this._helper._farZ),this._invProjMatrix=new Float64Array(16),l.an(this._invProjMatrix,T),T[8]=2*-e.x/this._helper._width,T[9]=2*e.y/this._helper._height,this._projectionMatrix=l.aZ(T),l.M(T,T,[1,-1,1]),l.L(T,T,[0,0,-this._helper.cameraToCenterDistance]),l.a_(T,T,-this.rollInRadians),l.a$(T,T,this.pitchInRadians),l.a_(T,T,-this.bearingInRadians),l.L(T,T,[-u,-f,0]),this._mercatorMatrix=l.M([],T,[this.worldSize,this.worldSize,this.worldSize]),l.M(T,T,[1,1,this._helper._pixelPerMeter]),this._pixelMatrix=l.N(new Float64Array(16),this.clipSpaceToPixelsMatrix,T),l.L(T,T,[0,0,-this.elevation]),this._viewProjMatrix=T,this._invViewProjMatrix=l.an([],T);const k=[0,0,-1,1];l.at(k,k,this._invViewProjMatrix),this._cameraPosition=[k[0]/k[3],k[1]/k[3],k[2]/k[3]],this._fogMatrix=new Float64Array(16),l.aY(this._fogMatrix,this.fovInRadians,this.width/this.height,D,this._helper._farZ),this._fogMatrix[8]=2*-e.x/this.width,this._fogMatrix[9]=2*e.y/this.height,l.M(this._fogMatrix,this._fogMatrix,[1,-1,1]),l.L(this._fogMatrix,this._fogMatrix,[0,0,-this.cameraToCenterDistance]),l.a_(this._fogMatrix,this._fogMatrix,-this.rollInRadians),l.a$(this._fogMatrix,this._fogMatrix,this.pitchInRadians),l.a_(this._fogMatrix,this._fogMatrix,-this.bearingInRadians),l.L(this._fogMatrix,this._fogMatrix,[-u,-f,0]),l.M(this._fogMatrix,this._fogMatrix,[1,1,this._helper._pixelPerMeter]),l.L(this._fogMatrix,this._fogMatrix,[0,0,-this.elevation]),this._pixelMatrix3D=l.N(new Float64Array(16),this.clipSpaceToPixelsMatrix,T);const z=this._helper._width%2/2,O=this._helper._height%2/2,W=Math.cos(this.bearingInRadians),Z=Math.sin(-this.bearingInRadians),Q=u-Math.round(u)+W*z+Z*O,ie=f-Math.round(f)+W*O+Z*z,De=new Float64Array(T);if(l.L(De,De,[Q>.5?Q-1:Q,ie>.5?ie-1:ie,0]),this._alignedProjMatrix=De,T=l.an(new Float64Array(16),this._pixelMatrix),!T)throw new Error("failed to invert matrix");this._pixelMatrixInverse=T,this._clearMatrixCaches()}_clearMatrixCaches(){this._posMatrixCache.clear(),this._alignedPosMatrixCache.clear(),this._fogMatrixCacheF32.clear()}maxPitchScaleFactor(){if(!this._pixelMatrixInverse)return 1;const e=this.screenPointToMercatorCoordinate(new l.P(0,0)),n=[e.x*this.worldSize,e.y*this.worldSize,0,1];return l.at(n,n,this._pixelMatrix)[3]/this._helper.cameraToCenterDistance}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){const e=l.ag(1,this.center.lat)*this.worldSize;return ae(this.center,this.elevation,this.pitch,this.bearing,this._helper.cameraToCenterDistance/e).toLngLat()}lngLatToCameraDepth(e,n){const u=l.$.fromLngLat(e),f=[u.x*this.worldSize,u.y*this.worldSize,n,1];return l.at(f,f,this._viewProjMatrix),f[2]/f[3]}getProjectionData(e){const{overscaledTileID:n,aligned:u,applyTerrainMatrix:f}=e,y=this._helper.getMercatorTileCoordinates(n),D=n?this.calculatePosMatrix(n,u,!0):null;let T;return T=n&&n.terrainRttPosMatrix32f&&f?n.terrainRttPosMatrix32f:D||l.b0(),{mainMatrix:T,tileMercatorCoords:y,clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:T}}isLocationOccluded(e){return!1}getPixelScale(){return 1}getCircleRadiusCorrection(){return 1}getPitchedTextCorrection(e,n,u){return 1}transformLightDirection(e){return l.aQ(e)}getRayDirectionFromPixel(e){throw new Error("Not implemented.")}projectTileCoordinates(e,n,u,f){const y=this.calculatePosMatrix(u);let D;f?(D=[e,n,f(e,n),1],l.at(D,D,y)):(D=[e,n,0,1],Os(D,D,y));const T=D[3];return{point:new l.P(D[0]/T,D[1]/T),signedDistanceFromCamera:T,isOccluded:!1}}populateCache(e){for(const n of e)this.calculatePosMatrix(n)}getMatrixForModel(e,n){const u=l.$.fromLngLat(e,n),f=u.meterInMercatorCoordinateUnits(),y=l.b1();return l.L(y,y,[u.x,u.y,u.z]),l.a_(y,y,Math.PI),l.a$(y,y,Math.PI/2),l.M(y,y,[-f,f,f]),y}getProjectionDataForCustomLayer(e=!0){const n=new l.Y(0,0,0,0,0),u=this.getProjectionData({overscaledTileID:n,applyGlobeMatrix:e}),f=ne(n,this.worldSize);l.N(f,this._viewProjMatrix,f),u.tileMercatorCoords=[0,0,1,1];const y=[l.Z,l.Z,this.worldSize/this._helper.pixelsPerMeter],D=l.b2();return l.M(D,f,y),u.fallbackMatrix=D,u.mainMatrix=D,u}getFastPathSimpleProjectionMatrix(e){return this.calculatePosMatrix(e)}}function Ba(){l.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}function ia(m){if(m.useSlerp)if(m.k<1){const e=l.b3(m.startEulerAngles.roll,m.startEulerAngles.pitch,m.startEulerAngles.bearing),n=l.b3(m.endEulerAngles.roll,m.endEulerAngles.pitch,m.endEulerAngles.bearing),u=new Float64Array(4);l.b4(u,e,n,m.k);const f=l.b5(u);m.tr.setRoll(f.roll),m.tr.setPitch(f.pitch),m.tr.setBearing(f.bearing)}else m.tr.setRoll(m.endEulerAngles.roll),m.tr.setPitch(m.endEulerAngles.pitch),m.tr.setBearing(m.endEulerAngles.bearing);else m.tr.setRoll(l.B.number(m.startEulerAngles.roll,m.endEulerAngles.roll,m.k)),m.tr.setPitch(l.B.number(m.startEulerAngles.pitch,m.endEulerAngles.pitch,m.k)),m.tr.setBearing(l.B.number(m.startEulerAngles.bearing,m.endEulerAngles.bearing,m.k))}function uo(m,e,n,u,f){const y=f.padding,D=ni(f.worldSize,n.getNorthWest()),T=ni(f.worldSize,n.getNorthEast()),k=ni(f.worldSize,n.getSouthEast()),z=ni(f.worldSize,n.getSouthWest()),O=l.ab(-u),W=D.rotate(O),Z=T.rotate(O),Q=k.rotate(O),ie=z.rotate(O),De=new l.P(Math.max(W.x,Z.x,ie.x,Q.x),Math.max(W.y,Z.y,ie.y,Q.y)),we=new l.P(Math.min(W.x,Z.x,ie.x,Q.x),Math.min(W.y,Z.y,ie.y,Q.y)),Ce=De.sub(we),ke=(f.width-(y.left+y.right+e.left+e.right))/Ce.x,Le=(f.height-(y.top+y.bottom+e.top+e.bottom))/Ce.y;if(Le<0||ke<0)return void Ba();const Ee=Math.min(l.ah(f.scale*Math.min(ke,Le)),m.maxZoom),Be=l.P.convert(m.offset),$e=new l.P((e.left-e.right)/2,(e.top-e.bottom)/2).rotate(l.ab(u)),Ve=Be.add($e).mult(f.scale/l.ac(Ee));return{center:ma(f.worldSize,D.add(k).div(2).sub(Ve)),zoom:Ee,bearing:u}}class co{get useGlobeControls(){return!1}handlePanInertia(e,n){return{easingOffset:e,easingCenter:n.center}}handleMapControlsRollPitchBearingZoom(e,n){e.bearingDelta&&n.setBearing(n.bearing+e.bearingDelta),e.pitchDelta&&n.setPitch(n.pitch+e.pitchDelta),e.rollDelta&&n.setRoll(n.roll+e.rollDelta),e.zoomDelta&&n.setZoom(n.zoom+e.zoomDelta)}handleMapControlsPan(e,n,u){e.around.distSqr(n.centerPoint)<.01||n.setLocationAtPoint(u,e.around)}cameraForBoxAndBearing(e,n,u,f,y){return uo(e,n,u,f,y)}handleJumpToCenterZoom(e,n){e.zoom!==(n.zoom!==void 0?+n.zoom:e.zoom)&&e.setZoom(+n.zoom),n.center!==void 0&&e.setCenter(l.Q.convert(n.center))}handleEaseTo(e,n){const u=e.zoom,f=e.padding,y={roll:e.roll,pitch:e.pitch,bearing:e.bearing},D={roll:n.roll===void 0?e.roll:n.roll,pitch:n.pitch===void 0?e.pitch:n.pitch,bearing:n.bearing===void 0?e.bearing:n.bearing},T=n.zoom!==void 0,k=!e.isPaddingEqual(n.padding);let z=!1;const O=T?+n.zoom:e.zoom;let W=e.centerPoint.add(n.offsetAsPoint);const Z=e.screenPointToLocation(W),{center:Q,zoom:ie}=e.getConstrained(l.Q.convert(n.center||Z),O??u);Sa(e,Q);const De=ni(e.worldSize,Z),we=ni(e.worldSize,Q).sub(De),Ce=l.ac(ie-u);return z=ie!==u,{easeFunc:ke=>{if(z&&e.setZoom(l.B.number(u,ie,ke)),l.b6(y,D)||ia({startEulerAngles:y,endEulerAngles:D,tr:e,k:ke,useSlerp:y.roll!=D.roll}),k&&(e.interpolatePadding(f,n.padding,ke),W=e.centerPoint.add(n.offsetAsPoint)),n.around)e.setLocationAtPoint(n.around,n.aroundPoint);else{const Le=l.ac(e.zoom-u),Ee=ie>u?Math.min(2,Ce):Math.max(.5,Ce),Be=Math.pow(Ee,1-ke),$e=ma(e.worldSize,De.add(we.mult(ke*Be)).mult(Le));e.setLocationAtPoint(e.renderWorldCopies?$e.wrap():$e,W)}},isZooming:z,elevationCenter:Q}}handleFlyTo(e,n){const u=n.zoom!==void 0,f=e.zoom,y=e.getConstrained(l.Q.convert(n.center||n.locationAtOffset),u?+n.zoom:f),D=y.center,T=y.zoom;Sa(e,D);const k=ni(e.worldSize,n.locationAtOffset),z=ni(e.worldSize,D).sub(k),O=z.mag(),W=l.ac(T-f);let Z;if(n.minZoom!==void 0){const Q=Math.min(+n.minZoom,f,T),ie=e.getConstrained(D,Q).zoom;Z=l.ac(ie-f)}return{easeFunc:(Q,ie,De,we)=>{e.setZoom(Q===1?T:f+l.ah(ie));const Ce=Q===1?D:ma(e.worldSize,k.add(z.mult(De)).mult(ie));e.setLocationAtPoint(e.renderWorldCopies?Ce.wrap():Ce,we)},scaleOfZoom:W,targetCenter:D,scaleOfMinZoom:Z,pixelPathLength:O}}}class Rr{constructor(e,n,u){this.blendFunction=e,this.blendColor=n,this.mask=u}}Rr.Replace=[1,0],Rr.disabled=new Rr(Rr.Replace,l.b7.transparent,[!1,!1,!1,!1]),Rr.unblended=new Rr(Rr.Replace,l.b7.transparent,[!0,!0,!0,!0]),Rr.alphaBlended=new Rr([1,771],l.b7.transparent,[!0,!0,!0,!0]);const ui=2305;class Un{constructor(e,n,u){this.enable=e,this.mode=n,this.frontFace=u}}Un.disabled=new Un(!1,1029,ui),Un.backCCW=new Un(!0,1029,ui),Un.frontCCW=new Un(!0,1028,ui);class vn{constructor(e,n,u){this.func=e,this.mask=n,this.range=u}}vn.ReadOnly=!1,vn.ReadWrite=!0,vn.disabled=new vn(519,vn.ReadOnly,[0,1]);const Ar=7680;class Yn{constructor(e,n,u,f,y,D){this.test=e,this.ref=n,this.mask=u,this.fail=f,this.depthFail=y,this.pass=D}}Yn.disabled=new Yn({func:519,mask:0},0,0,Ar,Ar,Ar);const ho=new WeakMap;function aa(m){var e;if(ho.has(m))return ho.get(m);{const n=(e=m.getParameter(m.VERSION))===null||e===void 0?void 0:e.startsWith("WebGL 2.0");return ho.set(m,n),n}}class ll{get awaitingQuery(){return!!this._readbackQueue}constructor(e){this._readbackWaitFrames=4,this._measureWaitFrames=6,this._texWidth=1,this._texHeight=1,this._measuredError=0,this._updateCount=0,this._lastReadbackFrame=-1e3,this._readbackQueue=null,this._cachedRenderContext=e;const n=e.context,u=n.gl;this._texFormat=u.RGBA,this._texType=u.UNSIGNED_BYTE;const f=new l.aI;f.emplaceBack(-1,-1),f.emplaceBack(2,-1),f.emplaceBack(-1,2);const y=new l.aK;y.emplaceBack(0,1,2),this._fullscreenTriangle=new Br(n.createVertexBuffer(f,gi.members),n.createIndexBuffer(y),l.aJ.simpleSegment(0,0,f.length,y.length)),this._resultBuffer=new Uint8Array(4),n.activeTexture.set(u.TEXTURE1);const D=u.createTexture();u.bindTexture(u.TEXTURE_2D,D),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,u.NEAREST),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,u.NEAREST),u.texImage2D(u.TEXTURE_2D,0,this._texFormat,this._texWidth,this._texHeight,0,this._texFormat,this._texType,null),this._fbo=n.createFramebuffer(this._texWidth,this._texHeight,!1,!1),this._fbo.colorAttachment.set(D),aa(u)&&(this._pbo=u.createBuffer(),u.bindBuffer(u.PIXEL_PACK_BUFFER,this._pbo),u.bufferData(u.PIXEL_PACK_BUFFER,4,u.STREAM_READ),u.bindBuffer(u.PIXEL_PACK_BUFFER,null))}destroy(){const e=this._cachedRenderContext.context.gl;this._fullscreenTriangle.destroy(),this._fbo.destroy(),e.deleteBuffer(this._pbo),this._fullscreenTriangle=null,this._fbo=null,this._pbo=null,this._resultBuffer=null}updateErrorLoop(e,n){const u=this._updateCount;return this._readbackQueue?u>=this._readbackQueue.frameNumberIssued+this._readbackWaitFrames&&this._tryReadback():u>=this._lastReadbackFrame+this._measureWaitFrames&&this._renderErrorTexture(e,n),this._updateCount++,this._measuredError}_bindFramebuffer(){const e=this._cachedRenderContext.context,n=e.gl;e.activeTexture.set(n.TEXTURE1),n.bindTexture(n.TEXTURE_2D,this._fbo.colorAttachment.get()),e.bindFramebuffer.set(this._fbo.framebuffer)}_renderErrorTexture(e,n){const u=this._cachedRenderContext.context,f=u.gl;if(this._bindFramebuffer(),u.viewport.set([0,0,this._texWidth,this._texHeight]),u.clear({color:l.b7.transparent}),this._cachedRenderContext.useProgram("projectionErrorMeasurement").draw(u,f.TRIANGLES,vn.disabled,Yn.disabled,Rr.unblended,Un.disabled,((y,D)=>({u_input:y,u_output_expected:D}))(e,n),null,null,"$clipping",this._fullscreenTriangle.vertexBuffer,this._fullscreenTriangle.indexBuffer,this._fullscreenTriangle.segments),this._pbo&&aa(f)){f.bindBuffer(f.PIXEL_PACK_BUFFER,this._pbo),f.readBuffer(f.COLOR_ATTACHMENT0),f.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,0),f.bindBuffer(f.PIXEL_PACK_BUFFER,null);const y=f.fenceSync(f.SYNC_GPU_COMMANDS_COMPLETE,0);f.flush(),this._readbackQueue={frameNumberIssued:this._updateCount,sync:y}}else this._readbackQueue={frameNumberIssued:this._updateCount,sync:null}}_tryReadback(){const e=this._cachedRenderContext.context.gl;if(this._pbo&&this._readbackQueue&&aa(e)){const n=e.clientWaitSync(this._readbackQueue.sync,0,0);if(n===e.WAIT_FAILED)return l.w("WebGL2 clientWaitSync failed."),this._readbackQueue=null,void(this._lastReadbackFrame=this._updateCount);if(n===e.TIMEOUT_EXPIRED)return;e.bindBuffer(e.PIXEL_PACK_BUFFER,this._pbo),e.getBufferSubData(e.PIXEL_PACK_BUFFER,0,this._resultBuffer,0,4),e.bindBuffer(e.PIXEL_PACK_BUFFER,null)}else this._bindFramebuffer(),e.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,this._resultBuffer);this._readbackQueue=null,this._measuredError=ll._parseRGBA8float(this._resultBuffer),this._lastReadbackFrame=this._updateCount}static _parseRGBA8float(e){let n=0;return n+=e[0]/256,n+=e[1]/65536,n+=e[2]/16777216,e[3]<127&&(n=-n),n/128}}const w0=l.Z/128;function $s(m,e){const n=m.granularity!==void 0?Math.max(m.granularity,1):1,u=n+(m.generateBorders?2:0),f=n+(m.extendToNorthPole||m.generateBorders?1:0)+(m.extendToSouthPole||m.generateBorders?1:0),y=u+1,D=f+1,T=m.generateBorders?-1:0,k=m.generateBorders||m.extendToNorthPole?-1:0,z=n+(m.generateBorders?1:0),O=n+(m.generateBorders||m.extendToSouthPole?1:0),W=y*D,Z=u*f*6,Q=y*D>65536;if(Q&&e==="16bit")throw new Error("Granularity is too large and meshes would not fit inside 16 bit vertex indices.");const ie=Q||e==="32bit",De=new Int16Array(2*W);let we=0;for(let Le=k;Le<=O;Le++)for(let Ee=T;Ee<=z;Ee++){let Be=Ee/n*l.Z;Ee===-1&&(Be=-64),Ee===n+1&&(Be=l.Z+w0);let $e=Le/n*l.Z;Le===-1&&($e=m.extendToNorthPole?l.b9:-64),Le===n+1&&($e=m.extendToSouthPole?l.ba:l.Z+w0),De[we++]=Be,De[we++]=$e}const Ce=ie?new Uint32Array(Z):new Uint16Array(Z);let ke=0;for(let Le=0;Le<f;Le++)for(let Ee=0;Ee<u;Ee++){const Be=Ee+1+Le*y,$e=Ee+(Le+1)*y,Ve=Ee+1+(Le+1)*y;Ce[ke++]=Ee+Le*y,Ce[ke++]=$e,Ce[ke++]=Be,Ce[ke++]=Be,Ce[ke++]=$e,Ce[ke++]=Ve}return{vertices:De.buffer.slice(0),indices:Ce.buffer.slice(0),uses32bitIndices:ie}}const Ds=new l.aH({fill:new l.bb(128,2),line:new l.bb(512,0),tile:new l.bb(128,32),stencil:new l.bb(128,1),circle:3});class a0{constructor(){this._tileMeshCache={},this._errorCorrectionUsable=0,this._errorMeasurementLastValue=0,this._errorCorrectionPreviousValue=0,this._errorMeasurementLastChangeTime=-1e3}get name(){return"vertical-perspective"}get transitionState(){return 1}get useSubdivision(){return!0}get shaderVariantName(){return"globe"}get shaderDefine(){return"#define GLOBE"}get shaderPreludeCode(){return Mn.projectionGlobe}get vertexShaderPreludeCode(){return Mn.projectionMercator.vertexSource}get subdivisionGranularity(){return Ds}get useGlobeControls(){return!0}get latitudeErrorCorrectionRadians(){return this._errorCorrectionUsable}destroy(){this._errorMeasurement&&this._errorMeasurement.destroy()}updateGPUdependent(e){this._errorMeasurement||(this._errorMeasurement=new ll(e));const n=l.S(this._errorQueryLatitudeDegrees),u=2*Math.atan(Math.exp(Math.PI-n*Math.PI*2))-.5*Math.PI,f=this._errorMeasurement.updateErrorLoop(n,u),y=ce.now();f!==this._errorMeasurementLastValue&&(this._errorCorrectionPreviousValue=this._errorCorrectionUsable,this._errorMeasurementLastValue=f,this._errorMeasurementLastChangeTime=y);const D=Math.min(Math.max((y-this._errorMeasurementLastChangeTime)/1e3/.5,0),1);this._errorCorrectionUsable=l.bc(this._errorCorrectionPreviousValue,-this._errorMeasurementLastValue,l.bd(D))}_getMeshKey(e){return`${e.granularity.toString(36)}_${e.generateBorders?"b":""}${e.extendToNorthPole?"n":""}${e.extendToSouthPole?"s":""}`}getMeshFromTileID(e,n,u,f,y){const D=(y==="stencil"?Ds.stencil:Ds.tile).getGranularityForZoomLevel(n.z);return this._getMesh(e,{granularity:D,generateBorders:u,extendToNorthPole:n.y===0&&f,extendToSouthPole:n.y===(1<<n.z)-1&&f})}_getMesh(e,n){const u=this._getMeshKey(n);if(u in this._tileMeshCache)return this._tileMeshCache[u];const f=function(y,D){const T=$s(D,"16bit"),k=l.aI.deserialize({arrayBuffer:T.vertices,length:T.vertices.byteLength/2/2}),z=l.aK.deserialize({arrayBuffer:T.indices,length:T.indices.byteLength/2/3});return new Br(y.createVertexBuffer(k,gi.members),y.createIndexBuffer(z),l.aJ.simpleSegment(0,0,k.length,z.length))}(e,n);return this._tileMeshCache[u]=f,f}recalculate(e){}hasTransition(){const e=ce.now();let n=!1;return n=n||(e-this._errorMeasurementLastChangeTime)/1e3<.7,n=n||this._errorMeasurement&&this._errorMeasurement.awaitingQuery,n}setErrorQueryLatitudeDegrees(e){this._errorQueryLatitudeDegrees=e}}const ci=new l.r({type:new l.D(l.v.projection.type)});class ul extends l.E{constructor(e){super(),this._transitionable=new l.T(ci),this.setProjection(e),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new l.C(0)),this._mercatorProjection=new lo,this._verticalPerspectiveProjection=new a0}get transitionState(){const e=this.properties.get("type");if(typeof e=="string"&&e==="mercator")return 0;if(typeof e=="string"&&e==="vertical-perspective")return 1;if(e instanceof l.be){if(e.from==="vertical-perspective"&&e.to==="mercator")return 1-e.transition;if(e.from==="mercator"&&e.to==="vertical-perspective")return e.transition}return 1}get useGlobeRendering(){return this.transitionState>0}get latitudeErrorCorrectionRadians(){return this._verticalPerspectiveProjection.latitudeErrorCorrectionRadians}get currentProjection(){return this.useGlobeRendering?this._verticalPerspectiveProjection:this._mercatorProjection}get name(){return"globe"}get useSubdivision(){return this.currentProjection.useSubdivision}get shaderVariantName(){return this.currentProjection.shaderVariantName}get shaderDefine(){return this.currentProjection.shaderDefine}get shaderPreludeCode(){return this.currentProjection.shaderPreludeCode}get vertexShaderPreludeCode(){return this.currentProjection.vertexShaderPreludeCode}get subdivisionGranularity(){return this.currentProjection.subdivisionGranularity}get useGlobeControls(){return this.transitionState>0}destroy(){this._mercatorProjection.destroy(),this._verticalPerspectiveProjection.destroy()}updateGPUdependent(e){this._mercatorProjection.updateGPUdependent(e),this._verticalPerspectiveProjection.updateGPUdependent(e)}getMeshFromTileID(e,n,u,f,y){return this.currentProjection.getMeshFromTileID(e,n,u,f,y)}setProjection(e){this._transitionable.setValue("type",(e==null?void 0:e.type)||"mercator")}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()||this.currentProjection.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}setErrorQueryLatitudeDegrees(e){this._verticalPerspectiveProjection.setErrorQueryLatitudeDegrees(e),this._mercatorProjection.setErrorQueryLatitudeDegrees(e)}}function po(m){const e=Bi(m.worldSize,m.center.lat);return 2*Math.PI*e}function cl(m,e,n,u,f){const y=1/(1<<f),D=e/l.Z*y+u*y,T=l.bg((m/l.Z*y+n*y)*Math.PI*2+Math.PI,2*Math.PI),k=2*Math.atan(Math.exp(Math.PI-D*Math.PI*2))-.5*Math.PI,z=Math.cos(k),O=new Float64Array(3);return O[0]=Math.sin(T)*z,O[1]=Math.sin(k),O[2]=Math.cos(T)*z,O}function mi(m){return function(e,n){const u=Math.cos(n),f=new Float64Array(3);return f[0]=Math.sin(e)*u,f[1]=Math.sin(n),f[2]=Math.cos(e)*u,f}(m.lng*Math.PI/180,m.lat*Math.PI/180)}function Bi(m,e){return m/(2*Math.PI)/Math.cos(e*Math.PI/180)}function js(m){const e=Math.asin(m[1])/Math.PI*180,n=Math.sqrt(m[0]*m[0]+m[2]*m[2]);if(n>1e-6){const u=m[0]/n,f=Math.acos(m[2]/n),y=(u>0?f:-f)/Math.PI*180;return new l.Q(l.aL(y,-180,180),e)}return new l.Q(0,e)}function Pi(m){return Math.cos(m*Math.PI/180)}function Ai(m,e){const n=Pi(m),u=Pi(e);return l.ah(u/n)}function Cs(m,e){const n=m.rotate(e.bearingInRadians),u=e.zoom+Ai(e.center.lat,0),f=l.bc(1/Pi(e.center.lat),1/Pi(Math.min(Math.abs(e.center.lat),60)),l.bf(u,7,3,0,1)),y=360/po({worldSize:e.worldSize,center:{lat:e.center.lat}});return new l.Q(e.center.lng-n.x*y*f,l.ae(e.center.lat+n.y*y,-85.051129,l.af))}function hl(m){const e=.5*m,n=Math.sin(e),u=Math.cos(e);return Math.log(n+u)-Math.log(u-n)}function X0(m,e,n,u){const f=m.lat+n*u;if(Math.abs(n)>1){const y=(Math.sign(m.lat+n)!==Math.sign(m.lat)?-Math.abs(m.lat):Math.abs(m.lat))*Math.PI/180,D=Math.abs(m.lat+n)*Math.PI/180,T=hl(y+u*(D-y)),k=hl(y),z=hl(D);return new l.Q(m.lng+e*((T-k)/(z-k)),f)}return new l.Q(m.lng+e*u,f)}class _a{constructor(e){this._cachePrevious=new Map,this._cache=new Map,this._hadAnyChanges=!1,this._aabbFactory=e}recalculateCache(){if(!this._hadAnyChanges)return;const e=this._cachePrevious;this._cachePrevious=this._cache,this._cache=e,this._cache.clear(),this._hadAnyChanges=!1}getTileAABB(e,n,u,f){const y=`${e.z}_${e.x}_${e.y}`,D=this._cache.get(y);if(D)return D;const T=this._cachePrevious.get(y);if(T)return this._cache.set(y,T),T;const k=this._aabbFactory(e,n,u,f);return this._cache.set(y,k),this._hadAnyChanges=!0,k}}function Oi(m,e,n){const u=m-e;return u<0?-u:Math.max(0,u-n)}function Ei(m,e,n,u,f){const y=m-n;let D;return D=y<0?Math.min(-y,1+y-f):y>1?Math.min(Math.max(y-f,0),1-y):0,Math.max(D,Oi(e,u,f))}class fo{constructor(){this._aabbCache=new _a(this._computeTileAABB)}recalculateCache(){this._aabbCache.recalculateCache()}distanceToTile2d(e,n,u,f){const y=1<<u.z,D=1/y,T=u.x/y,k=u.y/y;let z=2;return z=Math.min(z,Ei(e,n,T,k,D)),z=Math.min(z,Ei(e,n,T+.5,-k-D,D)),z=Math.min(z,Ei(e,n,T+.5,2-k-D,D)),z}getWrap(e,n,u){const f=1<<n.z,y=1/f,D=n.x/f,T=Oi(e.x,D,y),k=Oi(e.x,D-1,y),z=Oi(e.x,D+1,y),O=Math.min(T,k,z);return O===z?1:O===k?-1:0}allowVariableZoom(e,n){return Je(e,n)>4}allowWorldCopies(){return!1}getTileAABB(e,n,u,f){return this._aabbCache.getTileAABB(e,n,u,f)}_computeTileAABB(e,n,u,f){if(e.z<=0)return new Ur([-1,-1,-1],[1,1,1]);if(e.z===1)return new Ur([e.x===0?-1:0,e.y===0?0:-1,-1],[e.x===0?0:1,e.y===0?1:0,1]);{const y=[cl(0,0,e.x,e.y,e.z),cl(l.Z,0,e.x,e.y,e.z),cl(l.Z,l.Z,e.x,e.y,e.z),cl(0,l.Z,e.x,e.y,e.z)],D=[1,1,1],T=[-1,-1,-1];for(const k of y)for(let z=0;z<3;z++)D[z]=Math.min(D[z],k[z]),T[z]=Math.max(T[z],k[z]);if(e.y===0||e.y===(1<<e.z)-1){const k=[0,e.y===0?1:-1,0];for(let z=0;z<3;z++)D[z]=Math.min(D[z],k[z]),T[z]=Math.max(T[z],k[z])}return new Ur(D,T)}}}class Vs{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(e){this._helper.setMinZoom(e)}setMaxZoom(e){this._helper.setMaxZoom(e)}setMinPitch(e){this._helper.setMinPitch(e)}setMaxPitch(e){this._helper.setMaxPitch(e)}setRenderWorldCopies(e){this._helper.setRenderWorldCopies(e)}setBearing(e){this._helper.setBearing(e)}setPitch(e){this._helper.setPitch(e)}setRoll(e){this._helper.setRoll(e)}setFov(e){this._helper.setFov(e)}setZoom(e){this._helper.setZoom(e)}setCenter(e){this._helper.setCenter(e)}setElevation(e){this._helper.setElevation(e)}setMinElevationForCurrentTile(e){this._helper.setMinElevationForCurrentTile(e)}setPadding(e){this._helper.setPadding(e)}interpolatePadding(e,n,u){return this._helper.interpolatePadding(e,n,u)}isPaddingEqual(e){return this._helper.isPaddingEqual(e)}resize(e,n){this._helper.resize(e,n)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(e){this._helper.setMaxBounds(e)}overrideNearFarZ(e,n){this._helper.overrideNearFarZ(e,n)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(e){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),e)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(e){}constructor(){this._cachedClippingPlane=l.bk(),this._projectionMatrix=l.b1(),this._globeViewProjMatrix32f=l.b0(),this._globeViewProjMatrixNoCorrection=l.b1(),this._globeViewProjMatrixNoCorrectionInverted=l.b1(),this._globeProjMatrixInverted=l.b1(),this._cameraPosition=l.bh(),this._globeLatitudeErrorCorrectionRadians=0,this._helper=new li({calcMatrices:()=>{this._calcMatrices()},getConstrained:(e,n)=>this.getConstrained(e,n)}),this._coveringTilesDetailsProvider=new fo}clone(){const e=new Vs;return e.apply(this),e}apply(e,n){this._globeLatitudeErrorCorrectionRadians=n||0,this._helper.apply(e)}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._globeViewProjMatrixNoCorrection}get inverseProjectionMatrix(){return this._globeProjMatrixInverted}get cameraPosition(){const e=l.bh();return e[0]=this._cameraPosition[0],e[1]=this._cameraPosition[1],e[2]=this._cameraPosition[2],e}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}getProjectionData(e){const{overscaledTileID:n,applyGlobeMatrix:u}=e,f=this._helper.getMercatorTileCoordinates(n);return{mainMatrix:this._globeViewProjMatrix32f,tileMercatorCoords:f,clippingPlane:this._cachedClippingPlane,projectionTransition:u?1:0,fallbackMatrix:this._globeViewProjMatrix32f}}_computeClippingPlane(e){const n=this.pitchInRadians,u=this.cameraToCenterDistance/e,f=Math.sin(n)*u,y=Math.cos(n)*u+1,D=1/Math.sqrt(f*f+y*y)*1;let T=-f,k=y;const z=Math.sqrt(T*T+k*k);T/=z,k/=z;const O=[0,T,k];l.bl(O,O,[0,0,0],-this.bearingInRadians),l.bm(O,O,[0,0,0],-1*this.center.lat*Math.PI/180),l.bn(O,O,[0,0,0],this.center.lng*Math.PI/180);const W=1/l.bo(O);return l.aO(O,O,W),[...O,-D*W]}isLocationOccluded(e){return!this.isSurfacePointVisible(mi(e))}transformLightDirection(e){const n=this._helper._center.lng*Math.PI/180,u=this._helper._center.lat*Math.PI/180,f=Math.cos(u),y=[Math.sin(n)*f,Math.sin(u),Math.cos(n)*f],D=[y[2],0,-y[0]],T=[0,0,0];l.aU(T,D,y),l.aT(D,D),l.aT(T,T);const k=[0,0,0];return l.aT(k,[D[0]*e[0]+T[0]*e[1]+y[0]*e[2],D[1]*e[0]+T[1]*e[1]+y[1]*e[2],D[2]*e[0]+T[2]*e[1]+y[2]*e[2]]),k}getPixelScale(){return 1/Math.cos(this._helper._center.lat*Math.PI/180)}getCircleRadiusCorrection(){return Math.cos(this._helper._center.lat*Math.PI/180)}getPitchedTextCorrection(e,n,u){const f=function(T,k,z){const O=1/(1<<z.z);return new l.$(T/l.Z*O+z.x*O,k/l.Z*O+z.y*O)}(e,n,u.canonical),y=(D=f.y,[l.bg(f.x*Math.PI*2+Math.PI,2*Math.PI),2*Math.atan(Math.exp(Math.PI-D*Math.PI*2))-.5*Math.PI]);var D;return this.getCircleRadiusCorrection()/Math.cos(y[1])}projectTileCoordinates(e,n,u,f){const y=u.canonical,D=cl(e,n,y.x,y.y,y.z),T=1+(f?f(e,n):0)/l.bu,k=[D[0]*T,D[1]*T,D[2]*T,1];l.at(k,k,this._globeViewProjMatrixNoCorrection);const z=this._cachedClippingPlane,O=z[0]*D[0]+z[1]*D[1]+z[2]*D[2]+z[3]<0;return{point:new l.P(k[0]/k[3],k[1]/k[3]),signedDistanceFromCamera:k[3],isOccluded:O}}_calcMatrices(){if(!this._helper._width||!this._helper._height)return;const e=Bi(this.worldSize,this.center.lat),n=l.b2(),u=l.b2();this._helper.autoCalculateNearFarZ&&(this._helper._nearZ=.5,this._helper._farZ=this.cameraToCenterDistance+2*e),l.aY(n,this.fovInRadians,this.width/this.height,this._helper._nearZ,this._helper._farZ);const f=this.centerOffset;n[8]=2*-f.x/this._helper._width,n[9]=2*f.y/this._helper._height,this._projectionMatrix=l.aZ(n),this._globeProjMatrixInverted=l.b2(),l.an(this._globeProjMatrixInverted,n),l.L(n,n,[0,0,-this.cameraToCenterDistance]),l.a_(n,n,this.rollInRadians),l.a$(n,n,-this.pitchInRadians),l.a_(n,n,this.bearingInRadians),l.L(n,n,[0,0,-e]);const y=l.bh();y[0]=e,y[1]=e,y[2]=e,l.a$(u,n,this.center.lat*Math.PI/180),l.bp(u,u,-this.center.lng*Math.PI/180),l.M(u,u,y),this._globeViewProjMatrixNoCorrection=u,l.a$(n,n,this.center.lat*Math.PI/180-this._globeLatitudeErrorCorrectionRadians),l.bp(n,n,-this.center.lng*Math.PI/180),l.M(n,n,y),this._globeViewProjMatrix32f=new Float32Array(n),this._globeViewProjMatrixNoCorrectionInverted=l.b2(),l.an(this._globeViewProjMatrixNoCorrectionInverted,u);const D=l.bh();this._cameraPosition=l.bh(),this._cameraPosition[2]=this.cameraToCenterDistance/e,l.bl(this._cameraPosition,this._cameraPosition,D,-this.rollInRadians),l.bm(this._cameraPosition,this._cameraPosition,D,this.pitchInRadians),l.bl(this._cameraPosition,this._cameraPosition,D,-this.bearingInRadians),l.aP(this._cameraPosition,this._cameraPosition,[0,0,1]),l.bm(this._cameraPosition,this._cameraPosition,D,-this.center.lat*Math.PI/180),l.bn(this._cameraPosition,this._cameraPosition,D,this.center.lng*Math.PI/180),this._cachedClippingPlane=this._computeClippingPlane(e);const T=l.aZ(this._globeViewProjMatrixNoCorrectionInverted);l.M(T,T,[1,1,-1]),this._cachedFrustum=zr.fromInvProjectionMatrix(T)}calculateFogMatrix(e){l.w("calculateFogMatrix is not supported on globe projection.");const n=l.b2();return l.ad(n),n}getVisibleUnwrappedCoordinates(e){return[new l.aW(0,e)]}getCameraFrustum(){return this._cachedFrustum}getClippingPlane(){return this._cachedClippingPlane}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(e){e&&l.w("terrain is not fully supported on vertical perspective projection."),this._helper.recalculateZoomAndCenter(0)}maxPitchScaleFactor(){return 1}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(e,n){if(!this._globeViewProjMatrixNoCorrection)return 1;const u=mi(e);l.aO(u,u,1+n/l.bu);const f=l.bk();return l.at(f,[u[0],u[1],u[2],1],this._globeViewProjMatrixNoCorrection),f[2]/f[3]}populateCache(e){}getBounds(){const e=.5*this.width,n=.5*this.height,u=[new l.P(0,0),new l.P(e,0),new l.P(this.width,0),new l.P(this.width,n),new l.P(this.width,this.height),new l.P(e,this.height),new l.P(0,this.height),new l.P(0,n)],f=[];for(const W of u)f.push(this.unprojectScreenPoint(W));let y=0,D=0,T=0,k=0;const z=this.center;for(const W of f){const Z=l.bq(z.lng,W.lng),Q=l.bq(z.lat,W.lat);Z<D&&(D=Z),Z>y&&(y=Z),Q<k&&(k=Q),Q>T&&(T=Q)}const O=[z.lng+D,z.lat+k,z.lng+y,z.lat+T];return this.isSurfacePointOnScreen([0,1,0])&&(O[3]=90,O[0]=-180,O[2]=180),this.isSurfacePointOnScreen([0,-1,0])&&(O[1]=-90,O[0]=-180,O[2]=180),new yn(O)}getConstrained(e,n){const u=l.ae(e.lat,-85.051129,l.af),f=l.ae(+n,this.minZoom+Ai(0,u),this.maxZoom);return{center:new l.Q(e.lng,u),zoom:f}}calculateCenterFromCameraLngLatAlt(e,n,u,f){return this._helper.calculateCenterFromCameraLngLatAlt(e,n,u,f)}setLocationAtPoint(e,n){const u=mi(this.unprojectScreenPoint(n)),f=mi(e),y=l.bh();l.br(y);const D=l.bh();l.bn(D,u,y,-this.center.lng*Math.PI/180),l.bm(D,D,y,this.center.lat*Math.PI/180);const T=f[0]*f[0]+f[2]*f[2],k=D[0]*D[0];if(T<k)return;const z=Math.sqrt(T-k),O=-z,W=l.bs(f[0],f[2],D[0],z),Z=l.bs(f[0],f[2],D[0],O),Q=l.bh();l.bn(Q,f,y,-W);const ie=l.bs(Q[1],Q[2],D[1],D[2]),De=l.bh();l.bn(De,f,y,-Z);const we=l.bs(De[1],De[2],D[1],D[2]),Ce=.5*Math.PI,ke=ie>=-Ce&&ie<=Ce,Le=we>=-Ce&&we<=Ce;let Ee,Be;if(ke&&Le){const At=this.center.lng*Math.PI/180,nt=this.center.lat*Math.PI/180;l.bv(W,At)+l.bv(ie,nt)<l.bv(Z,At)+l.bv(we,nt)?(Ee=W,Be=ie):(Ee=Z,Be=we)}else if(ke)Ee=W,Be=ie;else{if(!Le)return;Ee=Z,Be=we}const $e=Ee/Math.PI*180,Ve=Be/Math.PI*180,lt=this.center.lat;this.setCenter(new l.Q($e,l.ae(Ve,-90,90))),this.setZoom(this.zoom+Ai(lt,this.center.lat))}locationToScreenPoint(e,n){const u=mi(e);if(n){const f=n.getElevationForLngLatZoom(e,this._helper._tileZoom);l.aO(u,u,1+f/l.bu)}return this._projectSurfacePointToScreen(u)}_projectSurfacePointToScreen(e){const n=l.bk();return l.at(n,[...e,1],this._globeViewProjMatrixNoCorrection),n[0]/=n[3],n[1]/=n[3],new l.P((.5*n[0]+.5)*this.width,(.5*-n[1]+.5)*this.height)}screenPointToMercatorCoordinate(e,n){if(n){const u=n.pointCoordinate(e);if(u)return u}return l.$.fromLngLat(this.unprojectScreenPoint(e))}screenPointToLocation(e,n){var u;return(u=this.screenPointToMercatorCoordinate(e,n))===null||u===void 0?void 0:u.toLngLat()}isPointOnMapSurface(e,n){const u=this._cameraPosition,f=this.getRayDirectionFromPixel(e);return!!this.rayPlanetIntersection(u,f)}getRayDirectionFromPixel(e){const n=l.bk();n[0]=e.x/this.width*2-1,n[1]=-1*(e.y/this.height*2-1),n[2]=1,n[3]=1,l.at(n,n,this._globeViewProjMatrixNoCorrectionInverted),n[0]/=n[3],n[1]/=n[3],n[2]/=n[3];const u=l.bh();u[0]=n[0]-this._cameraPosition[0],u[1]=n[1]-this._cameraPosition[1],u[2]=n[2]-this._cameraPosition[2];const f=l.bh();return l.aT(f,u),f}isSurfacePointVisible(e){const n=this._cachedClippingPlane;return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]+n[3]>=0}isSurfacePointOnScreen(e){if(!this.isSurfacePointVisible(e))return!1;const n=l.bk();return l.at(n,[...e,1],this._globeViewProjMatrixNoCorrection),n[0]/=n[3],n[1]/=n[3],n[2]/=n[3],n[0]>-1&&n[0]<1&&n[1]>-1&&n[1]<1&&n[2]>-1&&n[2]<1}rayPlanetIntersection(e,n){const u=l.aV(e,n),f=l.bh(),y=l.bh();l.aO(y,n,u),l.aS(f,e,y);const D=1-l.aV(f,f);if(D<0)return null;const T=l.aV(e,e)-1,k=-u+(u<0?1:-1)*Math.sqrt(D),z=T/k,O=k;return{tMin:Math.min(z,O),tMax:Math.max(z,O)}}unprojectScreenPoint(e){const n=this._cameraPosition,u=this.getRayDirectionFromPixel(e),f=this.rayPlanetIntersection(n,u);if(f){const O=l.bh();l.aP(O,n,[u[0]*f.tMin,u[1]*f.tMin,u[2]*f.tMin]);const W=l.bh();return l.aT(W,O),js(W)}const y=this._cachedClippingPlane,D=y[0]*u[0]+y[1]*u[1]+y[2]*u[2],T=-l.bt(y,n)/D,k=l.bh();if(T>0)l.aP(k,n,[u[0]*T,u[1]*T,u[2]*T]);else{const O=l.bh();l.aP(O,n,[2*u[0],2*u[1],2*u[2]]);const W=l.bt(this._cachedClippingPlane,O);l.aS(k,O,[this._cachedClippingPlane[0]*W,this._cachedClippingPlane[1]*W,this._cachedClippingPlane[2]*W])}const z=function(O){const W=l.bh();return W[0]=O[0]*-O[3],W[1]=O[1]*-O[3],W[2]=O[2]*-O[3],{center:W,radius:Math.sqrt(1-O[3]*O[3])}}(y);return js(function(O,W,Z){const Q=l.bh();l.aS(Q,Z,O);const ie=l.bh();return l.bi(ie,O,Q,W/l.bj(Q)),ie}(z.center,z.radius,k))}getMatrixForModel(e,n){const u=l.Q.convert(e),f=1/l.bu,y=l.b1();return l.bp(y,y,u.lng/180*Math.PI),l.a$(y,y,-u.lat/180*Math.PI),l.L(y,y,[0,0,1+n/l.bu]),l.a$(y,y,.5*Math.PI),l.M(y,y,[f,f,f]),y}getProjectionDataForCustomLayer(e=!0){const n=this.getProjectionData({overscaledTileID:new l.Y(0,0,0,0,0),applyGlobeMatrix:e});return n.tileMercatorCoords=[0,0,1,1],n}getFastPathSimpleProjectionMatrix(e){}}class ko{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(e){this._helper.setMinZoom(e)}setMaxZoom(e){this._helper.setMaxZoom(e)}setMinPitch(e){this._helper.setMinPitch(e)}setMaxPitch(e){this._helper.setMaxPitch(e)}setRenderWorldCopies(e){this._helper.setRenderWorldCopies(e)}setBearing(e){this._helper.setBearing(e)}setPitch(e){this._helper.setPitch(e)}setRoll(e){this._helper.setRoll(e)}setFov(e){this._helper.setFov(e)}setZoom(e){this._helper.setZoom(e)}setCenter(e){this._helper.setCenter(e)}setElevation(e){this._helper.setElevation(e)}setMinElevationForCurrentTile(e){this._helper.setMinElevationForCurrentTile(e)}setPadding(e){this._helper.setPadding(e)}interpolatePadding(e,n,u){return this._helper.interpolatePadding(e,n,u)}isPaddingEqual(e){return this._helper.isPaddingEqual(e)}resize(e,n,u=!0){this._helper.resize(e,n,u)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(e){this._helper.setMaxBounds(e)}overrideNearFarZ(e,n){this._helper.overrideNearFarZ(e,n)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(e){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),e)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}get isGlobeRendering(){return this._globeness>0}setTransitionState(e,n){this._globeness=e,this._globeLatitudeErrorCorrectionRadians=n,this._calcMatrices(),this._verticalPerspectiveTransform.getCoveringTilesDetailsProvider().recalculateCache(),this._mercatorTransform.getCoveringTilesDetailsProvider().recalculateCache()}get currentTransform(){return this.isGlobeRendering?this._verticalPerspectiveTransform:this._mercatorTransform}constructor(){this._globeLatitudeErrorCorrectionRadians=0,this._globeness=1,this._helper=new li({calcMatrices:()=>{this._calcMatrices()},getConstrained:(e,n)=>this.getConstrained(e,n)}),this._globeness=1,this._mercatorTransform=new b0,this._verticalPerspectiveTransform=new Vs}clone(){const e=new ko;return e._globeness=this._globeness,e._globeLatitudeErrorCorrectionRadians=this._globeLatitudeErrorCorrectionRadians,e.apply(this),e}apply(e){this._helper.apply(e),this._mercatorTransform.apply(this),this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians)}get projectionMatrix(){return this.currentTransform.projectionMatrix}get modelViewProjectionMatrix(){return this.currentTransform.modelViewProjectionMatrix}get inverseProjectionMatrix(){return this.currentTransform.inverseProjectionMatrix}get cameraPosition(){return this.currentTransform.cameraPosition}getProjectionData(e){const n=this._mercatorTransform.getProjectionData(e),u=this._verticalPerspectiveTransform.getProjectionData(e);return{mainMatrix:this.isGlobeRendering?u.mainMatrix:n.mainMatrix,clippingPlane:u.clippingPlane,tileMercatorCoords:u.tileMercatorCoords,projectionTransition:e.applyGlobeMatrix?this._globeness:0,fallbackMatrix:n.fallbackMatrix}}isLocationOccluded(e){return this.currentTransform.isLocationOccluded(e)}transformLightDirection(e){return this.currentTransform.transformLightDirection(e)}getPixelScale(){return l.bc(this._mercatorTransform.getPixelScale(),this._verticalPerspectiveTransform.getPixelScale(),this._globeness)}getCircleRadiusCorrection(){return l.bc(this._mercatorTransform.getCircleRadiusCorrection(),this._verticalPerspectiveTransform.getCircleRadiusCorrection(),this._globeness)}getPitchedTextCorrection(e,n,u){const f=this._mercatorTransform.getPitchedTextCorrection(e,n,u),y=this._verticalPerspectiveTransform.getPitchedTextCorrection(e,n,u);return l.bc(f,y,this._globeness)}projectTileCoordinates(e,n,u,f){return this.currentTransform.projectTileCoordinates(e,n,u,f)}_calcMatrices(){this._helper._width&&this._helper._height&&(this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians),this._helper._nearZ=this._verticalPerspectiveTransform.nearZ,this._helper._farZ=this._verticalPerspectiveTransform.farZ,this._mercatorTransform.apply(this,!0,this.isGlobeRendering),this._helper._nearZ=this._mercatorTransform.nearZ,this._helper._farZ=this._mercatorTransform.farZ)}calculateFogMatrix(e){return this.currentTransform.calculateFogMatrix(e)}getVisibleUnwrappedCoordinates(e){return this.currentTransform.getVisibleUnwrappedCoordinates(e)}getCameraFrustum(){return this.currentTransform.getCameraFrustum()}getClippingPlane(){return this.currentTransform.getClippingPlane()}getCoveringTilesDetailsProvider(){return this.currentTransform.getCoveringTilesDetailsProvider()}recalculateZoomAndCenter(e){this._mercatorTransform.recalculateZoomAndCenter(e),this._verticalPerspectiveTransform.recalculateZoomAndCenter(e)}maxPitchScaleFactor(){return this._mercatorTransform.maxPitchScaleFactor()}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(e,n){return this.currentTransform.lngLatToCameraDepth(e,n)}populateCache(e){this._mercatorTransform.populateCache(e),this._verticalPerspectiveTransform.populateCache(e)}getBounds(){return this.currentTransform.getBounds()}getConstrained(e,n){return this.currentTransform.getConstrained(e,n)}calculateCenterFromCameraLngLatAlt(e,n,u,f){return this._helper.calculateCenterFromCameraLngLatAlt(e,n,u,f)}setLocationAtPoint(e,n){if(!this.isGlobeRendering)return this._mercatorTransform.setLocationAtPoint(e,n),void this.apply(this._mercatorTransform);this._verticalPerspectiveTransform.setLocationAtPoint(e,n),this.apply(this._verticalPerspectiveTransform)}locationToScreenPoint(e,n){return this.currentTransform.locationToScreenPoint(e,n)}screenPointToMercatorCoordinate(e,n){return this.currentTransform.screenPointToMercatorCoordinate(e,n)}screenPointToLocation(e,n){return this.currentTransform.screenPointToLocation(e,n)}isPointOnMapSurface(e,n){return this.currentTransform.isPointOnMapSurface(e,n)}getRayDirectionFromPixel(e){return this._verticalPerspectiveTransform.getRayDirectionFromPixel(e)}getMatrixForModel(e,n){return this.currentTransform.getMatrixForModel(e,n)}getProjectionDataForCustomLayer(e=!0){const n=this._mercatorTransform.getProjectionDataForCustomLayer(e);if(!this.isGlobeRendering)return n;const u=this._verticalPerspectiveTransform.getProjectionDataForCustomLayer(e);return u.fallbackMatrix=n.mainMatrix,u}getFastPathSimpleProjectionMatrix(e){return this.currentTransform.getFastPathSimpleProjectionMatrix(e)}}class Ta{get useGlobeControls(){return!0}handlePanInertia(e,n){const u=Cs(e,n);return Math.abs(u.lng-n.center.lng)>180&&(u.lng=n.center.lng+179.5*Math.sign(u.lng-n.center.lng)),{easingCenter:u,easingOffset:new l.P(0,0)}}handleMapControlsRollPitchBearingZoom(e,n){const u=e.around,f=n.screenPointToLocation(u);e.bearingDelta&&n.setBearing(n.bearing+e.bearingDelta),e.pitchDelta&&n.setPitch(n.pitch+e.pitchDelta),e.rollDelta&&n.setRoll(n.roll+e.rollDelta);const y=n.zoom;e.zoomDelta&&n.setZoom(n.zoom+e.zoomDelta);const D=n.zoom-y;if(D===0)return;const T=l.bq(n.center.lng,f.lng),k=T/(Math.abs(T/180)+1),z=l.bq(n.center.lat,f.lat),O=n.getRayDirectionFromPixel(u),W=n.cameraPosition,Z=-1*l.aV(W,O),Q=l.bh();l.aP(Q,W,[O[0]*Z,O[1]*Z,O[2]*Z]);const ie=l.bo(Q)-1,De=Math.exp(.5*-Math.max(ie-.3,0)),we=Bi(n.worldSize,n.center.lat)/Math.min(n.width,n.height),Ce=l.bf(we,.9,.5,1,.25),ke=(1-l.ac(-D))*Math.min(De,Ce),Le=n.center.lat,Ee=n.zoom,Be=new l.Q(n.center.lng+k*ke,l.ae(n.center.lat+z*ke,-85.051129,l.af));n.setLocationAtPoint(f,u);const $e=n.center,Ve=l.bf(Math.abs(T),45,85,0,1),lt=l.bf(we,.75,.35,0,1),At=Math.pow(Math.max(Ve,lt),.25),nt=l.bq($e.lng,Be.lng),ht=l.bq($e.lat,Be.lat);n.setCenter(new l.Q($e.lng+nt*At,$e.lat+ht*At).wrap()),n.setZoom(Ee+Ai(Le,n.center.lat))}handleMapControlsPan(e,n,u){if(!e.panDelta)return;const f=n.center.lat,y=n.zoom;n.setCenter(Cs(e.panDelta,n).wrap()),n.setZoom(y+Ai(f,n.center.lat))}cameraForBoxAndBearing(e,n,u,f,y){const D=uo(e,n,u,f,y),T=n.left/y.width*2-1,k=(y.width-n.right)/y.width*2-1,z=n.top/y.height*-2+1,O=(y.height-n.bottom)/y.height*-2+1,W=l.bq(u.getWest(),u.getEast())<0,Z=W?u.getEast():u.getWest(),Q=W?u.getWest():u.getEast(),ie=Math.max(u.getNorth(),u.getSouth()),De=Math.min(u.getNorth(),u.getSouth()),we=Z+.5*l.bq(Z,Q),Ce=ie+.5*l.bq(ie,De),ke=y.clone();ke.setCenter(D.center),ke.setBearing(D.bearing),ke.setPitch(0),ke.setRoll(0),ke.setZoom(D.zoom);const Le=ke.modelViewProjectionMatrix,Ee=[mi(u.getNorthWest()),mi(u.getNorthEast()),mi(u.getSouthWest()),mi(u.getSouthEast()),mi(new l.Q(Q,Ce)),mi(new l.Q(Z,Ce)),mi(new l.Q(we,ie)),mi(new l.Q(we,De))],Be=mi(D.center);let $e=Number.POSITIVE_INFINITY;for(const Ve of Ee)T<0&&($e=Ta.getLesserNonNegativeNonNull($e,Ta.solveVectorScale(Ve,Be,Le,"x",T))),k>0&&($e=Ta.getLesserNonNegativeNonNull($e,Ta.solveVectorScale(Ve,Be,Le,"x",k))),z>0&&($e=Ta.getLesserNonNegativeNonNull($e,Ta.solveVectorScale(Ve,Be,Le,"y",z))),O<0&&($e=Ta.getLesserNonNegativeNonNull($e,Ta.solveVectorScale(Ve,Be,Le,"y",O)));if(Number.isFinite($e)&&$e!==0)return D.zoom=ke.zoom+l.ah($e),D;Ba()}handleJumpToCenterZoom(e,n){const u=e.center.lat,f=e.getConstrained(n.center?l.Q.convert(n.center):e.center,e.zoom).center;e.setCenter(f.wrap());const y=n.zoom!==void 0?+n.zoom:e.zoom+Ai(u,f.lat);e.zoom!==y&&e.setZoom(y)}handleEaseTo(e,n){const u=e.zoom,f=e.center,y=e.padding,D={roll:e.roll,pitch:e.pitch,bearing:e.bearing},T={roll:n.roll===void 0?e.roll:n.roll,pitch:n.pitch===void 0?e.pitch:n.pitch,bearing:n.bearing===void 0?e.bearing:n.bearing},k=n.zoom!==void 0,z=!e.isPaddingEqual(n.padding);let O=!1;const W=n.center?l.Q.convert(n.center):f,Z=e.getConstrained(W,u).center;Sa(e,Z);const Q=e.clone();Q.setCenter(Z),Q.setZoom(k?+n.zoom:u+Ai(f.lat,W.lat)),Q.setBearing(n.bearing);const ie=new l.P(l.ae(e.centerPoint.x+n.offsetAsPoint.x,0,e.width),l.ae(e.centerPoint.y+n.offsetAsPoint.y,0,e.height));Q.setLocationAtPoint(Z,ie);const De=(n.offset&&n.offsetAsPoint.mag())>0?Q.center:Z,we=k?+n.zoom:u+Ai(f.lat,De.lat),Ce=u+Ai(f.lat,0),ke=we+Ai(De.lat,0),Le=l.bq(f.lng,De.lng),Ee=l.bq(f.lat,De.lat),Be=l.ac(ke-Ce);return O=we!==u,{easeFunc:$e=>{if(l.b6(D,T)||ia({startEulerAngles:D,endEulerAngles:T,tr:e,k:$e,useSlerp:D.roll!=T.roll}),z&&e.interpolatePadding(y,n.padding,$e),n.around)l.w("Easing around a point is not supported under globe projection."),e.setLocationAtPoint(n.around,n.aroundPoint);else{const Ve=ke>Ce?Math.min(2,Be):Math.max(.5,Be),lt=Math.pow(Ve,1-$e),At=X0(f,Le,Ee,$e*lt);e.setCenter(At.wrap())}if(O){const Ve=l.B.number(Ce,ke,$e)+Ai(0,e.center.lat);e.setZoom(Ve)}},isZooming:O,elevationCenter:De}}handleFlyTo(e,n){const u=n.zoom!==void 0,f=e.center,y=e.zoom,D=e.padding,T=!e.isPaddingEqual(n.padding),k=e.getConstrained(l.Q.convert(n.center||n.locationAtOffset),y).center,z=u?+n.zoom:e.zoom+Ai(e.center.lat,k.lat),O=e.clone();O.setCenter(k),O.setZoom(z),O.setBearing(n.bearing);const W=new l.P(l.ae(e.centerPoint.x+n.offsetAsPoint.x,0,e.width),l.ae(e.centerPoint.y+n.offsetAsPoint.y,0,e.height));O.setLocationAtPoint(k,W);const Z=O.center;Sa(e,Z);const Q=function(Ee,Be,$e){const Ve=mi(Be),lt=mi($e),At=l.aV(Ve,lt),nt=Math.acos(At),ht=po(Ee);return nt/(2*Math.PI)*ht}(e,f,Z),ie=y+Ai(f.lat,0),De=z+Ai(Z.lat,0),we=l.ac(De-ie);let Ce;if(typeof n.minZoom=="number"){const Ee=+n.minZoom+Ai(Z.lat,0),Be=Math.min(Ee,ie,De)+Ai(0,Z.lat),$e=e.getConstrained(Z,Be).zoom+Ai(Z.lat,0);Ce=l.ac($e-ie)}const ke=l.bq(f.lng,Z.lng),Le=l.bq(f.lat,Z.lat);return{easeFunc:(Ee,Be,$e,Ve)=>{const lt=X0(f,ke,Le,$e);T&&e.interpolatePadding(D,n.padding,Ee);const At=Ee===1?Z:lt;e.setCenter(At.wrap());const nt=ie+l.ah(Be);e.setZoom(Ee===1?z:nt+Ai(0,At.lat))},scaleOfZoom:we,targetCenter:Z,scaleOfMinZoom:Ce,pixelPathLength:Q}}static solveVectorScale(e,n,u,f,y){const D=f==="x"?[u[0],u[4],u[8],u[12]]:[u[1],u[5],u[9],u[13]],T=[u[3],u[7],u[11],u[15]],k=e[0]*D[0]+e[1]*D[1]+e[2]*D[2],z=e[0]*T[0]+e[1]*T[1]+e[2]*T[2],O=n[0]*D[0]+n[1]*D[1]+n[2]*D[2],W=n[0]*T[0]+n[1]*T[1]+n[2]*T[2];return O+y*z===k+y*W||T[3]*(k-O)+D[3]*(W-z)+k*W==O*z?null:(O+D[3]-y*W-y*T[3])/(O-k-y*W+y*z)}static getLesserNonNegativeNonNull(e,n){return n!==null&&n>=0&&n<e?n:e}}class Wi{constructor(e){this._globe=e,this._mercatorCameraHelper=new co,this._verticalPerspectiveCameraHelper=new Ta}get useGlobeControls(){return this._globe.useGlobeRendering}get currentHelper(){return this.useGlobeControls?this._verticalPerspectiveCameraHelper:this._mercatorCameraHelper}handlePanInertia(e,n){return this.currentHelper.handlePanInertia(e,n)}handleMapControlsRollPitchBearingZoom(e,n){return this.currentHelper.handleMapControlsRollPitchBearingZoom(e,n)}handleMapControlsPan(e,n,u){this.currentHelper.handleMapControlsPan(e,n,u)}cameraForBoxAndBearing(e,n,u,f,y){return this.currentHelper.cameraForBoxAndBearing(e,n,u,f,y)}handleJumpToCenterZoom(e,n){this.currentHelper.handleJumpToCenterZoom(e,n)}handleEaseTo(e,n){return this.currentHelper.handleEaseTo(e,n)}handleFlyTo(e,n){return this.currentHelper.handleFlyTo(e,n)}}const Zr=(m,e)=>l.x(m,e&&e.filter(n=>n.identifier!=="source.canvas")),Zs=l.bw();class Y0 extends l.E{constructor(e,n={}){super(),this._rtlPluginLoaded=()=>{for(const u in this.sourceCaches){const f=this.sourceCaches[u].getSource().type;f!=="vector"&&f!=="geojson"||this.sourceCaches[u].reload()}},this.map=e,this.dispatcher=new wn(gn(),e._getMapId()),this.dispatcher.registerMessageHandler("GG",(u,f)=>this.getGlyphs(u,f)),this.dispatcher.registerMessageHandler("GI",(u,f)=>this.getImages(u,f)),this.imageManager=new ye,this.imageManager.setEventedParent(this),this.glyphManager=new Vt(e._requestManager,n.localIdeographFontFamily),this.lineAtlas=new Ot(256,512),this.crossTileSymbolIndex=new sn,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new l.bx,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("SR",l.by()),Yr().on(Vi,this._rtlPluginLoaded),this.on("data",u=>{if(u.dataType!=="source"||u.sourceDataType!=="metadata")return;const f=this.sourceCaches[u.sourceId];if(!f)return;const y=f.getSource();if(y&&y.vectorLayerIds)for(const D in this._layers){const T=this._layers[D];T.source===y.id&&this._validateLayer(T)}})}loadURL(e,n={},u){this.fire(new l.l("dataloading",{dataType:"style"})),n.validate=typeof n.validate!="boolean"||n.validate;const f=this.map._requestManager.transformRequest(e,"Style");this._loadStyleRequest=new AbortController;const y=this._loadStyleRequest;l.j(f,this._loadStyleRequest).then(D=>{this._loadStyleRequest=null,this._load(D.data,n,u)}).catch(D=>{this._loadStyleRequest=null,D&&!y.signal.aborted&&this.fire(new l.k(D))})}loadJSON(e,n={},u){this.fire(new l.l("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,ce.frameAsync(this._frameRequest).then(()=>{this._frameRequest=null,n.validate=n.validate!==!1,this._load(e,n,u)}).catch(()=>{})}loadEmpty(){this.fire(new l.l("dataloading",{dataType:"style"})),this._load(Zs,{validate:!1})}_load(e,n,u){var f,y;const D=n.transformStyle?n.transformStyle(u,e):e;if(!n.validate||!Zr(this,l.y(D))){this._loaded=!0,this.stylesheet=D;for(const T in D.sources)this.addSource(T,D.sources[T],{validate:!1});D.sprite?this._loadSprite(D.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(D.glyphs),this._createLayers(),this.light=new dn(this.stylesheet.light),this._setProjectionInternal(((f=this.stylesheet.projection)===null||f===void 0?void 0:f.type)||"mercator"),this.sky=new mt(this.stylesheet.sky),this.map.setTerrain((y=this.stylesheet.terrain)!==null&&y!==void 0?y:null),this.fire(new l.l("data",{dataType:"style"})),this.fire(new l.l("style.load"))}}_createLayers(){const e=l.bz(this.stylesheet.layers);this.dispatcher.broadcast("SL",e),this._order=e.map(n=>n.id),this._layers={},this._serializedLayers=null;for(const n of e){const u=l.bA(n);u.setEventedParent(this,{layer:{id:n.id}}),this._layers[n.id]=u}}_loadSprite(e,n=!1,u=void 0){let f;this.imageManager.setLoaded(!1),this._spriteRequest=new AbortController,function(y,D,T,k){return l._(this,void 0,void 0,function*(){const z=je(y),O=T>1?"@2x":"",W={},Z={};for(const{id:Q,url:ie}of z){const De=D.transformRequest(ot(ie,O,".json"),"SpriteJSON");W[Q]=l.j(De,k);const we=D.transformRequest(ot(ie,O,".png"),"SpriteImage");Z[Q]=Me.getImage(we,k)}return yield Promise.all([...Object.values(W),...Object.values(Z)]),function(Q,ie){return l._(this,void 0,void 0,function*(){const De={};for(const we in Q){De[we]={};const Ce=ce.getImageCanvasContext((yield ie[we]).data),ke=(yield Q[we]).data;for(const Le in ke){const{width:Ee,height:Be,x:$e,y:Ve,sdf:lt,pixelRatio:At,stretchX:nt,stretchY:ht,content:Ct,textFitWidth:nn,textFitHeight:rn}=ke[Le];De[we][Le]={data:null,pixelRatio:At,sdf:lt,stretchX:nt,stretchY:ht,content:Ct,textFitWidth:nn,textFitHeight:rn,spriteData:{width:Ee,height:Be,x:$e,y:Ve,context:Ce}}}}return De})}(W,Z)})}(e,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then(y=>{if(this._spriteRequest=null,y)for(const D in y){this._spritesImagesIds[D]=[];const T=this._spritesImagesIds[D]?this._spritesImagesIds[D].filter(k=>!(k in y)):[];for(const k of T)this.imageManager.removeImage(k),this._changedImages[k]=!0;for(const k in y[D]){const z=D==="default"?k:`${D}:${k}`;this._spritesImagesIds[D].push(z),z in this.imageManager.images?this.imageManager.updateImage(z,y[D][k],!1):this.imageManager.addImage(z,y[D][k]),n&&(this._changedImages[z]=!0)}}}).catch(y=>{this._spriteRequest=null,f=y,this.fire(new l.k(f))}).finally(()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),n&&(this._changed=!0),this.dispatcher.broadcast("SI",this._availableImages),this.fire(new l.l("data",{dataType:"style"})),u&&u(f)})}_unloadSprite(){for(const e of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(e),this._changedImages[e]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new l.l("data",{dataType:"style"}))}_validateLayer(e){const n=this.sourceCaches[e.source];if(!n)return;const u=e.sourceLayer;if(!u)return;const f=n.getSource();(f.type==="geojson"||f.vectorLayerIds&&f.vectorLayerIds.indexOf(u)===-1)&&this.fire(new l.k(new Error(`Source layer "${u}" does not exist on source "${f.id}" as specified by style layer "${e.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const e in this.sourceCaches)if(!this.sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(e,n=!1){const u=this._serializedAllLayers();if(!e||e.length===0)return Object.values(n?l.bB(u):u);const f=[];for(const y of e)if(u[y]){const D=n?l.bB(u[y]):u[y];f.push(D)}return f}_serializedAllLayers(){let e=this._serializedLayers;if(e)return e;e=this._serializedLayers={};const n=Object.keys(this._layers);for(const u of n){const f=this._layers[u];f.type!=="custom"&&(e[u]=f.serialize())}return e}hasTransitions(){var e,n,u;if(!((e=this.light)===null||e===void 0)&&e.hasTransition()||!((n=this.sky)===null||n===void 0)&&n.hasTransition()||!((u=this.projection)===null||u===void 0)&&u.hasTransition())return!0;for(const f in this.sourceCaches)if(this.sourceCaches[f].hasTransition())return!0;for(const f in this._layers)if(this._layers[f].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(e){if(!this._loaded)return;const n=this._changed;if(n){const f=Object.keys(this._updatedLayers),y=Object.keys(this._removedLayers);(f.length||y.length)&&this._updateWorkerLayers(f,y);for(const D in this._updatedSources){const T=this._updatedSources[D];if(T==="reload")this._reloadSource(D);else{if(T!=="clear")throw new Error(`Invalid action ${T}`);this._clearSource(D)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const D in this._updatedPaintProps)this._layers[D].updateTransitions(e);this.light.updateTransitions(e),this.sky.updateTransitions(e),this._resetUpdates()}const u={};for(const f in this.sourceCaches){const y=this.sourceCaches[f];u[f]=y.used,y.used=!1}for(const f of this._order){const y=this._layers[f];y.recalculate(e,this._availableImages),!y.isHidden(e.zoom)&&y.source&&(this.sourceCaches[y.source].used=!0)}for(const f in u){const y=this.sourceCaches[f];!!u[f]!=!!y.used&&y.fire(new l.l("data",{sourceDataType:"visibility",dataType:"source",sourceId:f}))}this.light.recalculate(e),this.sky.recalculate(e),this.projection.recalculate(e),this.z=e.zoom,n&&this.fire(new l.l("data",{dataType:"style"}))}_updateTilesForChangedImages(){const e=Object.keys(this._changedImages);if(e.length){for(const n in this.sourceCaches)this.sourceCaches[n].reloadTilesForDependencies(["icons","patterns"],e);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const e in this.sourceCaches)this.sourceCaches[e].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(e,n){this.dispatcher.broadcast("UL",{layers:this._serializeByIds(e,!1),removedIds:n})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(e,n={}){var u;this._checkLoaded();const f=this.serialize();if(e=n.transformStyle?n.transformStyle(f,e):e,((u=n.validate)===null||u===void 0||u)&&Zr(this,l.y(e)))return!1;(e=l.bB(e)).layers=l.bz(e.layers);const y=l.bC(f,e),D=this._getOperationsToPerform(y);if(D.unimplemented.length>0)throw new Error(`Unimplemented: ${D.unimplemented.join(", ")}.`);if(D.operations.length===0)return!1;for(const T of D.operations)T();return this.stylesheet=e,this._serializedLayers=null,!0}_getOperationsToPerform(e){const n=[],u=[];for(const f of e)switch(f.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":case"setRoll":continue;case"addLayer":n.push(()=>this.addLayer.apply(this,f.args));break;case"removeLayer":n.push(()=>this.removeLayer.apply(this,f.args));break;case"setPaintProperty":n.push(()=>this.setPaintProperty.apply(this,f.args));break;case"setLayoutProperty":n.push(()=>this.setLayoutProperty.apply(this,f.args));break;case"setFilter":n.push(()=>this.setFilter.apply(this,f.args));break;case"addSource":n.push(()=>this.addSource.apply(this,f.args));break;case"removeSource":n.push(()=>this.removeSource.apply(this,f.args));break;case"setLayerZoomRange":n.push(()=>this.setLayerZoomRange.apply(this,f.args));break;case"setLight":n.push(()=>this.setLight.apply(this,f.args));break;case"setGeoJSONSourceData":n.push(()=>this.setGeoJSONSourceData.apply(this,f.args));break;case"setGlyphs":n.push(()=>this.setGlyphs.apply(this,f.args));break;case"setSprite":n.push(()=>this.setSprite.apply(this,f.args));break;case"setTerrain":n.push(()=>this.map.setTerrain.apply(this,f.args));break;case"setSky":n.push(()=>this.setSky.apply(this,f.args));break;case"setProjection":this.setProjection.apply(this,f.args);break;case"setTransition":n.push(()=>{});break;default:u.push(f.command)}return{operations:n,unimplemented:u}}addImage(e,n){if(this.getImage(e))return this.fire(new l.k(new Error(`An image named "${e}" already exists.`)));this.imageManager.addImage(e,n),this._afterImageUpdated(e)}updateImage(e,n){this.imageManager.updateImage(e,n)}getImage(e){return this.imageManager.getImage(e)}removeImage(e){if(!this.getImage(e))return this.fire(new l.k(new Error(`An image named "${e}" does not exist.`)));this.imageManager.removeImage(e),this._afterImageUpdated(e)}_afterImageUpdated(e){this._availableImages=this.imageManager.listImages(),this._changedImages[e]=!0,this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new l.l("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(e,n,u={}){if(this._checkLoaded(),this.sourceCaches[e]!==void 0)throw new Error(`Source "${e}" already exists.`);if(!n.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(n).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(n.type)>=0&&this._validate(l.y.source,`sources.${e}`,n,null,u))return;this.map&&this.map._collectResourceTiming&&(n.collectResourceTiming=!0);const f=this.sourceCaches[e]=new at(e,n,this.dispatcher);f.style=this,f.setEventedParent(this,()=>({isSourceLoaded:f.loaded(),source:f.serialize(),sourceId:e})),f.onAdd(this.map),this._changed=!0}removeSource(e){if(this._checkLoaded(),this.sourceCaches[e]===void 0)throw new Error("There is no source with this ID");for(const u in this._layers)if(this._layers[u].source===e)return this.fire(new l.k(new Error(`Source "${e}" cannot be removed while layer "${u}" is using it.`)));const n=this.sourceCaches[e];delete this.sourceCaches[e],delete this._updatedSources[e],n.fire(new l.l("data",{sourceDataType:"metadata",dataType:"source",sourceId:e})),n.setEventedParent(null),n.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(e,n){if(this._checkLoaded(),this.sourceCaches[e]===void 0)throw new Error(`There is no source with this ID=${e}`);const u=this.sourceCaches[e].getSource();if(u.type!=="geojson")throw new Error(`geojsonSource.type is ${u.type}, which is !== 'geojson`);u.setData(n),this._changed=!0}getSource(e){return this.sourceCaches[e]&&this.sourceCaches[e].getSource()}addLayer(e,n,u={}){this._checkLoaded();const f=e.id;if(this.getLayer(f))return void this.fire(new l.k(new Error(`Layer "${f}" already exists on this map.`)));let y;if(e.type==="custom"){if(Zr(this,l.bD(e)))return;y=l.bA(e)}else{if("source"in e&&typeof e.source=="object"&&(this.addSource(f,e.source),e=l.bB(e),e=l.e(e,{source:f})),this._validate(l.y.layer,`layers.${f}`,e,{arrayIndex:-1},u))return;y=l.bA(e),this._validateLayer(y),y.setEventedParent(this,{layer:{id:f}})}const D=n?this._order.indexOf(n):this._order.length;if(n&&D===-1)this.fire(new l.k(new Error(`Cannot add layer "${f}" before non-existing layer "${n}".`)));else{if(this._order.splice(D,0,f),this._layerOrderChanged=!0,this._layers[f]=y,this._removedLayers[f]&&y.source&&y.type!=="custom"){const T=this._removedLayers[f];delete this._removedLayers[f],T.type!==y.type?this._updatedSources[y.source]="clear":(this._updatedSources[y.source]="reload",this.sourceCaches[y.source].pause())}this._updateLayer(y),y.onAdd&&y.onAdd(this.map)}}moveLayer(e,n){if(this._checkLoaded(),this._changed=!0,!this._layers[e])return void this.fire(new l.k(new Error(`The layer '${e}' does not exist in the map's style and cannot be moved.`)));if(e===n)return;const u=this._order.indexOf(e);this._order.splice(u,1);const f=n?this._order.indexOf(n):this._order.length;n&&f===-1?this.fire(new l.k(new Error(`Cannot move layer "${e}" before non-existing layer "${n}".`))):(this._order.splice(f,0,e),this._layerOrderChanged=!0)}removeLayer(e){this._checkLoaded();const n=this._layers[e];if(!n)return void this.fire(new l.k(new Error(`Cannot remove non-existing layer "${e}".`)));n.setEventedParent(null);const u=this._order.indexOf(e);this._order.splice(u,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[e]=n,delete this._layers[e],this._serializedLayers&&delete this._serializedLayers[e],delete this._updatedLayers[e],delete this._updatedPaintProps[e],n.onRemove&&n.onRemove(this.map)}getLayer(e){return this._layers[e]}getLayersOrder(){return[...this._order]}hasLayer(e){return e in this._layers}setLayerZoomRange(e,n,u){this._checkLoaded();const f=this.getLayer(e);f?f.minzoom===n&&f.maxzoom===u||(n!=null&&(f.minzoom=n),u!=null&&(f.maxzoom=u),this._updateLayer(f)):this.fire(new l.k(new Error(`Cannot set the zoom range of non-existing layer "${e}".`)))}setFilter(e,n,u={}){this._checkLoaded();const f=this.getLayer(e);if(f){if(!l.bE(f.filter,n))return n==null?(f.filter=void 0,void this._updateLayer(f)):void(this._validate(l.y.filter,`layers.${f.id}.filter`,n,null,u)||(f.filter=l.bB(n),this._updateLayer(f)))}else this.fire(new l.k(new Error(`Cannot filter non-existing layer "${e}".`)))}getFilter(e){return l.bB(this.getLayer(e).filter)}setLayoutProperty(e,n,u,f={}){this._checkLoaded();const y=this.getLayer(e);y?l.bE(y.getLayoutProperty(n),u)||(y.setLayoutProperty(n,u,f),this._updateLayer(y)):this.fire(new l.k(new Error(`Cannot style non-existing layer "${e}".`)))}getLayoutProperty(e,n){const u=this.getLayer(e);if(u)return u.getLayoutProperty(n);this.fire(new l.k(new Error(`Cannot get style of non-existing layer "${e}".`)))}setPaintProperty(e,n,u,f={}){this._checkLoaded();const y=this.getLayer(e);y?l.bE(y.getPaintProperty(n),u)||(y.setPaintProperty(n,u,f)&&this._updateLayer(y),this._changed=!0,this._updatedPaintProps[e]=!0,this._serializedLayers=null):this.fire(new l.k(new Error(`Cannot style non-existing layer "${e}".`)))}getPaintProperty(e,n){return this.getLayer(e).getPaintProperty(n)}setFeatureState(e,n){this._checkLoaded();const u=e.source,f=e.sourceLayer,y=this.sourceCaches[u];if(y===void 0)return void this.fire(new l.k(new Error(`The source '${u}' does not exist in the map's style.`)));const D=y.getSource().type;D==="geojson"&&f?this.fire(new l.k(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):D!=="vector"||f?(e.id===void 0&&this.fire(new l.k(new Error("The feature id parameter must be provided."))),y.setFeatureState(f,e.id,n)):this.fire(new l.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(e,n){this._checkLoaded();const u=e.source,f=this.sourceCaches[u];if(f===void 0)return void this.fire(new l.k(new Error(`The source '${u}' does not exist in the map's style.`)));const y=f.getSource().type,D=y==="vector"?e.sourceLayer:void 0;y!=="vector"||D?n&&typeof e.id!="string"&&typeof e.id!="number"?this.fire(new l.k(new Error("A feature id is required to remove its specific state property."))):f.removeFeatureState(D,e.id,n):this.fire(new l.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(e){this._checkLoaded();const n=e.source,u=e.sourceLayer,f=this.sourceCaches[n];if(f!==void 0)return f.getSource().type!=="vector"||u?(e.id===void 0&&this.fire(new l.k(new Error("The feature id parameter must be provided."))),f.getFeatureState(u,e.id)):void this.fire(new l.k(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new l.k(new Error(`The source '${n}' does not exist in the map's style.`)))}getTransition(){return l.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const e=l.bF(this.sourceCaches,y=>y.serialize()),n=this._serializeByIds(this._order,!0),u=this.map.getTerrain()||void 0,f=this.stylesheet;return l.bG({version:f.version,name:f.name,metadata:f.metadata,light:f.light,sky:f.sky,center:f.center,zoom:f.zoom,bearing:f.bearing,pitch:f.pitch,sprite:f.sprite,glyphs:f.glyphs,transition:f.transition,projection:f.projection,sources:e,layers:n,terrain:u},y=>y!==void 0)}_updateLayer(e){this._updatedLayers[e.id]=!0,e.source&&!this._updatedSources[e.source]&&this.sourceCaches[e.source].getSource().type!=="raster"&&(this._updatedSources[e.source]="reload",this.sourceCaches[e.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(e){const n=D=>this._layers[D].type==="fill-extrusion",u={},f=[];for(let D=this._order.length-1;D>=0;D--){const T=this._order[D];if(n(T)){u[T]=D;for(const k of e){const z=k[T];if(z)for(const O of z)f.push(O)}}}f.sort((D,T)=>T.intersectionZ-D.intersectionZ);const y=[];for(let D=this._order.length-1;D>=0;D--){const T=this._order[D];if(n(T))for(let k=f.length-1;k>=0;k--){const z=f[k].feature;if(u[z.layer.id]<D)break;y.push(z),f.pop()}else for(const k of e){const z=k[T];if(z)for(const O of z)y.push(O.feature)}}return y}queryRenderedFeatures(e,n,u){n&&n.filter&&this._validate(l.y.filter,"queryRenderedFeatures.filter",n.filter,null,n);const f={};if(n&&n.layers){if(!(Array.isArray(n.layers)||n.layers instanceof Set))return this.fire(new l.k(new Error("parameters.layers must be an Array or a Set of strings"))),[];for(const z of n.layers){const O=this._layers[z];if(!O)return this.fire(new l.k(new Error(`The layer '${z}' does not exist in the map's style and cannot be queried for features.`))),[];f[O.source]=!0}}const y=[];n.availableImages=this._availableImages;const D=this._serializedAllLayers(),T=n.layers instanceof Set?n.layers:Array.isArray(n.layers)?new Set(n.layers):null,k=Object.assign(Object.assign({},n),{layers:T});for(const z in this.sourceCaches)n.layers&&!f[z]||y.push(An(this.sourceCaches[z],this._layers,D,e,k,u,this.map.terrain?(O,W,Z)=>this.map.terrain.getElevation(O,W,Z):void 0));return this.placement&&y.push(function(z,O,W,Z,Q,ie,De){const we={},Ce=ie.queryRenderedSymbols(Z),ke=[];for(const Le of Object.keys(Ce).map(Number))ke.push(De[Le]);ke.sort(Nn);for(const Le of ke){const Ee=Le.featureIndex.lookupSymbolFeatures(Ce[Le.bucketInstanceId],O,Le.bucketIndex,Le.sourceLayerIndex,Q.filter,Q.layers,Q.availableImages,z);for(const Be in Ee){const $e=we[Be]=we[Be]||[],Ve=Ee[Be];Ve.sort((lt,At)=>{const nt=Le.featureSortOrder;if(nt){const ht=nt.indexOf(lt.featureIndex);return nt.indexOf(At.featureIndex)-ht}return At.featureIndex-lt.featureIndex});for(const lt of Ve)$e.push(lt)}}return function(Le,Ee,Be){for(const $e in Le)for(const Ve of Le[$e])Kn(Ve,Be[Ee[$e].source]);return Le}(we,z,W)}(this._layers,D,this.sourceCaches,e,k,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(y)}querySourceFeatures(e,n){n&&n.filter&&this._validate(l.y.filter,"querySourceFeatures.filter",n.filter,null,n);const u=this.sourceCaches[e];return u?function(f,y){const D=f.getRenderableIds().map(z=>f.getTileByID(z)),T=[],k={};for(let z=0;z<D.length;z++){const O=D[z],W=O.tileID.canonical.key;k[W]||(k[W]=!0,O.querySourceFeatures(T,y))}return T}(u,n):[]}getLight(){return this.light.getLight()}setLight(e,n={}){this._checkLoaded();const u=this.light.getLight();let f=!1;for(const D in e)if(!l.bE(e[D],u[D])){f=!0;break}if(!f)return;const y={now:ce.now(),transition:l.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(e,n),this.light.updateTransitions(y)}getProjection(){var e;return(e=this.stylesheet)===null||e===void 0?void 0:e.projection}setProjection(e){if(this._checkLoaded(),this.projection){if(this.projection.name===e.type)return;this.projection.destroy(),delete this.projection}this.stylesheet.projection=e,this._setProjectionInternal(e.type)}getSky(){var e;return(e=this.stylesheet)===null||e===void 0?void 0:e.sky}setSky(e,n={}){this._checkLoaded();const u=this.getSky();let f=!1;if(!e&&!u)return;if(e&&!u)f=!0;else if(!e&&u)f=!0;else for(const D in e)if(!l.bE(e[D],u[D])){f=!0;break}if(!f)return;const y={now:ce.now(),transition:l.e({duration:300,delay:0},this.stylesheet.transition)};this.stylesheet.sky=e,this.sky.setSky(e,n),this.sky.updateTransitions(y)}_setProjectionInternal(e){const n=function(u){if(Array.isArray(u)){const f=new ul({type:u});return{projection:f,transform:new ko,cameraHelper:new Wi(f)}}switch(u){case"mercator":return{projection:new lo,transform:new b0,cameraHelper:new co};case"globe":{const f=new ul({type:["interpolate",["linear"],["zoom"],11,"vertical-perspective",12,"mercator"]});return{projection:f,transform:new ko,cameraHelper:new Wi(f)}}case"vertical-perspective":return{projection:new a0,transform:new Vs,cameraHelper:new Ta};default:return l.w(`Unknown projection name: ${u}. Falling back to mercator projection.`),{projection:new lo,transform:new b0,cameraHelper:new co}}}(e);this.projection=n.projection,this.map.migrateProjection(n.transform,n.cameraHelper);for(const u in this.sourceCaches)this.sourceCaches[u].reload()}_validate(e,n,u,f,y={}){return(!y||y.validate!==!1)&&Zr(this,e.call(l.y,l.e({key:n,style:this.serialize(),value:u,styleSpec:l.v},f)))}_remove(e=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),Yr().off(Vi,this._rtlPluginLoaded);for(const n in this._layers)this._layers[n].setEventedParent(null);for(const n in this.sourceCaches){const u=this.sourceCaches[n];u.setEventedParent(null),u.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),e&&this.dispatcher.broadcast("RM",void 0),this.dispatcher.remove(e)}_clearSource(e){this.sourceCaches[e].clearTiles()}_reloadSource(e){this.sourceCaches[e].resume(),this.sourceCaches[e].reload()}_updateSources(e){for(const n in this.sourceCaches)this.sourceCaches[n].update(e,this.map.terrain)}_generateCollisionBoxes(){for(const e in this.sourceCaches)this._reloadSource(e)}_updatePlacement(e,n,u,f,y=!1){let D=!1,T=!1;const k={};for(const z of this._order){const O=this._layers[z];if(O.type!=="symbol")continue;if(!k[O.source]){const Z=this.sourceCaches[O.source];k[O.source]=Z.getRenderableIds(!0).map(Q=>Z.getTileByID(Q)).sort((Q,ie)=>ie.tileID.overscaledZ-Q.tileID.overscaledZ||(Q.tileID.isLessThan(ie.tileID)?-1:1))}const W=this.crossTileSymbolIndex.addLayer(O,k[O.source],e.center.lng);D=D||W}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((y=y||this._layerOrderChanged||u===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(ce.now(),e.zoom))&&(this.pauseablePlacement=new fe(e,this.map.terrain,this._order,y,n,u,f,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,k),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(ce.now()),T=!0),D&&this.pauseablePlacement.placement.setStale()),T||D)for(const z of this._order){const O=this._layers[z];O.type==="symbol"&&this.placement.updateLayerOpacities(O,k[O.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(ce.now())}_releaseSymbolFadeTiles(){for(const e in this.sourceCaches)this.sourceCaches[e].releaseSymbolFadeTiles()}getImages(e,n){return l._(this,void 0,void 0,function*(){const u=yield this.imageManager.getImages(n.icons);this._updateTilesForChangedImages();const f=this.sourceCaches[n.source];return f&&f.setDependencies(n.tileID.key,n.type,n.icons),u})}getGlyphs(e,n){return l._(this,void 0,void 0,function*(){const u=yield this.glyphManager.getGlyphs(n.stacks),f=this.sourceCaches[n.source];return f&&f.setDependencies(n.tileID.key,n.type,[""]),u})}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(e,n={}){this._checkLoaded(),e&&this._validate(l.y.glyphs,"glyphs",e,null,n)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=e,this.glyphManager.entries={},this.glyphManager.setURL(e))}addSprite(e,n,u={},f){this._checkLoaded();const y=[{id:e,url:n}],D=[...je(this.stylesheet.sprite),...y];this._validate(l.y.sprite,"sprite",D,null,u)||(this.stylesheet.sprite=D,this._loadSprite(y,!0,f))}removeSprite(e){this._checkLoaded();const n=je(this.stylesheet.sprite);if(n.find(u=>u.id===e)){if(this._spritesImagesIds[e])for(const u of this._spritesImagesIds[e])this.imageManager.removeImage(u),this._changedImages[u]=!0;n.splice(n.findIndex(u=>u.id===e),1),this.stylesheet.sprite=n.length>0?n:void 0,delete this._spritesImagesIds[e],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new l.l("data",{dataType:"style"}))}else this.fire(new l.k(new Error(`Sprite "${e}" doesn't exists on this map.`)))}getSprite(){return je(this.stylesheet.sprite)}setSprite(e,n={},u){this._checkLoaded(),e&&this._validate(l.y.sprite,"sprite",e,null,n)||(this.stylesheet.sprite=e,e?this._loadSprite(e,!0,u):(this._unloadSprite(),u&&u(null)))}}var Nc=l.aG([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class D0{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(e,n,u,f,y,D,T,k,z){this.context=e;let O=this.boundPaintVertexBuffers.length!==f.length;for(let W=0;!O&&W<f.length;W++)this.boundPaintVertexBuffers[W]!==f[W]&&(O=!0);!this.vao||this.boundProgram!==n||this.boundLayoutVertexBuffer!==u||O||this.boundIndexBuffer!==y||this.boundVertexOffset!==D||this.boundDynamicVertexBuffer!==T||this.boundDynamicVertexBuffer2!==k||this.boundDynamicVertexBuffer3!==z?this.freshBind(n,u,f,y,D,T,k,z):(e.bindVertexArray.set(this.vao),T&&T.bind(),y&&y.dynamicDraw&&y.bind(),k&&k.bind(),z&&z.bind())}freshBind(e,n,u,f,y,D,T,k){const z=e.numAttributes,O=this.context,W=O.gl;this.vao&&this.destroy(),this.vao=O.createVertexArray(),O.bindVertexArray.set(this.vao),this.boundProgram=e,this.boundLayoutVertexBuffer=n,this.boundPaintVertexBuffers=u,this.boundIndexBuffer=f,this.boundVertexOffset=y,this.boundDynamicVertexBuffer=D,this.boundDynamicVertexBuffer2=T,this.boundDynamicVertexBuffer3=k,n.enableAttributes(W,e);for(const Z of u)Z.enableAttributes(W,e);D&&D.enableAttributes(W,e),T&&T.enableAttributes(W,e),k&&k.enableAttributes(W,e),n.bind(),n.setVertexAttribPointers(W,e,y);for(const Z of u)Z.bind(),Z.setVertexAttribPointers(W,e,y);D&&(D.bind(),D.setVertexAttribPointers(W,e,y)),f&&f.bind(),T&&(T.bind(),T.setVertexAttribPointers(W,e,y)),k&&(k.bind(),k.setVertexAttribPointers(W,e,y)),O.currentNumAttributes=z}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}const $c=(m,e,n,u,f)=>({u_texture:0,u_ele_delta:m,u_fog_matrix:e,u_fog_color:n?n.properties.get("fog-color"):l.b7.white,u_fog_ground_blend:n?n.properties.get("fog-ground-blend"):1,u_fog_ground_blend_opacity:f?0:n?n.calculateFogBlendOpacity(u):0,u_horizon_color:n?n.properties.get("horizon-color"):l.b7.white,u_horizon_fog_blend:n?n.properties.get("horizon-fog-blend"):1,u_is_globe_mode:f?1:0}),C0={mainMatrix:"u_projection_matrix",tileMercatorCoords:"u_projection_tile_mercator_coords",clippingPlane:"u_projection_clipping_plane",projectionTransition:"u_projection_transition",fallbackMatrix:"u_projection_fallback_matrix"};function pl(m){const e=[];for(let n=0;n<m.length;n++){if(m[n]===null)continue;const u=m[n].split(" ");e.push(u.pop())}return e}class zl{constructor(e,n,u,f,y,D,T,k,z=[]){const O=e.gl;this.program=O.createProgram();const W=pl(n.staticAttributes),Z=u?u.getBinderAttributes():[],Q=W.concat(Z),ie=Mn.prelude.staticUniforms?pl(Mn.prelude.staticUniforms):[],De=T.staticUniforms?pl(T.staticUniforms):[],we=n.staticUniforms?pl(n.staticUniforms):[],Ce=u?u.getBinderUniforms():[],ke=ie.concat(De).concat(we).concat(Ce),Le=[];for(const nt of ke)Le.indexOf(nt)<0&&Le.push(nt);const Ee=u?u.defines():[];aa(O)&&Ee.unshift("#version 300 es"),y&&Ee.push("#define OVERDRAW_INSPECTOR;"),D&&Ee.push("#define TERRAIN3D;"),k&&Ee.push(k),z&&Ee.push(...z);let Be=Ee.concat(Mn.prelude.fragmentSource,T.fragmentSource,n.fragmentSource).join(`
`),$e=Ee.concat(Mn.prelude.vertexSource,T.vertexSource,n.vertexSource).join(`
`);aa(O)||(Be=function(nt){return nt.replace(/\bin\s/g,"varying ").replace("out highp vec4 fragColor;","").replace(/fragColor/g,"gl_FragColor").replace(/texture\(/g,"texture2D(")}(Be),$e=function(nt){return nt.replace(/\bin\s/g,"attribute ").replace(/\bout\s/g,"varying ").replace(/texture\(/g,"texture2D(")}($e));const Ve=O.createShader(O.FRAGMENT_SHADER);if(O.isContextLost())return void(this.failedToCreate=!0);if(O.shaderSource(Ve,Be),O.compileShader(Ve),!O.getShaderParameter(Ve,O.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${O.getShaderInfoLog(Ve)}`);O.attachShader(this.program,Ve);const lt=O.createShader(O.VERTEX_SHADER);if(O.isContextLost())return void(this.failedToCreate=!0);if(O.shaderSource(lt,$e),O.compileShader(lt),!O.getShaderParameter(lt,O.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${O.getShaderInfoLog(lt)}`);O.attachShader(this.program,lt),this.attributes={};const At={};this.numAttributes=Q.length;for(let nt=0;nt<this.numAttributes;nt++)Q[nt]&&(O.bindAttribLocation(this.program,nt,Q[nt]),this.attributes[Q[nt]]=nt);if(O.linkProgram(this.program),!O.getProgramParameter(this.program,O.LINK_STATUS))throw new Error(`Program failed to link: ${O.getProgramInfoLog(this.program)}`);O.deleteShader(lt),O.deleteShader(Ve);for(let nt=0;nt<Le.length;nt++){const ht=Le[nt];if(ht&&!At[ht]){const Ct=O.getUniformLocation(this.program,ht);Ct&&(At[ht]=Ct)}}this.fixedUniforms=f(e,At),this.terrainUniforms=((nt,ht)=>({u_depth:new l.bH(nt,ht.u_depth),u_terrain:new l.bH(nt,ht.u_terrain),u_terrain_dim:new l.b8(nt,ht.u_terrain_dim),u_terrain_matrix:new l.bJ(nt,ht.u_terrain_matrix),u_terrain_unpack:new l.bK(nt,ht.u_terrain_unpack),u_terrain_exaggeration:new l.b8(nt,ht.u_terrain_exaggeration)}))(e,At),this.projectionUniforms=((nt,ht)=>({u_projection_matrix:new l.bJ(nt,ht.u_projection_matrix),u_projection_tile_mercator_coords:new l.bK(nt,ht.u_projection_tile_mercator_coords),u_projection_clipping_plane:new l.bK(nt,ht.u_projection_clipping_plane),u_projection_transition:new l.b8(nt,ht.u_projection_transition),u_projection_fallback_matrix:new l.bJ(nt,ht.u_projection_fallback_matrix)}))(e,At),this.binderUniforms=u?u.getUniforms(e,At):[]}draw(e,n,u,f,y,D,T,k,z,O,W,Z,Q,ie,De,we,Ce,ke,Le){const Ee=e.gl;if(this.failedToCreate)return;if(e.program.set(this.program),e.setDepthMode(u),e.setStencilMode(f),e.setColorMode(y),e.setCullFace(D),k){e.activeTexture.set(Ee.TEXTURE2),Ee.bindTexture(Ee.TEXTURE_2D,k.depthTexture),e.activeTexture.set(Ee.TEXTURE3),Ee.bindTexture(Ee.TEXTURE_2D,k.texture);for(const $e in this.terrainUniforms)this.terrainUniforms[$e].set(k[$e])}if(z)for(const $e in z)this.projectionUniforms[C0[$e]].set(z[$e]);if(T)for(const $e in this.fixedUniforms)this.fixedUniforms[$e].set(T[$e]);we&&we.setUniforms(e,this.binderUniforms,ie,{zoom:De});let Be=0;switch(n){case Ee.LINES:Be=2;break;case Ee.TRIANGLES:Be=3;break;case Ee.LINE_STRIP:Be=1}for(const $e of Q.get()){const Ve=$e.vaos||($e.vaos={});(Ve[O]||(Ve[O]=new D0)).bind(e,this,W,we?we.getPaintVertexBuffers():[],Z,$e.vertexOffset,Ce,ke,Le),Ee.drawElements(n,$e.primitiveLength*Be,Ee.UNSIGNED_SHORT,$e.primitiveOffset*Be*2)}}}function Gl(m,e,n){const u=1/l.az(n,1,e.transform.tileZoom),f=Math.pow(2,n.tileID.overscaledZ),y=n.tileSize*Math.pow(2,e.transform.tileZoom)/f,D=y*(n.tileID.canonical.x+n.tileID.wrap*f),T=y*n.tileID.canonical.y;return{u_image:0,u_texsize:n.imageAtlasTexture.size,u_scale:[u,m.fromScale,m.toScale],u_fade:m.t,u_pixel_coord_upper:[D>>16,T>>16],u_pixel_coord_lower:[65535&D,65535&T]}}const Ws=(m,e,n,u)=>{const f=m.style.light,y=f.properties.get("position"),D=[y.x,y.y,y.z],T=l.bN();f.properties.get("anchor")==="viewport"&&l.bO(T,m.transform.bearingInRadians),l.bP(D,D,T);const k=m.transform.transformLightDirection(D),z=f.properties.get("color");return{u_lightpos:D,u_lightpos_globe:k,u_lightintensity:f.properties.get("intensity"),u_lightcolor:[z.r,z.g,z.b],u_vertical_gradient:+e,u_opacity:n,u_fill_translate:u}},Ro=(m,e,n,u,f,y,D)=>l.e(Ws(m,e,n,u),Gl(y,m,D),{u_height_factor:-Math.pow(2,f.overscaledZ)/D.tileSize/8}),Q0=(m,e,n,u)=>l.e(Gl(e,m,n),{u_fill_translate:u}),J0=(m,e)=>({u_world:m,u_fill_translate:e}),F=(m,e,n,u,f)=>l.e(Q0(m,e,n,f),{u_world:u}),X=(m,e,n,u,f)=>{const y=m.transform;let D,T,k=0;if(n.paint.get("circle-pitch-alignment")==="map"){const z=l.az(e,1,y.zoom);D=!0,T=[z,z],k=z/(l.Z*Math.pow(2,e.tileID.overscaledZ))*2*Math.PI*f}else D=!1,T=y.pixelsToGLUnits;return{u_camera_to_center_distance:y.cameraToCenterDistance,u_scale_with_map:+(n.paint.get("circle-pitch-scale")==="map"),u_pitch_with_map:+D,u_device_pixel_ratio:m.pixelRatio,u_extrude_scale:T,u_globe_extrude_scale:k,u_translate:u}},he=m=>({u_pixel_extrude_scale:[1/m.width,1/m.height]}),Ae=m=>({u_viewport_size:[m.width,m.height]}),_t=(m,e=1)=>({u_color:m,u_overlay:0,u_overlay_scale:e}),st=(m,e,n,u)=>{const f=l.az(m,1,e)/(l.Z*Math.pow(2,m.tileID.overscaledZ))*2*Math.PI*u;return{u_extrude_scale:l.az(m,1,e),u_intensity:n,u_globe_extrude_scale:f}},Bt=(m,e,n,u)=>{const f=l.K();l.bQ(f,0,m.width,m.height,0,0,1);const y=m.context.gl;return{u_matrix:f,u_world:[y.drawingBufferWidth,y.drawingBufferHeight],u_image:n,u_color_ramp:u,u_opacity:e.paint.get("heatmap-opacity")}},ln=(m,e,n)=>{const u=n.paint.get("hillshade-accent-color");let f;switch(n.paint.get("hillshade-method")){case"basic":f=4;break;case"combined":f=1;break;case"igor":f=2;break;case"multidirectional":f=3;break;default:f=0}const y=n.getIlluminationProperties();for(let D=0;D<y.directionRadians.length;D++)n.paint.get("hillshade-illumination-anchor")==="viewport"&&(y.directionRadians[D]+=m.transform.bearingInRadians);return{u_image:0,u_latrange:cr(0,e.tileID),u_exaggeration:n.paint.get("hillshade-exaggeration"),u_altitudes:y.altitudeRadians,u_azimuths:y.directionRadians,u_accent:u,u_method:f,u_highlights:y.highlightColor,u_shadows:y.shadowColor}},Bn=(m,e)=>{const n=e.stride,u=l.K();return l.bQ(u,0,l.Z,-8192,0,0,1),l.L(u,u,[0,-8192,0]),{u_matrix:u,u_image:1,u_dimension:[n,n],u_zoom:m.overscaledZ,u_unpack:e.getUnpackVector()}};function cr(m,e){const n=Math.pow(2,e.canonical.z),u=e.canonical.y;return[new l.$(0,u/n).toLngLat().lat,new l.$(0,(u+1)/n).toLngLat().lat]}const Qn=(m,e,n,u)=>{const f=m.transform;return{u_translation:is(m,e,n),u_ratio:u/l.az(e,1,f.zoom),u_device_pixel_ratio:m.pixelRatio,u_units_to_pixels:[1/f.pixelsToGLUnits[0],1/f.pixelsToGLUnits[1]]}},hi=(m,e,n,u,f)=>l.e(Qn(m,e,n,u),{u_image:0,u_image_height:f}),Oa=(m,e,n,u,f)=>{const y=m.transform,D=go(e,y);return{u_translation:is(m,e,n),u_texsize:e.imageAtlasTexture.size,u_ratio:u/l.az(e,1,y.zoom),u_device_pixel_ratio:m.pixelRatio,u_image:0,u_scale:[D,f.fromScale,f.toScale],u_fade:f.t,u_units_to_pixels:[1/y.pixelsToGLUnits[0],1/y.pixelsToGLUnits[1]]}},Uo=(m,e,n,u,f,y)=>{const D=m.lineAtlas,T=go(e,m.transform),k=n.layout.get("line-cap")==="round",z=D.getDash(f.from,k),O=D.getDash(f.to,k),W=z.width*y.fromScale,Z=O.width*y.toScale;return l.e(Qn(m,e,n,u),{u_patternscale_a:[T/W,-z.height/2],u_patternscale_b:[T/Z,-O.height/2],u_sdfgamma:D.width/(256*Math.min(W,Z)*m.pixelRatio)/2,u_image:0,u_tex_y_a:z.y,u_tex_y_b:O.y,u_mix:y.t})};function go(m,e){return 1/l.az(m,1,e.tileZoom)}function is(m,e,n){return l.aA(m.transform,e,n.paint.get("line-translate"),n.paint.get("line-translate-anchor"))}const Bu=(m,e,n,u,f)=>{return{u_tl_parent:m,u_scale_parent:e,u_buffer_scale:1,u_fade_t:n.mix,u_opacity:n.opacity*u.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:u.paint.get("raster-brightness-min"),u_brightness_high:u.paint.get("raster-brightness-max"),u_saturation_factor:(D=u.paint.get("raster-saturation"),D>0?1-1/(1.001-D):-D),u_contrast_factor:(y=u.paint.get("raster-contrast"),y>0?1/(1-y):1+y),u_spin_weights:dl(u.paint.get("raster-hue-rotate")),u_coords_top:[f[0].x,f[0].y,f[1].x,f[1].y],u_coords_bottom:[f[3].x,f[3].y,f[2].x,f[2].y]};var y,D};function dl(m){m*=Math.PI/180;const e=Math.sin(m),n=Math.cos(m);return[(2*n+1)/3,(-Math.sqrt(3)*e-n+1)/3,(Math.sqrt(3)*e-n+1)/3]}const fl=(m,e,n,u,f,y,D,T,k,z,O,W,Z)=>{const Q=D.transform;return{u_is_size_zoom_constant:+(m==="constant"||m==="source"),u_is_size_feature_constant:+(m==="constant"||m==="camera"),u_size_t:e?e.uSizeT:0,u_size:e?e.uSize:0,u_camera_to_center_distance:Q.cameraToCenterDistance,u_pitch:Q.pitch/360*2*Math.PI,u_rotate_symbol:+n,u_aspect_ratio:Q.width/Q.height,u_fade_change:D.options.fadeDuration?D.symbolFadeChange:1,u_label_plane_matrix:T,u_coord_matrix:k,u_is_text:+O,u_pitch_with_map:+u,u_is_along_line:f,u_is_variable_anchor:y,u_texsize:W,u_texture:0,u_translation:z,u_pitched_scale:Z}},yp=(m,e,n,u,f,y,D,T,k,z,O,W,Z,Q)=>{const ie=D.transform;return l.e(fl(m,e,n,u,f,y,D,T,k,z,O,W,Q),{u_gamma_scale:u?Math.cos(ie.pitch*Math.PI/180)*ie.cameraToCenterDistance:1,u_device_pixel_ratio:D.pixelRatio,u_is_halo:1})},jc=(m,e,n,u,f,y,D,T,k,z,O,W,Z)=>l.e(yp(m,e,n,u,f,y,D,T,k,z,!0,O,0,Z),{u_texsize_icon:W,u_texture_icon:1}),Vc=(m,e)=>({u_opacity:m,u_color:e}),Rh=(m,e,n,u,f)=>l.e(function(y,D,T,k){const z=T.imageManager.getPattern(y.from.toString()),O=T.imageManager.getPattern(y.to.toString()),{width:W,height:Z}=T.imageManager.getPixelSize(),Q=Math.pow(2,k.tileID.overscaledZ),ie=k.tileSize*Math.pow(2,T.transform.tileZoom)/Q,De=ie*(k.tileID.canonical.x+k.tileID.wrap*Q),we=ie*k.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:z.tl,u_pattern_br_a:z.br,u_pattern_tl_b:O.tl,u_pattern_br_b:O.br,u_texsize:[W,Z],u_mix:D.t,u_pattern_size_a:z.displaySize,u_pattern_size_b:O.displaySize,u_scale_a:D.fromScale,u_scale_b:D.toScale,u_tile_units_to_pixels:1/l.az(k,1,T.transform.tileZoom),u_pixel_coord_upper:[De>>16,we>>16],u_pixel_coord_lower:[65535&De,65535&we]}}(n,f,e,u),{u_opacity:m}),as=(m,e)=>{},o0={fillExtrusion:(m,e)=>({u_lightpos:new l.bL(m,e.u_lightpos),u_lightpos_globe:new l.bL(m,e.u_lightpos_globe),u_lightintensity:new l.b8(m,e.u_lightintensity),u_lightcolor:new l.bL(m,e.u_lightcolor),u_vertical_gradient:new l.b8(m,e.u_vertical_gradient),u_opacity:new l.b8(m,e.u_opacity),u_fill_translate:new l.bM(m,e.u_fill_translate)}),fillExtrusionPattern:(m,e)=>({u_lightpos:new l.bL(m,e.u_lightpos),u_lightpos_globe:new l.bL(m,e.u_lightpos_globe),u_lightintensity:new l.b8(m,e.u_lightintensity),u_lightcolor:new l.bL(m,e.u_lightcolor),u_vertical_gradient:new l.b8(m,e.u_vertical_gradient),u_height_factor:new l.b8(m,e.u_height_factor),u_opacity:new l.b8(m,e.u_opacity),u_fill_translate:new l.bM(m,e.u_fill_translate),u_image:new l.bH(m,e.u_image),u_texsize:new l.bM(m,e.u_texsize),u_pixel_coord_upper:new l.bM(m,e.u_pixel_coord_upper),u_pixel_coord_lower:new l.bM(m,e.u_pixel_coord_lower),u_scale:new l.bL(m,e.u_scale),u_fade:new l.b8(m,e.u_fade)}),fill:(m,e)=>({u_fill_translate:new l.bM(m,e.u_fill_translate)}),fillPattern:(m,e)=>({u_image:new l.bH(m,e.u_image),u_texsize:new l.bM(m,e.u_texsize),u_pixel_coord_upper:new l.bM(m,e.u_pixel_coord_upper),u_pixel_coord_lower:new l.bM(m,e.u_pixel_coord_lower),u_scale:new l.bL(m,e.u_scale),u_fade:new l.b8(m,e.u_fade),u_fill_translate:new l.bM(m,e.u_fill_translate)}),fillOutline:(m,e)=>({u_world:new l.bM(m,e.u_world),u_fill_translate:new l.bM(m,e.u_fill_translate)}),fillOutlinePattern:(m,e)=>({u_world:new l.bM(m,e.u_world),u_image:new l.bH(m,e.u_image),u_texsize:new l.bM(m,e.u_texsize),u_pixel_coord_upper:new l.bM(m,e.u_pixel_coord_upper),u_pixel_coord_lower:new l.bM(m,e.u_pixel_coord_lower),u_scale:new l.bL(m,e.u_scale),u_fade:new l.b8(m,e.u_fade),u_fill_translate:new l.bM(m,e.u_fill_translate)}),circle:(m,e)=>({u_camera_to_center_distance:new l.b8(m,e.u_camera_to_center_distance),u_scale_with_map:new l.bH(m,e.u_scale_with_map),u_pitch_with_map:new l.bH(m,e.u_pitch_with_map),u_extrude_scale:new l.bM(m,e.u_extrude_scale),u_device_pixel_ratio:new l.b8(m,e.u_device_pixel_ratio),u_globe_extrude_scale:new l.b8(m,e.u_globe_extrude_scale),u_translate:new l.bM(m,e.u_translate)}),collisionBox:(m,e)=>({u_pixel_extrude_scale:new l.bM(m,e.u_pixel_extrude_scale)}),collisionCircle:(m,e)=>({u_viewport_size:new l.bM(m,e.u_viewport_size)}),debug:(m,e)=>({u_color:new l.bI(m,e.u_color),u_overlay:new l.bH(m,e.u_overlay),u_overlay_scale:new l.b8(m,e.u_overlay_scale)}),depth:as,clippingMask:as,heatmap:(m,e)=>({u_extrude_scale:new l.b8(m,e.u_extrude_scale),u_intensity:new l.b8(m,e.u_intensity),u_globe_extrude_scale:new l.b8(m,e.u_globe_extrude_scale)}),heatmapTexture:(m,e)=>({u_matrix:new l.bJ(m,e.u_matrix),u_world:new l.bM(m,e.u_world),u_image:new l.bH(m,e.u_image),u_color_ramp:new l.bH(m,e.u_color_ramp),u_opacity:new l.b8(m,e.u_opacity)}),hillshade:(m,e)=>({u_image:new l.bH(m,e.u_image),u_latrange:new l.bM(m,e.u_latrange),u_exaggeration:new l.b8(m,e.u_exaggeration),u_altitudes:new l.bS(m,e.u_altitudes),u_azimuths:new l.bS(m,e.u_azimuths),u_accent:new l.bI(m,e.u_accent),u_method:new l.bH(m,e.u_method),u_shadows:new l.bR(m,e.u_shadows),u_highlights:new l.bR(m,e.u_highlights)}),hillshadePrepare:(m,e)=>({u_matrix:new l.bJ(m,e.u_matrix),u_image:new l.bH(m,e.u_image),u_dimension:new l.bM(m,e.u_dimension),u_zoom:new l.b8(m,e.u_zoom),u_unpack:new l.bK(m,e.u_unpack)}),line:(m,e)=>({u_translation:new l.bM(m,e.u_translation),u_ratio:new l.b8(m,e.u_ratio),u_device_pixel_ratio:new l.b8(m,e.u_device_pixel_ratio),u_units_to_pixels:new l.bM(m,e.u_units_to_pixels)}),lineGradient:(m,e)=>({u_translation:new l.bM(m,e.u_translation),u_ratio:new l.b8(m,e.u_ratio),u_device_pixel_ratio:new l.b8(m,e.u_device_pixel_ratio),u_units_to_pixels:new l.bM(m,e.u_units_to_pixels),u_image:new l.bH(m,e.u_image),u_image_height:new l.b8(m,e.u_image_height)}),linePattern:(m,e)=>({u_translation:new l.bM(m,e.u_translation),u_texsize:new l.bM(m,e.u_texsize),u_ratio:new l.b8(m,e.u_ratio),u_device_pixel_ratio:new l.b8(m,e.u_device_pixel_ratio),u_image:new l.bH(m,e.u_image),u_units_to_pixels:new l.bM(m,e.u_units_to_pixels),u_scale:new l.bL(m,e.u_scale),u_fade:new l.b8(m,e.u_fade)}),lineSDF:(m,e)=>({u_translation:new l.bM(m,e.u_translation),u_ratio:new l.b8(m,e.u_ratio),u_device_pixel_ratio:new l.b8(m,e.u_device_pixel_ratio),u_units_to_pixels:new l.bM(m,e.u_units_to_pixels),u_patternscale_a:new l.bM(m,e.u_patternscale_a),u_patternscale_b:new l.bM(m,e.u_patternscale_b),u_sdfgamma:new l.b8(m,e.u_sdfgamma),u_image:new l.bH(m,e.u_image),u_tex_y_a:new l.b8(m,e.u_tex_y_a),u_tex_y_b:new l.b8(m,e.u_tex_y_b),u_mix:new l.b8(m,e.u_mix)}),raster:(m,e)=>({u_tl_parent:new l.bM(m,e.u_tl_parent),u_scale_parent:new l.b8(m,e.u_scale_parent),u_buffer_scale:new l.b8(m,e.u_buffer_scale),u_fade_t:new l.b8(m,e.u_fade_t),u_opacity:new l.b8(m,e.u_opacity),u_image0:new l.bH(m,e.u_image0),u_image1:new l.bH(m,e.u_image1),u_brightness_low:new l.b8(m,e.u_brightness_low),u_brightness_high:new l.b8(m,e.u_brightness_high),u_saturation_factor:new l.b8(m,e.u_saturation_factor),u_contrast_factor:new l.b8(m,e.u_contrast_factor),u_spin_weights:new l.bL(m,e.u_spin_weights),u_coords_top:new l.bK(m,e.u_coords_top),u_coords_bottom:new l.bK(m,e.u_coords_bottom)}),symbolIcon:(m,e)=>({u_is_size_zoom_constant:new l.bH(m,e.u_is_size_zoom_constant),u_is_size_feature_constant:new l.bH(m,e.u_is_size_feature_constant),u_size_t:new l.b8(m,e.u_size_t),u_size:new l.b8(m,e.u_size),u_camera_to_center_distance:new l.b8(m,e.u_camera_to_center_distance),u_pitch:new l.b8(m,e.u_pitch),u_rotate_symbol:new l.bH(m,e.u_rotate_symbol),u_aspect_ratio:new l.b8(m,e.u_aspect_ratio),u_fade_change:new l.b8(m,e.u_fade_change),u_label_plane_matrix:new l.bJ(m,e.u_label_plane_matrix),u_coord_matrix:new l.bJ(m,e.u_coord_matrix),u_is_text:new l.bH(m,e.u_is_text),u_pitch_with_map:new l.bH(m,e.u_pitch_with_map),u_is_along_line:new l.bH(m,e.u_is_along_line),u_is_variable_anchor:new l.bH(m,e.u_is_variable_anchor),u_texsize:new l.bM(m,e.u_texsize),u_texture:new l.bH(m,e.u_texture),u_translation:new l.bM(m,e.u_translation),u_pitched_scale:new l.b8(m,e.u_pitched_scale)}),symbolSDF:(m,e)=>({u_is_size_zoom_constant:new l.bH(m,e.u_is_size_zoom_constant),u_is_size_feature_constant:new l.bH(m,e.u_is_size_feature_constant),u_size_t:new l.b8(m,e.u_size_t),u_size:new l.b8(m,e.u_size),u_camera_to_center_distance:new l.b8(m,e.u_camera_to_center_distance),u_pitch:new l.b8(m,e.u_pitch),u_rotate_symbol:new l.bH(m,e.u_rotate_symbol),u_aspect_ratio:new l.b8(m,e.u_aspect_ratio),u_fade_change:new l.b8(m,e.u_fade_change),u_label_plane_matrix:new l.bJ(m,e.u_label_plane_matrix),u_coord_matrix:new l.bJ(m,e.u_coord_matrix),u_is_text:new l.bH(m,e.u_is_text),u_pitch_with_map:new l.bH(m,e.u_pitch_with_map),u_is_along_line:new l.bH(m,e.u_is_along_line),u_is_variable_anchor:new l.bH(m,e.u_is_variable_anchor),u_texsize:new l.bM(m,e.u_texsize),u_texture:new l.bH(m,e.u_texture),u_gamma_scale:new l.b8(m,e.u_gamma_scale),u_device_pixel_ratio:new l.b8(m,e.u_device_pixel_ratio),u_is_halo:new l.bH(m,e.u_is_halo),u_translation:new l.bM(m,e.u_translation),u_pitched_scale:new l.b8(m,e.u_pitched_scale)}),symbolTextAndIcon:(m,e)=>({u_is_size_zoom_constant:new l.bH(m,e.u_is_size_zoom_constant),u_is_size_feature_constant:new l.bH(m,e.u_is_size_feature_constant),u_size_t:new l.b8(m,e.u_size_t),u_size:new l.b8(m,e.u_size),u_camera_to_center_distance:new l.b8(m,e.u_camera_to_center_distance),u_pitch:new l.b8(m,e.u_pitch),u_rotate_symbol:new l.bH(m,e.u_rotate_symbol),u_aspect_ratio:new l.b8(m,e.u_aspect_ratio),u_fade_change:new l.b8(m,e.u_fade_change),u_label_plane_matrix:new l.bJ(m,e.u_label_plane_matrix),u_coord_matrix:new l.bJ(m,e.u_coord_matrix),u_is_text:new l.bH(m,e.u_is_text),u_pitch_with_map:new l.bH(m,e.u_pitch_with_map),u_is_along_line:new l.bH(m,e.u_is_along_line),u_is_variable_anchor:new l.bH(m,e.u_is_variable_anchor),u_texsize:new l.bM(m,e.u_texsize),u_texsize_icon:new l.bM(m,e.u_texsize_icon),u_texture:new l.bH(m,e.u_texture),u_texture_icon:new l.bH(m,e.u_texture_icon),u_gamma_scale:new l.b8(m,e.u_gamma_scale),u_device_pixel_ratio:new l.b8(m,e.u_device_pixel_ratio),u_is_halo:new l.bH(m,e.u_is_halo),u_translation:new l.bM(m,e.u_translation),u_pitched_scale:new l.b8(m,e.u_pitched_scale)}),background:(m,e)=>({u_opacity:new l.b8(m,e.u_opacity),u_color:new l.bI(m,e.u_color)}),backgroundPattern:(m,e)=>({u_opacity:new l.b8(m,e.u_opacity),u_image:new l.bH(m,e.u_image),u_pattern_tl_a:new l.bM(m,e.u_pattern_tl_a),u_pattern_br_a:new l.bM(m,e.u_pattern_br_a),u_pattern_tl_b:new l.bM(m,e.u_pattern_tl_b),u_pattern_br_b:new l.bM(m,e.u_pattern_br_b),u_texsize:new l.bM(m,e.u_texsize),u_mix:new l.b8(m,e.u_mix),u_pattern_size_a:new l.bM(m,e.u_pattern_size_a),u_pattern_size_b:new l.bM(m,e.u_pattern_size_b),u_scale_a:new l.b8(m,e.u_scale_a),u_scale_b:new l.b8(m,e.u_scale_b),u_pixel_coord_upper:new l.bM(m,e.u_pixel_coord_upper),u_pixel_coord_lower:new l.bM(m,e.u_pixel_coord_lower),u_tile_units_to_pixels:new l.b8(m,e.u_tile_units_to_pixels)}),terrain:(m,e)=>({u_texture:new l.bH(m,e.u_texture),u_ele_delta:new l.b8(m,e.u_ele_delta),u_fog_matrix:new l.bJ(m,e.u_fog_matrix),u_fog_color:new l.bI(m,e.u_fog_color),u_fog_ground_blend:new l.b8(m,e.u_fog_ground_blend),u_fog_ground_blend_opacity:new l.b8(m,e.u_fog_ground_blend_opacity),u_horizon_color:new l.bI(m,e.u_horizon_color),u_horizon_fog_blend:new l.b8(m,e.u_horizon_fog_blend),u_is_globe_mode:new l.b8(m,e.u_is_globe_mode)}),terrainDepth:(m,e)=>({u_ele_delta:new l.b8(m,e.u_ele_delta)}),terrainCoords:(m,e)=>({u_texture:new l.bH(m,e.u_texture),u_terrain_coords_id:new l.b8(m,e.u_terrain_coords_id),u_ele_delta:new l.b8(m,e.u_ele_delta)}),projectionErrorMeasurement:(m,e)=>({u_input:new l.b8(m,e.u_input),u_output_expected:new l.b8(m,e.u_output_expected)}),atmosphere:(m,e)=>({u_sun_pos:new l.bL(m,e.u_sun_pos),u_atmosphere_blend:new l.b8(m,e.u_atmosphere_blend),u_globe_position:new l.bL(m,e.u_globe_position),u_globe_radius:new l.b8(m,e.u_globe_radius),u_inv_proj_matrix:new l.bJ(m,e.u_inv_proj_matrix)}),sky:(m,e)=>({u_sky_color:new l.bI(m,e.u_sky_color),u_horizon_color:new l.bI(m,e.u_horizon_color),u_horizon:new l.bM(m,e.u_horizon),u_horizon_normal:new l.bM(m,e.u_horizon_normal),u_sky_horizon_blend:new l.b8(m,e.u_sky_horizon_blend),u_sky_blend:new l.b8(m,e.u_sky_blend)})};class _p{constructor(e,n,u){this.context=e;const f=e.gl;this.buffer=f.createBuffer(),this.dynamicDraw=!!u,this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),f.bufferData(f.ELEMENT_ARRAY_BUFFER,n.arrayBuffer,this.dynamicDraw?f.DYNAMIC_DRAW:f.STATIC_DRAW),this.dynamicDraw||delete n.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(e){const n=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),n.bufferSubData(n.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Ou={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class vp{constructor(e,n,u,f){this.length=n.length,this.attributes=u,this.itemSize=n.bytesPerElement,this.dynamicDraw=f,this.context=e;const y=e.gl;this.buffer=y.createBuffer(),e.bindVertexBuffer.set(this.buffer),y.bufferData(y.ARRAY_BUFFER,n.arrayBuffer,this.dynamicDraw?y.DYNAMIC_DRAW:y.STATIC_DRAW),this.dynamicDraw||delete n.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(e){if(e.length!==this.length)throw new Error(`Length of new data is ${e.length}, which doesn't match current length of ${this.length}`);const n=this.context.gl;this.bind(),n.bufferSubData(n.ARRAY_BUFFER,0,e.arrayBuffer)}enableAttributes(e,n){for(let u=0;u<this.attributes.length;u++){const f=n.attributes[this.attributes[u].name];f!==void 0&&e.enableVertexAttribArray(f)}}setVertexAttribPointers(e,n,u){for(let f=0;f<this.attributes.length;f++){const y=this.attributes[f],D=n.attributes[y.name];D!==void 0&&e.vertexAttribPointer(D,y.components,e[Ou[y.type]],!1,this.itemSize,y.offset+this.itemSize*(u||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Dr{constructor(e){this.gl=e.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(e){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class oa extends Dr{getDefault(){return l.b7.transparent}set(e){const n=this.current;(e.r!==n.r||e.g!==n.g||e.b!==n.b||e.a!==n.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}class Fu extends Dr{getDefault(){return 1}set(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1)}}class Zc extends Dr{getDefault(){return 0}set(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1)}}class Wc extends Dr{getDefault(){return[!0,!0,!0,!0]}set(e){const n=this.current;(e[0]!==n[0]||e[1]!==n[1]||e[2]!==n[2]||e[3]!==n[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}class Uh extends Dr{getDefault(){return!0}set(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1)}}class zh extends Dr{getDefault(){return 255}set(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1)}}class eu extends Dr{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(e){const n=this.current;(e.func!==n.func||e.ref!==n.ref||e.mask!==n.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)}}class I0 extends Dr{getDefault(){const e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]}set(e){const n=this.current;(e[0]!==n[0]||e[1]!==n[1]||e[2]!==n[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)}}class it extends Dr{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const n=this.gl;e?n.enable(n.STENCIL_TEST):n.disable(n.STENCIL_TEST),this.current=e,this.dirty=!1}}class Lt extends Dr{getDefault(){return[0,1]}set(e){const n=this.current;(e[0]!==n[0]||e[1]!==n[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)}}class bt extends Dr{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const n=this.gl;e?n.enable(n.DEPTH_TEST):n.disable(n.DEPTH_TEST),this.current=e,this.dirty=!1}}class Sn extends Dr{getDefault(){return this.gl.LESS}set(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1)}}class hr extends Dr{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const n=this.gl;e?n.enable(n.BLEND):n.disable(n.BLEND),this.current=e,this.dirty=!1}}class Wr extends Dr{getDefault(){const e=this.gl;return[e.ONE,e.ZERO]}set(e){const n=this.current;(e[0]!==n[0]||e[1]!==n[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)}}class sa extends Dr{getDefault(){return l.b7.transparent}set(e){const n=this.current;(e.r!==n.r||e.g!==n.g||e.b!==n.b||e.a!==n.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}class Qr extends Dr{getDefault(){return this.gl.FUNC_ADD}set(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1)}}class A0 extends Dr{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const n=this.gl;e?n.enable(n.CULL_FACE):n.disable(n.CULL_FACE),this.current=e,this.dirty=!1}}class Hc extends Dr{getDefault(){return this.gl.BACK}set(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1)}}class os extends Dr{getDefault(){return this.gl.CCW}set(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1)}}class zo extends Dr{getDefault(){return null}set(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1)}}class Nu extends Dr{getDefault(){return this.gl.TEXTURE0}set(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1)}}class Go extends Dr{getDefault(){const e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]}set(e){const n=this.current;(e[0]!==n[0]||e[1]!==n[1]||e[2]!==n[2]||e[3]!==n[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}class Ha extends Dr{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const n=this.gl;n.bindFramebuffer(n.FRAMEBUFFER,e),this.current=e,this.dirty=!1}}class $u extends Dr{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const n=this.gl;n.bindRenderbuffer(n.RENDERBUFFER,e),this.current=e,this.dirty=!1}}class jr extends Dr{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const n=this.gl;n.bindTexture(n.TEXTURE_2D,e),this.current=e,this.dirty=!1}}class S0 extends Dr{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const n=this.gl;n.bindBuffer(n.ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}class Ll extends Dr{getDefault(){return null}set(e){const n=this.gl;n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}class T0 extends Dr{getDefault(){return null}set(e){var n;if(e===this.current&&!this.dirty)return;const u=this.gl;aa(u)?u.bindVertexArray(e):(n=u.getExtension("OES_vertex_array_object"))===null||n===void 0||n.bindVertexArrayOES(e),this.current=e,this.dirty=!1}}class tu extends Dr{getDefault(){return 4}set(e){if(e===this.current&&!this.dirty)return;const n=this.gl;n.pixelStorei(n.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1}}class ju extends Dr{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const n=this.gl;n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1}}class fc extends Dr{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const n=this.gl;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1}}class M0 extends Dr{constructor(e,n){super(e),this.context=e,this.parent=n}getDefault(){return null}}class ss extends M0{setDirty(){this.dirty=!0}set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const n=this.gl;n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}}class Bl extends M0{set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const n=this.gl;n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,e),this.current=e,this.dirty=!1}}class qc extends M0{set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const n=this.gl;n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,e),this.current=e,this.dirty=!1}}const ls="Framebuffer is not complete";class _r{constructor(e,n,u,f,y){this.context=e,this.width=n,this.height=u;const D=e.gl,T=this.framebuffer=D.createFramebuffer();if(this.colorAttachment=new ss(e,T),f)this.depthAttachment=y?new qc(e,T):new Bl(e,T);else if(y)throw new Error("Stencil cannot be set without depth");if(D.checkFramebufferStatus(D.FRAMEBUFFER)!==D.FRAMEBUFFER_COMPLETE)throw new Error(ls)}destroy(){const e=this.context.gl,n=this.colorAttachment.get();if(n&&e.deleteTexture(n),this.depthAttachment){const u=this.depthAttachment.get();u&&e.deleteRenderbuffer(u)}e.deleteFramebuffer(this.framebuffer)}}class nu{constructor(e){var n,u;if(this.gl=e,this.clearColor=new oa(this),this.clearDepth=new Fu(this),this.clearStencil=new Zc(this),this.colorMask=new Wc(this),this.depthMask=new Uh(this),this.stencilMask=new zh(this),this.stencilFunc=new eu(this),this.stencilOp=new I0(this),this.stencilTest=new it(this),this.depthRange=new Lt(this),this.depthTest=new bt(this),this.depthFunc=new Sn(this),this.blend=new hr(this),this.blendFunc=new Wr(this),this.blendColor=new sa(this),this.blendEquation=new Qr(this),this.cullFace=new A0(this),this.cullFaceSide=new Hc(this),this.frontFace=new os(this),this.program=new zo(this),this.activeTexture=new Nu(this),this.viewport=new Go(this),this.bindFramebuffer=new Ha(this),this.bindRenderbuffer=new $u(this),this.bindTexture=new jr(this),this.bindVertexBuffer=new S0(this),this.bindElementBuffer=new Ll(this),this.bindVertexArray=new T0(this),this.pixelStoreUnpack=new tu(this),this.pixelStoreUnpackPremultiplyAlpha=new ju(this),this.pixelStoreUnpackFlipY=new fc(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),aa(e)){this.HALF_FLOAT=e.HALF_FLOAT;const f=e.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(n=e.RGBA16F)!==null&&n!==void 0?n:f==null?void 0:f.RGBA16F_EXT,this.RGB16F=(u=e.RGB16F)!==null&&u!==void 0?u:f==null?void 0:f.RGB16F_EXT,e.getExtension("EXT_color_buffer_float")}else{e.getExtension("EXT_color_buffer_half_float"),e.getExtension("OES_texture_half_float_linear");const f=e.getExtension("OES_texture_half_float");this.HALF_FLOAT=f==null?void 0:f.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(e,n){return new _p(this,e,n)}createVertexBuffer(e,n,u){return new vp(this,e,n,u)}createRenderbuffer(e,n,u){const f=this.gl,y=f.createRenderbuffer();return this.bindRenderbuffer.set(y),f.renderbufferStorage(f.RENDERBUFFER,e,n,u),this.bindRenderbuffer.set(null),y}createFramebuffer(e,n,u,f){return new _r(this,e,n,u,f)}clear({color:e,depth:n,stencil:u}){const f=this.gl;let y=0;e&&(y|=f.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),n!==void 0&&(y|=f.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(n),this.depthMask.set(!0)),u!==void 0&&(y|=f.STENCIL_BUFFER_BIT,this.clearStencil.set(u),this.stencilMask.set(255)),f.clear(y)}setCullFace(e){e.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))}setDepthMode(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)}setStencilMode(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)}setColorMode(e){l.bE(e.blendFunction,Rr.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor)),this.colorMask.set(e.mask)}createVertexArray(){var e;return aa(this.gl)?this.gl.createVertexArray():(e=this.gl.getExtension("OES_vertex_array_object"))===null||e===void 0?void 0:e.createVertexArrayOES()}deleteVertexArray(e){var n;return aa(this.gl)?this.gl.deleteVertexArray(e):(n=this.gl.getExtension("OES_vertex_array_object"))===null||n===void 0?void 0:n.deleteVertexArrayOES(e)}unbindVAO(){this.bindVertexArray.set(null)}}let ru;function Kc(m,e,n,u,f){const y=m.context,D=m.transform,T=y.gl,k=m.useProgram("collisionBox"),z=[];let O=0,W=0;for(let Ce=0;Ce<u.length;Ce++){const ke=u[Ce],Le=e.getTile(ke).getBucket(n);if(!Le)continue;const Ee=f?Le.textCollisionBox:Le.iconCollisionBox,Be=Le.collisionCircleArray;Be.length>0&&(z.push({circleArray:Be,circleOffset:W,coord:ke}),O+=Be.length/4,W=O),Ee&&k.draw(y,T.LINES,vn.disabled,Yn.disabled,m.colorModeForRenderPass(),Un.disabled,he(m.transform),m.style.map.terrain&&m.style.map.terrain.getTerrainData(ke),D.getProjectionData({overscaledTileID:ke,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),n.id,Ee.layoutVertexBuffer,Ee.indexBuffer,Ee.segments,null,m.transform.zoom,null,null,Ee.collisionVertexBuffer)}if(!f||!z.length)return;const Z=m.useProgram("collisionCircle"),Q=new l.bT;Q.resize(4*O),Q._trim();let ie=0;for(const Ce of z)for(let ke=0;ke<Ce.circleArray.length/4;ke++){const Le=4*ke,Ee=Ce.circleArray[Le+0],Be=Ce.circleArray[Le+1],$e=Ce.circleArray[Le+2],Ve=Ce.circleArray[Le+3];Q.emplace(ie++,Ee,Be,$e,Ve,0),Q.emplace(ie++,Ee,Be,$e,Ve,1),Q.emplace(ie++,Ee,Be,$e,Ve,2),Q.emplace(ie++,Ee,Be,$e,Ve,3)}(!ru||ru.length<2*O)&&(ru=function(Ce){const ke=2*Ce,Le=new l.bV;Le.resize(ke),Le._trim();for(let Ee=0;Ee<ke;Ee++){const Be=6*Ee;Le.uint16[Be+0]=4*Ee+0,Le.uint16[Be+1]=4*Ee+1,Le.uint16[Be+2]=4*Ee+2,Le.uint16[Be+3]=4*Ee+2,Le.uint16[Be+4]=4*Ee+3,Le.uint16[Be+5]=4*Ee+0}return Le}(O));const De=y.createIndexBuffer(ru,!0),we=y.createVertexBuffer(Q,l.bU.members,!0);for(const Ce of z){const ke=Ae(m.transform);Z.draw(y,T.TRIANGLES,vn.disabled,Yn.disabled,m.colorModeForRenderPass(),Un.disabled,ke,m.style.map.terrain&&m.style.map.terrain.getTerrainData(Ce.coord),null,n.id,we,De,l.aJ.simpleSegment(0,2*Ce.circleOffset,Ce.circleArray.length,Ce.circleArray.length/2),null,m.transform.zoom,null,null,null)}we.destroy(),De.destroy()}const Is=l.ad(new Float32Array(16));function iu(m,e,n,u,f,y){const{horizontalAlign:D,verticalAlign:T}=l.aE(m);return new l.P((-(D-.5)*e/f+u[0])*y,(-(T-.5)*n/f+u[1])*y)}function gc(m,e,n,u,f,y){const D=e.tileAnchorPoint.add(new l.P(e.translation[0],e.translation[1]));if(e.pitchWithMap){let T=u.mult(y);n||(T=T.rotate(-f));const k=D.add(T);return wt(k.x,k.y,e.pitchedLabelPlaneMatrix,e.getElevation).point}if(n){const T=$r(e.tileAnchorPoint.x+1,e.tileAnchorPoint.y,e).point.sub(m),k=Math.atan(T.y/T.x)+(T.x<0?Math.PI:0);return m.add(u.rotate(k))}return m.add(u)}function Gh(m,e,n,u,f,y,D,T,k,z,O,W){const Z=m.text.placedSymbolArray,Q=m.text.dynamicLayoutVertexArray,ie=m.icon.dynamicLayoutVertexArray,De={};Q.clear();for(let we=0;we<Z.length;we++){const Ce=Z.get(we),ke=Ce.hidden||!Ce.crossTileID||m.allowVerticalPlacement&&!Ce.placedOrientation?null:u[Ce.crossTileID];if(ke){const Le=new l.P(Ce.anchorX,Ce.anchorY),Ee={getElevation:W,width:f.width,height:f.height,pitchedLabelPlaneMatrix:y,pitchWithMap:n,transform:f,tileAnchorPoint:Le,translation:z,unwrappedTileID:O},Be=n?ar(Le.x,Le.y,Ee):$r(Le.x,Le.y,Ee),$e=br(f.cameraToCenterDistance,Be.signedDistanceFromCamera);let Ve=l.am(m.textSizeData,T,Ce)*$e/l.ay;n&&(Ve*=m.tilePixelRatio/D);const{width:lt,height:At,anchor:nt,textOffset:ht,textBoxScale:Ct}=ke,nn=iu(nt,lt,At,ht,Ct,Ve),rn=f.getPitchedTextCorrection(Le.x+z[0],Le.y+z[1],O),Gt=gc(Be.point,Ee,e,nn,-f.bearingInRadians,rn),bn=m.allowVerticalPlacement&&Ce.placedOrientation===l.al.vertical?Math.PI/2:0;for(let Zn=0;Zn<Ce.numGlyphs;Zn++)l.as(Q,Gt,bn);k&&Ce.associatedIconIndex>=0&&(De[Ce.associatedIconIndex]={shiftedAnchor:Gt,angle:bn})}else Wa(Ce.numGlyphs,Q)}if(k){ie.clear();const we=m.icon.placedSymbolArray;for(let Ce=0;Ce<we.length;Ce++){const ke=we.get(Ce);if(ke.hidden)Wa(ke.numGlyphs,ie);else{const Le=De[Ce];if(Le)for(let Ee=0;Ee<ke.numGlyphs;Ee++)l.as(ie,Le.shiftedAnchor,Le.angle);else Wa(ke.numGlyphs,ie)}}m.icon.dynamicLayoutVertexBuffer.updateData(ie)}m.text.dynamicLayoutVertexBuffer.updateData(Q)}function ki(m,e,n){return n.iconsInText&&e?"symbolTextAndIcon":m?"symbolSDF":"symbolIcon"}function Vu(m,e,n,u,f,y,D,T,k,z,O,W,Z){const Q=m.context,ie=Q.gl,De=m.transform,we=T==="map",Ce=k==="map",ke=T!=="viewport"&&n.layout.get("symbol-placement")!=="point",Le=we&&!Ce&&!ke,Ee=!n.layout.get("symbol-sort-key").isConstant();let Be=!1;const $e=m.getDepthModeForSublayer(0,vn.ReadOnly),Ve=n._unevaluatedLayout.hasValue("text-variable-anchor")||n._unevaluatedLayout.hasValue("text-variable-anchor-offset"),lt=[],At=De.getCircleRadiusCorrection();for(const nt of u){const ht=e.getTile(nt),Ct=ht.getBucket(n);if(!Ct)continue;const nn=f?Ct.text:Ct.icon;if(!nn||!nn.segments.get().length||!nn.hasVisibleVertices)continue;const rn=nn.programConfigurations.get(n.id),Gt=f||Ct.sdfIcons,bn=f?Ct.textSizeData:Ct.iconSizeData,Zn=Ce||De.pitch!==0,Sr=m.useProgram(ki(Gt,f,Ct),rn),pi=l.ak(bn,De.zoom),Jr=m.style.map.terrain&&m.style.map.terrain.getTerrainData(nt);let Ti,Mi,Tr,Cr,qi=[0,0],xa=null;if(f)Mi=ht.glyphAtlasTexture,Tr=ie.LINEAR,Ti=ht.glyphAtlasTexture.size,Ct.iconsInText&&(qi=ht.imageAtlasTexture.size,xa=ht.imageAtlasTexture,Cr=Zn||m.options.rotating||m.options.zooming||bn.kind==="composite"||bn.kind==="camera"?ie.LINEAR:ie.NEAREST);else{const ca=n.layout.get("icon-size").constantOr(0)!==1||Ct.iconsNeedLinear;Mi=ht.imageAtlasTexture,Tr=Gt||m.options.rotating||m.options.zooming||ca||Zn?ie.LINEAR:ie.NEAREST,Ti=ht.imageAtlasTexture.size}const ua=l.az(ht,1,m.transform.zoom),Pr=Tn(we,m.transform,ua),Cl=l.K();l.an(Cl,Pr);const ds=Xn(Ce,we,m.transform,ua),Ps=l.aA(De,ht,y,D),Wl=De.getProjectionData({overscaledTileID:nt,applyGlobeMatrix:!Z,applyTerrainMatrix:!0}),fs=Ve&&Ct.hasTextData(),h0=n.layout.get("icon-text-fit")!=="none"&&fs&&Ct.hasIconData();if(ke){const ca=m.style.map.terrain?(vo,_i)=>m.style.map.terrain.getElevation(nt,vo,_i):null,ha=n.layout.get("text-rotation-alignment")==="map";wr(Ct,m,f,Pr,Cl,Ce,z,ha,nt.toUnwrapped(),De.width,De.height,Ps,ca)}const Vo=f&&Ve||h0,Zo=ke||Vo?Is:Ce?Pr:m.transform.clipSpaceToPixelsMatrix,Hl=Gt&&n.paint.get(f?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let Es;Es=Gt?Ct.iconsInText?jc(bn.kind,pi,Le,Ce,ke,Vo,m,Zo,ds,Ps,Ti,qi,At):yp(bn.kind,pi,Le,Ce,ke,Vo,m,Zo,ds,Ps,f,Ti,0,At):fl(bn.kind,pi,Le,Ce,ke,Vo,m,Zo,ds,Ps,f,Ti,At);const p0={program:Sr,buffers:nn,uniformValues:Es,projectionData:Wl,atlasTexture:Mi,atlasTextureIcon:xa,atlasInterpolation:Tr,atlasInterpolationIcon:Cr,isSDF:Gt,hasHalo:Hl};if(Ee&&Ct.canOverlap){Be=!0;const ca=nn.segments.get();for(const ha of ca)lt.push({segments:new l.aJ([ha]),sortKey:ha.sortKey,state:p0,terrainData:Jr})}else lt.push({segments:nn.segments,sortKey:0,state:p0,terrainData:Jr})}Be&&lt.sort((nt,ht)=>nt.sortKey-ht.sortKey);for(const nt of lt){const ht=nt.state;if(Q.activeTexture.set(ie.TEXTURE0),ht.atlasTexture.bind(ht.atlasInterpolation,ie.CLAMP_TO_EDGE),ht.atlasTextureIcon&&(Q.activeTexture.set(ie.TEXTURE1),ht.atlasTextureIcon&&ht.atlasTextureIcon.bind(ht.atlasInterpolationIcon,ie.CLAMP_TO_EDGE)),ht.isSDF){const Ct=ht.uniformValues;ht.hasHalo&&(Ct.u_is_halo=1,gl(ht.buffers,nt.segments,n,m,ht.program,$e,O,W,Ct,ht.projectionData,nt.terrainData)),Ct.u_is_halo=0}gl(ht.buffers,nt.segments,n,m,ht.program,$e,O,W,ht.uniformValues,ht.projectionData,nt.terrainData)}}function gl(m,e,n,u,f,y,D,T,k,z,O){const W=u.context;f.draw(W,W.gl.TRIANGLES,y,D,T,Un.backCCW,k,O,z,n.id,m.layoutVertexBuffer,m.indexBuffer,e,n.paint,u.transform.zoom,m.programConfigurations.get(n.id),m.dynamicLayoutVertexBuffer,m.opacityVertexBuffer)}function ml(m,e,n,u,f){const y=m.context,D=y.gl,T=Yn.disabled,k=new Rr([D.ONE,D.ONE],l.b7.transparent,[!0,!0,!0,!0]),z=e.getBucket(n);if(!z)return;const O=u.key;let W=n.heatmapFbos.get(O);W||(W=Wu(y,e.tileSize,e.tileSize),n.heatmapFbos.set(O,W)),y.bindFramebuffer.set(W.framebuffer),y.viewport.set([0,0,e.tileSize,e.tileSize]),y.clear({color:l.b7.transparent});const Z=z.programConfigurations.get(n.id),Q=m.useProgram("heatmap",Z,!f),ie=m.transform.getProjectionData({overscaledTileID:e.tileID,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),De=m.style.map.terrain.getTerrainData(u);Q.draw(y,D.TRIANGLES,vn.disabled,T,k,Un.disabled,st(e,m.transform.zoom,n.paint.get("heatmap-intensity"),1),De,ie,n.id,z.layoutVertexBuffer,z.indexBuffer,z.segments,n.paint,m.transform.zoom,Z)}function Zu(m,e,n,u,f){const y=m.context,D=y.gl,T=m.transform;y.setColorMode(m.colorModeForRenderPass());const k=P0(y,e),z=n.key,O=e.heatmapFbos.get(z);if(!O)return;y.activeTexture.set(D.TEXTURE0),D.bindTexture(D.TEXTURE_2D,O.colorAttachment.get()),y.activeTexture.set(D.TEXTURE1),k.bind(D.LINEAR,D.CLAMP_TO_EDGE);const W=T.getProjectionData({overscaledTileID:n,applyTerrainMatrix:f,applyGlobeMatrix:!u});m.useProgram("heatmapTexture").draw(y,D.TRIANGLES,vn.disabled,Yn.disabled,m.colorModeForRenderPass(),Un.disabled,Bt(m,e,0,1),null,W,e.id,m.rasterBoundsBuffer,m.quadTriangleIndexBuffer,m.rasterBoundsSegments,e.paint,T.zoom),O.destroy(),e.heatmapFbos.delete(z)}function Wu(m,e,n){var u,f;const y=m.gl,D=y.createTexture();y.bindTexture(y.TEXTURE_2D,D),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_S,y.CLAMP_TO_EDGE),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_T,y.CLAMP_TO_EDGE),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MIN_FILTER,y.LINEAR),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MAG_FILTER,y.LINEAR);const T=(u=m.HALF_FLOAT)!==null&&u!==void 0?u:y.UNSIGNED_BYTE,k=(f=m.RGBA16F)!==null&&f!==void 0?f:y.RGBA;y.texImage2D(y.TEXTURE_2D,0,k,e,n,0,y.RGBA,T,null);const z=m.createFramebuffer(e,n,!1,!1);return z.colorAttachment.set(D),z}function P0(m,e){return e.colorRampTexture||(e.colorRampTexture=new Pt(m,e.colorRamp,m.gl.RGBA)),e.colorRampTexture}function E0(m,e,n,u,f){if(!n||!u||!u.imageAtlas)return;const y=u.imageAtlas.patternPositions;let D=y[n.to.toString()],T=y[n.from.toString()];if(!D&&T&&(D=T),!T&&D&&(T=D),!D||!T){const k=f.getPaintProperty(e);D=y[k],T=y[k]}D&&T&&m.setConstantPatternPositions(D,T)}function Ol(m,e,n,u,f,y,D,T){const k=m.context.gl,z="fill-pattern",O=n.paint.get(z),W=O&&O.constantOr(1),Z=n.getCrossfadeParameters();let Q,ie,De,we,Ce;const ke=m.transform,Le=n.paint.get("fill-translate"),Ee=n.paint.get("fill-translate-anchor");D?(ie=W&&!n.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",Q=k.LINES):(ie=W?"fillPattern":"fill",Q=k.TRIANGLES);const Be=O.constantOr(null);for(const $e of u){const Ve=e.getTile($e);if(W&&!Ve.patternsLoaded())continue;const lt=Ve.getBucket(n);if(!lt)continue;const At=lt.programConfigurations.get(n.id),nt=m.useProgram(ie,At),ht=m.style.map.terrain&&m.style.map.terrain.getTerrainData($e);W&&(m.context.activeTexture.set(k.TEXTURE0),Ve.imageAtlasTexture.bind(k.LINEAR,k.CLAMP_TO_EDGE),At.updatePaintBuffers(Z)),E0(At,z,Be,Ve,n);const Ct=ke.getProjectionData({overscaledTileID:$e,applyGlobeMatrix:!T,applyTerrainMatrix:!0}),nn=l.aA(ke,Ve,Le,Ee);if(D){we=lt.indexBuffer2,Ce=lt.segments2;const Gt=[k.drawingBufferWidth,k.drawingBufferHeight];De=ie==="fillOutlinePattern"&&W?F(m,Z,Ve,Gt,nn):J0(Gt,nn)}else we=lt.indexBuffer,Ce=lt.segments,De=W?Q0(m,Z,Ve,nn):{u_fill_translate:nn};const rn=m.stencilModeForClipping($e);nt.draw(m.context,Q,f,rn,y,Un.backCCW,De,ht,Ct,n.id,lt.layoutVertexBuffer,we,Ce,n.paint,m.transform.zoom,At)}}function Fi(m,e,n,u,f,y,D,T){const k=m.context,z=k.gl,O="fill-extrusion-pattern",W=n.paint.get(O),Z=W.constantOr(1),Q=n.getCrossfadeParameters(),ie=n.paint.get("fill-extrusion-opacity"),De=W.constantOr(null),we=m.transform;for(const Ce of u){const ke=e.getTile(Ce),Le=ke.getBucket(n);if(!Le)continue;const Ee=m.style.map.terrain&&m.style.map.terrain.getTerrainData(Ce),Be=Le.programConfigurations.get(n.id),$e=m.useProgram(Z?"fillExtrusionPattern":"fillExtrusion",Be);Z&&(m.context.activeTexture.set(z.TEXTURE0),ke.imageAtlasTexture.bind(z.LINEAR,z.CLAMP_TO_EDGE),Be.updatePaintBuffers(Q));const Ve=we.getProjectionData({overscaledTileID:Ce,applyGlobeMatrix:!T,applyTerrainMatrix:!0});E0(Be,O,De,ke,n);const lt=l.aA(we,ke,n.paint.get("fill-extrusion-translate"),n.paint.get("fill-extrusion-translate-anchor")),At=n.paint.get("fill-extrusion-vertical-gradient"),nt=Z?Ro(m,At,ie,lt,Ce,Q,ke):Ws(m,At,ie,lt);$e.draw(k,k.gl.TRIANGLES,f,y,D,Un.backCCW,nt,Ee,Ve,n.id,Le.layoutVertexBuffer,Le.indexBuffer,Le.segments,n.paint,m.transform.zoom,Be,m.style.map.terrain&&Le.centroidVertexBuffer)}}function Fa(m,e,n,u,f,y,D,T,k){var z;const O=m.style.projection,W=m.context,Z=m.transform,Q=W.gl,ie=[`#define NUM_ILLUMINATION_SOURCES ${n.paint.get("hillshade-highlight-color").values.length}`],De=m.useProgram("hillshade",null,!1,ie),we=!m.options.moving;for(const Ce of u){const ke=e.getTile(Ce),Le=ke.fbo;if(!Le)continue;const Ee=O.getMeshFromTileID(W,Ce.canonical,T,!0,"raster"),Be=(z=m.style.map.terrain)===null||z===void 0?void 0:z.getTerrainData(Ce);W.activeTexture.set(Q.TEXTURE0),Q.bindTexture(Q.TEXTURE_2D,Le.colorAttachment.get());const $e=Z.getProjectionData({overscaledTileID:Ce,aligned:we,applyGlobeMatrix:!k,applyTerrainMatrix:!0});De.draw(W,Q.TRIANGLES,y,f[Ce.overscaledZ],D,Un.backCCW,ln(m,ke,n),Be,$e,n.id,Ee.vertexBuffer,Ee.indexBuffer,Ee.segments)}}const mc=[new l.P(0,0),new l.P(l.Z,0),new l.P(l.Z,l.Z),new l.P(0,l.Z)];function yc(m,e,n,u,f,y,D,T,k=!1,z=!1){const O=u[u.length-1].overscaledZ,W=m.context,Z=W.gl,Q=m.useProgram("raster"),ie=m.transform,De=m.style.projection,we=m.colorModeForRenderPass(),Ce=!m.options.moving;for(const ke of u){const Le=m.getDepthModeForSublayer(ke.overscaledZ-O,n.paint.get("raster-opacity")===1?vn.ReadWrite:vn.ReadOnly,Z.LESS),Ee=e.getTile(ke);Ee.registerFadeDuration(n.paint.get("raster-fade-duration"));const Be=e.findLoadedParent(ke,0),$e=e.findLoadedSibling(ke),Ve=Hu(Ee,Be||$e||null,e,n,m.transform,m.style.map.terrain);let lt,At;const nt=n.paint.get("raster-resampling")==="nearest"?Z.NEAREST:Z.LINEAR;W.activeTexture.set(Z.TEXTURE0),Ee.texture.bind(nt,Z.CLAMP_TO_EDGE,Z.LINEAR_MIPMAP_NEAREST),W.activeTexture.set(Z.TEXTURE1),Be?(Be.texture.bind(nt,Z.CLAMP_TO_EDGE,Z.LINEAR_MIPMAP_NEAREST),lt=Math.pow(2,Be.tileID.overscaledZ-Ee.tileID.overscaledZ),At=[Ee.tileID.canonical.x*lt%1,Ee.tileID.canonical.y*lt%1]):Ee.texture.bind(nt,Z.CLAMP_TO_EDGE,Z.LINEAR_MIPMAP_NEAREST),Ee.texture.useMipmap&&W.extTextureFilterAnisotropic&&m.transform.pitch>20&&Z.texParameterf(Z.TEXTURE_2D,W.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,W.extTextureFilterAnisotropicMax);const ht=m.style.map.terrain&&m.style.map.terrain.getTerrainData(ke),Ct=ie.getProjectionData({overscaledTileID:ke,aligned:Ce,applyGlobeMatrix:!z,applyTerrainMatrix:!0}),nn=Bu(At||[0,0],lt||1,Ve,n,T),rn=De.getMeshFromTileID(W,ke.canonical,y,D,"raster");Q.draw(W,Z.TRIANGLES,Le,f?f[ke.overscaledZ]:Yn.disabled,we,k?Un.frontCCW:Un.backCCW,nn,ht,Ct,n.id,rn.vertexBuffer,rn.indexBuffer,rn.segments)}}function Hu(m,e,n,u,f,y){const D=u.paint.get("raster-fade-duration");if(!y&&D>0){const T=ce.now(),k=(T-m.timeAdded)/D,z=e?(T-e.timeAdded)/D:-1,O=n.getSource(),W=Je(f,{tileSize:O.tileSize,roundZoom:O.roundZoom}),Z=!e||Math.abs(e.tileID.overscaledZ-W)>Math.abs(m.tileID.overscaledZ-W),Q=Z&&m.refreshedUponExpiration?1:l.ae(Z?k:1-z,0,1);return m.refreshedUponExpiration&&k>=1&&(m.refreshedUponExpiration=!1),e?{opacity:1,mix:1-Q}:{opacity:Q,mix:0}}return{opacity:1,mix:0}}const au=new l.b7(1,0,0,1),ou=new l.b7(0,1,0,1),k0=new l.b7(0,0,1,1),qu=new l.b7(1,0,1,1),yl=new l.b7(0,1,1,1);function R0(m,e,n,u){U0(m,0,e+n/2,m.transform.width,n,u)}function su(m,e,n,u){U0(m,e-n/2,0,n,m.transform.height,u)}function U0(m,e,n,u,f,y){const D=m.context,T=D.gl;T.enable(T.SCISSOR_TEST),T.scissor(e*m.pixelRatio,n*m.pixelRatio,u*m.pixelRatio,f*m.pixelRatio),D.clear({color:y}),T.disable(T.SCISSOR_TEST)}function Di(m,e,n){const u=m.context,f=u.gl,y=m.useProgram("debug"),D=vn.disabled,T=Yn.disabled,k=m.colorModeForRenderPass(),z="$debug",O=m.style.map.terrain&&m.style.map.terrain.getTerrainData(n);u.activeTexture.set(f.TEXTURE0);const W=e.getTileByID(n.key).latestRawTileData,Z=Math.floor((W&&W.byteLength||0)/1024),Q=e.getTile(n).tileSize,ie=512/Math.min(Q,512)*(n.overscaledZ/m.transform.zoom)*.5;let De=n.canonical.toString();n.overscaledZ!==n.canonical.z&&(De+=` => ${n.overscaledZ}`),function(Ce,ke){Ce.initDebugOverlayCanvas();const Le=Ce.debugOverlayCanvas,Ee=Ce.context.gl,Be=Ce.debugOverlayCanvas.getContext("2d");Be.clearRect(0,0,Le.width,Le.height),Be.shadowColor="white",Be.shadowBlur=2,Be.lineWidth=1.5,Be.strokeStyle="white",Be.textBaseline="top",Be.font="bold 36px Open Sans, sans-serif",Be.fillText(ke,5,5),Be.strokeText(ke,5,5),Ce.debugOverlayTexture.update(Le),Ce.debugOverlayTexture.bind(Ee.LINEAR,Ee.CLAMP_TO_EDGE)}(m,`${De} ${Z}kB`);const we=m.transform.getProjectionData({overscaledTileID:n,applyGlobeMatrix:!0,applyTerrainMatrix:!0});y.draw(u,f.TRIANGLES,D,T,Rr.alphaBlended,Un.disabled,_t(l.b7.transparent,ie),null,we,z,m.debugBuffer,m.quadTriangleIndexBuffer,m.debugSegments),y.draw(u,f.LINE_STRIP,D,T,k,Un.disabled,_t(l.b7.red),O,we,z,m.debugBuffer,m.tileBorderIndexBuffer,m.debugSegments)}function Fl(m,e,n,u){const{isRenderingGlobe:f}=u,y=m.context,D=y.gl,T=m.transform,k=m.colorModeForRenderPass(),z=m.getDepthModeFor3D(),O=m.useProgram("terrain");y.bindFramebuffer.set(null),y.viewport.set([0,0,m.width,m.height]);for(const W of n){const Z=e.getTerrainMesh(W.tileID),Q=m.renderToTexture.getTexture(W),ie=e.getTerrainData(W.tileID);y.activeTexture.set(D.TEXTURE0),D.bindTexture(D.TEXTURE_2D,Q.texture);const De=e.getMeshFrameDelta(T.zoom),we=T.calculateFogMatrix(W.tileID.toUnwrapped()),Ce=$c(De,we,m.style.sky,T.pitch,f),ke=T.getProjectionData({overscaledTileID:W.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});O.draw(y,D.TRIANGLES,z,Yn.disabled,k,Un.backCCW,Ce,ie,ke,"terrain",Z.vertexBuffer,Z.indexBuffer,Z.segments)}}function va(m,e){if(!e.mesh){const n=new l.aI;n.emplaceBack(-1,-1),n.emplaceBack(1,-1),n.emplaceBack(1,1),n.emplaceBack(-1,1);const u=new l.aK;u.emplaceBack(0,1,2),u.emplaceBack(0,2,3),e.mesh=new Br(m.createVertexBuffer(n,gi.members),m.createIndexBuffer(u),l.aJ.simpleSegment(0,0,n.length,u.length))}return e.mesh}class Xc{constructor(e,n){this.context=new nu(e),this.transform=n,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:l.ad(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=at.maxUnderzooming+at.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new sn}resize(e,n,u){if(this.width=Math.floor(e*u),this.height=Math.floor(n*u),this.pixelRatio=u,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const f of this.style._order)this.style._layers[f].resize()}setup(){const e=this.context,n=new l.aI;n.emplaceBack(0,0),n.emplaceBack(l.Z,0),n.emplaceBack(0,l.Z),n.emplaceBack(l.Z,l.Z),this.tileExtentBuffer=e.createVertexBuffer(n,gi.members),this.tileExtentSegments=l.aJ.simpleSegment(0,0,4,2);const u=new l.aI;u.emplaceBack(0,0),u.emplaceBack(l.Z,0),u.emplaceBack(0,l.Z),u.emplaceBack(l.Z,l.Z),this.debugBuffer=e.createVertexBuffer(u,gi.members),this.debugSegments=l.aJ.simpleSegment(0,0,4,5);const f=new l.b_;f.emplaceBack(0,0,0,0),f.emplaceBack(l.Z,0,l.Z,0),f.emplaceBack(0,l.Z,0,l.Z),f.emplaceBack(l.Z,l.Z,l.Z,l.Z),this.rasterBoundsBuffer=e.createVertexBuffer(f,Nc.members),this.rasterBoundsSegments=l.aJ.simpleSegment(0,0,4,2);const y=new l.aI;y.emplaceBack(0,0),y.emplaceBack(l.Z,0),y.emplaceBack(0,l.Z),y.emplaceBack(l.Z,l.Z),this.rasterBoundsBufferPosOnly=e.createVertexBuffer(y,gi.members),this.rasterBoundsSegmentsPosOnly=l.aJ.simpleSegment(0,0,4,5);const D=new l.aI;D.emplaceBack(0,0),D.emplaceBack(1,0),D.emplaceBack(0,1),D.emplaceBack(1,1),this.viewportBuffer=e.createVertexBuffer(D,gi.members),this.viewportSegments=l.aJ.simpleSegment(0,0,4,2);const T=new l.b$;T.emplaceBack(0),T.emplaceBack(1),T.emplaceBack(3),T.emplaceBack(2),T.emplaceBack(0),this.tileBorderIndexBuffer=e.createIndexBuffer(T);const k=new l.aK;k.emplaceBack(1,0,2),k.emplaceBack(1,2,3),this.quadTriangleIndexBuffer=e.createIndexBuffer(k);const z=this.context.gl;this.stencilClearMode=new Yn({func:z.ALWAYS,mask:0},0,255,z.ZERO,z.ZERO,z.ZERO),this.tileExtentMesh=new Br(this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}clearStencil(){const e=this.context,n=e.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const u=l.K();l.bQ(u,0,this.width,this.height,0,0,1),l.M(u,u,[n.drawingBufferWidth,n.drawingBufferHeight,0]);const f={mainMatrix:u,tileMercatorCoords:[0,0,1,1],clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:u};this.useProgram("clippingMask",null,!0).draw(e,n.TRIANGLES,vn.disabled,this.stencilClearMode,Rr.disabled,Un.disabled,null,null,f,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(e,n,u){if(this.currentStencilSource===e.source||!e.isTileClipped()||!n||!n.length)return;this.currentStencilSource=e.source,this.nextStencilID+n.length>256&&this.clearStencil();const f=this.context;f.setColorMode(Rr.disabled),f.setDepthMode(vn.disabled);const y={};for(const D of n)y[D.key]=this.nextStencilID++;this._renderTileMasks(y,n,u,!0),this._renderTileMasks(y,n,u,!1),this._tileClippingMaskIDs=y}_renderTileMasks(e,n,u,f){const y=this.context,D=y.gl,T=this.style.projection,k=this.transform,z=this.useProgram("clippingMask");for(const O of n){const W=e[O.key],Z=this.style.map.terrain&&this.style.map.terrain.getTerrainData(O),Q=T.getMeshFromTileID(this.context,O.canonical,f,!0,"stencil"),ie=k.getProjectionData({overscaledTileID:O,applyGlobeMatrix:!u,applyTerrainMatrix:!0});z.draw(y,D.TRIANGLES,vn.disabled,new Yn({func:D.ALWAYS,mask:0},W,255,D.KEEP,D.KEEP,D.REPLACE),Rr.disabled,u?Un.disabled:Un.backCCW,null,Z,ie,"$clipping",Q.vertexBuffer,Q.indexBuffer,Q.segments)}}_renderTilesDepthBuffer(){const e=this.context,n=e.gl,u=this.style.projection,f=this.transform,y=this.useProgram("depth"),D=this.getDepthModeFor3D(),T=Ye(f,{tileSize:f.tileSize});for(const k of T){const z=this.style.map.terrain&&this.style.map.terrain.getTerrainData(k),O=u.getMeshFromTileID(this.context,k.canonical,!0,!0,"raster"),W=f.getProjectionData({overscaledTileID:k,applyGlobeMatrix:!0,applyTerrainMatrix:!0});y.draw(e,n.TRIANGLES,D,Yn.disabled,Rr.disabled,Un.backCCW,null,z,W,"$clipping",O.vertexBuffer,O.indexBuffer,O.segments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const e=this.nextStencilID++,n=this.context.gl;return new Yn({func:n.NOTEQUAL,mask:255},e,255,n.KEEP,n.KEEP,n.REPLACE)}stencilModeForClipping(e){const n=this.context.gl;return new Yn({func:n.EQUAL,mask:255},this._tileClippingMaskIDs[e.key],0,n.KEEP,n.KEEP,n.REPLACE)}getStencilConfigForOverlapAndUpdateStencilID(e){const n=this.context.gl,u=e.sort((D,T)=>T.overscaledZ-D.overscaledZ),f=u[u.length-1].overscaledZ,y=u[0].overscaledZ-f+1;if(y>1){this.currentStencilSource=void 0,this.nextStencilID+y>256&&this.clearStencil();const D={};for(let T=0;T<y;T++)D[T+f]=new Yn({func:n.GEQUAL,mask:255},T+this.nextStencilID,255,n.KEEP,n.KEEP,n.REPLACE);return this.nextStencilID+=y,[D,u]}return[{[f]:Yn.disabled},u]}stencilConfigForOverlapTwoPass(e){const n=this.context.gl,u=e.sort((D,T)=>T.overscaledZ-D.overscaledZ),f=u[u.length-1].overscaledZ,y=u[0].overscaledZ-f+1;if(this.clearStencil(),y>1){const D={},T={};for(let k=0;k<y;k++)D[k+f]=new Yn({func:n.GREATER,mask:255},y+1+k,255,n.KEEP,n.KEEP,n.REPLACE),T[k+f]=new Yn({func:n.GREATER,mask:255},1+k,255,n.KEEP,n.KEEP,n.REPLACE);return this.nextStencilID=2*y+1,[D,T,u]}return this.nextStencilID=3,[{[f]:new Yn({func:n.GREATER,mask:255},2,255,n.KEEP,n.KEEP,n.REPLACE)},{[f]:new Yn({func:n.GREATER,mask:255},1,255,n.KEEP,n.KEEP,n.REPLACE)},u]}colorModeForRenderPass(){const e=this.context.gl;return this._showOverdrawInspector?new Rr([e.CONSTANT_COLOR,e.ONE],new l.b7(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?Rr.unblended:Rr.alphaBlended}getDepthModeForSublayer(e,n,u){if(!this.opaquePassEnabledForLayer())return vn.disabled;const f=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon;return new vn(u||this.context.gl.LEQUAL,n,[f,f])}getDepthModeFor3D(){return new vn(this.context.gl.LEQUAL,vn.ReadWrite,this.depthRangeFor3D)}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(e,n){var u,f;this.style=e,this.options=n,this.lineAtlas=e.lineAtlas,this.imageManager=e.imageManager,this.glyphManager=e.glyphManager,this.symbolFadeChange=e.placement.symbolFadeChange(ce.now()),this.imageManager.beginFrame();const y=this.style._order,D=this.style.sourceCaches,T={},k={},z={},O={isRenderingToTexture:!1,isRenderingGlobe:((u=e.projection)===null||u===void 0?void 0:u.transitionState)>0};for(const Z in D){const Q=D[Z];Q.used&&Q.prepare(this.context),T[Z]=Q.getVisibleCoordinates(!1),k[Z]=T[Z].slice().reverse(),z[Z]=Q.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let Z=0;Z<y.length;Z++)if(this.style._layers[y[Z]].is3D()){this.opaquePassCutoff=Z;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(const Z of y){const Q=this.style._layers[Z];if(!Q.hasOffscreenPass()||Q.isHidden(this.transform.zoom))continue;const ie=k[Q.source];(Q.type==="custom"||ie.length)&&this.renderLayer(this,D[Q.source],Q,ie,O)}if((f=this.style.projection)===null||f===void 0||f.updateGPUdependent({context:this.context,useProgram:Z=>this.useProgram(Z)}),this.context.viewport.set([0,0,this.width,this.height]),this.context.bindFramebuffer.set(null),this.context.clear({color:n.showOverdrawInspector?l.b7.black:l.b7.transparent,depth:1}),this.clearStencil(),this.style.sky&&function(Z,Q){const ie=Z.context,De=ie.gl,we=(($e,Ve,lt)=>{const At=Math.cos(Ve.rollInRadians),nt=Math.sin(Ve.rollInRadians),ht=Fe(Ve),Ct=Ve.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}).projectionTransition;return{u_sky_color:$e.properties.get("sky-color"),u_horizon_color:$e.properties.get("horizon-color"),u_horizon:[(Ve.width/2-ht*nt)*lt,(Ve.height/2+ht*At)*lt],u_horizon_normal:[-nt,At],u_sky_horizon_blend:$e.properties.get("sky-horizon-blend")*Ve.height/2*lt,u_sky_blend:Ct}})(Q,Z.style.map.transform,Z.pixelRatio),Ce=new vn(De.LEQUAL,vn.ReadWrite,[0,1]),ke=Yn.disabled,Le=Z.colorModeForRenderPass(),Ee=Z.useProgram("sky"),Be=va(ie,Q);Ee.draw(ie,De.TRIANGLES,Ce,ke,Le,Un.disabled,we,null,void 0,"sky",Be.vertexBuffer,Be.indexBuffer,Be.segments)}(this,this.style.sky),this._showOverdrawInspector=n.showOverdrawInspector,this.depthRangeFor3D=[0,1-(e._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=y.length-1;this.currentLayer>=0;this.currentLayer--){const Z=this.style._layers[y[this.currentLayer]],Q=D[Z.source],ie=T[Z.source];this._renderTileClippingMasks(Z,ie,!1),this.renderLayer(this,Q,Z,ie,O)}this.renderPass="translucent";let W=!1;for(this.currentLayer=0;this.currentLayer<y.length;this.currentLayer++){const Z=this.style._layers[y[this.currentLayer]],Q=D[Z.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(Z,O))continue;this.opaquePassEnabledForLayer()||W||(W=!0,O.isRenderingGlobe&&!this.style.map.terrain&&this._renderTilesDepthBuffer());const ie=(Z.type==="symbol"?z:k)[Z.source];this._renderTileClippingMasks(Z,T[Z.source],!!this.renderToTexture),this.renderLayer(this,Q,Z,ie,O)}if(O.isRenderingGlobe&&function(Z,Q,ie){const De=Z.context,we=De.gl,Ce=Z.useProgram("atmosphere"),ke=new vn(we.LEQUAL,vn.ReadOnly,[0,1]),Le=Z.transform,Ee=function(Ct,nn){const rn=Ct.properties.get("position"),Gt=[-rn.x,-rn.y,-rn.z],bn=l.ad(new Float64Array(16));return Ct.properties.get("anchor")==="map"&&(l.a_(bn,bn,nn.rollInRadians),l.a$(bn,bn,-nn.pitchInRadians),l.a_(bn,bn,nn.bearingInRadians),l.a$(bn,bn,nn.center.lat*Math.PI/180),l.bp(bn,bn,-nn.center.lng*Math.PI/180)),l.bZ(Gt,Gt,bn),Gt}(ie,Z.transform),Be=Le.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),$e=Q.properties.get("atmosphere-blend")*Be.projectionTransition;if($e===0)return;const Ve=Bi(Le.worldSize,Le.center.lat),lt=Le.inverseProjectionMatrix,At=new Float64Array(4);At[3]=1,l.at(At,At,Le.modelViewProjectionMatrix),At[0]/=At[3],At[1]/=At[3],At[2]/=At[3],At[3]=1,l.at(At,At,lt),At[0]/=At[3],At[1]/=At[3],At[2]/=At[3],At[3]=1;const nt=((Ct,nn,rn,Gt,bn)=>({u_sun_pos:Ct,u_atmosphere_blend:nn,u_globe_position:rn,u_globe_radius:Gt,u_inv_proj_matrix:bn}))(Ee,$e,[At[0],At[1],At[2]],Ve,lt),ht=va(De,Q);Ce.draw(De,we.TRIANGLES,ke,Yn.disabled,Rr.alphaBlended,Un.disabled,nt,null,null,"atmosphere",ht.vertexBuffer,ht.indexBuffer,ht.segments)}(this,this.style.sky,this.style.light),this.options.showTileBoundaries){const Z=function(Q,ie){let De=null;const we=Object.values(Q._layers).flatMap(Ee=>Ee.source&&!Ee.isHidden(ie)?[Q.sourceCaches[Ee.source]]:[]),Ce=we.filter(Ee=>Ee.getSource().type==="vector"),ke=we.filter(Ee=>Ee.getSource().type!=="vector"),Le=Ee=>{(!De||De.getSource().maxzoom<Ee.getSource().maxzoom)&&(De=Ee)};return Ce.forEach(Ee=>Le(Ee)),De||ke.forEach(Ee=>Le(Ee)),De}(this.style,this.transform.zoom);Z&&function(Q,ie,De){for(let we=0;we<De.length;we++)Di(Q,ie,De[we])}(this,Z,Z.getVisibleCoordinates())}this.options.showPadding&&function(Z){const Q=Z.transform.padding;R0(Z,Z.transform.height-(Q.top||0),3,au),R0(Z,Q.bottom||0,3,ou),su(Z,Q.left||0,3,k0),su(Z,Z.transform.width-(Q.right||0),3,qu);const ie=Z.transform.centerPoint;(function(De,we,Ce,ke){U0(De,we-1,Ce-10,2,20,ke),U0(De,we-10,Ce-1,20,2,ke)})(Z,ie.x,Z.transform.height-ie.y,yl)}(this),this.context.setDefault()}maybeDrawDepthAndCoords(e){if(!this.style||!this.style.map||!this.style.map.terrain)return;const n=this.terrainFacilitator.matrix,u=this.transform.modelViewProjectionMatrix;let f=this.terrainFacilitator.dirty;f||(f=e?!l.c0(n,u):!l.c1(n,u)),f||(f=this.style.map.terrain.sourceCache.anyTilesAfterTime(this.terrainFacilitator.renderTime)),f&&(l.c2(n,u),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(y,D){const T=y.context,k=T.gl,z=y.transform,O=Rr.unblended,W=new vn(k.LEQUAL,vn.ReadWrite,[0,1]),Z=D.sourceCache.getRenderableTiles(),Q=y.useProgram("terrainDepth");T.bindFramebuffer.set(D.getFramebuffer("depth").framebuffer),T.viewport.set([0,0,y.width/devicePixelRatio,y.height/devicePixelRatio]),T.clear({color:l.b7.transparent,depth:1});for(const ie of Z){const De=D.getTerrainMesh(ie.tileID),we=D.getTerrainData(ie.tileID),Ce=z.getProjectionData({overscaledTileID:ie.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0}),ke={u_ele_delta:D.getMeshFrameDelta(z.zoom)};Q.draw(T,k.TRIANGLES,W,Yn.disabled,O,Un.backCCW,ke,we,Ce,"terrain",De.vertexBuffer,De.indexBuffer,De.segments)}T.bindFramebuffer.set(null),T.viewport.set([0,0,y.width,y.height])}(this,this.style.map.terrain),function(y,D){const T=y.context,k=T.gl,z=y.transform,O=Rr.unblended,W=new vn(k.LEQUAL,vn.ReadWrite,[0,1]),Z=D.getCoordsTexture(),Q=D.sourceCache.getRenderableTiles(),ie=y.useProgram("terrainCoords");T.bindFramebuffer.set(D.getFramebuffer("coords").framebuffer),T.viewport.set([0,0,y.width/devicePixelRatio,y.height/devicePixelRatio]),T.clear({color:l.b7.transparent,depth:1}),D.coordsIndex=[];for(const De of Q){const we=D.getTerrainMesh(De.tileID),Ce=D.getTerrainData(De.tileID);T.activeTexture.set(k.TEXTURE0),k.bindTexture(k.TEXTURE_2D,Z.texture);const ke={u_terrain_coords_id:(255-D.coordsIndex.length)/255,u_texture:0,u_ele_delta:D.getMeshFrameDelta(z.zoom)},Le=z.getProjectionData({overscaledTileID:De.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});ie.draw(T,k.TRIANGLES,W,Yn.disabled,O,Un.backCCW,ke,Ce,Le,"terrain",we.vertexBuffer,we.indexBuffer,we.segments),D.coordsIndex.push(De.tileID.key)}T.bindFramebuffer.set(null),T.viewport.set([0,0,y.width,y.height])}(this,this.style.map.terrain))}renderLayer(e,n,u,f,y){u.isHidden(this.transform.zoom)||(u.type==="background"||u.type==="custom"||(f||[]).length)&&(this.id=u.id,l.c3(u)?function(D,T,k,z,O,W){if(D.renderPass!=="translucent")return;const{isRenderingToTexture:Z}=W,Q=Yn.disabled,ie=D.colorModeForRenderPass();(k._unevaluatedLayout.hasValue("text-variable-anchor")||k._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(De,we,Ce,ke,Le,Ee,Be,$e,Ve){const lt=we.transform,At=we.style.map.terrain,nt=Le==="map",ht=Ee==="map";for(const Ct of De){const nn=ke.getTile(Ct),rn=nn.getBucket(Ce);if(!rn||!rn.text||!rn.text.segments.get().length)continue;const Gt=l.ak(rn.textSizeData,lt.zoom),bn=l.az(nn,1,we.transform.zoom),Zn=Tn(nt,we.transform,bn),Sr=Ce.layout.get("icon-text-fit")!=="none"&&rn.hasIconData();if(Gt){const pi=Math.pow(2,lt.zoom-nn.tileID.overscaledZ),Jr=At?(Ti,Mi)=>At.getElevation(Ct,Ti,Mi):null;Gh(rn,nt,ht,Ve,lt,Zn,pi,Gt,Sr,l.aA(lt,nn,Be,$e),Ct.toUnwrapped(),Jr)}}}(z,D,k,T,k.layout.get("text-rotation-alignment"),k.layout.get("text-pitch-alignment"),k.paint.get("text-translate"),k.paint.get("text-translate-anchor"),O),k.paint.get("icon-opacity").constantOr(1)!==0&&Vu(D,T,k,z,!1,k.paint.get("icon-translate"),k.paint.get("icon-translate-anchor"),k.layout.get("icon-rotation-alignment"),k.layout.get("icon-pitch-alignment"),k.layout.get("icon-keep-upright"),Q,ie,Z),k.paint.get("text-opacity").constantOr(1)!==0&&Vu(D,T,k,z,!0,k.paint.get("text-translate"),k.paint.get("text-translate-anchor"),k.layout.get("text-rotation-alignment"),k.layout.get("text-pitch-alignment"),k.layout.get("text-keep-upright"),Q,ie,Z),T.map.showCollisionBoxes&&(Kc(D,T,k,z,!0),Kc(D,T,k,z,!1))}(e,n,u,f,this.style.placement.variableOffsets,y):l.c4(u)?function(D,T,k,z,O){if(D.renderPass!=="translucent")return;const{isRenderingToTexture:W}=O,Z=k.paint.get("circle-opacity"),Q=k.paint.get("circle-stroke-width"),ie=k.paint.get("circle-stroke-opacity"),De=!k.layout.get("circle-sort-key").isConstant();if(Z.constantOr(1)===0&&(Q.constantOr(1)===0||ie.constantOr(1)===0))return;const we=D.context,Ce=we.gl,ke=D.transform,Le=D.getDepthModeForSublayer(0,vn.ReadOnly),Ee=Yn.disabled,Be=D.colorModeForRenderPass(),$e=[],Ve=ke.getCircleRadiusCorrection();for(let lt=0;lt<z.length;lt++){const At=z[lt],nt=T.getTile(At),ht=nt.getBucket(k);if(!ht)continue;const Ct=k.paint.get("circle-translate"),nn=k.paint.get("circle-translate-anchor"),rn=l.aA(ke,nt,Ct,nn),Gt=ht.programConfigurations.get(k.id),bn=D.useProgram("circle",Gt),Zn=ht.layoutVertexBuffer,Sr=ht.indexBuffer,pi=D.style.map.terrain&&D.style.map.terrain.getTerrainData(At),Jr={programConfiguration:Gt,program:bn,layoutVertexBuffer:Zn,indexBuffer:Sr,uniformValues:X(D,nt,k,rn,Ve),terrainData:pi,projectionData:ke.getProjectionData({overscaledTileID:At,applyGlobeMatrix:!W,applyTerrainMatrix:!0})};if(De){const Ti=ht.segments.get();for(const Mi of Ti)$e.push({segments:new l.aJ([Mi]),sortKey:Mi.sortKey,state:Jr})}else $e.push({segments:ht.segments,sortKey:0,state:Jr})}De&&$e.sort((lt,At)=>lt.sortKey-At.sortKey);for(const lt of $e){const{programConfiguration:At,program:nt,layoutVertexBuffer:ht,indexBuffer:Ct,uniformValues:nn,terrainData:rn,projectionData:Gt}=lt.state;nt.draw(we,Ce.TRIANGLES,Le,Ee,Be,Un.backCCW,nn,rn,Gt,k.id,ht,Ct,lt.segments,k.paint,D.transform.zoom,At)}}(e,n,u,f,y):l.c5(u)?function(D,T,k,z,O){if(k.paint.get("heatmap-opacity")===0)return;const W=D.context,{isRenderingToTexture:Z,isRenderingGlobe:Q}=O;if(D.style.map.terrain){for(const ie of z){const De=T.getTile(ie);T.hasRenderableParent(ie)||(D.renderPass==="offscreen"?ml(D,De,k,ie,Q):D.renderPass==="translucent"&&Zu(D,k,ie,Z,Q))}W.viewport.set([0,0,D.width,D.height])}else D.renderPass==="offscreen"?function(ie,De,we,Ce){const ke=ie.context,Le=ke.gl,Ee=ie.transform,Be=Yn.disabled,$e=new Rr([Le.ONE,Le.ONE],l.b7.transparent,[!0,!0,!0,!0]);(function(Ve,lt,At){const nt=Ve.gl;Ve.activeTexture.set(nt.TEXTURE1),Ve.viewport.set([0,0,lt.width/4,lt.height/4]);let ht=At.heatmapFbos.get(l.bW);ht?(nt.bindTexture(nt.TEXTURE_2D,ht.colorAttachment.get()),Ve.bindFramebuffer.set(ht.framebuffer)):(ht=Wu(Ve,lt.width/4,lt.height/4),At.heatmapFbos.set(l.bW,ht))})(ke,ie,we),ke.clear({color:l.b7.transparent});for(let Ve=0;Ve<Ce.length;Ve++){const lt=Ce[Ve];if(De.hasRenderableParent(lt))continue;const At=De.getTile(lt),nt=At.getBucket(we);if(!nt)continue;const ht=nt.programConfigurations.get(we.id),Ct=ie.useProgram("heatmap",ht),nn=Ee.getProjectionData({overscaledTileID:lt,applyGlobeMatrix:!0,applyTerrainMatrix:!1}),rn=Ee.getCircleRadiusCorrection();Ct.draw(ke,Le.TRIANGLES,vn.disabled,Be,$e,Un.backCCW,st(At,Ee.zoom,we.paint.get("heatmap-intensity"),rn),null,nn,we.id,nt.layoutVertexBuffer,nt.indexBuffer,nt.segments,we.paint,Ee.zoom,ht)}ke.viewport.set([0,0,ie.width,ie.height])}(D,T,k,z):D.renderPass==="translucent"&&function(ie,De){const we=ie.context,Ce=we.gl;we.setColorMode(ie.colorModeForRenderPass());const ke=De.heatmapFbos.get(l.bW);ke&&(we.activeTexture.set(Ce.TEXTURE0),Ce.bindTexture(Ce.TEXTURE_2D,ke.colorAttachment.get()),we.activeTexture.set(Ce.TEXTURE1),P0(we,De).bind(Ce.LINEAR,Ce.CLAMP_TO_EDGE),ie.useProgram("heatmapTexture").draw(we,Ce.TRIANGLES,vn.disabled,Yn.disabled,ie.colorModeForRenderPass(),Un.disabled,Bt(ie,De,0,1),null,null,De.id,ie.viewportBuffer,ie.quadTriangleIndexBuffer,ie.viewportSegments,De.paint,ie.transform.zoom))}(D,k)}(e,n,u,f,y):l.c6(u)?function(D,T,k,z,O){if(D.renderPass!=="translucent")return;const{isRenderingToTexture:W}=O,Z=k.paint.get("line-opacity"),Q=k.paint.get("line-width");if(Z.constantOr(1)===0||Q.constantOr(1)===0)return;const ie=D.getDepthModeForSublayer(0,vn.ReadOnly),De=D.colorModeForRenderPass(),we=k.paint.get("line-dasharray"),Ce=k.paint.get("line-pattern"),ke=Ce.constantOr(1),Le=k.paint.get("line-gradient"),Ee=k.getCrossfadeParameters(),Be=ke?"linePattern":we?"lineSDF":Le?"lineGradient":"line",$e=D.context,Ve=$e.gl,lt=D.transform;let At=!0;for(const nt of z){const ht=T.getTile(nt);if(ke&&!ht.patternsLoaded())continue;const Ct=ht.getBucket(k);if(!Ct)continue;const nn=Ct.programConfigurations.get(k.id),rn=D.context.program.get(),Gt=D.useProgram(Be,nn),bn=At||Gt.program!==rn,Zn=D.style.map.terrain&&D.style.map.terrain.getTerrainData(nt),Sr=Ce.constantOr(null);if(Sr&&ht.imageAtlas){const Tr=ht.imageAtlas,Cr=Tr.patternPositions[Sr.to.toString()],qi=Tr.patternPositions[Sr.from.toString()];Cr&&qi&&nn.setConstantPatternPositions(Cr,qi)}const pi=lt.getProjectionData({overscaledTileID:nt,applyGlobeMatrix:!W,applyTerrainMatrix:!0}),Jr=lt.getPixelScale(),Ti=ke?Oa(D,ht,k,Jr,Ee):we?Uo(D,ht,k,Jr,we,Ee):Le?hi(D,ht,k,Jr,Ct.lineClipsArray.length):Qn(D,ht,k,Jr);if(ke)$e.activeTexture.set(Ve.TEXTURE0),ht.imageAtlasTexture.bind(Ve.LINEAR,Ve.CLAMP_TO_EDGE),nn.updatePaintBuffers(Ee);else if(we&&(bn||D.lineAtlas.dirty))$e.activeTexture.set(Ve.TEXTURE0),D.lineAtlas.bind($e);else if(Le){const Tr=Ct.gradients[k.id];let Cr=Tr.texture;if(k.gradientVersion!==Tr.version){let qi=256;if(k.stepInterpolant){const xa=T.getSource().maxzoom,ua=nt.canonical.z===xa?Math.ceil(1<<D.transform.maxZoom-nt.canonical.z):1;qi=l.ae(l.bX(Ct.maxLineLength/l.Z*1024*ua),256,$e.maxTextureSize)}Tr.gradient=l.bY({expression:k.gradientExpression(),evaluationKey:"lineProgress",resolution:qi,image:Tr.gradient||void 0,clips:Ct.lineClipsArray}),Tr.texture?Tr.texture.update(Tr.gradient):Tr.texture=new Pt($e,Tr.gradient,Ve.RGBA),Tr.version=k.gradientVersion,Cr=Tr.texture}$e.activeTexture.set(Ve.TEXTURE0),Cr.bind(k.stepInterpolant?Ve.NEAREST:Ve.LINEAR,Ve.CLAMP_TO_EDGE)}const Mi=D.stencilModeForClipping(nt);Gt.draw($e,Ve.TRIANGLES,ie,Mi,De,Un.disabled,Ti,Zn,pi,k.id,Ct.layoutVertexBuffer,Ct.indexBuffer,Ct.segments,k.paint,D.transform.zoom,nn,Ct.layoutVertexBuffer2),At=!1}}(e,n,u,f,y):l.c7(u)?function(D,T,k,z,O){const W=k.paint.get("fill-color"),Z=k.paint.get("fill-opacity");if(Z.constantOr(1)===0)return;const{isRenderingToTexture:Q}=O,ie=D.colorModeForRenderPass(),De=k.paint.get("fill-pattern"),we=D.opaquePassEnabledForLayer()&&!De.constantOr(1)&&W.constantOr(l.b7.transparent).a===1&&Z.constantOr(0)===1?"opaque":"translucent";if(D.renderPass===we){const Ce=D.getDepthModeForSublayer(1,D.renderPass==="opaque"?vn.ReadWrite:vn.ReadOnly);Ol(D,T,k,z,Ce,ie,!1,Q)}if(D.renderPass==="translucent"&&k.paint.get("fill-antialias")){const Ce=D.getDepthModeForSublayer(k.getPaintProperty("fill-outline-color")?2:0,vn.ReadOnly);Ol(D,T,k,z,Ce,ie,!0,Q)}}(e,n,u,f,y):l.c8(u)?function(D,T,k,z,O){const W=k.paint.get("fill-extrusion-opacity");if(W===0)return;const{isRenderingToTexture:Z}=O;if(D.renderPass==="translucent"){const Q=new vn(D.context.gl.LEQUAL,vn.ReadWrite,D.depthRangeFor3D);if(W!==1||k.paint.get("fill-extrusion-pattern").constantOr(1))Fi(D,T,k,z,Q,Yn.disabled,Rr.disabled,Z),Fi(D,T,k,z,Q,D.stencilModeFor3D(),D.colorModeForRenderPass(),Z);else{const ie=D.colorModeForRenderPass();Fi(D,T,k,z,Q,Yn.disabled,ie,Z)}}}(e,n,u,f,y):l.c9(u)?function(D,T,k,z,O){if(D.renderPass!=="offscreen"&&D.renderPass!=="translucent")return;const{isRenderingToTexture:W}=O,Z=D.context,Q=D.style.projection.useSubdivision,ie=D.getDepthModeForSublayer(0,vn.ReadOnly),De=D.colorModeForRenderPass();if(D.renderPass==="offscreen")(function(we,Ce,ke,Le,Ee,Be,$e){const Ve=we.context,lt=Ve.gl;for(const At of ke){const nt=Ce.getTile(At),ht=nt.dem;if(!ht||!ht.data||!nt.needsHillshadePrepare)continue;const Ct=ht.dim,nn=ht.stride,rn=ht.getPixels();if(Ve.activeTexture.set(lt.TEXTURE1),Ve.pixelStoreUnpackPremultiplyAlpha.set(!1),nt.demTexture=nt.demTexture||we.getTileTexture(nn),nt.demTexture){const bn=nt.demTexture;bn.update(rn,{premultiply:!1}),bn.bind(lt.NEAREST,lt.CLAMP_TO_EDGE)}else nt.demTexture=new Pt(Ve,rn,lt.RGBA,{premultiply:!1}),nt.demTexture.bind(lt.NEAREST,lt.CLAMP_TO_EDGE);Ve.activeTexture.set(lt.TEXTURE0);let Gt=nt.fbo;if(!Gt){const bn=new Pt(Ve,{width:Ct,height:Ct,data:null},lt.RGBA);bn.bind(lt.LINEAR,lt.CLAMP_TO_EDGE),Gt=nt.fbo=Ve.createFramebuffer(Ct,Ct,!0,!1),Gt.colorAttachment.set(bn.texture)}Ve.bindFramebuffer.set(Gt.framebuffer),Ve.viewport.set([0,0,Ct,Ct]),we.useProgram("hillshadePrepare").draw(Ve,lt.TRIANGLES,Ee,Be,$e,Un.disabled,Bn(nt.tileID,ht),null,null,Le.id,we.rasterBoundsBuffer,we.quadTriangleIndexBuffer,we.rasterBoundsSegments),nt.needsHillshadePrepare=!1}})(D,T,z,k,ie,Yn.disabled,De),Z.viewport.set([0,0,D.width,D.height]);else if(D.renderPass==="translucent")if(Q){const[we,Ce,ke]=D.stencilConfigForOverlapTwoPass(z);Fa(D,T,k,ke,we,ie,De,!1,W),Fa(D,T,k,ke,Ce,ie,De,!0,W)}else{const[we,Ce]=D.getStencilConfigForOverlapAndUpdateStencilID(z);Fa(D,T,k,Ce,we,ie,De,!1,W)}}(e,n,u,f,y):l.ca(u)?function(D,T,k,z,O){if(D.renderPass!=="translucent"||k.paint.get("raster-opacity")===0||!z.length)return;const{isRenderingToTexture:W}=O,Z=T.getSource(),Q=D.style.projection.useSubdivision;if(Z instanceof vr)yc(D,T,k,z,null,!1,!1,Z.tileCoords,Z.flippedWindingOrder,W);else if(Q){const[ie,De,we]=D.stencilConfigForOverlapTwoPass(z);yc(D,T,k,we,ie,!1,!0,mc,!1,W),yc(D,T,k,we,De,!0,!0,mc,!1,W)}else{const[ie,De]=D.getStencilConfigForOverlapAndUpdateStencilID(z);yc(D,T,k,De,ie,!1,!0,mc,!1,W)}}(e,n,u,f,y):l.cb(u)?function(D,T,k,z,O){const W=k.paint.get("background-color"),Z=k.paint.get("background-opacity");if(Z===0)return;const{isRenderingToTexture:Q}=O,ie=D.context,De=ie.gl,we=D.style.projection,Ce=D.transform,ke=Ce.tileSize,Le=k.paint.get("background-pattern");if(D.isPatternMissing(Le))return;const Ee=!Le&&W.a===1&&Z===1&&D.opaquePassEnabledForLayer()?"opaque":"translucent";if(D.renderPass!==Ee)return;const Be=Yn.disabled,$e=D.getDepthModeForSublayer(0,Ee==="opaque"?vn.ReadWrite:vn.ReadOnly),Ve=D.colorModeForRenderPass(),lt=D.useProgram(Le?"backgroundPattern":"background"),At=z||Ye(Ce,{tileSize:ke,terrain:D.style.map.terrain});Le&&(ie.activeTexture.set(De.TEXTURE0),D.imageManager.bind(D.context));const nt=k.getCrossfadeParameters();for(const ht of At){const Ct=Ce.getProjectionData({overscaledTileID:ht,applyGlobeMatrix:!Q,applyTerrainMatrix:!0}),nn=Le?Rh(Z,D,Le,{tileID:ht,tileSize:ke},nt):Vc(Z,W),rn=D.style.map.terrain&&D.style.map.terrain.getTerrainData(ht),Gt=we.getMeshFromTileID(ie,ht.canonical,!1,!0,"raster");lt.draw(ie,De.TRIANGLES,$e,Be,Ve,Un.backCCW,nn,rn,Ct,k.id,Gt.vertexBuffer,Gt.indexBuffer,Gt.segments)}}(e,0,u,f,y):l.cc(u)&&function(D,T,k,z){const{isRenderingGlobe:O}=z,W=D.context,Z=k.implementation,Q=D.style.projection,ie=D.transform,De=ie.getProjectionDataForCustomLayer(O),we={farZ:ie.farZ,nearZ:ie.nearZ,fov:ie.fov*Math.PI/180,modelViewProjectionMatrix:ie.modelViewProjectionMatrix,projectionMatrix:ie.projectionMatrix,shaderData:{variantName:Q.shaderVariantName,vertexShaderPrelude:`const float PI = 3.141592653589793;
uniform mat4 u_projection_matrix;
${Q.shaderPreludeCode.vertexSource}`,define:Q.shaderDefine},defaultProjectionData:De},Ce=Z.renderingMode?Z.renderingMode:"2d";if(D.renderPass==="offscreen"){const ke=Z.prerender;ke&&(D.setCustomLayerDefaults(),W.setColorMode(D.colorModeForRenderPass()),ke.call(Z,W.gl,we),W.setDirty(),D.setBaseState())}else if(D.renderPass==="translucent"){D.setCustomLayerDefaults(),W.setColorMode(D.colorModeForRenderPass()),W.setStencilMode(Yn.disabled);const ke=Ce==="3d"?D.getDepthModeFor3D():D.getDepthModeForSublayer(0,vn.ReadOnly);W.setDepthMode(ke),Z.render(W.gl,we),W.setDirty(),D.setBaseState(),W.bindFramebuffer.set(null)}}(e,0,u,y))}saveTileTexture(e){const n=this._tileTextures[e.size[0]];n?n.push(e):this._tileTextures[e.size[0]]=[e]}getTileTexture(e){const n=this._tileTextures[e];return n&&n.length>0?n.pop():null}isPatternMissing(e){if(!e)return!1;if(!e.from||!e.to)return!0;const n=this.imageManager.getPattern(e.from.toString()),u=this.imageManager.getPattern(e.to.toString());return!n||!u}useProgram(e,n,u=!1,f=[]){this.cache=this.cache||{};const y=!!this.style.map.terrain,D=this.style.projection,T=u?Mn.projectionMercator:D.shaderPreludeCode,k=u?ra:D.shaderDefine,z=e+(n?n.cacheKey:"")+`/${u?er:D.shaderVariantName}`+(this._showOverdrawInspector?"/overdraw":"")+(y?"/terrain":"")+(f?`/${f.join("/")}`:"");return this.cache[z]||(this.cache[z]=new zl(this.context,Mn[e],n,o0[e],this._showOverdrawInspector,y,T,k,f)),this.cache[z]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new Pt(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:e,drawingBufferHeight:n}=this.context.gl;return this.width!==e||this.height!==n}}function Nl(m,e){let n,u=!1,f=null,y=null;const D=()=>{f=null,u&&(m.apply(y,n),f=setTimeout(D,e),u=!1)};return(...T)=>(u=!0,y=this,n=T,f||D(),f)}class Hs{constructor(e){this._getCurrentHash=()=>{const n=window.location.hash.replace("#","");if(this._hashName){let u;return n.split("&").map(f=>f.split("=")).forEach(f=>{f[0]===this._hashName&&(u=f)}),(u&&u[1]||"").split("/")}return n.split("/")},this._onHashChange=()=>{const n=this._getCurrentHash();if(!this._isValidHash(n))return!1;const u=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(n[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+n[2],+n[1]],zoom:+n[0],bearing:u,pitch:+(n[4]||0)}),!0},this._updateHashUnthrottled=()=>{const n=window.location.href.replace(/(#.*)?$/,this.getHashString());window.history.replaceState(window.history.state,null,n)},this._removeHash=()=>{const n=this._getCurrentHash();if(n.length===0)return;const u=n.join("/");let f=u;f.split("&").length>0&&(f=f.split("&")[0]),this._hashName&&(f=`${this._hashName}=${u}`);let y=window.location.hash.replace(f,"");y.startsWith("#&")?y=y.slice(0,1)+y.slice(2):y==="#"&&(y="");let D=window.location.href.replace(/(#.+)?$/,y);D=D.replace("&&","&"),window.history.replaceState(window.history.state,null,D)},this._updateHash=Nl(this._updateHashUnthrottled,300),this._hashName=e&&encodeURIComponent(e)}addTo(e){return this._map=e,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),this._removeHash(),delete this._map,this}getHashString(e){const n=this._map.getCenter(),u=Math.round(100*this._map.getZoom())/100,f=Math.ceil((u*Math.LN2+Math.log(512/360/.5))/Math.LN10),y=Math.pow(10,f),D=Math.round(n.lng*y)/y,T=Math.round(n.lat*y)/y,k=this._map.getBearing(),z=this._map.getPitch();let O="";if(O+=e?`/${D}/${T}/${u}`:`${u}/${T}/${D}`,(k||z)&&(O+="/"+Math.round(10*k)/10),z&&(O+=`/${Math.round(z)}`),this._hashName){const W=this._hashName;let Z=!1;const Q=window.location.hash.slice(1).split("&").map(ie=>{const De=ie.split("=")[0];return De===W?(Z=!0,`${De}=${O}`):ie}).filter(ie=>ie);return Z||Q.push(`${W}=${O}`),`#${Q.join("&")}`}return`#${O}`}_isValidHash(e){if(e.length<3||e.some(isNaN))return!1;try{new l.Q(+e[2],+e[1])}catch{return!1}const n=+e[0],u=+(e[3]||0),f=+(e[4]||0);return n>=this._map.getMinZoom()&&n<=this._map.getMaxZoom()&&u>=-180&&u<=180&&f>=this._map.getMinPitch()&&f<=this._map.getMaxPitch()}}const qa={linearity:.3,easing:l.cd(0,0,.3,1)},Lo=l.e({deceleration:2500,maxSpeed:1400},qa),z0=l.e({deceleration:20,maxSpeed:1400},qa),pe=l.e({deceleration:1e3,maxSpeed:360},qa),lu=l.e({deceleration:1e3,maxSpeed:90},qa),_l=l.e({deceleration:1e3,maxSpeed:360},qa);class Ka{constructor(e){this._map=e,this.clear()}clear(){this._inertiaBuffer=[]}record(e){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:ce.now(),settings:e})}_drainInertiaBuffer(){const e=this._inertiaBuffer,n=ce.now();for(;e.length>0&&n-e[0].time>160;)e.shift()}_onMoveEnd(e){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const n={zoom:0,bearing:0,pitch:0,roll:0,pan:new l.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:y}of this._inertiaBuffer)n.zoom+=y.zoomDelta||0,n.bearing+=y.bearingDelta||0,n.pitch+=y.pitchDelta||0,n.roll+=y.rollDelta||0,y.panDelta&&n.pan._add(y.panDelta),y.around&&(n.around=y.around),y.pinchAround&&(n.pinchAround=y.pinchAround);const u=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,f={};if(n.pan.mag()){const y=s0(n.pan.mag(),u,l.e({},Lo,e||{})),D=n.pan.mult(y.amount/n.pan.mag()),T=this._map.cameraHelper.handlePanInertia(D,this._map.transform);f.center=T.easingCenter,f.offset=T.easingOffset,pr(f,y)}if(n.zoom){const y=s0(n.zoom,u,z0);f.zoom=this._map.transform.zoom+y.amount,pr(f,y)}if(n.bearing){const y=s0(n.bearing,u,pe);f.bearing=this._map.transform.bearing+l.ae(y.amount,-179,179),pr(f,y)}if(n.pitch){const y=s0(n.pitch,u,lu);f.pitch=this._map.transform.pitch+y.amount,pr(f,y)}if(n.roll){const y=s0(n.roll,u,_l);f.roll=this._map.transform.roll+l.ae(y.amount,-179,179),pr(f,y)}if(f.zoom||f.bearing){const y=n.pinchAround===void 0?n.around:n.pinchAround;f.around=y?this._map.unproject(y):this._map.getCenter()}return this.clear(),l.e(f,{noMoveStart:!0})}}function pr(m,e){(!m.duration||m.duration<e.duration)&&(m.duration=e.duration,m.easing=e.easing)}function s0(m,e,n){const{maxSpeed:u,linearity:f,deceleration:y}=n,D=l.ae(m*f/(e/1e3),-u,u),T=Math.abs(D)/(y*f);return{easing:n.easing,duration:1e3*T,amount:D*(T/2)}}class la extends l.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,n,u,f={}){u=u instanceof MouseEvent?u:new MouseEvent(e,u);const y=oe.mousePos(n.getCanvas(),u),D=n.unproject(y);super(e,l.e({point:y,lngLat:D,originalEvent:u},f)),this._defaultPrevented=!1,this.target=n}}class vl extends l.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,n,u){const f=e==="touchend"?u.changedTouches:u.touches,y=oe.touchPos(n.getCanvasContainer(),f),D=y.map(k=>n.unproject(k)),T=y.reduce((k,z,O,W)=>k.add(z.div(W.length)),new l.P(0,0));super(e,{points:y,point:T,lngLats:D,lngLat:n.unproject(T),originalEvent:u}),this._defaultPrevented=!1}}class mo extends l.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,n,u){super(e,{originalEvent:u}),this._defaultPrevented=!1}}class Si{constructor(e,n){this._map=e,this._clickTolerance=n.clickTolerance}reset(){delete this._mousedownPos}wheel(e){return this._firePreventable(new mo(e.type,this._map,e))}mousedown(e,n){return this._mousedownPos=n,this._firePreventable(new la(e.type,this._map,e))}mouseup(e){this._map.fire(new la(e.type,this._map,e))}click(e,n){this._mousedownPos&&this._mousedownPos.dist(n)>=this._clickTolerance||this._map.fire(new la(e.type,this._map,e))}dblclick(e){return this._firePreventable(new la(e.type,this._map,e))}mouseover(e){this._map.fire(new la(e.type,this._map,e))}mouseout(e){this._map.fire(new la(e.type,this._map,e))}touchstart(e){return this._firePreventable(new vl(e.type,this._map,e))}touchmove(e){this._map.fire(new vl(e.type,this._map,e))}touchend(e){this._map.fire(new vl(e.type,this._map,e))}touchcancel(e){this._map.fire(new vl(e.type,this._map,e))}_firePreventable(e){if(this._map.fire(e),e.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Ci{constructor(e){this._map=e}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(e){this._map.fire(new la(e.type,this._map,e))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new la("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(e){this._delayContextMenu?this._contextMenuEvent=e:this._ignoreContextMenu||this._map.fire(new la(e.type,this._map,e)),this._map.listens("contextmenu")&&e.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class As{constructor(e){this._map=e}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(e){return this.transform.screenPointToLocation(l.P.convert(e),this._map.terrain)}}class Na{constructor(e,n){this._map=e,this._tr=new As(e),this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=n.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(e,n){this.isEnabled()&&e.shiftKey&&e.button===0&&(oe.disableDrag(),this._startPos=this._lastPos=n,this._active=!0)}mousemoveWindow(e,n){if(!this._active)return;const u=n;if(this._lastPos.equals(u)||!this._box&&u.dist(this._startPos)<this._clickTolerance)return;const f=this._startPos;this._lastPos=u,this._box||(this._box=oe.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",e));const y=Math.min(f.x,u.x),D=Math.max(f.x,u.x),T=Math.min(f.y,u.y),k=Math.max(f.y,u.y);oe.setTransform(this._box,`translate(${y}px,${T}px)`),this._box.style.width=D-y+"px",this._box.style.height=k-T+"px"}mouseupWindow(e,n){if(!this._active||e.button!==0)return;const u=this._startPos,f=n;if(this.reset(),oe.suppressClick(),u.x!==f.x||u.y!==f.y)return this._map.fire(new l.l("boxzoomend",{originalEvent:e})),{cameraAnimation:y=>y.fitScreenCoordinates(u,f,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",e)}keydown(e){this._active&&e.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",e))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(oe.remove(this._box),this._box=null),oe.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(e,n){return this._map.fire(new l.l(e,{originalEvent:n}))}}function Xa(m,e){if(m.length!==e.length)throw new Error(`The number of touches and points are not equal - touches ${m.length}, points ${e.length}`);const n={};for(let u=0;u<m.length;u++)n[m[u].identifier]=e[u];return n}class yo{constructor(e){this.reset(),this.numTouches=e.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(e,n,u){(this.centroid||u.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=e.timeStamp),u.length===this.numTouches&&(this.centroid=function(f){const y=new l.P(0,0);for(const D of f)y._add(D);return y.div(f.length)}(n),this.touches=Xa(u,n)))}touchmove(e,n,u){if(this.aborted||!this.centroid)return;const f=Xa(u,n);for(const y in this.touches){const D=f[y];(!D||D.dist(this.touches[y])>30)&&(this.aborted=!0)}}touchend(e,n,u){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),u.length===0){const f=!this.aborted&&this.centroid;if(this.reset(),f)return f}}}class xl{constructor(e){this.singleTap=new yo(e),this.numTaps=e.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(e,n,u){this.singleTap.touchstart(e,n,u)}touchmove(e,n,u){this.singleTap.touchmove(e,n,u)}touchend(e,n,u){const f=this.singleTap.touchend(e,n,u);if(f){const y=e.timeStamp-this.lastTime<500,D=!this.lastTap||this.lastTap.dist(f)<30;if(y&&D||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=f,this.count===this.numTaps)return this.reset(),f}}}class Bo{constructor(e){this._tr=new As(e),this._zoomIn=new xl({numTouches:1,numTaps:2}),this._zoomOut=new xl({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(e,n,u){this._zoomIn.touchstart(e,n,u),this._zoomOut.touchstart(e,n,u)}touchmove(e,n,u){this._zoomIn.touchmove(e,n,u),this._zoomOut.touchmove(e,n,u)}touchend(e,n,u){const f=this._zoomIn.touchend(e,n,u),y=this._zoomOut.touchend(e,n,u),D=this._tr;return f?(this._active=!0,e.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:T=>T.easeTo({duration:300,zoom:D.zoom+1,around:D.unproject(f)},{originalEvent:e})}):y?(this._active=!0,e.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:T=>T.easeTo({duration:300,zoom:D.zoom-1,around:D.unproject(y)},{originalEvent:e})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Ma{constructor(e){this._enabled=!!e.enable,this._moveStateManager=e.moveStateManager,this._clickTolerance=e.clickTolerance||1,this._moveFunction=e.move,this._activateOnStart=!!e.activateOnStart,e.assignEvents(this),this.reset()}reset(e){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(e)}_move(...e){const n=this._moveFunction(...e);if(n.bearingDelta||n.pitchDelta||n.rollDelta||n.around||n.panDelta)return this._active=!0,n}dragStart(e,n){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(e)&&(this._moveStateManager.startMove(e),this._lastPoint=Array.isArray(n)?n[0]:n,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(e,n){if(!this.isEnabled())return;const u=this._lastPoint;if(!u)return;if(e.preventDefault(),!this._moveStateManager.isValidMoveEvent(e))return void this.reset(e);const f=Array.isArray(n)?n[0]:n;return!this._moved&&f.dist(u)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=f,this._move(u,f))}dragEnd(e){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(e)&&(this._moved&&oe.suppressClick(),this.reset(e))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const qs={0:1,2:2};class uu{constructor(e){this._correctEvent=e.checkCorrectEvent}startMove(e){const n=oe.mouseButton(e);this._eventButton=n}endMove(e){delete this._eventButton}isValidStartEvent(e){return this._correctEvent(e)}isValidMoveEvent(e){return!function(n,u){const f=qs[u];return n.buttons===void 0||(n.buttons&f)!==f}(e,this._eventButton)}isValidEndEvent(e){return oe.mouseButton(e)===this._eventButton}}class Hi{constructor(){this._firstTouch=void 0}_isOneFingerTouch(e){return e.targetTouches.length===1}_isSameTouchEvent(e){return e.targetTouches[0].identifier===this._firstTouch}startMove(e){this._firstTouch=e.targetTouches[0].identifier}endMove(e){delete this._firstTouch}isValidStartEvent(e){return this._isOneFingerTouch(e)}isValidMoveEvent(e){return this._isOneFingerTouch(e)&&this._isSameTouchEvent(e)}isValidEndEvent(e){return this._isOneFingerTouch(e)&&this._isSameTouchEvent(e)}}class cu{constructor(e=new uu({checkCorrectEvent:()=>!0}),n=new Hi){this.mouseMoveStateManager=e,this.oneFingerTouchMoveStateManager=n}_executeRelevantHandler(e,n,u){return e instanceof MouseEvent?n(e):typeof TouchEvent<"u"&&e instanceof TouchEvent?u(e):void 0}startMove(e){this._executeRelevantHandler(e,n=>this.mouseMoveStateManager.startMove(n),n=>this.oneFingerTouchMoveStateManager.startMove(n))}endMove(e){this._executeRelevantHandler(e,n=>this.mouseMoveStateManager.endMove(n),n=>this.oneFingerTouchMoveStateManager.endMove(n))}isValidStartEvent(e){return this._executeRelevantHandler(e,n=>this.mouseMoveStateManager.isValidStartEvent(n),n=>this.oneFingerTouchMoveStateManager.isValidStartEvent(n))}isValidMoveEvent(e){return this._executeRelevantHandler(e,n=>this.mouseMoveStateManager.isValidMoveEvent(n),n=>this.oneFingerTouchMoveStateManager.isValidMoveEvent(n))}isValidEndEvent(e){return this._executeRelevantHandler(e,n=>this.mouseMoveStateManager.isValidEndEvent(n),n=>this.oneFingerTouchMoveStateManager.isValidEndEvent(n))}}const Ks=m=>{m.mousedown=m.dragStart,m.mousemoveWindow=m.dragMove,m.mouseup=m.dragEnd,m.contextmenu=e=>{e.preventDefault()}};class Yc{constructor(e,n){this._clickTolerance=e.clickTolerance||1,this._map=n,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new l.P(0,0)}_shouldBePrevented(e){return e<(this._map.cooperativeGestures.isEnabled()?2:1)}touchstart(e,n,u){return this._calculateTransform(e,n,u)}touchmove(e,n,u){if(this._active){if(!this._shouldBePrevented(u.length))return e.preventDefault(),this._calculateTransform(e,n,u);this._map.cooperativeGestures.notifyGestureBlocked("touch_pan",e)}}touchend(e,n,u){this._calculateTransform(e,n,u),this._active&&this._shouldBePrevented(u.length)&&this.reset()}touchcancel(){this.reset()}_calculateTransform(e,n,u){u.length>0&&(this._active=!0);const f=Xa(u,n),y=new l.P(0,0),D=new l.P(0,0);let T=0;for(const z in f){const O=f[z],W=this._touches[z];W&&(y._add(O),D._add(O.sub(W)),T++,f[z]=O)}if(this._touches=f,this._shouldBePrevented(T)||!D.mag())return;const k=D.div(T);return this._sum._add(k),this._sum.mag()<this._clickTolerance?void 0:{around:y.div(T),panDelta:k}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class _c{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(e,n,u){this._firstTwoTouches||u.length<2||(this._firstTwoTouches=[u[0].identifier,u[1].identifier],this._start([n[0],n[1]]))}touchmove(e,n,u){if(!this._firstTwoTouches)return;e.preventDefault();const[f,y]=this._firstTwoTouches,D=vc(u,n,f),T=vc(u,n,y);if(!D||!T)return;const k=this._aroundCenter?null:D.add(T).div(2);return this._move([D,T],k,e)}touchend(e,n,u){if(!this._firstTwoTouches)return;const[f,y]=this._firstTwoTouches,D=vc(u,n,f),T=vc(u,n,y);D&&T||(this._active&&oe.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(e){this._enabled=!0,this._aroundCenter=!!e&&e.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function vc(m,e,n){for(let u=0;u<m.length;u++)if(m[u].identifier===n)return e[u]}function l0(m,e){return Math.log(m/e)/Math.LN2}class Ss extends _c{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(e){this._startDistance=this._distance=e[0].dist(e[1])}_move(e,n){const u=this._distance;if(this._distance=e[0].dist(e[1]),this._active||!(Math.abs(l0(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:l0(this._distance,u),pinchAround:n}}}function Oo(m,e){return 180*m.angleWith(e)/Math.PI}class un extends _c{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1])}_move(e,n,u){const f=this._vector;if(this._vector=e[0].sub(e[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Oo(this._vector,f),pinchAround:n}}_isBelowThreshold(e){this._minDiameter=Math.min(this._minDiameter,e.mag());const n=25/(Math.PI*this._minDiameter)*360,u=Oo(e,this._startVector);return Math.abs(u)<n}}function hu(m){return Math.abs(m.y)>Math.abs(m.x)}class pu extends _c{constructor(e){super(),this._currentTouchCount=0,this._map=e}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(e,n,u){super.touchstart(e,n,u),this._currentTouchCount=u.length}_start(e){this._lastPoints=e,hu(e[0].sub(e[1]))&&(this._valid=!1)}_move(e,n,u){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;const f=e[0].sub(this._lastPoints[0]),y=e[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(f,y,u.timeStamp),this._valid?(this._lastPoints=e,this._active=!0,{pitchDelta:(f.y+y.y)/2*-.5}):void 0}gestureBeginsVertically(e,n,u){if(this._valid!==void 0)return this._valid;const f=e.mag()>=2,y=n.mag()>=2;if(!f&&!y)return;if(!f||!y)return this._firstMove===void 0&&(this._firstMove=u),u-this._firstMove<100&&void 0;const D=e.y>0==n.y>0;return hu(e)&&hu(n)&&D}}const Ts={panStep:100,bearingStep:15,pitchStep:10};class Ya{constructor(e){this._tr=new As(e);const n=Ts;this._panStep=n.panStep,this._bearingStep=n.bearingStep,this._pitchStep=n.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(e){if(e.altKey||e.ctrlKey||e.metaKey)return;let n=0,u=0,f=0,y=0,D=0;switch(e.keyCode){case 61:case 107:case 171:case 187:n=1;break;case 189:case 109:case 173:n=-1;break;case 37:e.shiftKey?u=-1:(e.preventDefault(),y=-1);break;case 39:e.shiftKey?u=1:(e.preventDefault(),y=1);break;case 38:e.shiftKey?f=1:(e.preventDefault(),D=-1);break;case 40:e.shiftKey?f=-1:(e.preventDefault(),D=1);break;default:return}return this._rotationDisabled&&(u=0,f=0),{cameraAnimation:T=>{const k=this._tr;T.easeTo({duration:300,easeId:"keyboardHandler",easing:bl,zoom:n?Math.round(k.zoom)+n*(e.shiftKey?2:1):k.zoom,bearing:k.bearing+u*this._bearingStep,pitch:k.pitch+f*this._pitchStep,offset:[-y*this._panStep,-D*this._panStep],center:k.center},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function bl(m){return m*(2-m)}const Xs=4.000244140625;class sr{constructor(e,n){this._onTimeout=u=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(u)},this._map=e,this._tr=new As(e),this._triggerRenderFrame=n,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(e){this._defaultZoomRate=e}setWheelZoomRate(e){this._wheelZoomRate=e}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!e&&e.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}_shouldBePrevented(e){return!!this._map.cooperativeGestures.isEnabled()&&!(e.ctrlKey||this._map.cooperativeGestures.isBypassed(e))}wheel(e){if(!this.isEnabled())return;if(this._shouldBePrevented(e))return void this._map.cooperativeGestures.notifyGestureBlocked("wheel_zoom",e);let n=e.deltaMode===WheelEvent.DOM_DELTA_LINE?40*e.deltaY:e.deltaY;const u=ce.now(),f=u-(this._lastWheelEventTime||0);this._lastWheelEventTime=u,n!==0&&n%Xs==0?this._type="wheel":n!==0&&Math.abs(n)<4?this._type="trackpad":f>400?(this._type=null,this._lastValue=n,this._timeout=setTimeout(this._onTimeout,40,e)):this._type||(this._type=Math.abs(f*n)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,n+=this._lastValue)),e.shiftKey&&n&&(n/=4),this._type&&(this._lastWheelEvent=e,this._delta-=n,this._active||this._start(e)),e.preventDefault()}_start(e){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const n=oe.mousePos(this._map.getCanvas(),e),u=this._tr;this._aroundPoint=this._aroundCenter?u.transform.locationToScreenPoint(l.Q.convert(u.center)):n,this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const e=this._tr.transform;if(typeof this._lastExpectedZoom=="number"){const T=e.zoom-this._lastExpectedZoom;typeof this._startZoom=="number"&&(this._startZoom+=T),typeof this._targetZoom=="number"&&(this._targetZoom+=T)}if(this._delta!==0){const T=this._type==="wheel"&&Math.abs(this._delta)>Xs?this._wheelZoomRate:this._defaultZoomRate;let k=2/(1+Math.exp(-Math.abs(this._delta*T)));this._delta<0&&k!==0&&(k=1/k);const z=typeof this._targetZoom!="number"?e.scale:l.ac(this._targetZoom);this._targetZoom=e.getConstrained(e.getCameraLngLat(),l.ah(z*k)).zoom,this._type==="wheel"&&(this._startZoom=e.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const n=typeof this._targetZoom!="number"?e.zoom:this._targetZoom,u=this._startZoom,f=this._easing;let y,D=!1;if(this._type==="wheel"&&u&&f){const T=ce.now()-this._lastWheelEventTime,k=Math.min((T+5)/200,1),z=f(k);y=l.B.number(u,n,z),k<1?this._frameId||(this._frameId=!0):D=!0}else y=n,D=!0;return this._active=!0,D&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._lastExpectedZoom,delete this._finishTimeout},200)),this._lastExpectedZoom=y,{noInertia:!0,needsRenderFrame:!D,zoomDelta:y-e.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(e){let n=l.cf;if(this._prevEase){const u=this._prevEase,f=(ce.now()-u.start)/u.duration,y=u.easing(f+.01)-u.easing(f),D=.27/Math.sqrt(y*y+1e-4)*.01,T=Math.sqrt(.0729-D*D);n=l.cd(D,T,.25,1)}return this._prevEase={start:ce.now(),duration:e,easing:n},n}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,delete this._lastExpectedZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class $l{constructor(e,n){this._clickZoom=e,this._tapZoom=n}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class xp{constructor(e){this._tr=new As(e),this.reset()}reset(){this._active=!1}dblclick(e,n){return e.preventDefault(),{cameraAnimation:u=>{u.easeTo({duration:300,zoom:this._tr.zoom+(e.shiftKey?-1:1),around:this._tr.unproject(n)},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class du{constructor(){this._tap=new xl({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(e,n,u){if(!this._swipePoint)if(this._tapTime){const f=n[0],y=e.timeStamp-this._tapTime<500,D=this._tapPoint.dist(f)<30;y&&D?u.length>0&&(this._swipePoint=f,this._swipeTouch=u[0].identifier):this.reset()}else this._tap.touchstart(e,n,u)}touchmove(e,n,u){if(this._tapTime){if(this._swipePoint){if(u[0].identifier!==this._swipeTouch)return;const f=n[0],y=f.y-this._swipePoint.y;return this._swipePoint=f,e.preventDefault(),this._active=!0,{zoomDelta:y/128}}}else this._tap.touchmove(e,n,u)}touchend(e,n,u){if(this._tapTime)this._swipePoint&&u.length===0&&this.reset();else{const f=this._tap.touchend(e,n,u);f&&(this._tapTime=e.timeStamp,this._tapPoint=f)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class G0{constructor(e,n,u){this._el=e,this._mousePan=n,this._touchPan=u}enable(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Qa{constructor(e,n,u,f){this._pitchWithRotate=e.pitchWithRotate,this._rollEnabled=e.rollEnabled,this._mouseRotate=n,this._mousePitch=u,this._mouseRoll=f}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable(),this._rollEnabled&&this._mouseRoll.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable(),this._mouseRoll.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())&&(!this._rollEnabled||this._mouseRoll.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()||this._mouseRoll.isActive()}}class Fo{constructor(e,n,u,f){this._el=e,this._touchZoom=n,this._touchRotate=u,this._tapDragZoom=f,this._rotationDisabled=!1,this._enabled=!0}enable(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class yi{constructor(e,n){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=e,this._options=n,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;const e=this._map.getCanvasContainer();e.classList.add("maplibregl-cooperative-gestures"),this._container=oe.create("div","maplibregl-cooperative-gesture-screen",e);let n=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(n=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));const u=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),f=document.createElement("div");f.className="maplibregl-desktop-message",f.textContent=n,this._container.appendChild(f);const y=document.createElement("div");y.className="maplibregl-mobile-message",y.textContent=u,this._container.appendChild(y),this._container.setAttribute("aria-hidden","true")}_destroyUI(){this._container&&(oe.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destroyUI()}isEnabled(){return this._enabled}isBypassed(e){return e[this._bypassKey]}notifyGestureBlocked(e,n){this._enabled&&(this._map.fire(new l.l("cooperativegestureprevented",{gestureType:e,originalEvent:n})),this._container.classList.add("maplibregl-show"),setTimeout(()=>{this._container.classList.remove("maplibregl-show")},100))}}const No=m=>m.zoom||m.drag||m.roll||m.pitch||m.rotate;class jl extends l.l{}function fu(m){return m.panDelta&&m.panDelta.mag()||m.zoomDelta||m.bearingDelta||m.pitchDelta||m.rollDelta}class u0{constructor(e,n){this.handleWindowEvent=f=>{this.handleEvent(f,`${f.type}Window`)},this.handleEvent=(f,y)=>{if(f.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const D=f.type==="renderFrame"?void 0:f,T={needsRenderFrame:!1},k={},z={};for(const{handlerName:Z,handler:Q,allowed:ie}of this._handlers){if(!Q.isEnabled())continue;let De;if(this._blockedByActive(z,ie,Z))Q.reset();else if(Q[y||f.type]){if(l.cg(f,y||f.type)){const we=oe.mousePos(this._map.getCanvas(),f);De=Q[y||f.type](f,we)}else if(l.ch(f,y||f.type)){const we=this._getMapTouches(f.touches),Ce=oe.touchPos(this._map.getCanvas(),we);De=Q[y||f.type](f,Ce,we)}else l.ci(y||f.type)||(De=Q[y||f.type](f));this.mergeHandlerResult(T,k,De,Z,D),De&&De.needsRenderFrame&&this._triggerRenderFrame()}(De||Q.isActive())&&(z[Z]=Q)}const O={};for(const Z in this._previousActiveHandlers)z[Z]||(O[Z]=D);this._previousActiveHandlers=z,(Object.keys(O).length||fu(T))&&(this._changes.push([T,k,O]),this._triggerRenderFrame()),(Object.keys(z).length||fu(T))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:W}=T;W&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],W(this._map))},this._map=e,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Ka(e),this._bearingSnap=n.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(n);const u=this._el;this._listeners=[[u,"touchstart",{passive:!0}],[u,"touchmove",{passive:!1}],[u,"touchend",void 0],[u,"touchcancel",void 0],[u,"mousedown",void 0],[u,"mousemove",void 0],[u,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[u,"mouseover",void 0],[u,"mouseout",void 0],[u,"dblclick",void 0],[u,"click",void 0],[u,"keydown",{capture:!1}],[u,"keyup",void 0],[u,"wheel",{passive:!1}],[u,"contextmenu",void 0],[window,"blur",void 0]];for(const[f,y,D]of this._listeners)oe.addEventListener(f,y,f===document?this.handleWindowEvent:this.handleEvent,D)}destroy(){for(const[e,n,u]of this._listeners)oe.removeEventListener(e,n,e===document?this.handleWindowEvent:this.handleEvent,u)}_addDefaultHandlers(e){const n=this._map,u=n.getCanvasContainer();this._add("mapEvent",new Si(n,e));const f=n.boxZoom=new Na(n,e);this._add("boxZoom",f),e.interactive&&e.boxZoom&&f.enable();const y=n.cooperativeGestures=new yi(n,e.cooperativeGestures);this._add("cooperativeGestures",y),e.cooperativeGestures&&y.enable();const D=new Bo(n),T=new xp(n);n.doubleClickZoom=new $l(T,D),this._add("tapZoom",D),this._add("clickZoom",T),e.interactive&&e.doubleClickZoom&&n.doubleClickZoom.enable();const k=new du;this._add("tapDragZoom",k);const z=n.touchPitch=new pu(n);this._add("touchPitch",z),e.interactive&&e.touchPitch&&n.touchPitch.enable(e.touchPitch);const O=()=>n.project(n.getCenter()),W=function({enable:Ee,clickTolerance:Be,aroundCenter:$e=!0,minPixelCenterThreshold:Ve=100,rotateDegreesPerPixelMoved:lt=.8},At){const nt=new uu({checkCorrectEvent:ht=>oe.mouseButton(ht)===0&&ht.ctrlKey||oe.mouseButton(ht)===2&&!ht.ctrlKey});return new Ma({clickTolerance:Be,move:(ht,Ct)=>{const nn=At();if($e&&Math.abs(nn.y-ht.y)>Ve)return{bearingDelta:l.ce(new l.P(ht.x,Ct.y),Ct,nn)};let rn=(Ct.x-ht.x)*lt;return $e&&Ct.y<nn.y&&(rn=-rn),{bearingDelta:rn}},moveStateManager:nt,enable:Ee,assignEvents:Ks})}(e,O),Z=function({enable:Ee,clickTolerance:Be,pitchDegreesPerPixelMoved:$e=-.5}){const Ve=new uu({checkCorrectEvent:lt=>oe.mouseButton(lt)===0&&lt.ctrlKey||oe.mouseButton(lt)===2});return new Ma({clickTolerance:Be,move:(lt,At)=>({pitchDelta:(At.y-lt.y)*$e}),moveStateManager:Ve,enable:Ee,assignEvents:Ks})}(e),Q=function({enable:Ee,clickTolerance:Be,rollDegreesPerPixelMoved:$e=.3},Ve){const lt=new uu({checkCorrectEvent:At=>oe.mouseButton(At)===2&&At.ctrlKey});return new Ma({clickTolerance:Be,move:(At,nt)=>{const ht=Ve();let Ct=(nt.x-At.x)*$e;return nt.y<ht.y&&(Ct=-Ct),{rollDelta:Ct}},moveStateManager:lt,enable:Ee,assignEvents:Ks})}(e,O);n.dragRotate=new Qa(e,W,Z,Q),this._add("mouseRotate",W,["mousePitch"]),this._add("mousePitch",Z,["mouseRotate","mouseRoll"]),this._add("mouseRoll",Q,["mousePitch"]),e.interactive&&e.dragRotate&&n.dragRotate.enable();const ie=function({enable:Ee,clickTolerance:Be}){const $e=new uu({checkCorrectEvent:Ve=>oe.mouseButton(Ve)===0&&!Ve.ctrlKey});return new Ma({clickTolerance:Be,move:(Ve,lt)=>({around:lt,panDelta:lt.sub(Ve)}),activateOnStart:!0,moveStateManager:$e,enable:Ee,assignEvents:Ks})}(e),De=new Yc(e,n);n.dragPan=new G0(u,ie,De),this._add("mousePan",ie),this._add("touchPan",De,["touchZoom","touchRotate"]),e.interactive&&e.dragPan&&n.dragPan.enable(e.dragPan);const we=new un,Ce=new Ss;n.touchZoomRotate=new Fo(u,Ce,we,k),this._add("touchRotate",we,["touchPan","touchZoom"]),this._add("touchZoom",Ce,["touchPan","touchRotate"]),e.interactive&&e.touchZoomRotate&&n.touchZoomRotate.enable(e.touchZoomRotate);const ke=n.scrollZoom=new sr(n,()=>this._triggerRenderFrame());this._add("scrollZoom",ke,["mousePan"]),e.interactive&&e.scrollZoom&&n.scrollZoom.enable(e.scrollZoom);const Le=n.keyboard=new Ya(n);this._add("keyboard",Le),e.interactive&&e.keyboard&&n.keyboard.enable(),this._add("blockableMapEvent",new Ci(n))}_add(e,n,u){this._handlers.push({handlerName:e,handler:n,allowed:u}),this._handlersById[e]=n}stop(e){if(!this._updatingCamera){for(const{handler:n}of this._handlers)n.reset();this._inertia.clear(),this._fireEvents({},{},e),this._changes=[]}}isActive(){for(const{handler:e}of this._handlers)if(e.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!No(this._eventsInProgress)||this.isZooming()}_blockedByActive(e,n,u){for(const f in e)if(f!==u&&(!n||n.indexOf(f)<0))return!0;return!1}_getMapTouches(e){const n=[];for(const u of e)this._el.contains(u.target)&&n.push(u);return n}mergeHandlerResult(e,n,u,f,y){if(!u)return;l.e(e,u);const D={handlerName:f,originalEvent:u.originalEvent||y};u.zoomDelta!==void 0&&(n.zoom=D),u.panDelta!==void 0&&(n.drag=D),u.rollDelta!==void 0&&(n.roll=D),u.pitchDelta!==void 0&&(n.pitch=D),u.bearingDelta!==void 0&&(n.rotate=D)}_applyChanges(){const e={},n={},u={};for(const[f,y,D]of this._changes)f.panDelta&&(e.panDelta=(e.panDelta||new l.P(0,0))._add(f.panDelta)),f.zoomDelta&&(e.zoomDelta=(e.zoomDelta||0)+f.zoomDelta),f.bearingDelta&&(e.bearingDelta=(e.bearingDelta||0)+f.bearingDelta),f.pitchDelta&&(e.pitchDelta=(e.pitchDelta||0)+f.pitchDelta),f.rollDelta&&(e.rollDelta=(e.rollDelta||0)+f.rollDelta),f.around!==void 0&&(e.around=f.around),f.pinchAround!==void 0&&(e.pinchAround=f.pinchAround),f.noInertia&&(e.noInertia=f.noInertia),l.e(n,y),l.e(u,D);this._updateMapTransform(e,n,u),this._changes=[]}_updateMapTransform(e,n,u){const f=this._map,y=f._getTransformForUpdate(),D=f.terrain;if(!(fu(e)||D&&this._terrainMovement))return this._fireEvents(n,u,!0);f._stop(!0);let{panDelta:T,zoomDelta:k,bearingDelta:z,pitchDelta:O,rollDelta:W,around:Z,pinchAround:Q}=e;Q!==void 0&&(Z=Q),Z=Z||f.transform.centerPoint,D&&!y.isPointOnMapSurface(Z)&&(Z=y.centerPoint);const ie={panDelta:T,zoomDelta:k,rollDelta:W,pitchDelta:O,bearingDelta:z,around:Z};this._map.cameraHelper.useGlobeControls&&!y.isPointOnMapSurface(Z)&&(Z=y.centerPoint);const De=Z.distSqr(y.centerPoint)<.01?y.center:y.screenPointToLocation(T?Z.sub(T):Z);D?(this._map.cameraHelper.handleMapControlsRollPitchBearingZoom(ie,y),this._terrainMovement||!n.drag&&!n.zoom?n.drag&&this._terrainMovement?y.setCenter(y.screenPointToLocation(y.centerPoint.sub(T))):this._map.cameraHelper.handleMapControlsPan(ie,y,De):(this._terrainMovement=!0,this._map._elevationFreeze=!0,this._map.cameraHelper.handleMapControlsPan(ie,y,De))):(this._map.cameraHelper.handleMapControlsRollPitchBearingZoom(ie,y),this._map.cameraHelper.handleMapControlsPan(ie,y,De)),f._applyUpdatedTransform(y),this._map._update(),e.noInertia||this._inertia.record(e),this._fireEvents(n,u,!0)}_fireEvents(e,n,u){const f=No(this._eventsInProgress),y=No(e),D={};for(const W in e){const{originalEvent:Z}=e[W];this._eventsInProgress[W]||(D[`${W}start`]=Z),this._eventsInProgress[W]=e[W]}!f&&y&&this._fireEvent("movestart",y.originalEvent);for(const W in D)this._fireEvent(W,D[W]);y&&this._fireEvent("move",y.originalEvent);for(const W in e){const{originalEvent:Z}=e[W];this._fireEvent(W,Z)}const T={};let k;for(const W in this._eventsInProgress){const{handlerName:Z,originalEvent:Q}=this._eventsInProgress[W];this._handlersById[Z].isActive()||(delete this._eventsInProgress[W],k=n[Z]||Q,T[`${W}end`]=k)}for(const W in T)this._fireEvent(W,T[W]);const z=No(this._eventsInProgress),O=(f||y)&&!z;if(O&&this._terrainMovement){this._map._elevationFreeze=!1,this._terrainMovement=!1;const W=this._map._getTransformForUpdate();this._map.getCenterClampedToGround()&&W.recalculateZoomAndCenter(this._map.terrain),this._map._applyUpdatedTransform(W)}if(u&&O){this._updatingCamera=!0;const W=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Z=Q=>Q!==0&&-this._bearingSnap<Q&&Q<this._bearingSnap;!W||!W.essential&&ce.prefersReducedMotion?(this._map.fire(new l.l("moveend",{originalEvent:k})),Z(this._map.getBearing())&&this._map.resetNorth()):(Z(W.bearing||this._map.getBearing())&&(W.bearing=0),W.freezeElevation=!0,this._map.easeTo(W,{originalEvent:k})),this._updatingCamera=!1}}_fireEvent(e,n){this._map.fire(new l.l(e,n?{originalEvent:n}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(e=>{delete this._frameId,this.handleEvent(new jl("renderFrame",{timeStamp:e})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class us extends l.E{constructor(e,n,u){super(),this._renderFrameCallback=()=>{const f=Math.min((ce.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(f)),f<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=e,this._bearingSnap=u.bearingSnap,this.cameraHelper=n,this.on("moveend",()=>{delete this._requestedCameraState})}migrateProjection(e,n){e.apply(this.transform),this.transform=e,this.cameraHelper=n}getCenter(){return new l.Q(this.transform.center.lng,this.transform.center.lat)}setCenter(e,n){return this.jumpTo({center:e},n)}getCenterElevation(){return this.transform.elevation}setCenterElevation(e,n){return this.jumpTo({elevation:e},n),this}getCenterClampedToGround(){return this._centerClampedToGround}setCenterClampedToGround(e){this._centerClampedToGround=e}panBy(e,n,u){return e=l.P.convert(e).mult(-1),this.panTo(this.transform.center,l.e({offset:e},n),u)}panTo(e,n,u){return this.easeTo(l.e({center:e},n),u)}getZoom(){return this.transform.zoom}setZoom(e,n){return this.jumpTo({zoom:e},n),this}zoomTo(e,n,u){return this.easeTo(l.e({zoom:e},n),u)}zoomIn(e,n){return this.zoomTo(this.getZoom()+1,e,n),this}zoomOut(e,n){return this.zoomTo(this.getZoom()-1,e,n),this}getVerticalFieldOfView(){return this.transform.fov}setVerticalFieldOfView(e,n){return e!=this.transform.fov&&(this.transform.setFov(e),this.fire(new l.l("movestart",n)).fire(new l.l("move",n)).fire(new l.l("moveend",n))),this}getBearing(){return this.transform.bearing}setBearing(e,n){return this.jumpTo({bearing:e},n),this}getPadding(){return this.transform.padding}setPadding(e,n){return this.jumpTo({padding:e},n),this}rotateTo(e,n,u){return this.easeTo(l.e({bearing:e},n),u)}resetNorth(e,n){return this.rotateTo(0,l.e({duration:1e3},e),n),this}resetNorthPitch(e,n){return this.easeTo(l.e({bearing:0,pitch:0,roll:0,duration:1e3},e),n),this}snapToNorth(e,n){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,n):this}getPitch(){return this.transform.pitch}setPitch(e,n){return this.jumpTo({pitch:e},n),this}getRoll(){return this.transform.roll}setRoll(e,n){return this.jumpTo({roll:e},n),this}cameraForBounds(e,n){e=yn.convert(e).adjustAntiMeridian();const u=n&&n.bearing||0;return this._cameraForBoxAndBearing(e.getNorthWest(),e.getSouthEast(),u,n)}_cameraForBoxAndBearing(e,n,u,f){const y={top:0,bottom:0,right:0,left:0};if(typeof(f=l.e({padding:y,offset:[0,0],maxZoom:this.transform.maxZoom},f)).padding=="number"){const z=f.padding;f.padding={top:z,bottom:z,right:z,left:z}}const D=l.e(y,f.padding);f.padding=D;const T=this.transform,k=new yn(e,n);return this.cameraHelper.cameraForBoxAndBearing(f,D,k,u,T)}fitBounds(e,n,u){return this._fitInternal(this.cameraForBounds(e,n),n,u)}fitScreenCoordinates(e,n,u,f,y){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.screenPointToLocation(l.P.convert(e)),this.transform.screenPointToLocation(l.P.convert(n)),u,f),f,y)}_fitInternal(e,n,u){return e?(delete(n=l.e(e,n)).padding,n.linear?this.easeTo(n,u):this.flyTo(n,u)):this}jumpTo(e,n){this.stop();const u=this._getTransformForUpdate();let f=!1,y=!1,D=!1;const T=u.zoom;this.cameraHelper.handleJumpToCenterZoom(u,e);const k=u.zoom!==T;return"elevation"in e&&u.elevation!==+e.elevation&&u.setElevation(+e.elevation),"bearing"in e&&u.bearing!==+e.bearing&&(f=!0,u.setBearing(+e.bearing)),"pitch"in e&&u.pitch!==+e.pitch&&(y=!0,u.setPitch(+e.pitch)),"roll"in e&&u.roll!==+e.roll&&(D=!0,u.setRoll(+e.roll)),e.padding==null||u.isPaddingEqual(e.padding)||u.setPadding(e.padding),this._applyUpdatedTransform(u),this.fire(new l.l("movestart",n)).fire(new l.l("move",n)),k&&this.fire(new l.l("zoomstart",n)).fire(new l.l("zoom",n)).fire(new l.l("zoomend",n)),f&&this.fire(new l.l("rotatestart",n)).fire(new l.l("rotate",n)).fire(new l.l("rotateend",n)),y&&this.fire(new l.l("pitchstart",n)).fire(new l.l("pitch",n)).fire(new l.l("pitchend",n)),D&&this.fire(new l.l("rollstart",n)).fire(new l.l("roll",n)).fire(new l.l("rollend",n)),this.fire(new l.l("moveend",n))}calculateCameraOptionsFromTo(e,n,u,f=0){const y=l.$.fromLngLat(e,n),D=l.$.fromLngLat(u,f),T=D.x-y.x,k=D.y-y.y,z=D.z-y.z,O=Math.hypot(T,k,z);if(O===0)throw new Error("Can't calculate camera options with same From and To");const W=Math.hypot(T,k),Z=l.ah(this.transform.cameraToCenterDistance/O/this.transform.tileSize),Q=180*Math.atan2(T,-k)/Math.PI;let ie=180*Math.acos(W/O)/Math.PI;return ie=z<0?90-ie:90+ie,{center:D.toLngLat(),elevation:f,zoom:Z,pitch:ie,bearing:Q}}calculateCameraOptionsFromCameraLngLatAltRotation(e,n,u,f,y){const D=this.transform.calculateCenterFromCameraLngLatAlt(e,n,u,f);return{center:D.center,elevation:D.elevation,zoom:D.zoom,bearing:u,pitch:f,roll:y}}easeTo(e,n){this._stop(!1,e.easeId),((e=l.e({offset:[0,0],duration:500,easing:l.cf},e)).animate===!1||!e.essential&&ce.prefersReducedMotion)&&(e.duration=0);const u=this._getTransformForUpdate(),f=this.getBearing(),y=u.pitch,D=u.roll,T="bearing"in e?this._normalizeBearing(e.bearing,f):f,k="pitch"in e?+e.pitch:y,z="roll"in e?this._normalizeBearing(e.roll,D):D,O="padding"in e?e.padding:u.padding,W=l.P.convert(e.offset);let Z,Q;e.around&&(Z=l.Q.convert(e.around),Q=u.locationToScreenPoint(Z));const ie={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching,rolling:this._rolling},De=this.cameraHelper.handleEaseTo(u,{bearing:T,pitch:k,roll:z,padding:O,around:Z,aroundPoint:Q,offsetAsPoint:W,offset:e.offset,zoom:e.zoom,center:e.center});return this._rotating=this._rotating||f!==T,this._pitching=this._pitching||k!==y,this._rolling=this._rolling||z!==D,this._padding=!u.isPaddingEqual(O),this._zooming=this._zooming||De.isZooming,this._easeId=e.easeId,this._prepareEase(n,e.noMoveStart,ie),this.terrain&&this._prepareElevation(De.elevationCenter),this._ease(we=>{De.easeFunc(we),this.terrain&&!e.freezeElevation&&this._updateElevation(we),this._applyUpdatedTransform(u),this._fireMoveEvents(n)},we=>{this.terrain&&e.freezeElevation&&this._finalizeElevation(),this._afterEase(n,we)},e),this}_prepareEase(e,n,u={}){this._moving=!0,n||u.moving||this.fire(new l.l("movestart",e)),this._zooming&&!u.zooming&&this.fire(new l.l("zoomstart",e)),this._rotating&&!u.rotating&&this.fire(new l.l("rotatestart",e)),this._pitching&&!u.pitching&&this.fire(new l.l("pitchstart",e)),this._rolling&&!u.rolling&&this.fire(new l.l("rollstart",e))}_prepareElevation(e){this._elevationCenter=e,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(e,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(e){this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom));const n=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(e<1&&n!==this._elevationTarget){const u=this._elevationTarget-this._elevationStart;this._elevationStart+=e*(u-(n-(u*e+this._elevationStart))/(1-e)),this._elevationTarget=n}this.transform.setElevation(l.B.number(this._elevationStart,this._elevationTarget,e))}_finalizeElevation(){this._elevationFreeze=!1,this.getCenterClampedToGround()&&this.transform.recalculateZoomAndCenter(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate||this.terrain?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_elevateCameraIfInsideTerrain(e){if(!this.terrain&&e.elevation>=0&&e.pitch<=90)return{};const n=e.getCameraLngLat(),u=e.getCameraAltitude(),f=this.terrain?this.terrain.getElevationForLngLatZoom(n,e.zoom):0;if(u<f){const y=this.calculateCameraOptionsFromTo(n,f,e.center,e.elevation);return{pitch:y.pitch,zoom:y.zoom}}return{}}_applyUpdatedTransform(e){const n=[];if(n.push(f=>this._elevateCameraIfInsideTerrain(f)),this.transformCameraUpdate&&n.push(f=>this.transformCameraUpdate(f)),!n.length)return;const u=e.clone();for(const f of n){const y=u.clone(),{center:D,zoom:T,roll:k,pitch:z,bearing:O,elevation:W}=f(y);D&&y.setCenter(D),W!==void 0&&y.setElevation(W),T!==void 0&&y.setZoom(T),k!==void 0&&y.setRoll(k),z!==void 0&&y.setPitch(z),O!==void 0&&y.setBearing(O),u.apply(y)}this.transform.apply(u)}_fireMoveEvents(e){this.fire(new l.l("move",e)),this._zooming&&this.fire(new l.l("zoom",e)),this._rotating&&this.fire(new l.l("rotate",e)),this._pitching&&this.fire(new l.l("pitch",e)),this._rolling&&this.fire(new l.l("roll",e))}_afterEase(e,n){if(this._easeId&&n&&this._easeId===n)return;delete this._easeId;const u=this._zooming,f=this._rotating,y=this._pitching,D=this._rolling;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._rolling=!1,this._padding=!1,u&&this.fire(new l.l("zoomend",e)),f&&this.fire(new l.l("rotateend",e)),y&&this.fire(new l.l("pitchend",e)),D&&this.fire(new l.l("rollend",e)),this.fire(new l.l("moveend",e))}flyTo(e,n){if(!e.essential&&ce.prefersReducedMotion){const Ct=l.O(e,["center","zoom","bearing","pitch","roll","elevation"]);return this.jumpTo(Ct,n)}this.stop(),e=l.e({offset:[0,0],speed:1.2,curve:1.42,easing:l.cf},e);const u=this._getTransformForUpdate(),f=u.bearing,y=u.pitch,D=u.roll,T=u.padding,k="bearing"in e?this._normalizeBearing(e.bearing,f):f,z="pitch"in e?+e.pitch:y,O="roll"in e?this._normalizeBearing(e.roll,D):D,W="padding"in e?e.padding:u.padding,Z=l.P.convert(e.offset);let Q=u.centerPoint.add(Z);const ie=u.screenPointToLocation(Q),De=this.cameraHelper.handleFlyTo(u,{bearing:k,pitch:z,roll:O,padding:W,locationAtOffset:ie,offsetAsPoint:Z,center:e.center,minZoom:e.minZoom,zoom:e.zoom});let we=e.curve;const Ce=Math.max(u.width,u.height),ke=Ce/De.scaleOfZoom,Le=De.pixelPathLength;typeof De.scaleOfMinZoom=="number"&&(we=Math.sqrt(Ce/De.scaleOfMinZoom/Le*2));const Ee=we*we;function Be(Ct){const nn=(ke*ke-Ce*Ce+(Ct?-1:1)*Ee*Ee*Le*Le)/(2*(Ct?ke:Ce)*Ee*Le);return Math.log(Math.sqrt(nn*nn+1)-nn)}function $e(Ct){return(Math.exp(Ct)-Math.exp(-Ct))/2}function Ve(Ct){return(Math.exp(Ct)+Math.exp(-Ct))/2}const lt=Be(!1);let At=function(Ct){return Ve(lt)/Ve(lt+we*Ct)},nt=function(Ct){return Ce*((Ve(lt)*($e(nn=lt+we*Ct)/Ve(nn))-$e(lt))/Ee)/Le;var nn},ht=(Be(!0)-lt)/we;if(Math.abs(Le)<2e-6||!isFinite(ht)){if(Math.abs(Ce-ke)<1e-6)return this.easeTo(e,n);const Ct=ke<Ce?-1:1;ht=Math.abs(Math.log(ke/Ce))/we,nt=()=>0,At=nn=>Math.exp(Ct*we*nn)}return e.duration="duration"in e?+e.duration:1e3*ht/("screenSpeed"in e?+e.screenSpeed/we:+e.speed),e.maxDuration&&e.duration>e.maxDuration&&(e.duration=0),this._zooming=!0,this._rotating=f!==k,this._pitching=z!==y,this._rolling=O!==D,this._padding=!u.isPaddingEqual(W),this._prepareEase(n,!1),this.terrain&&this._prepareElevation(De.targetCenter),this._ease(Ct=>{const nn=Ct*ht,rn=1/At(nn),Gt=nt(nn);this._rotating&&u.setBearing(l.B.number(f,k,Ct)),this._pitching&&u.setPitch(l.B.number(y,z,Ct)),this._rolling&&u.setRoll(l.B.number(D,O,Ct)),this._padding&&(u.interpolatePadding(T,W,Ct),Q=u.centerPoint.add(Z)),De.easeFunc(Ct,rn,Gt,Q),this.terrain&&!e.freezeElevation&&this._updateElevation(Ct),this._applyUpdatedTransform(u),this._fireMoveEvents(n)},()=>{this.terrain&&e.freezeElevation&&this._finalizeElevation(),this._afterEase(n)},e),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(e,n){var u;if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const f=this._onEaseEnd;delete this._onEaseEnd,f.call(this,n)}return e||(u=this.handlers)===null||u===void 0||u.stop(!1),this}_ease(e,n,u){u.animate===!1||u.duration===0?(e(1),n()):(this._easeStart=ce.now(),this._easeOptions=u,this._onEaseFrame=e,this._onEaseEnd=n,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(e,n){e=l.aL(e,-180,180);const u=Math.abs(e-n);return Math.abs(e-360-n)<u&&(e-=360),Math.abs(e+360-n)<u&&(e+=360),e}queryTerrainElevation(e){return this.terrain?this.terrain.getElevationForLngLatZoom(l.Q.convert(e),this.transform.tileZoom):null}}const Vl={compact:!0,customAttribution:'<a href="https://maplibre.org/" target="_blank">MapLibre</a>'};class ri{constructor(e=Vl){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=n=>{!n||n.sourceDataType!=="metadata"&&n.sourceDataType!=="visibility"&&n.dataType!=="style"&&n.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=e}getDefaultPosition(){return"bottom-right"}onAdd(e){return this._map=e,this._compact=this.options.compact,this._container=oe.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=oe.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=oe.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){oe.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(e,n){const u=this._map._getUIString(`AttributionControl.${n}`);e.title=u,e.setAttribute("aria-label",u)}_updateAttributions(){if(!this._map.style)return;let e=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=e.concat(this.options.customAttribution.map(f=>typeof f!="string"?"":f)):typeof this.options.customAttribution=="string"&&e.push(this.options.customAttribution)),this._map.style.stylesheet){const f=this._map.style.stylesheet;this.styleOwner=f.owner,this.styleId=f.id}const n=this._map.style.sourceCaches;for(const f in n){const y=n[f];if(y.used||y.usedForTerrain){const D=y.getSource();D.attribution&&e.indexOf(D.attribution)<0&&e.push(D.attribution)}}e=e.filter(f=>String(f).trim()),e.sort((f,y)=>f.length-y.length),e=e.filter((f,y)=>{for(let D=y+1;D<e.length;D++)if(e[D].indexOf(f)>=0)return!1;return!0});const u=e.join(" | ");u!==this._attribHTML&&(this._attribHTML=u,e.length?(this._innerContainer.innerHTML=oe.sanitize(u),this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class gu{constructor(e={}){this._updateCompact=()=>{const n=this._container.children;if(n.length){const u=n[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&u.classList.add("maplibregl-compact"):u.classList.remove("maplibregl-compact")}},this.options=e}getDefaultPosition(){return"bottom-left"}onAdd(e){this._map=e,this._compact=this.options&&this.options.compact,this._container=oe.create("div","maplibregl-ctrl");const n=oe.create("a","maplibregl-ctrl-logo");return n.target="_blank",n.rel="noopener nofollow",n.href="https://maplibre.org/",n.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),n.setAttribute("rel","noopener nofollow"),this._container.appendChild(n),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){oe.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class Ys{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(e){const n=++this._id;return this._queue.push({callback:e,id:n,cancelled:!1}),n}remove(e){const n=this._currentlyRunning,u=n?this._queue.concat(n):this._queue;for(const f of u)if(f.id===e)return void(f.cancelled=!0)}run(e=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const n=this._currentlyRunning=this._queue;this._queue=[];for(const u of n)if(!u.cancelled&&(u.callback(e),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var wl=l.aG([{name:"a_pos3d",type:"Int16",components:3}]);class Lh extends l.E{constructor(e){super(),this._lastTilesetChange=ce.now(),this.sourceCache=e,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.deltaZoom=1,this.tileSize=e._source.tileSize*2**this.deltaZoom,e.usedForTerrain=!0,e.tileSize=this.tileSize}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(e,n){this.sourceCache.update(e,n),this._renderableTilesKeys=[];const u={};for(const f of Ye(e,{tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:n,calculateTileZoom:this.sourceCache._source.calculateTileZoom}))u[f.key]=!0,this._renderableTilesKeys.push(f.key),this._tiles[f.key]||(f.terrainRttPosMatrix32f=new Float64Array(16),l.bQ(f.terrainRttPosMatrix32f,0,l.Z,l.Z,0,0,1),this._tiles[f.key]=new Li(f,this.tileSize),this._lastTilesetChange=ce.now());for(const f in this._tiles)u[f]||delete this._tiles[f]}freeRtt(e){for(const n in this._tiles){const u=this._tiles[n];(!e||u.tileID.equals(e)||u.tileID.isChildOf(e)||e.isChildOf(u.tileID))&&(u.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(e=>this.getTileByID(e))}getTileByID(e){return this._tiles[e]}getTerrainCoords(e,n){return n?this._getTerrainCoordsForTileRanges(e,n):this._getTerrainCoordsForRegularTile(e)}_getTerrainCoordsForRegularTile(e){const n={};for(const u of this._renderableTilesKeys){const f=this._tiles[u].tileID,y=e.clone(),D=l.b2();if(f.canonical.equals(e.canonical))l.bQ(D,0,l.Z,l.Z,0,0,1);else if(f.canonical.isChildOf(e.canonical)){const T=f.canonical.z-e.canonical.z,k=f.canonical.x-(f.canonical.x>>T<<T),z=f.canonical.y-(f.canonical.y>>T<<T),O=l.Z>>T;l.bQ(D,0,O,O,0,0,1),l.L(D,D,[-k*O,-z*O,0])}else{if(!e.canonical.isChildOf(f.canonical))continue;{const T=e.canonical.z-f.canonical.z,k=e.canonical.x-(e.canonical.x>>T<<T),z=e.canonical.y-(e.canonical.y>>T<<T),O=l.Z>>T;l.bQ(D,0,l.Z,l.Z,0,0,1),l.L(D,D,[k*O,z*O,0]),l.M(D,D,[1/2**T,1/2**T,0])}}y.terrainRttPosMatrix32f=new Float32Array(D),n[u]=y}return n}_getTerrainCoordsForTileRanges(e,n){const u={};for(const f of this._renderableTilesKeys){const y=this._tiles[f].tileID;if(!this._isWithinTileRanges(y,n))continue;const D=e.clone(),T=l.b2();if(y.canonical.z===e.canonical.z){const k=e.canonical.x-y.canonical.x,z=e.canonical.y-y.canonical.y;l.bQ(T,0,l.Z,l.Z,0,0,1),l.L(T,T,[k*l.Z,z*l.Z,0])}else if(y.canonical.z>e.canonical.z){const k=y.canonical.z-e.canonical.z,z=y.canonical.x-(y.canonical.x>>k<<k),O=y.canonical.y-(y.canonical.y>>k<<k),W=e.canonical.x-(y.canonical.x>>k),Z=e.canonical.y-(y.canonical.y>>k),Q=l.Z>>k;l.bQ(T,0,Q,Q,0,0,1),l.L(T,T,[-z*Q+W*l.Z,-O*Q+Z*l.Z,0])}else{const k=e.canonical.z-y.canonical.z,z=e.canonical.x-(e.canonical.x>>k<<k),O=e.canonical.y-(e.canonical.y>>k<<k),W=(e.canonical.x>>k)-y.canonical.x,Z=(e.canonical.y>>k)-y.canonical.y,Q=l.Z<<k;l.bQ(T,0,Q,Q,0,0,1),l.L(T,T,[z*l.Z+W*Q,O*l.Z+Z*Q,0])}D.terrainRttPosMatrix32f=new Float32Array(T),u[f]=D}return u}getSourceTile(e,n){const u=this.sourceCache._source;let f=e.overscaledZ-this.deltaZoom;if(f>u.maxzoom&&(f=u.maxzoom),f<u.minzoom)return null;this._sourceTileCache[e.key]||(this._sourceTileCache[e.key]=e.scaledTo(f).key);let y=this.sourceCache.getTileByID(this._sourceTileCache[e.key]);if((!y||!y.dem)&&n)for(;f>=u.minzoom&&(!y||!y.dem);)y=this.sourceCache.getTileByID(e.scaledTo(f--).key);return y}anyTilesAfterTime(e=Date.now()){return this._lastTilesetChange>=e}_isWithinTileRanges(e,n){return n[e.canonical.z]&&e.canonical.x>=n[e.canonical.z].minTileX&&e.canonical.x<=n[e.canonical.z].maxTileX&&e.canonical.y>=n[e.canonical.z].minTileY&&e.canonical.y<=n[e.canonical.z].maxTileY}}class Ku{constructor(e,n,u){this._meshCache={},this.painter=e,this.sourceCache=new Lh(n),this.options=u,this.exaggeration=typeof u.exaggeration=="number"?u.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(e,n,u,f=l.Z){var y;if(!(n>=0&&n<f&&u>=0&&u<f))return 0;const D=this.getTerrainData(e),T=(y=D.tile)===null||y===void 0?void 0:y.dem;if(!T)return 0;const k=l.cj([],[n/f*l.Z,u/f*l.Z],D.u_terrain_matrix),z=[k[0]*T.dim,k[1]*T.dim],O=Math.floor(z[0]),W=Math.floor(z[1]),Z=z[0]-O,Q=z[1]-W;return T.get(O,W)*(1-Z)*(1-Q)+T.get(O+1,W)*Z*(1-Q)+T.get(O,W+1)*(1-Z)*Q+T.get(O+1,W+1)*Z*Q}getElevationForLngLatZoom(e,n){if(!l.ck(n,e.wrap()))return 0;const{tileID:u,mercatorX:f,mercatorY:y}=this._getOverscaledTileIDFromLngLatZoom(e,n);return this.getElevation(u,f%l.Z,y%l.Z,l.Z)}getElevation(e,n,u,f=l.Z){return this.getDEMElevation(e,n,u,f)*this.exaggeration}getTerrainData(e){if(!this._emptyDemTexture){const f=this.painter.context,y=new l.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new Pt(f,y,f.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new Pt(f,new l.R({width:1,height:1}),f.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(f.gl.NEAREST,f.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=l.ad([])}const n=this.sourceCache.getSourceTile(e,!0);if(n&&n.dem&&(!n.demTexture||n.needsTerrainPrepare)){const f=this.painter.context;n.demTexture=this.painter.getTileTexture(n.dem.stride),n.demTexture?n.demTexture.update(n.dem.getPixels(),{premultiply:!1}):n.demTexture=new Pt(f,n.dem.getPixels(),f.gl.RGBA,{premultiply:!1}),n.demTexture.bind(f.gl.NEAREST,f.gl.CLAMP_TO_EDGE),n.needsTerrainPrepare=!1}const u=n&&n+n.tileID.key+e.key;if(u&&!this._demMatrixCache[u]){const f=this.sourceCache.sourceCache._source.maxzoom;let y=e.canonical.z-n.tileID.canonical.z;e.overscaledZ>e.canonical.z&&(e.canonical.z>=f?y=e.canonical.z-f:l.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const D=e.canonical.x-(e.canonical.x>>y<<y),T=e.canonical.y-(e.canonical.y>>y<<y),k=l.cl(new Float64Array(16),[1/(l.Z<<y),1/(l.Z<<y),0]);l.L(k,k,[D*l.Z,T*l.Z,0]),this._demMatrixCache[e.key]={matrix:k,coord:e}}return{u_depth:2,u_terrain:3,u_terrain_dim:n&&n.dem&&n.dem.dim||1,u_terrain_matrix:u?this._demMatrixCache[e.key].matrix:this._emptyDemMatrix,u_terrain_unpack:n&&n.dem&&n.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(n&&n.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:n}}getFramebuffer(e){const n=this.painter,u=n.width/devicePixelRatio,f=n.height/devicePixelRatio;return!this._fbo||this._fbo.width===u&&this._fbo.height===f||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new Pt(n.context,{width:u,height:f,data:null},n.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(n.context.gl.NEAREST,n.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new Pt(n.context,{width:u,height:f,data:null},n.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(n.context.gl.NEAREST,n.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=n.context.createFramebuffer(u,f,!0,!1),this._fbo.depthAttachment.set(n.context.createRenderbuffer(n.context.gl.DEPTH_COMPONENT16,u,f))),this._fbo.colorAttachment.set(e==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const e=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const n=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let y=0,D=0;y<this._coordsTextureSize;y++)for(let T=0;T<this._coordsTextureSize;T++,D+=4)n[D+0]=255&T,n[D+1]=255&y,n[D+2]=T>>8<<4|y>>8,n[D+3]=0;const u=new l.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(n.buffer)),f=new Pt(e,u,e.gl.RGBA,{premultiply:!1});return f.bind(e.gl.NEAREST,e.gl.CLAMP_TO_EDGE),this._coordsTexture=f,f}pointCoordinate(e){this.painter.maybeDrawDepthAndCoords(!0);const n=new Uint8Array(4),u=this.painter.context,f=u.gl,y=Math.round(e.x*this.painter.pixelRatio/devicePixelRatio),D=Math.round(e.y*this.painter.pixelRatio/devicePixelRatio),T=Math.round(this.painter.height/devicePixelRatio);u.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),f.readPixels(y,T-D-1,1,1,f.RGBA,f.UNSIGNED_BYTE,n),u.bindFramebuffer.set(null);const k=n[0]+(n[2]>>4<<8),z=n[1]+((15&n[2])<<8),O=this.coordsIndex[255-n[3]],W=O&&this.sourceCache.getTileByID(O);if(!W)return null;const Z=this._coordsTextureSize,Q=(1<<W.tileID.canonical.z)*Z;return new l.$((W.tileID.canonical.x*Z+k)/Q+W.tileID.wrap,(W.tileID.canonical.y*Z+z)/Q,this.getElevation(W.tileID,k,z,Z))}depthAtPoint(e){const n=new Uint8Array(4),u=this.painter.context,f=u.gl;return u.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),f.readPixels(e.x,this.painter.height/devicePixelRatio-e.y-1,1,1,f.RGBA,f.UNSIGNED_BYTE,n),u.bindFramebuffer.set(null),(n[0]/16777216+n[1]/65536+n[2]/256+n[3])/256}getTerrainMesh(e){var n;const u=((n=this.painter.style.projection)===null||n===void 0?void 0:n.transitionState)>0,f=u&&e.canonical.y===0,y=u&&e.canonical.y===(1<<e.canonical.z)-1,D=`m_${f?"n":""}_${y?"s":""}`;if(this._meshCache[D])return this._meshCache[D];const T=this.painter.context,k=new l.cm,z=new l.aK,O=this.meshSize,W=l.Z/O,Z=O*O;for(let Ve=0;Ve<=O;Ve++)for(let lt=0;lt<=O;lt++)k.emplaceBack(lt*W,Ve*W,0);for(let Ve=0;Ve<Z;Ve+=O+1)for(let lt=0;lt<O;lt++)z.emplaceBack(lt+Ve,O+lt+Ve+1,O+lt+Ve+2),z.emplaceBack(lt+Ve,O+lt+Ve+2,lt+Ve+1);const Q=k.length,ie=Q+(O+1),De=(O+1)*O,we=f?l.b9:0,Ce=f?0:1,ke=y?l.ba:l.Z,Le=y?0:1;for(let Ve=0;Ve<=O;Ve++)k.emplaceBack(Ve*W,we,Ce);for(let Ve=0;Ve<=O;Ve++)k.emplaceBack(Ve*W,ke,Le);for(let Ve=0;Ve<O;Ve++)z.emplaceBack(De+Ve,ie+Ve,ie+Ve+1),z.emplaceBack(De+Ve,ie+Ve+1,De+Ve+1),z.emplaceBack(0+Ve,Q+Ve+1,Q+Ve),z.emplaceBack(0+Ve,0+Ve+1,Q+Ve+1);const Ee=k.length,Be=Ee+2*(O+1);for(const Ve of[0,1])for(let lt=0;lt<=O;lt++)for(const At of[0,1])k.emplaceBack(Ve*l.Z,lt*W,At);for(let Ve=0;Ve<2*O;Ve+=2)z.emplaceBack(Ee+Ve,Ee+Ve+1,Ee+Ve+3),z.emplaceBack(Ee+Ve,Ee+Ve+3,Ee+Ve+2),z.emplaceBack(Be+Ve,Be+Ve+3,Be+Ve+1),z.emplaceBack(Be+Ve,Be+Ve+2,Be+Ve+3);const $e=new Br(T.createVertexBuffer(k,wl.members),T.createIndexBuffer(z),l.aJ.simpleSegment(0,0,k.length,z.length));return this._meshCache[D]=$e,$e}getMeshFrameDelta(e){return 2*Math.PI*l.bu/Math.pow(2,Math.max(e,0))/5}getMinTileElevationForLngLatZoom(e,n){var u;const{tileID:f}=this._getOverscaledTileIDFromLngLatZoom(e,n);return(u=this.getMinMaxElevation(f).minElevation)!==null&&u!==void 0?u:0}getMinMaxElevation(e){const n=this.getTerrainData(e).tile,u={minElevation:null,maxElevation:null};return n&&n.dem&&(u.minElevation=n.dem.min*this.exaggeration,u.maxElevation=n.dem.max*this.exaggeration),u}_getOverscaledTileIDFromLngLatZoom(e,n){const u=l.$.fromLngLat(e.wrap()),f=(1<<n)*l.Z,y=u.x*f,D=u.y*f,T=Math.floor(y/l.Z),k=Math.floor(D/l.Z);return{tileID:new l.Y(n,0,n,T,k),mercatorX:y,mercatorY:D}}}class mu{constructor(e,n,u){this._context=e,this._size=n,this._tileSize=u,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const e of this._objects)e.texture.destroy(),e.fbo.destroy()}_createObject(e){const n=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),u=new Pt(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return u.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),this._context.extTextureFilterAnisotropic&&this._context.gl.texParameterf(this._context.gl.TEXTURE_2D,this._context.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,this._context.extTextureFilterAnisotropicMax),n.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),n.colorAttachment.set(u.texture),{id:e,fbo:n,texture:u,stamp:-1,inUse:!1}}getObjectForId(e){return this._objects[e]}useObject(e){e.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(n=>e.id!==n),this._recentlyUsed.push(e.id)}stampObject(e){e.stamp=++this._stamp}getOrCreateFreeObject(){for(const n of this._recentlyUsed)if(!this._objects[n].inUse)return this._objects[n];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const e=this._createObject(this._objects.length);return this._objects.push(e),e}freeObject(e){e.inUse=!1}freeAllObjects(){for(const e of this._objects)this.freeObject(e)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(e=>!e.inUse)===!1}}const _o={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class Xu{constructor(e,n){this.painter=e,this.terrain=n,this.pool=new mu(e.context,30,n.sourceCache.tileSize*n.qualityFactor)}destruct(){this.pool.destruct()}getTexture(e){return this.pool.getObjectForId(e.rtt[this._stacks.length-1].id).texture}prepareForRender(e,n){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=e._order.filter(u=>!e._layers[u].isHidden(n)),this._coordsAscending={};for(const u in e.sourceCaches){this._coordsAscending[u]={};const f=e.sourceCaches[u].getVisibleCoordinates(),y=e.sourceCaches[u].getSource(),D=y instanceof vr?y.terrainTileRanges:null;for(const T of f){const k=this.terrain.sourceCache.getTerrainCoords(T,D);for(const z in k)this._coordsAscending[u][z]||(this._coordsAscending[u][z]=[]),this._coordsAscending[u][z].push(k[z])}}this._coordsAscendingStr={};for(const u of e._order){const f=e._layers[u],y=f.source;if(_o[f.type]&&!this._coordsAscendingStr[y]){this._coordsAscendingStr[y]={};for(const D in this._coordsAscending[y])this._coordsAscendingStr[y][D]=this._coordsAscending[y][D].map(T=>T.key).sort().join()}}for(const u of this._renderableTiles)for(const f in this._coordsAscendingStr){const y=this._coordsAscendingStr[f][u.tileID.key];y&&y!==u.rttCoords[f]&&(u.rtt=[])}}renderLayer(e,n){if(e.isHidden(this.painter.transform.zoom))return!1;const u=Object.assign(Object.assign({},n),{isRenderingToTexture:!0}),f=e.type,y=this.painter,D=this._renderableLayerIds[this._renderableLayerIds.length-1]===e.id;if(_o[f]&&(this._prevType&&_o[this._prevType]||this._stacks.push([]),this._prevType=f,this._stacks[this._stacks.length-1].push(e.id),!D))return!0;if(_o[this._prevType]||_o[f]&&D){this._prevType=f;const T=this._stacks.length-1,k=this._stacks[T]||[];for(const z of this._renderableTiles){if(this.pool.isFull()&&(Fl(this.painter,this.terrain,this._rttTiles,u),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(z),z.rtt[T]){const W=this.pool.getObjectForId(z.rtt[T].id);if(W.stamp===z.rtt[T].stamp){this.pool.useObject(W);continue}}const O=this.pool.getOrCreateFreeObject();this.pool.useObject(O),this.pool.stampObject(O),z.rtt[T]={id:O.id,stamp:O.stamp},y.context.bindFramebuffer.set(O.fbo.framebuffer),y.context.clear({color:l.b7.transparent,stencil:0}),y.currentStencilSource=void 0;for(let W=0;W<k.length;W++){const Z=y.style._layers[k[W]],Q=Z.source?this._coordsAscending[Z.source][z.tileID.key]:[z.tileID];y.context.viewport.set([0,0,O.fbo.width,O.fbo.height]),y._renderTileClippingMasks(Z,Q,!0),y.renderLayer(y,y.style.sourceCaches[Z.source],Z,Q,u),Z.source&&(z.rttCoords[Z.source]=this._coordsAscendingStr[Z.source][z.tileID.key])}}return Fl(this.painter,this.terrain,this._rttTiles,u),this._rttTiles=[],this.pool.freeAllObjects(),_o[f]}return!1}}const fn={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","Map.Title":"Map","Marker.Title":"Map marker","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","Popup.Close":"Close popup","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","GlobeControl.Enable":"Enable globe","GlobeControl.Disable":"Disable globe","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use  + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},jn=V,c0={hash:!1,interactive:!0,bearingSnap:7,attributionControl:Vl,maplibreLogo:!1,refreshExpiredTiles:!0,canvasContextAttributes:{antialias:!1,preserveDrawingBuffer:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1,desynchronized:!1,contextType:void 0},scrollZoom:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],elevation:0,zoom:0,bearing:0,pitch:0,roll:0,renderWorldCopies:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:l.a.MAX_TILE_CACHE_ZOOM_LEVELS,transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,clickTolerance:3,localIdeographFontFamily:"sans-serif",pitchWithRotate:!0,rollEnabled:!1,validateStyle:!0,maxCanvasSize:[4096,4096],cancelPendingTileRequestsWhileZooming:!0,centerClampedToGround:!0},$o={showCompass:!0,showZoom:!0,visualizePitch:!1,visualizeRoll:!0};class Zl{constructor(e,n,u=!1){this.mousedown=y=>{this.startMove(y,oe.mousePos(this.element,y)),oe.addEventListener(window,"mousemove",this.mousemove),oe.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=y=>{this.move(y,oe.mousePos(this.element,y))},this.mouseup=y=>{this._rotatePitchHanlder.dragEnd(y),this.offTemp()},this.touchstart=y=>{y.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=oe.touchPos(this.element,y.targetTouches)[0],this.startMove(y,this._startPos),oe.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),oe.addEventListener(window,"touchend",this.touchend))},this.touchmove=y=>{y.targetTouches.length!==1?this.reset():(this._lastPos=oe.touchPos(this.element,y.targetTouches)[0],this.move(y,this._lastPos))},this.touchend=y=>{y.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this._rotatePitchHanlder.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10,this.element=n;const f=new cu;this._rotatePitchHanlder=new Ma({clickTolerance:3,move:(y,D)=>{const T=n.getBoundingClientRect(),k=new l.P((T.bottom-T.top)/2,(T.right-T.left)/2);return{bearingDelta:l.ce(new l.P(y.x,D.y),D,k),pitchDelta:u?-.5*(D.y-y.y):void 0}},moveStateManager:f,enable:!0,assignEvents:()=>{}}),this.map=e,oe.addEventListener(n,"mousedown",this.mousedown),oe.addEventListener(n,"touchstart",this.touchstart,{passive:!1}),oe.addEventListener(n,"touchcancel",this.reset)}startMove(e,n){this._rotatePitchHanlder.dragStart(e,n),oe.disableDrag()}move(e,n){const u=this.map,{bearingDelta:f,pitchDelta:y}=this._rotatePitchHanlder.dragMove(e,n)||{};f&&u.setBearing(u.getBearing()+f),y&&u.setPitch(u.getPitch()+y)}off(){const e=this.element;oe.removeEventListener(e,"mousedown",this.mousedown),oe.removeEventListener(e,"touchstart",this.touchstart,{passive:!1}),oe.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),oe.removeEventListener(window,"touchend",this.touchend),oe.removeEventListener(e,"touchcancel",this.reset),this.offTemp()}offTemp(){oe.enableDrag(),oe.removeEventListener(window,"mousemove",this.mousemove),oe.removeEventListener(window,"mouseup",this.mouseup),oe.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),oe.removeEventListener(window,"touchend",this.touchend)}}let Ri;function Dl(m,e,n,u=!1){if(u||!n.getCoveringTilesDetailsProvider().allowWorldCopies())return m==null?void 0:m.wrap();const f=new l.Q(m.lng,m.lat);if(m=new l.Q(m.lng,m.lat),e){const y=new l.Q(m.lng-360,m.lat),D=new l.Q(m.lng+360,m.lat),T=n.locationToScreenPoint(m).distSqr(e);n.locationToScreenPoint(y).distSqr(e)<T?m=y:n.locationToScreenPoint(D).distSqr(e)<T&&(m=D)}for(;Math.abs(m.lng-n.center.lng)>180;){const y=n.locationToScreenPoint(m);if(y.x>=0&&y.y>=0&&y.x<=n.width&&y.y<=n.height)break;m.lng>n.center.lng?m.lng-=360:m.lng+=360}return m.lng!==f.lng&&n.isPointOnMapSurface(n.locationToScreenPoint(m))?m:f}const jo={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function $a(m,e,n){const u=m.classList;for(const f in jo)u.remove(`maplibregl-${n}-anchor-${f}`);u.add(`maplibregl-${n}-anchor-${e}`)}class cs extends l.E{constructor(e){if(super(),this._onKeyPress=n=>{const u=n.code,f=n.charCode||n.keyCode;u!=="Space"&&u!=="Enter"&&f!==32&&f!==13||this.togglePopup()},this._onMapClick=n=>{const u=n.originalEvent.target,f=this._element;this._popup&&(u===f||f.contains(u))&&this.togglePopup()},this._update=n=>{if(!this._map)return;const u=this._map.loaded()&&!this._map.isMoving();((n==null?void 0:n.type)==="terrain"||(n==null?void 0:n.type)==="render"&&!u)&&this._map.once("render",this._update),this._lngLat=Dl(this._lngLat,this._flatPos,this._map.transform),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationToScreenPoint(this._lngLat)._add(this._offset));let f="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?f=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(f=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let y="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?y="rotateX(0deg)":this._pitchAlignment==="map"&&(y=`rotateX(${this._map.getPitch()}deg)`),this._subpixelPositioning||n&&n.type!=="moveend"||(this._pos=this._pos.round()),oe.setTransform(this._element,`${jo[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${y} ${f}`),ce.frameAsync(new AbortController).then(()=>{this._updateOpacity(n&&n.type==="moveend")}).catch(()=>{})},this._onMove=n=>{if(!this._isDragging){const u=this._clickTolerance||this._map._clickTolerance;this._isDragging=n.point.dist(this._pointerdownPos)>=u}this._isDragging&&(this._pos=n.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new l.l("dragstart"))),this.fire(new l.l("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new l.l("dragend")),this._state="inactive"},this._addDragHandler=n=>{this._element.contains(n.originalEvent.target)&&(n.preventDefault(),this._positionDelta=n.point.sub(this._pos).add(this._offset),this._pointerdownPos=n.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=e&&e.anchor||"center",this._color=e&&e.color||"#3FB1CE",this._scale=e&&e.scale||1,this._draggable=e&&e.draggable||!1,this._clickTolerance=e&&e.clickTolerance||0,this._subpixelPositioning=e&&e.subpixelPositioning||!1,this._isDragging=!1,this._state="inactive",this._rotation=e&&e.rotation||0,this._rotationAlignment=e&&e.rotationAlignment||"auto",this._pitchAlignment=e&&e.pitchAlignment&&e.pitchAlignment!=="auto"?e.pitchAlignment:this._rotationAlignment,this.setOpacity(e==null?void 0:e.opacity,e==null?void 0:e.opacityWhenCovered),e&&e.element)this._element=e.element,this._offset=l.P.convert(e&&e.offset||[0,0]);else{this._defaultMarker=!0,this._element=oe.create("div");const n=oe.createNS("http://www.w3.org/2000/svg","svg"),u=41,f=27;n.setAttributeNS(null,"display","block"),n.setAttributeNS(null,"height",`${u}px`),n.setAttributeNS(null,"width",`${f}px`),n.setAttributeNS(null,"viewBox",`0 0 ${f} ${u}`);const y=oe.createNS("http://www.w3.org/2000/svg","g");y.setAttributeNS(null,"stroke","none"),y.setAttributeNS(null,"stroke-width","1"),y.setAttributeNS(null,"fill","none"),y.setAttributeNS(null,"fill-rule","evenodd");const D=oe.createNS("http://www.w3.org/2000/svg","g");D.setAttributeNS(null,"fill-rule","nonzero");const T=oe.createNS("http://www.w3.org/2000/svg","g");T.setAttributeNS(null,"transform","translate(3.0, 29.0)"),T.setAttributeNS(null,"fill","#000000");const k=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const Ce of k){const ke=oe.createNS("http://www.w3.org/2000/svg","ellipse");ke.setAttributeNS(null,"opacity","0.04"),ke.setAttributeNS(null,"cx","10.5"),ke.setAttributeNS(null,"cy","5.80029008"),ke.setAttributeNS(null,"rx",Ce.rx),ke.setAttributeNS(null,"ry",Ce.ry),T.appendChild(ke)}const z=oe.createNS("http://www.w3.org/2000/svg","g");z.setAttributeNS(null,"fill",this._color);const O=oe.createNS("http://www.w3.org/2000/svg","path");O.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),z.appendChild(O);const W=oe.createNS("http://www.w3.org/2000/svg","g");W.setAttributeNS(null,"opacity","0.25"),W.setAttributeNS(null,"fill","#000000");const Z=oe.createNS("http://www.w3.org/2000/svg","path");Z.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),W.appendChild(Z);const Q=oe.createNS("http://www.w3.org/2000/svg","g");Q.setAttributeNS(null,"transform","translate(6.0, 7.0)"),Q.setAttributeNS(null,"fill","#FFFFFF");const ie=oe.createNS("http://www.w3.org/2000/svg","g");ie.setAttributeNS(null,"transform","translate(8.0, 8.0)");const De=oe.createNS("http://www.w3.org/2000/svg","circle");De.setAttributeNS(null,"fill","#000000"),De.setAttributeNS(null,"opacity","0.25"),De.setAttributeNS(null,"cx","5.5"),De.setAttributeNS(null,"cy","5.5"),De.setAttributeNS(null,"r","5.4999962");const we=oe.createNS("http://www.w3.org/2000/svg","circle");we.setAttributeNS(null,"fill","#FFFFFF"),we.setAttributeNS(null,"cx","5.5"),we.setAttributeNS(null,"cy","5.5"),we.setAttributeNS(null,"r","5.4999962"),ie.appendChild(De),ie.appendChild(we),D.appendChild(T),D.appendChild(z),D.appendChild(W),D.appendChild(Q),D.appendChild(ie),n.appendChild(D),n.setAttributeNS(null,"height",u*this._scale+"px"),n.setAttributeNS(null,"width",f*this._scale+"px"),this._element.appendChild(n),this._offset=l.P.convert(e&&e.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",n=>{n.preventDefault()}),this._element.addEventListener("mousedown",n=>{n.preventDefault()}),$a(this._element,this._anchor,"marker"),e&&e.className)for(const n of e.className.split(" "))this._element.classList.add(n);this._popup=null}addTo(e){return this.remove(),this._map=e,this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label",e._getUIString("Marker.Title")),e.getCanvasContainer().appendChild(this._element),e.on("move",this._update),e.on("moveend",this._update),e.on("terrain",this._update),e.on("projectiontransition",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("terrain",this._update),this._map.off("projectiontransition",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),oe.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(e){return this._lngLat=l.Q.convert(e),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),e){if(!("offset"in e.options)){const f=Math.abs(13.5)/Math.SQRT2;e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[f,-1*(38.1-13.5+f)],"bottom-right":[-f,-1*(38.1-13.5+f)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=e,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}setSubpixelPositioning(e){return this._subpixelPositioning=e,this}getPopup(){return this._popup}togglePopup(){const e=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:e?(e.isOpen()?e.remove():(e.setLngLat(this._lngLat),e.addTo(this._map)),this):this}_updateOpacity(e=!1){var n,u;const f=(n=this._map)===null||n===void 0?void 0:n.terrain,y=this._map.transform.isLocationOccluded(this._lngLat);if(!f||y){const Q=y?this._opacityWhenCovered:this._opacity;return void(this._element.style.opacity!==Q&&(this._element.style.opacity=Q))}if(e)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout(()=>{this._opacityTimeout=null},100)}const D=this._map,T=D.terrain.depthAtPoint(this._pos),k=D.terrain.getElevationForLngLatZoom(this._lngLat,D.transform.tileZoom);if(D.transform.lngLatToCameraDepth(this._lngLat,k)-T<.006)return void(this._element.style.opacity=this._opacity);const z=-this._offset.y/D.transform.pixelsPerMeter,O=Math.sin(D.getPitch()*Math.PI/180)*z,W=D.terrain.depthAtPoint(new l.P(this._pos.x,this._pos.y-this._offset.y)),Z=D.transform.lngLatToCameraDepth(this._lngLat,k+O)-W>.006;!((u=this._popup)===null||u===void 0)&&u.isOpen()&&Z&&this._popup.remove(),this._element.style.opacity=Z?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(e){return this._offset=l.P.convert(e),this._update(),this}addClassName(e){this._element.classList.add(e)}removeClassName(e){this._element.classList.remove(e)}toggleClassName(e){return this._element.classList.toggle(e)}setDraggable(e){return this._draggable=!!e,this._map&&(e?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(e){return this._rotation=e||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(e){return this._rotationAlignment=e||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(e){return this._pitchAlignment=e&&e!=="auto"?e:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(e,n){return(this._opacity===void 0||e===void 0&&n===void 0)&&(this._opacity="1",this._opacityWhenCovered="0.2"),e!==void 0&&(this._opacity=e),n!==void 0&&(this._opacityWhenCovered=n),this._map&&this._updateOpacity(!0),this}}const Or={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let ii=0,L0=!1;const B0={maxWidth:100,unit:"metric"};function Ms(m,e,n){const u=n&&n.maxWidth||100,f=m._container.clientHeight/2,y=m._container.clientWidth/2,D=m.unproject([y-u/2,f]),T=m.unproject([y+u/2,f]),k=Math.round(m.project(T).x-m.project(D).x),z=Math.min(u,k,m._container.clientWidth),O=D.distanceTo(T);if(n&&n.unit==="imperial"){const W=3.2808*O;W>5280?ja(e,z,W/5280,m._getUIString("ScaleControl.Miles")):ja(e,z,W,m._getUIString("ScaleControl.Feet"))}else n&&n.unit==="nautical"?ja(e,z,O/1852,m._getUIString("ScaleControl.NauticalMiles")):O>=1e3?ja(e,z,O/1e3,m._getUIString("ScaleControl.Kilometers")):ja(e,z,O,m._getUIString("ScaleControl.Meters"))}function ja(m,e,n,u){const f=function(y){const D=Math.pow(10,`${Math.floor(y)}`.length-1);let T=y/D;return T=T>=10?10:T>=5?5:T>=3?3:T>=2?2:T>=1?1:function(k){const z=Math.pow(10,Math.ceil(-Math.log(k)/Math.LN10));return Math.round(k*z)/z}(T),D*T}(n);m.style.width=e*(f/n)+"px",m.innerHTML=`${f}&nbsp;${u}`}const Yu={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1,locationOccludedOpacity:void 0},Qc=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function hs(m){if(m){if(typeof m=="number"){const e=Math.round(Math.abs(m)/Math.SQRT2);return{center:new l.P(0,0),top:new l.P(0,m),"top-left":new l.P(e,e),"top-right":new l.P(-e,e),bottom:new l.P(0,-m),"bottom-left":new l.P(e,-e),"bottom-right":new l.P(-e,-e),left:new l.P(m,0),right:new l.P(-m,0)}}if(m instanceof l.P||Array.isArray(m)){const e=l.P.convert(m);return{center:e,top:e,"top-left":e,"top-right":e,bottom:e,"bottom-left":e,"bottom-right":e,left:e,right:e}}return{center:l.P.convert(m.center||[0,0]),top:l.P.convert(m.top||[0,0]),"top-left":l.P.convert(m["top-left"]||[0,0]),"top-right":l.P.convert(m["top-right"]||[0,0]),bottom:l.P.convert(m.bottom||[0,0]),"bottom-left":l.P.convert(m["bottom-left"]||[0,0]),"bottom-right":l.P.convert(m["bottom-right"]||[0,0]),left:l.P.convert(m.left||[0,0]),right:l.P.convert(m.right||[0,0])}}return hs(new l.P(0,0))}const ps=V;A.AJAXError=l.cq,A.Event=l.l,A.Evented=l.E,A.LngLat=l.Q,A.MercatorCoordinate=l.$,A.Point=l.P,A.addProtocol=l.cr,A.config=l.a,A.removeProtocol=l.cs,A.AttributionControl=ri,A.BoxZoomHandler=Na,A.CanvasSource=Dn,A.CooperativeGesturesHandler=yi,A.DoubleClickZoomHandler=$l,A.DragPanHandler=G0,A.DragRotateHandler=Qa,A.EdgeInsets=Aa,A.FullscreenControl=class extends l.E{constructor(m={}){super(),this._onFullscreenChange=()=>{var e;let n=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;!((e=n==null?void 0:n.shadowRoot)===null||e===void 0)&&e.fullscreenElement;)n=n.shadowRoot.fullscreenElement;n===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,m&&m.container&&(m.container instanceof HTMLElement?this._container=m.container:l.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(m){return this._map=m,this._container||(this._container=this._map.getContainer()),this._controlContainer=oe.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){oe.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const m=this._fullscreenButton=oe.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);oe.create("span","maplibregl-ctrl-icon",m).setAttribute("aria-hidden","true"),m.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const m=this._getTitle();this._fullscreenButton.setAttribute("aria-label",m),this._fullscreenButton.title=m}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new l.l("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new l.l("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},A.GeoJSONSource=Gi,A.GeolocateControl=class extends l.E{constructor(m){super(),this._onSuccess=e=>{if(this._map){if(this._isOutOfMapMaxBounds(e))return this._setErrorState(),this.fire(new l.l("outofmaxbounds",e)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=e,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(e),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(e),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new l.l("geolocate",e)),this._finish()}},this._updateCamera=e=>{const n=new l.Q(e.coords.longitude,e.coords.latitude),u=e.coords.accuracy,f=this._map.getBearing(),y=l.e({bearing:f},this.options.fitBoundsOptions),D=yn.fromLngLat(n,u);this._map.fitBounds(D,y,{geolocateSource:!0})},this._updateMarker=e=>{if(e){const n=new l.Q(e.coords.longitude,e.coords.latitude);this._accuracyCircleMarker.setLngLat(n).addTo(this._map),this._userLocationDotMarker.setLngLat(n).addTo(this._map),this._accuracy=e.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=e=>{if(this._map){if(e.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const n=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=n,this._geolocateButton.setAttribute("aria-label",n),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(e.code===3&&L0)return;this.options.trackUserLocation&&this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new l.l("error",e)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=()=>{this._map&&(this._container.addEventListener("contextmenu",e=>e.preventDefault()),this._geolocateButton=oe.create("button","maplibregl-ctrl-geolocate",this._container),oe.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",this._geolocateButton.disabled=!0)},this._finishSetupUI=e=>{if(this._map){if(e===!1){l.w("Geolocation support is not available so the GeolocateControl will be disabled.");const n=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=n,this._geolocateButton.setAttribute("aria-label",n)}else{const n=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.disabled=!1,this._geolocateButton.title=n,this._geolocateButton.setAttribute("aria-label",n)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=oe.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new cs({element:this._dotElement}),this._circleElement=oe.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new cs({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",()=>this.trigger()),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",n=>{n.geolocateSource||this._watchState!=="ACTIVE_LOCK"||n.originalEvent&&n.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new l.l("trackuserlocationend")),this.fire(new l.l("userlocationlostfocus")))})}},this.options=l.e({},Or,m)}onAdd(m){return this._map=m,this._container=oe.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),function(){return l._(this,arguments,void 0,function*(e=!1){if(Ri!==void 0&&!e)return Ri;if(window.navigator.permissions===void 0)return Ri=!!window.navigator.geolocation,Ri;try{Ri=(yield window.navigator.permissions.query({name:"geolocation"})).state!=="denied"}catch{Ri=!!window.navigator.geolocation}return Ri})}().then(e=>this._finishSetupUI(e)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),oe.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,ii=0,L0=!1}_isOutOfMapMaxBounds(m){const e=this._map.getMaxBounds(),n=m.coords;return e&&(n.longitude<e.getWest()||n.longitude>e.getEast()||n.latitude<e.getSouth()||n.latitude>e.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const m=this._map.getBounds(),e=m.getSouthEast(),n=m.getNorthEast(),u=e.distanceTo(n),f=Math.ceil(this._accuracy/(u/this._map._container.clientHeight)*2);this._circleElement.style.width=`${f}px`,this._circleElement.style.height=`${f}px`}trigger(){if(!this._setup)return l.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new l.l("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":ii--,L0=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new l.l("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new l.l("trackuserlocationstart")),this.fire(new l.l("userlocationfocus"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let m;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),ii++,ii>1?(m={maximumAge:6e5,timeout:0},L0=!0):(m=this.options.positionOptions,L0=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,m)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},A.GlobeControl=class{constructor(){this._toggleProjection=()=>{var m;const e=(m=this._map.getProjection())===null||m===void 0?void 0:m.type;this._map.setProjection(e!=="mercator"&&e?{type:"mercator"}:{type:"globe"}),this._updateGlobeIcon()},this._updateGlobeIcon=()=>{var m;this._globeButton.classList.remove("maplibregl-ctrl-globe"),this._globeButton.classList.remove("maplibregl-ctrl-globe-enabled"),((m=this._map.getProjection())===null||m===void 0?void 0:m.type)==="globe"?(this._globeButton.classList.add("maplibregl-ctrl-globe-enabled"),this._globeButton.title=this._map._getUIString("GlobeControl.Disable")):(this._globeButton.classList.add("maplibregl-ctrl-globe"),this._globeButton.title=this._map._getUIString("GlobeControl.Enable"))}}onAdd(m){return this._map=m,this._container=oe.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._globeButton=oe.create("button","maplibregl-ctrl-globe",this._container),oe.create("span","maplibregl-ctrl-icon",this._globeButton).setAttribute("aria-hidden","true"),this._globeButton.type="button",this._globeButton.addEventListener("click",this._toggleProjection),this._updateGlobeIcon(),this._map.on("styledata",this._updateGlobeIcon),this._container}onRemove(){oe.remove(this._container),this._map.off("styledata",this._updateGlobeIcon),this._globeButton.removeEventListener("click",this._toggleProjection),this._map=void 0}},A.Hash=Hs,A.ImageSource=vr,A.KeyboardHandler=Ya,A.LngLatBounds=yn,A.LogoControl=gu,A.Map=class extends us{constructor(m){var e,n;l.cn.mark(l.co.create);const u=Object.assign(Object.assign(Object.assign({},c0),m),{canvasContextAttributes:Object.assign(Object.assign({},c0.canvasContextAttributes),m.canvasContextAttributes)});if(u.minZoom!=null&&u.maxZoom!=null&&u.minZoom>u.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(u.minPitch!=null&&u.maxPitch!=null&&u.minPitch>u.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(u.minPitch!=null&&u.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(u.maxPitch!=null&&u.maxPitch>180)throw new Error("maxPitch must be less than or equal to 180");const f=new b0,y=new co;if(u.minZoom!==void 0&&f.setMinZoom(u.minZoom),u.maxZoom!==void 0&&f.setMaxZoom(u.maxZoom),u.minPitch!==void 0&&f.setMinPitch(u.minPitch),u.maxPitch!==void 0&&f.setMaxPitch(u.maxPitch),u.renderWorldCopies!==void 0&&f.setRenderWorldCopies(u.renderWorldCopies),super(f,y,{bearingSnap:u.bearingSnap}),this._idleTriggered=!1,this._crossFadingFactor=1,this._renderTaskQueue=new Ys,this._controls=[],this._mapId=l.a4(),this._contextLost=T=>{T.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.fire(new l.l("webglcontextlost",{originalEvent:T}))},this._contextRestored=T=>{this._setupPainter(),this.resize(),this._update(),this.fire(new l.l("webglcontextrestored",{originalEvent:T}))},this._onMapScroll=T=>{if(T.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=u.interactive,this._maxTileCacheSize=u.maxTileCacheSize,this._maxTileCacheZoomLevels=u.maxTileCacheZoomLevels,this._canvasContextAttributes=Object.assign({},u.canvasContextAttributes),this._trackResize=u.trackResize===!0,this._bearingSnap=u.bearingSnap,this._centerClampedToGround=u.centerClampedToGround,this._refreshExpiredTiles=u.refreshExpiredTiles===!0,this._fadeDuration=u.fadeDuration,this._crossSourceCollisions=u.crossSourceCollisions===!0,this._collectResourceTiming=u.collectResourceTiming===!0,this._locale=Object.assign(Object.assign({},fn),u.locale),this._clickTolerance=u.clickTolerance,this._overridePixelRatio=u.pixelRatio,this._maxCanvasSize=u.maxCanvasSize,this.transformCameraUpdate=u.transformCameraUpdate,this.cancelPendingTileRequestsWhileZooming=u.cancelPendingTileRequestsWhileZooming===!0,this._imageQueueHandle=Me.addThrottleControl(()=>this.isMoving()),this._requestManager=new Ge(u.transformRequest),typeof u.container=="string"){if(this._container=document.getElementById(u.container),!this._container)throw new Error(`Container '${u.container}' not found.`)}else{if(!(u.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=u.container}if(u.maxBounds&&this.setMaxBounds(u.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let T=!1;const k=Nl(z=>{this._trackResize&&!this._removed&&(this.resize(z),this.redraw())},50);this._resizeObserver=new ResizeObserver(z=>{T?k(z):T=!0}),this._resizeObserver.observe(this._container)}this.handlers=new u0(this,u),this._hash=u.hash&&new Hs(typeof u.hash=="string"&&u.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:u.center,elevation:u.elevation,zoom:u.zoom,bearing:u.bearing,pitch:u.pitch,roll:u.roll}),u.bounds&&(this.resize(),this.fitBounds(u.bounds,l.e({},u.fitBoundsOptions,{duration:0}))));const D=typeof u.style=="string"||((n=(e=u.style)===null||e===void 0?void 0:e.projection)===null||n===void 0?void 0:n.type)!=="globe";this.resize(null,D),this._localIdeographFontFamily=u.localIdeographFontFamily,this._validateStyle=u.validateStyle,u.style&&this.setStyle(u.style,{localIdeographFontFamily:u.localIdeographFontFamily}),u.attributionControl&&this.addControl(new ri(typeof u.attributionControl=="boolean"?void 0:u.attributionControl)),u.maplibreLogo&&this.addControl(new gu,u.logoPosition),this.on("style.load",()=>{if(D||this._resizeTransform(),this.transform.unmodified){const T=l.O(this.style.stylesheet,["center","zoom","bearing","pitch","roll"]);this.jumpTo(T)}}),this.on("data",T=>{this._update(T.dataType==="style"),this.fire(new l.l(`${T.dataType}data`,T))}),this.on("dataloading",T=>{this.fire(new l.l(`${T.dataType}dataloading`,T))}),this.on("dataabort",T=>{this.fire(new l.l("sourcedataabort",T))})}_getMapId(){return this._mapId}addControl(m,e){if(e===void 0&&(e=m.getDefaultPosition?m.getDefaultPosition():"top-right"),!m||!m.onAdd)return this.fire(new l.k(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const n=m.onAdd(this);this._controls.push(m);const u=this._controlPositions[e];return e.indexOf("bottom")!==-1?u.insertBefore(n,u.firstChild):u.appendChild(n),this}removeControl(m){if(!m||!m.onRemove)return this.fire(new l.k(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const e=this._controls.indexOf(m);return e>-1&&this._controls.splice(e,1),m.onRemove(this),this}hasControl(m){return this._controls.indexOf(m)>-1}calculateCameraOptionsFromTo(m,e,n,u){return u==null&&this.terrain&&(u=this.terrain.getElevationForLngLatZoom(n,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(m,e,n,u)}resize(m,e=!0){const[n,u]=this._containerDimensions(),f=this._getClampedPixelRatio(n,u);if(this._resizeCanvas(n,u,f),this.painter.resize(n,u,f),this.painter.overLimit()){const D=this.painter.context.gl;this._maxCanvasSize=[D.drawingBufferWidth,D.drawingBufferHeight];const T=this._getClampedPixelRatio(n,u);this._resizeCanvas(n,u,T),this.painter.resize(n,u,T)}this._resizeTransform(e);const y=!this._moving;return y&&(this.stop(),this.fire(new l.l("movestart",m)).fire(new l.l("move",m))),this.fire(new l.l("resize",m)),y&&this.fire(new l.l("moveend",m)),this}_resizeTransform(m=!0){var e;const[n,u]=this._containerDimensions();this.transform.resize(n,u,m),(e=this._requestedCameraState)===null||e===void 0||e.resize(n,u,m)}_getClampedPixelRatio(m,e){const{0:n,1:u}=this._maxCanvasSize,f=this.getPixelRatio(),y=m*f,D=e*f;return Math.min(y>n?n/y:1,D>u?u/D:1)*f}getPixelRatio(){var m;return(m=this._overridePixelRatio)!==null&&m!==void 0?m:devicePixelRatio}setPixelRatio(m){this._overridePixelRatio=m,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(m){return this.transform.setMaxBounds(yn.convert(m)),this._update()}setMinZoom(m){if((m=m??-2)>=-2&&m<=this.transform.maxZoom)return this.transform.setMinZoom(m),this._update(),this.getZoom()<m&&this.setZoom(m),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(m){if((m=m??22)>=this.transform.minZoom)return this.transform.setMaxZoom(m),this._update(),this.getZoom()>m&&this.setZoom(m),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(m){if((m=m??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(m>=0&&m<=this.transform.maxPitch)return this.transform.setMinPitch(m),this._update(),this.getPitch()<m&&this.setPitch(m),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(m){if((m=m??60)>180)throw new Error("maxPitch must be less than or equal to 180");if(m>=this.transform.minPitch)return this.transform.setMaxPitch(m),this._update(),this.getPitch()>m&&this.setPitch(m),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(m){return this.transform.setRenderWorldCopies(m),this._update()}project(m){return this.transform.locationToScreenPoint(l.Q.convert(m),this.style&&this.terrain)}unproject(m){return this.transform.screenPointToLocation(l.P.convert(m),this.terrain)}isMoving(){var m;return this._moving||((m=this.handlers)===null||m===void 0?void 0:m.isMoving())}isZooming(){var m;return this._zooming||((m=this.handlers)===null||m===void 0?void 0:m.isZooming())}isRotating(){var m;return this._rotating||((m=this.handlers)===null||m===void 0?void 0:m.isRotating())}_createDelegatedListener(m,e,n){if(m==="mouseenter"||m==="mouseover"){let u=!1;return{layers:e,listener:n,delegates:{mousemove:y=>{const D=e.filter(k=>this.getLayer(k)),T=D.length!==0?this.queryRenderedFeatures(y.point,{layers:D}):[];T.length?u||(u=!0,n.call(this,new la(m,this,y.originalEvent,{features:T}))):u=!1},mouseout:()=>{u=!1}}}}if(m==="mouseleave"||m==="mouseout"){let u=!1;return{layers:e,listener:n,delegates:{mousemove:D=>{const T=e.filter(k=>this.getLayer(k));(T.length!==0?this.queryRenderedFeatures(D.point,{layers:T}):[]).length?u=!0:u&&(u=!1,n.call(this,new la(m,this,D.originalEvent)))},mouseout:D=>{u&&(u=!1,n.call(this,new la(m,this,D.originalEvent)))}}}}{const u=f=>{const y=e.filter(T=>this.getLayer(T)),D=y.length!==0?this.queryRenderedFeatures(f.point,{layers:y}):[];D.length&&(f.features=D,n.call(this,f),delete f.features)};return{layers:e,listener:n,delegates:{[m]:u}}}}_saveDelegatedListener(m,e){this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[m]=this._delegatedListeners[m]||[],this._delegatedListeners[m].push(e)}_removeDelegatedListener(m,e,n){if(!this._delegatedListeners||!this._delegatedListeners[m])return;const u=this._delegatedListeners[m];for(let f=0;f<u.length;f++){const y=u[f];if(y.listener===n&&y.layers.length===e.length&&y.layers.every(D=>e.includes(D))){for(const D in y.delegates)this.off(D,y.delegates[D]);return void u.splice(f,1)}}}on(m,e,n){if(n===void 0)return super.on(m,e);const u=typeof e=="string"?[e]:e,f=this._createDelegatedListener(m,u,n);this._saveDelegatedListener(m,f);for(const y in f.delegates)this.on(y,f.delegates[y]);return{unsubscribe:()=>{this._removeDelegatedListener(m,u,n)}}}once(m,e,n){if(n===void 0)return super.once(m,e);const u=typeof e=="string"?[e]:e,f=this._createDelegatedListener(m,u,n);for(const y in f.delegates){const D=f.delegates[y];f.delegates[y]=(...T)=>{this._removeDelegatedListener(m,u,n),D(...T)}}this._saveDelegatedListener(m,f);for(const y in f.delegates)this.once(y,f.delegates[y]);return this}off(m,e,n){return n===void 0?super.off(m,e):(this._removeDelegatedListener(m,typeof e=="string"?[e]:e,n),this)}queryRenderedFeatures(m,e){if(!this.style)return[];let n;const u=m instanceof l.P||Array.isArray(m),f=u?m:[[0,0],[this.transform.width,this.transform.height]];if(e=e||(u?{}:m)||{},f instanceof l.P||typeof f[0]=="number")n=[l.P.convert(f)];else{const y=l.P.convert(f[0]),D=l.P.convert(f[1]);n=[y,new l.P(D.x,y.y),D,new l.P(y.x,D.y),y]}return this.style.queryRenderedFeatures(n,e,this.transform)}querySourceFeatures(m,e){return this.style.querySourceFeatures(m,e)}setStyle(m,e){return(e=l.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},e)).diff!==!1&&e.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&m?(this._diffStyle(m,e),this):(this._localIdeographFontFamily=e.localIdeographFontFamily,this._updateStyle(m,e))}setTransformRequest(m){return this._requestManager.setTransformRequest(m),this}_getUIString(m){const e=this._locale[m];if(e==null)throw new Error(`Missing UI string '${m}'`);return e}_updateStyle(m,e){var n,u;if(e.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(m,e));const f=this.style&&e.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!m)),m?(this.style=new Y0(this,e||{}),this.style.setEventedParent(this,{style:this.style}),typeof m=="string"?this.style.loadURL(m,e,f):this.style.loadJSON(m,e,f),this):((u=(n=this.style)===null||n===void 0?void 0:n.projection)===null||u===void 0||u.destroy(),delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new Y0(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(m,e){if(typeof m=="string"){const n=this._requestManager.transformRequest(m,"Style");l.j(n,new AbortController).then(u=>{this._updateDiff(u.data,e)}).catch(u=>{u&&this.fire(new l.k(u))})}else typeof m=="object"&&this._updateDiff(m,e)}_updateDiff(m,e){try{this.style.setState(m,e)&&this._update(!0)}catch(n){l.w(`Unable to perform style diff: ${n.message||n.error||n}.  Rebuilding the style from scratch.`),this._updateStyle(m,e)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():l.w("There is no style added to the map.")}addSource(m,e){return this._lazyInitEmptyStyle(),this.style.addSource(m,e),this._update(!0)}isSourceLoaded(m){const e=this.style&&this.style.sourceCaches[m];if(e!==void 0)return e.loaded();this.fire(new l.k(new Error(`There is no source with ID '${m}'`)))}setTerrain(m){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),m){const e=this.style.sourceCaches[m.source];if(!e)throw new Error(`cannot load terrain, because there exists no source with ID: ${m.source}`);this.terrain===null&&e.reload();for(const n in this.style._layers){const u=this.style._layers[n];u.type==="hillshade"&&u.source===m.source&&l.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new Ku(this.painter,e,m),this.painter.renderToTexture=new Xu(this.painter,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._terrainDataCallback=n=>{var u;n.dataType==="style"?this.terrain.sourceCache.freeRtt():n.dataType==="source"&&n.tile&&(n.sourceId!==m.source||this._elevationFreeze||(this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))),((u=n.source)===null||u===void 0?void 0:u.type)==="image"?this.terrain.sourceCache.freeRtt():this.terrain.sourceCache.freeRtt(n.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0);return this.fire(new l.l("terrain",{terrain:m})),this}getTerrain(){var m,e;return(e=(m=this.terrain)===null||m===void 0?void 0:m.options)!==null&&e!==void 0?e:null}areTilesLoaded(){const m=this.style&&this.style.sourceCaches;for(const e in m){const n=m[e]._tiles;for(const u in n){const f=n[u];if(f.state!=="loaded"&&f.state!=="errored")return!1}}return!0}removeSource(m){return this.style.removeSource(m),this._update(!0)}getSource(m){return this.style.getSource(m)}setSourceTileLodParams(m,e,n){if(n){const u=this.getSource(n);if(!u)throw new Error(`There is no source with ID "${n}", cannot set LOD parameters`);u.calculateTileZoom=Ze(Math.max(1,m),Math.max(1,e))}else for(const u in this.style.sourceCaches)this.style.sourceCaches[u].getSource().calculateTileZoom=Ze(Math.max(1,m),Math.max(1,e));return this._update(!0),this}refreshTiles(m,e){const n=this.style.sourceCaches[m];if(!n)throw new Error(`There is no source cache with ID "${m}", cannot refresh tile`);e===void 0?n.reload():n.refreshTiles(e.map(u=>new l.a1(u.z,u.x,u.y)))}addImage(m,e,n={}){const{pixelRatio:u=1,sdf:f=!1,stretchX:y,stretchY:D,content:T,textFitWidth:k,textFitHeight:z}=n;if(this._lazyInitEmptyStyle(),!(e instanceof HTMLImageElement||l.b(e))){if(e.width===void 0||e.height===void 0)return this.fire(new l.k(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:O,height:W,data:Z}=e,Q=e;return this.style.addImage(m,{data:new l.R({width:O,height:W},new Uint8Array(Z)),pixelRatio:u,stretchX:y,stretchY:D,content:T,textFitWidth:k,textFitHeight:z,sdf:f,version:0,userImage:Q}),Q.onAdd&&Q.onAdd(this,m),this}}{const{width:O,height:W,data:Z}=ce.getImageData(e);this.style.addImage(m,{data:new l.R({width:O,height:W},Z),pixelRatio:u,stretchX:y,stretchY:D,content:T,textFitWidth:k,textFitHeight:z,sdf:f,version:0})}}updateImage(m,e){const n=this.style.getImage(m);if(!n)return this.fire(new l.k(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const u=e instanceof HTMLImageElement||l.b(e)?ce.getImageData(e):e,{width:f,height:y,data:D}=u;if(f===void 0||y===void 0)return this.fire(new l.k(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(f!==n.data.width||y!==n.data.height)return this.fire(new l.k(new Error("The width and height of the updated image must be that same as the previous version of the image")));const T=!(e instanceof HTMLImageElement||l.b(e));return n.data.replace(D,T),this.style.updateImage(m,n),this}getImage(m){return this.style.getImage(m)}hasImage(m){return m?!!this.style.getImage(m):(this.fire(new l.k(new Error("Missing required image id"))),!1)}removeImage(m){this.style.removeImage(m)}loadImage(m){return Me.getImage(this._requestManager.transformRequest(m,"Image"),new AbortController)}listImages(){return this.style.listImages()}addLayer(m,e){return this._lazyInitEmptyStyle(),this.style.addLayer(m,e),this._update(!0)}moveLayer(m,e){return this.style.moveLayer(m,e),this._update(!0)}removeLayer(m){return this.style.removeLayer(m),this._update(!0)}getLayer(m){return this.style.getLayer(m)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(m,e,n){return this.style.setLayerZoomRange(m,e,n),this._update(!0)}setFilter(m,e,n={}){return this.style.setFilter(m,e,n),this._update(!0)}getFilter(m){return this.style.getFilter(m)}setPaintProperty(m,e,n,u={}){return this.style.setPaintProperty(m,e,n,u),this._update(!0)}getPaintProperty(m,e){return this.style.getPaintProperty(m,e)}setLayoutProperty(m,e,n,u={}){return this.style.setLayoutProperty(m,e,n,u),this._update(!0)}getLayoutProperty(m,e){return this.style.getLayoutProperty(m,e)}setGlyphs(m,e={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(m,e),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(m,e,n={}){return this._lazyInitEmptyStyle(),this.style.addSprite(m,e,n,u=>{u||this._update(!0)}),this}removeSprite(m){return this._lazyInitEmptyStyle(),this.style.removeSprite(m),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(m,e={}){return this._lazyInitEmptyStyle(),this.style.setSprite(m,e,n=>{n||this._update(!0)}),this}setLight(m,e={}){return this._lazyInitEmptyStyle(),this.style.setLight(m,e),this._update(!0)}getLight(){return this.style.getLight()}setSky(m,e={}){return this._lazyInitEmptyStyle(),this.style.setSky(m,e),this._update(!0)}getSky(){return this.style.getSky()}setFeatureState(m,e){return this.style.setFeatureState(m,e),this._update()}removeFeatureState(m,e){return this.style.removeFeatureState(m,e),this._update()}getFeatureState(m){return this.style.getFeatureState(m)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let m=0,e=0;return this._container&&(m=this._container.clientWidth||400,e=this._container.clientHeight||300),[m,e]}_setupContainer(){const m=this._container;m.classList.add("maplibregl-map");const e=this._canvasContainer=oe.create("div","maplibregl-canvas-container",m);this._interactive&&e.classList.add("maplibregl-interactive"),this._canvas=oe.create("canvas","maplibregl-canvas",e),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",this._interactive?"0":"-1"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region");const n=this._containerDimensions(),u=this._getClampedPixelRatio(n[0],n[1]);this._resizeCanvas(n[0],n[1],u);const f=this._controlContainer=oe.create("div","maplibregl-control-container",m),y=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(D=>{y[D]=oe.create("div",`maplibregl-ctrl-${D} `,f)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(m,e,n){this._canvas.width=Math.floor(n*m),this._canvas.height=Math.floor(n*e),this._canvas.style.width=`${m}px`,this._canvas.style.height=`${e}px`}_setupPainter(){const m=Object.assign(Object.assign({},this._canvasContextAttributes),{alpha:!0,depth:!0,stencil:!0,premultipliedAlpha:!0});let e=null;this._canvas.addEventListener("webglcontextcreationerror",u=>{e={requestedAttributes:m},u&&(e.statusMessage=u.statusMessage,e.type=u.type)},{once:!0});let n=null;if(n=this._canvasContextAttributes.contextType?this._canvas.getContext(this._canvasContextAttributes.contextType,m):this._canvas.getContext("webgl2",m)||this._canvas.getContext("webgl",m),!n){const u="Failed to initialize WebGL";throw e?(e.message=u,new Error(JSON.stringify(e))):new Error(u)}this.painter=new Xc(n,this.transform),de.testSupport(n)}migrateProjection(m,e){super.migrateProjection(m,e),this.painter.transform=m,this.fire(new l.l("projectiontransition",{newProjection:this.style.projection.name}))}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(m){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||m,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(m){return this._update(),this._renderTaskQueue.add(m)}_cancelRenderFrame(m){this._renderTaskQueue.remove(m)}_render(m){var e,n,u,f,y;const D=this._idleTriggered?this._fadeDuration:0,T=((e=this.style.projection)===null||e===void 0?void 0:e.transitionState)>0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(m),this._removed)return;let k=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const W=this.transform.zoom,Z=ce.now();this.style.zoomHistory.update(W,Z);const Q=new l.C(W,{now:Z,fadeDuration:D,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),ie=Q.crossFadingFactor();ie===1&&ie===this._crossFadingFactor||(k=!0,this._crossFadingFactor=ie),this.style.update(Q)}const z=((n=this.style.projection)===null||n===void 0?void 0:n.transitionState)>0!==T;(u=this.style.projection)===null||u===void 0||u.setErrorQueryLatitudeDegrees(this.transform.center.lat),this.transform.setTransitionState((f=this.style.projection)===null||f===void 0?void 0:f.transitionState,(y=this.style.projection)===null||y===void 0?void 0:y.latitudeErrorCorrectionRadians),this.style&&(this._sourcesDirty||z)&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),!this._elevationFreeze&&this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0)),this._placementDirty=this.style&&this.style._updatePlacement(this.transform,this.showCollisionBoxes,D,this._crossSourceCollisions,z),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:D,showPadding:this.showPadding}),this.fire(new l.l("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,l.cn.mark(l.co.load),this.fire(new l.l("load"))),this.style&&(this.style.hasTransitions()||k)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const O=this._sourcesDirty||this._styleDirty||this._placementDirty;return O||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new l.l("idle")),!this._loaded||this._fullyLoaded||O||(this._fullyLoaded=!0,l.cn.mark(l.co.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var m;this._hash&&this._hash.remove();for(const n of this._controls)n.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),Me.removeThrottleControl(this._imageQueueHandle),(m=this._resizeObserver)===null||m===void 0||m.disconnect();const e=this.painter.context.gl.getExtension("WEBGL_lose_context");e!=null&&e.loseContext&&e.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),oe.remove(this._canvasContainer),oe.remove(this._controlContainer),this._container.removeEventListener("scroll",this._onMapScroll,!1),this._container.classList.remove("maplibregl-map"),l.cn.clearMetrics(),this._removed=!0,this.fire(new l.l("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,ce.frame(this._frameRequest,m=>{l.cn.frame(m),this._frameRequest=null;try{this._render(m)}catch(e){if(!l.cp(e)&&!function(n){return n.message===ls}(e))throw e}},()=>{}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(m){this._showTileBoundaries!==m&&(this._showTileBoundaries=m,this._update())}get showPadding(){return!!this._showPadding}set showPadding(m){this._showPadding!==m&&(this._showPadding=m,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(m){this._showCollisionBoxes!==m&&(this._showCollisionBoxes=m,m?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(m){this._showOverdrawInspector!==m&&(this._showOverdrawInspector=m,this._update())}get repaint(){return!!this._repaint}set repaint(m){this._repaint!==m&&(this._repaint=m,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(m){this._vertices=m,this._update()}get version(){return jn}getCameraTargetElevation(){return this.transform.elevation}getProjection(){return this.style.getProjection()}setProjection(m){return this._lazyInitEmptyStyle(),this.style.setProjection(m),this._update(!0)}},A.MapMouseEvent=la,A.MapTouchEvent=vl,A.MapWheelEvent=mo,A.Marker=cs,A.NavigationControl=class{constructor(m){this._updateZoomButtons=()=>{const e=this._map.getZoom(),n=e===this._map.getMaxZoom(),u=e===this._map.getMinZoom();this._zoomInButton.disabled=n,this._zoomOutButton.disabled=u,this._zoomInButton.setAttribute("aria-disabled",n.toString()),this._zoomOutButton.setAttribute("aria-disabled",u.toString())},this._rotateCompassArrow=()=>{this._compassIcon.style.transform=this.options.visualizePitch&&this.options.visualizeRoll?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateZ(${-this._map.transform.roll}deg) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizeRoll?`rotate(${-this._map.transform.bearing-this._map.transform.roll}deg)`:`rotate(${-this._map.transform.bearing}deg)`},this._setButtonTitle=(e,n)=>{const u=this._map._getUIString(`NavigationControl.${n}`);e.title=u,e.setAttribute("aria-label",u)},this.options=l.e({},$o,m),this._container=oe.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",e=>e.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",e=>this._map.zoomIn({},{originalEvent:e})),oe.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",e=>this._map.zoomOut({},{originalEvent:e})),oe.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",e=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:e}):this._map.resetNorth({},{originalEvent:e})}),this._compassIcon=oe.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(m){return this._map=m,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.on("roll",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Zl(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){oe.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.off("roll",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(m,e){const n=oe.create("button",m,this._container);return n.type="button",n.addEventListener("click",e),n}},A.Popup=class extends l.E{constructor(m){super(),this._updateOpacity=()=>{this.options.locationOccludedOpacity!==void 0&&(this._container.style.opacity=this._map.transform.isLocationOccluded(this.getLngLat())?`${this.options.locationOccludedOpacity}`:void 0)},this.remove=()=>(this._content&&oe.remove(this._content),this._container&&(oe.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new l.l("close"))),this),this._onMouseUp=e=>{this._update(e.point)},this._onMouseMove=e=>{this._update(e.point)},this._onDrag=e=>{this._update(e.point)},this._update=e=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=oe.create("div","maplibregl-popup",this._map.getContainer()),this._tip=oe.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const D of this.options.className.split(" "))this._container.classList.add(D);this._closeButton&&this._closeButton.setAttribute("aria-label",this._map._getUIString("Popup.Close")),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=Dl(this._lngLat,this._flatPos,this._map.transform,this._trackPointer),this._trackPointer&&!e)return;const n=this._flatPos=this._pos=this._trackPointer&&e?e:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&e?e:this._map.transform.locationToScreenPoint(this._lngLat));let u=this.options.anchor;const f=hs(this.options.offset);if(!u){const D=this._container.offsetWidth,T=this._container.offsetHeight;let k;k=n.y+f.bottom.y<T?["top"]:n.y>this._map.transform.height-T?["bottom"]:[],n.x<D/2?k.push("left"):n.x>this._map.transform.width-D/2&&k.push("right"),u=k.length===0?"bottom":k.join("-")}let y=n.add(f[u]);this.options.subpixelPositioning||(y=y.round()),oe.setTransform(this._container,`${jo[u]} translate(${y.x}px,${y.y}px)`),$a(this._container,u,"popup"),this._updateOpacity()},this._onClose=()=>{this.remove()},this.options=l.e(Object.create(Yu),m)}addTo(m){return this._map&&this.remove(),this._map=m,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new l.l("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(m){return this._lngLat=l.Q.convert(m),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(m){return this.setDOMContent(document.createTextNode(m))}setHTML(m){const e=document.createDocumentFragment(),n=document.createElement("body");let u;for(n.innerHTML=m;u=n.firstChild,u;)e.appendChild(u);return this.setDOMContent(e)}getMaxWidth(){var m;return(m=this._container)===null||m===void 0?void 0:m.style.maxWidth}setMaxWidth(m){return this.options.maxWidth=m,this._update(),this}setDOMContent(m){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=oe.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(m),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(m){return this._container&&this._container.classList.add(m),this}removeClassName(m){return this._container&&this._container.classList.remove(m),this}setOffset(m){return this.options.offset=m,this._update(),this}toggleClassName(m){if(this._container)return this._container.classList.toggle(m)}setSubpixelPositioning(m){this.options.subpixelPositioning=m}_createCloseButton(){this.options.closeButton&&(this._closeButton=oe.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const m=this._container.querySelector(Qc);m&&m.focus()}},A.RasterDEMTileSource=Xr,A.RasterTileSource=Ir,A.ScaleControl=class{constructor(m){this._onMove=()=>{Ms(this._map,this._container,this.options)},this.setUnit=e=>{this.options.unit=e,Ms(this._map,this._container,this.options)},this.options=Object.assign(Object.assign({},B0),m)}getDefaultPosition(){return"bottom-left"}onAdd(m){return this._map=m,this._container=oe.create("div","maplibregl-ctrl maplibregl-ctrl-scale",m.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){oe.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},A.ScrollZoomHandler=sr,A.Style=Y0,A.TerrainControl=class{constructor(m){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=m}onAdd(m){return this._map=m,this._container=oe.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=oe.create("button","maplibregl-ctrl-terrain",this._container),oe.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){oe.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},A.TwoFingersTouchPitchHandler=pu,A.TwoFingersTouchRotateHandler=un,A.TwoFingersTouchZoomHandler=Ss,A.TwoFingersTouchZoomRotateHandler=Fo,A.VectorTileSource=fi,A.VideoSource=lr,A.addSourceType=(m,e)=>l._(void 0,void 0,void 0,function*(){if(ti(m))throw new Error(`A source type called "${m}" already exists.`);((n,u)=>{Lr[n]=u})(m,e)}),A.clearPrewarmedResources=function(){const m=cn;m&&(m.isPreloaded()&&m.numActive()===1?(m.release(We),cn=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},A.createTileMesh=$s,A.getMaxParallelImageRequests=function(){return l.a.MAX_PARALLEL_IMAGE_REQUESTS},A.getRTLTextPluginStatus=function(){return Yr().getRTLTextPluginStatus()},A.getVersion=function(){return ps},A.getWorkerCount=function(){return St.workerCount},A.getWorkerUrl=function(){return l.a.WORKER_URL},A.importScriptInWorkers=function(m){return Fn().broadcast("IS",m)},A.prewarm=function(){gn().acquire(We)},A.setMaxParallelImageRequests=function(m){l.a.MAX_PARALLEL_IMAGE_REQUESTS=m},A.setRTLTextPlugin=function(m,e){return Yr().setRTLTextPlugin(m,e)},A.setWorkerCount=function(m){St.workerCount=m},A.setWorkerUrl=function(m){l.a.WORKER_URL=m}});var E=d;return E})}(_m)),_m.exports}var qA=HA();const of=zm(qA);var zu=Uint8Array,gf=Uint16Array,KA=Int32Array,zx=new zu([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Gx=new zu([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),XA=new zu([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Lx=function(o,p){for(var d=new gf(31),w=0;w<31;++w)d[w]=p+=1<<o[w-1];for(var C=new KA(d[30]),w=1;w<30;++w)for(var E=d[w];E<d[w+1];++E)C[E]=E-d[w]<<5|w;return{b:d,r:C}},Bx=Lx(zx,2),Ox=Bx.b,YA=Bx.r;Ox[28]=258,YA[258]=28;var QA=Lx(Gx,0),JA=QA.b,v1=new gf(32768);for(var Ra=0;Ra<32768;++Ra){var qp=(Ra&43690)>>1|(Ra&21845)<<1;qp=(qp&52428)>>2|(qp&13107)<<2,qp=(qp&61680)>>4|(qp&3855)<<4,v1[Ra]=((qp&65280)>>8|(qp&255)<<8)>>1}var ug=function(o,p,d){for(var w=o.length,C=0,E=new gf(p);C<w;++C)o[C]&&++E[o[C]-1];var A=new gf(p);for(C=1;C<p;++C)A[C]=A[C-1]+E[C-1]<<1;var l;if(d){l=new gf(1<<p);var V=15-p;for(C=0;C<w;++C)if(o[C])for(var q=C<<4|o[C],ue=p-o[C],te=A[o[C]-1]++<<ue,ce=te|(1<<ue)-1;te<=ce;++te)l[v1[te]>>V]=q}else for(l=new gf(w),C=0;C<w;++C)o[C]&&(l[C]=v1[A[o[C]-1]++]>>15-o[C]);return l},Dg=new zu(288);for(var Ra=0;Ra<144;++Ra)Dg[Ra]=8;for(var Ra=144;Ra<256;++Ra)Dg[Ra]=9;for(var Ra=256;Ra<280;++Ra)Dg[Ra]=7;for(var Ra=280;Ra<288;++Ra)Dg[Ra]=8;var Fx=new zu(32);for(var Ra=0;Ra<32;++Ra)Fx[Ra]=5;var eS=ug(Dg,9,1),tS=ug(Fx,5,1),jy=function(o){for(var p=o[0],d=1;d<o.length;++d)o[d]>p&&(p=o[d]);return p},Bc=function(o,p,d){var w=p/8|0;return(o[w]|o[w+1]<<8)>>(p&7)&d},Vy=function(o,p){var d=p/8|0;return(o[d]|o[d+1]<<8|o[d+2]<<16)>>(p&7)},nS=function(o){return(o+7)/8|0},rS=function(o,p,d){return(d==null||d>o.length)&&(d=o.length),new zu(o.subarray(p,d))},iS=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Uu=function(o,p,d){var w=new Error(p||iS[o]);if(w.code=o,Error.captureStackTrace&&Error.captureStackTrace(w,Uu),!d)throw w;return w},H1=function(o,p,d,w){var C=o.length,E=0;if(!C||p.f&&!p.l)return d||new zu(0);var A=!d,l=A||p.i!=2,V=p.i;A&&(d=new zu(C*3));var q=function(Nn){var Kn=d.length;if(Nn>Kn){var Hn=new zu(Math.max(Kn*2,Nn));Hn.set(d),d=Hn}},ue=p.f||0,te=p.p||0,ce=p.b||0,oe=p.l,de=p.d,xe=p.m,Pe=p.n,He=C*8;do{if(!oe){ue=Bc(o,te,1);var rt=Bc(o,te+1,3);if(te+=3,rt)if(rt==1)oe=eS,de=tS,xe=9,Pe=5;else if(rt==2){var je=Bc(o,te,31)+257,ot=Bc(o,te+10,15)+4,Pt=je+Bc(o,te+5,31)+1;te+=14;for(var Jt=new zu(Pt),ye=new zu(19),Dt=0;Dt<ot;++Dt)ye[XA[Dt]]=Bc(o,te+Dt*3,7);te+=ot*3;for(var Mt=jy(ye),Wt=(1<<Mt)-1,Vt=ug(ye,Mt,1),Dt=0;Dt<Pt;){var Nt=Vt[Bc(o,te,Wt)];te+=Nt&15;var ze=Nt>>4;if(ze<16)Jt[Dt++]=ze;else{var $t=0,dn=0;for(ze==16?(dn=3+Bc(o,te,3),te+=2,$t=Jt[Dt-1]):ze==17?(dn=3+Bc(o,te,7),te+=3):ze==18&&(dn=11+Bc(o,te,127),te+=7);dn--;)Jt[Dt++]=$t}}var yt=Jt.subarray(0,je),mt=Jt.subarray(je);xe=jy(yt),Pe=jy(mt),oe=ug(yt,xe,1),de=ug(mt,Pe,1)}else Uu(1);else{var ze=nS(te)+4,Me=o[ze-4]|o[ze-3]<<8,Ge=ze+Me;if(Ge>C){V&&Uu(0);break}l&&q(ce+Me),d.set(o.subarray(ze,Ge),ce),p.b=ce+=Me,p.p=te=Ge*8,p.f=ue;continue}if(te>He){V&&Uu(0);break}}l&&q(ce+131072);for(var Ot=(1<<xe)-1,We=(1<<Pe)-1,St=te;;St=te){var $t=oe[Vy(o,te)&Ot],mn=$t>>4;if(te+=$t&15,te>He){V&&Uu(0);break}if($t||Uu(2),mn<256)d[ce++]=mn;else if(mn==256){St=te,oe=null;break}else{var cn=mn-254;if(mn>264){var Dt=mn-257,kt=zx[Dt];cn=Bc(o,te,(1<<kt)-1)+Ox[Dt],te+=kt}var gn=de[Vy(o,te)&We],wn=gn>>4;gn||Uu(3),te+=gn&15;var mt=JA[wn];if(wn>3){var kt=Gx[wn];mt+=Vy(o,te)&(1<<kt)-1,te+=kt}if(te>He){V&&Uu(0);break}l&&q(ce+131072);var Fn=ce+cn;if(ce<mt){var Rn=E-mt,An=Math.min(mt,Fn);for(Rn+ce<0&&Uu(3);ce<An;++ce)d[ce]=w[Rn+ce]}for(;ce<Fn;++ce)d[ce]=d[ce-mt]}}p.l=oe,p.p=St,p.b=ce,p.f=ue,oe&&(ue=1,p.m=xe,p.d=de,p.n=Pe)}while(!ue);return ce!=d.length&&A?rS(d,0,ce):d.subarray(0,ce)},aS=new zu(0),oS=function(o){(o[0]!=31||o[1]!=139||o[2]!=8)&&Uu(6,"invalid gzip data");var p=o[3],d=10;p&4&&(d+=(o[10]|o[11]<<8)+2);for(var w=(p>>3&1)+(p>>4&1);w>0;w-=!o[d++]);return d+(p&2)},sS=function(o){var p=o.length;return(o[p-4]|o[p-3]<<8|o[p-2]<<16|o[p-1]<<24)>>>0},lS=function(o,p){return((o[0]&15)!=8||o[0]>>4>7||(o[0]<<8|o[1])%31)&&Uu(6,"invalid zlib data"),(o[1]>>5&1)==1&&Uu(6,"invalid zlib data: "+(o[1]&32?"need":"unexpected")+" dictionary"),(o[1]>>3&4)+2};function uS(o,p){return H1(o,{i:2},p,p)}function cS(o,p){var d=oS(o);return d+8>o.length&&Uu(6,"invalid gzip data"),H1(o.subarray(d,-8),{i:2},new zu(sS(o)),p)}function hS(o,p){return H1(o.subarray(lS(o),-4),{i:2},p,p)}function pS(o,p){return o[0]==31&&o[1]==139&&o[2]==8?cS(o,p):(o[0]&15)!=8||o[0]>>4>7||(o[0]<<8|o[1])%31?uS(o,p):hS(o,p)}var dS=typeof TextDecoder<"u"&&new TextDecoder,fS=0;try{dS.decode(aS,{stream:!0}),fS=1}catch{}var gS=Object.defineProperty,cg=Math.pow,Ji=(o,p)=>gS(o,"name",{value:p,configurable:!0}),il=(o,p,d)=>new Promise((w,C)=>{var E=V=>{try{l(d.next(V))}catch(q){C(q)}},A=V=>{try{l(d.throw(V))}catch(q){C(q)}},l=V=>V.done?w(V.value):Promise.resolve(V.value).then(E,A);l((d=d.apply(o,p)).next())});Ji((o,p)=>{let d=!1,w="",C=L.GridLayer.extend({createTile:Ji((E,A)=>{let l=document.createElement("img"),V=new AbortController,q=V.signal;return l.cancel=()=>{V.abort()},d||(o.getHeader().then(ue=>{ue.tileType===1?console.error("Error: archive contains MVT vector tiles, but leafletRasterLayer is for displaying raster tiles. See https://github.com/protomaps/PMTiles/tree/main/js for details."):ue.tileType===2?w="image/png":ue.tileType===3?w="image/jpeg":ue.tileType===4?w="image/webp":ue.tileType===5&&(w="image/avif")}),d=!0),o.getZxy(E.z,E.x,E.y,q).then(ue=>{if(ue){let te=new Blob([ue.data],{type:w}),ce=window.URL.createObjectURL(te);l.src=ce,l.cancel=void 0,A(void 0,l)}}).catch(ue=>{if(ue.name!=="AbortError")throw ue}),l},"createTile"),_removeTile:Ji(function(E){let A=this._tiles[E];A&&(A.el.cancel&&A.el.cancel(),A.el.width=0,A.el.height=0,A.el.deleted=!0,L.DomUtil.remove(A.el),delete this._tiles[E],this.fire("tileunload",{tile:A.el,coords:this._keyToTileCoords(E)}))},"_removeTile")});return new C(p)},"leafletRasterLayer");var mS=Ji(o=>(p,d)=>{if(d instanceof AbortController)return o(p,d);let w=new AbortController;return o(p,w).then(C=>d(void 0,C.data,C.cacheControl||"",C.expires||""),C=>d(C)).catch(C=>d(C)),{cancel:Ji(()=>w.abort(),"cancel")}},"v3compat"),Nx=class{constructor(p){this.tilev4=Ji((d,w)=>il(this,null,function*(){if(d.type==="json"){let oe=d.url.substr(10),de=this.tiles.get(oe);if(de||(de=new Tv(oe),this.tiles.set(oe,de)),this.metadata)return{data:yield de.getTileJson(d.url)};let xe=yield de.getHeader();return(xe.minLon>=xe.maxLon||xe.minLat>=xe.maxLat)&&console.error(`Bounds of PMTiles archive ${xe.minLon},${xe.minLat},${xe.maxLon},${xe.maxLat} are not valid.`),{data:{tiles:[`${d.url}/{z}/{x}/{y}`],minzoom:xe.minZoom,maxzoom:xe.maxZoom,bounds:[xe.minLon,xe.minLat,xe.maxLon,xe.maxLat]}}}let C=new RegExp(/pmtiles:\/\/(.+)\/(\d+)\/(\d+)\/(\d+)/),E=d.url.match(C);if(!E)throw new Error("Invalid PMTiles protocol URL");let A=E[1],l=this.tiles.get(A);l||(l=new Tv(A),this.tiles.set(A,l));let V=E[2],q=E[3],ue=E[4],te=yield l.getHeader(),ce=yield l==null?void 0:l.getZxy(+V,+q,+ue,w.signal);if(ce)return{data:new Uint8Array(ce.data),cacheControl:ce.cacheControl,expires:ce.expires};if(te.tileType===1){if(this.errorOnMissingTile)throw new Error("Tile not found.");return{data:new Uint8Array}}return{data:null}}),"tilev4"),this.tile=mS(this.tilev4),this.tiles=new Map,this.metadata=(p==null?void 0:p.metadata)||!1,this.errorOnMissingTile=(p==null?void 0:p.errorOnMissingTile)||!1}add(p){this.tiles.set(p.source.getKey(),p)}get(p){return this.tiles.get(p)}};Ji(Nx,"Protocol");var yS=Nx;function $x(o,p){return(p>>>0)*4294967296+(o>>>0)}Ji($x,"toNum");function jx(o,p){let d=p.buf,w=d[p.pos++],C=(w&112)>>4;if(w<128||(w=d[p.pos++],C|=(w&127)<<3,w<128)||(w=d[p.pos++],C|=(w&127)<<10,w<128)||(w=d[p.pos++],C|=(w&127)<<17,w<128)||(w=d[p.pos++],C|=(w&127)<<24,w<128)||(w=d[p.pos++],C|=(w&1)<<31,w<128))return $x(o,C);throw new Error("Expected varint not more than 10 bytes")}Ji(jx,"readVarintRemainder");function df(o){let p=o.buf,d=p[o.pos++],w=d&127;return d<128||(d=p[o.pos++],w|=(d&127)<<7,d<128)||(d=p[o.pos++],w|=(d&127)<<14,d<128)||(d=p[o.pos++],w|=(d&127)<<21,d<128)?w:(d=p[o.pos],w|=(d&15)<<28,jx(w,o))}Ji(df,"readVarint");function q1(o,p,d,w){if(w===0){d===1&&(p[0]=o-1-p[0],p[1]=o-1-p[1]);let C=p[0];p[0]=p[1],p[1]=C}}Ji(q1,"rotate");function Vx(o,p){let d=cg(2,o),w=p,C=p,E=p,A=[0,0],l=1;for(;l<d;)w=1&E/2,C=1&(E^w),q1(l,A,w,C),A[0]+=l*w,A[1]+=l*C,E=E/4,l*=2;return[o,A[0],A[1]]}Ji(Vx,"idOnLevel");var _S=[0,1,5,21,85,341,1365,5461,21845,87381,349525,1398101,5592405,22369621,89478485,357913941,1431655765,5726623061,22906492245,91625968981,366503875925,1466015503701,5864062014805,23456248059221,93824992236885,375299968947541,0x5555555555555];function Zx(o,p,d){if(o>26)throw new Error("Tile zoom level exceeds max safe number limit (26)");if(p>cg(2,o)-1||d>cg(2,o)-1)throw new Error("tile x/y outside zoom level bounds");let w=_S[o],C=cg(2,o),E=0,A=0,l=0,V=[p,d],q=C/2;for(;q>0;)E=(V[0]&q)>0?1:0,A=(V[1]&q)>0?1:0,l+=q*q*(3*E^A),q1(q,V,E,A),q=q/2;return w+l}Ji(Zx,"zxyToTileId");function vS(o){let p=0;for(let d=0;d<27;d++){let w=(1<<d)*(1<<d);if(p+w>o)return Vx(d,o-p);p+=w}throw new Error("Tile zoom level exceeds max safe number limit (26)")}Ji(vS,"tileIdToZxy");var xS=(o=>(o[o.Unknown=0]="Unknown",o[o.None=1]="None",o[o.Gzip=2]="Gzip",o[o.Brotli=3]="Brotli",o[o.Zstd=4]="Zstd",o))(xS||{});function Om(o,p){return il(this,null,function*(){if(p===1||p===0)return o;if(p===2){if(typeof globalThis.DecompressionStream>"u")return pS(new Uint8Array(o));let d=new Response(o).body;if(!d)throw new Error("Failed to read response stream");let w=d.pipeThrough(new globalThis.DecompressionStream("gzip"));return new Response(w).arrayBuffer()}throw new Error("Compression method not supported")})}Ji(Om,"defaultDecompress");var bS=(o=>(o[o.Unknown=0]="Unknown",o[o.Mvt=1]="Mvt",o[o.Png=2]="Png",o[o.Jpeg=3]="Jpeg",o[o.Webp=4]="Webp",o[o.Avif=5]="Avif",o))(bS||{});function Wx(o){return o===1?".mvt":o===2?".png":o===3?".jpg":o===4?".webp":o===5?".avif":""}Ji(Wx,"tileTypeExt");var wS=127;function Hx(o,p){let d=0,w=o.length-1;for(;d<=w;){let C=w+d>>1,E=p-o[C].tileId;if(E>0)d=C+1;else if(E<0)w=C-1;else return o[C]}return w>=0&&(o[w].runLength===0||p-o[w].tileId<o[w].runLength)?o[w]:null}Ji(Hx,"findTile");var DS=class{constructor(p){this.file=p}getKey(){return this.file.name}getBytes(p,d){return il(this,null,function*(){return{data:yield this.file.slice(p,p+d).arrayBuffer()}})}};Ji(DS,"FileSource");var qx=class{constructor(p,d=new Headers){this.url=p,this.customHeaders=d,this.mustReload=!1;let w="";"navigator"in globalThis&&(w=globalThis.navigator.userAgent||"");let C=w.indexOf("Windows")>-1,E=/Chrome|Chromium|Edg|OPR|Brave/.test(w);this.chromeWindowsNoCache=!1,C&&E&&(this.chromeWindowsNoCache=!0)}getKey(){return this.url}setHeaders(p){this.customHeaders=p}getBytes(p,d,w,C){return il(this,null,function*(){let E,A;w?A=w:(E=new AbortController,A=E.signal);let l=new Headers(this.customHeaders);l.set("range",`bytes=${p}-${p+d-1}`);let V;this.mustReload?V="reload":this.chromeWindowsNoCache&&(V="no-store");let q=yield fetch(this.url,{signal:A,cache:V,headers:l});if(p===0&&q.status===416){let ce=q.headers.get("Content-Range");if(!ce||!ce.startsWith("bytes */"))throw new Error("Missing content-length on 416 response");let oe=+ce.substr(8);q=yield fetch(this.url,{signal:A,cache:"reload",headers:{range:`bytes=0-${oe-1}`}})}let ue=q.headers.get("Etag");if(ue!=null&&ue.startsWith("W/")&&(ue=null),q.status===416||C&&ue&&ue!==C)throw this.mustReload=!0,new x1(`Server returned non-matching ETag ${C} after one retry. Check browser extensions and servers for issues that may affect correct ETag headers.`);if(q.status>=300)throw new Error(`Bad response code: ${q.status}`);let te=q.headers.get("Content-Length");if(q.status===200&&(!te||+te>d))throw E&&E.abort(),new Error("Server returned no content-length header or content-length exceeding request. Check that your storage backend supports HTTP Byte Serving.");return{data:yield q.arrayBuffer(),etag:ue||void 0,cacheControl:q.headers.get("Cache-Control")||void 0,expires:q.headers.get("Expires")||void 0}})}};Ji(qx,"FetchSource");var CS=qx;function lc(o,p){let d=o.getUint32(p+4,!0),w=o.getUint32(p+0,!0);return d*cg(2,32)+w}Ji(lc,"getUint64");function Kx(o,p){let d=new DataView(o),w=d.getUint8(7);if(w>3)throw new Error(`Archive is spec version ${w} but this library supports up to spec version 3`);return{specVersion:w,rootDirectoryOffset:lc(d,8),rootDirectoryLength:lc(d,16),jsonMetadataOffset:lc(d,24),jsonMetadataLength:lc(d,32),leafDirectoryOffset:lc(d,40),leafDirectoryLength:lc(d,48),tileDataOffset:lc(d,56),tileDataLength:lc(d,64),numAddressedTiles:lc(d,72),numTileEntries:lc(d,80),numTileContents:lc(d,88),clustered:d.getUint8(96)===1,internalCompression:d.getUint8(97),tileCompression:d.getUint8(98),tileType:d.getUint8(99),minZoom:d.getUint8(100),maxZoom:d.getUint8(101),minLon:d.getInt32(102,!0)/1e7,minLat:d.getInt32(106,!0)/1e7,maxLon:d.getInt32(110,!0)/1e7,maxLat:d.getInt32(114,!0)/1e7,centerZoom:d.getUint8(118),centerLon:d.getInt32(119,!0)/1e7,centerLat:d.getInt32(123,!0)/1e7,etag:p}}Ji(Kx,"bytesToHeader");function K1(o){let p={buf:new Uint8Array(o),pos:0},d=df(p),w=[],C=0;for(let E=0;E<d;E++){let A=df(p);w.push({tileId:C+A,offset:0,length:0,runLength:1}),C+=A}for(let E=0;E<d;E++)w[E].runLength=df(p);for(let E=0;E<d;E++)w[E].length=df(p);for(let E=0;E<d;E++){let A=df(p);A===0&&E>0?w[E].offset=w[E-1].offset+w[E-1].length:w[E].offset=A-1}return w}Ji(K1,"deserializeIndex");var Xx=class extends Error{};Ji(Xx,"EtagMismatch");var x1=Xx;function X1(o,p){return il(this,null,function*(){let d=yield o.getBytes(0,16384);if(new DataView(d.data).getUint16(0,!0)!==19792)throw new Error("Wrong magic number for PMTiles archive");let w=d.data.slice(0,wS),C=Kx(w,d.etag),E=d.data.slice(C.rootDirectoryOffset,C.rootDirectoryOffset+C.rootDirectoryLength),A=`${o.getKey()}|${C.etag||""}|${C.rootDirectoryOffset}|${C.rootDirectoryLength}`,l=K1(yield p(E,C.internalCompression));return[C,[A,l.length,l]]})}Ji(X1,"getHeaderAndRoot");function Y1(o,p,d,w,C){return il(this,null,function*(){let E=yield o.getBytes(d,w,void 0,C.etag),A=yield p(E.data,C.internalCompression),l=K1(A);if(l.length===0)throw new Error("Empty directory is invalid");return l})}Ji(Y1,"getDirectory");var IS=class{constructor(p=100,d=!0,w=Om){this.cache=new Map,this.maxCacheEntries=p,this.counter=1,this.decompress=w}getHeader(p){return il(this,null,function*(){let d=p.getKey(),w=this.cache.get(d);if(w)return w.lastUsed=this.counter++,w.data;let C=yield X1(p,this.decompress);return C[1]&&this.cache.set(C[1][0],{lastUsed:this.counter++,data:C[1][2]}),this.cache.set(d,{lastUsed:this.counter++,data:C[0]}),this.prune(),C[0]})}getDirectory(p,d,w,C){return il(this,null,function*(){let E=`${p.getKey()}|${C.etag||""}|${d}|${w}`,A=this.cache.get(E);if(A)return A.lastUsed=this.counter++,A.data;let l=yield Y1(p,this.decompress,d,w,C);return this.cache.set(E,{lastUsed:this.counter++,data:l}),this.prune(),l})}prune(){if(this.cache.size>this.maxCacheEntries){let p=1/0,d;this.cache.forEach((w,C)=>{w.lastUsed<p&&(p=w.lastUsed,d=C)}),d&&this.cache.delete(d)}}invalidate(p){return il(this,null,function*(){this.cache.delete(p.getKey())})}};Ji(IS,"ResolvedValueCache");var Yx=class{constructor(p=100,d=!0,w=Om){this.cache=new Map,this.invalidations=new Map,this.maxCacheEntries=p,this.counter=1,this.decompress=w}getHeader(p){return il(this,null,function*(){let d=p.getKey(),w=this.cache.get(d);if(w)return w.lastUsed=this.counter++,yield w.data;let C=new Promise((E,A)=>{X1(p,this.decompress).then(l=>{l[1]&&this.cache.set(l[1][0],{lastUsed:this.counter++,data:Promise.resolve(l[1][2])}),E(l[0]),this.prune()}).catch(l=>{A(l)})});return this.cache.set(d,{lastUsed:this.counter++,data:C}),C})}getDirectory(p,d,w,C){return il(this,null,function*(){let E=`${p.getKey()}|${C.etag||""}|${d}|${w}`,A=this.cache.get(E);if(A)return A.lastUsed=this.counter++,yield A.data;let l=new Promise((V,q)=>{Y1(p,this.decompress,d,w,C).then(ue=>{V(ue),this.prune()}).catch(ue=>{q(ue)})});return this.cache.set(E,{lastUsed:this.counter++,data:l}),l})}prune(){if(this.cache.size>=this.maxCacheEntries){let p=1/0,d;this.cache.forEach((w,C)=>{w.lastUsed<p&&(p=w.lastUsed,d=C)}),d&&this.cache.delete(d)}}invalidate(p){return il(this,null,function*(){let d=p.getKey();if(this.invalidations.get(d))return yield this.invalidations.get(d);this.cache.delete(p.getKey());let w=new Promise((C,E)=>{this.getHeader(p).then(A=>{C(),this.invalidations.delete(d)}).catch(A=>{E(A)})});this.invalidations.set(d,w)})}};Ji(Yx,"SharedPromiseCache");var AS=Yx,Qx=class{constructor(p,d,w){typeof p=="string"?this.source=new CS(p):this.source=p,w?this.decompress=w:this.decompress=Om,d?this.cache=d:this.cache=new AS}getHeader(){return il(this,null,function*(){return yield this.cache.getHeader(this.source)})}getZxyAttempt(p,d,w,C){return il(this,null,function*(){let E=Zx(p,d,w),A=yield this.cache.getHeader(this.source);if(p<A.minZoom||p>A.maxZoom)return;let l=A.rootDirectoryOffset,V=A.rootDirectoryLength;for(let q=0;q<=3;q++){let ue=yield this.cache.getDirectory(this.source,l,V,A),te=Hx(ue,E);if(te){if(te.runLength>0){let ce=yield this.source.getBytes(A.tileDataOffset+te.offset,te.length,C,A.etag);return{data:yield this.decompress(ce.data,A.tileCompression),cacheControl:ce.cacheControl,expires:ce.expires}}l=A.leafDirectoryOffset+te.offset,V=te.length}else return}throw new Error("Maximum directory depth exceeded")})}getZxy(p,d,w,C){return il(this,null,function*(){try{return yield this.getZxyAttempt(p,d,w,C)}catch(E){if(E instanceof x1)return this.cache.invalidate(this.source),yield this.getZxyAttempt(p,d,w,C);throw E}})}getMetadataAttempt(){return il(this,null,function*(){let p=yield this.cache.getHeader(this.source),d=yield this.source.getBytes(p.jsonMetadataOffset,p.jsonMetadataLength,void 0,p.etag),w=yield this.decompress(d.data,p.internalCompression),C=new TextDecoder("utf-8");return JSON.parse(C.decode(w))})}getMetadata(){return il(this,null,function*(){try{return yield this.getMetadataAttempt()}catch(p){if(p instanceof x1)return this.cache.invalidate(this.source),yield this.getMetadataAttempt();throw p}})}getTileJson(p){return il(this,null,function*(){let d=yield this.getHeader(),w=yield this.getMetadata(),C=Wx(d.tileType);return{tilejson:"3.0.0",scheme:"xyz",tiles:[`${p}/{z}/{x}/{y}${C}`],vector_layers:w.vector_layers,attribution:w.attribution,description:w.description,name:w.name,version:w.version,bounds:[d.minLon,d.minLat,d.maxLon,d.maxLat],center:[d.centerLon,d.centerLat,d.centerZoom],minzoom:d.minZoom,maxzoom:d.maxZoom}})}};Ji(Qx,"PMTiles");var Tv=Qx,rg={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var SS=rg.exports,Mv;function TS(){return Mv||(Mv=1,function(o,p){(function(){var d,w="4.17.21",C=200,E="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",A="Expected a function",l="Invalid `variable` option passed into `_.template`",V="__lodash_hash_undefined__",q=500,ue="__lodash_placeholder__",te=1,ce=2,oe=4,de=1,xe=2,Pe=1,He=2,rt=4,ze=8,Me=16,Ge=32,je=64,ot=128,Pt=256,Jt=512,ye=30,Dt="...",Mt=800,Wt=16,Vt=1,Nt=2,$t=3,dn=1/0,yt=9007199254740991,mt=17976931348623157e292,Ot=NaN,We=4294967295,St=We-1,mn=We>>>1,cn=[["ary",ot],["bind",Pe],["bindKey",He],["curry",ze],["curryRight",Me],["flip",Jt],["partial",Ge],["partialRight",je],["rearg",Pt]],kt="[object Arguments]",gn="[object Array]",wn="[object AsyncFunction]",Fn="[object Boolean]",Rn="[object Date]",An="[object DOMException]",Nn="[object Error]",Kn="[object Function]",Hn="[object GeneratorFunction]",yn="[object Map]",yr="[object Number]",fi="[object Null]",Ir="[object Object]",Xr="[object Promise]",Gi="[object Proxy]",vr="[object RegExp]",lr="[object Set]",Dn="[object String]",Lr="[object Symbol]",ti="[object Undefined]",Vi="[object WeakMap]",Ga="[object WeakSet]",Zi="[object ArrayBuffer]",Yr="[object DataView]",Li="[object Float32Array]",bi="[object Float64Array]",xr="[object Int8Array]",wi="[object Int16Array]",ni="[object Int32Array]",ma="[object Uint8Array]",Fe="[object Uint8ClampedArray]",ne="[object Uint16Array]",ae="[object Uint32Array]",_e=/\b__p \+= '';/g,Te=/\b(__p \+=) '' \+/g,Ze=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ge=/&(?:amp|lt|gt|quot|#39);/g,Je=/[&<>"']/g,Ye=RegExp(ge.source),at=RegExp(Je.source),pt=/<%-([\s\S]+?)%>/g,tt=/<%([\s\S]+?)%>/g,Rt=/<%=([\s\S]+?)%>/g,Qt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,hn=/^\w*$/,Tn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Xn=/[\\^$.*+?()[\]{}|]/g,On=RegExp(Xn.source),wt=/^\s+/,br=/\s/,dr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,wr=/\{\n\/\* \[wrapped with (.+)\] \*/,Ln=/,? & /,zt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Gn=/[()=,{}\[\]\/\s]/,nr=/\\(\\)?/g,Nr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,$r=/\w*$/,Ia=/^[-+]0x[0-9a-f]+$/i,ar=/^0b[01]+$/i,ns=/^\[object .+?Constructor\]$/,rs=/^0o[0-7]+$/i,Po=/^(?:0|[1-9]\d*)$/,ol=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Wa=/($^)/,Os=/['\n\r\u2028\u2029\\]/g,or="\\ud800-\\udfff",oi="\\u0300-\\u036f",Vr="\\ufe20-\\ufe2f",Fs="\\u20d0-\\u20ff",oo=oi+Vr+Fs,n0="\\u2700-\\u27bf",La="a-z\\xdf-\\xf6\\xf8-\\xff",na="\\xac\\xb1\\xd7\\xf7",so="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",sl="\\u2000-\\u206f",ya=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",bs="A-Z\\xc0-\\xd6\\xd8-\\xde",r0="\\ufe0e\\ufe0f",x0=na+so+sl+ya,ws="[']",i0="["+or+"]",Ns="["+x0+"]",Eo="["+oo+"]",B="\\d+",J="["+n0+"]",fe="["+La+"]",Se="[^"+or+x0+B+n0+La+bs+"]",gt="\\ud83c[\\udffb-\\udfff]",ct="(?:"+Eo+"|"+gt+")",Ut="[^"+or+"]",sn="(?:\\ud83c[\\udde6-\\uddff]){2}",_n="[\\ud800-\\udbff][\\udc00-\\udfff]",Mn="["+bs+"]",xn="\\u200d",Br="(?:"+fe+"|"+Se+")",gi="(?:"+Mn+"|"+Se+")",ra="(?:"+ws+"(?:d|ll|m|re|s|t|ve))?",er="(?:"+ws+"(?:D|LL|M|RE|S|T|VE))?",lo=ct+"?",Aa="["+r0+"]?",Sa="(?:"+xn+"(?:"+[Ut,sn,_n].join("|")+")"+Aa+lo+")*",si="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",li="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ur=Aa+lo+Sa,Ii="(?:"+[J,sn,_n].join("|")+")"+Ur,zr="(?:"+[Ut+Eo+"?",Eo,sn,_n,i0].join("|")+")",b0=RegExp(ws,"g"),Ba=RegExp(Eo,"g"),ia=RegExp(gt+"(?="+gt+")|"+zr+Ur,"g"),uo=RegExp([Mn+"?"+fe+"+"+ra+"(?="+[Ns,Mn,"$"].join("|")+")",gi+"+"+er+"(?="+[Ns,Mn+Br,"$"].join("|")+")",Mn+"?"+Br+"+"+ra,Mn+"+"+er,li,si,B,Ii].join("|"),"g"),co=RegExp("["+xn+or+oo+r0+"]"),Rr=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ui=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Un=-1,vn={};vn[Li]=vn[bi]=vn[xr]=vn[wi]=vn[ni]=vn[ma]=vn[Fe]=vn[ne]=vn[ae]=!0,vn[kt]=vn[gn]=vn[Zi]=vn[Fn]=vn[Yr]=vn[Rn]=vn[Nn]=vn[Kn]=vn[yn]=vn[yr]=vn[Ir]=vn[vr]=vn[lr]=vn[Dn]=vn[Vi]=!1;var Ar={};Ar[kt]=Ar[gn]=Ar[Zi]=Ar[Yr]=Ar[Fn]=Ar[Rn]=Ar[Li]=Ar[bi]=Ar[xr]=Ar[wi]=Ar[ni]=Ar[yn]=Ar[yr]=Ar[Ir]=Ar[vr]=Ar[lr]=Ar[Dn]=Ar[Lr]=Ar[ma]=Ar[Fe]=Ar[ne]=Ar[ae]=!0,Ar[Nn]=Ar[Kn]=Ar[Vi]=!1;var Yn={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},ho={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},aa={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ll={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},w0=parseFloat,$s=parseInt,Ds=typeof Jg=="object"&&Jg&&Jg.Object===Object&&Jg,a0=typeof self=="object"&&self&&self.Object===Object&&self,ci=Ds||a0||Function("return this")(),ul=p&&!p.nodeType&&p,po=ul&&!0&&o&&!o.nodeType&&o,cl=po&&po.exports===ul,mi=cl&&Ds.process,Bi=function(){try{var it=po&&po.require&&po.require("util").types;return it||mi&&mi.binding&&mi.binding("util")}catch{}}(),js=Bi&&Bi.isArrayBuffer,Pi=Bi&&Bi.isDate,Ai=Bi&&Bi.isMap,Cs=Bi&&Bi.isRegExp,hl=Bi&&Bi.isSet,X0=Bi&&Bi.isTypedArray;function _a(it,Lt,bt){switch(bt.length){case 0:return it.call(Lt);case 1:return it.call(Lt,bt[0]);case 2:return it.call(Lt,bt[0],bt[1]);case 3:return it.call(Lt,bt[0],bt[1],bt[2])}return it.apply(Lt,bt)}function Oi(it,Lt,bt,Sn){for(var hr=-1,Wr=it==null?0:it.length;++hr<Wr;){var sa=it[hr];Lt(Sn,sa,bt(sa),it)}return Sn}function Ei(it,Lt){for(var bt=-1,Sn=it==null?0:it.length;++bt<Sn&&Lt(it[bt],bt,it)!==!1;);return it}function fo(it,Lt){for(var bt=it==null?0:it.length;bt--&&Lt(it[bt],bt,it)!==!1;);return it}function Vs(it,Lt){for(var bt=-1,Sn=it==null?0:it.length;++bt<Sn;)if(!Lt(it[bt],bt,it))return!1;return!0}function ko(it,Lt){for(var bt=-1,Sn=it==null?0:it.length,hr=0,Wr=[];++bt<Sn;){var sa=it[bt];Lt(sa,bt,it)&&(Wr[hr++]=sa)}return Wr}function Ta(it,Lt){var bt=it==null?0:it.length;return!!bt&&Ws(it,Lt,0)>-1}function Wi(it,Lt,bt){for(var Sn=-1,hr=it==null?0:it.length;++Sn<hr;)if(bt(Lt,it[Sn]))return!0;return!1}function Zr(it,Lt){for(var bt=-1,Sn=it==null?0:it.length,hr=Array(Sn);++bt<Sn;)hr[bt]=Lt(it[bt],bt,it);return hr}function Zs(it,Lt){for(var bt=-1,Sn=Lt.length,hr=it.length;++bt<Sn;)it[hr+bt]=Lt[bt];return it}function Y0(it,Lt,bt,Sn){var hr=-1,Wr=it==null?0:it.length;for(Sn&&Wr&&(bt=it[++hr]);++hr<Wr;)bt=Lt(bt,it[hr],hr,it);return bt}function Nc(it,Lt,bt,Sn){var hr=it==null?0:it.length;for(Sn&&hr&&(bt=it[--hr]);hr--;)bt=Lt(bt,it[hr],hr,it);return bt}function D0(it,Lt){for(var bt=-1,Sn=it==null?0:it.length;++bt<Sn;)if(Lt(it[bt],bt,it))return!0;return!1}var $c=F("length");function C0(it){return it.split("")}function pl(it){return it.match(zt)||[]}function zl(it,Lt,bt){var Sn;return bt(it,function(hr,Wr,sa){if(Lt(hr,Wr,sa))return Sn=Wr,!1}),Sn}function Gl(it,Lt,bt,Sn){for(var hr=it.length,Wr=bt+(Sn?1:-1);Sn?Wr--:++Wr<hr;)if(Lt(it[Wr],Wr,it))return Wr;return-1}function Ws(it,Lt,bt){return Lt===Lt?Ou(it,Lt,bt):Gl(it,Q0,bt)}function Ro(it,Lt,bt,Sn){for(var hr=bt-1,Wr=it.length;++hr<Wr;)if(Sn(it[hr],Lt))return hr;return-1}function Q0(it){return it!==it}function J0(it,Lt){var bt=it==null?0:it.length;return bt?_t(it,Lt)/bt:Ot}function F(it){return function(Lt){return Lt==null?d:Lt[it]}}function X(it){return function(Lt){return it==null?d:it[Lt]}}function he(it,Lt,bt,Sn,hr){return hr(it,function(Wr,sa,Qr){bt=Sn?(Sn=!1,Wr):Lt(bt,Wr,sa,Qr)}),bt}function Ae(it,Lt){var bt=it.length;for(it.sort(Lt);bt--;)it[bt]=it[bt].value;return it}function _t(it,Lt){for(var bt,Sn=-1,hr=it.length;++Sn<hr;){var Wr=Lt(it[Sn]);Wr!==d&&(bt=bt===d?Wr:bt+Wr)}return bt}function st(it,Lt){for(var bt=-1,Sn=Array(it);++bt<it;)Sn[bt]=Lt(bt);return Sn}function Bt(it,Lt){return Zr(Lt,function(bt){return[bt,it[bt]]})}function ln(it){return it&&it.slice(0,Fu(it)+1).replace(wt,"")}function Bn(it){return function(Lt){return it(Lt)}}function cr(it,Lt){return Zr(Lt,function(bt){return it[bt]})}function Qn(it,Lt){return it.has(Lt)}function hi(it,Lt){for(var bt=-1,Sn=it.length;++bt<Sn&&Ws(Lt,it[bt],0)>-1;);return bt}function Oa(it,Lt){for(var bt=it.length;bt--&&Ws(Lt,it[bt],0)>-1;);return bt}function Uo(it,Lt){for(var bt=it.length,Sn=0;bt--;)it[bt]===Lt&&++Sn;return Sn}var go=X(Yn),is=X(ho);function Bu(it){return"\\"+ll[it]}function dl(it,Lt){return it==null?d:it[Lt]}function fl(it){return co.test(it)}function yp(it){return Rr.test(it)}function jc(it){for(var Lt,bt=[];!(Lt=it.next()).done;)bt.push(Lt.value);return bt}function Vc(it){var Lt=-1,bt=Array(it.size);return it.forEach(function(Sn,hr){bt[++Lt]=[hr,Sn]}),bt}function Rh(it,Lt){return function(bt){return it(Lt(bt))}}function as(it,Lt){for(var bt=-1,Sn=it.length,hr=0,Wr=[];++bt<Sn;){var sa=it[bt];(sa===Lt||sa===ue)&&(it[bt]=ue,Wr[hr++]=bt)}return Wr}function o0(it){var Lt=-1,bt=Array(it.size);return it.forEach(function(Sn){bt[++Lt]=Sn}),bt}function _p(it){var Lt=-1,bt=Array(it.size);return it.forEach(function(Sn){bt[++Lt]=[Sn,Sn]}),bt}function Ou(it,Lt,bt){for(var Sn=bt-1,hr=it.length;++Sn<hr;)if(it[Sn]===Lt)return Sn;return-1}function vp(it,Lt,bt){for(var Sn=bt+1;Sn--;)if(it[Sn]===Lt)return Sn;return Sn}function Dr(it){return fl(it)?Wc(it):$c(it)}function oa(it){return fl(it)?Uh(it):C0(it)}function Fu(it){for(var Lt=it.length;Lt--&&br.test(it.charAt(Lt)););return Lt}var Zc=X(aa);function Wc(it){for(var Lt=ia.lastIndex=0;ia.test(it);)++Lt;return Lt}function Uh(it){return it.match(ia)||[]}function zh(it){return it.match(uo)||[]}var eu=function it(Lt){Lt=Lt==null?ci:I0.defaults(ci.Object(),Lt,I0.pick(ci,ui));var bt=Lt.Array,Sn=Lt.Date,hr=Lt.Error,Wr=Lt.Function,sa=Lt.Math,Qr=Lt.Object,A0=Lt.RegExp,Hc=Lt.String,os=Lt.TypeError,zo=bt.prototype,Nu=Wr.prototype,Go=Qr.prototype,Ha=Lt["__core-js_shared__"],$u=Nu.toString,jr=Go.hasOwnProperty,S0=0,Ll=function(){var h=/[^.]+$/.exec(Ha&&Ha.keys&&Ha.keys.IE_PROTO||"");return h?"Symbol(src)_1."+h:""}(),T0=Go.toString,tu=$u.call(Qr),ju=ci._,fc=A0("^"+$u.call(jr).replace(Xn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),M0=cl?Lt.Buffer:d,ss=Lt.Symbol,Bl=Lt.Uint8Array,qc=M0?M0.allocUnsafe:d,ls=Rh(Qr.getPrototypeOf,Qr),_r=Qr.create,nu=Go.propertyIsEnumerable,ru=zo.splice,Kc=ss?ss.isConcatSpreadable:d,Is=ss?ss.iterator:d,iu=ss?ss.toStringTag:d,gc=function(){try{var h=ql(Qr,"defineProperty");return h({},"",{}),h}catch{}}(),Gh=Lt.clearTimeout!==ci.clearTimeout&&Lt.clearTimeout,ki=Sn&&Sn.now!==ci.Date.now&&Sn.now,Vu=Lt.setTimeout!==ci.setTimeout&&Lt.setTimeout,gl=sa.ceil,ml=sa.floor,Zu=Qr.getOwnPropertySymbols,Wu=M0?M0.isBuffer:d,P0=Lt.isFinite,E0=zo.join,Ol=Rh(Qr.keys,Qr),Fi=sa.max,Fa=sa.min,mc=Sn.now,yc=Lt.parseInt,Hu=sa.random,au=zo.reverse,ou=ql(Lt,"DataView"),k0=ql(Lt,"Map"),qu=ql(Lt,"Promise"),yl=ql(Lt,"Set"),R0=ql(Lt,"WeakMap"),su=ql(Qr,"create"),U0=R0&&new R0,Di={},Fl=Tl(ou),va=Tl(k0),Xc=Tl(qu),Nl=Tl(yl),Hs=Tl(R0),qa=ss?ss.prototype:d,Lo=qa?qa.valueOf:d,z0=qa?qa.toString:d;function pe(h){if(ka(h)&&!Mr(h)&&!(h instanceof pr)){if(h instanceof Ka)return h;if(jr.call(h,"__wrapped__"))return Fd(h)}return new Ka(h)}var lu=function(){function h(){}return function(_){if(!Ca(_))return{};if(_r)return _r(_);h.prototype=_;var M=new h;return h.prototype=d,M}}();function _l(){}function Ka(h,_){this.__wrapped__=h,this.__actions__=[],this.__chain__=!!_,this.__index__=0,this.__values__=d}pe.templateSettings={escape:pt,evaluate:tt,interpolate:Rt,variable:"",imports:{_:pe}},pe.prototype=_l.prototype,pe.prototype.constructor=pe,Ka.prototype=lu(_l.prototype),Ka.prototype.constructor=Ka;function pr(h){this.__wrapped__=h,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=We,this.__views__=[]}function s0(){var h=new pr(this.__wrapped__);return h.__actions__=Wo(this.__actions__),h.__dir__=this.__dir__,h.__filtered__=this.__filtered__,h.__iteratees__=Wo(this.__iteratees__),h.__takeCount__=this.__takeCount__,h.__views__=Wo(this.__views__),h}function la(){if(this.__filtered__){var h=new pr(this);h.__dir__=-1,h.__filtered__=!0}else h=this.clone(),h.__dir__*=-1;return h}function vl(){var h=this.__wrapped__.value(),_=this.__dir__,M=Mr(h),j=_<0,re=M?h.length:0,be=Ip(0,re,this.__views__),Ne=be.start,Qe=be.end,ut=Qe-Ne,Ht=j?Qe:Ne-1,qt=this.__iteratees__,an=qt.length,Pn=0,tr=Fa(ut,this.__takeCount__);if(!M||!j&&re==ut&&tr==ut)return Pr(h,this.__actions__);var fr=[];e:for(;ut--&&Pn<tr;){Ht+=_;for(var Fr=-1,gr=h[Ht];++Fr<an;){var ei=qt[Fr],di=ei.iteratee,ku=ei.type,v0=di(gr);if(ku==Nt)gr=v0;else if(!v0){if(ku==Vt)continue e;break e}}fr[Pn++]=gr}return fr}pr.prototype=lu(_l.prototype),pr.prototype.constructor=pr;function mo(h){var _=-1,M=h==null?0:h.length;for(this.clear();++_<M;){var j=h[_];this.set(j[0],j[1])}}function Si(){this.__data__=su?su(null):{},this.size=0}function Ci(h){var _=this.has(h)&&delete this.__data__[h];return this.size-=_?1:0,_}function As(h){var _=this.__data__;if(su){var M=_[h];return M===V?d:M}return jr.call(_,h)?_[h]:d}function Na(h){var _=this.__data__;return su?_[h]!==d:jr.call(_,h)}function Xa(h,_){var M=this.__data__;return this.size+=this.has(h)?0:1,M[h]=su&&_===d?V:_,this}mo.prototype.clear=Si,mo.prototype.delete=Ci,mo.prototype.get=As,mo.prototype.has=Na,mo.prototype.set=Xa;function yo(h){var _=-1,M=h==null?0:h.length;for(this.clear();++_<M;){var j=h[_];this.set(j[0],j[1])}}function xl(){this.__data__=[],this.size=0}function Bo(h){var _=this.__data__,M=Qa(_,h);if(M<0)return!1;var j=_.length-1;return M==j?_.pop():ru.call(_,M,1),--this.size,!0}function Ma(h){var _=this.__data__,M=Qa(_,h);return M<0?d:_[M][1]}function qs(h){return Qa(this.__data__,h)>-1}function uu(h,_){var M=this.__data__,j=Qa(M,h);return j<0?(++this.size,M.push([h,_])):M[j][1]=_,this}yo.prototype.clear=xl,yo.prototype.delete=Bo,yo.prototype.get=Ma,yo.prototype.has=qs,yo.prototype.set=uu;function Hi(h){var _=-1,M=h==null?0:h.length;for(this.clear();++_<M;){var j=h[_];this.set(j[0],j[1])}}function cu(){this.size=0,this.__data__={hash:new mo,map:new(k0||yo),string:new mo}}function Ks(h){var _=ah(this,h).delete(h);return this.size-=_?1:0,_}function Yc(h){return ah(this,h).get(h)}function _c(h){return ah(this,h).has(h)}function vc(h,_){var M=ah(this,h),j=M.size;return M.set(h,_),this.size+=M.size==j?0:1,this}Hi.prototype.clear=cu,Hi.prototype.delete=Ks,Hi.prototype.get=Yc,Hi.prototype.has=_c,Hi.prototype.set=vc;function l0(h){var _=-1,M=h==null?0:h.length;for(this.__data__=new Hi;++_<M;)this.add(h[_])}function Ss(h){return this.__data__.set(h,V),this}function Oo(h){return this.__data__.has(h)}l0.prototype.add=l0.prototype.push=Ss,l0.prototype.has=Oo;function un(h){var _=this.__data__=new yo(h);this.size=_.size}function hu(){this.__data__=new yo,this.size=0}function pu(h){var _=this.__data__,M=_.delete(h);return this.size=_.size,M}function Ts(h){return this.__data__.get(h)}function Ya(h){return this.__data__.has(h)}function bl(h,_){var M=this.__data__;if(M instanceof yo){var j=M.__data__;if(!k0||j.length<C-1)return j.push([h,_]),this.size=++M.size,this;M=this.__data__=new Hi(j)}return M.set(h,_),this.size=M.size,this}un.prototype.clear=hu,un.prototype.delete=pu,un.prototype.get=Ts,un.prototype.has=Ya,un.prototype.set=bl;function Xs(h,_){var M=Mr(h),j=!M&&Rc(h),re=!M&&!j&&wo(h),be=!M&&!j&&!re&&jp(h),Ne=M||j||re||be,Qe=Ne?st(h.length,Hc):[],ut=Qe.length;for(var Ht in h)(_||jr.call(h,Ht))&&!(Ne&&(Ht=="length"||re&&(Ht=="offset"||Ht=="parent")||be&&(Ht=="buffer"||Ht=="byteLength"||Ht=="byteOffset")||vi(Ht,ut)))&&Qe.push(Ht);return Qe}function sr(h){var _=h.length;return _?h[Ve(0,_-1)]:d}function $l(h,_){return ch(Wo(h),u0(_,0,h.length))}function xp(h){return ch(Wo(h))}function du(h,_,M){(M!==d&&!V0(h[_],M)||M===d&&!(_ in h))&&jl(h,_,M)}function G0(h,_,M){var j=h[_];(!(jr.call(h,_)&&V0(j,M))||M===d&&!(_ in h))&&jl(h,_,M)}function Qa(h,_){for(var M=h.length;M--;)if(V0(h[M][0],_))return M;return-1}function Fo(h,_,M,j){return wl(h,function(re,be,Ne){_(j,re,M(re),Ne)}),j}function yi(h,_){return h&&ks(_,G(_),h)}function No(h,_){return h&&ks(_,N(_),h)}function jl(h,_,M){_=="__proto__"&&gc?gc(h,_,{configurable:!0,enumerable:!0,value:M,writable:!0}):h[_]=M}function fu(h,_){for(var M=-1,j=_.length,re=bt(j),be=h==null;++M<j;)re[M]=be?d:g(h,_[M]);return re}function u0(h,_,M){return h===h&&(M!==d&&(h=h<=M?h:M),_!==d&&(h=h>=_?h:_)),h}function us(h,_,M,j,re,be){var Ne,Qe=_&te,ut=_&ce,Ht=_&oe;if(M&&(Ne=re?M(h,j,re,be):M(h)),Ne!==d)return Ne;if(!Ca(h))return h;var qt=Mr(h);if(qt){if(Ne=jh(h),!Qe)return Wo(h,Ne)}else{var an=Ho(h),Pn=an==Kn||an==Hn;if(wo(h))return Hl(h,Qe);if(an==Ir||an==kt||Pn&&!re){if(Ne=ut||Pn?{}:qo(h),!Qe)return ut?Qs(h,No(Ne,h)):O0(h,yi(Ne,h))}else{if(!Ar[an])return re?h:{};Ne=ad(h,an,Qe)}}be||(be=new un);var tr=be.get(h);if(tr)return tr;be.set(h,Ne),Dd(h)?h.forEach(function(gr){Ne.add(us(gr,_,M,gr,h,be))}):Pf(h)&&h.forEach(function(gr,ei){Ne.set(ei,us(gr,_,M,ei,h,be))});var fr=Ht?ut?ih:Nh:ut?N:G,Fr=qt?d:fr(h);return Ei(Fr||h,function(gr,ei){Fr&&(ei=gr,gr=h[ei]),G0(Ne,ei,us(gr,_,M,ei,h,be))}),Ne}function Vl(h){var _=G(h);return function(M){return ri(M,h,_)}}function ri(h,_,M){var j=M.length;if(h==null)return!j;for(h=Qr(h);j--;){var re=M[j],be=_[re],Ne=h[re];if(Ne===d&&!(re in h)||!be(Ne))return!1}return!0}function gu(h,_,M){if(typeof h!="function")throw new os(A);return $0(function(){h.apply(d,M)},_)}function Ys(h,_,M,j){var re=-1,be=Ta,Ne=!0,Qe=h.length,ut=[],Ht=_.length;if(!Qe)return ut;M&&(_=Zr(_,Bn(M))),j?(be=Wi,Ne=!1):_.length>=C&&(be=Qn,Ne=!1,_=new l0(_));e:for(;++re<Qe;){var qt=h[re],an=M==null?qt:M(qt);if(qt=j||qt!==0?qt:0,Ne&&an===an){for(var Pn=Ht;Pn--;)if(_[Pn]===an)continue e;ut.push(qt)}else be(_,an,j)||ut.push(qt)}return ut}var wl=ba($o),Lh=ba(Zl,!0);function Ku(h,_){var M=!0;return wl(h,function(j,re,be){return M=!!_(j,re,be),M}),M}function mu(h,_,M){for(var j=-1,re=h.length;++j<re;){var be=h[j],Ne=_(be);if(Ne!=null&&(Qe===d?Ne===Ne&&!d0(Ne):M(Ne,Qe)))var Qe=Ne,ut=be}return ut}function _o(h,_,M,j){var re=h.length;for(M=kr(M),M<0&&(M=-M>re?0:re+M),j=j===d||j>re?re:kr(j),j<0&&(j+=re),j=M>j?0:Rf(j);M<j;)h[M++]=_;return h}function Xu(h,_){var M=[];return wl(h,function(j,re,be){_(j,re,be)&&M.push(j)}),M}function fn(h,_,M,j,re){var be=-1,Ne=h.length;for(M||(M=Vh),re||(re=[]);++be<Ne;){var Qe=h[be];_>0&&M(Qe)?_>1?fn(Qe,_-1,M,j,re):Zs(re,Qe):j||(re[re.length]=Qe)}return re}var jn=yu(),c0=yu(!0);function $o(h,_){return h&&jn(h,_,G)}function Zl(h,_){return h&&c0(h,_,G)}function Ri(h,_){return ko(_,function(M){return Uc(h[M])})}function Dl(h,_){_=fs(_,h);for(var M=0,j=_.length;h!=null&&M<j;)h=h[el(_[M++])];return M&&M==j?h:d}function jo(h,_,M){var j=_(h);return Mr(h)?j:Zs(j,M(h))}function $a(h){return h==null?h===d?ti:fi:iu&&iu in Qr(h)?ms(h):ld(h)}function cs(h,_){return h>_}function Or(h,_){return h!=null&&jr.call(h,_)}function ii(h,_){return h!=null&&_ in Qr(h)}function L0(h,_,M){return h>=Fa(_,M)&&h<Fi(_,M)}function B0(h,_,M){for(var j=M?Wi:Ta,re=h[0].length,be=h.length,Ne=be,Qe=bt(be),ut=1/0,Ht=[];Ne--;){var qt=h[Ne];Ne&&_&&(qt=Zr(qt,Bn(_))),ut=Fa(qt.length,ut),Qe[Ne]=!M&&(_||re>=120&&qt.length>=120)?new l0(Ne&&qt):d}qt=h[0];var an=-1,Pn=Qe[0];e:for(;++an<re&&Ht.length<ut;){var tr=qt[an],fr=_?_(tr):tr;if(tr=M||tr!==0?tr:0,!(Pn?Qn(Pn,fr):j(Ht,fr,M))){for(Ne=be;--Ne;){var Fr=Qe[Ne];if(!(Fr?Qn(Fr,fr):j(h[Ne],fr,M)))continue e}Pn&&Pn.push(fr),Ht.push(tr)}}return Ht}function Ms(h,_,M,j){return $o(h,function(re,be,Ne){_(j,M(re),be,Ne)}),j}function ja(h,_,M){_=fs(_,h),h=pa(h,_);var j=h==null?h:h[el(ro(_))];return j==null?d:_a(j,h,M)}function Yu(h){return ka(h)&&$a(h)==kt}function Qc(h){return ka(h)&&$a(h)==Zi}function hs(h){return ka(h)&&$a(h)==Rn}function ps(h,_,M,j,re){return h===_?!0:h==null||_==null||!ka(h)&&!ka(_)?h!==h&&_!==_:m(h,_,M,j,ps,re)}function m(h,_,M,j,re,be){var Ne=Mr(h),Qe=Mr(_),ut=Ne?gn:Ho(h),Ht=Qe?gn:Ho(_);ut=ut==kt?Ir:ut,Ht=Ht==kt?Ir:Ht;var qt=ut==Ir,an=Ht==Ir,Pn=ut==Ht;if(Pn&&wo(h)){if(!wo(_))return!1;Ne=!0,qt=!1}if(Pn&&!qt)return be||(be=new un),Ne||jp(h)?rh(h,_,M,j,re,be):Dp(h,_,ut,M,j,re,be);if(!(M&de)){var tr=qt&&jr.call(h,"__wrapped__"),fr=an&&jr.call(_,"__wrapped__");if(tr||fr){var Fr=tr?h.value():h,gr=fr?_.value():_;return be||(be=new un),re(Fr,gr,M,j,be)}}return Pn?(be||(be=new un),rd(h,_,M,j,re,be)):!1}function e(h){return ka(h)&&Ho(h)==yn}function n(h,_,M,j){var re=M.length,be=re,Ne=!j;if(h==null)return!be;for(h=Qr(h);re--;){var Qe=M[re];if(Ne&&Qe[2]?Qe[1]!==h[Qe[0]]:!(Qe[0]in h))return!1}for(;++re<be;){Qe=M[re];var ut=Qe[0],Ht=h[ut],qt=Qe[1];if(Ne&&Qe[2]){if(Ht===d&&!(ut in h))return!1}else{var an=new un;if(j)var Pn=j(Ht,qt,ut,h,_,an);if(!(Pn===d?ps(qt,Ht,de|xe,j,an):Pn))return!1}}return!0}function u(h){if(!Ca(h)||Bd(h))return!1;var _=Uc(h)?fc:ns;return _.test(Tl(h))}function f(h){return ka(h)&&$a(h)==vr}function y(h){return ka(h)&&Ho(h)==lr}function D(h){return ka(h)&&Su(h.length)&&!!vn[$a(h)]}function T(h){return typeof h=="function"?h:h==null?Rl:typeof h=="object"?Mr(h)?Q(h[0],h[1]):Z(h):Qg(h)}function k(h){if(!vu(h))return Ol(h);var _=[];for(var M in Qr(h))jr.call(h,M)&&M!="constructor"&&_.push(M);return _}function z(h){if(!Ca(h))return lh(h);var _=vu(h),M=[];for(var j in h)j=="constructor"&&(_||!jr.call(h,j))||M.push(j);return M}function O(h,_){return h<_}function W(h,_){var M=-1,j=Pl(h)?bt(h.length):[];return wl(h,function(re,be,Ne){j[++M]=_(re,be,Ne)}),j}function Z(h){var _=Ic(h);return _.length==1&&_[0][2]?sh(_[0][0],_[0][1]):function(M){return M===h||n(M,h,_)}}function Q(h,_){return kn(h)&&Wh(_)?sh(el(h),_):function(M){var j=g(M,h);return j===d&&j===_?b(M,h):ps(_,j,de|xe)}}function ie(h,_,M,j,re){h!==_&&jn(_,function(be,Ne){if(re||(re=new un),Ca(be))De(h,_,Ne,M,ie,j,re);else{var Qe=j?j(Sl(h,Ne),be,Ne+"",h,_,re):d;Qe===d&&(Qe=be),du(h,Ne,Qe)}},N)}function De(h,_,M,j,re,be,Ne){var Qe=Sl(h,M),ut=Sl(_,M),Ht=Ne.get(ut);if(Ht){du(h,M,Ht);return}var qt=be?be(Qe,ut,M+"",h,_,Ne):d,an=qt===d;if(an){var Pn=Mr(ut),tr=!Pn&&wo(ut),fr=!Pn&&!tr&&jp(ut);qt=ut,Pn||tr||fr?Mr(Qe)?qt=Qe:Ea(Qe)?qt=Wo(Qe):tr?(an=!1,qt=Hl(ut,!0)):fr?(an=!1,qt=vo(ut,!0)):qt=[]:Np(ut)||Rc(ut)?(qt=Qe,Rc(Qe)?qt=Vg(Qe):(!Ca(Qe)||Uc(Qe))&&(qt=qo(ut))):an=!1}an&&(Ne.set(ut,qt),re(qt,ut,j,be,Ne),Ne.delete(ut)),du(h,M,qt)}function we(h,_){var M=h.length;if(M)return _+=_<0?M:0,vi(_,M)?h[_]:d}function Ce(h,_,M){_.length?_=Zr(_,function(be){return Mr(be)?function(Ne){return Dl(Ne,be.length===1?be[0]:be)}:be}):_=[Rl];var j=-1;_=Zr(_,Bn(rr()));var re=W(h,function(be,Ne,Qe){var ut=Zr(_,function(Ht){return Ht(be)});return{criteria:ut,index:++j,value:be}});return Ae(re,function(be,Ne){return Jc(be,Ne,M)})}function ke(h,_){return Le(h,_,function(M,j){return b(h,j)})}function Le(h,_,M){for(var j=-1,re=_.length,be={};++j<re;){var Ne=_[j],Qe=Dl(h,Ne);M(Qe,Ne)&&nn(be,fs(Ne,h),Qe)}return be}function Ee(h){return function(_){return Dl(_,h)}}function Be(h,_,M,j){var re=j?Ro:Ws,be=-1,Ne=_.length,Qe=h;for(h===_&&(_=Wo(_)),M&&(Qe=Zr(h,Bn(M)));++be<Ne;)for(var ut=0,Ht=_[be],qt=M?M(Ht):Ht;(ut=re(Qe,qt,ut,j))>-1;)Qe!==h&&ru.call(Qe,ut,1),ru.call(h,ut,1);return h}function $e(h,_){for(var M=h?_.length:0,j=M-1;M--;){var re=_[M];if(M==j||re!==be){var be=re;vi(re)?ru.call(h,re,1):qi(h,re)}}return h}function Ve(h,_){return h+ml(Hu()*(_-h+1))}function lt(h,_,M,j){for(var re=-1,be=Fi(gl((_-h)/(M||1)),0),Ne=bt(be);be--;)Ne[j?be:++re]=h,h+=M;return Ne}function At(h,_){var M="";if(!h||_<1||_>yt)return M;do _%2&&(M+=h),_=ml(_/2),_&&(h+=h);while(_);return M}function nt(h,_){return Js(Ni(h,_,Rl),h+"")}function ht(h){return sr(Kt(h))}function Ct(h,_){var M=Kt(h);return ch(M,u0(_,0,M.length))}function nn(h,_,M,j){if(!Ca(h))return h;_=fs(_,h);for(var re=-1,be=_.length,Ne=be-1,Qe=h;Qe!=null&&++re<be;){var ut=el(_[re]),Ht=M;if(ut==="__proto__"||ut==="constructor"||ut==="prototype")return h;if(re!=Ne){var qt=Qe[ut];Ht=j?j(qt,ut,Qe):d,Ht===d&&(Ht=Ca(qt)?qt:vi(_[re+1])?[]:{})}G0(Qe,ut,Ht),Qe=Qe[ut]}return h}var rn=U0?function(h,_){return U0.set(h,_),h}:Rl,Gt=gc?function(h,_){return gc(h,"toString",{configurable:!0,enumerable:!1,value:Id(_),writable:!0})}:Rl;function bn(h){return ch(Kt(h))}function Zn(h,_,M){var j=-1,re=h.length;_<0&&(_=-_>re?0:re+_),M=M>re?re:M,M<0&&(M+=re),re=_>M?0:M-_>>>0,_>>>=0;for(var be=bt(re);++j<re;)be[j]=h[j+_];return be}function Sr(h,_){var M;return wl(h,function(j,re,be){return M=_(j,re,be),!M}),!!M}function pi(h,_,M){var j=0,re=h==null?j:h.length;if(typeof _=="number"&&_===_&&re<=mn){for(;j<re;){var be=j+re>>>1,Ne=h[be];Ne!==null&&!d0(Ne)&&(M?Ne<=_:Ne<_)?j=be+1:re=be}return re}return Jr(h,_,Rl,M)}function Jr(h,_,M,j){var re=0,be=h==null?0:h.length;if(be===0)return 0;_=M(_);for(var Ne=_!==_,Qe=_===null,ut=d0(_),Ht=_===d;re<be;){var qt=ml((re+be)/2),an=M(h[qt]),Pn=an!==d,tr=an===null,fr=an===an,Fr=d0(an);if(Ne)var gr=j||fr;else Ht?gr=fr&&(j||Pn):Qe?gr=fr&&Pn&&(j||!tr):ut?gr=fr&&Pn&&!tr&&(j||!Fr):tr||Fr?gr=!1:gr=j?an<=_:an<_;gr?re=qt+1:be=qt}return Fa(be,St)}function Ti(h,_){for(var M=-1,j=h.length,re=0,be=[];++M<j;){var Ne=h[M],Qe=_?_(Ne):Ne;if(!M||!V0(Qe,ut)){var ut=Qe;be[re++]=Ne===0?0:Ne}}return be}function Mi(h){return typeof h=="number"?h:d0(h)?Ot:+h}function Tr(h){if(typeof h=="string")return h;if(Mr(h))return Zr(h,Tr)+"";if(d0(h))return z0?z0.call(h):"";var _=h+"";return _=="0"&&1/h==-1/0?"-0":_}function Cr(h,_,M){var j=-1,re=Ta,be=h.length,Ne=!0,Qe=[],ut=Qe;if(M)Ne=!1,re=Wi;else if(be>=C){var Ht=_?null:td(h);if(Ht)return o0(Ht);Ne=!1,re=Qn,ut=new l0}else ut=_?[]:Qe;e:for(;++j<be;){var qt=h[j],an=_?_(qt):qt;if(qt=M||qt!==0?qt:0,Ne&&an===an){for(var Pn=ut.length;Pn--;)if(ut[Pn]===an)continue e;_&&ut.push(an),Qe.push(qt)}else re(ut,an,M)||(ut!==Qe&&ut.push(an),Qe.push(qt))}return Qe}function qi(h,_){return _=fs(_,h),h=pa(h,_),h==null||delete h[el(ro(_))]}function xa(h,_,M,j){return nn(h,_,M(Dl(h,_)),j)}function ua(h,_,M,j){for(var re=h.length,be=j?re:-1;(j?be--:++be<re)&&_(h[be],be,h););return M?Zn(h,j?0:be,j?be+1:re):Zn(h,j?be+1:0,j?re:be)}function Pr(h,_){var M=h;return M instanceof pr&&(M=M.value()),Y0(_,function(j,re){return re.func.apply(re.thisArg,Zs([j],re.args))},M)}function Cl(h,_,M){var j=h.length;if(j<2)return j?Cr(h[0]):[];for(var re=-1,be=bt(j);++re<j;)for(var Ne=h[re],Qe=-1;++Qe<j;)Qe!=re&&(be[re]=Ys(be[re]||Ne,h[Qe],_,M));return Cr(fn(be,1),_,M)}function ds(h,_,M){for(var j=-1,re=h.length,be=_.length,Ne={};++j<re;){var Qe=j<be?_[j]:d;M(Ne,h[j],Qe)}return Ne}function Ps(h){return Ea(h)?h:[]}function Wl(h){return typeof h=="function"?h:Rl}function fs(h,_){return Mr(h)?h:kn(h,_)?[h]:ec(xi(h))}var h0=nt;function Vo(h,_,M){var j=h.length;return M=M===d?j:M,!_&&M>=j?h:Zn(h,_,M)}var Zo=Gh||function(h){return ci.clearTimeout(h)};function Hl(h,_){if(_)return h.slice();var M=h.length,j=qc?qc(M):new h.constructor(M);return h.copy(j),j}function Es(h){var _=new h.constructor(h.byteLength);return new Bl(_).set(new Bl(h)),_}function p0(h,_){var M=_?Es(h.buffer):h.buffer;return new h.constructor(M,h.byteOffset,h.byteLength)}function ca(h){var _=new h.constructor(h.source,$r.exec(h));return _.lastIndex=h.lastIndex,_}function ha(h){return Lo?Qr(Lo.call(h)):{}}function vo(h,_){var M=_?Es(h.buffer):h.buffer;return new h.constructor(M,h.byteOffset,h.length)}function _i(h,_){if(h!==_){var M=h!==d,j=h===null,re=h===h,be=d0(h),Ne=_!==d,Qe=_===null,ut=_===_,Ht=d0(_);if(!Qe&&!Ht&&!be&&h>_||be&&Ne&&ut&&!Qe&&!Ht||j&&Ne&&ut||!M&&ut||!re)return 1;if(!j&&!be&&!Ht&&h<_||Ht&&M&&re&&!j&&!be||Qe&&M&&re||!Ne&&re||!ut)return-1}return 0}function Jc(h,_,M){for(var j=-1,re=h.criteria,be=_.criteria,Ne=re.length,Qe=M.length;++j<Ne;){var ut=_i(re[j],be[j]);if(ut){if(j>=Qe)return ut;var Ht=M[j];return ut*(Ht=="desc"?-1:1)}}return h.index-_.index}function Bh(h,_,M,j){for(var re=-1,be=h.length,Ne=M.length,Qe=-1,ut=_.length,Ht=Fi(be-Ne,0),qt=bt(ut+Ht),an=!j;++Qe<ut;)qt[Qe]=_[Qe];for(;++re<Ne;)(an||re<be)&&(qt[M[re]]=h[re]);for(;Ht--;)qt[Qe++]=h[re++];return qt}function eh(h,_,M,j){for(var re=-1,be=h.length,Ne=-1,Qe=M.length,ut=-1,Ht=_.length,qt=Fi(be-Qe,0),an=bt(qt+Ht),Pn=!j;++re<qt;)an[re]=h[re];for(var tr=re;++ut<Ht;)an[tr+ut]=_[ut];for(;++Ne<Qe;)(Pn||re<be)&&(an[tr+M[Ne]]=h[re++]);return an}function Wo(h,_){var M=-1,j=h.length;for(_||(_=bt(j));++M<j;)_[M]=h[M];return _}function ks(h,_,M,j){var re=!M;M||(M={});for(var be=-1,Ne=_.length;++be<Ne;){var Qe=_[be],ut=j?j(M[Qe],h[Qe],Qe,M,h):d;ut===d&&(ut=h[Qe]),re?jl(M,Qe,ut):G0(M,Qe,ut)}return M}function O0(h,_){return ks(h,Kl(h),_)}function Qs(h,_){return ks(h,Cp(h),_)}function Rs(h,_){return function(M,j){var re=Mr(M)?Oi:Fo,be=_?_():{};return re(M,h,rr(j,2),be)}}function Ja(h){return nt(function(_,M){var j=-1,re=M.length,be=re>1?M[re-1]:d,Ne=re>2?M[2]:d;for(be=h.length>3&&typeof be=="function"?(re--,be):d,Ne&&to(M[0],M[1],Ne)&&(be=re<3?d:be,re=1),_=Qr(_);++j<re;){var Qe=M[j];Qe&&h(_,Qe,j,be)}return _})}function ba(h,_){return function(M,j){if(M==null)return M;if(!Pl(M))return h(M,j);for(var re=M.length,be=_?re:-1,Ne=Qr(M);(_?be--:++be<re)&&j(Ne[be],be,Ne)!==!1;);return M}}function yu(h){return function(_,M,j){for(var re=-1,be=Qr(_),Ne=j(_),Qe=Ne.length;Qe--;){var ut=Ne[h?Qe:++re];if(M(be[ut],ut,be)===!1)break}return _}}function Il(h,_,M){var j=_&Pe,re=Ju(h);function be(){var Ne=this&&this!==ci&&this instanceof be?re:h;return Ne.apply(j?M:this,arguments)}return be}function xc(h){return function(_){_=xi(_);var M=fl(_)?oa(_):d,j=M?M[0]:_.charAt(0),re=M?Vo(M,1).join(""):_.slice(1);return j[h]()+re}}function Qu(h){return function(_){return Y0(ap(Xi(_).replace(b0,"")),h,"")}}function Ju(h){return function(){var _=arguments;switch(_.length){case 0:return new h;case 1:return new h(_[0]);case 2:return new h(_[0],_[1]);case 3:return new h(_[0],_[1],_[2]);case 4:return new h(_[0],_[1],_[2],_[3]);case 5:return new h(_[0],_[1],_[2],_[3],_[4]);case 6:return new h(_[0],_[1],_[2],_[3],_[4],_[5]);case 7:return new h(_[0],_[1],_[2],_[3],_[4],_[5],_[6])}var M=lu(h.prototype),j=h.apply(M,_);return Ca(j)?j:M}}function bp(h,_,M){var j=Ju(h);function re(){for(var be=arguments.length,Ne=bt(be),Qe=be,ut=_u(re);Qe--;)Ne[Qe]=arguments[Qe];var Ht=be<3&&Ne[0]!==ut&&Ne[be-1]!==ut?[]:as(Ne,ut);if(be-=Ht.length,be<M)return Us(h,_,bc,re.placeholder,d,Ne,Ht,d,d,M-be);var qt=this&&this!==ci&&this instanceof re?j:h;return _a(qt,this,Ne)}return re}function Al(h){return function(_,M,j){var re=Qr(_);if(!Pl(_)){var be=rr(M,3);_=G(_),M=function(Qe){return be(re[Qe],Qe,re)}}var Ne=h(_,M,j);return Ne>-1?re[be?_[Ne]:Ne]:d}}function F0(h){return N0(function(_){var M=_.length,j=M,re=Ka.prototype.thru;for(h&&_.reverse();j--;){var be=_[j];if(typeof be!="function")throw new os(A);if(re&&!Ne&&Cc(be)=="wrapper")var Ne=new Ka([],!0)}for(j=Ne?j:M;++j<M;){be=_[j];var Qe=Cc(be),ut=Qe=="wrapper"?$h(be):d;ut&&Zh(ut[0])&&ut[1]==(ot|ze|Ge|Pt)&&!ut[4].length&&ut[9]==1?Ne=Ne[Cc(ut[0])].apply(Ne,ut[3]):Ne=be.length==1&&Zh(be)?Ne[Qe]():Ne.thru(be)}return function(){var Ht=arguments,qt=Ht[0];if(Ne&&Ht.length==1&&Mr(qt))return Ne.plant(qt).value();for(var an=0,Pn=M?_[an].apply(this,Ht):qt;++an<M;)Pn=_[an].call(this,Pn);return Pn}})}function bc(h,_,M,j,re,be,Ne,Qe,ut,Ht){var qt=_&ot,an=_&Pe,Pn=_&He,tr=_&(ze|Me),fr=_&Jt,Fr=Pn?d:Ju(h);function gr(){for(var ei=arguments.length,di=bt(ei),ku=ei;ku--;)di[ku]=arguments[ku];if(tr)var v0=_u(gr),Ru=Uo(di,v0);if(j&&(di=Bh(di,j,re,tr)),be&&(di=eh(di,be,Ne,tr)),ei-=Ru,tr&&ei<Ht){var Jo=as(di,v0);return Us(h,_,bc,gr.placeholder,M,di,Jo,Qe,ut,Ht-ei)}var Lc=an?M:this,sp=Pn?Lc[h]:h;return ei=di.length,Qe?di=Xl(di,Qe):fr&&ei>1&&di.reverse(),qt&&ut<ei&&(di.length=ut),this&&this!==ci&&this instanceof gr&&(sp=Fr||Ju(sp)),sp.apply(Lc,di)}return gr}function Gd(h,_){return function(M,j){return Ms(M,h,_(j),{})}}function wc(h,_){return function(M,j){var re;if(M===d&&j===d)return _;if(M!==d&&(re=M),j!==d){if(re===d)return j;typeof M=="string"||typeof j=="string"?(M=Tr(M),j=Tr(j)):(M=Mi(M),j=Mi(j)),re=h(M,j)}return re}}function Oh(h){return N0(function(_){return _=Zr(_,Bn(rr())),nt(function(M){var j=this;return h(_,function(re){return _a(re,j,M)})})})}function Fh(h,_){_=_===d?" ":Tr(_);var M=_.length;if(M<2)return M?At(_,h):_;var j=At(_,gl(h/Dr(_)));return fl(_)?Vo(oa(j),0,h).join(""):j.slice(0,h)}function Jp(h,_,M,j){var re=_&Pe,be=Ju(h);function Ne(){for(var Qe=-1,ut=arguments.length,Ht=-1,qt=j.length,an=bt(qt+ut),Pn=this&&this!==ci&&this instanceof Ne?be:h;++Ht<qt;)an[Ht]=j[Ht];for(;ut--;)an[Ht++]=arguments[++Qe];return _a(Pn,re?M:this,an)}return Ne}function ed(h){return function(_,M,j){return j&&typeof j!="number"&&to(_,M,j)&&(M=j=d),_=Tu(_),M===d?(M=_,_=0):M=Tu(M),j=j===d?_<M?1:-1:Tu(j),lt(_,M,j,h)}}function th(h){return function(_,M){return typeof _=="string"&&typeof M=="string"||(_=f0(_),M=f0(M)),h(_,M)}}function Us(h,_,M,j,re,be,Ne,Qe,ut,Ht){var qt=_&ze,an=qt?Ne:d,Pn=qt?d:Ne,tr=qt?be:d,fr=qt?d:be;_|=qt?Ge:je,_&=~(qt?je:Ge),_&rt||(_&=-4);var Fr=[h,_,re,tr,an,fr,Pn,Qe,ut,Ht],gr=M.apply(d,Fr);return Zh(h)&&uh(gr,Fr),gr.placeholder=j,Ap(gr,h,_)}function eo(h){var _=sa[h];return function(M,j){if(M=f0(M),j=j==null?0:Fa(kr(j),292),j&&P0(M)){var re=(xi(M)+"e").split("e"),be=_(re[0]+"e"+(+re[1]+j));return re=(xi(be)+"e").split("e"),+(re[0]+"e"+(+re[1]-j))}return _(M)}}var td=yl&&1/o0(new yl([,-0]))[1]==dn?function(h){return new yl(h)}:Zf;function wp(h){return function(_){var M=Ho(_);return M==yn?Vc(_):M==lr?_p(_):Bt(_,h(_))}}function gs(h,_,M,j,re,be,Ne,Qe){var ut=_&He;if(!ut&&typeof h!="function")throw new os(A);var Ht=j?j.length:0;if(Ht||(_&=-97,j=re=d),Ne=Ne===d?Ne:Fi(kr(Ne),0),Qe=Qe===d?Qe:kr(Qe),Ht-=re?re.length:0,_&je){var qt=j,an=re;j=re=d}var Pn=ut?d:$h(h),tr=[h,_,M,j,re,qt,an,be,Ne,Qe];if(Pn&&sd(tr,Pn),h=tr[0],_=tr[1],M=tr[2],j=tr[3],re=tr[4],Qe=tr[9]=tr[9]===d?ut?0:h.length:Fi(tr[9]-Ht,0),!Qe&&_&(ze|Me)&&(_&=-25),!_||_==Pe)var fr=Il(h,_,M);else _==ze||_==Me?fr=bp(h,_,Qe):(_==Ge||_==(Pe|Ge))&&!re.length?fr=Jp(h,_,M,j):fr=bc.apply(d,tr);var Fr=Pn?rn:uh;return Ap(Fr(fr,tr),h,_)}function nd(h,_,M,j){return h===d||V0(h,Go[M])&&!jr.call(j,M)?_:h}function Dc(h,_,M,j,re,be){return Ca(h)&&Ca(_)&&(be.set(_,h),ie(h,_,d,Dc,be),be.delete(_)),h}function nh(h){return Np(h)?d:h}function rh(h,_,M,j,re,be){var Ne=M&de,Qe=h.length,ut=_.length;if(Qe!=ut&&!(Ne&&ut>Qe))return!1;var Ht=be.get(h),qt=be.get(_);if(Ht&&qt)return Ht==_&&qt==h;var an=-1,Pn=!0,tr=M&xe?new l0:d;for(be.set(h,_),be.set(_,h);++an<Qe;){var fr=h[an],Fr=_[an];if(j)var gr=Ne?j(Fr,fr,an,_,h,be):j(fr,Fr,an,h,_,be);if(gr!==d){if(gr)continue;Pn=!1;break}if(tr){if(!D0(_,function(ei,di){if(!Qn(tr,di)&&(fr===ei||re(fr,ei,M,j,be)))return tr.push(di)})){Pn=!1;break}}else if(!(fr===Fr||re(fr,Fr,M,j,be))){Pn=!1;break}}return be.delete(h),be.delete(_),Pn}function Dp(h,_,M,j,re,be,Ne){switch(M){case Yr:if(h.byteLength!=_.byteLength||h.byteOffset!=_.byteOffset)return!1;h=h.buffer,_=_.buffer;case Zi:return!(h.byteLength!=_.byteLength||!be(new Bl(h),new Bl(_)));case Fn:case Rn:case yr:return V0(+h,+_);case Nn:return h.name==_.name&&h.message==_.message;case vr:case Dn:return h==_+"";case yn:var Qe=Vc;case lr:var ut=j&de;if(Qe||(Qe=o0),h.size!=_.size&&!ut)return!1;var Ht=Ne.get(h);if(Ht)return Ht==_;j|=xe,Ne.set(h,_);var qt=rh(Qe(h),Qe(_),j,re,be,Ne);return Ne.delete(h),qt;case Lr:if(Lo)return Lo.call(h)==Lo.call(_)}return!1}function rd(h,_,M,j,re,be){var Ne=M&de,Qe=Nh(h),ut=Qe.length,Ht=Nh(_),qt=Ht.length;if(ut!=qt&&!Ne)return!1;for(var an=ut;an--;){var Pn=Qe[an];if(!(Ne?Pn in _:jr.call(_,Pn)))return!1}var tr=be.get(h),fr=be.get(_);if(tr&&fr)return tr==_&&fr==h;var Fr=!0;be.set(h,_),be.set(_,h);for(var gr=Ne;++an<ut;){Pn=Qe[an];var ei=h[Pn],di=_[Pn];if(j)var ku=Ne?j(di,ei,Pn,_,h,be):j(ei,di,Pn,h,_,be);if(!(ku===d?ei===di||re(ei,di,M,j,be):ku)){Fr=!1;break}gr||(gr=Pn=="constructor")}if(Fr&&!gr){var v0=h.constructor,Ru=_.constructor;v0!=Ru&&"constructor"in h&&"constructor"in _&&!(typeof v0=="function"&&v0 instanceof v0&&typeof Ru=="function"&&Ru instanceof Ru)&&(Fr=!1)}return be.delete(h),be.delete(_),Fr}function N0(h){return Js(Ni(h,d,dh),h+"")}function Nh(h){return jo(h,G,Kl)}function ih(h){return jo(h,N,Cp)}var $h=U0?function(h){return U0.get(h)}:Zf;function Cc(h){for(var _=h.name+"",M=Di[_],j=jr.call(Di,_)?M.length:0;j--;){var re=M[j],be=re.func;if(be==null||be==h)return re.name}return _}function _u(h){var _=jr.call(pe,"placeholder")?pe:h;return _.placeholder}function rr(){var h=pe.iteratee||jf;return h=h===jf?T:h,arguments.length?h(arguments[0],arguments[1]):h}function ah(h,_){var M=h.__data__;return oh(_)?M[typeof _=="string"?"string":"hash"]:M.map}function Ic(h){for(var _=G(h),M=_.length;M--;){var j=_[M],re=h[j];_[M]=[j,re,Wh(re)]}return _}function ql(h,_){var M=dl(h,_);return u(M)?M:d}function ms(h){var _=jr.call(h,iu),M=h[iu];try{h[iu]=d;var j=!0}catch{}var re=T0.call(h);return j&&(_?h[iu]=M:delete h[iu]),re}var Kl=Zu?function(h){return h==null?[]:(h=Qr(h),ko(Zu(h),function(_){return nu.call(h,_)}))}:Gc,Cp=Zu?function(h){for(var _=[];h;)Zs(_,Kl(h)),h=ls(h);return _}:Gc,Ho=$a;(ou&&Ho(new ou(new ArrayBuffer(1)))!=Yr||k0&&Ho(new k0)!=yn||qu&&Ho(qu.resolve())!=Xr||yl&&Ho(new yl)!=lr||R0&&Ho(new R0)!=Vi)&&(Ho=function(h){var _=$a(h),M=_==Ir?h.constructor:d,j=M?Tl(M):"";if(j)switch(j){case Fl:return Yr;case va:return yn;case Xc:return Xr;case Nl:return lr;case Hs:return Vi}return _});function Ip(h,_,M){for(var j=-1,re=M.length;++j<re;){var be=M[j],Ne=be.size;switch(be.type){case"drop":h+=Ne;break;case"dropRight":_-=Ne;break;case"take":_=Fa(_,h+Ne);break;case"takeRight":h=Fi(h,_-Ne);break}}return{start:h,end:_}}function Ld(h){var _=h.match(wr);return _?_[1].split(Ln):[]}function id(h,_,M){_=fs(_,h);for(var j=-1,re=_.length,be=!1;++j<re;){var Ne=el(_[j]);if(!(be=h!=null&&M(h,Ne)))break;h=h[Ne]}return be||++j!=re?be:(re=h==null?0:h.length,!!re&&Su(re)&&vi(Ne,re)&&(Mr(h)||Rc(h)))}function jh(h){var _=h.length,M=new h.constructor(_);return _&&typeof h[0]=="string"&&jr.call(h,"index")&&(M.index=h.index,M.input=h.input),M}function qo(h){return typeof h.constructor=="function"&&!vu(h)?lu(ls(h)):{}}function ad(h,_,M){var j=h.constructor;switch(_){case Zi:return Es(h);case Fn:case Rn:return new j(+h);case Yr:return p0(h,M);case Li:case bi:case xr:case wi:case ni:case ma:case Fe:case ne:case ae:return vo(h,M);case yn:return new j;case yr:case Dn:return new j(h);case vr:return ca(h);case lr:return new j;case Lr:return ha(h)}}function od(h,_){var M=_.length;if(!M)return h;var j=M-1;return _[j]=(M>1?"& ":"")+_[j],_=_.join(M>2?", ":" "),h.replace(dr,`{
/* [wrapped with `+_+`] */
`)}function Vh(h){return Mr(h)||Rc(h)||!!(Kc&&h&&h[Kc])}function vi(h,_){var M=typeof h;return _=_??yt,!!_&&(M=="number"||M!="symbol"&&Po.test(h))&&h>-1&&h%1==0&&h<_}function to(h,_,M){if(!Ca(M))return!1;var j=typeof _;return(j=="number"?Pl(M)&&vi(_,M.length):j=="string"&&_ in M)?V0(M[_],h):!1}function kn(h,_){if(Mr(h))return!1;var M=typeof h;return M=="number"||M=="symbol"||M=="boolean"||h==null||d0(h)?!0:hn.test(h)||!Qt.test(h)||_!=null&&h in Qr(_)}function oh(h){var _=typeof h;return _=="string"||_=="number"||_=="symbol"||_=="boolean"?h!=="__proto__":h===null}function Zh(h){var _=Cc(h),M=pe[_];if(typeof M!="function"||!(_ in pr.prototype))return!1;if(h===M)return!0;var j=$h(M);return!!j&&h===j[0]}function Bd(h){return!!Ll&&Ll in h}var Df=Ha?Uc:_0;function vu(h){var _=h&&h.constructor,M=typeof _=="function"&&_.prototype||Go;return h===M}function Wh(h){return h===h&&!Ca(h)}function sh(h,_){return function(M){return M==null?!1:M[h]===_&&(_!==d||h in Qr(M))}}function Od(h){var _=vt(h,function(j){return M.size===q&&M.clear(),j}),M=_.cache;return _}function sd(h,_){var M=h[1],j=_[1],re=M|j,be=re<(Pe|He|ot),Ne=j==ot&&M==ze||j==ot&&M==Pt&&h[7].length<=_[8]||j==(ot|Pt)&&_[7].length<=_[8]&&M==ze;if(!(be||Ne))return h;j&Pe&&(h[2]=_[2],re|=M&Pe?0:rt);var Qe=_[3];if(Qe){var ut=h[3];h[3]=ut?Bh(ut,Qe,_[4]):Qe,h[4]=ut?as(h[3],ue):_[4]}return Qe=_[5],Qe&&(ut=h[5],h[5]=ut?eh(ut,Qe,_[6]):Qe,h[6]=ut?as(h[5],ue):_[6]),Qe=_[7],Qe&&(h[7]=Qe),j&ot&&(h[8]=h[8]==null?_[8]:Fa(h[8],_[8])),h[9]==null&&(h[9]=_[9]),h[0]=_[0],h[1]=re,h}function lh(h){var _=[];if(h!=null)for(var M in Qr(h))_.push(M);return _}function ld(h){return T0.call(h)}function Ni(h,_,M){return _=Fi(_===d?h.length-1:_,0),function(){for(var j=arguments,re=-1,be=Fi(j.length-_,0),Ne=bt(be);++re<be;)Ne[re]=j[_+re];re=-1;for(var Qe=bt(_+1);++re<_;)Qe[re]=j[re];return Qe[_]=M(Ne),_a(h,this,Qe)}}function pa(h,_){return _.length<2?h:Dl(h,Zn(_,0,-1))}function Xl(h,_){for(var M=h.length,j=Fa(_.length,M),re=Wo(h);j--;){var be=_[j];h[j]=vi(be,M)?re[be]:d}return h}function Sl(h,_){if(!(_==="constructor"&&typeof h[_]=="function")&&_!="__proto__")return h[_]}var uh=zs(rn),$0=Vu||function(h,_){return ci.setTimeout(h,_)},Js=zs(Gt);function Ap(h,_,M){var j=_+"";return Js(h,od(j,hh(Ld(j),M)))}function zs(h){var _=0,M=0;return function(){var j=mc(),re=Wt-(j-M);if(M=j,re>0){if(++_>=Mt)return arguments[0]}else _=0;return h.apply(d,arguments)}}function ch(h,_){var M=-1,j=h.length,re=j-1;for(_=_===d?j:_;++M<_;){var be=Ve(M,re),Ne=h[be];h[be]=h[M],h[M]=Ne}return h.length=_,h}var ec=Od(function(h){var _=[];return h.charCodeAt(0)===46&&_.push(""),h.replace(Tn,function(M,j,re,be){_.push(re?be.replace(nr,"$1"):j||M)}),_});function el(h){if(typeof h=="string"||d0(h))return h;var _=h+"";return _=="0"&&1/h==-1/0?"-0":_}function Tl(h){if(h!=null){try{return $u.call(h)}catch{}try{return h+""}catch{}}return""}function hh(h,_){return Ei(cn,function(M){var j="_."+M[0];_&M[1]&&!Ta(h,j)&&h.push(j)}),h.sort()}function Fd(h){if(h instanceof pr)return h.clone();var _=new Ka(h.__wrapped__,h.__chain__);return _.__actions__=Wo(h.__actions__),_.__index__=h.__index__,_.__values__=h.__values__,_}function Hh(h,_,M){(M?to(h,_,M):_===d)?_=1:_=Fi(kr(_),0);var j=h==null?0:h.length;if(!j||_<1)return[];for(var re=0,be=0,Ne=bt(gl(j/_));re<j;)Ne[be++]=Zn(h,re,re+=_);return Ne}function xu(h){for(var _=-1,M=h==null?0:h.length,j=0,re=[];++_<M;){var be=h[_];be&&(re[j++]=be)}return re}function Yl(){var h=arguments.length;if(!h)return[];for(var _=bt(h-1),M=arguments[0],j=h;j--;)_[j-1]=arguments[j];return Zs(Mr(M)?Wo(M):[M],fn(_,1))}var Hr=nt(function(h,_){return Ea(h)?Ys(h,fn(_,1,Ea,!0)):[]}),wa=nt(function(h,_){var M=ro(_);return Ea(M)&&(M=d),Ea(h)?Ys(h,fn(_,1,Ea,!0),rr(M,2)):[]}),Da=nt(function(h,_){var M=ro(_);return Ea(M)&&(M=d),Ea(h)?Ys(h,fn(_,1,Ea,!0),d,M):[]});function xo(h,_,M){var j=h==null?0:h.length;return j?(_=M||_===d?1:kr(_),Zn(h,_<0?0:_,j)):[]}function tl(h,_,M){var j=h==null?0:h.length;return j?(_=M||_===d?1:kr(_),_=j-_,Zn(h,0,_<0?0:_)):[]}function ph(h,_){return h&&h.length?ua(h,rr(_,3),!0,!0):[]}function no(h,_){return h&&h.length?ua(h,rr(_,3),!0):[]}function qh(h,_,M,j){var re=h==null?0:h.length;return re?(M&&typeof M!="number"&&to(h,_,M)&&(M=0,j=re),_o(h,_,M,j)):[]}function tc(h,_,M){var j=h==null?0:h.length;if(!j)return-1;var re=M==null?0:kr(M);return re<0&&(re=Fi(j+re,0)),Gl(h,rr(_,3),re)}function Kh(h,_,M){var j=h==null?0:h.length;if(!j)return-1;var re=j-1;return M!==d&&(re=kr(M),re=M<0?Fi(j+re,0):Fa(re,j-1)),Gl(h,rr(_,3),re,!0)}function dh(h){var _=h==null?0:h.length;return _?fn(h,1):[]}function fh(h){var _=h==null?0:h.length;return _?fn(h,dn):[]}function ys(h,_){var M=h==null?0:h.length;return M?(_=_===d?1:kr(_),fn(h,_)):[]}function Sp(h){for(var _=-1,M=h==null?0:h.length,j={};++_<M;){var re=h[_];j[re[0]]=re[1]}return j}function bu(h){return h&&h.length?h[0]:d}function j0(h,_,M){var j=h==null?0:h.length;if(!j)return-1;var re=M==null?0:kr(M);return re<0&&(re=Fi(j+re,0)),Ws(h,_,re)}function Xh(h){var _=h==null?0:h.length;return _?Zn(h,0,-1):[]}var gh=nt(function(h){var _=Zr(h,Ps);return _.length&&_[0]===h[0]?B0(_):[]}),wu=nt(function(h){var _=ro(h),M=Zr(h,Ps);return _===ro(M)?_=d:M.pop(),M.length&&M[0]===h[0]?B0(M,rr(_,2)):[]}),Yh=nt(function(h){var _=ro(h),M=Zr(h,Ps);return _=typeof _=="function"?_:d,_&&M.pop(),M.length&&M[0]===h[0]?B0(M,d,_):[]});function Du(h,_){return h==null?"":E0.call(h,_)}function ro(h){var _=h==null?0:h.length;return _?h[_-1]:d}function Qh(h,_,M){var j=h==null?0:h.length;if(!j)return-1;var re=j;return M!==d&&(re=kr(M),re=re<0?Fi(j+re,0):Fa(re,j-1)),_===_?vp(h,_,re):Gl(h,Q0,re,!0)}function Jh(h,_){return h&&h.length?we(h,kr(_)):d}var nc=nt(Ac);function Ac(h,_){return h&&h.length&&_&&_.length?Be(h,_):h}function Gs(h,_,M){return h&&h.length&&_&&_.length?Be(h,_,rr(M,2)):h}function rc(h,_,M){return h&&h.length&&_&&_.length?Be(h,_,d,M):h}var Ql=N0(function(h,_){var M=h==null?0:h.length,j=fu(h,_);return $e(h,Zr(_,function(re){return vi(re,M)?+re:re}).sort(_i)),j});function Ls(h,_){var M=[];if(!(h&&h.length))return M;var j=-1,re=[],be=h.length;for(_=rr(_,3);++j<be;){var Ne=h[j];_(Ne,j,h)&&(M.push(Ne),re.push(j))}return $e(h,re),M}function Tp(h){return h==null?h:au.call(h)}function ud(h,_,M){var j=h==null?0:h.length;return j?(M&&typeof M!="number"&&to(h,_,M)?(_=0,M=j):(_=_==null?0:kr(_),M=M===d?j:kr(M)),Zn(h,_,M)):[]}function Sc(h,_){return pi(h,_)}function Nd(h,_,M){return Jr(h,_,rr(M,2))}function ic(h,_){var M=h==null?0:h.length;if(M){var j=pi(h,_);if(j<M&&V0(h[j],_))return j}return-1}function $d(h,_){return pi(h,_,!0)}function cd(h,_,M){return Jr(h,_,rr(M,2),!0)}function Tc(h,_){var M=h==null?0:h.length;if(M){var j=pi(h,_,!0)-1;if(V0(h[j],_))return j}return-1}function hd(h){return h&&h.length?Ti(h):[]}function Mc(h,_){return h&&h.length?Ti(h,rr(_,2)):[]}function pd(h){var _=h==null?0:h.length;return _?Zn(h,1,_):[]}function Mp(h,_,M){return h&&h.length?(_=M||_===d?1:kr(_),Zn(h,0,_<0?0:_)):[]}function Pp(h,_,M){var j=h==null?0:h.length;return j?(_=M||_===d?1:kr(_),_=j-_,Zn(h,_<0?0:_,j)):[]}function ep(h,_){return h&&h.length?ua(h,rr(_,3),!1,!0):[]}function jd(h,_){return h&&h.length?ua(h,rr(_,3)):[]}var Cf=nt(function(h){return Cr(fn(h,1,Ea,!0))}),tp=nt(function(h){var _=ro(h);return Ea(_)&&(_=d),Cr(fn(h,1,Ea,!0),rr(_,2))}),Vd=nt(function(h){var _=ro(h);return _=typeof _=="function"?_:d,Cr(fn(h,1,Ea,!0),d,_)});function ac(h){return h&&h.length?Cr(h):[]}function If(h,_){return h&&h.length?Cr(h,rr(_,2)):[]}function mh(h,_){return _=typeof _=="function"?_:d,h&&h.length?Cr(h,d,_):[]}function Ep(h){if(!(h&&h.length))return[];var _=0;return h=ko(h,function(M){if(Ea(M))return _=Fi(M.length,_),!0}),st(_,function(M){return Zr(h,F(M))})}function Ki(h,_){if(!(h&&h.length))return[];var M=Ep(h);return _==null?M:Zr(M,function(j){return _a(_,d,j)})}var Af=nt(function(h,_){return Ea(h)?Ys(h,_):[]}),Zd=nt(function(h){return Cl(ko(h,Ea))}),np=nt(function(h){var _=ro(h);return Ea(_)&&(_=d),Cl(ko(h,Ea),rr(_,2))}),Wd=nt(function(h){var _=ro(h);return _=typeof _=="function"?_:d,Cl(ko(h,Ea),d,_)}),kp=nt(Ep);function dd(h,_){return ds(h||[],_||[],G0)}function Pa(h,_){return ds(h||[],_||[],nn)}var nl=nt(function(h){var _=h.length,M=_>1?h[_-1]:d;return M=typeof M=="function"?(h.pop(),M):d,Ki(h,M)});function Rp(h){var _=pe(h);return _.__chain__=!0,_}function Hd(h,_){return _(h),h}function Ml(h,_){return _(h)}var yh=N0(function(h){var _=h.length,M=_?h[0]:0,j=this.__wrapped__,re=function(be){return fu(be,h)};return _>1||this.__actions__.length||!(j instanceof pr)||!vi(M)?this.thru(re):(j=j.slice(M,+M+(_?1:0)),j.__actions__.push({func:Ml,args:[re],thisArg:d}),new Ka(j,this.__chain__).thru(function(be){return _&&!be.length&&be.push(d),be}))});function Pc(){return Rp(this)}function Up(){return new Ka(this.value(),this.__chain__)}function fd(){this.__values__===d&&(this.__values__=kf(this.value()));var h=this.__index__>=this.__values__.length,_=h?d:this.__values__[this.__index__++];return{done:h,value:_}}function gd(){return this}function qd(h){for(var _,M=this;M instanceof _l;){var j=Fd(M);j.__index__=0,j.__values__=d,_?re.__wrapped__=j:_=j;var re=j;M=M.__wrapped__}return re.__wrapped__=h,_}function Ko(){var h=this.__wrapped__;if(h instanceof pr){var _=h;return this.__actions__.length&&(_=new pr(this)),_=_.reverse(),_.__actions__.push({func:Ml,args:[Tp],thisArg:d}),new Ka(_,this.__chain__)}return this.thru(Tp)}function md(){return Pr(this.__wrapped__,this.__actions__)}var yd=Rs(function(h,_,M){jr.call(h,M)?++h[M]:jl(h,M,1)});function Cu(h,_,M){var j=Mr(h)?Vs:Ku;return M&&to(h,_,M)&&(_=d),j(h,rr(_,3))}function Ec(h,_){var M=Mr(h)?ko:Xu;return M(h,rr(_,3))}var oc=Al(tc),kc=Al(Kh);function _h(h,_){return fn(Iu(h,_),1)}function zp(h,_){return fn(Iu(h,_),dn)}function Kd(h,_,M){return M=M===d?1:kr(M),fn(Iu(h,_),M)}function Gp(h,_){var M=Mr(h)?Ei:wl;return M(h,rr(_,3))}function vh(h,_){var M=Mr(h)?fo:Lh;return M(h,rr(_,3))}var Lp=Rs(function(h,_,M){jr.call(h,M)?h[M].push(_):jl(h,M,[_])});function Bp(h,_,M,j){h=Pl(h)?h:Kt(h),M=M&&!j?kr(M):0;var re=h.length;return M<0&&(M=Fi(re+M,0)),ef(h)?M<=re&&h.indexOf(_,M)>-1:!!re&&Ws(h,_,M)>-1}var _d=nt(function(h,_,M){var j=-1,re=typeof _=="function",be=Pl(h)?bt(h.length):[];return wl(h,function(Ne){be[++j]=re?_a(_,Ne,M):ja(Ne,_,M)}),be}),Xd=Rs(function(h,_,M){jl(h,M,_)});function Iu(h,_){var M=Mr(h)?Zr:W;return M(h,rr(_,3))}function vd(h,_,M,j){return h==null?[]:(Mr(_)||(_=_==null?[]:[_]),M=j?d:M,Mr(M)||(M=M==null?[]:[M]),Ce(h,_,M))}var rp=Rs(function(h,_,M){h[M?0:1].push(_)},function(){return[[],[]]});function Yd(h,_,M){var j=Mr(h)?Y0:he,re=arguments.length<3;return j(h,rr(_,4),M,re,wl)}function Op(h,_,M){var j=Mr(h)?Nc:he,re=arguments.length<3;return j(h,rr(_,4),M,re,Lh)}function a(h,_){var M=Mr(h)?ko:Xu;return M(h,pn(rr(_,3)))}function c(h){var _=Mr(h)?sr:ht;return _(h)}function x(h,_,M){(M?to(h,_,M):_===d)?_=1:_=kr(_);var j=Mr(h)?$l:Ct;return j(h,_)}function S(h){var _=Mr(h)?xp:bn;return _(h)}function U(h){if(h==null)return 0;if(Pl(h))return ef(h)?Dr(h):h.length;var _=Ho(h);return _==yn||_==lr?h.size:k(h).length}function $(h,_,M){var j=Mr(h)?D0:Sr;return M&&to(h,_,M)&&(_=d),j(h,rr(_,3))}var le=nt(function(h,_){if(h==null)return[];var M=_.length;return M>1&&to(h,_[0],_[1])?_=[]:M>2&&to(_[0],_[1],_[2])&&(_=[_[0]]),Ce(h,fn(_,1),[])}),Re=ki||function(){return ci.Date.now()};function Xe(h,_){if(typeof _!="function")throw new os(A);return h=kr(h),function(){if(--h<1)return _.apply(this,arguments)}}function It(h,_,M){return _=M?d:_,_=h&&_==null?h.length:_,gs(h,ot,d,d,d,d,_)}function en(h,_){var M;if(typeof _!="function")throw new os(A);return h=kr(h),function(){return--h>0&&(M=_.apply(this,arguments)),h<=1&&(_=d),M}}var on=nt(function(h,_,M){var j=Pe;if(M.length){var re=as(M,_u(on));j|=Ge}return gs(h,j,_,M,re)}),tn=nt(function(h,_,M){var j=Pe|He;if(M.length){var re=as(M,_u(tn));j|=Ge}return gs(_,j,h,M,re)});function Cn(h,_,M){_=M?d:_;var j=gs(h,ze,d,d,d,d,d,_);return j.placeholder=Cn.placeholder,j}function zn(h,_,M){_=M?d:_;var j=gs(h,Me,d,d,d,d,d,_);return j.placeholder=zn.placeholder,j}function $n(h,_,M){var j,re,be,Ne,Qe,ut,Ht=0,qt=!1,an=!1,Pn=!0;if(typeof h!="function")throw new os(A);_=f0(_)||0,Ca(M)&&(qt=!!M.leading,an="maxWait"in M,be=an?Fi(f0(M.maxWait)||0,_):be,Pn="trailing"in M?!!M.trailing:Pn);function tr(Jo){var Lc=j,sp=re;return j=re=d,Ht=Jo,Ne=h.apply(sp,Lc),Ne}function fr(Jo){return Ht=Jo,Qe=$0(ei,_),qt?tr(Jo):Ne}function Fr(Jo){var Lc=Jo-ut,sp=Jo-Ht,A_=_-Lc;return an?Fa(A_,be-sp):A_}function gr(Jo){var Lc=Jo-ut,sp=Jo-Ht;return ut===d||Lc>=_||Lc<0||an&&sp>=be}function ei(){var Jo=Re();if(gr(Jo))return di(Jo);Qe=$0(ei,Fr(Jo))}function di(Jo){return Qe=d,Pn&&j?tr(Jo):(j=re=d,Ne)}function ku(){Qe!==d&&Zo(Qe),Ht=0,j=ut=re=Qe=d}function v0(){return Qe===d?Ne:di(Re())}function Ru(){var Jo=Re(),Lc=gr(Jo);if(j=arguments,re=this,ut=Jo,Lc){if(Qe===d)return fr(ut);if(an)return Zo(Qe),Qe=$0(ei,_),tr(ut)}return Qe===d&&(Qe=$0(ei,_)),Ne}return Ru.cancel=ku,Ru.flush=v0,Ru}var da=nt(function(h,_){return gu(h,1,_)}),dt=nt(function(h,_,M){return gu(h,f0(_)||0,M)});function et(h){return gs(h,Jt)}function vt(h,_){if(typeof h!="function"||_!=null&&typeof _!="function")throw new os(A);var M=function(){var j=arguments,re=_?_.apply(this,j):j[0],be=M.cache;if(be.has(re))return be.get(re);var Ne=h.apply(this,j);return M.cache=be.set(re,Ne)||be,Ne};return M.cache=new(vt.Cache||Hi),M}vt.Cache=Hi;function pn(h){if(typeof h!="function")throw new os(A);return function(){var _=arguments;switch(_.length){case 0:return!h.call(this);case 1:return!h.call(this,_[0]);case 2:return!h.call(this,_[0],_[1]);case 3:return!h.call(this,_[0],_[1],_[2])}return!h.apply(this,_)}}function Vn(h){return en(2,h)}var ir=h0(function(h,_){_=_.length==1&&Mr(_[0])?Zr(_[0],Bn(rr())):Zr(fn(_,1),Bn(rr()));var M=_.length;return nt(function(j){for(var re=-1,be=Fa(j.length,M);++re<be;)j[re]=_[re].call(this,j[re]);return _a(h,this,j)})}),Jn=nt(function(h,_){var M=as(_,_u(Jn));return gs(h,Ge,d,_,M)}),ur=nt(function(h,_){var M=as(_,_u(ur));return gs(h,je,d,_,M)}),bo=N0(function(h,_){return gs(h,Pt,d,d,d,_)});function ai(h,_){if(typeof h!="function")throw new os(A);return _=_===d?_:kr(_),nt(h,_)}function Au(h,_){if(typeof h!="function")throw new os(A);return _=_==null?0:Fi(kr(_),0),nt(function(M){var j=M[_],re=Vo(M,0,_);return j&&Zs(re,j),_a(h,this,re)})}function Sf(h,_,M){var j=!0,re=!0;if(typeof h!="function")throw new os(A);return Ca(M)&&(j="leading"in M?!!M.leading:j,re="trailing"in M?!!M.trailing:re),$n(h,_,{leading:j,maxWait:_,trailing:re})}function ny(h){return It(h,1)}function ry(h,_){return Jn(Wl(_),h)}function iy(){if(!arguments.length)return[];var h=arguments[0];return Mr(h)?h:[h]}function ay(h){return us(h,oe)}function Tf(h,_){return _=typeof _=="function"?_:d,us(h,oe,_)}function xh(h){return us(h,te|oe)}function Pg(h,_){return _=typeof _=="function"?_:d,us(h,te|oe,_)}function Eg(h,_){return _==null||ri(h,_,G(_))}function V0(h,_){return h===_||h!==h&&_!==_}var kg=th(cs),Rg=th(function(h,_){return h>=_}),Rc=Yu(function(){return arguments}())?Yu:function(h){return ka(h)&&jr.call(h,"callee")&&!nu.call(h,"callee")},Mr=bt.isArray,xd=js?Bn(js):Qc;function Pl(h){return h!=null&&Su(h.length)&&!Uc(h)}function Ea(h){return ka(h)&&Pl(h)}function Ug(h){return h===!0||h===!1||ka(h)&&$a(h)==Fn}var wo=Wu||_0,Fp=Pi?Bn(Pi):hs;function zg(h){return ka(h)&&h.nodeType===1&&!Np(h)}function Gg(h){if(h==null)return!0;if(Pl(h)&&(Mr(h)||typeof h=="string"||typeof h.splice=="function"||wo(h)||jp(h)||Rc(h)))return!h.length;var _=Ho(h);if(_==yn||_==lr)return!h.size;if(vu(h))return!k(h).length;for(var M in h)if(jr.call(h,M))return!1;return!0}function Lg(h,_){return ps(h,_)}function Bg(h,_,M){M=typeof M=="function"?M:d;var j=M?M(h,_):d;return j===d?ps(h,_,d,M):!!j}function Qd(h){if(!ka(h))return!1;var _=$a(h);return _==Nn||_==An||typeof h.message=="string"&&typeof h.name=="string"&&!Np(h)}function Og(h){return typeof h=="number"&&P0(h)}function Uc(h){if(!Ca(h))return!1;var _=$a(h);return _==Kn||_==Hn||_==wn||_==Gi}function Mf(h){return typeof h=="number"&&h==kr(h)}function Su(h){return typeof h=="number"&&h>-1&&h%1==0&&h<=yt}function Ca(h){var _=typeof h;return h!=null&&(_=="object"||_=="function")}function ka(h){return h!=null&&typeof h=="object"}var Pf=Ai?Bn(Ai):e;function Fg(h,_){return h===_||n(h,_,Ic(_))}function oy(h,_,M){return M=typeof M=="function"?M:d,n(h,_,Ic(_),M)}function sy(h){return wd(h)&&h!=+h}function Ng(h){if(Df(h))throw new hr(E);return u(h)}function bd(h){return h===null}function $g(h){return h==null}function wd(h){return typeof h=="number"||ka(h)&&$a(h)==yr}function Np(h){if(!ka(h)||$a(h)!=Ir)return!1;var _=ls(h);if(_===null)return!0;var M=jr.call(_,"constructor")&&_.constructor;return typeof M=="function"&&M instanceof M&&$u.call(M)==tu}var $p=Cs?Bn(Cs):f;function Jd(h){return Mf(h)&&h>=-9007199254740991&&h<=yt}var Dd=hl?Bn(hl):y;function ef(h){return typeof h=="string"||!Mr(h)&&ka(h)&&$a(h)==Dn}function d0(h){return typeof h=="symbol"||ka(h)&&$a(h)==Lr}var jp=X0?Bn(X0):D;function Vp(h){return h===d}function _s(h){return ka(h)&&Ho(h)==Vi}function bh(h){return ka(h)&&$a(h)==Ga}var Ef=th(O),jg=th(function(h,_){return h<=_});function kf(h){if(!h)return[];if(Pl(h))return ef(h)?oa(h):Wo(h);if(Is&&h[Is])return jc(h[Is]());var _=Ho(h),M=_==yn?Vc:_==lr?o0:Kt;return M(h)}function Tu(h){if(!h)return h===0?h:0;if(h=f0(h),h===dn||h===-1/0){var _=h<0?-1:1;return _*mt}return h===h?h:0}function kr(h){var _=Tu(h),M=_%1;return _===_?M?_-M:_:0}function Rf(h){return h?u0(kr(h),0,We):0}function f0(h){if(typeof h=="number")return h;if(d0(h))return Ot;if(Ca(h)){var _=typeof h.valueOf=="function"?h.valueOf():h;h=Ca(_)?_+"":_}if(typeof h!="string")return h===0?h:+h;h=ln(h);var M=ar.test(h);return M||rs.test(h)?$s(h.slice(2),M?2:8):Ia.test(h)?Ot:+h}function Vg(h){return ks(h,N(h))}function Zg(h){return h?u0(kr(h),-9007199254740991,yt):h===0?h:0}function xi(h){return h==null?"":Tr(h)}var Uf=Ja(function(h,_){if(vu(_)||Pl(_)){ks(_,G(_),h);return}for(var M in _)jr.call(_,M)&&G0(h,M,_[M])}),zf=Ja(function(h,_){ks(_,N(_),h)}),wh=Ja(function(h,_,M,j){ks(_,N(_),h,j)}),Gf=Ja(function(h,_,M,j){ks(_,G(_),h,j)}),Wg=N0(fu);function Lf(h,_){var M=lu(h);return _==null?M:yi(M,_)}var tf=nt(function(h,_){h=Qr(h);var M=-1,j=_.length,re=j>2?_[2]:d;for(re&&to(_[0],_[1],re)&&(j=1);++M<j;)for(var be=_[M],Ne=N(be),Qe=-1,ut=Ne.length;++Qe<ut;){var Ht=Ne[Qe],qt=h[Ht];(qt===d||V0(qt,Go[Ht])&&!jr.call(h,Ht))&&(h[Ht]=be[Ht])}return h}),Cd=nt(function(h){return h.push(d,Dc),_a(se,d,h)});function Bf(h,_){return zl(h,rr(_,3),$o)}function Of(h,_){return zl(h,rr(_,3),Zl)}function Ff(h,_){return h==null?h:jn(h,rr(_,3),N)}function ly(h,_){return h==null?h:c0(h,rr(_,3),N)}function i(h,_){return h&&$o(h,rr(_,3))}function t(h,_){return h&&Zl(h,rr(_,3))}function r(h){return h==null?[]:Ri(h,G(h))}function s(h){return h==null?[]:Ri(h,N(h))}function g(h,_,M){var j=h==null?d:Dl(h,_);return j===d?M:j}function v(h,_){return h!=null&&id(h,_,Or)}function b(h,_){return h!=null&&id(h,_,ii)}var I=Gd(function(h,_,M){_!=null&&typeof _.toString!="function"&&(_=T0.call(_)),h[_]=M},Id(Rl)),P=Gd(function(h,_,M){_!=null&&typeof _.toString!="function"&&(_=T0.call(_)),jr.call(h,_)?h[_].push(M):h[_]=[M]},rr),R=nt(ja);function G(h){return Pl(h)?Xs(h):k(h)}function N(h){return Pl(h)?Xs(h,!0):z(h)}function H(h,_){var M={};return _=rr(_,3),$o(h,function(j,re,be){jl(M,_(j,re,be),j)}),M}function Y(h,_){var M={};return _=rr(_,3),$o(h,function(j,re,be){jl(M,re,_(j,re,be))}),M}var ee=Ja(function(h,_,M){ie(h,_,M)}),se=Ja(function(h,_,M,j){ie(h,_,M,j)}),ve=N0(function(h,_){var M={};if(h==null)return M;var j=!1;_=Zr(_,function(be){return be=fs(be,h),j||(j=be.length>1),be}),ks(h,ih(h),M),j&&(M=us(M,te|ce|oe,nh));for(var re=_.length;re--;)qi(M,_[re]);return M});function Ie(h,_){return Ue(h,pn(rr(_)))}var qe=N0(function(h,_){return h==null?{}:ke(h,_)});function Ue(h,_){if(h==null)return{};var M=Zr(ih(h),function(j){return[j]});return _=rr(_),Le(h,M,function(j,re){return _(j,re[0])})}function K(h,_,M){_=fs(_,h);var j=-1,re=_.length;for(re||(re=1,h=d);++j<re;){var be=h==null?d:h[el(_[j])];be===d&&(j=re,be=M),h=Uc(be)?be.call(h):be}return h}function me(h,_,M){return h==null?h:nn(h,_,M)}function Oe(h,_,M,j){return j=typeof j=="function"?j:d,h==null?h:nn(h,_,M,j)}var ft=wp(G),jt=wp(N);function xt(h,_,M){var j=Mr(h),re=j||wo(h)||jp(h);if(_=rr(_,4),M==null){var be=h&&h.constructor;re?M=j?new be:[]:Ca(h)?M=Uc(be)?lu(ls(h)):{}:M={}}return(re?Ei:$o)(h,function(Ne,Qe,ut){return _(M,Ne,Qe,ut)}),M}function Tt(h,_){return h==null?!0:qi(h,_)}function Xt(h,_,M){return h==null?h:xa(h,_,Wl(M))}function Zt(h,_,M,j){return j=typeof j=="function"?j:d,h==null?h:xa(h,_,Wl(M),j)}function Kt(h){return h==null?[]:cr(h,G(h))}function Et(h){return h==null?[]:cr(h,N(h))}function In(h,_,M){return M===d&&(M=_,_=d),M!==d&&(M=f0(M),M=M===M?M:0),_!==d&&(_=f0(_),_=_===_?_:0),u0(f0(h),_,M)}function qn(h,_,M){return _=Tu(_),M===d?(M=_,_=0):M=Tu(M),h=f0(h),L0(h,_,M)}function Wn(h,_,M){if(M&&typeof M!="boolean"&&to(h,_,M)&&(_=M=d),M===d&&(typeof _=="boolean"?(M=_,_=d):typeof h=="boolean"&&(M=h,h=d)),h===d&&_===d?(h=0,_=1):(h=Tu(h),_===d?(_=h,h=0):_=Tu(_)),h>_){var j=h;h=_,_=j}if(M||h%1||_%1){var re=Hu();return Fa(h+re*(_-h+w0("1e-"+((re+"").length-1))),_)}return Ve(h,_)}var En=Qu(function(h,_,M){return _=_.toLowerCase(),h+(M?Er(_):_)});function Er(h){return Dh(xi(h).toLowerCase())}function Xi(h){return h=xi(h),h&&h.replace(ol,go).replace(Ba,"")}function io(h,_,M){h=xi(h),_=Tr(_);var j=h.length;M=M===d?j:u0(kr(M),0,j);var re=M;return M-=_.length,M>=0&&h.slice(M,re)==_}function vs(h){return h=xi(h),h&&at.test(h)?h.replace(Je,is):h}function g0(h){return h=xi(h),h&&On.test(h)?h.replace(Xn,"\\$&"):h}var El=Qu(function(h,_,M){return h+(M?"-":"")+_.toLowerCase()}),Xo=Qu(function(h,_,M){return h+(M?" ":"")+_.toLowerCase()}),Yi=xc("toLowerCase");function Do(h,_,M){h=xi(h),_=kr(_);var j=_?Dr(h):0;if(!_||j>=_)return h;var re=(_-j)/2;return Fh(ml(re),M)+h+Fh(gl(re),M)}function Yo(h,_,M){h=xi(h),_=kr(_);var j=_?Dr(h):0;return _&&j<_?h+Fh(_-j,M):h}function Qo(h,_,M){h=xi(h),_=kr(_);var j=_?Dr(h):0;return _&&j<_?Fh(_-j,M)+h:h}function rl(h,_,M){return M||_==null?_=0:_&&(_=+_),yc(xi(h).replace(wt,""),_||0)}function m0(h,_,M){return(M?to(h,_,M):_===d)?_=1:_=kr(_),At(xi(h),_)}function Co(){var h=arguments,_=xi(h[0]);return h.length<3?_:_.replace(h[1],h[2])}var kl=Qu(function(h,_,M){return h+(M?"_":"")+_.toLowerCase()});function ao(h,_,M){return M&&typeof M!="number"&&to(h,_,M)&&(_=M=d),M=M===d?We:M>>>0,M?(h=xi(h),h&&(typeof _=="string"||_!=null&&!$p(_))&&(_=Tr(_),!_&&fl(h))?Vo(oa(h),0,M):h.split(_,M)):[]}var Io=Qu(function(h,_,M){return h+(M?" ":"")+Dh(_)});function Ao(h,_,M){return h=xi(h),M=M==null?0:u0(kr(M),0,h.length),_=Tr(_),h.slice(M,M+_.length)==_}function Va(h,_,M){var j=pe.templateSettings;M&&to(h,_,M)&&(_=d),h=xi(h),_=wh({},_,j,nd);var re=wh({},_.imports,j.imports,nd),be=G(re),Ne=cr(re,be),Qe,ut,Ht=0,qt=_.interpolate||Wa,an="__p += '",Pn=A0((_.escape||Wa).source+"|"+qt.source+"|"+(qt===Rt?Nr:Wa).source+"|"+(_.evaluate||Wa).source+"|$","g"),tr="//# sourceURL="+(jr.call(_,"sourceURL")?(_.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Un+"]")+`
`;h.replace(Pn,function(gr,ei,di,ku,v0,Ru){return di||(di=ku),an+=h.slice(Ht,Ru).replace(Os,Bu),ei&&(Qe=!0,an+=`' +
__e(`+ei+`) +
'`),v0&&(ut=!0,an+=`';
`+v0+`;
__p += '`),di&&(an+=`' +
((__t = (`+di+`)) == null ? '' : __t) +
'`),Ht=Ru+gr.length,gr}),an+=`';
`;var fr=jr.call(_,"variable")&&_.variable;if(!fr)an=`with (obj) {
`+an+`
}
`;else if(Gn.test(fr))throw new hr(l);an=(ut?an.replace(_e,""):an).replace(Te,"$1").replace(Ze,"$1;"),an="function("+(fr||"obj")+`) {
`+(fr?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Qe?", __e = _.escape":"")+(ut?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+an+`return __p
}`;var Fr=Nf(function(){return Wr(be,tr+"return "+an).apply(d,Ne)});if(Fr.source=an,Qd(Fr))throw Fr;return Fr}function $i(h){return xi(h).toLowerCase()}function Mu(h){return xi(h).toUpperCase()}function Zp(h,_,M){if(h=xi(h),h&&(M||_===d))return ln(h);if(!h||!(_=Tr(_)))return h;var j=oa(h),re=oa(_),be=hi(j,re),Ne=Oa(j,re)+1;return Vo(j,be,Ne).join("")}function Pu(h,_,M){if(h=xi(h),h&&(M||_===d))return h.slice(0,Fu(h)+1);if(!h||!(_=Tr(_)))return h;var j=oa(h),re=Oa(j,oa(_))+1;return Vo(j,0,re).join("")}function uy(h,_,M){if(h=xi(h),h&&(M||_===d))return h.replace(wt,"");if(!h||!(_=Tr(_)))return h;var j=oa(h),re=hi(j,oa(_));return Vo(j,re).join("")}function Wp(h,_){var M=ye,j=Dt;if(Ca(_)){var re="separator"in _?_.separator:re;M="length"in _?kr(_.length):M,j="omission"in _?Tr(_.omission):j}h=xi(h);var be=h.length;if(fl(h)){var Ne=oa(h);be=Ne.length}if(M>=be)return h;var Qe=M-Dr(j);if(Qe<1)return j;var ut=Ne?Vo(Ne,0,Qe).join(""):h.slice(0,Qe);if(re===d)return ut+j;if(Ne&&(Qe+=ut.length-Qe),$p(re)){if(h.slice(Qe).search(re)){var Ht,qt=ut;for(re.global||(re=A0(re.source,xi($r.exec(re))+"g")),re.lastIndex=0;Ht=re.exec(qt);)var an=Ht.index;ut=ut.slice(0,an===d?Qe:an)}}else if(h.indexOf(Tr(re),Qe)!=Qe){var Pn=ut.lastIndexOf(re);Pn>-1&&(ut=ut.slice(0,Pn))}return ut+j}function ip(h){return h=xi(h),h&&Ye.test(h)?h.replace(ge,Zc):h}var Hp=Qu(function(h,_,M){return h+(M?" ":"")+_.toUpperCase()}),Dh=xc("toUpperCase");function ap(h,_,M){return h=xi(h),_=M?d:_,_===d?yp(h)?zh(h):pl(h):h.match(_)||[]}var Nf=nt(function(h,_){try{return _a(h,d,_)}catch(M){return Qd(M)?M:new hr(M)}}),Hg=N0(function(h,_){return Ei(_,function(M){M=el(M),jl(h,M,on(h[M],h))}),h});function qg(h){var _=h==null?0:h.length,M=rr();return h=_?Zr(h,function(j){if(typeof j[1]!="function")throw new os(A);return[M(j[0]),j[1]]}):[],nt(function(j){for(var re=-1;++re<_;){var be=h[re];if(_a(be[0],this,j))return _a(be[1],this,j)}})}function Kg(h){return Vl(us(h,te))}function Id(h){return function(){return h}}function $f(h,_){return h==null||h!==h?_:h}var zc=F0(),Xg=F0(!0);function Rl(h){return h}function jf(h){return T(typeof h=="function"?h:us(h,te))}function cy(h){return Z(us(h,te))}function hy(h,_){return Q(h,us(_,te))}var py=nt(function(h,_){return function(M){return ja(M,h,_)}}),dy=nt(function(h,_){return function(M){return ja(h,M,_)}});function Vf(h,_,M){var j=G(_),re=Ri(_,j);M==null&&!(Ca(_)&&(re.length||!j.length))&&(M=_,_=h,h=this,re=Ri(_,G(_)));var be=!(Ca(M)&&"chain"in M)||!!M.chain,Ne=Uc(h);return Ei(re,function(Qe){var ut=_[Qe];h[Qe]=ut,Ne&&(h.prototype[Qe]=function(){var Ht=this.__chain__;if(be||Ht){var qt=h(this.__wrapped__),an=qt.__actions__=Wo(this.__actions__);return an.push({func:ut,args:arguments,thisArg:h}),qt.__chain__=Ht,qt}return ut.apply(h,Zs([this.value()],arguments))})}),h}function fy(){return ci._===this&&(ci._=ju),this}function Zf(){}function Eu(h){return h=kr(h),nt(function(_){return we(_,h)})}var nf=Oh(Zr),Yg=Oh(Vs),gy=Oh(D0);function Qg(h){return kn(h)?F(el(h)):Ee(h)}function my(h){return function(_){return h==null?d:Dl(h,_)}}var Bs=ed(),y0=ed(!0);function Gc(){return[]}function _0(){return!1}function op(){return{}}function sc(){return""}function Jb(){return!0}function ew(h,_){if(h=kr(h),h<1||h>yt)return[];var M=We,j=Fa(h,We);_=rr(_),h-=We;for(var re=st(j,_);++M<h;)_(M);return re}function tw(h){return Mr(h)?Zr(h,el):d0(h)?[h]:Wo(ec(xi(h)))}function nw(h){var _=++S0;return xi(h)+_}var rw=wc(function(h,_){return h+_},0),iw=eo("ceil"),aw=wc(function(h,_){return h/_},1),ow=eo("floor");function sw(h){return h&&h.length?mu(h,Rl,cs):d}function lw(h,_){return h&&h.length?mu(h,rr(_,2),cs):d}function uw(h){return J0(h,Rl)}function cw(h,_){return J0(h,rr(_,2))}function hw(h){return h&&h.length?mu(h,Rl,O):d}function pw(h,_){return h&&h.length?mu(h,rr(_,2),O):d}var dw=wc(function(h,_){return h*_},1),fw=eo("round"),gw=wc(function(h,_){return h-_},0);function mw(h){return h&&h.length?_t(h,Rl):0}function yw(h,_){return h&&h.length?_t(h,rr(_,2)):0}return pe.after=Xe,pe.ary=It,pe.assign=Uf,pe.assignIn=zf,pe.assignInWith=wh,pe.assignWith=Gf,pe.at=Wg,pe.before=en,pe.bind=on,pe.bindAll=Hg,pe.bindKey=tn,pe.castArray=iy,pe.chain=Rp,pe.chunk=Hh,pe.compact=xu,pe.concat=Yl,pe.cond=qg,pe.conforms=Kg,pe.constant=Id,pe.countBy=yd,pe.create=Lf,pe.curry=Cn,pe.curryRight=zn,pe.debounce=$n,pe.defaults=tf,pe.defaultsDeep=Cd,pe.defer=da,pe.delay=dt,pe.difference=Hr,pe.differenceBy=wa,pe.differenceWith=Da,pe.drop=xo,pe.dropRight=tl,pe.dropRightWhile=ph,pe.dropWhile=no,pe.fill=qh,pe.filter=Ec,pe.flatMap=_h,pe.flatMapDeep=zp,pe.flatMapDepth=Kd,pe.flatten=dh,pe.flattenDeep=fh,pe.flattenDepth=ys,pe.flip=et,pe.flow=zc,pe.flowRight=Xg,pe.fromPairs=Sp,pe.functions=r,pe.functionsIn=s,pe.groupBy=Lp,pe.initial=Xh,pe.intersection=gh,pe.intersectionBy=wu,pe.intersectionWith=Yh,pe.invert=I,pe.invertBy=P,pe.invokeMap=_d,pe.iteratee=jf,pe.keyBy=Xd,pe.keys=G,pe.keysIn=N,pe.map=Iu,pe.mapKeys=H,pe.mapValues=Y,pe.matches=cy,pe.matchesProperty=hy,pe.memoize=vt,pe.merge=ee,pe.mergeWith=se,pe.method=py,pe.methodOf=dy,pe.mixin=Vf,pe.negate=pn,pe.nthArg=Eu,pe.omit=ve,pe.omitBy=Ie,pe.once=Vn,pe.orderBy=vd,pe.over=nf,pe.overArgs=ir,pe.overEvery=Yg,pe.overSome=gy,pe.partial=Jn,pe.partialRight=ur,pe.partition=rp,pe.pick=qe,pe.pickBy=Ue,pe.property=Qg,pe.propertyOf=my,pe.pull=nc,pe.pullAll=Ac,pe.pullAllBy=Gs,pe.pullAllWith=rc,pe.pullAt=Ql,pe.range=Bs,pe.rangeRight=y0,pe.rearg=bo,pe.reject=a,pe.remove=Ls,pe.rest=ai,pe.reverse=Tp,pe.sampleSize=x,pe.set=me,pe.setWith=Oe,pe.shuffle=S,pe.slice=ud,pe.sortBy=le,pe.sortedUniq=hd,pe.sortedUniqBy=Mc,pe.split=ao,pe.spread=Au,pe.tail=pd,pe.take=Mp,pe.takeRight=Pp,pe.takeRightWhile=ep,pe.takeWhile=jd,pe.tap=Hd,pe.throttle=Sf,pe.thru=Ml,pe.toArray=kf,pe.toPairs=ft,pe.toPairsIn=jt,pe.toPath=tw,pe.toPlainObject=Vg,pe.transform=xt,pe.unary=ny,pe.union=Cf,pe.unionBy=tp,pe.unionWith=Vd,pe.uniq=ac,pe.uniqBy=If,pe.uniqWith=mh,pe.unset=Tt,pe.unzip=Ep,pe.unzipWith=Ki,pe.update=Xt,pe.updateWith=Zt,pe.values=Kt,pe.valuesIn=Et,pe.without=Af,pe.words=ap,pe.wrap=ry,pe.xor=Zd,pe.xorBy=np,pe.xorWith=Wd,pe.zip=kp,pe.zipObject=dd,pe.zipObjectDeep=Pa,pe.zipWith=nl,pe.entries=ft,pe.entriesIn=jt,pe.extend=zf,pe.extendWith=wh,Vf(pe,pe),pe.add=rw,pe.attempt=Nf,pe.camelCase=En,pe.capitalize=Er,pe.ceil=iw,pe.clamp=In,pe.clone=ay,pe.cloneDeep=xh,pe.cloneDeepWith=Pg,pe.cloneWith=Tf,pe.conformsTo=Eg,pe.deburr=Xi,pe.defaultTo=$f,pe.divide=aw,pe.endsWith=io,pe.eq=V0,pe.escape=vs,pe.escapeRegExp=g0,pe.every=Cu,pe.find=oc,pe.findIndex=tc,pe.findKey=Bf,pe.findLast=kc,pe.findLastIndex=Kh,pe.findLastKey=Of,pe.floor=ow,pe.forEach=Gp,pe.forEachRight=vh,pe.forIn=Ff,pe.forInRight=ly,pe.forOwn=i,pe.forOwnRight=t,pe.get=g,pe.gt=kg,pe.gte=Rg,pe.has=v,pe.hasIn=b,pe.head=bu,pe.identity=Rl,pe.includes=Bp,pe.indexOf=j0,pe.inRange=qn,pe.invoke=R,pe.isArguments=Rc,pe.isArray=Mr,pe.isArrayBuffer=xd,pe.isArrayLike=Pl,pe.isArrayLikeObject=Ea,pe.isBoolean=Ug,pe.isBuffer=wo,pe.isDate=Fp,pe.isElement=zg,pe.isEmpty=Gg,pe.isEqual=Lg,pe.isEqualWith=Bg,pe.isError=Qd,pe.isFinite=Og,pe.isFunction=Uc,pe.isInteger=Mf,pe.isLength=Su,pe.isMap=Pf,pe.isMatch=Fg,pe.isMatchWith=oy,pe.isNaN=sy,pe.isNative=Ng,pe.isNil=$g,pe.isNull=bd,pe.isNumber=wd,pe.isObject=Ca,pe.isObjectLike=ka,pe.isPlainObject=Np,pe.isRegExp=$p,pe.isSafeInteger=Jd,pe.isSet=Dd,pe.isString=ef,pe.isSymbol=d0,pe.isTypedArray=jp,pe.isUndefined=Vp,pe.isWeakMap=_s,pe.isWeakSet=bh,pe.join=Du,pe.kebabCase=El,pe.last=ro,pe.lastIndexOf=Qh,pe.lowerCase=Xo,pe.lowerFirst=Yi,pe.lt=Ef,pe.lte=jg,pe.max=sw,pe.maxBy=lw,pe.mean=uw,pe.meanBy=cw,pe.min=hw,pe.minBy=pw,pe.stubArray=Gc,pe.stubFalse=_0,pe.stubObject=op,pe.stubString=sc,pe.stubTrue=Jb,pe.multiply=dw,pe.nth=Jh,pe.noConflict=fy,pe.noop=Zf,pe.now=Re,pe.pad=Do,pe.padEnd=Yo,pe.padStart=Qo,pe.parseInt=rl,pe.random=Wn,pe.reduce=Yd,pe.reduceRight=Op,pe.repeat=m0,pe.replace=Co,pe.result=K,pe.round=fw,pe.runInContext=it,pe.sample=c,pe.size=U,pe.snakeCase=kl,pe.some=$,pe.sortedIndex=Sc,pe.sortedIndexBy=Nd,pe.sortedIndexOf=ic,pe.sortedLastIndex=$d,pe.sortedLastIndexBy=cd,pe.sortedLastIndexOf=Tc,pe.startCase=Io,pe.startsWith=Ao,pe.subtract=gw,pe.sum=mw,pe.sumBy=yw,pe.template=Va,pe.times=ew,pe.toFinite=Tu,pe.toInteger=kr,pe.toLength=Rf,pe.toLower=$i,pe.toNumber=f0,pe.toSafeInteger=Zg,pe.toString=xi,pe.toUpper=Mu,pe.trim=Zp,pe.trimEnd=Pu,pe.trimStart=uy,pe.truncate=Wp,pe.unescape=ip,pe.uniqueId=nw,pe.upperCase=Hp,pe.upperFirst=Dh,pe.each=Gp,pe.eachRight=vh,pe.first=bu,Vf(pe,function(){var h={};return $o(pe,function(_,M){jr.call(pe.prototype,M)||(h[M]=_)}),h}(),{chain:!1}),pe.VERSION=w,Ei(["bind","bindKey","curry","curryRight","partial","partialRight"],function(h){pe[h].placeholder=pe}),Ei(["drop","take"],function(h,_){pr.prototype[h]=function(M){M=M===d?1:Fi(kr(M),0);var j=this.__filtered__&&!_?new pr(this):this.clone();return j.__filtered__?j.__takeCount__=Fa(M,j.__takeCount__):j.__views__.push({size:Fa(M,We),type:h+(j.__dir__<0?"Right":"")}),j},pr.prototype[h+"Right"]=function(M){return this.reverse()[h](M).reverse()}}),Ei(["filter","map","takeWhile"],function(h,_){var M=_+1,j=M==Vt||M==$t;pr.prototype[h]=function(re){var be=this.clone();return be.__iteratees__.push({iteratee:rr(re,3),type:M}),be.__filtered__=be.__filtered__||j,be}}),Ei(["head","last"],function(h,_){var M="take"+(_?"Right":"");pr.prototype[h]=function(){return this[M](1).value()[0]}}),Ei(["initial","tail"],function(h,_){var M="drop"+(_?"":"Right");pr.prototype[h]=function(){return this.__filtered__?new pr(this):this[M](1)}}),pr.prototype.compact=function(){return this.filter(Rl)},pr.prototype.find=function(h){return this.filter(h).head()},pr.prototype.findLast=function(h){return this.reverse().find(h)},pr.prototype.invokeMap=nt(function(h,_){return typeof h=="function"?new pr(this):this.map(function(M){return ja(M,h,_)})}),pr.prototype.reject=function(h){return this.filter(pn(rr(h)))},pr.prototype.slice=function(h,_){h=kr(h);var M=this;return M.__filtered__&&(h>0||_<0)?new pr(M):(h<0?M=M.takeRight(-h):h&&(M=M.drop(h)),_!==d&&(_=kr(_),M=_<0?M.dropRight(-_):M.take(_-h)),M)},pr.prototype.takeRightWhile=function(h){return this.reverse().takeWhile(h).reverse()},pr.prototype.toArray=function(){return this.take(We)},$o(pr.prototype,function(h,_){var M=/^(?:filter|find|map|reject)|While$/.test(_),j=/^(?:head|last)$/.test(_),re=pe[j?"take"+(_=="last"?"Right":""):_],be=j||/^find/.test(_);re&&(pe.prototype[_]=function(){var Ne=this.__wrapped__,Qe=j?[1]:arguments,ut=Ne instanceof pr,Ht=Qe[0],qt=ut||Mr(Ne),an=function(ei){var di=re.apply(pe,Zs([ei],Qe));return j&&Pn?di[0]:di};qt&&M&&typeof Ht=="function"&&Ht.length!=1&&(ut=qt=!1);var Pn=this.__chain__,tr=!!this.__actions__.length,fr=be&&!Pn,Fr=ut&&!tr;if(!be&&qt){Ne=Fr?Ne:new pr(this);var gr=h.apply(Ne,Qe);return gr.__actions__.push({func:Ml,args:[an],thisArg:d}),new Ka(gr,Pn)}return fr&&Fr?h.apply(this,Qe):(gr=this.thru(an),fr?j?gr.value()[0]:gr.value():gr)})}),Ei(["pop","push","shift","sort","splice","unshift"],function(h){var _=zo[h],M=/^(?:push|sort|unshift)$/.test(h)?"tap":"thru",j=/^(?:pop|shift)$/.test(h);pe.prototype[h]=function(){var re=arguments;if(j&&!this.__chain__){var be=this.value();return _.apply(Mr(be)?be:[],re)}return this[M](function(Ne){return _.apply(Mr(Ne)?Ne:[],re)})}}),$o(pr.prototype,function(h,_){var M=pe[_];if(M){var j=M.name+"";jr.call(Di,j)||(Di[j]=[]),Di[j].push({name:_,func:M})}}),Di[bc(d,He).name]=[{name:"wrapper",func:d}],pr.prototype.clone=s0,pr.prototype.reverse=la,pr.prototype.value=vl,pe.prototype.at=yh,pe.prototype.chain=Pc,pe.prototype.commit=Up,pe.prototype.next=fd,pe.prototype.plant=qd,pe.prototype.reverse=Ko,pe.prototype.toJSON=pe.prototype.valueOf=pe.prototype.value=md,pe.prototype.first=pe.prototype.head,Is&&(pe.prototype[Is]=gd),pe},I0=eu();po?((po.exports=I0)._=I0,ul._=I0):ci._=I0}).call(SS)}(rg,rg.exports)),rg.exports}TS();const MS={0:[0,126,1,0],1:[0,119,13],2:[0,113,26],3:[0,107,39],4:[0,101,51],5:[0,95,64],6:[0,88,77],7:[0,82,89],8:[0,76,102],9:[0,70,115],10:[0,64,128],11:[0,64,128],12:[1,65,129],13:[1,66,129],14:[2,67,130],15:[2,68,131],16:[3,69,131],17:[3,70,132],18:[4,71,133],19:[5,72,133],20:[5,73,134],21:[6,74,135],22:[6,75,135],23:[7,76,136],24:[7,77,137],25:[8,78,137],26:[8,79,138],27:[9,80,139],28:[10,81,139],29:[10,82,140],30:[11,83,141],31:[11,84,141],32:[12,85,142],33:[12,86,143],34:[13,87,143],35:[13,88,144],36:[14,89,145],37:[15,90,145],38:[15,91,146],39:[16,92,147],40:[16,93,147],41:[17,94,148],42:[17,95,149],43:[18,96,149],44:[18,97,150],45:[19,98,151],46:[20,99,151],47:[20,100,152],48:[21,101,153],49:[21,102,153],50:[22,103,154],51:[22,104,155],52:[23,105,155],53:[23,106,156],54:[24,107,157],55:[25,108,157],56:[25,109,158],57:[26,110,159],58:[26,111,159],59:[27,112,160],60:[27,113,161],61:[28,114,161],62:[28,115,162],63:[29,116,163],64:[30,117,163],65:[30,118,164],66:[31,119,165],67:[31,120,165],68:[32,121,166],69:[32,122,167],70:[33,123,167],71:[33,124,168],72:[34,125,169],73:[35,126,169],74:[35,127,170],75:[36,128,171],76:[36,129,171],77:[37,130,172],78:[37,131,173],79:[38,132,173],80:[38,133,174],81:[39,134,175],82:[40,135,175],83:[40,136,176],84:[41,137,177],85:[41,138,177],86:[42,139,178],87:[42,140,179],88:[43,141,179],89:[43,142,180],90:[44,143,181],91:[45,144,181],92:[45,145,182],93:[46,146,183],94:[46,147,183],95:[47,148,184],96:[47,149,185],97:[48,150,185],98:[48,151,186],99:[49,152,187],100:[50,152,187],101:[51,153,188],102:[52,154,188],103:[53,155,189],104:[54,156,189],105:[55,157,190],106:[56,158,190],107:[57,159,191],108:[58,160,191],109:[59,161,192],110:[60,162,192],111:[61,163,193],112:[62,164,193],113:[63,165,194],114:[64,166,194],115:[65,167,195],116:[66,168,195],117:[67,169,196],118:[68,170,196],119:[69,171,197],120:[70,172,197],121:[71,173,198],122:[72,174,198],123:[73,175,199],124:[74,176,199],125:[75,177,200],126:[76,178,200],127:[77,179,201],128:[78,180,201],129:[79,181,202],130:[80,182,202],131:[81,183,203],132:[82,184,203],133:[83,185,204],134:[84,186,204],135:[85,187,205],136:[86,188,205],137:[87,189,206],138:[88,190,206],139:[89,191,207],140:[90,192,207],141:[91,193,208],142:[92,194,208],143:[93,195,209],144:[94,196,209],145:[95,197,210],146:[96,198,210],147:[97,199,211],148:[98,200,211],149:[99,201,212],150:[100,202,212],151:[101,203,213],152:[102,204,213],153:[103,205,214],154:[104,206,214],155:[105,207,215],156:[106,208,215],157:[107,209,216],158:[108,210,216],159:[109,211,217],160:[110,212,217],161:[111,213,218],162:[112,214,218],163:[113,215,219],164:[114,216,219],165:[115,217,220],166:[116,218,220],167:[117,219,221],168:[118,220,221],169:[119,221,222],170:[120,222,222],171:[121,223,223],172:[122,224,223],173:[123,225,224],174:[124,226,224],175:[125,227,225],176:[126,228,225],177:[127,229,226],178:[128,230,226],179:[129,231,227],180:[130,232,227],181:[131,233,228],182:[132,234,228],183:[133,235,229],184:[134,236,229],185:[135,237,230],186:[136,238,230],187:[137,239,231],188:[138,240,231],189:[139,241,232],190:[140,242,232],191:[141,243,233],192:[142,244,233],193:[143,245,234],194:[144,246,234],195:[145,247,235],196:[146,248,235],197:[147,249,236],198:[148,250,236],199:[149,251,237],200:[150,252,237],201:[151,253,238],202:[152,254,238],203:[153,255,239],204:[154,255,239],205:[155,255,240],206:[156,255,240],207:[157,255,241],208:[158,255,241],209:[159,255,242],210:[160,255,242],211:[161,255,243],212:[162,255,243],213:[163,255,244],214:[164,255,244],215:[165,255,245],216:[166,255,245],217:[167,255,246],218:[168,255,246],219:[169,255,247],220:[170,255,247],221:[171,255,248],222:[172,255,248],223:[173,255,249],224:[174,255,249],225:[175,255,250],226:[176,255,250],227:[177,255,251],228:[178,255,251],229:[179,255,252],230:[180,255,252],231:[181,255,253],232:[182,255,253],233:[183,255,254],234:[184,255,254],235:[185,255,255],236:[186,255,255],237:[187,255,255],238:[188,255,255],239:[189,255,255],240:[190,255,255],241:[191,255,255],242:[192,255,255],243:[193,255,255],244:[194,255,255],245:[195,255,255],246:[196,255,255],247:[197,255,255],248:[198,255,255],249:[199,255,255],250:[200,255,255],251:[201,255,255],252:[202,255,255],253:[203,255,255],254:[204,255,255],255:[255,255,255]},Pv=JSON.parse('[{"DGUID":"2021A00031001","Challenge":"Make a splash","n":"836.000000000000000"},{"DGUID":"2021A00031002","Challenge":"Make a splash","n":"450.000000000000000"},{"DGUID":"2021A00031003","Challenge":"Make a splash","n":"513.000000000000000"},{"DGUID":"2021A00031004","Challenge":"Make a splash","n":"146.000000000000000"},{"DGUID":"2021A00031005","Challenge":"Make a splash","n":"281.000000000000000"},{"DGUID":"2021A00031006","Challenge":"Make a splash","n":"628.000000000000000"},{"DGUID":"2021A00031007","Challenge":"Make a splash","n":"476.000000000000000"},{"DGUID":"2021A00031008","Challenge":"Make a splash","n":"314.000000000000000"},{"DGUID":"2021A00031009","Challenge":"Make a splash","n":"246.000000000000000"},{"DGUID":"2021A00031010","Challenge":"Make a splash","n":"972.000000000000000"},{"DGUID":"2021A00031011","Challenge":"Make a splash","n":"153.000000000000000"},{"DGUID":"2021A00031101","Challenge":"Make a splash","n":"6.000000000000000"},{"DGUID":"2021A00031102","Challenge":"Make a splash","n":"11.000000000000000"},{"DGUID":"2021A00031103","Challenge":"Make a splash","n":"12.000000000000000"},{"DGUID":"2021A00031201","Challenge":"Make a splash","n":"112.000000000000000"},{"DGUID":"2021A00031202","Challenge":"Make a splash","n":"294.000000000000000"},{"DGUID":"2021A00031203","Challenge":"Make a splash","n":"201.000000000000000"},{"DGUID":"2021A00031204","Challenge":"Make a splash","n":"134.000000000000000"},{"DGUID":"2021A00031205","Challenge":"Make a splash","n":"238.000000000000000"},{"DGUID":"2021A00031206","Challenge":"Make a splash","n":"157.000000000000000"},{"DGUID":"2021A00031207","Challenge":"Make a splash","n":"100.000000000000000"},{"DGUID":"2021A00031208","Challenge":"Make a splash","n":"108.000000000000000"},{"DGUID":"2021A00031209","Challenge":"Make a splash","n":"919.000000000000000"},{"DGUID":"2021A00031210","Challenge":"Make a splash","n":"19.000000000000000"},{"DGUID":"2021A00031211","Challenge":"Make a splash","n":"17.000000000000000"},{"DGUID":"2021A00031212","Challenge":"Make a splash","n":"17.000000000000000"},{"DGUID":"2021A00031213","Challenge":"Make a splash","n":"519.000000000000000"},{"DGUID":"2021A00031214","Challenge":"Make a splash","n":"7.000000000000000"},{"DGUID":"2021A00031215","Challenge":"Make a splash","n":"7.000000000000000"},{"DGUID":"2021A00031216","Challenge":"Make a splash","n":"45.000000000000000"},{"DGUID":"2021A00031217","Challenge":"Make a splash","n":"25.000000000000000"},{"DGUID":"2021A00031218","Challenge":"Make a splash","n":"31.000000000000000"},{"DGUID":"2021A00031301","Challenge":"Make a splash","n":"76.000000000000000"},{"DGUID":"2021A00031302","Challenge":"Make a splash","n":"231.000000000000000"},{"DGUID":"2021A00031303","Challenge":"Make a splash","n":"20.000000000000000"},{"DGUID":"2021A00031304","Challenge":"Make a splash","n":"77.000000000000000"},{"DGUID":"2021A00031305","Challenge":"Make a splash","n":"114.000000000000000"},{"DGUID":"2021A00031306","Challenge":"Make a splash","n":"12.000000000000000"},{"DGUID":"2021A00031307","Challenge":"Make a splash","n":"15.000000000000000"},{"DGUID":"2021A00031308","Challenge":"Make a splash","n":"43.000000000000000"},{"DGUID":"2021A00031309","Challenge":"Make a splash","n":"242.000000000000000"},{"DGUID":"2021A00031310","Challenge":"Make a splash","n":"141.000000000000000"},{"DGUID":"2021A00031311","Challenge":"Make a splash","n":"102.000000000000000"},{"DGUID":"2021A00031312","Challenge":"Make a splash","n":"134.000000000000000"},{"DGUID":"2021A00031313","Challenge":"Make a splash","n":"70.000000000000000"},{"DGUID":"2021A00031314","Challenge":"Make a splash","n":"96.000000000000000"},{"DGUID":"2021A00031315","Challenge":"Make a splash","n":"104.000000000000000"},{"DGUID":"2021A00032401","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00032402","Challenge":"Make a splash","n":"136.000000000000000"},{"DGUID":"2021A00032403","Challenge":"Make a splash","n":"102.000000000000000"},{"DGUID":"2021A00032404","Challenge":"Make a splash","n":"46.000000000000000"},{"DGUID":"2021A00032405","Challenge":"Make a splash","n":"60.000000000000000"},{"DGUID":"2021A00032406","Challenge":"Make a splash","n":"47.000000000000000"},{"DGUID":"2021A00032407","Challenge":"Make a splash","n":"174.000000000000000"},{"DGUID":"2021A00032408","Challenge":"Make a splash","n":"80.000000000000000"},{"DGUID":"2021A00032409","Challenge":"Make a splash","n":"80.000000000000000"},{"DGUID":"2021A00032410","Challenge":"Make a splash","n":"69.000000000000000"},{"DGUID":"2021A00032411","Challenge":"Make a splash","n":"50.000000000000000"},{"DGUID":"2021A00032412","Challenge":"Make a splash","n":"45.000000000000000"},{"DGUID":"2021A00032413","Challenge":"Make a splash","n":"165.000000000000000"},{"DGUID":"2021A00032414","Challenge":"Make a splash","n":"91.000000000000000"},{"DGUID":"2021A00032415","Challenge":"Make a splash","n":"290.000000000000000"},{"DGUID":"2021A00032416","Challenge":"Make a splash","n":"98.000000000000000"},{"DGUID":"2021A00032417","Challenge":"Make a splash","n":"68.000000000000000"},{"DGUID":"2021A00032418","Challenge":"Make a splash","n":"81.000000000000000"},{"DGUID":"2021A00032419","Challenge":"Make a splash","n":"79.000000000000000"},{"DGUID":"2021A00032420","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00032421","Challenge":"Make a splash","n":"192.000000000000000"},{"DGUID":"2021A00032422","Challenge":"Make a splash","n":"315.000000000000000"},{"DGUID":"2021A00032423","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00032425","Challenge":"Make a splash","n":"2.000000000000000"},{"DGUID":"2021A00032426","Challenge":"Make a splash","n":"13.000000000000000"},{"DGUID":"2021A00032427","Challenge":"Make a splash","n":"20.000000000000000"},{"DGUID":"2021A00032428","Challenge":"Make a splash","n":"111.000000000000000"},{"DGUID":"2021A00032429","Challenge":"Make a splash","n":"90.000000000000000"},{"DGUID":"2021A00032430","Challenge":"Make a splash","n":"46.000000000000000"},{"DGUID":"2021A00032431","Challenge":"Make a splash","n":"31.000000000000000"},{"DGUID":"2021A00032432","Challenge":"Make a splash","n":"49.000000000000000"},{"DGUID":"2021A00032433","Challenge":"Make a splash","n":"25.000000000000000"},{"DGUID":"2021A00032434","Challenge":"Make a splash","n":"571.000000000000000"},{"DGUID":"2021A00032435","Challenge":"Make a splash","n":"690.000000000000000"},{"DGUID":"2021A00032436","Challenge":"Make a splash","n":"46.000000000000000"},{"DGUID":"2021A00032437","Challenge":"Make a splash","n":"21.000000000000000"},{"DGUID":"2021A00032438","Challenge":"Make a splash","n":"23.000000000000000"},{"DGUID":"2021A00032439","Challenge":"Make a splash","n":"64.000000000000000"},{"DGUID":"2021A00032440","Challenge":"Make a splash","n":"4.000000000000000"},{"DGUID":"2021A00032441","Challenge":"Make a splash","n":"49.000000000000000"},{"DGUID":"2021A00032442","Challenge":"Make a splash","n":"7.000000000000000"},{"DGUID":"2021A00032443","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00032444","Challenge":"Make a splash","n":"15.000000000000000"},{"DGUID":"2021A00032445","Challenge":"Make a splash","n":"2.000000000000000"},{"DGUID":"2021A00032446","Challenge":"Make a splash","n":"6.000000000000000"},{"DGUID":"2021A00032447","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00032448","Challenge":"Make a splash","n":"16.000000000000000"},{"DGUID":"2021A00032449","Challenge":"Make a splash","n":"39.000000000000000"},{"DGUID":"2021A00032450","Challenge":"Make a splash","n":"31.000000000000000"},{"DGUID":"2021A00032451","Challenge":"Make a splash","n":"173.000000000000000"},{"DGUID":"2021A00032452","Challenge":"Make a splash","n":"77.000000000000000"},{"DGUID":"2021A00032453","Challenge":"Make a splash","n":"1.000000000000000"},{"DGUID":"2021A00032454","Challenge":"Make a splash","n":"7.000000000000000"},{"DGUID":"2021A00032455","Challenge":"Make a splash","n":"3.000000000000000"},{"DGUID":"2021A00032456","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00032457","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00032458","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00032459","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00032460","Challenge":"Make a splash","n":"1.000000000000000"},{"DGUID":"2021A00032461","Challenge":"Make a splash","n":"5.000000000000000"},{"DGUID":"2021A00032462","Challenge":"Make a splash","n":"779.000000000000000"},{"DGUID":"2021A00032463","Challenge":"Make a splash","n":"8.000000000000000"},{"DGUID":"2021A00032464","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00032465","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00032466","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00032467","Challenge":"Make a splash","n":"1.000000000000000"},{"DGUID":"2021A00032468","Challenge":"Make a splash","n":"1.000000000000000"},{"DGUID":"2021A00032469","Challenge":"Make a splash","n":"5.000000000000000"},{"DGUID":"2021A00032470","Challenge":"Make a splash","n":"2.000000000000000"},{"DGUID":"2021A00032471","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00032472","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00032473","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00032474","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00032475","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00032476","Challenge":"Make a splash","n":"39.000000000000000"},{"DGUID":"2021A00032477","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00032478","Challenge":"Make a splash","n":"117.000000000000000"},{"DGUID":"2021A00032479","Challenge":"Make a splash","n":"1668.000000000000000"},{"DGUID":"2021A00032480","Challenge":"Make a splash","n":"409.000000000000000"},{"DGUID":"2021A00032481","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00032482","Challenge":"Make a splash","n":"42.000000000000000"},{"DGUID":"2021A00032483","Challenge":"Make a splash","n":"1054.000000000000000"},{"DGUID":"2021A00032484","Challenge":"Make a splash","n":"884.000000000000000"},{"DGUID":"2021A00032485","Challenge":"Make a splash","n":"1874.000000000000000"},{"DGUID":"2021A00032486","Challenge":"Make a splash","n":"301.000000000000000"},{"DGUID":"2021A00032487","Challenge":"Make a splash","n":"173.000000000000000"},{"DGUID":"2021A00032488","Challenge":"Make a splash","n":"86.000000000000000"},{"DGUID":"2021A00032489","Challenge":"Make a splash","n":"1810.000000000000000"},{"DGUID":"2021A00032490","Challenge":"Make a splash","n":"2258.000000000000000"},{"DGUID":"2021A00032491","Challenge":"Make a splash","n":"650.000000000000000"},{"DGUID":"2021A00032492","Challenge":"Make a splash","n":"604.000000000000000"},{"DGUID":"2021A00032493","Challenge":"Make a splash","n":"189.000000000000000"},{"DGUID":"2021A00032494","Challenge":"Make a splash","n":"1902.000000000000000"},{"DGUID":"2021A00032495","Challenge":"Make a splash","n":"635.000000000000000"},{"DGUID":"2021A00032496","Challenge":"Make a splash","n":"858.000000000000000"},{"DGUID":"2021A00032497","Challenge":"Make a splash","n":"1396.000000000000000"},{"DGUID":"2021A00032498","Challenge":"Make a splash","n":"891.000000000000000"},{"DGUID":"2021A00032499","Challenge":"Make a splash","n":"9632.000000000000000"},{"DGUID":"2021A00033501","Challenge":"Make a splash","n":"3.000000000000000"},{"DGUID":"2021A00033502","Challenge":"Make a splash","n":"1.000000000000000"},{"DGUID":"2021A00033506","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00033507","Challenge":"Make a splash","n":"5.000000000000000"},{"DGUID":"2021A00033509","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00033510","Challenge":"Make a splash","n":"13.000000000000000"},{"DGUID":"2021A00033511","Challenge":"Make a splash","n":"6.000000000000000"},{"DGUID":"2021A00033512","Challenge":"Make a splash","n":"21.000000000000000"},{"DGUID":"2021A00033513","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00033514","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00033515","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00033516","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00033518","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00033519","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00033520","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00033521","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00033522","Challenge":"Make a splash","n":"1.000000000000000"},{"DGUID":"2021A00033523","Challenge":"Make a splash","n":"18.000000000000000"},{"DGUID":"2021A00033524","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00033525","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00033526","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00033528","Challenge":"Make a splash","n":"2.000000000000000"},{"DGUID":"2021A00033529","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00033530","Challenge":"Make a splash","n":"3.000000000000000"},{"DGUID":"2021A00033531","Challenge":"Make a splash","n":"15.000000000000000"},{"DGUID":"2021A00033532","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00033534","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00033536","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00033537","Challenge":"Make a splash","n":"2.000000000000000"},{"DGUID":"2021A00033538","Challenge":"Make a splash","n":"10.000000000000000"},{"DGUID":"2021A00033539","Challenge":"Make a splash","n":"0.000000000000000"},{"DGUID":"2021A00033540","Challenge":"Make a splash","n":"27.000000000000000"},{"DGUID":"2021A00033541","Challenge":"Make a splash","n":"10.000000000000000"},{"DGUID":"2021A00033542","Challenge":"Make a splash","n":"17.000000000000000"},{"DGUID":"2021A00033543","Challenge":"Make a splash","n":"1.000000000000000"},{"DGUID":"2021A00033544","Challenge":"Make a splash","n":"7.000000000000000"},{"DGUID":"2021A00033546","Challenge":"Make a splash","n":"26.000000000000000"},{"DGUID":"2021A00033547","Challenge":"Make a splash","n":"67.000000000000000"},{"DGUID":"2021A00033548","Challenge":"Make a splash","n":"1050.000000000000000"},{"DGUID":"2021A00033549","Challenge":"Make a splash","n":"391.000000000000000"},{"DGUID":"2021A00033551","Challenge":"Make a splash","n":"51.000000000000000"},{"DGUID":"2021A00033552","Challenge":"Make a splash","n":"2976.000000000000000"},{"DGUID":"2021A00033553","Challenge":"Make a splash","n":"285.000000000000000"},{"DGUID":"2021A00033554","Challenge":"Make a splash","n":"975.000000000000000"},{"DGUID":"2021A00033556","Challenge":"Make a splash","n":"1340.000000000000000"},{"DGUID":"2021A00033557","Challenge":"Make a splash","n":"2690.000000000000000"},{"DGUID":"2021A00033558","Challenge":"Make a splash","n":"6599.000000000000000"},{"DGUID":"2021A00033559","Challenge":"Make a splash","n":"2803.000000000000000"},{"DGUID":"2021A00033560","Challenge":"Make a splash","n":"7732.000000000000000"},{"DGUID":"2021A00034601","Challenge":"Make a splash","n":"347.000000000000000"},{"DGUID":"2021A00034602","Challenge":"Make a splash","n":"3.000000000000000"},{"DGUID":"2021A00034603","Challenge":"Make a splash","n":"7.000000000000000"},{"DGUID":"2021A00034604","Challenge":"Make a splash","n":"70.000000000000000"},{"DGUID":"2021A00034605","Challenge":"Make a splash","n":"109.000000000000000"},{"DGUID":"2021A00034606","Challenge":"Make a splash","n":"56.000000000000000"},{"DGUID":"2021A00034607","Challenge":"Make a splash","n":"28.000000000000000"},{"DGUID":"2021A00034608","Challenge":"Make a splash","n":"19.000000000000000"},{"DGUID":"2021A00034609","Challenge":"Make a splash","n":"80.000000000000000"},{"DGUID":"2021A00034610","Challenge":"Make a splash","n":"25.000000000000000"},{"DGUID":"2021A00034611","Challenge":"Make a splash","n":"2.000000000000000"},{"DGUID":"2021A00034612","Challenge":"Make a splash","n":"6.000000000000000"},{"DGUID":"2021A00034613","Challenge":"Make a splash","n":"53.000000000000000"},{"DGUID":"2021A00034614","Challenge":"Make a splash","n":"2.000000000000000"},{"DGUID":"2021A00034615","Challenge":"Make a splash","n":"127.000000000000000"},{"DGUID":"2021A00034616","Challenge":"Make a splash","n":"241.000000000000000"},{"DGUID":"2021A00034617","Challenge":"Make a splash","n":"151.000000000000000"},{"DGUID":"2021A00034618","Challenge":"Make a splash","n":"276.000000000000000"},{"DGUID":"2021A00034619","Challenge":"Make a splash","n":"1402.000000000000000"},{"DGUID":"2021A00034620","Challenge":"Make a splash","n":"442.000000000000000"},{"DGUID":"2021A00034621","Challenge":"Make a splash","n":"390.000000000000000"},{"DGUID":"2021A00034622","Challenge":"Make a splash","n":"1145.000000000000000"},{"DGUID":"2021A00034623","Challenge":"Make a splash","n":"3006.000000000000000"},{"DGUID":"2021A00034701","Challenge":"Make a splash","n":"47.000000000000000"},{"DGUID":"2021A00034702","Challenge":"Make a splash","n":"57.000000000000000"},{"DGUID":"2021A00034703","Challenge":"Make a splash","n":"44.000000000000000"},{"DGUID":"2021A00034704","Challenge":"Make a splash","n":"89.000000000000000"},{"DGUID":"2021A00034705","Challenge":"Make a splash","n":"51.000000000000000"},{"DGUID":"2021A00034706","Challenge":"Make a splash","n":"143.000000000000000"},{"DGUID":"2021A00034707","Challenge":"Make a splash","n":"140.000000000000000"},{"DGUID":"2021A00034708","Challenge":"Make a splash","n":"84.000000000000000"},{"DGUID":"2021A00034709","Challenge":"Make a splash","n":"164.000000000000000"},{"DGUID":"2021A00034710","Challenge":"Make a splash","n":"88.000000000000000"},{"DGUID":"2021A00034711","Challenge":"Make a splash","n":"293.000000000000000"},{"DGUID":"2021A00034712","Challenge":"Make a splash","n":"179.000000000000000"},{"DGUID":"2021A00034713","Challenge":"Make a splash","n":"132.000000000000000"},{"DGUID":"2021A00034714","Challenge":"Make a splash","n":"184.000000000000000"},{"DGUID":"2021A00034715","Challenge":"Make a splash","n":"317.000000000000000"},{"DGUID":"2021A00034716","Challenge":"Make a splash","n":"385.000000000000000"},{"DGUID":"2021A00034717","Challenge":"Make a splash","n":"252.000000000000000"},{"DGUID":"2021A00034718","Challenge":"Make a splash","n":"3702.000000000000000"},{"DGUID":"2021A00034801","Challenge":"Make a splash","n":"315.000000000000000"},{"DGUID":"2021A00034802","Challenge":"Make a splash","n":"156.000000000000000"},{"DGUID":"2021A00034803","Challenge":"Make a splash","n":"44.000000000000000"},{"DGUID":"2021A00034804","Challenge":"Make a splash","n":"184.000000000000000"},{"DGUID":"2021A00034805","Challenge":"Make a splash","n":"78.000000000000000"},{"DGUID":"2021A00034806","Challenge":"Make a splash","n":"110.000000000000000"},{"DGUID":"2021A00034807","Challenge":"Make a splash","n":"217.000000000000000"},{"DGUID":"2021A00034808","Challenge":"Make a splash","n":"64.000000000000000"},{"DGUID":"2021A00034809","Challenge":"Make a splash","n":"52.000000000000000"},{"DGUID":"2021A00034810","Challenge":"Make a splash","n":"196.000000000000000"},{"DGUID":"2021A00034811","Challenge":"Make a splash","n":"149.000000000000000"},{"DGUID":"2021A00034812","Challenge":"Make a splash","n":"642.000000000000000"},{"DGUID":"2021A00034813","Challenge":"Make a splash","n":"329.000000000000000"},{"DGUID":"2021A00034814","Challenge":"Make a splash","n":"155.000000000000000"},{"DGUID":"2021A00034815","Challenge":"Make a splash","n":"85.000000000000000"},{"DGUID":"2021A00034816","Challenge":"Make a splash","n":"304.000000000000000"},{"DGUID":"2021A00034817","Challenge":"Make a splash","n":"379.000000000000000"},{"DGUID":"2021A00034818","Challenge":"Make a splash","n":"188.000000000000000"},{"DGUID":"2021A00034819","Challenge":"Make a splash","n":"174.000000000000000"},{"DGUID":"2021A00035901","Challenge":"Make a splash","n":"897.000000000000000"},{"DGUID":"2021A00035903","Challenge":"Make a splash","n":"513.000000000000000"},{"DGUID":"2021A00035905","Challenge":"Make a splash","n":"170.000000000000000"},{"DGUID":"2021A00035907","Challenge":"Make a splash","n":"142.000000000000000"},{"DGUID":"2021A00035909","Challenge":"Make a splash","n":"426.000000000000000"},{"DGUID":"2021A00035915","Challenge":"Make a splash","n":"80.000000000000000"},{"DGUID":"2021A00035917","Challenge":"Make a splash","n":"10.000000000000000"},{"DGUID":"2021A00035919","Challenge":"Make a splash","n":"26.000000000000000"},{"DGUID":"2021A00035921","Challenge":"Make a splash","n":"21.000000000000000"},{"DGUID":"2021A00035923","Challenge":"Make a splash","n":"103.000000000000000"},{"DGUID":"2021A00035924","Challenge":"Make a splash","n":"925.000000000000000"},{"DGUID":"2021A00035926","Challenge":"Make a splash","n":"12.000000000000000"},{"DGUID":"2021A00035927","Challenge":"Make a splash","n":"273.000000000000000"},{"DGUID":"2021A00035929","Challenge":"Make a splash","n":"83.000000000000000"},{"DGUID":"2021A00035931","Challenge":"Make a splash","n":"458.000000000000000"},{"DGUID":"2021A00035933","Challenge":"Make a splash","n":"1906.000000000000000"},{"DGUID":"2021A00035935","Challenge":"Make a splash","n":"64.000000000000000"},{"DGUID":"2021A00035937","Challenge":"Make a splash","n":"162.000000000000000"},{"DGUID":"2021A00035939","Challenge":"Make a splash","n":"878.000000000000000"},{"DGUID":"2021A00035941","Challenge":"Make a splash","n":"4924.000000000000000"},{"DGUID":"2021A00035943","Challenge":"Make a splash","n":"1124.000000000000000"},{"DGUID":"2021A00035945","Challenge":"Make a splash","n":"1491.000000000000000"},{"DGUID":"2021A00035947","Challenge":"Make a splash","n":"437.000000000000000"},{"DGUID":"2021A00035949","Challenge":"Make a splash","n":"8019.000000000000000"},{"DGUID":"2021A00035951","Challenge":"Make a splash","n":"4247.000000000000000"},{"DGUID":"2021A00035953","Challenge":"Make a splash","n":"3434.000000000000000"},{"DGUID":"2021A00035955","Challenge":"Make a splash","n":"5846.000000000000000"},{"DGUID":"2021A00035957","Challenge":"Make a splash","n":"9443.000000000000000"},{"DGUID":"2021A00035959","Challenge":"Make a splash","n":"6910.000000000000000"},{"DGUID":"2021A00036001","Challenge":"Make a splash","n":"1840.000000000000000"},{"DGUID":"2021A00036101","Challenge":"Make a splash","n":"3869.000000000000000"},{"DGUID":"2021A00036102","Challenge":"Make a splash","n":"1733.000000000000000"},{"DGUID":"2021A00036103","Challenge":"Make a splash","n":"1914.000000000000000"},{"DGUID":"2021A00036104","Challenge":"Make a splash","n":"818.000000000000000"},{"DGUID":"2021A00036105","Challenge":"Make a splash","n":"10572.000000000000000"},{"DGUID":"2021A00036106","Challenge":"Make a splash","n":"10751.000000000000000"},{"DGUID":"2021A00036204","Challenge":"Make a splash","n":"4804.000000000000000"},{"DGUID":"2021A00036205","Challenge":"Make a splash","n":"19913.000000000000000"},{"DGUID":"2021A00036208","Challenge":"Make a splash","n":"7291.000000000000000"},{"DGUID":"2021A00031001","Challenge":"Trailblazers","n":"12.000000000000000"},{"DGUID":"2021A00031002","Challenge":"Trailblazers","n":"3.000000000000000"},{"DGUID":"2021A00031003","Challenge":"Trailblazers","n":"4.000000000000000"},{"DGUID":"2021A00031004","Challenge":"Trailblazers","n":"3.000000000000000"},{"DGUID":"2021A00031005","Challenge":"Trailblazers","n":"7.000000000000000"},{"DGUID":"2021A00031006","Challenge":"Trailblazers","n":"5.000000000000000"},{"DGUID":"2021A00031007","Challenge":"Trailblazers","n":"3.000000000000000"},{"DGUID":"2021A00031008","Challenge":"Trailblazers","n":"4.000000000000000"},{"DGUID":"2021A00031009","Challenge":"Trailblazers","n":"8.000000000000000"},{"DGUID":"2021A00031010","Challenge":"Trailblazers","n":"10.000000000000000"},{"DGUID":"2021A00031011","Challenge":"Trailblazers","n":"5.000000000000000"},{"DGUID":"2021A00031101","Challenge":"Trailblazers","n":"4.000000000000000"},{"DGUID":"2021A00031102","Challenge":"Trailblazers","n":"13.000000000000000"},{"DGUID":"2021A00031103","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00031201","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00031202","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00031203","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00031204","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00031205","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00031206","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00031207","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00031208","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00031209","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00031210","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00031211","Challenge":"Trailblazers","n":"4.000000000000000"},{"DGUID":"2021A00031212","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00031213","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00031214","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00031215","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00031216","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00031217","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00031218","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00031301","Challenge":"Trailblazers","n":"9.000000000000000"},{"DGUID":"2021A00031302","Challenge":"Trailblazers","n":"9.000000000000000"},{"DGUID":"2021A00031303","Challenge":"Trailblazers","n":"3.000000000000000"},{"DGUID":"2021A00031304","Challenge":"Trailblazers","n":"7.000000000000000"},{"DGUID":"2021A00031305","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00031306","Challenge":"Trailblazers","n":"4.000000000000000"},{"DGUID":"2021A00031307","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00031308","Challenge":"Trailblazers","n":"8.000000000000000"},{"DGUID":"2021A00031309","Challenge":"Trailblazers","n":"22.000000000000000"},{"DGUID":"2021A00031310","Challenge":"Trailblazers","n":"22.000000000000000"},{"DGUID":"2021A00031311","Challenge":"Trailblazers","n":"14.000000000000000"},{"DGUID":"2021A00031312","Challenge":"Trailblazers","n":"9.000000000000000"},{"DGUID":"2021A00031313","Challenge":"Trailblazers","n":"8.000000000000000"},{"DGUID":"2021A00031314","Challenge":"Trailblazers","n":"22.000000000000000"},{"DGUID":"2021A00031315","Challenge":"Trailblazers","n":"12.000000000000000"},{"DGUID":"2021A00032401","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032402","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032403","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00032404","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00032405","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032406","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032407","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032408","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00032409","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032410","Challenge":"Trailblazers","n":"3.000000000000000"},{"DGUID":"2021A00032411","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032412","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00032413","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00032414","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032415","Challenge":"Trailblazers","n":"3.000000000000000"},{"DGUID":"2021A00032416","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00032417","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032418","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032419","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032420","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032421","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00032422","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00032423","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00032425","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032426","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032427","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032428","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032429","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032430","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00032431","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00032432","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032433","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032434","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032435","Challenge":"Trailblazers","n":"4.000000000000000"},{"DGUID":"2021A00032436","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00032437","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032438","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032439","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032440","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032441","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00032442","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00032443","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032444","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032445","Challenge":"Trailblazers","n":"4.000000000000000"},{"DGUID":"2021A00032446","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00032447","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00032448","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032449","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032450","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032451","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00032452","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032453","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032454","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032455","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032456","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00032457","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00032458","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00032459","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00032460","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032461","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032462","Challenge":"Trailblazers","n":"5.000000000000000"},{"DGUID":"2021A00032463","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00032464","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032465","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032466","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032467","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032468","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032469","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032470","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032471","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032472","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00032473","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032474","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00032475","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00032476","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00032477","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00032478","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00032479","Challenge":"Trailblazers","n":"7.000000000000000"},{"DGUID":"2021A00032480","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00032481","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00032482","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00032483","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00032484","Challenge":"Trailblazers","n":"4.000000000000000"},{"DGUID":"2021A00032485","Challenge":"Trailblazers","n":"8.000000000000000"},{"DGUID":"2021A00032486","Challenge":"Trailblazers","n":"5.000000000000000"},{"DGUID":"2021A00032487","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00032488","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00032489","Challenge":"Trailblazers","n":"8.000000000000000"},{"DGUID":"2021A00032490","Challenge":"Trailblazers","n":"11.000000000000000"},{"DGUID":"2021A00032491","Challenge":"Trailblazers","n":"3.000000000000000"},{"DGUID":"2021A00032492","Challenge":"Trailblazers","n":"6.000000000000000"},{"DGUID":"2021A00032493","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00032494","Challenge":"Trailblazers","n":"11.000000000000000"},{"DGUID":"2021A00032495","Challenge":"Trailblazers","n":"5.000000000000000"},{"DGUID":"2021A00032496","Challenge":"Trailblazers","n":"8.000000000000000"},{"DGUID":"2021A00032497","Challenge":"Trailblazers","n":"10.000000000000000"},{"DGUID":"2021A00032498","Challenge":"Trailblazers","n":"8.000000000000000"},{"DGUID":"2021A00032499","Challenge":"Trailblazers","n":"50.000000000000000"},{"DGUID":"2021A00033501","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00033502","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00033506","Challenge":"Trailblazers","n":"6.000000000000000"},{"DGUID":"2021A00033507","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00033509","Challenge":"Trailblazers","n":"3.000000000000000"},{"DGUID":"2021A00033510","Challenge":"Trailblazers","n":"7.000000000000000"},{"DGUID":"2021A00033511","Challenge":"Trailblazers","n":"7.000000000000000"},{"DGUID":"2021A00033512","Challenge":"Trailblazers","n":"9.000000000000000"},{"DGUID":"2021A00033513","Challenge":"Trailblazers","n":"4.000000000000000"},{"DGUID":"2021A00033514","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00033515","Challenge":"Trailblazers","n":"6.000000000000000"},{"DGUID":"2021A00033516","Challenge":"Trailblazers","n":"5.000000000000000"},{"DGUID":"2021A00033518","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00033519","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00033520","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00033521","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00033522","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00033523","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00033524","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00033525","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00033526","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00033528","Challenge":"Trailblazers","n":"6.000000000000000"},{"DGUID":"2021A00033529","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00033530","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00033531","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00033532","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00033534","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00033536","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00033537","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00033538","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00033539","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00033540","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00033541","Challenge":"Trailblazers","n":"4.000000000000000"},{"DGUID":"2021A00033542","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00033543","Challenge":"Trailblazers","n":"10.000000000000000"},{"DGUID":"2021A00033544","Challenge":"Trailblazers","n":"32.000000000000000"},{"DGUID":"2021A00033546","Challenge":"Trailblazers","n":"6.000000000000000"},{"DGUID":"2021A00033547","Challenge":"Trailblazers","n":"23.000000000000000"},{"DGUID":"2021A00033548","Challenge":"Trailblazers","n":"44.000000000000000"},{"DGUID":"2021A00033549","Challenge":"Trailblazers","n":"52.000000000000000"},{"DGUID":"2021A00033551","Challenge":"Trailblazers","n":"5.000000000000000"},{"DGUID":"2021A00033552","Challenge":"Trailblazers","n":"62.000000000000000"},{"DGUID":"2021A00033553","Challenge":"Trailblazers","n":"8.000000000000000"},{"DGUID":"2021A00033554","Challenge":"Trailblazers","n":"35.000000000000000"},{"DGUID":"2021A00033556","Challenge":"Trailblazers","n":"43.000000000000000"},{"DGUID":"2021A00033557","Challenge":"Trailblazers","n":"63.000000000000000"},{"DGUID":"2021A00033558","Challenge":"Trailblazers","n":"67.000000000000000"},{"DGUID":"2021A00033559","Challenge":"Trailblazers","n":"12.000000000000000"},{"DGUID":"2021A00033560","Challenge":"Trailblazers","n":"60.000000000000000"},{"DGUID":"2021A00034601","Challenge":"Trailblazers","n":"5.000000000000000"},{"DGUID":"2021A00034602","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00034603","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00034604","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00034605","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00034606","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00034607","Challenge":"Trailblazers","n":"3.000000000000000"},{"DGUID":"2021A00034608","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00034609","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00034610","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00034611","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00034612","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00034613","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00034614","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00034615","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00034616","Challenge":"Trailblazers","n":"3.000000000000000"},{"DGUID":"2021A00034617","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00034618","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00034619","Challenge":"Trailblazers","n":"17.000000000000000"},{"DGUID":"2021A00034620","Challenge":"Trailblazers","n":"6.000000000000000"},{"DGUID":"2021A00034621","Challenge":"Trailblazers","n":"3.000000000000000"},{"DGUID":"2021A00034622","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00034623","Challenge":"Trailblazers","n":"3.000000000000000"},{"DGUID":"2021A00034701","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00034702","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00034703","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00034704","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00034705","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00034706","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00034707","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00034708","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00034709","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00034710","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00034711","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00034712","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00034713","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00034714","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00034715","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00034716","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00034717","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00034718","Challenge":"Trailblazers","n":"4.000000000000000"},{"DGUID":"2021A00034801","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00034802","Challenge":"Trailblazers","n":"3.000000000000000"},{"DGUID":"2021A00034803","Challenge":"Trailblazers","n":"8.000000000000000"},{"DGUID":"2021A00034804","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00034805","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00034806","Challenge":"Trailblazers","n":"12.000000000000000"},{"DGUID":"2021A00034807","Challenge":"Trailblazers","n":"3.000000000000000"},{"DGUID":"2021A00034808","Challenge":"Trailblazers","n":"6.000000000000000"},{"DGUID":"2021A00034809","Challenge":"Trailblazers","n":"9.000000000000000"},{"DGUID":"2021A00034810","Challenge":"Trailblazers","n":"6.000000000000000"},{"DGUID":"2021A00034811","Challenge":"Trailblazers","n":"22.000000000000000"},{"DGUID":"2021A00034812","Challenge":"Trailblazers","n":"9.000000000000000"},{"DGUID":"2021A00034813","Challenge":"Trailblazers","n":"29.000000000000000"},{"DGUID":"2021A00034814","Challenge":"Trailblazers","n":"6.000000000000000"},{"DGUID":"2021A00034815","Challenge":"Trailblazers","n":"17.000000000000000"},{"DGUID":"2021A00034816","Challenge":"Trailblazers","n":"3.000000000000000"},{"DGUID":"2021A00034817","Challenge":"Trailblazers","n":"19.000000000000000"},{"DGUID":"2021A00034818","Challenge":"Trailblazers","n":"6.000000000000000"},{"DGUID":"2021A00034819","Challenge":"Trailblazers","n":"8.000000000000000"},{"DGUID":"2021A00035901","Challenge":"Trailblazers","n":"26.000000000000000"},{"DGUID":"2021A00035903","Challenge":"Trailblazers","n":"19.000000000000000"},{"DGUID":"2021A00035905","Challenge":"Trailblazers","n":"4.000000000000000"},{"DGUID":"2021A00035907","Challenge":"Trailblazers","n":"18.000000000000000"},{"DGUID":"2021A00035909","Challenge":"Trailblazers","n":"21.000000000000000"},{"DGUID":"2021A00035915","Challenge":"Trailblazers","n":"5.000000000000000"},{"DGUID":"2021A00035917","Challenge":"Trailblazers","n":"17.000000000000000"},{"DGUID":"2021A00035919","Challenge":"Trailblazers","n":"11.000000000000000"},{"DGUID":"2021A00035921","Challenge":"Trailblazers","n":"9.000000000000000"},{"DGUID":"2021A00035923","Challenge":"Trailblazers","n":"17.000000000000000"},{"DGUID":"2021A00035924","Challenge":"Trailblazers","n":"31.000000000000000"},{"DGUID":"2021A00035926","Challenge":"Trailblazers","n":"11.000000000000000"},{"DGUID":"2021A00035927","Challenge":"Trailblazers","n":"12.000000000000000"},{"DGUID":"2021A00035929","Challenge":"Trailblazers","n":"15.000000000000000"},{"DGUID":"2021A00035931","Challenge":"Trailblazers","n":"29.000000000000000"},{"DGUID":"2021A00035933","Challenge":"Trailblazers","n":"64.000000000000000"},{"DGUID":"2021A00035935","Challenge":"Trailblazers","n":"9.000000000000000"},{"DGUID":"2021A00035937","Challenge":"Trailblazers","n":"11.000000000000000"},{"DGUID":"2021A00035939","Challenge":"Trailblazers","n":"23.000000000000000"},{"DGUID":"2021A00035941","Challenge":"Trailblazers","n":"34.000000000000000"},{"DGUID":"2021A00035943","Challenge":"Trailblazers","n":"30.000000000000000"},{"DGUID":"2021A00035945","Challenge":"Trailblazers","n":"33.000000000000000"},{"DGUID":"2021A00035947","Challenge":"Trailblazers","n":"41.000000000000000"},{"DGUID":"2021A00035949","Challenge":"Trailblazers","n":"52.000000000000000"},{"DGUID":"2021A00035951","Challenge":"Trailblazers","n":"42.000000000000000"},{"DGUID":"2021A00035953","Challenge":"Trailblazers","n":"39.000000000000000"},{"DGUID":"2021A00035955","Challenge":"Trailblazers","n":"32.000000000000000"},{"DGUID":"2021A00035957","Challenge":"Trailblazers","n":"26.000000000000000"},{"DGUID":"2021A00035959","Challenge":"Trailblazers","n":"18.000000000000000"},{"DGUID":"2021A00036001","Challenge":"Trailblazers","n":"10.000000000000000"},{"DGUID":"2021A00036101","Challenge":"Trailblazers","n":"2.000000000000000"},{"DGUID":"2021A00036102","Challenge":"Trailblazers","n":"3.000000000000000"},{"DGUID":"2021A00036103","Challenge":"Trailblazers","n":"0.000000000000000"},{"DGUID":"2021A00036104","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00036105","Challenge":"Trailblazers","n":"3.000000000000000"},{"DGUID":"2021A00036106","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00036204","Challenge":"Trailblazers","n":"14.000000000000000"},{"DGUID":"2021A00036205","Challenge":"Trailblazers","n":"3.000000000000000"},{"DGUID":"2021A00036208","Challenge":"Trailblazers","n":"1.000000000000000"},{"DGUID":"2021A00031001","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031002","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031003","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031004","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031005","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031006","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031007","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031008","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031009","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031010","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031011","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031101","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031102","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031103","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031201","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031202","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031203","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031204","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031205","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031206","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031208","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031210","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031211","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031212","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031213","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031214","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031215","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031216","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031218","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031301","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031302","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031303","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031304","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031305","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031306","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031307","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031308","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031309","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031310","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031311","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031312","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031313","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031314","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031315","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032401","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032402","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032403","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032404","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032405","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032406","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032407","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032408","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032409","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032410","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032411","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032412","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032413","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032414","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032415","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032416","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032417","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032418","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032419","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032421","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032422","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032426","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032427","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032428","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032429","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032430","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032431","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032432","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032433","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032434","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032435","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032436","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032437","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032438","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032439","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032440","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032441","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032442","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032444","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032445","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032446","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032447","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032448","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032449","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032450","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032451","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032452","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032453","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032454","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032455","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032456","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032457","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032459","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032460","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032461","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032462","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032463","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032468","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032469","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032470","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032474","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032475","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032476","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032477","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032478","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032479","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032480","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032483","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032484","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032485","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032486","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032487","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032488","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032489","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032490","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032491","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032492","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032493","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032494","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032495","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032496","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032497","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032498","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00032499","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00033501","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00033502","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00033511","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00033512","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00033522","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00033531","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00033532","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00033534","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00033540","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00033542","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00033546","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00033547","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00033548","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00033549","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00033551","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00033552","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00033553","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00033554","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00033556","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00033557","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00033558","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00033559","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00033560","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034601","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034602","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034603","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034604","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034605","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034606","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034607","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034608","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034609","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034610","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034612","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034613","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034614","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034615","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034616","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034617","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034618","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034619","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034620","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034621","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034622","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034623","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034701","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034702","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034703","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034704","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034705","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034706","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034707","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034708","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034709","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034710","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034711","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034712","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034713","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034714","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034715","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034716","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034717","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034718","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034801","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034802","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034803","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034804","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034805","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034806","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034807","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034808","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034809","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034810","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034811","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034812","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034813","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034814","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034815","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034816","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034817","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034818","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00034819","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00035901","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00035903","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00035905","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00035907","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00035909","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00035923","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00035924","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00035927","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00035929","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00035931","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00035933","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00035937","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00035939","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00035941","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00035943","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00035945","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00035947","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00035949","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00035951","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00035953","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00035955","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00035957","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00035959","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00036001","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00036101","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00036102","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00036103","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00036104","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00036105","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00036106","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00036204","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00036205","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00036208","Challenge":"99 Percent","n":"1.000000000000000"},{"DGUID":"2021A00031009","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00031010","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00031101","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00031203","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00031203","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00031205","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00031205","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00031205","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00031210","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00031210","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00031210","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00031211","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00031216","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00031217","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00031217","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00031304","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00031308","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00031310","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00031310","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00031310","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00031310","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00031310","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00031311","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00031312","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00032476","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00032480","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00032497","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00032499","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033506","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033509","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033509","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033512","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033512","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033512","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033512","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033512","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033514","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033515","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033515","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033516","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033516","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033518","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033518","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033519","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033519","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033519","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033524","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033525","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033525","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033526","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033526","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033526","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033526","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033526","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033528","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033528","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033529","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033529","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033534","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033537","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033537","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033537","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033538","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033538","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033538","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033540","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033540","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033541","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033541","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033541","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033542","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033543","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033543","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033543","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033543","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033543","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033543","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033543","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033543","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033543","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033544","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033546","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033548","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033551","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033551","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033552","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033556","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033557","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033557","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033557","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033558","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033559","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00033560","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034601","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034601","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034601","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034601","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034601","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034601","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034601","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034601","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034602","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034602","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034602","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034602","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034602","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034602","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034602","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034602","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034603","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034605","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034605","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034605","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034606","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034606","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034606","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034606","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034607","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034607","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034607","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034607","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034608","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034608","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034609","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034609","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034610","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034611","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034611","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034612","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034612","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034613","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034613","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034614","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034614","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034614","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034614","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034615","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034618","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034618","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034618","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034618","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034618","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034618","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034618","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034618","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034619","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034619","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034619","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034619","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034619","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034619","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034619","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034619","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034621","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034621","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034621","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034621","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034621","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034621","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034621","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034621","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034622","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034623","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034623","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034623","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034701","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034701","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034702","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034702","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034702","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034702","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034703","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034703","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034703","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034704","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034704","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034704","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034705","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034707","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034707","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034708","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034708","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034708","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034708","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034711","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034712","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034713","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034713","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034715","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034716","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034716","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034717","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034718","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034718","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034718","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034718","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034718","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034718","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034801","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034801","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034801","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034801","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034801","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034802","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034802","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034802","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034802","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034802","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034803","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034803","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034803","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034803","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034803","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034803","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034803","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034803","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034804","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034804","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034804","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034804","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034804","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034805","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034807","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034807","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034807","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034807","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034807","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034807","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034809","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034809","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034809","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034809","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034810","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034810","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034811","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034812","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034812","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034814","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034814","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034814","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034814","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034815","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034815","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034815","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034815","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034815","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034815","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034815","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034815","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034815","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034815","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034815","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034815","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034816","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034817","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034817","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034817","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00034818","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035901","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035909","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035909","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035915","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035917","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035917","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035921","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035924","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035924","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035924","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035924","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035935","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035937","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035939","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035939","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035943","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035943","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035945","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035947","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035947","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035949","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035951","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035953","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035953","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035953","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035955","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035955","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00035957","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00036001","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00036204","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00036205","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"","Challenge":"Conservation priorities (MayBAs)","n":"1.000000000000000"},{"DGUID":"2021A00031001","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031002","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031003","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031004","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031005","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031006","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031007","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031008","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031009","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031010","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031011","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031101","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031102","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031103","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031201","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031202","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031203","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031204","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031205","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031206","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031207","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031208","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031209","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031210","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031211","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031212","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031213","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031214","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031215","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031216","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031217","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031218","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031301","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031302","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031303","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031304","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031305","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031306","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031307","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031308","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031309","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031310","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031311","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031312","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031313","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031314","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031315","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032401","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032402","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032403","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032404","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032405","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032406","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032407","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032408","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032409","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032410","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032411","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032412","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032413","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032414","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032415","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032416","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032417","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032418","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032419","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032420","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032421","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032422","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032423","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032425","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032426","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032427","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032428","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032429","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032430","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032431","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032432","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032433","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032434","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032435","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032436","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032437","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032438","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032439","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032440","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032441","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032442","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032443","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032444","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032445","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032446","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032447","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032448","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032449","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032450","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032451","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032452","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032453","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032454","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032455","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032456","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032457","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032458","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032459","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032460","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032461","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032462","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032463","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032464","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032465","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032466","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032467","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032468","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032469","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032470","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032471","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032472","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032473","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032474","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032475","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032476","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032477","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032478","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032479","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032480","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032481","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032482","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032483","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032484","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032485","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032486","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032487","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032488","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032489","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032490","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032491","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032492","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032493","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032494","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032495","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032496","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032497","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032498","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00032499","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033501","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033502","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033506","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033507","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033509","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033510","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033511","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033512","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033513","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033514","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033515","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033516","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033518","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033519","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033520","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033521","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033522","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033523","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033524","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033525","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033526","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033528","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033529","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033530","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033531","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033532","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033534","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033536","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033537","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033538","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033539","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033540","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033541","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033542","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033543","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033544","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033546","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033547","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033548","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033549","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033551","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033552","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033553","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033554","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033556","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033557","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033558","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033559","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00033560","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034601","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034602","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034603","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034604","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034605","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034606","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034607","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034608","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034609","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034610","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034611","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034612","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034613","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034614","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034615","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034616","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034617","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034618","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034619","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034620","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034621","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034622","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034623","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034701","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034702","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034703","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034704","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034705","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034706","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034707","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034708","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034709","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034710","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034711","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034712","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034713","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034714","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034715","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034716","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034717","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034718","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034801","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034802","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034803","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034804","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034805","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034806","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034807","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034808","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034809","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034810","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034811","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034812","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034813","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034814","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034815","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034816","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034817","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034818","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00034819","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035901","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035903","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035905","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035907","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035909","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035915","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035917","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035919","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035921","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035923","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035924","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035926","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035927","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035929","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035931","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035933","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035935","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035937","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035939","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035941","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035943","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035945","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035947","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035949","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035951","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035953","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035955","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035957","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00035959","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00036001","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00036101","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00036102","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00036103","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00036104","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00036105","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00036106","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00036204","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00036205","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00036208","Challenge":"Revisit the past","n":"1.000000000000000"},{"DGUID":"2021A00031001","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00031002","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00031003","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00031004","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00031005","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00031006","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00031009","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00031010","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00031011","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00031102","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00031204","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00031209","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00031213","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00031216","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00031217","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00031218","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00031304","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00031312","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032402","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032403","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032404","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032405","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032406","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032407","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032408","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032409","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032415","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032416","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032421","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032422","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032430","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032435","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032462","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032488","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032489","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032490","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032491","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032492","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032493","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032494","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032495","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032496","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032497","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032498","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00032499","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00033556","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00033560","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034601","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034602","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034603","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034604","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034605","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034606","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034609","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034610","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034611","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034614","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034615","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034616","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034617","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034618","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034619","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034621","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034622","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034623","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034701","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034702","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034703","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034704","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034705","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034706","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034709","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034710","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034711","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034714","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034715","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034716","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034717","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034718","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034801","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034802","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034803","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034804","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034805","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034806","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034809","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034810","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034811","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034814","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034815","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034816","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034817","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034818","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00034819","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00035903","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00035909","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00035915","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00035917","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00035919","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00035921","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00035923","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00035924","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00035926","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00035927","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00035929","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00035931","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00035939","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00035941","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00035943","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00035945","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00035947","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00035949","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00035951","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00035953","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00035955","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00035957","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00035959","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00036001","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00036101","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00036102","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00036103","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00036104","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00036105","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00036106","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00036204","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00036205","Challenge":"Climate gaps","n":"1.000000000000000"},{"DGUID":"2021A00036208","Challenge":"Climate gaps","n":"1.000000000000000"}]'),PS=JSON.parse('[{"n":571,"DGUID":"2021A00031001"},{"n":837,"DGUID":"2021A00031010"},{"n":483,"DGUID":"2021A00032454"},{"n":405,"DGUID":"2021A00032455"},{"n":406,"DGUID":"2021A00032456"},{"n":479,"DGUID":"2021A00032457"},{"n":129,"DGUID":"2021A00032458"},{"n":423,"DGUID":"2021A00032459"},{"n":459,"DGUID":"2021A00032460"},{"n":541,"DGUID":"2021A00032461"},{"n":745,"DGUID":"2021A00032462"},{"n":634,"DGUID":"2021A00032463"},{"n":895,"DGUID":"2021A00031011"},{"n":447,"DGUID":"2021A00032464"},{"n":439,"DGUID":"2021A00032465"},{"n":184,"DGUID":"2021A00032466"},{"n":457,"DGUID":"2021A00032467"},{"n":470,"DGUID":"2021A00032468"},{"n":491,"DGUID":"2021A00032469"},{"n":355,"DGUID":"2021A00032470"},{"n":597,"DGUID":"2021A00032471"},{"n":483,"DGUID":"2021A00032472"},{"n":429,"DGUID":"2021A00032473"},{"n":573,"DGUID":"2021A00031101"},{"n":504,"DGUID":"2021A00032474"},{"n":665,"DGUID":"2021A00032475"},{"n":676,"DGUID":"2021A00032476"},{"n":669,"DGUID":"2021A00032477"},{"n":700,"DGUID":"2021A00032478"},{"n":725,"DGUID":"2021A00032479"},{"n":713,"DGUID":"2021A00032480"},{"n":652,"DGUID":"2021A00032481"},{"n":761,"DGUID":"2021A00032482"},{"n":771,"DGUID":"2021A00032483"},{"n":579,"DGUID":"2021A00031102"},{"n":733,"DGUID":"2021A00032484"},{"n":743,"DGUID":"2021A00032485"},{"n":681,"DGUID":"2021A00032486"},{"n":644,"DGUID":"2021A00032487"},{"n":693,"DGUID":"2021A00032488"},{"n":669,"DGUID":"2021A00032489"},{"n":725,"DGUID":"2021A00032490"},{"n":708,"DGUID":"2021A00032491"},{"n":709,"DGUID":"2021A00032492"},{"n":674,"DGUID":"2021A00032493"},{"n":559,"DGUID":"2021A00031103"},{"n":793,"DGUID":"2021A00032494"},{"n":702,"DGUID":"2021A00032495"},{"n":678,"DGUID":"2021A00032496"},{"n":717,"DGUID":"2021A00032497"},{"n":733,"DGUID":"2021A00032498"},{"n":1405,"DGUID":"2021A00032499"},{"n":565,"DGUID":"2021A00033501"},{"n":563,"DGUID":"2021A00033502"},{"n":741,"DGUID":"2021A00033506"},{"n":625,"DGUID":"2021A00033507"},{"n":413,"DGUID":"2021A00031201"},{"n":691,"DGUID":"2021A00033509"},{"n":743,"DGUID":"2021A00033510"},{"n":718,"DGUID":"2021A00033511"},{"n":824,"DGUID":"2021A00033512"},{"n":467,"DGUID":"2021A00033513"},{"n":563,"DGUID":"2021A00033514"},{"n":750,"DGUID":"2021A00033515"},{"n":679,"DGUID":"2021A00033516"},{"n":542,"DGUID":"2021A00033518"},{"n":565,"DGUID":"2021A00033519"},{"n":416,"DGUID":"2021A00031202"},{"n":456,"DGUID":"2021A00033520"},{"n":608,"DGUID":"2021A00033521"},{"n":549,"DGUID":"2021A00033522"},{"n":584,"DGUID":"2021A00033523"},{"n":555,"DGUID":"2021A00033524"},{"n":531,"DGUID":"2021A00033525"},{"n":474,"DGUID":"2021A00033526"},{"n":496,"DGUID":"2021A00033528"},{"n":442,"DGUID":"2021A00033529"},{"n":468,"DGUID":"2021A00033530"},{"n":434,"DGUID":"2021A00031203"},{"n":393,"DGUID":"2021A00033531"},{"n":413,"DGUID":"2021A00033532"},{"n":444,"DGUID":"2021A00033534"},{"n":389,"DGUID":"2021A00033536"},{"n":376,"DGUID":"2021A00033537"},{"n":447,"DGUID":"2021A00033538"},{"n":476,"DGUID":"2021A00033539"},{"n":423,"DGUID":"2021A00033540"},{"n":650,"DGUID":"2021A00033541"},{"n":673,"DGUID":"2021A00033542"},{"n":515,"DGUID":"2021A00031204"},{"n":703,"DGUID":"2021A00033543"},{"n":727,"DGUID":"2021A00033544"},{"n":693,"DGUID":"2021A00033546"},{"n":775,"DGUID":"2021A00033547"},{"n":821,"DGUID":"2021A00033548"},{"n":754,"DGUID":"2021A00033549"},{"n":641,"DGUID":"2021A00033551"},{"n":803,"DGUID":"2021A00033552"},{"n":703,"DGUID":"2021A00033553"},{"n":708,"DGUID":"2021A00033554"},{"n":649,"DGUID":"2021A00031205"},{"n":847,"DGUID":"2021A00033556"},{"n":889,"DGUID":"2021A00033557"},{"n":932,"DGUID":"2021A00033558"},{"n":659,"DGUID":"2021A00033559"},{"n":903,"DGUID":"2021A00033560"},{"n":491,"DGUID":"2021A00034601"},{"n":367,"DGUID":"2021A00034602"},{"n":238,"DGUID":"2021A00034603"},{"n":214,"DGUID":"2021A00034604"},{"n":310,"DGUID":"2021A00034605"},{"n":502,"DGUID":"2021A00031002"},{"n":555,"DGUID":"2021A00031206"},{"n":244,"DGUID":"2021A00034606"},{"n":327,"DGUID":"2021A00034607"},{"n":274,"DGUID":"2021A00034608"},{"n":266,"DGUID":"2021A00034609"},{"n":226,"DGUID":"2021A00034610"},{"n":253,"DGUID":"2021A00034611"},{"n":322,"DGUID":"2021A00034612"},{"n":392,"DGUID":"2021A00034613"},{"n":366,"DGUID":"2021A00034614"},{"n":417,"DGUID":"2021A00034615"},{"n":644,"DGUID":"2021A00031207"},{"n":321,"DGUID":"2021A00034616"},{"n":431,"DGUID":"2021A00034617"},{"n":441,"DGUID":"2021A00034618"},{"n":519,"DGUID":"2021A00034619"},{"n":418,"DGUID":"2021A00034620"},{"n":451,"DGUID":"2021A00034621"},{"n":515,"DGUID":"2021A00034622"},{"n":647,"DGUID":"2021A00034623"},{"n":344,"DGUID":"2021A00034701"},{"n":259,"DGUID":"2021A00034702"},{"n":614,"DGUID":"2021A00031208"},{"n":255,"DGUID":"2021A00034703"},{"n":375,"DGUID":"2021A00034704"},{"n":260,"DGUID":"2021A00034705"},{"n":255,"DGUID":"2021A00034706"},{"n":230,"DGUID":"2021A00034707"},{"n":259,"DGUID":"2021A00034708"},{"n":330,"DGUID":"2021A00034709"},{"n":272,"DGUID":"2021A00034710"},{"n":218,"DGUID":"2021A00034711"},{"n":231,"DGUID":"2021A00034712"},{"n":666,"DGUID":"2021A00031209"},{"n":268,"DGUID":"2021A00034713"},{"n":449,"DGUID":"2021A00034714"},{"n":371,"DGUID":"2021A00034715"},{"n":368,"DGUID":"2021A00034716"},{"n":372,"DGUID":"2021A00034717"},{"n":586,"DGUID":"2021A00034718"},{"n":391,"DGUID":"2021A00034801"},{"n":315,"DGUID":"2021A00034802"},{"n":910,"DGUID":"2021A00034803"},{"n":311,"DGUID":"2021A00034804"},{"n":642,"DGUID":"2021A00031210"},{"n":291,"DGUID":"2021A00034805"},{"n":616,"DGUID":"2021A00034806"},{"n":327,"DGUID":"2021A00034807"},{"n":433,"DGUID":"2021A00034808"},{"n":892,"DGUID":"2021A00034809"},{"n":364,"DGUID":"2021A00034810"},{"n":595,"DGUID":"2021A00034811"},{"n":446,"DGUID":"2021A00034812"},{"n":560,"DGUID":"2021A00034813"},{"n":890,"DGUID":"2021A00034814"},{"n":639,"DGUID":"2021A00031211"},{"n":1151,"DGUID":"2021A00034815"},{"n":494,"DGUID":"2021A00034816"},{"n":722,"DGUID":"2021A00034817"},{"n":814,"DGUID":"2021A00034818"},{"n":518,"DGUID":"2021A00034819"},{"n":1180,"DGUID":"2021A00035901"},{"n":1216,"DGUID":"2021A00035903"},{"n":912,"DGUID":"2021A00035905"},{"n":993,"DGUID":"2021A00035907"},{"n":1046,"DGUID":"2021A00035909"},{"n":598,"DGUID":"2021A00031212"},{"n":714,"DGUID":"2021A00035915"},{"n":601,"DGUID":"2021A00035917"},{"n":592,"DGUID":"2021A00035919"},{"n":572,"DGUID":"2021A00035921"},{"n":718,"DGUID":"2021A00035923"},{"n":1018,"DGUID":"2021A00035924"},{"n":666,"DGUID":"2021A00035926"},{"n":719,"DGUID":"2021A00035927"},{"n":607,"DGUID":"2021A00035929"},{"n":1165,"DGUID":"2021A00035931"},{"n":545,"DGUID":"2021A00031213"},{"n":1380,"DGUID":"2021A00035933"},{"n":802,"DGUID":"2021A00035935"},{"n":875,"DGUID":"2021A00035937"},{"n":1260,"DGUID":"2021A00035939"},{"n":1243,"DGUID":"2021A00035941"},{"n":1014,"DGUID":"2021A00035943"},{"n":1052,"DGUID":"2021A00035945"},{"n":792,"DGUID":"2021A00035947"},{"n":1419,"DGUID":"2021A00035949"},{"n":1102,"DGUID":"2021A00035951"},{"n":563,"DGUID":"2021A00031214"},{"n":1138,"DGUID":"2021A00035953"},{"n":1220,"DGUID":"2021A00035955"},{"n":1253,"DGUID":"2021A00035957"},{"n":993,"DGUID":"2021A00035959"},{"n":1270,"DGUID":"2021A00036001"},{"n":783,"DGUID":"2021A00036101"},{"n":756,"DGUID":"2021A00036102"},{"n":267,"DGUID":"2021A00036103"},{"n":918,"DGUID":"2021A00036104"},{"n":411,"DGUID":"2021A00036105"},{"n":646,"DGUID":"2021A00031215"},{"n":450,"DGUID":"2021A00036106"},{"n":982,"DGUID":"2021A00036204"},{"n":489,"DGUID":"2021A00036205"},{"n":512,"DGUID":"2021A00036208"},{"n":641,"DGUID":"2021A00031003"},{"n":438,"DGUID":"2021A00031216"},{"n":495,"DGUID":"2021A00031217"},{"n":652,"DGUID":"2021A00031218"},{"n":582,"DGUID":"2021A00031301"},{"n":646,"DGUID":"2021A00031302"},{"n":668,"DGUID":"2021A00031303"},{"n":666,"DGUID":"2021A00031304"},{"n":681,"DGUID":"2021A00031305"},{"n":716,"DGUID":"2021A00031306"},{"n":668,"DGUID":"2021A00031307"},{"n":638,"DGUID":"2021A00031004"},{"n":687,"DGUID":"2021A00031308"},{"n":761,"DGUID":"2021A00031309"},{"n":788,"DGUID":"2021A00031310"},{"n":707,"DGUID":"2021A00031311"},{"n":726,"DGUID":"2021A00031312"},{"n":685,"DGUID":"2021A00031313"},{"n":724,"DGUID":"2021A00031314"},{"n":672,"DGUID":"2021A00031315"},{"n":19,"DGUID":"2021A00032401"},{"n":587,"DGUID":"2021A00032402"},{"n":726,"DGUID":"2021A00031005"},{"n":650,"DGUID":"2021A00032403"},{"n":697,"DGUID":"2021A00032404"},{"n":633,"DGUID":"2021A00032405"},{"n":647,"DGUID":"2021A00032406"},{"n":638,"DGUID":"2021A00032407"},{"n":682,"DGUID":"2021A00032408"},{"n":636,"DGUID":"2021A00032409"},{"n":747,"DGUID":"2021A00032410"},{"n":619,"DGUID":"2021A00032411"},{"n":666,"DGUID":"2021A00032412"},{"n":683,"DGUID":"2021A00031006"},{"n":646,"DGUID":"2021A00032413"},{"n":706,"DGUID":"2021A00032414"},{"n":666,"DGUID":"2021A00032415"},{"n":667,"DGUID":"2021A00032416"},{"n":679,"DGUID":"2021A00032417"},{"n":690,"DGUID":"2021A00032418"},{"n":647,"DGUID":"2021A00032419"},{"n":534,"DGUID":"2021A00032420"},{"n":689,"DGUID":"2021A00032421"},{"n":694,"DGUID":"2021A00032422"},{"n":592,"DGUID":"2021A00031007"},{"n":665,"DGUID":"2021A00032423"},{"n":627,"DGUID":"2021A00032425"},{"n":594,"DGUID":"2021A00032426"},{"n":573,"DGUID":"2021A00032427"},{"n":638,"DGUID":"2021A00032428"},{"n":619,"DGUID":"2021A00032429"},{"n":678,"DGUID":"2021A00032430"},{"n":615,"DGUID":"2021A00032431"},{"n":648,"DGUID":"2021A00032432"},{"n":645,"DGUID":"2021A00032433"},{"n":641,"DGUID":"2021A00031008"},{"n":734,"DGUID":"2021A00032434"},{"n":673,"DGUID":"2021A00032435"},{"n":627,"DGUID":"2021A00032436"},{"n":653,"DGUID":"2021A00032437"},{"n":624,"DGUID":"2021A00032438"},{"n":660,"DGUID":"2021A00032439"},{"n":626,"DGUID":"2021A00032440"},{"n":677,"DGUID":"2021A00032441"},{"n":664,"DGUID":"2021A00032442"},{"n":605,"DGUID":"2021A00032443"},{"n":749,"DGUID":"2021A00031009"},{"n":647,"DGUID":"2021A00032444"},{"n":672,"DGUID":"2021A00032445"},{"n":687,"DGUID":"2021A00032446"},{"n":650,"DGUID":"2021A00032447"},{"n":600,"DGUID":"2021A00032448"},{"n":636,"DGUID":"2021A00032449"},{"n":587,"DGUID":"2021A00032450"},{"n":684,"DGUID":"2021A00032451"},{"n":687,"DGUID":"2021A00032452"},{"n":478,"DGUID":"2021A00032453"}]');function ES(o){const{COGUrl:p,opacity:d,challenges:w,challenge:C,colorBy:E}=o,[A,l]=Ke.useState(!1);Ke.useRef(),encodeURIComponent(JSON.stringify(MS));const V=w.filter(te=>te.everywhere===!0).map(te=>te.name);Ke.useEffect(()=>{let te=new yS;return of.addProtocol("pmtiles",te.tile),()=>{of.removeProtocol("pmtiles")}},[]);const q=te=>te<1?"#fff0":te<100?"#30a3b9":te<400?"#167789":te<600?"#0d3d46":"#063139",ue=(te,ce)=>{const oe=w.filter(Pe=>Pe.name===te);if(te==="All challenges"&&ce==="challenges")return["interpolate",["linear"],["to-number",["get","number_of_challenges"]],2,"#22301a",3,"#3f5830",4,"#54793e",5,"#638b4c",6,"#98cd79"];if(oe[0].everywhere&&ce==="challenges")return"#45732a";if(ce==="challenges")return["case",["in",te,["get","challenges"]],"#45732a","#000"];if(oe[0].everywhere&&ce==="species")return"#45732a";if(te==="All challenges"&&ce==="species"){let Pe=["case"];return PS.map(He=>{Pe.push(["==",["get","DGUID"],He.DGUID]),Pe.push(q(parseInt(He.n)))}),Pe.push("#fff0"),Pe}if(te!=="All challenges"&&ce==="species"){let Pe=["case"];return Pv.filter(rt=>rt.Challenge==te).map(rt=>{Pe.push(["==",["get","DGUID"],rt.DGUID]),Pe.push(q(parseInt(rt.n)))}),Pe.push("#fff0"),Pe}let de=["case"];return Pv.filter(Pe=>Pe.Challenge==te).map(Pe=>{de.push(["==",["get","DGUID"],Pe.DGUID]),de.push(q(parseInt(Pe.n)))}),de.push("white"),de};return Ke.useEffect(()=>{if(p&&!A){const te=new of.Map({container:"App",zoom:3.5,center:[-90,58],style:{version:8,projection:{type:"globe"},sources:{satellite:{url:"https://api.maptiler.com/tiles/satellite-v2/tiles.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL",type:"raster"},counties:{type:"vector",url:"pmtiles://https://object-arbutus.cloud.computecanada.ca/bq-io/blitz-the-gap/counties_challenges.pmtiles"},terrain:{type:"raster-dem",tiles:["https://tiler.biodiversite-quebec.ca/cog/tiles/{z}/{x}/{y}?url=https://object-arbutus.cloud.computecanada.ca/bq-io/io/earthenv/topography/elevation_1KMmn_GMTEDmn.tif&rescale=0,2013&bidx=1&expression=b1"],tileSize:256},background:{type:"raster",tiles:["https://01.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png"],tileSize:256}},layers:[{id:"back",type:"raster",source:"background"},{id:"counties",type:"fill","source-layer":"counties_challenges",source:"counties",paint:{"fill-color":ue(C,E),"fill-opacity":.3,"fill-outline-color":"#ffffff"}}],sky:{"atmosphere-blend":["interpolate",["linear"],["zoom"],0,1,5,1,7,0]},light:{anchor:"viewport",position:[1.5,90,40],intensity:.25,color:"#555"}}});return te.addControl(new of.GlobeControl),te.addControl(new of.NavigationControl({showZoom:!0,showCompass:!1})),te.on("click","counties",ce=>{let oe=`<div style="text-align:left"><h3>${ce.features[0].properties.CDNAME}</h3>
        <strong>Number of species</strong>: ${ce.features[0].properties.number_of_species}</b>
        <br><strong>Number of challenges</strong>: ${parseInt(ce.features[0].properties.number_of_challenges)+3}</b>
        <br><strong>List of challenges</strong>: <ul><li>${(ce.features[0].properties.challenges+V.join(",")).split(",").join("</li><li>")}</li></b></div>`;new of.Popup().setLngLat([ce.lngLat.lng,ce.lngLat.lat]).setHTML(oe).addTo(te)}),te.on("load",()=>{te.on("mouseenter","counties",()=>{te.getCanvas().style.cursor="crosshair"}),te.on("mouseleave","counties",()=>{te.getCanvas().style.cursor="pointer"})}),l(te),()=>{te.remove()}}},[]),Ke.useEffect(()=>(A&&(A.setPaintProperty("counties","fill-color",ue(C,E)),A.triggerRepaint()),()=>{}),[A,C,E]),Yt.jsx("div",{id:"App",className:"App",style:{width:"100vw",height:"100vh",zIndex:"0",background:"url('/blitz-the-gap-map/night-sky.png')"}})}function Ua(o,p,d=void 0){const w={};for(const C in o){const E=o[C];let A="",l=!0;for(let V=0;V<E.length;V+=1){const q=E[V];q&&(A+=(l===!0?"":" ")+p(q),l=!1,d&&d[q]&&(A+=" "+d[q]))}w[C]=A}return w}function Jx(o){var p,d,w="";if(typeof o=="string"||typeof o=="number")w+=o;else if(typeof o=="object")if(Array.isArray(o)){var C=o.length;for(p=0;p<C;p++)o[p]&&(d=Jx(o[p]))&&(w&&(w+=" "),w+=d)}else for(d in o)o[d]&&(w&&(w+=" "),w+=d);return w}function Kr(){for(var o,p,d=0,w="",C=arguments.length;d<C;d++)(o=arguments[d])&&(p=Jx(o))&&(w&&(w+=" "),w+=p);return w}function zd({props:o,states:p,muiFormControl:d}){return p.reduce((w,C)=>(w[C]=o[C],d&&typeof o[C]>"u"&&(w[C]=d[C]),w),{})}const Q1=Ke.createContext(void 0);function mp(){return Ke.useContext(Q1)}function hp(o,...p){const d=new URL(`https://mui.com/production-error/?code=${o}`);return p.forEach(w=>d.searchParams.append("args[]",w)),`Minified MUI error #${o}; visit ${d} for the full message.`}function ea(o){if(typeof o!="string")throw new Error(hp(7));return o.charAt(0).toUpperCase()+o.slice(1)}var Zy={exports:{}},Qi={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function kS(){if(Ev)return Qi;Ev=1;var o=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),A=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),ue=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),ce=Symbol.for("react.view_transition"),oe=Symbol.for("react.client.reference");function de(xe){if(typeof xe=="object"&&xe!==null){var Pe=xe.$$typeof;switch(Pe){case o:switch(xe=xe.type,xe){case d:case C:case w:case V:case q:case ce:return xe;default:switch(xe=xe&&xe.$$typeof,xe){case A:case l:case te:case ue:return xe;case E:return xe;default:return Pe}}case p:return Pe}}}return Qi.ContextConsumer=E,Qi.ContextProvider=A,Qi.Element=o,Qi.ForwardRef=l,Qi.Fragment=d,Qi.Lazy=te,Qi.Memo=ue,Qi.Portal=p,Qi.Profiler=C,Qi.StrictMode=w,Qi.Suspense=V,Qi.SuspenseList=q,Qi.isContextConsumer=function(xe){return de(xe)===E},Qi.isContextProvider=function(xe){return de(xe)===A},Qi.isElement=function(xe){return typeof xe=="object"&&xe!==null&&xe.$$typeof===o},Qi.isForwardRef=function(xe){return de(xe)===l},Qi.isFragment=function(xe){return de(xe)===d},Qi.isLazy=function(xe){return de(xe)===te},Qi.isMemo=function(xe){return de(xe)===ue},Qi.isPortal=function(xe){return de(xe)===p},Qi.isProfiler=function(xe){return de(xe)===C},Qi.isStrictMode=function(xe){return de(xe)===w},Qi.isSuspense=function(xe){return de(xe)===V},Qi.isSuspenseList=function(xe){return de(xe)===q},Qi.isValidElementType=function(xe){return typeof xe=="string"||typeof xe=="function"||xe===d||xe===C||xe===w||xe===V||xe===q||typeof xe=="object"&&xe!==null&&(xe.$$typeof===te||xe.$$typeof===ue||xe.$$typeof===A||xe.$$typeof===E||xe.$$typeof===l||xe.$$typeof===oe||xe.getModuleId!==void 0)},Qi.typeOf=de,Qi}var kv;function RS(){return kv||(kv=1,Zy.exports=kS()),Zy.exports}var eb=RS();function Mh(o){if(typeof o!="object"||o===null)return!1;const p=Object.getPrototypeOf(o);return(p===null||p===Object.prototype||Object.getPrototypeOf(p)===null)&&!(Symbol.toStringTag in o)&&!(Symbol.iterator in o)}function tb(o){if(Ke.isValidElement(o)||eb.isValidElementType(o)||!Mh(o))return o;const p={};return Object.keys(o).forEach(d=>{p[d]=tb(o[d])}),p}function e0(o,p,d={clone:!0}){const w=d.clone?{...o}:o;return Mh(o)&&Mh(p)&&Object.keys(p).forEach(C=>{Ke.isValidElement(p[C])||eb.isValidElementType(p[C])?w[C]=p[C]:Mh(p[C])&&Object.prototype.hasOwnProperty.call(o,C)&&Mh(o[C])?w[C]=e0(o[C],p[C],d):d.clone?w[C]=Mh(p[C])?tb(p[C]):p[C]:w[C]=p[C]}),w}function hg(o,p){return p?e0(o,p,{clone:!1}):o}function US(o,p){if(!o.containerQueries)return p;const d=Object.keys(p).filter(w=>w.startsWith("@container")).sort((w,C)=>{var A,l;const E=/min-width:\s*([0-9.]+)/;return+(((A=w.match(E))==null?void 0:A[1])||0)-+(((l=C.match(E))==null?void 0:l[1])||0)});return d.length?d.reduce((w,C)=>{const E=p[C];return delete w[C],w[C]=E,w},{...p}):p}function zS(o,p){return p==="@"||p.startsWith("@")&&(o.some(d=>p.startsWith(`@${d}`))||!!p.match(/^@\d/))}function GS(o,p){const d=p.match(/^@([^/]+)?\/?(.+)?$/);if(!d)return null;const[,w,C]=d,E=Number.isNaN(+w)?w||0:+w;return o.containerQueries(C).up(E)}function LS(o){const p=(E,A)=>E.replace("@media",A?`@container ${A}`:"@container");function d(E,A){E.up=(...l)=>p(o.breakpoints.up(...l),A),E.down=(...l)=>p(o.breakpoints.down(...l),A),E.between=(...l)=>p(o.breakpoints.between(...l),A),E.only=(...l)=>p(o.breakpoints.only(...l),A),E.not=(...l)=>{const V=p(o.breakpoints.not(...l),A);return V.includes("not all and")?V.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):V}}const w={},C=E=>(d(w,E),w);return d(C),{...o,containerQueries:C}}const Fm={xs:0,sm:600,md:900,lg:1200,xl:1536},Rv={keys:["xs","sm","md","lg","xl"],up:o=>`@media (min-width:${Fm[o]}px)`},BS={containerQueries:o=>({up:p=>{let d=typeof p=="number"?p:Fm[p]||p;return typeof d=="number"&&(d=`${d}px`),o?`@container ${o} (min-width:${d})`:`@container (min-width:${d})`}})};function pp(o,p,d){const w=o.theme||{};if(Array.isArray(p)){const E=w.breakpoints||Rv;return p.reduce((A,l,V)=>(A[E.up(E.keys[V])]=d(p[V]),A),{})}if(typeof p=="object"){const E=w.breakpoints||Rv;return Object.keys(p).reduce((A,l)=>{if(zS(E.keys,l)){const V=GS(w.containerQueries?w:BS,l);V&&(A[V]=d(p[l],l))}else if(Object.keys(E.values||Fm).includes(l)){const V=E.up(l);A[V]=d(p[l],l)}else{const V=l;A[V]=p[V]}return A},{})}return d(p)}function OS(o={}){var d;return((d=o.keys)==null?void 0:d.reduce((w,C)=>{const E=o.up(C);return w[E]={},w},{}))||{}}function FS(o,p){return o.reduce((d,w)=>{const C=d[w];return(!C||Object.keys(C).length===0)&&delete d[w],d},p)}function Nm(o,p,d=!0){if(!p||typeof p!="string")return null;if(o&&o.vars&&d){const w=`vars.${p}`.split(".").reduce((C,E)=>C&&C[E]?C[E]:null,o);if(w!=null)return w}return p.split(".").reduce((w,C)=>w&&w[C]!=null?w[C]:null,o)}function Sm(o,p,d,w=d){let C;return typeof o=="function"?C=o(d):Array.isArray(o)?C=o[d]||w:C=Nm(o,d)||w,p&&(C=p(C,w,o)),C}function es(o){const{prop:p,cssProperty:d=o.prop,themeKey:w,transform:C}=o,E=A=>{if(A[p]==null)return null;const l=A[p],V=A.theme,q=Nm(V,w)||{};return pp(A,l,te=>{let ce=Sm(q,C,te);return te===ce&&typeof te=="string"&&(ce=Sm(q,C,`${p}${te==="default"?"":ea(te)}`,te)),d===!1?ce:{[d]:ce}})};return E.propTypes={},E.filterProps=[p],E}function NS(o){const p={};return d=>(p[d]===void 0&&(p[d]=o(d)),p[d])}const $S={m:"margin",p:"padding"},jS={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Uv={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},VS=NS(o=>{if(o.length>2)if(Uv[o])o=Uv[o];else return[o];const[p,d]=o.split(""),w=$S[p],C=jS[d]||"";return Array.isArray(C)?C.map(E=>w+E):[w+C]}),J1=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],e_=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...J1,...e_];function Cg(o,p,d,w){const C=Nm(o,p,!0)??d;return typeof C=="number"||typeof C=="string"?E=>typeof E=="string"?E:typeof C=="string"?C.startsWith("var(")&&E===0?0:C.startsWith("var(")&&E===1?C:`calc(${E} * ${C})`:C*E:Array.isArray(C)?E=>{if(typeof E=="string")return E;const A=Math.abs(E),l=C[A];return E>=0?l:typeof l=="number"?-l:typeof l=="string"&&l.startsWith("var(")?`calc(-1 * ${l})`:`-${l}`}:typeof C=="function"?C:()=>{}}function t_(o){return Cg(o,"spacing",8)}function Ig(o,p){return typeof p=="string"||p==null?p:o(p)}function ZS(o,p){return d=>o.reduce((w,C)=>(w[C]=Ig(p,d),w),{})}function WS(o,p,d,w){if(!p.includes(d))return null;const C=VS(d),E=ZS(C,w),A=o[d];return pp(o,A,E)}function nb(o,p){const d=t_(o.theme);return Object.keys(o).map(w=>WS(o,p,w,d)).reduce(hg,{})}function So(o){return nb(o,J1)}So.propTypes={};So.filterProps=J1;function To(o){return nb(o,e_)}To.propTypes={};To.filterProps=e_;function $m(...o){const p=o.reduce((w,C)=>(C.filterProps.forEach(E=>{w[E]=C}),w),{}),d=w=>Object.keys(w).reduce((C,E)=>p[E]?hg(C,p[E](w)):C,{});return d.propTypes={},d.filterProps=o.reduce((w,C)=>w.concat(C.filterProps),[]),d}function hc(o){return typeof o!="number"?o:`${o}px solid`}function dc(o,p){return es({prop:o,themeKey:"borders",transform:p})}const HS=dc("border",hc),qS=dc("borderTop",hc),KS=dc("borderRight",hc),XS=dc("borderBottom",hc),YS=dc("borderLeft",hc),QS=dc("borderColor"),JS=dc("borderTopColor"),eT=dc("borderRightColor"),tT=dc("borderBottomColor"),nT=dc("borderLeftColor"),rT=dc("outline",hc),iT=dc("outlineColor"),jm=o=>{if(o.borderRadius!==void 0&&o.borderRadius!==null){const p=Cg(o.theme,"shape.borderRadius",4),d=w=>({borderRadius:Ig(p,w)});return pp(o,o.borderRadius,d)}return null};jm.propTypes={};jm.filterProps=["borderRadius"];$m(HS,qS,KS,XS,YS,QS,JS,eT,tT,nT,jm,rT,iT);const Vm=o=>{if(o.gap!==void 0&&o.gap!==null){const p=Cg(o.theme,"spacing",8),d=w=>({gap:Ig(p,w)});return pp(o,o.gap,d)}return null};Vm.propTypes={};Vm.filterProps=["gap"];const Zm=o=>{if(o.columnGap!==void 0&&o.columnGap!==null){const p=Cg(o.theme,"spacing",8),d=w=>({columnGap:Ig(p,w)});return pp(o,o.columnGap,d)}return null};Zm.propTypes={};Zm.filterProps=["columnGap"];const Wm=o=>{if(o.rowGap!==void 0&&o.rowGap!==null){const p=Cg(o.theme,"spacing",8),d=w=>({rowGap:Ig(p,w)});return pp(o,o.rowGap,d)}return null};Wm.propTypes={};Wm.filterProps=["rowGap"];const aT=es({prop:"gridColumn"}),oT=es({prop:"gridRow"}),sT=es({prop:"gridAutoFlow"}),lT=es({prop:"gridAutoColumns"}),uT=es({prop:"gridAutoRows"}),cT=es({prop:"gridTemplateColumns"}),hT=es({prop:"gridTemplateRows"}),pT=es({prop:"gridTemplateAreas"}),dT=es({prop:"gridArea"});$m(Vm,Zm,Wm,aT,oT,sT,lT,uT,cT,hT,pT,dT);function mf(o,p){return p==="grey"?p:o}const fT=es({prop:"color",themeKey:"palette",transform:mf}),gT=es({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:mf}),mT=es({prop:"backgroundColor",themeKey:"palette",transform:mf});$m(fT,gT,mT);function Gu(o){return o<=1&&o!==0?`${o*100}%`:o}const yT=es({prop:"width",transform:Gu}),n_=o=>{if(o.maxWidth!==void 0&&o.maxWidth!==null){const p=d=>{var C,E,A,l,V;const w=((A=(E=(C=o.theme)==null?void 0:C.breakpoints)==null?void 0:E.values)==null?void 0:A[d])||Fm[d];return w?((V=(l=o.theme)==null?void 0:l.breakpoints)==null?void 0:V.unit)!=="px"?{maxWidth:`${w}${o.theme.breakpoints.unit}`}:{maxWidth:w}:{maxWidth:Gu(d)}};return pp(o,o.maxWidth,p)}return null};n_.filterProps=["maxWidth"];const _T=es({prop:"minWidth",transform:Gu}),vT=es({prop:"height",transform:Gu}),xT=es({prop:"maxHeight",transform:Gu}),bT=es({prop:"minHeight",transform:Gu});es({prop:"size",cssProperty:"width",transform:Gu});es({prop:"size",cssProperty:"height",transform:Gu});const wT=es({prop:"boxSizing"});$m(yT,n_,_T,vT,xT,bT,wT);const Ag={border:{themeKey:"borders",transform:hc},borderTop:{themeKey:"borders",transform:hc},borderRight:{themeKey:"borders",transform:hc},borderBottom:{themeKey:"borders",transform:hc},borderLeft:{themeKey:"borders",transform:hc},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:hc},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:jm},color:{themeKey:"palette",transform:mf},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:mf},backgroundColor:{themeKey:"palette",transform:mf},p:{style:To},pt:{style:To},pr:{style:To},pb:{style:To},pl:{style:To},px:{style:To},py:{style:To},padding:{style:To},paddingTop:{style:To},paddingRight:{style:To},paddingBottom:{style:To},paddingLeft:{style:To},paddingX:{style:To},paddingY:{style:To},paddingInline:{style:To},paddingInlineStart:{style:To},paddingInlineEnd:{style:To},paddingBlock:{style:To},paddingBlockStart:{style:To},paddingBlockEnd:{style:To},m:{style:So},mt:{style:So},mr:{style:So},mb:{style:So},ml:{style:So},mx:{style:So},my:{style:So},margin:{style:So},marginTop:{style:So},marginRight:{style:So},marginBottom:{style:So},marginLeft:{style:So},marginX:{style:So},marginY:{style:So},marginInline:{style:So},marginInlineStart:{style:So},marginInlineEnd:{style:So},marginBlock:{style:So},marginBlockStart:{style:So},marginBlockEnd:{style:So},displayPrint:{cssProperty:!1,transform:o=>({"@media print":{display:o}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Vm},rowGap:{style:Wm},columnGap:{style:Zm},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Gu},maxWidth:{style:n_},minWidth:{transform:Gu},height:{transform:Gu},maxHeight:{transform:Gu},minHeight:{transform:Gu},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function DT(...o){const p=o.reduce((w,C)=>w.concat(Object.keys(C)),[]),d=new Set(p);return o.every(w=>d.size===Object.keys(w).length)}function CT(o,p){return typeof o=="function"?o(p):o}function IT(){function o(d,w,C,E){const A={[d]:w,theme:C},l=E[d];if(!l)return{[d]:w};const{cssProperty:V=d,themeKey:q,transform:ue,style:te}=l;if(w==null)return null;if(q==="typography"&&w==="inherit")return{[d]:w};const ce=Nm(C,q)||{};return te?te(A):pp(A,w,de=>{let xe=Sm(ce,ue,de);return de===xe&&typeof de=="string"&&(xe=Sm(ce,ue,`${d}${de==="default"?"":ea(de)}`,de)),V===!1?xe:{[V]:xe}})}function p(d){const{sx:w,theme:C={}}=d||{};if(!w)return null;const E=C.unstable_sxConfig??Ag;function A(l){let V=l;if(typeof l=="function")V=l(C);else if(typeof l!="object")return l;if(!V)return null;const q=OS(C.breakpoints),ue=Object.keys(q);let te=q;return Object.keys(V).forEach(ce=>{const oe=CT(V[ce],C);if(oe!=null)if(typeof oe=="object")if(E[ce])te=hg(te,o(ce,oe,C,E));else{const de=pp({theme:C},oe,xe=>({[ce]:xe}));DT(de,oe)?te[ce]=p({sx:oe,theme:C}):te=hg(te,de)}else te=hg(te,o(ce,oe,C,E))}),US(C,FS(ue,te))}return Array.isArray(w)?w.map(A):A(w)}return p}const _f=IT();_f.filterProps=["sx"];const AT=o=>{var w;const p={systemProps:{},otherProps:{}},d=((w=o==null?void 0:o.theme)==null?void 0:w.unstable_sxConfig)??Ag;return Object.keys(o).forEach(C=>{d[C]?p.systemProps[C]=o[C]:p.otherProps[C]=o[C]}),p};function ST(o){const{sx:p,...d}=o,{systemProps:w,otherProps:C}=AT(d);let E;return Array.isArray(p)?E=[w,...p]:typeof p=="function"?E=(...A)=>{const l=p(...A);return Mh(l)?{...w,...l}:w}:E={...w,...p},{...C,sx:E}}function Tm(){return Tm=Object.assign?Object.assign.bind():function(o){for(var p=1;p<arguments.length;p++){var d=arguments[p];for(var w in d)({}).hasOwnProperty.call(d,w)&&(o[w]=d[w])}return o},Tm.apply(null,arguments)}function TT(o){if(o.sheet)return o.sheet;for(var p=0;p<document.styleSheets.length;p++)if(document.styleSheets[p].ownerNode===o)return document.styleSheets[p]}function MT(o){var p=document.createElement("style");return p.setAttribute("data-emotion",o.key),o.nonce!==void 0&&p.setAttribute("nonce",o.nonce),p.appendChild(document.createTextNode("")),p.setAttribute("data-s",""),p}var PT=function(){function o(d){var w=this;this._insertTag=function(C){var E;w.tags.length===0?w.insertionPoint?E=w.insertionPoint.nextSibling:w.prepend?E=w.container.firstChild:E=w.before:E=w.tags[w.tags.length-1].nextSibling,w.container.insertBefore(C,E),w.tags.push(C)},this.isSpeedy=d.speedy===void 0?!0:d.speedy,this.tags=[],this.ctr=0,this.nonce=d.nonce,this.key=d.key,this.container=d.container,this.prepend=d.prepend,this.insertionPoint=d.insertionPoint,this.before=null}var p=o.prototype;return p.hydrate=function(w){w.forEach(this._insertTag)},p.insert=function(w){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(MT(this));var C=this.tags[this.tags.length-1];if(this.isSpeedy){var E=TT(C);try{E.insertRule(w,E.cssRules.length)}catch{}}else C.appendChild(document.createTextNode(w));this.ctr++},p.flush=function(){this.tags.forEach(function(w){var C;return(C=w.parentNode)==null?void 0:C.removeChild(w)}),this.tags=[],this.ctr=0},o}(),Jl="-ms-",Mm="-moz-",Ui="-webkit-",rb="comm",r_="rule",i_="decl",ET="@import",ib="@keyframes",kT="@layer",RT=Math.abs,Hm=String.fromCharCode,UT=Object.assign;function zT(o,p){return Ul(o,0)^45?(((p<<2^Ul(o,0))<<2^Ul(o,1))<<2^Ul(o,2))<<2^Ul(o,3):0}function ab(o){return o.trim()}function GT(o,p){return(o=p.exec(o))?o[0]:o}function zi(o,p,d){return o.replace(p,d)}function b1(o,p){return o.indexOf(p)}function Ul(o,p){return o.charCodeAt(p)|0}function fg(o,p,d){return o.slice(p,d)}function Sh(o){return o.length}function a_(o){return o.length}function sm(o,p){return p.push(o),o}function LT(o,p){return o.map(p).join("")}var qm=1,vf=1,ob=0,q0=0,xs=0,wf="";function Km(o,p,d,w,C,E,A){return{value:o,root:p,parent:d,type:w,props:C,children:E,line:qm,column:vf,length:A,return:""}}function Yf(o,p){return UT(Km("",null,null,"",null,null,0),o,{length:-o.length},p)}function BT(){return xs}function OT(){return xs=q0>0?Ul(wf,--q0):0,vf--,xs===10&&(vf=1,qm--),xs}function Lu(){return xs=q0<ob?Ul(wf,q0++):0,vf++,xs===10&&(vf=1,qm++),xs}function Ph(){return Ul(wf,q0)}function vm(){return q0}function Sg(o,p){return fg(wf,o,p)}function gg(o){switch(o){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function sb(o){return qm=vf=1,ob=Sh(wf=o),q0=0,[]}function lb(o){return wf="",o}function xm(o){return ab(Sg(q0-1,w1(o===91?o+2:o===40?o+1:o)))}function FT(o){for(;(xs=Ph())&&xs<33;)Lu();return gg(o)>2||gg(xs)>3?"":" "}function NT(o,p){for(;--p&&Lu()&&!(xs<48||xs>102||xs>57&&xs<65||xs>70&&xs<97););return Sg(o,vm()+(p<6&&Ph()==32&&Lu()==32))}function w1(o){for(;Lu();)switch(xs){case o:return q0;case 34:case 39:o!==34&&o!==39&&w1(xs);break;case 40:o===41&&w1(o);break;case 92:Lu();break}return q0}function $T(o,p){for(;Lu()&&o+xs!==57;)if(o+xs===84&&Ph()===47)break;return"/*"+Sg(p,q0-1)+"*"+Hm(o===47?o:Lu())}function jT(o){for(;!gg(Ph());)Lu();return Sg(o,q0)}function VT(o){return lb(bm("",null,null,null,[""],o=sb(o),0,[0],o))}function bm(o,p,d,w,C,E,A,l,V){for(var q=0,ue=0,te=A,ce=0,oe=0,de=0,xe=1,Pe=1,He=1,rt=0,ze="",Me=C,Ge=E,je=w,ot=ze;Pe;)switch(de=rt,rt=Lu()){case 40:if(de!=108&&Ul(ot,te-1)==58){b1(ot+=zi(xm(rt),"&","&\f"),"&\f")!=-1&&(He=-1);break}case 34:case 39:case 91:ot+=xm(rt);break;case 9:case 10:case 13:case 32:ot+=FT(de);break;case 92:ot+=NT(vm()-1,7);continue;case 47:switch(Ph()){case 42:case 47:sm(ZT($T(Lu(),vm()),p,d),V);break;default:ot+="/"}break;case 123*xe:l[q++]=Sh(ot)*He;case 125*xe:case 59:case 0:switch(rt){case 0:case 125:Pe=0;case 59+ue:He==-1&&(ot=zi(ot,/\f/g,"")),oe>0&&Sh(ot)-te&&sm(oe>32?Gv(ot+";",w,d,te-1):Gv(zi(ot," ","")+";",w,d,te-2),V);break;case 59:ot+=";";default:if(sm(je=zv(ot,p,d,q,ue,C,l,ze,Me=[],Ge=[],te),E),rt===123)if(ue===0)bm(ot,p,je,je,Me,E,te,l,Ge);else switch(ce===99&&Ul(ot,3)===110?100:ce){case 100:case 108:case 109:case 115:bm(o,je,je,w&&sm(zv(o,je,je,0,0,C,l,ze,C,Me=[],te),Ge),C,Ge,te,l,w?Me:Ge);break;default:bm(ot,je,je,je,[""],Ge,0,l,Ge)}}q=ue=oe=0,xe=He=1,ze=ot="",te=A;break;case 58:te=1+Sh(ot),oe=de;default:if(xe<1){if(rt==123)--xe;else if(rt==125&&xe++==0&&OT()==125)continue}switch(ot+=Hm(rt),rt*xe){case 38:He=ue>0?1:(ot+="\f",-1);break;case 44:l[q++]=(Sh(ot)-1)*He,He=1;break;case 64:Ph()===45&&(ot+=xm(Lu())),ce=Ph(),ue=te=Sh(ze=ot+=jT(vm())),rt++;break;case 45:de===45&&Sh(ot)==2&&(xe=0)}}return E}function zv(o,p,d,w,C,E,A,l,V,q,ue){for(var te=C-1,ce=C===0?E:[""],oe=a_(ce),de=0,xe=0,Pe=0;de<w;++de)for(var He=0,rt=fg(o,te+1,te=RT(xe=A[de])),ze=o;He<oe;++He)(ze=ab(xe>0?ce[He]+" "+rt:zi(rt,/&\f/g,ce[He])))&&(V[Pe++]=ze);return Km(o,p,d,C===0?r_:l,V,q,ue)}function ZT(o,p,d){return Km(o,p,d,rb,Hm(BT()),fg(o,2,-2),0)}function Gv(o,p,d,w){return Km(o,p,d,i_,fg(o,0,w),fg(o,w+1,-1),w)}function yf(o,p){for(var d="",w=a_(o),C=0;C<w;C++)d+=p(o[C],C,o,p)||"";return d}function WT(o,p,d,w){switch(o.type){case kT:if(o.children.length)break;case ET:case i_:return o.return=o.return||o.value;case rb:return"";case ib:return o.return=o.value+"{"+yf(o.children,w)+"}";case r_:o.value=o.props.join(",")}return Sh(d=yf(o.children,w))?o.return=o.value+"{"+d+"}":""}function HT(o){var p=a_(o);return function(d,w,C,E){for(var A="",l=0;l<p;l++)A+=o[l](d,w,C,E)||"";return A}}function qT(o){return function(p){p.root||(p=p.return)&&o(p)}}function ub(o){var p=Object.create(null);return function(d){return p[d]===void 0&&(p[d]=o(d)),p[d]}}var KT=function(p,d,w){for(var C=0,E=0;C=E,E=Ph(),C===38&&E===12&&(d[w]=1),!gg(E);)Lu();return Sg(p,q0)},XT=function(p,d){var w=-1,C=44;do switch(gg(C)){case 0:C===38&&Ph()===12&&(d[w]=1),p[w]+=KT(q0-1,d,w);break;case 2:p[w]+=xm(C);break;case 4:if(C===44){p[++w]=Ph()===58?"&\f":"",d[w]=p[w].length;break}default:p[w]+=Hm(C)}while(C=Lu());return p},YT=function(p,d){return lb(XT(sb(p),d))},Lv=new WeakMap,QT=function(p){if(!(p.type!=="rule"||!p.parent||p.length<1)){for(var d=p.value,w=p.parent,C=p.column===w.column&&p.line===w.line;w.type!=="rule";)if(w=w.parent,!w)return;if(!(p.props.length===1&&d.charCodeAt(0)!==58&&!Lv.get(w))&&!C){Lv.set(p,!0);for(var E=[],A=YT(d,E),l=w.props,V=0,q=0;V<A.length;V++)for(var ue=0;ue<l.length;ue++,q++)p.props[q]=E[V]?A[V].replace(/&\f/g,l[ue]):l[ue]+" "+A[V]}}},JT=function(p){if(p.type==="decl"){var d=p.value;d.charCodeAt(0)===108&&d.charCodeAt(2)===98&&(p.return="",p.value="")}};function cb(o,p){switch(zT(o,p)){case 5103:return Ui+"print-"+o+o;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ui+o+o;case 5349:case 4246:case 4810:case 6968:case 2756:return Ui+o+Mm+o+Jl+o+o;case 6828:case 4268:return Ui+o+Jl+o+o;case 6165:return Ui+o+Jl+"flex-"+o+o;case 5187:return Ui+o+zi(o,/(\w+).+(:[^]+)/,Ui+"box-$1$2"+Jl+"flex-$1$2")+o;case 5443:return Ui+o+Jl+"flex-item-"+zi(o,/flex-|-self/,"")+o;case 4675:return Ui+o+Jl+"flex-line-pack"+zi(o,/align-content|flex-|-self/,"")+o;case 5548:return Ui+o+Jl+zi(o,"shrink","negative")+o;case 5292:return Ui+o+Jl+zi(o,"basis","preferred-size")+o;case 6060:return Ui+"box-"+zi(o,"-grow","")+Ui+o+Jl+zi(o,"grow","positive")+o;case 4554:return Ui+zi(o,/([^-])(transform)/g,"$1"+Ui+"$2")+o;case 6187:return zi(zi(zi(o,/(zoom-|grab)/,Ui+"$1"),/(image-set)/,Ui+"$1"),o,"")+o;case 5495:case 3959:return zi(o,/(image-set\([^]*)/,Ui+"$1$`$1");case 4968:return zi(zi(o,/(.+:)(flex-)?(.*)/,Ui+"box-pack:$3"+Jl+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ui+o+o;case 4095:case 3583:case 4068:case 2532:return zi(o,/(.+)-inline(.+)/,Ui+"$1$2")+o;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Sh(o)-1-p>6)switch(Ul(o,p+1)){case 109:if(Ul(o,p+4)!==45)break;case 102:return zi(o,/(.+:)(.+)-([^]+)/,"$1"+Ui+"$2-$3$1"+Mm+(Ul(o,p+3)==108?"$3":"$2-$3"))+o;case 115:return~b1(o,"stretch")?cb(zi(o,"stretch","fill-available"),p)+o:o}break;case 4949:if(Ul(o,p+1)!==115)break;case 6444:switch(Ul(o,Sh(o)-3-(~b1(o,"!important")&&10))){case 107:return zi(o,":",":"+Ui)+o;case 101:return zi(o,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ui+(Ul(o,14)===45?"inline-":"")+"box$3$1"+Ui+"$2$3$1"+Jl+"$2box$3")+o}break;case 5936:switch(Ul(o,p+11)){case 114:return Ui+o+Jl+zi(o,/[svh]\w+-[tblr]{2}/,"tb")+o;case 108:return Ui+o+Jl+zi(o,/[svh]\w+-[tblr]{2}/,"tb-rl")+o;case 45:return Ui+o+Jl+zi(o,/[svh]\w+-[tblr]{2}/,"lr")+o}return Ui+o+Jl+o+o}return o}var eM=function(p,d,w,C){if(p.length>-1&&!p.return)switch(p.type){case i_:p.return=cb(p.value,p.length);break;case ib:return yf([Yf(p,{value:zi(p.value,"@","@"+Ui)})],C);case r_:if(p.length)return LT(p.props,function(E){switch(GT(E,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return yf([Yf(p,{props:[zi(E,/:(read-\w+)/,":"+Mm+"$1")]})],C);case"::placeholder":return yf([Yf(p,{props:[zi(E,/:(plac\w+)/,":"+Ui+"input-$1")]}),Yf(p,{props:[zi(E,/:(plac\w+)/,":"+Mm+"$1")]}),Yf(p,{props:[zi(E,/:(plac\w+)/,Jl+"input-$1")]})],C)}return""})}},tM=[eM],nM=function(p){var d=p.key;if(d==="css"){var w=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(w,function(xe){var Pe=xe.getAttribute("data-emotion");Pe.indexOf(" ")!==-1&&(document.head.appendChild(xe),xe.setAttribute("data-s",""))})}var C=p.stylisPlugins||tM,E={},A,l=[];A=p.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+d+' "]'),function(xe){for(var Pe=xe.getAttribute("data-emotion").split(" "),He=1;He<Pe.length;He++)E[Pe[He]]=!0;l.push(xe)});var V,q=[QT,JT];{var ue,te=[WT,qT(function(xe){ue.insert(xe)})],ce=HT(q.concat(C,te)),oe=function(Pe){return yf(VT(Pe),ce)};V=function(Pe,He,rt,ze){ue=rt,oe(Pe?Pe+"{"+He.styles+"}":He.styles),ze&&(de.inserted[He.name]=!0)}}var de={key:d,sheet:new PT({key:d,container:A,nonce:p.nonce,speedy:p.speedy,prepend:p.prepend,insertionPoint:p.insertionPoint}),nonce:p.nonce,inserted:E,registered:{},insert:V};return de.sheet.hydrate(l),de},Wy={exports:{}},ji={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function rM(){if(Bv)return ji;Bv=1;var o=typeof Symbol=="function"&&Symbol.for,p=o?Symbol.for("react.element"):60103,d=o?Symbol.for("react.portal"):60106,w=o?Symbol.for("react.fragment"):60107,C=o?Symbol.for("react.strict_mode"):60108,E=o?Symbol.for("react.profiler"):60114,A=o?Symbol.for("react.provider"):60109,l=o?Symbol.for("react.context"):60110,V=o?Symbol.for("react.async_mode"):60111,q=o?Symbol.for("react.concurrent_mode"):60111,ue=o?Symbol.for("react.forward_ref"):60112,te=o?Symbol.for("react.suspense"):60113,ce=o?Symbol.for("react.suspense_list"):60120,oe=o?Symbol.for("react.memo"):60115,de=o?Symbol.for("react.lazy"):60116,xe=o?Symbol.for("react.block"):60121,Pe=o?Symbol.for("react.fundamental"):60117,He=o?Symbol.for("react.responder"):60118,rt=o?Symbol.for("react.scope"):60119;function ze(Ge){if(typeof Ge=="object"&&Ge!==null){var je=Ge.$$typeof;switch(je){case p:switch(Ge=Ge.type,Ge){case V:case q:case w:case E:case C:case te:return Ge;default:switch(Ge=Ge&&Ge.$$typeof,Ge){case l:case ue:case de:case oe:case A:return Ge;default:return je}}case d:return je}}}function Me(Ge){return ze(Ge)===q}return ji.AsyncMode=V,ji.ConcurrentMode=q,ji.ContextConsumer=l,ji.ContextProvider=A,ji.Element=p,ji.ForwardRef=ue,ji.Fragment=w,ji.Lazy=de,ji.Memo=oe,ji.Portal=d,ji.Profiler=E,ji.StrictMode=C,ji.Suspense=te,ji.isAsyncMode=function(Ge){return Me(Ge)||ze(Ge)===V},ji.isConcurrentMode=Me,ji.isContextConsumer=function(Ge){return ze(Ge)===l},ji.isContextProvider=function(Ge){return ze(Ge)===A},ji.isElement=function(Ge){return typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===p},ji.isForwardRef=function(Ge){return ze(Ge)===ue},ji.isFragment=function(Ge){return ze(Ge)===w},ji.isLazy=function(Ge){return ze(Ge)===de},ji.isMemo=function(Ge){return ze(Ge)===oe},ji.isPortal=function(Ge){return ze(Ge)===d},ji.isProfiler=function(Ge){return ze(Ge)===E},ji.isStrictMode=function(Ge){return ze(Ge)===C},ji.isSuspense=function(Ge){return ze(Ge)===te},ji.isValidElementType=function(Ge){return typeof Ge=="string"||typeof Ge=="function"||Ge===w||Ge===q||Ge===E||Ge===C||Ge===te||Ge===ce||typeof Ge=="object"&&Ge!==null&&(Ge.$$typeof===de||Ge.$$typeof===oe||Ge.$$typeof===A||Ge.$$typeof===l||Ge.$$typeof===ue||Ge.$$typeof===Pe||Ge.$$typeof===He||Ge.$$typeof===rt||Ge.$$typeof===xe)},ji.typeOf=ze,ji}var Ov;function iM(){return Ov||(Ov=1,Wy.exports=rM()),Wy.exports}var Hy,Fv;function aM(){if(Fv)return Hy;Fv=1;var o=iM(),p={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},d={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},w={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},C={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},E={};E[o.ForwardRef]=w,E[o.Memo]=C;function A(de){return o.isMemo(de)?C:E[de.$$typeof]||p}var l=Object.defineProperty,V=Object.getOwnPropertyNames,q=Object.getOwnPropertySymbols,ue=Object.getOwnPropertyDescriptor,te=Object.getPrototypeOf,ce=Object.prototype;function oe(de,xe,Pe){if(typeof xe!="string"){if(ce){var He=te(xe);He&&He!==ce&&oe(de,He,Pe)}var rt=V(xe);q&&(rt=rt.concat(q(xe)));for(var ze=A(de),Me=A(xe),Ge=0;Ge<rt.length;++Ge){var je=rt[Ge];if(!d[je]&&!(Pe&&Pe[je])&&!(Me&&Me[je])&&!(ze&&ze[je])){var ot=ue(xe,je);try{l(de,je,ot)}catch{}}}}return de}return Hy=oe,Hy}aM();var oM=!0;function hb(o,p,d){var w="";return d.split(" ").forEach(function(C){o[C]!==void 0?p.push(o[C]+";"):C&&(w+=C+" ")}),w}var o_=function(p,d,w){var C=p.key+"-"+d.name;(w===!1||oM===!1)&&p.registered[C]===void 0&&(p.registered[C]=d.styles)},s_=function(p,d,w){o_(p,d,w);var C=p.key+"-"+d.name;if(p.inserted[d.name]===void 0){var E=d;do p.insert(d===E?"."+C:"",E,p.sheet,!0),E=E.next;while(E!==void 0)}};function sM(o){for(var p=0,d,w=0,C=o.length;C>=4;++w,C-=4)d=o.charCodeAt(w)&255|(o.charCodeAt(++w)&255)<<8|(o.charCodeAt(++w)&255)<<16|(o.charCodeAt(++w)&255)<<24,d=(d&65535)*1540483477+((d>>>16)*59797<<16),d^=d>>>24,p=(d&65535)*1540483477+((d>>>16)*59797<<16)^(p&65535)*1540483477+((p>>>16)*59797<<16);switch(C){case 3:p^=(o.charCodeAt(w+2)&255)<<16;case 2:p^=(o.charCodeAt(w+1)&255)<<8;case 1:p^=o.charCodeAt(w)&255,p=(p&65535)*1540483477+((p>>>16)*59797<<16)}return p^=p>>>13,p=(p&65535)*1540483477+((p>>>16)*59797<<16),((p^p>>>15)>>>0).toString(36)}var lM={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},uM=/[A-Z]|^ms/g,cM=/_EMO_([^_]+?)_([^]*?)_EMO_/g,pb=function(p){return p.charCodeAt(1)===45},Nv=function(p){return p!=null&&typeof p!="boolean"},qy=ub(function(o){return pb(o)?o:o.replace(uM,"-$&").toLowerCase()}),$v=function(p,d){switch(p){case"animation":case"animationName":if(typeof d=="string")return d.replace(cM,function(w,C,E){return Th={name:C,styles:E,next:Th},C})}return lM[p]!==1&&!pb(p)&&typeof d=="number"&&d!==0?d+"px":d};function mg(o,p,d){if(d==null)return"";var w=d;if(w.__emotion_styles!==void 0)return w;switch(typeof d){case"boolean":return"";case"object":{var C=d;if(C.anim===1)return Th={name:C.name,styles:C.styles,next:Th},C.name;var E=d;if(E.styles!==void 0){var A=E.next;if(A!==void 0)for(;A!==void 0;)Th={name:A.name,styles:A.styles,next:Th},A=A.next;var l=E.styles+";";return l}return hM(o,p,d)}case"function":{if(o!==void 0){var V=Th,q=d(o);return Th=V,mg(o,p,q)}break}}var ue=d;if(p==null)return ue;var te=p[ue];return te!==void 0?te:ue}function hM(o,p,d){var w="";if(Array.isArray(d))for(var C=0;C<d.length;C++)w+=mg(o,p,d[C])+";";else for(var E in d){var A=d[E];if(typeof A!="object"){var l=A;p!=null&&p[l]!==void 0?w+=E+"{"+p[l]+"}":Nv(l)&&(w+=qy(E)+":"+$v(E,l)+";")}else if(Array.isArray(A)&&typeof A[0]=="string"&&(p==null||p[A[0]]===void 0))for(var V=0;V<A.length;V++)Nv(A[V])&&(w+=qy(E)+":"+$v(E,A[V])+";");else{var q=mg(o,p,A);switch(E){case"animation":case"animationName":{w+=qy(E)+":"+q+";";break}default:w+=E+"{"+q+"}"}}}return w}var jv=/label:\s*([^\s;{]+)\s*(;|$)/g,Th;function Tg(o,p,d){if(o.length===1&&typeof o[0]=="object"&&o[0]!==null&&o[0].styles!==void 0)return o[0];var w=!0,C="";Th=void 0;var E=o[0];if(E==null||E.raw===void 0)w=!1,C+=mg(d,p,E);else{var A=E;C+=A[0]}for(var l=1;l<o.length;l++)if(C+=mg(d,p,o[l]),w){var V=E;C+=V[l]}jv.lastIndex=0;for(var q="",ue;(ue=jv.exec(C))!==null;)q+="-"+ue[1];var te=sM(C)+q;return{name:te,styles:C,next:Th}}var pM=function(p){return p()},db=n1.useInsertionEffect?n1.useInsertionEffect:!1,fb=db||pM,Vv=db||Ke.useLayoutEffect,gb=Ke.createContext(typeof HTMLElement<"u"?nM({key:"css"}):null);gb.Provider;var l_=function(p){return Ke.forwardRef(function(d,w){var C=Ke.useContext(gb);return p(d,C,w)})},Xm=Ke.createContext({}),u_={}.hasOwnProperty,D1="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",dM=function(p,d){var w={};for(var C in d)u_.call(d,C)&&(w[C]=d[C]);return w[D1]=p,w},fM=function(p){var d=p.cache,w=p.serialized,C=p.isStringTag;return o_(d,w,C),fb(function(){return s_(d,w,C)}),null},gM=l_(function(o,p,d){var w=o.css;typeof w=="string"&&p.registered[w]!==void 0&&(w=p.registered[w]);var C=o[D1],E=[w],A="";typeof o.className=="string"?A=hb(p.registered,E,o.className):o.className!=null&&(A=o.className+" ");var l=Tg(E,void 0,Ke.useContext(Xm));A+=p.key+"-"+l.name;var V={};for(var q in o)u_.call(o,q)&&q!=="css"&&q!==D1&&(V[q]=o[q]);return V.className=A,d&&(V.ref=d),Ke.createElement(Ke.Fragment,null,Ke.createElement(fM,{cache:p,serialized:l,isStringTag:typeof C=="string"}),Ke.createElement(C,V))}),mM=gM,Zv=function(p,d){var w=arguments;if(d==null||!u_.call(d,"css"))return Ke.createElement.apply(void 0,w);var C=w.length,E=new Array(C);E[0]=mM,E[1]=dM(p,d);for(var A=2;A<C;A++)E[A]=w[A];return Ke.createElement.apply(null,E)};(function(o){var p;p||(p=o.JSX||(o.JSX={}))})(Zv||(Zv={}));var yM=l_(function(o,p){var d=o.styles,w=Tg([d],void 0,Ke.useContext(Xm)),C=Ke.useRef();return Vv(function(){var E=p.key+"-global",A=new p.sheet.constructor({key:E,nonce:p.sheet.nonce,container:p.sheet.container,speedy:p.sheet.isSpeedy}),l=!1,V=document.querySelector('style[data-emotion="'+E+" "+w.name+'"]');return p.sheet.tags.length&&(A.before=p.sheet.tags[0]),V!==null&&(l=!0,V.setAttribute("data-emotion",E),A.hydrate([V])),C.current=[A,l],function(){A.flush()}},[p]),Vv(function(){var E=C.current,A=E[0],l=E[1];if(l){E[1]=!1;return}if(w.next!==void 0&&s_(p,w.next,!0),A.tags.length){var V=A.tags[A.tags.length-1].nextElementSibling;A.before=V,A.flush()}p.insert("",w,A,!1)},[p,w.name]),null});function _M(){for(var o=arguments.length,p=new Array(o),d=0;d<o;d++)p[d]=arguments[d];return Tg(p)}function c_(){var o=_M.apply(void 0,arguments),p="animation-"+o.name;return{name:p,styles:"@keyframes "+p+"{"+o.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var vM=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,xM=ub(function(o){return vM.test(o)||o.charCodeAt(0)===111&&o.charCodeAt(1)===110&&o.charCodeAt(2)<91}),bM=xM,wM=function(p){return p!=="theme"},Wv=function(p){return typeof p=="string"&&p.charCodeAt(0)>96?bM:wM},Hv=function(p,d,w){var C;if(d){var E=d.shouldForwardProp;C=p.__emotion_forwardProp&&E?function(A){return p.__emotion_forwardProp(A)&&E(A)}:E}return typeof C!="function"&&w&&(C=p.__emotion_forwardProp),C},DM=function(p){var d=p.cache,w=p.serialized,C=p.isStringTag;return o_(d,w,C),fb(function(){return s_(d,w,C)}),null},CM=function o(p,d){var w=p.__emotion_real===p,C=w&&p.__emotion_base||p,E,A;d!==void 0&&(E=d.label,A=d.target);var l=Hv(p,d,w),V=l||Wv(C),q=!V("as");return function(){var ue=arguments,te=w&&p.__emotion_styles!==void 0?p.__emotion_styles.slice(0):[];if(E!==void 0&&te.push("label:"+E+";"),ue[0]==null||ue[0].raw===void 0)te.push.apply(te,ue);else{var ce=ue[0];te.push(ce[0]);for(var oe=ue.length,de=1;de<oe;de++)te.push(ue[de],ce[de])}var xe=l_(function(Pe,He,rt){var ze=q&&Pe.as||C,Me="",Ge=[],je=Pe;if(Pe.theme==null){je={};for(var ot in Pe)je[ot]=Pe[ot];je.theme=Ke.useContext(Xm)}typeof Pe.className=="string"?Me=hb(He.registered,Ge,Pe.className):Pe.className!=null&&(Me=Pe.className+" ");var Pt=Tg(te.concat(Ge),He.registered,je);Me+=He.key+"-"+Pt.name,A!==void 0&&(Me+=" "+A);var Jt=q&&l===void 0?Wv(ze):V,ye={};for(var Dt in Pe)q&&Dt==="as"||Jt(Dt)&&(ye[Dt]=Pe[Dt]);return ye.className=Me,rt&&(ye.ref=rt),Ke.createElement(Ke.Fragment,null,Ke.createElement(DM,{cache:He,serialized:Pt,isStringTag:typeof ze=="string"}),Ke.createElement(ze,ye))});return xe.displayName=E!==void 0?E:"Styled("+(typeof C=="string"?C:C.displayName||C.name||"Component")+")",xe.defaultProps=p.defaultProps,xe.__emotion_real=xe,xe.__emotion_base=C,xe.__emotion_styles=te,xe.__emotion_forwardProp=l,Object.defineProperty(xe,"toString",{value:function(){return"."+A}}),xe.withComponent=function(Pe,He){var rt=o(Pe,Tm({},d,He,{shouldForwardProp:Hv(xe,He,!0)}));return rt.apply(void 0,te)},xe}},IM=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],C1=CM.bind(null);IM.forEach(function(o){C1[o]=C1(o)});function AM(o){return o==null||Object.keys(o).length===0}function SM(o){const{styles:p,defaultTheme:d={}}=o,w=typeof p=="function"?C=>p(AM(C)?d:C):p;return Yt.jsx(yM,{styles:w})}function TM(o,p){return C1(o,p)}function MM(o,p){Array.isArray(o.__emotion_styles)&&(o.__emotion_styles=p(o.__emotion_styles))}const qv=[];function Kv(o){return qv[0]=o,Tg(qv)}const PM=o=>{const p=Object.keys(o).map(d=>({key:d,val:o[d]}))||[];return p.sort((d,w)=>d.val-w.val),p.reduce((d,w)=>({...d,[w.key]:w.val}),{})};function EM(o){const{values:p={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:d="px",step:w=5,...C}=o,E=PM(p),A=Object.keys(E);function l(ce){return`@media (min-width:${typeof p[ce]=="number"?p[ce]:ce}${d})`}function V(ce){return`@media (max-width:${(typeof p[ce]=="number"?p[ce]:ce)-w/100}${d})`}function q(ce,oe){const de=A.indexOf(oe);return`@media (min-width:${typeof p[ce]=="number"?p[ce]:ce}${d}) and (max-width:${(de!==-1&&typeof p[A[de]]=="number"?p[A[de]]:oe)-w/100}${d})`}function ue(ce){return A.indexOf(ce)+1<A.length?q(ce,A[A.indexOf(ce)+1]):l(ce)}function te(ce){const oe=A.indexOf(ce);return oe===0?l(A[1]):oe===A.length-1?V(A[oe]):q(ce,A[A.indexOf(ce)+1]).replace("@media","@media not all and")}return{keys:A,values:E,up:l,down:V,between:q,only:ue,not:te,unit:d,...C}}const kM={borderRadius:4};function mb(o=8,p=t_({spacing:o})){if(o.mui)return o;const d=(...w)=>(w.length===0?[1]:w).map(E=>{const A=p(E);return typeof A=="number"?`${A}px`:A}).join(" ");return d.mui=!0,d}function RM(o,p){var w;const d=this;if(d.vars){if(!((w=d.colorSchemes)!=null&&w[o])||typeof d.getColorSchemeSelector!="function")return{};let C=d.getColorSchemeSelector(o);return C==="&"?p:((C.includes("data-")||C.includes("."))&&(C=`*:where(${C.replace(/\s*&$/,"")}) &`),{[C]:p})}return d.palette.mode===o?p:{}}function h_(o={},...p){const{breakpoints:d={},palette:w={},spacing:C,shape:E={},...A}=o,l=EM(d),V=mb(C);let q=e0({breakpoints:l,direction:"ltr",components:{},palette:{mode:"light",...w},spacing:V,shape:{...kM,...E}},A);return q=LS(q),q.applyStyles=RM,q=p.reduce((ue,te)=>e0(ue,te),q),q.unstable_sxConfig={...Ag,...A==null?void 0:A.unstable_sxConfig},q.unstable_sx=function(te){return _f({sx:te,theme:this})},q}function UM(o){return Object.keys(o).length===0}function zM(o=null){const p=Ke.useContext(Xm);return!p||UM(p)?o:p}const GM=h_();function yb(o=GM){return zM(o)}function LM({styles:o,themeId:p,defaultTheme:d={}}){const w=yb(d),C=typeof o=="function"?o(p&&w[p]||w):o;return Yt.jsx(SM,{styles:C})}const Xv=o=>o,BM=()=>{let o=Xv;return{configure(p){o=p},generate(p){return o(p)},reset(){o=Xv}}},OM=BM(),FM={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function za(o,p,d="Mui"){const w=FM[p];return w?`${d}-${w}`:`${OM.generate(o)}-${p}`}function ta(o,p,d="Mui"){const w={};return p.forEach(C=>{w[C]=za(o,C,d)}),w}function _b(o){const{variants:p,...d}=o,w={variants:p,style:Kv(d),isProcessed:!0};return w.style===d||p&&p.forEach(C=>{typeof C.style!="function"&&(C.style=Kv(C.style))}),w}const NM=h_();function Ky(o){return o!=="ownerState"&&o!=="theme"&&o!=="sx"&&o!=="as"}function $M(o){return o?(p,d)=>d[o]:null}function jM(o,p,d){o.theme=WM(o.theme)?d:o.theme[p]||o.theme}function wm(o,p){const d=typeof p=="function"?p(o):p;if(Array.isArray(d))return d.flatMap(w=>wm(o,w));if(Array.isArray(d==null?void 0:d.variants)){let w;if(d.isProcessed)w=d.style;else{const{variants:C,...E}=d;w=E}return vb(o,d.variants,[w])}return d!=null&&d.isProcessed?d.style:d}function vb(o,p,d=[]){var C;let w;e:for(let E=0;E<p.length;E+=1){const A=p[E];if(typeof A.props=="function"){if(w??(w={...o,...o.ownerState,ownerState:o.ownerState}),!A.props(w))continue}else for(const l in A.props)if(o[l]!==A.props[l]&&((C=o.ownerState)==null?void 0:C[l])!==A.props[l])continue e;typeof A.style=="function"?(w??(w={...o,...o.ownerState,ownerState:o.ownerState}),d.push(A.style(w))):d.push(A.style)}return d}function VM(o={}){const{themeId:p,defaultTheme:d=NM,rootShouldForwardProp:w=Ky,slotShouldForwardProp:C=Ky}=o;function E(l){jM(l,p,d)}return(l,V={})=>{MM(l,Ge=>Ge.filter(je=>je!==_f));const{name:q,slot:ue,skipVariantsResolver:te,skipSx:ce,overridesResolver:oe=$M(qM(ue)),...de}=V,xe=te!==void 0?te:ue&&ue!=="Root"&&ue!=="root"||!1,Pe=ce||!1;let He=Ky;ue==="Root"||ue==="root"?He=w:ue?He=C:HM(l)&&(He=void 0);const rt=TM(l,{shouldForwardProp:He,label:ZM(),...de}),ze=Ge=>{if(typeof Ge=="function"&&Ge.__emotion_real!==Ge)return function(ot){return wm(ot,Ge)};if(Mh(Ge)){const je=_b(Ge);return je.variants?function(Pt){return wm(Pt,je)}:je.style}return Ge},Me=(...Ge)=>{const je=[],ot=Ge.map(ze),Pt=[];if(je.push(E),q&&oe&&Pt.push(function(Mt){var $t,dn;const Vt=(dn=($t=Mt.theme.components)==null?void 0:$t[q])==null?void 0:dn.styleOverrides;if(!Vt)return null;const Nt={};for(const yt in Vt)Nt[yt]=wm(Mt,Vt[yt]);return oe(Mt,Nt)}),q&&!xe&&Pt.push(function(Mt){var Nt,$t;const Wt=Mt.theme,Vt=($t=(Nt=Wt==null?void 0:Wt.components)==null?void 0:Nt[q])==null?void 0:$t.variants;return Vt?vb(Mt,Vt):null}),Pe||Pt.push(_f),Array.isArray(ot[0])){const Dt=ot.shift(),Mt=new Array(je.length).fill(""),Wt=new Array(Pt.length).fill("");let Vt;Vt=[...Mt,...Dt,...Wt],Vt.raw=[...Mt,...Dt.raw,...Wt],je.unshift(Vt)}const Jt=[...je,...ot,...Pt],ye=rt(...Jt);return l.muiName&&(ye.muiName=l.muiName),ye};return rt.withConfig&&(Me.withConfig=rt.withConfig),Me}}function ZM(o,p){return void 0}function WM(o){for(const p in o)return!1;return!0}function HM(o){return typeof o=="string"&&o.charCodeAt(0)>96}function qM(o){return o&&o.charAt(0).toLowerCase()+o.slice(1)}function I1(o,p){const d={...p};for(const w in o)if(Object.prototype.hasOwnProperty.call(o,w)){const C=w;if(C==="components"||C==="slots")d[C]={...o[C],...d[C]};else if(C==="componentsProps"||C==="slotProps"){const E=o[C],A=p[C];if(!A)d[C]=E||{};else if(!E)d[C]=A;else{d[C]={...A};for(const l in E)if(Object.prototype.hasOwnProperty.call(E,l)){const V=l;d[C][V]=I1(E[V],A[V])}}}else d[C]===void 0&&(d[C]=o[C])}return d}const Xp=typeof window<"u"?Ke.useLayoutEffect:Ke.useEffect;function KM(o,p=Number.MIN_SAFE_INTEGER,d=Number.MAX_SAFE_INTEGER){return Math.max(p,Math.min(o,d))}function p_(o,p=0,d=1){return KM(o,p,d)}function XM(o){o=o.slice(1);const p=new RegExp(`.{1,${o.length>=6?2:1}}`,"g");let d=o.match(p);return d&&d[0].length===1&&(d=d.map(w=>w+w)),d?`rgb${d.length===4?"a":""}(${d.map((w,C)=>C<3?parseInt(w,16):Math.round(parseInt(w,16)/255*1e3)/1e3).join(", ")})`:""}function Yp(o){if(o.type)return o;if(o.charAt(0)==="#")return Yp(XM(o));const p=o.indexOf("("),d=o.substring(0,p);if(!["rgb","rgba","hsl","hsla","color"].includes(d))throw new Error(hp(9,o));let w=o.substring(p+1,o.length-1),C;if(d==="color"){if(w=w.split(" "),C=w.shift(),w.length===4&&w[3].charAt(0)==="/"&&(w[3]=w[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(C))throw new Error(hp(10,C))}else w=w.split(",");return w=w.map(E=>parseFloat(E)),{type:d,values:w,colorSpace:C}}const YM=o=>{const p=Yp(o);return p.values.slice(0,3).map((d,w)=>p.type.includes("hsl")&&w!==0?`${d}%`:d).join(" ")},ig=(o,p)=>{try{return YM(o)}catch{return o}};function Ym(o){const{type:p,colorSpace:d}=o;let{values:w}=o;return p.includes("rgb")?w=w.map((C,E)=>E<3?parseInt(C,10):C):p.includes("hsl")&&(w[1]=`${w[1]}%`,w[2]=`${w[2]}%`),p.includes("color")?w=`${d} ${w.join(" ")}`:w=`${w.join(", ")}`,`${p}(${w})`}function xb(o){o=Yp(o);const{values:p}=o,d=p[0],w=p[1]/100,C=p[2]/100,E=w*Math.min(C,1-C),A=(q,ue=(q+d/30)%12)=>C-E*Math.max(Math.min(ue-3,9-ue,1),-1);let l="rgb";const V=[Math.round(A(0)*255),Math.round(A(8)*255),Math.round(A(4)*255)];return o.type==="hsla"&&(l+="a",V.push(p[3])),Ym({type:l,values:V})}function A1(o){o=Yp(o);let p=o.type==="hsl"||o.type==="hsla"?Yp(xb(o)).values:o.values;return p=p.map(d=>(o.type!=="color"&&(d/=255),d<=.03928?d/12.92:((d+.055)/1.055)**2.4)),Number((.2126*p[0]+.7152*p[1]+.0722*p[2]).toFixed(3))}function QM(o,p){const d=A1(o),w=A1(p);return(Math.max(d,w)+.05)/(Math.min(d,w)+.05)}function cp(o,p){return o=Yp(o),p=p_(p),(o.type==="rgb"||o.type==="hsl")&&(o.type+="a"),o.type==="color"?o.values[3]=`/${p}`:o.values[3]=p,Ym(o)}function lm(o,p,d){try{return cp(o,p)}catch{return o}}function d_(o,p){if(o=Yp(o),p=p_(p),o.type.includes("hsl"))o.values[2]*=1-p;else if(o.type.includes("rgb")||o.type.includes("color"))for(let d=0;d<3;d+=1)o.values[d]*=1-p;return Ym(o)}function fa(o,p,d){try{return d_(o,p)}catch{return o}}function f_(o,p){if(o=Yp(o),p=p_(p),o.type.includes("hsl"))o.values[2]+=(100-o.values[2])*p;else if(o.type.includes("rgb"))for(let d=0;d<3;d+=1)o.values[d]+=(255-o.values[d])*p;else if(o.type.includes("color"))for(let d=0;d<3;d+=1)o.values[d]+=(1-o.values[d])*p;return Ym(o)}function ga(o,p,d){try{return f_(o,p)}catch{return o}}function JM(o,p=.15){return A1(o)>.5?d_(o,p):f_(o,p)}function um(o,p,d){try{return JM(o,p)}catch{return o}}const eP=Ke.createContext(),tP=()=>Ke.useContext(eP)??!1,nP=Ke.createContext(void 0);function rP(o){const{theme:p,name:d,props:w}=o;if(!p||!p.components||!p.components[d])return w;const C=p.components[d];return C.defaultProps?I1(C.defaultProps,w):!C.styleOverrides&&!C.variants?I1(C,w):w}function iP({props:o,name:p}){const d=Ke.useContext(nP);return rP({props:o,name:p,theme:{components:d}})}const Yv={theme:void 0};function aP(o){let p,d;return function(C){let E=p;return(E===void 0||C.theme!==d)&&(Yv.theme=C.theme,E=_b(o(Yv)),p=E,d=C.theme),E}}function oP(o=""){function p(...w){if(!w.length)return"";const C=w[0];return typeof C=="string"&&!C.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${o?`${o}-`:""}${C}${p(...w.slice(1))})`:`, ${C}`}return(w,...C)=>`var(--${o?`${o}-`:""}${w}${p(...C)})`}const Qv=(o,p,d,w=[])=>{let C=o;p.forEach((E,A)=>{A===p.length-1?Array.isArray(C)?C[Number(E)]=d:C&&typeof C=="object"&&(C[E]=d):C&&typeof C=="object"&&(C[E]||(C[E]=w.includes(E)?[]:{}),C=C[E])})},sP=(o,p,d)=>{function w(C,E=[],A=[]){Object.entries(C).forEach(([l,V])=>{(!d||d&&!d([...E,l]))&&V!=null&&(typeof V=="object"&&Object.keys(V).length>0?w(V,[...E,l],Array.isArray(V)?[...A,l]:A):p([...E,l],V,A))})}w(o)},lP=(o,p)=>typeof p=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(w=>o.includes(w))||o[o.length-1].toLowerCase().includes("opacity")?p:`${p}px`:p;function Xy(o,p){const{prefix:d,shouldSkipGeneratingVar:w}=p||{},C={},E={},A={};return sP(o,(l,V,q)=>{if((typeof V=="string"||typeof V=="number")&&(!w||!w(l,V))){const ue=`--${d?`${d}-`:""}${l.join("-")}`,te=lP(l,V);Object.assign(C,{[ue]:te}),Qv(E,l,`var(${ue})`,q),Qv(A,l,`var(${ue}, ${te})`,q)}},l=>l[0]==="vars"),{css:C,vars:E,varsWithDefaults:A}}function uP(o,p={}){const{getSelector:d=Pe,disableCssColorScheme:w,colorSchemeSelector:C}=p,{colorSchemes:E={},components:A,defaultColorScheme:l="light",...V}=o,{vars:q,css:ue,varsWithDefaults:te}=Xy(V,p);let ce=te;const oe={},{[l]:de,...xe}=E;if(Object.entries(xe||{}).forEach(([ze,Me])=>{const{vars:Ge,css:je,varsWithDefaults:ot}=Xy(Me,p);ce=e0(ce,ot),oe[ze]={css:je,vars:Ge}}),de){const{css:ze,vars:Me,varsWithDefaults:Ge}=Xy(de,p);ce=e0(ce,Ge),oe[l]={css:ze,vars:Me}}function Pe(ze,Me){var je,ot;let Ge=C;if(C==="class"&&(Ge=".%s"),C==="data"&&(Ge="[data-%s]"),C!=null&&C.startsWith("data-")&&!C.includes("%s")&&(Ge=`[${C}="%s"]`),ze){if(Ge==="media")return o.defaultColorScheme===ze?":root":{[`@media (prefers-color-scheme: ${((ot=(je=E[ze])==null?void 0:je.palette)==null?void 0:ot.mode)||ze})`]:{":root":Me}};if(Ge)return o.defaultColorScheme===ze?`:root, ${Ge.replace("%s",String(ze))}`:Ge.replace("%s",String(ze))}return":root"}return{vars:ce,generateThemeVars:()=>{let ze={...q};return Object.entries(oe).forEach(([,{vars:Me}])=>{ze=e0(ze,Me)}),ze},generateStyleSheets:()=>{var Pt,Jt;const ze=[],Me=o.defaultColorScheme||"light";function Ge(ye,Dt){Object.keys(Dt).length&&ze.push(typeof ye=="string"?{[ye]:{...Dt}}:ye)}Ge(d(void 0,{...ue}),ue);const{[Me]:je,...ot}=oe;if(je){const{css:ye}=je,Dt=(Jt=(Pt=E[Me])==null?void 0:Pt.palette)==null?void 0:Jt.mode,Mt=!w&&Dt?{colorScheme:Dt,...ye}:{...ye};Ge(d(Me,{...Mt}),Mt)}return Object.entries(ot).forEach(([ye,{css:Dt}])=>{var Vt,Nt;const Mt=(Nt=(Vt=E[ye])==null?void 0:Vt.palette)==null?void 0:Nt.mode,Wt=!w&&Mt?{colorScheme:Mt,...Dt}:{...Dt};Ge(d(ye,{...Wt}),Wt)}),ze}}}function cP(o){return function(d){return o==="media"?`@media (prefers-color-scheme: ${d})`:o?o.startsWith("data-")&&!o.includes("%s")?`[${o}="${d}"] &`:o==="class"?`.${d} &`:o==="data"?`[data-${d}] &`:`${o.replace("%s",d)} &`:"&"}}function Yy(o,p){var d,w,C;return Ke.isValidElement(o)&&p.indexOf(o.type.muiName??((C=(w=(d=o.type)==null?void 0:d._payload)==null?void 0:w.value)==null?void 0:C.muiName))!==-1}const yg={black:"#000",white:"#fff"},hP={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},sf={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},lf={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Qf={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},uf={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},cf={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},hf={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function bb(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:yg.white,default:yg.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const pP=bb();function wb(){return{text:{primary:yg.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:yg.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const Jv=wb();function e2(o,p,d,w){const C=w.light||w,E=w.dark||w*1.5;o[p]||(o.hasOwnProperty(d)?o[p]=o[d]:p==="light"?o.light=f_(o.main,C):p==="dark"&&(o.dark=d_(o.main,E)))}function dP(o="light"){return o==="dark"?{main:uf[200],light:uf[50],dark:uf[400]}:{main:uf[700],light:uf[400],dark:uf[800]}}function fP(o="light"){return o==="dark"?{main:sf[200],light:sf[50],dark:sf[400]}:{main:sf[500],light:sf[300],dark:sf[700]}}function gP(o="light"){return o==="dark"?{main:lf[500],light:lf[300],dark:lf[700]}:{main:lf[700],light:lf[400],dark:lf[800]}}function mP(o="light"){return o==="dark"?{main:cf[400],light:cf[300],dark:cf[700]}:{main:cf[700],light:cf[500],dark:cf[900]}}function yP(o="light"){return o==="dark"?{main:hf[400],light:hf[300],dark:hf[700]}:{main:hf[800],light:hf[500],dark:hf[900]}}function _P(o="light"){return o==="dark"?{main:Qf[400],light:Qf[300],dark:Qf[700]}:{main:"#ed6c02",light:Qf[500],dark:Qf[900]}}function g_(o){const{mode:p="light",contrastThreshold:d=3,tonalOffset:w=.2,...C}=o,E=o.primary||dP(p),A=o.secondary||fP(p),l=o.error||gP(p),V=o.info||mP(p),q=o.success||yP(p),ue=o.warning||_P(p);function te(xe){return QM(xe,Jv.text.primary)>=d?Jv.text.primary:pP.text.primary}const ce=({color:xe,name:Pe,mainShade:He=500,lightShade:rt=300,darkShade:ze=700})=>{if(xe={...xe},!xe.main&&xe[He]&&(xe.main=xe[He]),!xe.hasOwnProperty("main"))throw new Error(hp(11,Pe?` (${Pe})`:"",He));if(typeof xe.main!="string")throw new Error(hp(12,Pe?` (${Pe})`:"",JSON.stringify(xe.main)));return e2(xe,"light",rt,w),e2(xe,"dark",ze,w),xe.contrastText||(xe.contrastText=te(xe.main)),xe};let oe;return p==="light"?oe=bb():p==="dark"&&(oe=wb()),e0({common:{...yg},mode:p,primary:ce({color:E,name:"primary"}),secondary:ce({color:A,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:ce({color:l,name:"error"}),warning:ce({color:ue,name:"warning"}),info:ce({color:V,name:"info"}),success:ce({color:q,name:"success"}),grey:hP,contrastThreshold:d,getContrastText:te,augmentColor:ce,tonalOffset:w,...oe},C)}function vP(o){const p={};return Object.entries(o).forEach(w=>{const[C,E]=w;typeof E=="object"&&(p[C]=`${E.fontStyle?`${E.fontStyle} `:""}${E.fontVariant?`${E.fontVariant} `:""}${E.fontWeight?`${E.fontWeight} `:""}${E.fontStretch?`${E.fontStretch} `:""}${E.fontSize||""}${E.lineHeight?`/${E.lineHeight} `:""}${E.fontFamily||""}`)}),p}function xP(o,p){return{toolbar:{minHeight:56,[o.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[o.up("sm")]:{minHeight:64}},...p}}function bP(o){return Math.round(o*1e5)/1e5}const t2={textTransform:"uppercase"},n2='"Roboto", "Helvetica", "Arial", sans-serif';function wP(o,p){const{fontFamily:d=n2,fontSize:w=14,fontWeightLight:C=300,fontWeightRegular:E=400,fontWeightMedium:A=500,fontWeightBold:l=700,htmlFontSize:V=16,allVariants:q,pxToRem:ue,...te}=typeof p=="function"?p(o):p,ce=w/14,oe=ue||(Pe=>`${Pe/V*ce}rem`),de=(Pe,He,rt,ze,Me)=>({fontFamily:d,fontWeight:Pe,fontSize:oe(He),lineHeight:rt,...d===n2?{letterSpacing:`${bP(ze/He)}em`}:{},...Me,...q}),xe={h1:de(C,96,1.167,-1.5),h2:de(C,60,1.2,-.5),h3:de(E,48,1.167,0),h4:de(E,34,1.235,.25),h5:de(E,24,1.334,0),h6:de(A,20,1.6,.15),subtitle1:de(E,16,1.75,.15),subtitle2:de(A,14,1.57,.1),body1:de(E,16,1.5,.15),body2:de(E,14,1.43,.15),button:de(A,14,1.75,.4,t2),caption:de(E,12,1.66,.4),overline:de(E,12,2.66,1,t2),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return e0({htmlFontSize:V,pxToRem:oe,fontFamily:d,fontSize:w,fontWeightLight:C,fontWeightRegular:E,fontWeightMedium:A,fontWeightBold:l,...xe},te,{clone:!1})}const DP=.2,CP=.14,IP=.12;function Za(...o){return[`${o[0]}px ${o[1]}px ${o[2]}px ${o[3]}px rgba(0,0,0,${DP})`,`${o[4]}px ${o[5]}px ${o[6]}px ${o[7]}px rgba(0,0,0,${CP})`,`${o[8]}px ${o[9]}px ${o[10]}px ${o[11]}px rgba(0,0,0,${IP})`].join(",")}const AP=["none",Za(0,2,1,-1,0,1,1,0,0,1,3,0),Za(0,3,1,-2,0,2,2,0,0,1,5,0),Za(0,3,3,-2,0,3,4,0,0,1,8,0),Za(0,2,4,-1,0,4,5,0,0,1,10,0),Za(0,3,5,-1,0,5,8,0,0,1,14,0),Za(0,3,5,-1,0,6,10,0,0,1,18,0),Za(0,4,5,-2,0,7,10,1,0,2,16,1),Za(0,5,5,-3,0,8,10,1,0,3,14,2),Za(0,5,6,-3,0,9,12,1,0,3,16,2),Za(0,6,6,-3,0,10,14,1,0,4,18,3),Za(0,6,7,-4,0,11,15,1,0,4,20,3),Za(0,7,8,-4,0,12,17,2,0,5,22,4),Za(0,7,8,-4,0,13,19,2,0,5,24,4),Za(0,7,9,-4,0,14,21,2,0,5,26,4),Za(0,8,9,-5,0,15,22,2,0,6,28,5),Za(0,8,10,-5,0,16,24,2,0,6,30,5),Za(0,8,11,-5,0,17,26,2,0,6,32,5),Za(0,9,11,-5,0,18,28,2,0,7,34,6),Za(0,9,12,-6,0,19,29,2,0,7,36,6),Za(0,10,13,-6,0,20,31,3,0,8,38,7),Za(0,10,13,-6,0,21,33,3,0,8,40,7),Za(0,10,14,-6,0,22,35,3,0,8,42,7),Za(0,11,14,-7,0,23,36,3,0,9,44,8),Za(0,11,15,-7,0,24,38,3,0,9,46,8)],SP={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},TP={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function r2(o){return`${Math.round(o)}ms`}function MP(o){if(!o)return 0;const p=o/36;return Math.min(Math.round((4+15*p**.25+p/5)*10),3e3)}function PP(o){const p={...SP,...o.easing},d={...TP,...o.duration};return{getAutoHeightDuration:MP,create:(C=["all"],E={})=>{const{duration:A=d.standard,easing:l=p.easeInOut,delay:V=0,...q}=E;return(Array.isArray(C)?C:[C]).map(ue=>`${ue} ${typeof A=="string"?A:r2(A)} ${l} ${typeof V=="string"?V:r2(V)}`).join(",")},...o,easing:p,duration:d}}const EP={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function kP(o){return Mh(o)||typeof o>"u"||typeof o=="string"||typeof o=="boolean"||typeof o=="number"||Array.isArray(o)}function Db(o={}){const p={...o};function d(w){const C=Object.entries(w);for(let E=0;E<C.length;E++){const[A,l]=C[E];!kP(l)||A.startsWith("unstable_")?delete w[A]:Mh(l)&&(w[A]={...l},d(w[A]))}}return d(p),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(p,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function S1(o={},...p){const{breakpoints:d,mixins:w={},spacing:C,palette:E={},transitions:A={},typography:l={},shape:V,...q}=o;if(o.vars&&o.generateThemeVars===void 0)throw new Error(hp(20));const ue=g_(E),te=h_(o);let ce=e0(te,{mixins:xP(te.breakpoints,w),palette:ue,shadows:AP.slice(),typography:wP(ue,l),transitions:PP(A),zIndex:{...EP}});return ce=e0(ce,q),ce=p.reduce((oe,de)=>e0(oe,de),ce),ce.unstable_sxConfig={...Ag,...q==null?void 0:q.unstable_sxConfig},ce.unstable_sx=function(de){return _f({sx:de,theme:this})},ce.toRuntimeSource=Db,ce}function T1(o){let p;return o<1?p=5.11916*o**2:p=4.5*Math.log(o+1)+2,Math.round(p*10)/1e3}const RP=[...Array(25)].map((o,p)=>{if(p===0)return"none";const d=T1(p);return`linear-gradient(rgba(255 255 255 / ${d}), rgba(255 255 255 / ${d}))`});function Cb(o){return{inputPlaceholder:o==="dark"?.5:.42,inputUnderline:o==="dark"?.7:.42,switchTrackDisabled:o==="dark"?.2:.12,switchTrack:o==="dark"?.3:.38}}function Ib(o){return o==="dark"?RP:[]}function UP(o){const{palette:p={mode:"light"},opacity:d,overlays:w,...C}=o,E=g_(p);return{palette:E,opacity:{...Cb(E.mode),...d},overlays:w||Ib(E.mode),...C}}function zP(o){var p;return!!o[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!o[0].match(/sxConfig$/)||o[0]==="palette"&&!!((p=o[1])!=null&&p.match(/(mode|contrastThreshold|tonalOffset)/))}const GP=o=>[...[...Array(25)].map((p,d)=>`--${o?`${o}-`:""}overlays-${d}`),`--${o?`${o}-`:""}palette-AppBar-darkBg`,`--${o?`${o}-`:""}palette-AppBar-darkColor`],LP=o=>(p,d)=>{const w=o.rootSelector||":root",C=o.colorSchemeSelector;let E=C;if(C==="class"&&(E=".%s"),C==="data"&&(E="[data-%s]"),C!=null&&C.startsWith("data-")&&!C.includes("%s")&&(E=`[${C}="%s"]`),o.defaultColorScheme===p){if(p==="dark"){const A={};return GP(o.cssVarPrefix).forEach(l=>{A[l]=d[l],delete d[l]}),E==="media"?{[w]:d,"@media (prefers-color-scheme: dark)":{[w]:A}}:E?{[E.replace("%s",p)]:A,[`${w}, ${E.replace("%s",p)}`]:d}:{[w]:{...d,...A}}}if(E&&E!=="media")return`${w}, ${E.replace("%s",String(p))}`}else if(p){if(E==="media")return{[`@media (prefers-color-scheme: ${String(p)})`]:{[w]:d}};if(E)return E.replace("%s",String(p))}return w};function BP(o,p){p.forEach(d=>{o[d]||(o[d]={})})}function Ft(o,p,d){!o[p]&&d&&(o[p]=d)}function ag(o){return typeof o!="string"||!o.startsWith("hsl")?o:xb(o)}function lp(o,p){`${p}Channel`in o||(o[`${p}Channel`]=ig(ag(o[p])))}function OP(o){return typeof o=="number"?`${o}px`:typeof o=="string"||typeof o=="function"||Array.isArray(o)?o:"8px"}const Ih=o=>{try{return o()}catch{}},FP=(o="mui")=>oP(o);function Qy(o,p,d,w){if(!p)return;p=p===!0?{}:p;const C=w==="dark"?"dark":"light";if(!d){o[w]=UP({...p,palette:{mode:C,...p==null?void 0:p.palette}});return}const{palette:E,...A}=S1({...d,palette:{mode:C,...p==null?void 0:p.palette}});return o[w]={...p,palette:E,opacity:{...Cb(C),...p==null?void 0:p.opacity},overlays:(p==null?void 0:p.overlays)||Ib(C)},A}function NP(o={},...p){const{colorSchemes:d={light:!0},defaultColorScheme:w,disableCssColorScheme:C=!1,cssVarPrefix:E="mui",shouldSkipGeneratingVar:A=zP,colorSchemeSelector:l=d.light&&d.dark?"media":void 0,rootSelector:V=":root",...q}=o,ue=Object.keys(d)[0],te=w||(d.light&&ue!=="light"?"light":ue),ce=FP(E),{[te]:oe,light:de,dark:xe,...Pe}=d,He={...Pe};let rt=oe;if((te==="dark"&&!("dark"in d)||te==="light"&&!("light"in d))&&(rt=!0),!rt)throw new Error(hp(21,te));const ze=Qy(He,rt,q,te);de&&!He.light&&Qy(He,de,void 0,"light"),xe&&!He.dark&&Qy(He,xe,void 0,"dark");let Me={defaultColorScheme:te,...ze,cssVarPrefix:E,colorSchemeSelector:l,rootSelector:V,getCssVar:ce,colorSchemes:He,font:{...vP(ze.typography),...ze.font},spacing:OP(q.spacing)};Object.keys(Me.colorSchemes).forEach(Jt=>{const ye=Me.colorSchemes[Jt].palette,Dt=Mt=>{const Wt=Mt.split("-"),Vt=Wt[1],Nt=Wt[2];return ce(Mt,ye[Vt][Nt])};if(ye.mode==="light"&&(Ft(ye.common,"background","#fff"),Ft(ye.common,"onBackground","#000")),ye.mode==="dark"&&(Ft(ye.common,"background","#000"),Ft(ye.common,"onBackground","#fff")),BP(ye,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),ye.mode==="light"){Ft(ye.Alert,"errorColor",fa(ye.error.light,.6)),Ft(ye.Alert,"infoColor",fa(ye.info.light,.6)),Ft(ye.Alert,"successColor",fa(ye.success.light,.6)),Ft(ye.Alert,"warningColor",fa(ye.warning.light,.6)),Ft(ye.Alert,"errorFilledBg",Dt("palette-error-main")),Ft(ye.Alert,"infoFilledBg",Dt("palette-info-main")),Ft(ye.Alert,"successFilledBg",Dt("palette-success-main")),Ft(ye.Alert,"warningFilledBg",Dt("palette-warning-main")),Ft(ye.Alert,"errorFilledColor",Ih(()=>ye.getContrastText(ye.error.main))),Ft(ye.Alert,"infoFilledColor",Ih(()=>ye.getContrastText(ye.info.main))),Ft(ye.Alert,"successFilledColor",Ih(()=>ye.getContrastText(ye.success.main))),Ft(ye.Alert,"warningFilledColor",Ih(()=>ye.getContrastText(ye.warning.main))),Ft(ye.Alert,"errorStandardBg",ga(ye.error.light,.9)),Ft(ye.Alert,"infoStandardBg",ga(ye.info.light,.9)),Ft(ye.Alert,"successStandardBg",ga(ye.success.light,.9)),Ft(ye.Alert,"warningStandardBg",ga(ye.warning.light,.9)),Ft(ye.Alert,"errorIconColor",Dt("palette-error-main")),Ft(ye.Alert,"infoIconColor",Dt("palette-info-main")),Ft(ye.Alert,"successIconColor",Dt("palette-success-main")),Ft(ye.Alert,"warningIconColor",Dt("palette-warning-main")),Ft(ye.AppBar,"defaultBg",Dt("palette-grey-100")),Ft(ye.Avatar,"defaultBg",Dt("palette-grey-400")),Ft(ye.Button,"inheritContainedBg",Dt("palette-grey-300")),Ft(ye.Button,"inheritContainedHoverBg",Dt("palette-grey-A100")),Ft(ye.Chip,"defaultBorder",Dt("palette-grey-400")),Ft(ye.Chip,"defaultAvatarColor",Dt("palette-grey-700")),Ft(ye.Chip,"defaultIconColor",Dt("palette-grey-700")),Ft(ye.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Ft(ye.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Ft(ye.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Ft(ye.LinearProgress,"primaryBg",ga(ye.primary.main,.62)),Ft(ye.LinearProgress,"secondaryBg",ga(ye.secondary.main,.62)),Ft(ye.LinearProgress,"errorBg",ga(ye.error.main,.62)),Ft(ye.LinearProgress,"infoBg",ga(ye.info.main,.62)),Ft(ye.LinearProgress,"successBg",ga(ye.success.main,.62)),Ft(ye.LinearProgress,"warningBg",ga(ye.warning.main,.62)),Ft(ye.Skeleton,"bg",`rgba(${Dt("palette-text-primaryChannel")} / 0.11)`),Ft(ye.Slider,"primaryTrack",ga(ye.primary.main,.62)),Ft(ye.Slider,"secondaryTrack",ga(ye.secondary.main,.62)),Ft(ye.Slider,"errorTrack",ga(ye.error.main,.62)),Ft(ye.Slider,"infoTrack",ga(ye.info.main,.62)),Ft(ye.Slider,"successTrack",ga(ye.success.main,.62)),Ft(ye.Slider,"warningTrack",ga(ye.warning.main,.62));const Mt=um(ye.background.default,.8);Ft(ye.SnackbarContent,"bg",Mt),Ft(ye.SnackbarContent,"color",Ih(()=>ye.getContrastText(Mt))),Ft(ye.SpeedDialAction,"fabHoverBg",um(ye.background.paper,.15)),Ft(ye.StepConnector,"border",Dt("palette-grey-400")),Ft(ye.StepContent,"border",Dt("palette-grey-400")),Ft(ye.Switch,"defaultColor",Dt("palette-common-white")),Ft(ye.Switch,"defaultDisabledColor",Dt("palette-grey-100")),Ft(ye.Switch,"primaryDisabledColor",ga(ye.primary.main,.62)),Ft(ye.Switch,"secondaryDisabledColor",ga(ye.secondary.main,.62)),Ft(ye.Switch,"errorDisabledColor",ga(ye.error.main,.62)),Ft(ye.Switch,"infoDisabledColor",ga(ye.info.main,.62)),Ft(ye.Switch,"successDisabledColor",ga(ye.success.main,.62)),Ft(ye.Switch,"warningDisabledColor",ga(ye.warning.main,.62)),Ft(ye.TableCell,"border",ga(lm(ye.divider,1),.88)),Ft(ye.Tooltip,"bg",lm(ye.grey[700],.92))}if(ye.mode==="dark"){Ft(ye.Alert,"errorColor",ga(ye.error.light,.6)),Ft(ye.Alert,"infoColor",ga(ye.info.light,.6)),Ft(ye.Alert,"successColor",ga(ye.success.light,.6)),Ft(ye.Alert,"warningColor",ga(ye.warning.light,.6)),Ft(ye.Alert,"errorFilledBg",Dt("palette-error-dark")),Ft(ye.Alert,"infoFilledBg",Dt("palette-info-dark")),Ft(ye.Alert,"successFilledBg",Dt("palette-success-dark")),Ft(ye.Alert,"warningFilledBg",Dt("palette-warning-dark")),Ft(ye.Alert,"errorFilledColor",Ih(()=>ye.getContrastText(ye.error.dark))),Ft(ye.Alert,"infoFilledColor",Ih(()=>ye.getContrastText(ye.info.dark))),Ft(ye.Alert,"successFilledColor",Ih(()=>ye.getContrastText(ye.success.dark))),Ft(ye.Alert,"warningFilledColor",Ih(()=>ye.getContrastText(ye.warning.dark))),Ft(ye.Alert,"errorStandardBg",fa(ye.error.light,.9)),Ft(ye.Alert,"infoStandardBg",fa(ye.info.light,.9)),Ft(ye.Alert,"successStandardBg",fa(ye.success.light,.9)),Ft(ye.Alert,"warningStandardBg",fa(ye.warning.light,.9)),Ft(ye.Alert,"errorIconColor",Dt("palette-error-main")),Ft(ye.Alert,"infoIconColor",Dt("palette-info-main")),Ft(ye.Alert,"successIconColor",Dt("palette-success-main")),Ft(ye.Alert,"warningIconColor",Dt("palette-warning-main")),Ft(ye.AppBar,"defaultBg",Dt("palette-grey-900")),Ft(ye.AppBar,"darkBg",Dt("palette-background-paper")),Ft(ye.AppBar,"darkColor",Dt("palette-text-primary")),Ft(ye.Avatar,"defaultBg",Dt("palette-grey-600")),Ft(ye.Button,"inheritContainedBg",Dt("palette-grey-800")),Ft(ye.Button,"inheritContainedHoverBg",Dt("palette-grey-700")),Ft(ye.Chip,"defaultBorder",Dt("palette-grey-700")),Ft(ye.Chip,"defaultAvatarColor",Dt("palette-grey-300")),Ft(ye.Chip,"defaultIconColor",Dt("palette-grey-300")),Ft(ye.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Ft(ye.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Ft(ye.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Ft(ye.LinearProgress,"primaryBg",fa(ye.primary.main,.5)),Ft(ye.LinearProgress,"secondaryBg",fa(ye.secondary.main,.5)),Ft(ye.LinearProgress,"errorBg",fa(ye.error.main,.5)),Ft(ye.LinearProgress,"infoBg",fa(ye.info.main,.5)),Ft(ye.LinearProgress,"successBg",fa(ye.success.main,.5)),Ft(ye.LinearProgress,"warningBg",fa(ye.warning.main,.5)),Ft(ye.Skeleton,"bg",`rgba(${Dt("palette-text-primaryChannel")} / 0.13)`),Ft(ye.Slider,"primaryTrack",fa(ye.primary.main,.5)),Ft(ye.Slider,"secondaryTrack",fa(ye.secondary.main,.5)),Ft(ye.Slider,"errorTrack",fa(ye.error.main,.5)),Ft(ye.Slider,"infoTrack",fa(ye.info.main,.5)),Ft(ye.Slider,"successTrack",fa(ye.success.main,.5)),Ft(ye.Slider,"warningTrack",fa(ye.warning.main,.5));const Mt=um(ye.background.default,.98);Ft(ye.SnackbarContent,"bg",Mt),Ft(ye.SnackbarContent,"color",Ih(()=>ye.getContrastText(Mt))),Ft(ye.SpeedDialAction,"fabHoverBg",um(ye.background.paper,.15)),Ft(ye.StepConnector,"border",Dt("palette-grey-600")),Ft(ye.StepContent,"border",Dt("palette-grey-600")),Ft(ye.Switch,"defaultColor",Dt("palette-grey-300")),Ft(ye.Switch,"defaultDisabledColor",Dt("palette-grey-600")),Ft(ye.Switch,"primaryDisabledColor",fa(ye.primary.main,.55)),Ft(ye.Switch,"secondaryDisabledColor",fa(ye.secondary.main,.55)),Ft(ye.Switch,"errorDisabledColor",fa(ye.error.main,.55)),Ft(ye.Switch,"infoDisabledColor",fa(ye.info.main,.55)),Ft(ye.Switch,"successDisabledColor",fa(ye.success.main,.55)),Ft(ye.Switch,"warningDisabledColor",fa(ye.warning.main,.55)),Ft(ye.TableCell,"border",fa(lm(ye.divider,1),.68)),Ft(ye.Tooltip,"bg",lm(ye.grey[700],.92))}lp(ye.background,"default"),lp(ye.background,"paper"),lp(ye.common,"background"),lp(ye.common,"onBackground"),lp(ye,"divider"),Object.keys(ye).forEach(Mt=>{const Wt=ye[Mt];Mt!=="tonalOffset"&&Wt&&typeof Wt=="object"&&(Wt.main&&Ft(ye[Mt],"mainChannel",ig(ag(Wt.main))),Wt.light&&Ft(ye[Mt],"lightChannel",ig(ag(Wt.light))),Wt.dark&&Ft(ye[Mt],"darkChannel",ig(ag(Wt.dark))),Wt.contrastText&&Ft(ye[Mt],"contrastTextChannel",ig(ag(Wt.contrastText))),Mt==="text"&&(lp(ye[Mt],"primary"),lp(ye[Mt],"secondary")),Mt==="action"&&(Wt.active&&lp(ye[Mt],"active"),Wt.selected&&lp(ye[Mt],"selected")))})}),Me=p.reduce((Jt,ye)=>e0(Jt,ye),Me);const Ge={prefix:E,disableCssColorScheme:C,shouldSkipGeneratingVar:A,getSelector:LP(Me)},{vars:je,generateThemeVars:ot,generateStyleSheets:Pt}=uP(Me,Ge);return Me.vars=je,Object.entries(Me.colorSchemes[Me.defaultColorScheme]).forEach(([Jt,ye])=>{Me[Jt]=ye}),Me.generateThemeVars=ot,Me.generateStyleSheets=Pt,Me.generateSpacing=function(){return mb(q.spacing,t_(this))},Me.getColorSchemeSelector=cP(l),Me.spacing=Me.generateSpacing(),Me.shouldSkipGeneratingVar=A,Me.unstable_sxConfig={...Ag,...q==null?void 0:q.unstable_sxConfig},Me.unstable_sx=function(ye){return _f({sx:ye,theme:this})},Me.toRuntimeSource=Db,Me}function i2(o,p,d){o.colorSchemes&&d&&(o.colorSchemes[p]={...d!==!0&&d,palette:g_({...d===!0?{}:d.palette,mode:p})})}function $P(o={},...p){const{palette:d,cssVariables:w=!1,colorSchemes:C=d?void 0:{light:!0},defaultColorScheme:E=d==null?void 0:d.mode,...A}=o,l=E||"light",V=C==null?void 0:C[l],q={...C,...d?{[l]:{...typeof V!="boolean"&&V,palette:d}}:void 0};if(w===!1){if(!("colorSchemes"in o))return S1(o,...p);let ue=d;"palette"in o||q[l]&&(q[l]!==!0?ue=q[l].palette:l==="dark"&&(ue={mode:"dark"}));const te=S1({...o,palette:ue},...p);return te.defaultColorScheme=l,te.colorSchemes=q,te.palette.mode==="light"&&(te.colorSchemes.light={...q.light!==!0&&q.light,palette:te.palette},i2(te,"dark",q.dark)),te.palette.mode==="dark"&&(te.colorSchemes.dark={...q.dark!==!0&&q.dark,palette:te.palette},i2(te,"light",q.light)),te}return!d&&!("light"in q)&&l==="light"&&(q.light=!0),NP({...A,colorSchemes:q,defaultColorScheme:l,...typeof w!="boolean"&&w},...p)}const m_=$P(),y_="$$material";function __(){const o=yb(m_);return o[y_]||o}function jP(o){return Yt.jsx(LM,{...o,defaultTheme:m_,themeId:y_})}function Ab(o){return o!=="ownerState"&&o!=="theme"&&o!=="sx"&&o!=="as"}const K0=o=>Ab(o)&&o!=="classes",mr=VM({themeId:y_,defaultTheme:m_,rootShouldForwardProp:K0});function VP(o){return function(d){return Yt.jsx(jP,{styles:typeof o=="function"?w=>o({theme:w,...d}):o})}}function ZP(){return ST}const ts=aP;function WP(o){return typeof o.main=="string"}function HP(o,p=[]){if(!WP(o))return!1;for(const d of p)if(!o.hasOwnProperty(d)||typeof o[d]!="string")return!1;return!0}function Rd(o=[]){return([,p])=>p&&HP(p,o)}function Mo(o){return iP(o)}function qP(o){return za("MuiFormLabel",o)}const pg=ta("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),KP=o=>{const{classes:p,color:d,focused:w,disabled:C,error:E,filled:A,required:l}=o,V={root:["root",`color${ea(d)}`,C&&"disabled",E&&"error",A&&"filled",w&&"focused",l&&"required"],asterisk:["asterisk",E&&"error"]};return Ua(V,qP,p)},XP=mr("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(o,p)=>{const{ownerState:d}=o;return[p.root,d.color==="secondary"&&p.colorSecondary,d.filled&&p.filled]}})(ts(({theme:o})=>({color:(o.vars||o).palette.text.secondary,...o.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(o.palette).filter(Rd()).map(([p])=>({props:{color:p},style:{[`&.${pg.focused}`]:{color:(o.vars||o).palette[p].main}}})),{props:{},style:{[`&.${pg.disabled}`]:{color:(o.vars||o).palette.text.disabled},[`&.${pg.error}`]:{color:(o.vars||o).palette.error.main}}}]}))),YP=mr("span",{name:"MuiFormLabel",slot:"Asterisk"})(ts(({theme:o})=>({[`&.${pg.error}`]:{color:(o.vars||o).palette.error.main}}))),Sb=Ke.forwardRef(function(p,d){const w=Mo({props:p,name:"MuiFormLabel"}),{children:C,className:E,color:A,component:l="label",disabled:V,error:q,filled:ue,focused:te,required:ce,...oe}=w,de=mp(),xe=zd({props:w,muiFormControl:de,states:["color","required","focused","disabled","error","filled"]}),Pe={...w,color:xe.color||"primary",component:l,disabled:xe.disabled,error:xe.error,filled:xe.filled,focused:xe.focused,required:xe.required},He=KP(Pe);return Yt.jsxs(XP,{as:l,ownerState:Pe,className:Kr(He.root,E),ref:d,...oe,children:[C,xe.required&&Yt.jsxs(YP,{ownerState:Pe,"aria-hidden":!0,className:He.asterisk,children:["","*"]})]})});function QP(o){return za("MuiInputLabel",o)}ta("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const JP=o=>{const{classes:p,formControl:d,size:w,shrink:C,disableAnimation:E,variant:A,required:l}=o,V={root:["root",d&&"formControl",!E&&"animated",C&&"shrink",w&&w!=="medium"&&`size${ea(w)}`,A],asterisk:[l&&"asterisk"]},q=Ua(V,QP,p);return{...p,...q}},eE=mr(Sb,{shouldForwardProp:o=>K0(o)||o==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(o,p)=>{const{ownerState:d}=o;return[{[`& .${pg.asterisk}`]:p.asterisk},p.root,d.formControl&&p.formControl,d.size==="small"&&p.sizeSmall,d.shrink&&p.shrink,!d.disableAnimation&&p.animated,d.focused&&p.focused,p[d.variant]]}})(ts(({theme:o})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:p})=>p.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:p})=>p.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:p})=>!p.disableAnimation,style:{transition:o.transitions.create(["color","transform","max-width"],{duration:o.transitions.duration.shorter,easing:o.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:p,ownerState:d})=>p==="filled"&&d.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:p,ownerState:d,size:w})=>p==="filled"&&d.shrink&&w==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:p,ownerState:d})=>p==="outlined"&&d.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),tE=Ke.forwardRef(function(p,d){const w=Mo({name:"MuiInputLabel",props:p}),{disableAnimation:C=!1,margin:E,shrink:A,variant:l,className:V,...q}=w,ue=mp();let te=A;typeof te>"u"&&ue&&(te=ue.filled||ue.focused||ue.adornedStart);const ce=zd({props:w,muiFormControl:ue,states:["size","variant","required","focused"]}),oe={...w,disableAnimation:C,formControl:ue,shrink:te,size:ce.size,variant:ce.variant,required:ce.required,focused:ce.focused},de=JP(oe);return Yt.jsx(eE,{"data-shrink":te,ref:d,className:Kr(de.root,V),...q,ownerState:oe,classes:de})}),M1=Ke.createContext({});function a2(o){try{return o.matches(":focus-visible")}catch{}return!1}function t0(...o){const p=Ke.useRef(void 0),d=Ke.useCallback(w=>{const C=o.map(E=>{if(E==null)return null;if(typeof E=="function"){const A=E,l=A(w);return typeof l=="function"?l:()=>{A(null)}}return E.current=w,()=>{E.current=null}});return()=>{C.forEach(E=>E==null?void 0:E())}},o);return Ke.useMemo(()=>o.every(w=>w==null)?null:w=>{p.current&&(p.current(),p.current=void 0),w!=null&&(p.current=d(w))},o)}function kd(o){const p=Ke.useRef(o);return Xp(()=>{p.current=o}),Ke.useRef((...d)=>(0,p.current)(...d)).current}const o2={};function Tb(o,p){const d=Ke.useRef(o2);return d.current===o2&&(d.current=o(p)),d}class Pm{constructor(){Wf(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new Pm}static use(){const p=Tb(Pm.create).current,[d,w]=Ke.useState(!1);return p.shouldMount=d,p.setShouldMount=w,Ke.useEffect(p.mountEffect,[d]),p}mount(){return this.mounted||(this.mounted=rE(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...p){this.mount().then(()=>{var d;return(d=this.ref.current)==null?void 0:d.start(...p)})}stop(...p){this.mount().then(()=>{var d;return(d=this.ref.current)==null?void 0:d.stop(...p)})}pulsate(...p){this.mount().then(()=>{var d;return(d=this.ref.current)==null?void 0:d.pulsate(...p)})}}function nE(){return Pm.use()}function rE(){let o,p;const d=new Promise((w,C)=>{o=w,p=C});return d.resolve=o,d.reject=p,d}function Mb(o,p){if(o==null)return{};var d={};for(var w in o)if({}.hasOwnProperty.call(o,w)){if(p.indexOf(w)!==-1)continue;d[w]=o[w]}return d}function P1(o,p){return P1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,w){return d.__proto__=w,d},P1(o,p)}function Pb(o,p){o.prototype=Object.create(p.prototype),o.prototype.constructor=o,P1(o,p)}var Eb=B2();const cm=zm(Eb),s2={disabled:!1},Em=al.createContext(null);var iE=function(p){return p.scrollTop},og="unmounted",Td="exited",Md="entering",ff="entered",E1="exiting",kh=function(o){Pb(p,o);function p(w,C){var E;E=o.call(this,w,C)||this;var A=C,l=A&&!A.isMounting?w.enter:w.appear,V;return E.appearStatus=null,w.in?l?(V=Td,E.appearStatus=Md):V=ff:w.unmountOnExit||w.mountOnEnter?V=og:V=Td,E.state={status:V},E.nextCallback=null,E}p.getDerivedStateFromProps=function(C,E){var A=C.in;return A&&E.status===og?{status:Td}:null};var d=p.prototype;return d.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},d.componentDidUpdate=function(C){var E=null;if(C!==this.props){var A=this.state.status;this.props.in?A!==Md&&A!==ff&&(E=Md):(A===Md||A===ff)&&(E=E1)}this.updateStatus(!1,E)},d.componentWillUnmount=function(){this.cancelNextCallback()},d.getTimeouts=function(){var C=this.props.timeout,E,A,l;return E=A=l=C,C!=null&&typeof C!="number"&&(E=C.exit,A=C.enter,l=C.appear!==void 0?C.appear:A),{exit:E,enter:A,appear:l}},d.updateStatus=function(C,E){if(C===void 0&&(C=!1),E!==null)if(this.cancelNextCallback(),E===Md){if(this.props.unmountOnExit||this.props.mountOnEnter){var A=this.props.nodeRef?this.props.nodeRef.current:cm.findDOMNode(this);A&&iE(A)}this.performEnter(C)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Td&&this.setState({status:og})},d.performEnter=function(C){var E=this,A=this.props.enter,l=this.context?this.context.isMounting:C,V=this.props.nodeRef?[l]:[cm.findDOMNode(this),l],q=V[0],ue=V[1],te=this.getTimeouts(),ce=l?te.appear:te.enter;if(!C&&!A||s2.disabled){this.safeSetState({status:ff},function(){E.props.onEntered(q)});return}this.props.onEnter(q,ue),this.safeSetState({status:Md},function(){E.props.onEntering(q,ue),E.onTransitionEnd(ce,function(){E.safeSetState({status:ff},function(){E.props.onEntered(q,ue)})})})},d.performExit=function(){var C=this,E=this.props.exit,A=this.getTimeouts(),l=this.props.nodeRef?void 0:cm.findDOMNode(this);if(!E||s2.disabled){this.safeSetState({status:Td},function(){C.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:E1},function(){C.props.onExiting(l),C.onTransitionEnd(A.exit,function(){C.safeSetState({status:Td},function(){C.props.onExited(l)})})})},d.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},d.safeSetState=function(C,E){E=this.setNextCallback(E),this.setState(C,E)},d.setNextCallback=function(C){var E=this,A=!0;return this.nextCallback=function(l){A&&(A=!1,E.nextCallback=null,C(l))},this.nextCallback.cancel=function(){A=!1},this.nextCallback},d.onTransitionEnd=function(C,E){this.setNextCallback(E);var A=this.props.nodeRef?this.props.nodeRef.current:cm.findDOMNode(this),l=C==null&&!this.props.addEndListener;if(!A||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var V=this.props.nodeRef?[this.nextCallback]:[A,this.nextCallback],q=V[0],ue=V[1];this.props.addEndListener(q,ue)}C!=null&&setTimeout(this.nextCallback,C)},d.render=function(){var C=this.state.status;if(C===og)return null;var E=this.props,A=E.children;E.in,E.mountOnEnter,E.unmountOnExit,E.appear,E.enter,E.exit,E.timeout,E.addEndListener,E.onEnter,E.onEntering,E.onEntered,E.onExit,E.onExiting,E.onExited,E.nodeRef;var l=Mb(E,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return al.createElement(Em.Provider,{value:null},typeof A=="function"?A(C,l):al.cloneElement(al.Children.only(A),l))},p}(al.Component);kh.contextType=Em;kh.propTypes={};function pf(){}kh.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:pf,onEntering:pf,onEntered:pf,onExit:pf,onExiting:pf,onExited:pf};kh.UNMOUNTED=og;kh.EXITED=Td;kh.ENTERING=Md;kh.ENTERED=ff;kh.EXITING=E1;function aE(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function v_(o,p){var d=function(E){return p&&Ke.isValidElement(E)?p(E):E},w=Object.create(null);return o&&Ke.Children.map(o,function(C){return C}).forEach(function(C){w[C.key]=d(C)}),w}function oE(o,p){o=o||{},p=p||{};function d(ue){return ue in p?p[ue]:o[ue]}var w=Object.create(null),C=[];for(var E in o)E in p?C.length&&(w[E]=C,C=[]):C.push(E);var A,l={};for(var V in p){if(w[V])for(A=0;A<w[V].length;A++){var q=w[V][A];l[w[V][A]]=d(q)}l[V]=d(V)}for(A=0;A<C.length;A++)l[C[A]]=d(C[A]);return l}function Pd(o,p,d){return d[p]!=null?d[p]:o.props[p]}function sE(o,p){return v_(o.children,function(d){return Ke.cloneElement(d,{onExited:p.bind(null,d),in:!0,appear:Pd(d,"appear",o),enter:Pd(d,"enter",o),exit:Pd(d,"exit",o)})})}function lE(o,p,d){var w=v_(o.children),C=oE(p,w);return Object.keys(C).forEach(function(E){var A=C[E];if(Ke.isValidElement(A)){var l=E in p,V=E in w,q=p[E],ue=Ke.isValidElement(q)&&!q.props.in;V&&(!l||ue)?C[E]=Ke.cloneElement(A,{onExited:d.bind(null,A),in:!0,exit:Pd(A,"exit",o),enter:Pd(A,"enter",o)}):!V&&l&&!ue?C[E]=Ke.cloneElement(A,{in:!1}):V&&l&&Ke.isValidElement(q)&&(C[E]=Ke.cloneElement(A,{onExited:d.bind(null,A),in:q.props.in,exit:Pd(A,"exit",o),enter:Pd(A,"enter",o)}))}}),C}var uE=Object.values||function(o){return Object.keys(o).map(function(p){return o[p]})},cE={component:"div",childFactory:function(p){return p}},x_=function(o){Pb(p,o);function p(w,C){var E;E=o.call(this,w,C)||this;var A=E.handleExited.bind(aE(E));return E.state={contextValue:{isMounting:!0},handleExited:A,firstRender:!0},E}var d=p.prototype;return d.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},d.componentWillUnmount=function(){this.mounted=!1},p.getDerivedStateFromProps=function(C,E){var A=E.children,l=E.handleExited,V=E.firstRender;return{children:V?sE(C,l):lE(C,A,l),firstRender:!1}},d.handleExited=function(C,E){var A=v_(this.props.children);C.key in A||(C.props.onExited&&C.props.onExited(E),this.mounted&&this.setState(function(l){var V=Tm({},l.children);return delete V[C.key],{children:V}}))},d.render=function(){var C=this.props,E=C.component,A=C.childFactory,l=Mb(C,["component","childFactory"]),V=this.state.contextValue,q=uE(this.state.children).map(A);return delete l.appear,delete l.enter,delete l.exit,E===null?al.createElement(Em.Provider,{value:V},q):al.createElement(Em.Provider,{value:V},al.createElement(E,l,q))},p}(al.Component);x_.propTypes={};x_.defaultProps=cE;const hE=[];function pE(o){Ke.useEffect(o,hE)}class b_{constructor(){Wf(this,"currentId",null);Wf(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});Wf(this,"disposeEffect",()=>this.clear)}static create(){return new b_}start(p,d){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,d()},p)}}function kb(){const o=Tb(b_.create).current;return pE(o.disposeEffect),o}function dE(o){const{className:p,classes:d,pulsate:w=!1,rippleX:C,rippleY:E,rippleSize:A,in:l,onExited:V,timeout:q}=o,[ue,te]=Ke.useState(!1),ce=Kr(p,d.ripple,d.rippleVisible,w&&d.ripplePulsate),oe={width:A,height:A,top:-(A/2)+E,left:-(A/2)+C},de=Kr(d.child,ue&&d.childLeaving,w&&d.childPulsate);return!l&&!ue&&te(!0),Ke.useEffect(()=>{if(!l&&V!=null){const xe=setTimeout(V,q);return()=>{clearTimeout(xe)}}},[V,l,q]),Yt.jsx("span",{className:ce,style:oe,children:Yt.jsx("span",{className:de})})}const cc=ta("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),k1=550,fE=80,gE=c_`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,mE=c_`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,yE=c_`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,_E=mr("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),vE=mr(dE,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${cc.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${gE};
    animation-duration: ${k1}ms;
    animation-timing-function: ${({theme:o})=>o.transitions.easing.easeInOut};
  }

  &.${cc.ripplePulsate} {
    animation-duration: ${({theme:o})=>o.transitions.duration.shorter}ms;
  }

  & .${cc.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${cc.childLeaving} {
    opacity: 0;
    animation-name: ${mE};
    animation-duration: ${k1}ms;
    animation-timing-function: ${({theme:o})=>o.transitions.easing.easeInOut};
  }

  & .${cc.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${yE};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:o})=>o.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,xE=Ke.forwardRef(function(p,d){const w=Mo({props:p,name:"MuiTouchRipple"}),{center:C=!1,classes:E={},className:A,...l}=w,[V,q]=Ke.useState([]),ue=Ke.useRef(0),te=Ke.useRef(null);Ke.useEffect(()=>{te.current&&(te.current(),te.current=null)},[V]);const ce=Ke.useRef(!1),oe=kb(),de=Ke.useRef(null),xe=Ke.useRef(null),Pe=Ke.useCallback(Me=>{const{pulsate:Ge,rippleX:je,rippleY:ot,rippleSize:Pt,cb:Jt}=Me;q(ye=>[...ye,Yt.jsx(vE,{classes:{ripple:Kr(E.ripple,cc.ripple),rippleVisible:Kr(E.rippleVisible,cc.rippleVisible),ripplePulsate:Kr(E.ripplePulsate,cc.ripplePulsate),child:Kr(E.child,cc.child),childLeaving:Kr(E.childLeaving,cc.childLeaving),childPulsate:Kr(E.childPulsate,cc.childPulsate)},timeout:k1,pulsate:Ge,rippleX:je,rippleY:ot,rippleSize:Pt},ue.current)]),ue.current+=1,te.current=Jt},[E]),He=Ke.useCallback((Me={},Ge={},je=()=>{})=>{const{pulsate:ot=!1,center:Pt=C||Ge.pulsate,fakeElement:Jt=!1}=Ge;if((Me==null?void 0:Me.type)==="mousedown"&&ce.current){ce.current=!1;return}(Me==null?void 0:Me.type)==="touchstart"&&(ce.current=!0);const ye=Jt?null:xe.current,Dt=ye?ye.getBoundingClientRect():{width:0,height:0,left:0,top:0};let Mt,Wt,Vt;if(Pt||Me===void 0||Me.clientX===0&&Me.clientY===0||!Me.clientX&&!Me.touches)Mt=Math.round(Dt.width/2),Wt=Math.round(Dt.height/2);else{const{clientX:Nt,clientY:$t}=Me.touches&&Me.touches.length>0?Me.touches[0]:Me;Mt=Math.round(Nt-Dt.left),Wt=Math.round($t-Dt.top)}if(Pt)Vt=Math.sqrt((2*Dt.width**2+Dt.height**2)/3),Vt%2===0&&(Vt+=1);else{const Nt=Math.max(Math.abs((ye?ye.clientWidth:0)-Mt),Mt)*2+2,$t=Math.max(Math.abs((ye?ye.clientHeight:0)-Wt),Wt)*2+2;Vt=Math.sqrt(Nt**2+$t**2)}Me!=null&&Me.touches?de.current===null&&(de.current=()=>{Pe({pulsate:ot,rippleX:Mt,rippleY:Wt,rippleSize:Vt,cb:je})},oe.start(fE,()=>{de.current&&(de.current(),de.current=null)})):Pe({pulsate:ot,rippleX:Mt,rippleY:Wt,rippleSize:Vt,cb:je})},[C,Pe,oe]),rt=Ke.useCallback(()=>{He({},{pulsate:!0})},[He]),ze=Ke.useCallback((Me,Ge)=>{if(oe.clear(),(Me==null?void 0:Me.type)==="touchend"&&de.current){de.current(),de.current=null,oe.start(0,()=>{ze(Me,Ge)});return}de.current=null,q(je=>je.length>0?je.slice(1):je),te.current=Ge},[oe]);return Ke.useImperativeHandle(d,()=>({pulsate:rt,start:He,stop:ze}),[rt,He,ze]),Yt.jsx(_E,{className:Kr(cc.root,E.root,A),ref:xe,...l,children:Yt.jsx(x_,{component:null,exit:!0,children:V})})});function bE(o){return za("MuiButtonBase",o)}const wE=ta("MuiButtonBase",["root","disabled","focusVisible"]),DE=o=>{const{disabled:p,focusVisible:d,focusVisibleClassName:w,classes:C}=o,A=Ua({root:["root",p&&"disabled",d&&"focusVisible"]},bE,C);return d&&w&&(A.root+=` ${w}`),A},CE=mr("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${wE.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Rb=Ke.forwardRef(function(p,d){const w=Mo({props:p,name:"MuiButtonBase"}),{action:C,centerRipple:E=!1,children:A,className:l,component:V="button",disabled:q=!1,disableRipple:ue=!1,disableTouchRipple:te=!1,focusRipple:ce=!1,focusVisibleClassName:oe,LinkComponent:de="a",onBlur:xe,onClick:Pe,onContextMenu:He,onDragLeave:rt,onFocus:ze,onFocusVisible:Me,onKeyDown:Ge,onKeyUp:je,onMouseDown:ot,onMouseLeave:Pt,onMouseUp:Jt,onTouchEnd:ye,onTouchMove:Dt,onTouchStart:Mt,tabIndex:Wt=0,TouchRippleProps:Vt,touchRippleRef:Nt,type:$t,...dn}=w,yt=Ke.useRef(null),mt=nE(),Ot=t0(mt.ref,Nt),[We,St]=Ke.useState(!1);q&&We&&St(!1),Ke.useImperativeHandle(C,()=>({focusVisible:()=>{St(!0),yt.current.focus()}}),[]);const mn=mt.shouldMount&&!ue&&!q;Ke.useEffect(()=>{We&&ce&&!ue&&mt.pulsate()},[ue,ce,We,mt]);const cn=up(mt,"start",ot,te),kt=up(mt,"stop",He,te),gn=up(mt,"stop",rt,te),wn=up(mt,"stop",Jt,te),Fn=up(mt,"stop",Dn=>{We&&Dn.preventDefault(),Pt&&Pt(Dn)},te),Rn=up(mt,"start",Mt,te),An=up(mt,"stop",ye,te),Nn=up(mt,"stop",Dt,te),Kn=up(mt,"stop",Dn=>{a2(Dn.target)||St(!1),xe&&xe(Dn)},!1),Hn=kd(Dn=>{yt.current||(yt.current=Dn.currentTarget),a2(Dn.target)&&(St(!0),Me&&Me(Dn)),ze&&ze(Dn)}),yn=()=>{const Dn=yt.current;return V&&V!=="button"&&!(Dn.tagName==="A"&&Dn.href)},yr=kd(Dn=>{ce&&!Dn.repeat&&We&&Dn.key===" "&&mt.stop(Dn,()=>{mt.start(Dn)}),Dn.target===Dn.currentTarget&&yn()&&Dn.key===" "&&Dn.preventDefault(),Ge&&Ge(Dn),Dn.target===Dn.currentTarget&&yn()&&Dn.key==="Enter"&&!q&&(Dn.preventDefault(),Pe&&Pe(Dn))}),fi=kd(Dn=>{ce&&Dn.key===" "&&We&&!Dn.defaultPrevented&&mt.stop(Dn,()=>{mt.pulsate(Dn)}),je&&je(Dn),Pe&&Dn.target===Dn.currentTarget&&yn()&&Dn.key===" "&&!Dn.defaultPrevented&&Pe(Dn)});let Ir=V;Ir==="button"&&(dn.href||dn.to)&&(Ir=de);const Xr={};Ir==="button"?(Xr.type=$t===void 0?"button":$t,Xr.disabled=q):(!dn.href&&!dn.to&&(Xr.role="button"),q&&(Xr["aria-disabled"]=q));const Gi=t0(d,yt),vr={...w,centerRipple:E,component:V,disabled:q,disableRipple:ue,disableTouchRipple:te,focusRipple:ce,tabIndex:Wt,focusVisible:We},lr=DE(vr);return Yt.jsxs(CE,{as:Ir,className:Kr(lr.root,l),ownerState:vr,onBlur:Kn,onClick:Pe,onContextMenu:kt,onFocus:Hn,onKeyDown:yr,onKeyUp:fi,onMouseDown:cn,onMouseLeave:Fn,onMouseUp:wn,onDragLeave:gn,onTouchEnd:An,onTouchMove:Nn,onTouchStart:Rn,ref:Gi,tabIndex:q?-1:Wt,type:$t,...Xr,...dn,children:[A,mn?Yt.jsx(xE,{ref:Ot,center:E,...Vt}):null]})});function up(o,p,d,w=!1){return kd(C=>(d&&d(C),w||o[p](C),!0))}const l2=ta("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),u2=ta("MuiListItemIcon",["root","alignItemsFlexStart"]);function IE(o){return za("MuiTypography",o)}ta("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const AE={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},SE=ZP(),TE=o=>{const{align:p,gutterBottom:d,noWrap:w,paragraph:C,variant:E,classes:A}=o,l={root:["root",E,o.align!=="inherit"&&`align${ea(p)}`,d&&"gutterBottom",w&&"noWrap",C&&"paragraph"]};return Ua(l,IE,A)},ME=mr("span",{name:"MuiTypography",slot:"Root",overridesResolver:(o,p)=>{const{ownerState:d}=o;return[p.root,d.variant&&p[d.variant],d.align!=="inherit"&&p[`align${ea(d.align)}`],d.noWrap&&p.noWrap,d.gutterBottom&&p.gutterBottom,d.paragraph&&p.paragraph]}})(ts(({theme:o})=>{var p;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(o.typography).filter(([d,w])=>d!=="inherit"&&w&&typeof w=="object").map(([d,w])=>({props:{variant:d},style:w})),...Object.entries(o.palette).filter(Rd()).map(([d])=>({props:{color:d},style:{color:(o.vars||o).palette[d].main}})),...Object.entries(((p=o.palette)==null?void 0:p.text)||{}).filter(([,d])=>typeof d=="string").map(([d])=>({props:{color:`text${ea(d)}`},style:{color:(o.vars||o).palette.text[d]}})),{props:({ownerState:d})=>d.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:d})=>d.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:d})=>d.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:d})=>d.paragraph,style:{marginBottom:16}}]}})),c2={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},h2=Ke.forwardRef(function(p,d){const{color:w,...C}=Mo({props:p,name:"MuiTypography"}),E=!AE[w],A=SE({...C,...E&&{color:w}}),{align:l="inherit",className:V,component:q,gutterBottom:ue=!1,noWrap:te=!1,paragraph:ce=!1,variant:oe="body1",variantMapping:de=c2,...xe}=A,Pe={...A,align:l,color:w,className:V,component:q,gutterBottom:ue,noWrap:te,paragraph:ce,variant:oe,variantMapping:de},He=q||(ce?"p":de[oe]||c2[oe])||"span",rt=TE(Pe);return Yt.jsx(ME,{as:He,ref:d,className:Kr(rt.root,V),...xe,ownerState:Pe,style:{...l!=="inherit"&&{"--Typography-textAlign":l},...xe.style}})}),p2=ta("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function PE(o){return typeof o=="string"}function Ub(o,p,d){return o===void 0||PE(o)?p:{...p,ownerState:{...p.ownerState,...d}}}function zb(o,p,d){return typeof o=="function"?o(p,d):o}function Gb(o,p=[]){if(o===void 0)return{};const d={};return Object.keys(o).filter(w=>w.match(/^on[A-Z]/)&&typeof o[w]=="function"&&!p.includes(w)).forEach(w=>{d[w]=o[w]}),d}function d2(o){if(o===void 0)return{};const p={};return Object.keys(o).filter(d=>!(d.match(/^on[A-Z]/)&&typeof o[d]=="function")).forEach(d=>{p[d]=o[d]}),p}function Lb(o){const{getSlotProps:p,additionalProps:d,externalSlotProps:w,externalForwardedProps:C,className:E}=o;if(!p){const oe=Kr(d==null?void 0:d.className,E,C==null?void 0:C.className,w==null?void 0:w.className),de={...d==null?void 0:d.style,...C==null?void 0:C.style,...w==null?void 0:w.style},xe={...d,...C,...w};return oe.length>0&&(xe.className=oe),Object.keys(de).length>0&&(xe.style=de),{props:xe,internalRef:void 0}}const A=Gb({...C,...w}),l=d2(w),V=d2(C),q=p(A),ue=Kr(q==null?void 0:q.className,d==null?void 0:d.className,E,C==null?void 0:C.className,w==null?void 0:w.className),te={...q==null?void 0:q.style,...d==null?void 0:d.style,...C==null?void 0:C.style,...w==null?void 0:w.style},ce={...q,...d,...V,...l};return ue.length>0&&(ce.className=ue),Object.keys(te).length>0&&(ce.style=te),{props:ce,internalRef:q.ref}}function H0(o,p){const{className:d,elementType:w,ownerState:C,externalForwardedProps:E,internalForwardedProps:A,shouldForwardComponentProp:l=!1,...V}=p,{component:q,slots:ue={[o]:void 0},slotProps:te={[o]:void 0},...ce}=E,oe=ue[o]||w,de=zb(te[o],C),{props:{component:xe,...Pe},internalRef:He}=Lb({className:d,...V,externalForwardedProps:o==="root"?ce:void 0,externalSlotProps:de}),rt=t0(He,de==null?void 0:de.ref,p.ref),ze=o==="root"?xe||q:xe,Me=Ub(oe,{...o==="root"&&!q&&!ue[o]&&A,...o!=="root"&&!ue[o]&&A,...Pe,...ze&&!l&&{as:ze},...ze&&l&&{component:ze},ref:rt},C);return[oe,Me]}function EE(o){return za("MuiMenuItem",o)}const Jf=ta("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),kE=(o,p)=>{const{ownerState:d}=o;return[p.root,d.dense&&p.dense,d.divider&&p.divider,!d.disableGutters&&p.gutters]},RE=o=>{const{disabled:p,dense:d,divider:w,disableGutters:C,selected:E,classes:A}=o,V=Ua({root:["root",d&&"dense",p&&"disabled",!C&&"gutters",w&&"divider",E&&"selected"]},EE,A);return{...A,...V}},UE=mr(Rb,{shouldForwardProp:o=>K0(o)||o==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:kE})(ts(({theme:o})=>({...o.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(o.vars||o).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Jf.selected}`]:{backgroundColor:o.vars?`rgba(${o.vars.palette.primary.mainChannel} / ${o.vars.palette.action.selectedOpacity})`:cp(o.palette.primary.main,o.palette.action.selectedOpacity),[`&.${Jf.focusVisible}`]:{backgroundColor:o.vars?`rgba(${o.vars.palette.primary.mainChannel} / calc(${o.vars.palette.action.selectedOpacity} + ${o.vars.palette.action.focusOpacity}))`:cp(o.palette.primary.main,o.palette.action.selectedOpacity+o.palette.action.focusOpacity)}},[`&.${Jf.selected}:hover`]:{backgroundColor:o.vars?`rgba(${o.vars.palette.primary.mainChannel} / calc(${o.vars.palette.action.selectedOpacity} + ${o.vars.palette.action.hoverOpacity}))`:cp(o.palette.primary.main,o.palette.action.selectedOpacity+o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:o.vars?`rgba(${o.vars.palette.primary.mainChannel} / ${o.vars.palette.action.selectedOpacity})`:cp(o.palette.primary.main,o.palette.action.selectedOpacity)}},[`&.${Jf.focusVisible}`]:{backgroundColor:(o.vars||o).palette.action.focus},[`&.${Jf.disabled}`]:{opacity:(o.vars||o).palette.action.disabledOpacity},[`& + .${l2.root}`]:{marginTop:o.spacing(1),marginBottom:o.spacing(1)},[`& + .${l2.inset}`]:{marginLeft:52},[`& .${p2.root}`]:{marginTop:0,marginBottom:0},[`& .${p2.inset}`]:{paddingLeft:36},[`& .${u2.root}`]:{minWidth:36},variants:[{props:({ownerState:p})=>!p.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:p})=>p.divider,style:{borderBottom:`1px solid ${(o.vars||o).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:p})=>!p.dense,style:{[o.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:p})=>p.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...o.typography.body2,[`& .${u2.root} svg`]:{fontSize:"1.25rem"}}}]}))),zE=Ke.forwardRef(function(p,d){const w=Mo({props:p,name:"MuiMenuItem"}),{autoFocus:C=!1,component:E="li",dense:A=!1,divider:l=!1,disableGutters:V=!1,focusVisibleClassName:q,role:ue="menuitem",tabIndex:te,className:ce,...oe}=w,de=Ke.useContext(M1),xe=Ke.useMemo(()=>({dense:A||de.dense||!1,disableGutters:V}),[de.dense,A,V]),Pe=Ke.useRef(null);Xp(()=>{C&&Pe.current&&Pe.current.focus()},[C]);const He={...w,dense:xe.dense,divider:l,disableGutters:V},rt=RE(w),ze=t0(Pe,d);let Me;return w.disabled||(Me=te!==void 0?te:-1),Yt.jsx(M1.Provider,{value:xe,children:Yt.jsx(UE,{ref:ze,role:ue,tabIndex:Me,component:E,focusVisibleClassName:Kr(rt.focusVisible,q),className:Kr(rt.root,ce),...oe,ownerState:He,classes:rt})})});function f2(o){return o!=null&&!(Array.isArray(o)&&o.length===0)}function km(o,p=!1){return o&&(f2(o.value)&&o.value!==""||p&&f2(o.defaultValue)&&o.defaultValue!=="")}function GE(o){return o.startAdornment}function LE(o){return za("MuiFormControl",o)}ta("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const BE=o=>{const{classes:p,margin:d,fullWidth:w}=o,C={root:["root",d!=="none"&&`margin${ea(d)}`,w&&"fullWidth"]};return Ua(C,LE,p)},OE=mr("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(o,p)=>{const{ownerState:d}=o;return[p.root,p[`margin${ea(d.margin)}`],d.fullWidth&&p.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),g2=Ke.forwardRef(function(p,d){const w=Mo({props:p,name:"MuiFormControl"}),{children:C,className:E,color:A="primary",component:l="div",disabled:V=!1,error:q=!1,focused:ue,fullWidth:te=!1,hiddenLabel:ce=!1,margin:oe="none",required:de=!1,size:xe="medium",variant:Pe="outlined",...He}=w,rt={...w,color:A,component:l,disabled:V,error:q,fullWidth:te,hiddenLabel:ce,margin:oe,required:de,size:xe,variant:Pe},ze=BE(rt),[Me,Ge]=Ke.useState(()=>{let Nt=!1;return C&&Ke.Children.forEach(C,$t=>{if(!Yy($t,["Input","Select"]))return;const dn=Yy($t,["Select"])?$t.props.input:$t;dn&&GE(dn.props)&&(Nt=!0)}),Nt}),[je,ot]=Ke.useState(()=>{let Nt=!1;return C&&Ke.Children.forEach(C,$t=>{Yy($t,["Input","Select"])&&(km($t.props,!0)||km($t.props.inputProps,!0))&&(Nt=!0)}),Nt}),[Pt,Jt]=Ke.useState(!1);V&&Pt&&Jt(!1);const ye=ue!==void 0&&!V?ue:Pt;let Dt;Ke.useRef(!1);const Mt=Ke.useCallback(()=>{ot(!0)},[]),Wt=Ke.useCallback(()=>{ot(!1)},[]),Vt=Ke.useMemo(()=>({adornedStart:Me,setAdornedStart:Ge,color:A,disabled:V,error:q,filled:je,focused:ye,fullWidth:te,hiddenLabel:ce,size:xe,onBlur:()=>{Jt(!1)},onFocus:()=>{Jt(!0)},onEmpty:Wt,onFilled:Mt,registerEffect:Dt,required:de,variant:Pe}),[Me,A,V,q,je,ye,te,ce,Dt,Wt,Mt,de,xe,Pe]);return Yt.jsx(Q1.Provider,{value:Vt,children:Yt.jsx(OE,{as:l,ownerState:rt,className:Kr(ze.root,E),ref:d,...He,children:C})})});function FE(o){return za("MuiFormControlLabel",o)}const sg=ta("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),NE=o=>{const{classes:p,disabled:d,labelPlacement:w,error:C,required:E}=o,A={root:["root",d&&"disabled",`labelPlacement${ea(w)}`,C&&"error",E&&"required"],label:["label",d&&"disabled"],asterisk:["asterisk",C&&"error"]};return Ua(A,FE,p)},$E=mr("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(o,p)=>{const{ownerState:d}=o;return[{[`& .${sg.label}`]:p.label},p.root,p[`labelPlacement${ea(d.labelPlacement)}`]]}})(ts(({theme:o})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${sg.disabled}`]:{cursor:"default"},[`& .${sg.label}`]:{[`&.${sg.disabled}`]:{color:(o.vars||o).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:p})=>p==="start"||p==="top"||p==="bottom",style:{marginLeft:16}}]}))),jE=mr("span",{name:"MuiFormControlLabel",slot:"Asterisk"})(ts(({theme:o})=>({[`&.${sg.error}`]:{color:(o.vars||o).palette.error.main}}))),m2=Ke.forwardRef(function(p,d){const w=Mo({props:p,name:"MuiFormControlLabel"}),{checked:C,className:E,componentsProps:A={},control:l,disabled:V,disableTypography:q,inputRef:ue,label:te,labelPlacement:ce="end",name:oe,onChange:de,required:xe,slots:Pe={},slotProps:He={},value:rt,...ze}=w,Me=mp(),Ge=V??l.props.disabled??(Me==null?void 0:Me.disabled),je=xe??l.props.required,ot={disabled:Ge,required:je};["checked","name","onChange","value","inputRef"].forEach(Nt=>{typeof l.props[Nt]>"u"&&typeof w[Nt]<"u"&&(ot[Nt]=w[Nt])});const Pt=zd({props:w,muiFormControl:Me,states:["error"]}),Jt={...w,disabled:Ge,labelPlacement:ce,required:je,error:Pt.error},ye=NE(Jt),Dt={slots:Pe,slotProps:{...A,...He}},[Mt,Wt]=H0("typography",{elementType:h2,externalForwardedProps:Dt,ownerState:Jt});let Vt=te;return Vt!=null&&Vt.type!==h2&&!q&&(Vt=Yt.jsx(Mt,{component:"span",...Wt,className:Kr(ye.label,Wt==null?void 0:Wt.className),children:Vt})),Yt.jsxs($E,{className:Kr(ye.root,E),ownerState:Jt,ref:d,...ze,children:[Ke.cloneElement(l,ot),je?Yt.jsxs("div",{children:[Vt,Yt.jsxs(jE,{ownerState:Jt,"aria-hidden":!0,className:ye.asterisk,children:["","*"]})]}):Vt]})});function Mg(o){var p;return parseInt(Ke.version,10)>=19?((p=o==null?void 0:o.props)==null?void 0:p.ref)||null:(o==null?void 0:o.ref)||null}let y2=0;function VE(o){const[p,d]=Ke.useState(o),w=o||p;return Ke.useEffect(()=>{p==null&&(y2+=1,d(`mui-${y2}`))},[p]),w}const ZE={...n1},_2=ZE.useId;function Bb(o){if(_2!==void 0){const p=_2();return o??p}return VE(o)}function Fc(o){return o&&o.ownerDocument||document}function WE(o){var te;const{elementType:p,externalSlotProps:d,ownerState:w,skipResolvingSlotProps:C=!1,...E}=o,A=C?{}:zb(d,w),{props:l,internalRef:V}=Lb({...E,externalSlotProps:A}),q=t0(V,A==null?void 0:A.ref,(te=o.additionalProps)==null?void 0:te.ref);return Ub(p,{...l,ref:q},w)}function HE(o){return za("MuiList",o)}ta("MuiList",["root","padding","dense","subheader"]);const qE=o=>{const{classes:p,disablePadding:d,dense:w,subheader:C}=o;return Ua({root:["root",!d&&"padding",w&&"dense",C&&"subheader"]},HE,p)},KE=mr("ul",{name:"MuiList",slot:"Root",overridesResolver:(o,p)=>{const{ownerState:d}=o;return[p.root,!d.disablePadding&&p.padding,d.dense&&p.dense,d.subheader&&p.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:o})=>!o.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:o})=>o.subheader,style:{paddingTop:0}}]}),XE=Ke.forwardRef(function(p,d){const w=Mo({props:p,name:"MuiList"}),{children:C,className:E,component:A="ul",dense:l=!1,disablePadding:V=!1,subheader:q,...ue}=w,te=Ke.useMemo(()=>({dense:l}),[l]),ce={...w,component:A,dense:l,disablePadding:V},oe=qE(ce);return Yt.jsx(M1.Provider,{value:te,children:Yt.jsxs(KE,{as:A,className:Kr(oe.root,E),ref:d,ownerState:ce,...ue,children:[q,C]})})});function Ob(o=window){const p=o.document.documentElement.clientWidth;return o.innerWidth-p}function R1(...o){return o.reduce((p,d)=>d==null?p:function(...C){p.apply(this,C),d.apply(this,C)},()=>{})}function YE(o){return za("MuiSvgIcon",o)}ta("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const QE=o=>{const{color:p,fontSize:d,classes:w}=o,C={root:["root",p!=="inherit"&&`color${ea(p)}`,`fontSize${ea(d)}`]};return Ua(C,YE,w)},JE=mr("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(o,p)=>{const{ownerState:d}=o;return[p.root,d.color!=="inherit"&&p[`color${ea(d.color)}`],p[`fontSize${ea(d.fontSize)}`]]}})(ts(({theme:o})=>{var p,d,w,C,E,A,l,V,q,ue,te,ce,oe,de;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(C=(p=o.transitions)==null?void 0:p.create)==null?void 0:C.call(p,"fill",{duration:(w=(d=(o.vars??o).transitions)==null?void 0:d.duration)==null?void 0:w.shorter}),variants:[{props:xe=>!xe.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((A=(E=o.typography)==null?void 0:E.pxToRem)==null?void 0:A.call(E,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((V=(l=o.typography)==null?void 0:l.pxToRem)==null?void 0:V.call(l,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((ue=(q=o.typography)==null?void 0:q.pxToRem)==null?void 0:ue.call(q,35))||"2.1875rem"}},...Object.entries((o.vars??o).palette).filter(([,xe])=>xe&&xe.main).map(([xe])=>{var Pe,He;return{props:{color:xe},style:{color:(He=(Pe=(o.vars??o).palette)==null?void 0:Pe[xe])==null?void 0:He.main}}}),{props:{color:"action"},style:{color:(ce=(te=(o.vars??o).palette)==null?void 0:te.action)==null?void 0:ce.active}},{props:{color:"disabled"},style:{color:(de=(oe=(o.vars??o).palette)==null?void 0:oe.action)==null?void 0:de.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),U1=Ke.forwardRef(function(p,d){const w=Mo({props:p,name:"MuiSvgIcon"}),{children:C,className:E,color:A="inherit",component:l="svg",fontSize:V="medium",htmlColor:q,inheritViewBox:ue=!1,titleAccess:te,viewBox:ce="0 0 24 24",...oe}=w,de=Ke.isValidElement(C)&&C.type==="svg",xe={...w,color:A,component:l,fontSize:V,instanceFontSize:p.fontSize,inheritViewBox:ue,viewBox:ce,hasSvgAsChild:de},Pe={};ue||(Pe.viewBox=ce);const He=QE(xe);return Yt.jsxs(JE,{as:l,className:Kr(He.root,E),focusable:"false",color:q,"aria-hidden":te?void 0:!0,role:te?"img":void 0,ref:d,...Pe,...oe,...de&&C.props,ownerState:xe,children:[de?C.props.children:C,te?Yt.jsx("title",{children:te}):null]})});U1.muiName="SvgIcon";function w_(o,p){function d(w,C){return Yt.jsx(U1,{"data-testid":void 0,ref:C,...w,children:o})}return d.muiName=U1.muiName,Ke.memo(Ke.forwardRef(d))}function Fb(o,p=166){let d;function w(...C){const E=()=>{o.apply(this,C)};clearTimeout(d),d=setTimeout(E,p)}return w.clear=()=>{clearTimeout(d)},w}function dp(o){return Fc(o).defaultView||window}function v2(o,p){typeof o=="function"?o(p):o&&(o.current=p)}function Rm(o){const{controlled:p,default:d,name:w,state:C="value"}=o,{current:E}=Ke.useRef(p!==void 0),[A,l]=Ke.useState(d),V=E?p:A,q=Ke.useCallback(ue=>{E||l(ue)},[]);return[V,q]}function e4(o,p){const d=o.charCodeAt(2);return o[0]==="o"&&o[1]==="n"&&d>=65&&d<=90&&typeof p=="function"}function t4(o,p){if(!o)return p;function d(A,l){const V={};return Object.keys(l).forEach(q=>{e4(q,l[q])&&typeof A[q]=="function"&&(V[q]=(...ue)=>{A[q](...ue),l[q](...ue)})}),V}if(typeof o=="function"||typeof p=="function")return A=>{const l=typeof p=="function"?p(A):p,V=typeof o=="function"?o({...A,...l}):o,q=Kr(A==null?void 0:A.className,l==null?void 0:l.className,V==null?void 0:V.className),ue=d(V,l);return{...l,...V,...ue,...!!q&&{className:q},...(l==null?void 0:l.style)&&(V==null?void 0:V.style)&&{style:{...l.style,...V.style}},...(l==null?void 0:l.sx)&&(V==null?void 0:V.sx)&&{sx:[...Array.isArray(l.sx)?l.sx:[l.sx],...Array.isArray(V.sx)?V.sx:[V.sx]]}}};const w=p,C=d(o,w),E=Kr(w==null?void 0:w.className,o==null?void 0:o.className);return{...p,...o,...C,...!!E&&{className:E},...(w==null?void 0:w.style)&&(o==null?void 0:o.style)&&{style:{...w.style,...o.style}},...(w==null?void 0:w.sx)&&(o==null?void 0:o.sx)&&{sx:[...Array.isArray(w.sx)?w.sx:[w.sx],...Array.isArray(o.sx)?o.sx:[o.sx]]}}}function Jy(o,p,d){return o===p?o.firstChild:p&&p.nextElementSibling?p.nextElementSibling:d?null:o.firstChild}function x2(o,p,d){return o===p?d?o.firstChild:o.lastChild:p&&p.previousElementSibling?p.previousElementSibling:d?null:o.lastChild}function Nb(o,p){if(p===void 0)return!0;let d=o.innerText;return d===void 0&&(d=o.textContent),d=d.trim().toLowerCase(),d.length===0?!1:p.repeating?d[0]===p.keys[0]:d.startsWith(p.keys.join(""))}function eg(o,p,d,w,C,E){let A=!1,l=C(o,p,p?d:!1);for(;l;){if(l===o.firstChild){if(A)return!1;A=!0}const V=w?!1:l.disabled||l.getAttribute("aria-disabled")==="true";if(!l.hasAttribute("tabindex")||!Nb(l,E)||V)l=C(o,l,d);else return l.focus(),!0}return!1}const n4=Ke.forwardRef(function(p,d){const{actions:w,autoFocus:C=!1,autoFocusItem:E=!1,children:A,className:l,disabledItemsFocusable:V=!1,disableListWrap:q=!1,onKeyDown:ue,variant:te="selectedMenu",...ce}=p,oe=Ke.useRef(null),de=Ke.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Xp(()=>{C&&oe.current.focus()},[C]),Ke.useImperativeHandle(w,()=>({adjustStyleForScrollbar:(ze,{direction:Me})=>{const Ge=!oe.current.style.width;if(ze.clientHeight<oe.current.clientHeight&&Ge){const je=`${Ob(dp(ze))}px`;oe.current.style[Me==="rtl"?"paddingLeft":"paddingRight"]=je,oe.current.style.width=`calc(100% + ${je})`}return oe.current}}),[]);const xe=ze=>{const Me=oe.current,Ge=ze.key;if(ze.ctrlKey||ze.metaKey||ze.altKey){ue&&ue(ze);return}const ot=Fc(Me).activeElement;if(Ge==="ArrowDown")ze.preventDefault(),eg(Me,ot,q,V,Jy);else if(Ge==="ArrowUp")ze.preventDefault(),eg(Me,ot,q,V,x2);else if(Ge==="Home")ze.preventDefault(),eg(Me,null,q,V,Jy);else if(Ge==="End")ze.preventDefault(),eg(Me,null,q,V,x2);else if(Ge.length===1){const Pt=de.current,Jt=Ge.toLowerCase(),ye=performance.now();Pt.keys.length>0&&(ye-Pt.lastTime>500?(Pt.keys=[],Pt.repeating=!0,Pt.previousKeyMatched=!0):Pt.repeating&&Jt!==Pt.keys[0]&&(Pt.repeating=!1)),Pt.lastTime=ye,Pt.keys.push(Jt);const Dt=ot&&!Pt.repeating&&Nb(ot,Pt);Pt.previousKeyMatched&&(Dt||eg(Me,ot,!1,V,Jy,Pt))?ze.preventDefault():Pt.previousKeyMatched=!1}ue&&ue(ze)},Pe=t0(oe,d);let He=-1;Ke.Children.forEach(A,(ze,Me)=>{if(!Ke.isValidElement(ze)){He===Me&&(He+=1,He>=A.length&&(He=-1));return}ze.props.disabled||(te==="selectedMenu"&&ze.props.selected||He===-1)&&(He=Me),He===Me&&(ze.props.disabled||ze.props.muiSkipListHighlight||ze.type.muiSkipListHighlight)&&(He+=1,He>=A.length&&(He=-1))});const rt=Ke.Children.map(A,(ze,Me)=>{if(Me===He){const Ge={};return E&&(Ge.autoFocus=!0),ze.props.tabIndex===void 0&&te==="selectedMenu"&&(Ge.tabIndex=0),Ke.cloneElement(ze,Ge)}return ze});return Yt.jsx(XE,{role:"menu",ref:Pe,className:l,onKeyDown:xe,tabIndex:C?0:-1,...ce,children:rt})});function z1(o){return typeof o=="string"}const $b=o=>o.scrollTop;function Um(o,p){const{timeout:d,easing:w,style:C={}}=o;return{duration:C.transitionDuration??(typeof d=="number"?d:d[p.mode]||0),easing:C.transitionTimingFunction??(typeof w=="object"?w[p.mode]:w),delay:C.transitionDelay}}function G1(o){return`scale(${o}, ${o**2})`}const r4={entering:{opacity:1,transform:G1(1)},entered:{opacity:1,transform:"none"}},e1=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),L1=Ke.forwardRef(function(p,d){const{addEndListener:w,appear:C=!0,children:E,easing:A,in:l,onEnter:V,onEntered:q,onEntering:ue,onExit:te,onExited:ce,onExiting:oe,style:de,timeout:xe="auto",TransitionComponent:Pe=kh,...He}=p,rt=kb(),ze=Ke.useRef(),Me=__(),Ge=Ke.useRef(null),je=t0(Ge,Mg(E),d),ot=Nt=>$t=>{if(Nt){const dn=Ge.current;$t===void 0?Nt(dn):Nt(dn,$t)}},Pt=ot(ue),Jt=ot((Nt,$t)=>{$b(Nt);const{duration:dn,delay:yt,easing:mt}=Um({style:de,timeout:xe,easing:A},{mode:"enter"});let Ot;xe==="auto"?(Ot=Me.transitions.getAutoHeightDuration(Nt.clientHeight),ze.current=Ot):Ot=dn,Nt.style.transition=[Me.transitions.create("opacity",{duration:Ot,delay:yt}),Me.transitions.create("transform",{duration:e1?Ot:Ot*.666,delay:yt,easing:mt})].join(","),V&&V(Nt,$t)}),ye=ot(q),Dt=ot(oe),Mt=ot(Nt=>{const{duration:$t,delay:dn,easing:yt}=Um({style:de,timeout:xe,easing:A},{mode:"exit"});let mt;xe==="auto"?(mt=Me.transitions.getAutoHeightDuration(Nt.clientHeight),ze.current=mt):mt=$t,Nt.style.transition=[Me.transitions.create("opacity",{duration:mt,delay:dn}),Me.transitions.create("transform",{duration:e1?mt:mt*.666,delay:e1?dn:dn||mt*.333,easing:yt})].join(","),Nt.style.opacity=0,Nt.style.transform=G1(.75),te&&te(Nt)}),Wt=ot(ce),Vt=Nt=>{xe==="auto"&&rt.start(ze.current||0,Nt),w&&w(Ge.current,Nt)};return Yt.jsx(Pe,{appear:C,in:l,nodeRef:Ge,onEnter:Jt,onEntered:ye,onEntering:Pt,onExit:Mt,onExited:Wt,onExiting:Dt,addEndListener:Vt,timeout:xe==="auto"?null:xe,...He,children:(Nt,{ownerState:$t,...dn})=>Ke.cloneElement(E,{style:{opacity:0,transform:G1(.75),visibility:Nt==="exited"&&!l?"hidden":void 0,...r4[Nt],...de,...E.props.style},ref:je,...dn})})});L1&&(L1.muiSupportAuto=!0);function i4(o){const p=Fc(o);return p.body===o?dp(o).innerWidth>p.documentElement.clientWidth:o.scrollHeight>o.clientHeight}function dg(o,p){p?o.setAttribute("aria-hidden","true"):o.removeAttribute("aria-hidden")}function b2(o){return parseInt(dp(o).getComputedStyle(o).paddingRight,10)||0}function a4(o){const d=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(o.tagName),w=o.tagName==="INPUT"&&o.getAttribute("type")==="hidden";return d||w}function w2(o,p,d,w,C){const E=[p,d,...w];[].forEach.call(o.children,A=>{const l=!E.includes(A),V=!a4(A);l&&V&&dg(A,C)})}function t1(o,p){let d=-1;return o.some((w,C)=>p(w)?(d=C,!0):!1),d}function o4(o,p){const d=[],w=o.container;if(!p.disableScrollLock){if(i4(w)){const A=Ob(dp(w));d.push({value:w.style.paddingRight,property:"padding-right",el:w}),w.style.paddingRight=`${b2(w)+A}px`;const l=Fc(w).querySelectorAll(".mui-fixed");[].forEach.call(l,V=>{d.push({value:V.style.paddingRight,property:"padding-right",el:V}),V.style.paddingRight=`${b2(V)+A}px`})}let E;if(w.parentNode instanceof DocumentFragment)E=Fc(w).body;else{const A=w.parentElement,l=dp(w);E=(A==null?void 0:A.nodeName)==="HTML"&&l.getComputedStyle(A).overflowY==="scroll"?A:w}d.push({value:E.style.overflow,property:"overflow",el:E},{value:E.style.overflowX,property:"overflow-x",el:E},{value:E.style.overflowY,property:"overflow-y",el:E}),E.style.overflow="hidden"}return()=>{d.forEach(({value:E,el:A,property:l})=>{E?A.style.setProperty(l,E):A.style.removeProperty(l)})}}function s4(o){const p=[];return[].forEach.call(o.children,d=>{d.getAttribute("aria-hidden")==="true"&&p.push(d)}),p}class l4{constructor(){this.modals=[],this.containers=[]}add(p,d){let w=this.modals.indexOf(p);if(w!==-1)return w;w=this.modals.length,this.modals.push(p),p.modalRef&&dg(p.modalRef,!1);const C=s4(d);w2(d,p.mount,p.modalRef,C,!0);const E=t1(this.containers,A=>A.container===d);return E!==-1?(this.containers[E].modals.push(p),w):(this.containers.push({modals:[p],container:d,restore:null,hiddenSiblings:C}),w)}mount(p,d){const w=t1(this.containers,E=>E.modals.includes(p)),C=this.containers[w];C.restore||(C.restore=o4(C,d))}remove(p,d=!0){const w=this.modals.indexOf(p);if(w===-1)return w;const C=t1(this.containers,A=>A.modals.includes(p)),E=this.containers[C];if(E.modals.splice(E.modals.indexOf(p),1),this.modals.splice(w,1),E.modals.length===0)E.restore&&E.restore(),p.modalRef&&dg(p.modalRef,d),w2(E.container,p.mount,p.modalRef,E.hiddenSiblings,!1),this.containers.splice(C,1);else{const A=E.modals[E.modals.length-1];A.modalRef&&dg(A.modalRef,!1)}return w}isTopModal(p){return this.modals.length>0&&this.modals[this.modals.length-1]===p}}const u4=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function c4(o){const p=parseInt(o.getAttribute("tabindex")||"",10);return Number.isNaN(p)?o.contentEditable==="true"||(o.nodeName==="AUDIO"||o.nodeName==="VIDEO"||o.nodeName==="DETAILS")&&o.getAttribute("tabindex")===null?0:o.tabIndex:p}function h4(o){if(o.tagName!=="INPUT"||o.type!=="radio"||!o.name)return!1;const p=w=>o.ownerDocument.querySelector(`input[type="radio"]${w}`);let d=p(`[name="${o.name}"]:checked`);return d||(d=p(`[name="${o.name}"]`)),d!==o}function p4(o){return!(o.disabled||o.tagName==="INPUT"&&o.type==="hidden"||h4(o))}function d4(o){const p=[],d=[];return Array.from(o.querySelectorAll(u4)).forEach((w,C)=>{const E=c4(w);E===-1||!p4(w)||(E===0?p.push(w):d.push({documentOrder:C,tabIndex:E,node:w}))}),d.sort((w,C)=>w.tabIndex===C.tabIndex?w.documentOrder-C.documentOrder:w.tabIndex-C.tabIndex).map(w=>w.node).concat(p)}function f4(){return!0}function g4(o){const{children:p,disableAutoFocus:d=!1,disableEnforceFocus:w=!1,disableRestoreFocus:C=!1,getTabbable:E=d4,isEnabled:A=f4,open:l}=o,V=Ke.useRef(!1),q=Ke.useRef(null),ue=Ke.useRef(null),te=Ke.useRef(null),ce=Ke.useRef(null),oe=Ke.useRef(!1),de=Ke.useRef(null),xe=t0(Mg(p),de),Pe=Ke.useRef(null);Ke.useEffect(()=>{!l||!de.current||(oe.current=!d)},[d,l]),Ke.useEffect(()=>{if(!l||!de.current)return;const ze=Fc(de.current);return de.current.contains(ze.activeElement)||(de.current.hasAttribute("tabIndex")||de.current.setAttribute("tabIndex","-1"),oe.current&&de.current.focus()),()=>{C||(te.current&&te.current.focus&&(V.current=!0,te.current.focus()),te.current=null)}},[l]),Ke.useEffect(()=>{if(!l||!de.current)return;const ze=Fc(de.current),Me=ot=>{Pe.current=ot,!(w||!A()||ot.key!=="Tab")&&ze.activeElement===de.current&&ot.shiftKey&&(V.current=!0,ue.current&&ue.current.focus())},Ge=()=>{var Jt,ye;const ot=de.current;if(ot===null)return;if(!ze.hasFocus()||!A()||V.current){V.current=!1;return}if(ot.contains(ze.activeElement)||w&&ze.activeElement!==q.current&&ze.activeElement!==ue.current)return;if(ze.activeElement!==ce.current)ce.current=null;else if(ce.current!==null)return;if(!oe.current)return;let Pt=[];if((ze.activeElement===q.current||ze.activeElement===ue.current)&&(Pt=E(de.current)),Pt.length>0){const Dt=!!((Jt=Pe.current)!=null&&Jt.shiftKey&&((ye=Pe.current)==null?void 0:ye.key)==="Tab"),Mt=Pt[0],Wt=Pt[Pt.length-1];typeof Mt!="string"&&typeof Wt!="string"&&(Dt?Wt.focus():Mt.focus())}else ot.focus()};ze.addEventListener("focusin",Ge),ze.addEventListener("keydown",Me,!0);const je=setInterval(()=>{ze.activeElement&&ze.activeElement.tagName==="BODY"&&Ge()},50);return()=>{clearInterval(je),ze.removeEventListener("focusin",Ge),ze.removeEventListener("keydown",Me,!0)}},[d,w,C,A,l,E]);const He=ze=>{te.current===null&&(te.current=ze.relatedTarget),oe.current=!0,ce.current=ze.target;const Me=p.props.onFocus;Me&&Me(ze)},rt=ze=>{te.current===null&&(te.current=ze.relatedTarget),oe.current=!0};return Yt.jsxs(Ke.Fragment,{children:[Yt.jsx("div",{tabIndex:l?0:-1,onFocus:rt,ref:q,"data-testid":"sentinelStart"}),Ke.cloneElement(p,{ref:xe,onFocus:He}),Yt.jsx("div",{tabIndex:l?0:-1,onFocus:rt,ref:ue,"data-testid":"sentinelEnd"})]})}function m4(o){return typeof o=="function"?o():o}const y4=Ke.forwardRef(function(p,d){const{children:w,container:C,disablePortal:E=!1}=p,[A,l]=Ke.useState(null),V=t0(Ke.isValidElement(w)?Mg(w):null,d);if(Xp(()=>{E||l(m4(C)||document.body)},[C,E]),Xp(()=>{if(A&&!E)return v2(d,A),()=>{v2(d,null)}},[d,A,E]),E){if(Ke.isValidElement(w)){const q={ref:V};return Ke.cloneElement(w,q)}return w}return A&&Eb.createPortal(w,A)}),_4={entering:{opacity:1},entered:{opacity:1}},v4=Ke.forwardRef(function(p,d){const w=__(),C={enter:w.transitions.duration.enteringScreen,exit:w.transitions.duration.leavingScreen},{addEndListener:E,appear:A=!0,children:l,easing:V,in:q,onEnter:ue,onEntered:te,onEntering:ce,onExit:oe,onExited:de,onExiting:xe,style:Pe,timeout:He=C,TransitionComponent:rt=kh,...ze}=p,Me=Ke.useRef(null),Ge=t0(Me,Mg(l),d),je=Vt=>Nt=>{if(Vt){const $t=Me.current;Nt===void 0?Vt($t):Vt($t,Nt)}},ot=je(ce),Pt=je((Vt,Nt)=>{$b(Vt);const $t=Um({style:Pe,timeout:He,easing:V},{mode:"enter"});Vt.style.webkitTransition=w.transitions.create("opacity",$t),Vt.style.transition=w.transitions.create("opacity",$t),ue&&ue(Vt,Nt)}),Jt=je(te),ye=je(xe),Dt=je(Vt=>{const Nt=Um({style:Pe,timeout:He,easing:V},{mode:"exit"});Vt.style.webkitTransition=w.transitions.create("opacity",Nt),Vt.style.transition=w.transitions.create("opacity",Nt),oe&&oe(Vt)}),Mt=je(de),Wt=Vt=>{E&&E(Me.current,Vt)};return Yt.jsx(rt,{appear:A,in:q,nodeRef:Me,onEnter:Pt,onEntered:Jt,onEntering:ot,onExit:Dt,onExited:Mt,onExiting:ye,addEndListener:Wt,timeout:He,...ze,children:(Vt,{ownerState:Nt,...$t})=>Ke.cloneElement(l,{style:{opacity:0,visibility:Vt==="exited"&&!q?"hidden":void 0,..._4[Vt],...Pe,...l.props.style},ref:Ge,...$t})})});function x4(o){return za("MuiBackdrop",o)}ta("MuiBackdrop",["root","invisible"]);const b4=o=>{const{classes:p,invisible:d}=o;return Ua({root:["root",d&&"invisible"]},x4,p)},w4=mr("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(o,p)=>{const{ownerState:d}=o;return[p.root,d.invisible&&p.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),D4=Ke.forwardRef(function(p,d){const w=Mo({props:p,name:"MuiBackdrop"}),{children:C,className:E,component:A="div",invisible:l=!1,open:V,components:q={},componentsProps:ue={},slotProps:te={},slots:ce={},TransitionComponent:oe,transitionDuration:de,...xe}=w,Pe={...w,component:A,invisible:l},He=b4(Pe),rt={transition:oe,root:q.Root,...ce},ze={...ue,...te},Me={slots:rt,slotProps:ze},[Ge,je]=H0("root",{elementType:w4,externalForwardedProps:Me,className:Kr(He.root,E),ownerState:Pe}),[ot,Pt]=H0("transition",{elementType:v4,externalForwardedProps:Me,ownerState:Pe});return Yt.jsx(ot,{in:V,timeout:de,...xe,...Pt,children:Yt.jsx(Ge,{"aria-hidden":!0,...je,classes:He,ref:d,children:C})})});function C4(o){return typeof o=="function"?o():o}function I4(o){return o?o.props.hasOwnProperty("in"):!1}const D2=()=>{},hm=new l4;function A4(o){const{container:p,disableEscapeKeyDown:d=!1,disableScrollLock:w=!1,closeAfterTransition:C=!1,onTransitionEnter:E,onTransitionExited:A,children:l,onClose:V,open:q,rootRef:ue}=o,te=Ke.useRef({}),ce=Ke.useRef(null),oe=Ke.useRef(null),de=t0(oe,ue),[xe,Pe]=Ke.useState(!q),He=I4(l);let rt=!0;(o["aria-hidden"]==="false"||o["aria-hidden"]===!1)&&(rt=!1);const ze=()=>Fc(ce.current),Me=()=>(te.current.modalRef=oe.current,te.current.mount=ce.current,te.current),Ge=()=>{hm.mount(Me(),{disableScrollLock:w}),oe.current&&(oe.current.scrollTop=0)},je=kd(()=>{const Nt=C4(p)||ze().body;hm.add(Me(),Nt),oe.current&&Ge()}),ot=()=>hm.isTopModal(Me()),Pt=kd(Nt=>{ce.current=Nt,Nt&&(q&&ot()?Ge():oe.current&&dg(oe.current,rt))}),Jt=Ke.useCallback(()=>{hm.remove(Me(),rt)},[rt]);Ke.useEffect(()=>()=>{Jt()},[Jt]),Ke.useEffect(()=>{q?je():(!He||!C)&&Jt()},[q,Jt,He,C,je]);const ye=Nt=>$t=>{var dn;(dn=Nt.onKeyDown)==null||dn.call(Nt,$t),!($t.key!=="Escape"||$t.which===229||!ot())&&(d||($t.stopPropagation(),V&&V($t,"escapeKeyDown")))},Dt=Nt=>$t=>{var dn;(dn=Nt.onClick)==null||dn.call(Nt,$t),$t.target===$t.currentTarget&&V&&V($t,"backdropClick")};return{getRootProps:(Nt={})=>{const $t=Gb(o);delete $t.onTransitionEnter,delete $t.onTransitionExited;const dn={...$t,...Nt};return{role:"presentation",...dn,onKeyDown:ye(dn),ref:de}},getBackdropProps:(Nt={})=>{const $t=Nt;return{"aria-hidden":!0,...$t,onClick:Dt($t),open:q}},getTransitionProps:()=>{const Nt=()=>{Pe(!1),E&&E()},$t=()=>{Pe(!0),A&&A(),C&&Jt()};return{onEnter:R1(Nt,(l==null?void 0:l.props.onEnter)??D2),onExited:R1($t,(l==null?void 0:l.props.onExited)??D2)}},rootRef:de,portalRef:Pt,isTopModal:ot,exited:xe,hasTransition:He}}function S4(o){return za("MuiModal",o)}ta("MuiModal",["root","hidden","backdrop"]);const T4=o=>{const{open:p,exited:d,classes:w}=o;return Ua({root:["root",!p&&d&&"hidden"],backdrop:["backdrop"]},S4,w)},M4=mr("div",{name:"MuiModal",slot:"Root",overridesResolver:(o,p)=>{const{ownerState:d}=o;return[p.root,!d.open&&d.exited&&p.hidden]}})(ts(({theme:o})=>({position:"fixed",zIndex:(o.vars||o).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:p})=>!p.open&&p.exited,style:{visibility:"hidden"}}]}))),P4=mr(D4,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),E4=Ke.forwardRef(function(p,d){const w=Mo({name:"MuiModal",props:p}),{BackdropComponent:C=P4,BackdropProps:E,classes:A,className:l,closeAfterTransition:V=!1,children:q,container:ue,component:te,components:ce={},componentsProps:oe={},disableAutoFocus:de=!1,disableEnforceFocus:xe=!1,disableEscapeKeyDown:Pe=!1,disablePortal:He=!1,disableRestoreFocus:rt=!1,disableScrollLock:ze=!1,hideBackdrop:Me=!1,keepMounted:Ge=!1,onClose:je,onTransitionEnter:ot,onTransitionExited:Pt,open:Jt,slotProps:ye={},slots:Dt={},theme:Mt,...Wt}=w,Vt={...w,closeAfterTransition:V,disableAutoFocus:de,disableEnforceFocus:xe,disableEscapeKeyDown:Pe,disablePortal:He,disableRestoreFocus:rt,disableScrollLock:ze,hideBackdrop:Me,keepMounted:Ge},{getRootProps:Nt,getBackdropProps:$t,getTransitionProps:dn,portalRef:yt,isTopModal:mt,exited:Ot,hasTransition:We}=A4({...Vt,rootRef:d}),St={...Vt,exited:Ot},mn=T4(St),cn={};if(q.props.tabIndex===void 0&&(cn.tabIndex="-1"),We){const{onEnter:An,onExited:Nn}=dn();cn.onEnter=An,cn.onExited=Nn}const kt={slots:{root:ce.Root,backdrop:ce.Backdrop,...Dt},slotProps:{...oe,...ye}},[gn,wn]=H0("root",{ref:d,elementType:M4,externalForwardedProps:{...kt,...Wt,component:te},getSlotProps:Nt,ownerState:St,className:Kr(l,mn==null?void 0:mn.root,!St.open&&St.exited&&(mn==null?void 0:mn.hidden))}),[Fn,Rn]=H0("backdrop",{ref:E==null?void 0:E.ref,elementType:C,externalForwardedProps:kt,shouldForwardComponentProp:!0,additionalProps:E,getSlotProps:An=>$t({...An,onClick:Nn=>{An!=null&&An.onClick&&An.onClick(Nn)}}),className:Kr(E==null?void 0:E.className,mn==null?void 0:mn.backdrop),ownerState:St});return!Ge&&!Jt&&(!We||Ot)?null:Yt.jsx(y4,{ref:yt,container:ue,disablePortal:He,children:Yt.jsxs(gn,{...wn,children:[!Me&&C?Yt.jsx(Fn,{...Rn}):null,Yt.jsx(g4,{disableEnforceFocus:xe,disableAutoFocus:de,disableRestoreFocus:rt,isEnabled:mt,open:Jt,children:Ke.cloneElement(q,cn)})]})})});function k4(o){return za("MuiPaper",o)}ta("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const R4=o=>{const{square:p,elevation:d,variant:w,classes:C}=o,E={root:["root",w,!p&&"rounded",w==="elevation"&&`elevation${d}`]};return Ua(E,k4,C)},U4=mr("div",{name:"MuiPaper",slot:"Root",overridesResolver:(o,p)=>{const{ownerState:d}=o;return[p.root,p[d.variant],!d.square&&p.rounded,d.variant==="elevation"&&p[`elevation${d.elevation}`]]}})(ts(({theme:o})=>({backgroundColor:(o.vars||o).palette.background.paper,color:(o.vars||o).palette.text.primary,transition:o.transitions.create("box-shadow"),variants:[{props:({ownerState:p})=>!p.square,style:{borderRadius:o.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(o.vars||o).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),z4=Ke.forwardRef(function(p,d){var oe;const w=Mo({props:p,name:"MuiPaper"}),C=__(),{className:E,component:A="div",elevation:l=1,square:V=!1,variant:q="elevation",...ue}=w,te={...w,component:A,elevation:l,square:V,variant:q},ce=R4(te);return Yt.jsx(U4,{as:A,ownerState:te,className:Kr(ce.root,E),ref:d,...ue,style:{...q==="elevation"&&{"--Paper-shadow":(C.vars||C).shadows[l],...C.vars&&{"--Paper-overlay":(oe=C.vars.overlays)==null?void 0:oe[l]},...!C.vars&&C.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${cp("#fff",T1(l))}, ${cp("#fff",T1(l))})`}},...ue.style}})});function G4(o){return za("MuiPopover",o)}ta("MuiPopover",["root","paper"]);function C2(o,p){let d=0;return typeof p=="number"?d=p:p==="center"?d=o.height/2:p==="bottom"&&(d=o.height),d}function I2(o,p){let d=0;return typeof p=="number"?d=p:p==="center"?d=o.width/2:p==="right"&&(d=o.width),d}function A2(o){return[o.horizontal,o.vertical].map(p=>typeof p=="number"?`${p}px`:p).join(" ")}function pm(o){return typeof o=="function"?o():o}const L4=o=>{const{classes:p}=o;return Ua({root:["root"],paper:["paper"]},G4,p)},B4=mr(E4,{name:"MuiPopover",slot:"Root"})({}),jb=mr(z4,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),O4=Ke.forwardRef(function(p,d){const w=Mo({props:p,name:"MuiPopover"}),{action:C,anchorEl:E,anchorOrigin:A={vertical:"top",horizontal:"left"},anchorPosition:l,anchorReference:V="anchorEl",children:q,className:ue,container:te,elevation:ce=8,marginThreshold:oe=16,open:de,PaperProps:xe={},slots:Pe={},slotProps:He={},transformOrigin:rt={vertical:"top",horizontal:"left"},TransitionComponent:ze,transitionDuration:Me="auto",TransitionProps:Ge={},disableScrollLock:je=!1,...ot}=w,Pt=Ke.useRef(),Jt={...w,anchorOrigin:A,anchorReference:V,elevation:ce,marginThreshold:oe,transformOrigin:rt,TransitionComponent:ze,transitionDuration:Me,TransitionProps:Ge},ye=L4(Jt),Dt=Ke.useCallback(()=>{if(V==="anchorPosition")return l;const An=pm(E),Kn=(An&&An.nodeType===1?An:Fc(Pt.current).body).getBoundingClientRect();return{top:Kn.top+C2(Kn,A.vertical),left:Kn.left+I2(Kn,A.horizontal)}},[E,A.horizontal,A.vertical,l,V]),Mt=Ke.useCallback(An=>({vertical:C2(An,rt.vertical),horizontal:I2(An,rt.horizontal)}),[rt.horizontal,rt.vertical]),Wt=Ke.useCallback(An=>{const Nn={width:An.offsetWidth,height:An.offsetHeight},Kn=Mt(Nn);if(V==="none")return{top:null,left:null,transformOrigin:A2(Kn)};const Hn=Dt();let yn=Hn.top-Kn.vertical,yr=Hn.left-Kn.horizontal;const fi=yn+Nn.height,Ir=yr+Nn.width,Xr=dp(pm(E)),Gi=Xr.innerHeight-oe,vr=Xr.innerWidth-oe;if(oe!==null&&yn<oe){const lr=yn-oe;yn-=lr,Kn.vertical+=lr}else if(oe!==null&&fi>Gi){const lr=fi-Gi;yn-=lr,Kn.vertical+=lr}if(oe!==null&&yr<oe){const lr=yr-oe;yr-=lr,Kn.horizontal+=lr}else if(Ir>vr){const lr=Ir-vr;yr-=lr,Kn.horizontal+=lr}return{top:`${Math.round(yn)}px`,left:`${Math.round(yr)}px`,transformOrigin:A2(Kn)}},[E,V,Dt,Mt,oe]),[Vt,Nt]=Ke.useState(de),$t=Ke.useCallback(()=>{const An=Pt.current;if(!An)return;const Nn=Wt(An);Nn.top!==null&&An.style.setProperty("top",Nn.top),Nn.left!==null&&(An.style.left=Nn.left),An.style.transformOrigin=Nn.transformOrigin,Nt(!0)},[Wt]);Ke.useEffect(()=>(je&&window.addEventListener("scroll",$t),()=>window.removeEventListener("scroll",$t)),[E,je,$t]);const dn=()=>{$t()},yt=()=>{Nt(!1)};Ke.useEffect(()=>{de&&$t()}),Ke.useImperativeHandle(C,()=>de?{updatePosition:()=>{$t()}}:null,[de,$t]),Ke.useEffect(()=>{if(!de)return;const An=Fb(()=>{$t()}),Nn=dp(pm(E));return Nn.addEventListener("resize",An),()=>{An.clear(),Nn.removeEventListener("resize",An)}},[E,de,$t]);let mt=Me;const Ot={slots:{transition:ze,...Pe},slotProps:{transition:Ge,paper:xe,...He}},[We,St]=H0("transition",{elementType:L1,externalForwardedProps:Ot,ownerState:Jt,getSlotProps:An=>({...An,onEntering:(Nn,Kn)=>{var Hn;(Hn=An.onEntering)==null||Hn.call(An,Nn,Kn),dn()},onExited:Nn=>{var Kn;(Kn=An.onExited)==null||Kn.call(An,Nn),yt()}}),additionalProps:{appear:!0,in:de}});Me==="auto"&&!We.muiSupportAuto&&(mt=void 0);const mn=te||(E?Fc(pm(E)).body:void 0),[cn,{slots:kt,slotProps:gn,...wn}]=H0("root",{ref:d,elementType:B4,externalForwardedProps:{...Ot,...ot},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:Pe.backdrop},slotProps:{backdrop:t4(typeof He.backdrop=="function"?He.backdrop(Jt):He.backdrop,{invisible:!0})},container:mn,open:de},ownerState:Jt,className:Kr(ye.root,ue)}),[Fn,Rn]=H0("paper",{ref:Pt,className:ye.paper,elementType:jb,externalForwardedProps:Ot,shouldForwardComponentProp:!0,additionalProps:{elevation:ce,style:Vt?void 0:{opacity:0}},ownerState:Jt});return Yt.jsx(cn,{...wn,...!z1(cn)&&{slots:kt,slotProps:gn,disableScrollLock:je},children:Yt.jsx(We,{...St,timeout:mt,children:Yt.jsx(Fn,{...Rn,children:q})})})});function F4(o){return za("MuiMenu",o)}ta("MuiMenu",["root","paper","list"]);const N4={vertical:"top",horizontal:"right"},$4={vertical:"top",horizontal:"left"},j4=o=>{const{classes:p}=o;return Ua({root:["root"],paper:["paper"],list:["list"]},F4,p)},V4=mr(O4,{shouldForwardProp:o=>K0(o)||o==="classes",name:"MuiMenu",slot:"Root"})({}),Z4=mr(jb,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),W4=mr(n4,{name:"MuiMenu",slot:"List"})({outline:0}),H4=Ke.forwardRef(function(p,d){const w=Mo({props:p,name:"MuiMenu"}),{autoFocus:C=!0,children:E,className:A,disableAutoFocusItem:l=!1,MenuListProps:V={},onClose:q,open:ue,PaperProps:te={},PopoverClasses:ce,transitionDuration:oe="auto",TransitionProps:{onEntering:de,...xe}={},variant:Pe="selectedMenu",slots:He={},slotProps:rt={},...ze}=w,Me=tP(),Ge={...w,autoFocus:C,disableAutoFocusItem:l,MenuListProps:V,onEntering:de,PaperProps:te,transitionDuration:oe,TransitionProps:xe,variant:Pe},je=j4(Ge),ot=C&&!l&&ue,Pt=Ke.useRef(null),Jt=(mt,Ot)=>{Pt.current&&Pt.current.adjustStyleForScrollbar(mt,{direction:Me?"rtl":"ltr"}),de&&de(mt,Ot)},ye=mt=>{mt.key==="Tab"&&(mt.preventDefault(),q&&q(mt,"tabKeyDown"))};let Dt=-1;Ke.Children.map(E,(mt,Ot)=>{Ke.isValidElement(mt)&&(mt.props.disabled||(Pe==="selectedMenu"&&mt.props.selected||Dt===-1)&&(Dt=Ot))});const Mt={slots:He,slotProps:{list:V,transition:xe,paper:te,...rt}},Wt=WE({elementType:He.root,externalSlotProps:rt.root,ownerState:Ge,className:[je.root,A]}),[Vt,Nt]=H0("paper",{className:je.paper,elementType:Z4,externalForwardedProps:Mt,shouldForwardComponentProp:!0,ownerState:Ge}),[$t,dn]=H0("list",{className:Kr(je.list,V.className),elementType:W4,shouldForwardComponentProp:!0,externalForwardedProps:Mt,getSlotProps:mt=>({...mt,onKeyDown:Ot=>{var We;ye(Ot),(We=mt.onKeyDown)==null||We.call(mt,Ot)}}),ownerState:Ge}),yt=typeof Mt.slotProps.transition=="function"?Mt.slotProps.transition(Ge):Mt.slotProps.transition;return Yt.jsx(V4,{onClose:q,anchorOrigin:{vertical:"bottom",horizontal:Me?"right":"left"},transformOrigin:Me?N4:$4,slots:{root:He.root,paper:Vt,backdrop:He.backdrop,...He.transition&&{transition:He.transition}},slotProps:{root:Wt,paper:Nt,backdrop:typeof rt.backdrop=="function"?rt.backdrop(Ge):rt.backdrop,transition:{...yt,onEntering:(...mt)=>{var Ot;Jt(...mt),(Ot=yt==null?void 0:yt.onEntering)==null||Ot.call(yt,...mt)}}},open:ue,ref:d,transitionDuration:oe,ownerState:Ge,...ze,classes:ce,children:Yt.jsx($t,{actions:Pt,autoFocus:C&&(Dt===-1||l),autoFocusItem:ot,variant:Pe,...dn,children:E})})});function q4(o){return za("MuiNativeSelect",o)}const D_=ta("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),K4=o=>{const{classes:p,variant:d,disabled:w,multiple:C,open:E,error:A}=o,l={select:["select",d,w&&"disabled",C&&"multiple",A&&"error"],icon:["icon",`icon${ea(d)}`,E&&"iconOpen",w&&"disabled"]};return Ua(l,q4,p)},Vb=mr("select")(({theme:o})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${D_.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(o.vars||o).palette.background.paper},variants:[{props:({ownerState:p})=>p.variant!=="filled"&&p.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(o.vars||o).shape.borderRadius,"&:focus":{borderRadius:(o.vars||o).shape.borderRadius},"&&&":{paddingRight:32}}}]})),X4=mr(Vb,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:K0,overridesResolver:(o,p)=>{const{ownerState:d}=o;return[p.select,p[d.variant],d.error&&p.error,{[`&.${D_.multiple}`]:p.multiple}]}})({}),Zb=mr("svg")(({theme:o})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(o.vars||o).palette.action.active,[`&.${D_.disabled}`]:{color:(o.vars||o).palette.action.disabled},variants:[{props:({ownerState:p})=>p.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),Y4=mr(Zb,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(o,p)=>{const{ownerState:d}=o;return[p.icon,d.variant&&p[`icon${ea(d.variant)}`],d.open&&p.iconOpen]}})({}),Q4=Ke.forwardRef(function(p,d){const{className:w,disabled:C,error:E,IconComponent:A,inputRef:l,variant:V="standard",...q}=p,ue={...p,disabled:C,variant:V,error:E},te=K4(ue);return Yt.jsxs(Ke.Fragment,{children:[Yt.jsx(X4,{ownerState:ue,className:Kr(te.select,w),disabled:C,ref:l||d,...q}),p.multiple?null:Yt.jsx(Y4,{as:A,ownerState:ue,className:te.icon})]})});function Wb(o){return za("MuiSelect",o)}const tg=ta("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var S2;const J4=mr(Vb,{name:"MuiSelect",slot:"Select",overridesResolver:(o,p)=>{const{ownerState:d}=o;return[{[`&.${tg.select}`]:p.select},{[`&.${tg.select}`]:p[d.variant]},{[`&.${tg.error}`]:p.error},{[`&.${tg.multiple}`]:p.multiple}]}})({[`&.${tg.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),ek=mr(Zb,{name:"MuiSelect",slot:"Icon",overridesResolver:(o,p)=>{const{ownerState:d}=o;return[p.icon,d.variant&&p[`icon${ea(d.variant)}`],d.open&&p.iconOpen]}})({}),tk=mr("input",{shouldForwardProp:o=>Ab(o)&&o!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function T2(o,p){return typeof p=="object"&&p!==null?o===p:String(o)===String(p)}function nk(o){return o==null||typeof o=="string"&&!o.trim()}const rk=o=>{const{classes:p,variant:d,disabled:w,multiple:C,open:E,error:A}=o,l={select:["select",d,w&&"disabled",C&&"multiple",A&&"error"],icon:["icon",`icon${ea(d)}`,E&&"iconOpen",w&&"disabled"],nativeInput:["nativeInput"]};return Ua(l,Wb,p)},ik=Ke.forwardRef(function(p,d){var ma;const{"aria-describedby":w,"aria-label":C,autoFocus:E,autoWidth:A,children:l,className:V,defaultOpen:q,defaultValue:ue,disabled:te,displayEmpty:ce,error:oe=!1,IconComponent:de,inputRef:xe,labelId:Pe,MenuProps:He={},multiple:rt,name:ze,onBlur:Me,onChange:Ge,onClose:je,onFocus:ot,onOpen:Pt,open:Jt,readOnly:ye,renderValue:Dt,required:Mt,SelectDisplayProps:Wt={},tabIndex:Vt,type:Nt,value:$t,variant:dn="standard",...yt}=p,[mt,Ot]=Rm({controlled:$t,default:ue,name:"Select"}),[We,St]=Rm({controlled:Jt,default:q,name:"Select"}),mn=Ke.useRef(null),cn=Ke.useRef(null),[kt,gn]=Ke.useState(null),{current:wn}=Ke.useRef(Jt!=null),[Fn,Rn]=Ke.useState(),An=t0(d,xe),Nn=Ke.useCallback(Fe=>{cn.current=Fe,Fe&&gn(Fe)},[]),Kn=kt==null?void 0:kt.parentNode;Ke.useImperativeHandle(An,()=>({focus:()=>{cn.current.focus()},node:mn.current,value:mt}),[mt]),Ke.useEffect(()=>{q&&We&&kt&&!wn&&(Rn(A?null:Kn.clientWidth),cn.current.focus())},[kt,A]),Ke.useEffect(()=>{E&&cn.current.focus()},[E]),Ke.useEffect(()=>{if(!Pe)return;const Fe=Fc(cn.current).getElementById(Pe);if(Fe){const ne=()=>{getSelection().isCollapsed&&cn.current.focus()};return Fe.addEventListener("click",ne),()=>{Fe.removeEventListener("click",ne)}}},[Pe]);const Hn=(Fe,ne)=>{Fe?Pt&&Pt(ne):je&&je(ne),wn||(Rn(A?null:Kn.clientWidth),St(Fe))},yn=Fe=>{Fe.button===0&&(Fe.preventDefault(),cn.current.focus(),Hn(!0,Fe))},yr=Fe=>{Hn(!1,Fe)},fi=Ke.Children.toArray(l),Ir=Fe=>{const ne=fi.find(ae=>ae.props.value===Fe.target.value);ne!==void 0&&(Ot(ne.props.value),Ge&&Ge(Fe,ne))},Xr=Fe=>ne=>{let ae;if(ne.currentTarget.hasAttribute("tabindex")){if(rt){ae=Array.isArray(mt)?mt.slice():[];const _e=mt.indexOf(Fe.props.value);_e===-1?ae.push(Fe.props.value):ae.splice(_e,1)}else ae=Fe.props.value;if(Fe.props.onClick&&Fe.props.onClick(ne),mt!==ae&&(Ot(ae),Ge)){const _e=ne.nativeEvent||ne,Te=new _e.constructor(_e.type,_e);Object.defineProperty(Te,"target",{writable:!0,value:{value:ae,name:ze}}),Ge(Te,Fe)}rt||Hn(!1,ne)}},Gi=Fe=>{ye||[" ","ArrowUp","ArrowDown","Enter"].includes(Fe.key)&&(Fe.preventDefault(),Hn(!0,Fe))},vr=kt!==null&&We,lr=Fe=>{!vr&&Me&&(Object.defineProperty(Fe,"target",{writable:!0,value:{value:mt,name:ze}}),Me(Fe))};delete yt["aria-invalid"];let Dn,Lr;const ti=[];let Vi=!1;(km({value:mt})||ce)&&(Dt?Dn=Dt(mt):Vi=!0);const Ga=fi.map(Fe=>{if(!Ke.isValidElement(Fe))return null;let ne;if(rt){if(!Array.isArray(mt))throw new Error(hp(2));ne=mt.some(ae=>T2(ae,Fe.props.value)),ne&&Vi&&ti.push(Fe.props.children)}else ne=T2(mt,Fe.props.value),ne&&Vi&&(Lr=Fe.props.children);return Ke.cloneElement(Fe,{"aria-selected":ne?"true":"false",onClick:Xr(Fe),onKeyUp:ae=>{ae.key===" "&&ae.preventDefault(),Fe.props.onKeyUp&&Fe.props.onKeyUp(ae)},role:"option",selected:ne,value:void 0,"data-value":Fe.props.value})});Vi&&(rt?ti.length===0?Dn=null:Dn=ti.reduce((Fe,ne,ae)=>(Fe.push(ne),ae<ti.length-1&&Fe.push(", "),Fe),[]):Dn=Lr);let Zi=Fn;!A&&wn&&kt&&(Zi=Kn.clientWidth);let Yr;typeof Vt<"u"?Yr=Vt:Yr=te?null:0;const Li=Wt.id||(ze?`mui-component-select-${ze}`:void 0),bi={...p,variant:dn,value:mt,open:vr,error:oe},xr=rk(bi),wi={...He.PaperProps,...(ma=He.slotProps)==null?void 0:ma.paper},ni=Bb();return Yt.jsxs(Ke.Fragment,{children:[Yt.jsx(J4,{as:"div",ref:Nn,tabIndex:Yr,role:"combobox","aria-controls":vr?ni:void 0,"aria-disabled":te?"true":void 0,"aria-expanded":vr?"true":"false","aria-haspopup":"listbox","aria-label":C,"aria-labelledby":[Pe,Li].filter(Boolean).join(" ")||void 0,"aria-describedby":w,"aria-required":Mt?"true":void 0,"aria-invalid":oe?"true":void 0,onKeyDown:Gi,onMouseDown:te||ye?null:yn,onBlur:lr,onFocus:ot,...Wt,ownerState:bi,className:Kr(Wt.className,xr.select,V),id:Li,children:nk(Dn)?S2||(S2=Yt.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):Dn}),Yt.jsx(tk,{"aria-invalid":oe,value:Array.isArray(mt)?mt.join(","):mt,name:ze,ref:mn,"aria-hidden":!0,onChange:Ir,tabIndex:-1,disabled:te,className:xr.nativeInput,autoFocus:E,required:Mt,...yt,ownerState:bi}),Yt.jsx(ek,{as:de,className:xr.icon,ownerState:bi}),Yt.jsx(H4,{id:`menu-${ze||""}`,anchorEl:Kn,open:vr,onClose:yr,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...He,slotProps:{...He.slotProps,list:{"aria-labelledby":Pe,role:"listbox","aria-multiselectable":rt?"true":void 0,disableListWrap:!0,id:ni,...He.MenuListProps},paper:{...wi,style:{minWidth:Zi,...wi!=null?wi.style:null}}},children:Ga})]})}),ak=w_(Yt.jsx("path",{d:"M7 10l5 5 5-5z"}));function dm(o){return parseInt(o,10)||0}const ok={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function sk(o){for(const p in o)return!1;return!0}function M2(o){return sk(o)||o.outerHeightStyle===0&&!o.overflowing}const lk=Ke.forwardRef(function(p,d){const{onChange:w,maxRows:C,minRows:E=1,style:A,value:l,...V}=p,{current:q}=Ke.useRef(l!=null),ue=Ke.useRef(null),te=t0(d,ue),ce=Ke.useRef(null),oe=Ke.useRef(null),de=Ke.useCallback(()=>{const ze=ue.current,Me=oe.current;if(!ze||!Me)return;const je=dp(ze).getComputedStyle(ze);if(je.width==="0px")return{outerHeightStyle:0,overflowing:!1};Me.style.width=je.width,Me.value=ze.value||p.placeholder||"x",Me.value.slice(-1)===`
`&&(Me.value+=" ");const ot=je.boxSizing,Pt=dm(je.paddingBottom)+dm(je.paddingTop),Jt=dm(je.borderBottomWidth)+dm(je.borderTopWidth),ye=Me.scrollHeight;Me.value="x";const Dt=Me.scrollHeight;let Mt=ye;E&&(Mt=Math.max(Number(E)*Dt,Mt)),C&&(Mt=Math.min(Number(C)*Dt,Mt)),Mt=Math.max(Mt,Dt);const Wt=Mt+(ot==="border-box"?Pt+Jt:0),Vt=Math.abs(Mt-ye)<=1;return{outerHeightStyle:Wt,overflowing:Vt}},[C,E,p.placeholder]),xe=kd(()=>{const ze=ue.current,Me=de();if(!ze||!Me||M2(Me))return!1;const Ge=Me.outerHeightStyle;return ce.current!=null&&ce.current!==Ge}),Pe=Ke.useCallback(()=>{const ze=ue.current,Me=de();if(!ze||!Me||M2(Me))return;const Ge=Me.outerHeightStyle;ce.current!==Ge&&(ce.current=Ge,ze.style.height=`${Ge}px`),ze.style.overflow=Me.overflowing?"hidden":""},[de]),He=Ke.useRef(-1);Xp(()=>{const ze=Fb(Pe),Me=ue==null?void 0:ue.current;if(!Me)return;const Ge=dp(Me);Ge.addEventListener("resize",ze);let je;return typeof ResizeObserver<"u"&&(je=new ResizeObserver(()=>{xe()&&(je.unobserve(Me),cancelAnimationFrame(He.current),Pe(),He.current=requestAnimationFrame(()=>{je.observe(Me)}))}),je.observe(Me)),()=>{ze.clear(),cancelAnimationFrame(He.current),Ge.removeEventListener("resize",ze),je&&je.disconnect()}},[de,Pe,xe]),Xp(()=>{Pe()});const rt=ze=>{q||Pe();const Me=ze.target,Ge=Me.value.length,je=Me.value.endsWith(`
`),ot=Me.selectionStart===Ge;je&&ot&&Me.setSelectionRange(Ge,Ge),w&&w(ze)};return Yt.jsxs(Ke.Fragment,{children:[Yt.jsx("textarea",{value:l,onChange:rt,ref:te,rows:E,style:A,...V}),Yt.jsx("textarea",{"aria-hidden":!0,className:p.className,readOnly:!0,ref:oe,tabIndex:-1,style:{...ok.shadow,...A,paddingTop:0,paddingBottom:0}})]})});function uk(o){return za("MuiInputBase",o)}const xf=ta("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var P2;const Qm=(o,p)=>{const{ownerState:d}=o;return[p.root,d.formControl&&p.formControl,d.startAdornment&&p.adornedStart,d.endAdornment&&p.adornedEnd,d.error&&p.error,d.size==="small"&&p.sizeSmall,d.multiline&&p.multiline,d.color&&p[`color${ea(d.color)}`],d.fullWidth&&p.fullWidth,d.hiddenLabel&&p.hiddenLabel]},Jm=(o,p)=>{const{ownerState:d}=o;return[p.input,d.size==="small"&&p.inputSizeSmall,d.multiline&&p.inputMultiline,d.type==="search"&&p.inputTypeSearch,d.startAdornment&&p.inputAdornedStart,d.endAdornment&&p.inputAdornedEnd,d.hiddenLabel&&p.inputHiddenLabel]},ck=o=>{const{classes:p,color:d,disabled:w,error:C,endAdornment:E,focused:A,formControl:l,fullWidth:V,hiddenLabel:q,multiline:ue,readOnly:te,size:ce,startAdornment:oe,type:de}=o,xe={root:["root",`color${ea(d)}`,w&&"disabled",C&&"error",V&&"fullWidth",A&&"focused",l&&"formControl",ce&&ce!=="medium"&&`size${ea(ce)}`,ue&&"multiline",oe&&"adornedStart",E&&"adornedEnd",q&&"hiddenLabel",te&&"readOnly"],input:["input",w&&"disabled",de==="search"&&"inputTypeSearch",ue&&"inputMultiline",ce==="small"&&"inputSizeSmall",q&&"inputHiddenLabel",oe&&"inputAdornedStart",E&&"inputAdornedEnd",te&&"readOnly"]};return Ua(xe,uk,p)},ey=mr("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Qm})(ts(({theme:o})=>({...o.typography.body1,color:(o.vars||o).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${xf.disabled}`]:{color:(o.vars||o).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:p})=>p.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:p,size:d})=>p.multiline&&d==="small",style:{paddingTop:1}},{props:({ownerState:p})=>p.fullWidth,style:{width:"100%"}}]}))),ty=mr("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Jm})(ts(({theme:o})=>{const p=o.palette.mode==="light",d={color:"currentColor",...o.vars?{opacity:o.vars.opacity.inputPlaceholder}:{opacity:p?.42:.5},transition:o.transitions.create("opacity",{duration:o.transitions.duration.shorter})},w={opacity:"0 !important"},C=o.vars?{opacity:o.vars.opacity.inputPlaceholder}:{opacity:p?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":d,"&::-moz-placeholder":d,"&::-ms-input-placeholder":d,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${xf.formControl} &`]:{"&::-webkit-input-placeholder":w,"&::-moz-placeholder":w,"&::-ms-input-placeholder":w,"&:focus::-webkit-input-placeholder":C,"&:focus::-moz-placeholder":C,"&:focus::-ms-input-placeholder":C},[`&.${xf.disabled}`]:{opacity:1,WebkitTextFillColor:(o.vars||o).palette.text.disabled},variants:[{props:({ownerState:E})=>!E.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:E})=>E.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),E2=VP({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),C_=Ke.forwardRef(function(p,d){const w=Mo({props:p,name:"MuiInputBase"}),{"aria-describedby":C,autoComplete:E,autoFocus:A,className:l,color:V,components:q={},componentsProps:ue={},defaultValue:te,disabled:ce,disableInjectingGlobalStyles:oe,endAdornment:de,error:xe,fullWidth:Pe=!1,id:He,inputComponent:rt="input",inputProps:ze={},inputRef:Me,margin:Ge,maxRows:je,minRows:ot,multiline:Pt=!1,name:Jt,onBlur:ye,onChange:Dt,onClick:Mt,onFocus:Wt,onKeyDown:Vt,onKeyUp:Nt,placeholder:$t,readOnly:dn,renderSuffix:yt,rows:mt,size:Ot,slotProps:We={},slots:St={},startAdornment:mn,type:cn="text",value:kt,...gn}=w,wn=ze.value!=null?ze.value:kt,{current:Fn}=Ke.useRef(wn!=null),Rn=Ke.useRef(),An=Ke.useCallback(xr=>{},[]),Nn=t0(Rn,Me,ze.ref,An),[Kn,Hn]=Ke.useState(!1),yn=mp(),yr=zd({props:w,muiFormControl:yn,states:["color","disabled","error","hiddenLabel","size","required","filled"]});yr.focused=yn?yn.focused:Kn,Ke.useEffect(()=>{!yn&&ce&&Kn&&(Hn(!1),ye&&ye())},[yn,ce,Kn,ye]);const fi=yn&&yn.onFilled,Ir=yn&&yn.onEmpty,Xr=Ke.useCallback(xr=>{km(xr)?fi&&fi():Ir&&Ir()},[fi,Ir]);Xp(()=>{Fn&&Xr({value:wn})},[wn,Xr,Fn]);const Gi=xr=>{Wt&&Wt(xr),ze.onFocus&&ze.onFocus(xr),yn&&yn.onFocus?yn.onFocus(xr):Hn(!0)},vr=xr=>{ye&&ye(xr),ze.onBlur&&ze.onBlur(xr),yn&&yn.onBlur?yn.onBlur(xr):Hn(!1)},lr=(xr,...wi)=>{if(!Fn){const ni=xr.target||Rn.current;if(ni==null)throw new Error(hp(1));Xr({value:ni.value})}ze.onChange&&ze.onChange(xr,...wi),Dt&&Dt(xr,...wi)};Ke.useEffect(()=>{Xr(Rn.current)},[]);const Dn=xr=>{Rn.current&&xr.currentTarget===xr.target&&Rn.current.focus(),Mt&&Mt(xr)};let Lr=rt,ti=ze;Pt&&Lr==="input"&&(mt?ti={type:void 0,minRows:mt,maxRows:mt,...ti}:ti={type:void 0,maxRows:je,minRows:ot,...ti},Lr=lk);const Vi=xr=>{Xr(xr.animationName==="mui-auto-fill-cancel"?Rn.current:{value:"x"})};Ke.useEffect(()=>{yn&&yn.setAdornedStart(!!mn)},[yn,mn]);const Ga={...w,color:yr.color||"primary",disabled:yr.disabled,endAdornment:de,error:yr.error,focused:yr.focused,formControl:yn,fullWidth:Pe,hiddenLabel:yr.hiddenLabel,multiline:Pt,size:yr.size,startAdornment:mn,type:cn},Zi=ck(Ga),Yr=St.root||q.Root||ey,Li=We.root||ue.root||{},bi=St.input||q.Input||ty;return ti={...ti,...We.input??ue.input},Yt.jsxs(Ke.Fragment,{children:[!oe&&typeof E2=="function"&&(P2||(P2=Yt.jsx(E2,{}))),Yt.jsxs(Yr,{...Li,ref:d,onClick:Dn,...gn,...!z1(Yr)&&{ownerState:{...Ga,...Li.ownerState}},className:Kr(Zi.root,Li.className,l,dn&&"MuiInputBase-readOnly"),children:[mn,Yt.jsx(Q1.Provider,{value:null,children:Yt.jsx(bi,{"aria-invalid":yr.error,"aria-describedby":C,autoComplete:E,autoFocus:A,defaultValue:te,disabled:yr.disabled,id:He,onAnimationStart:Vi,name:Jt,placeholder:$t,readOnly:dn,required:yr.required,rows:mt,value:wn,onKeyDown:Vt,onKeyUp:Nt,type:cn,...ti,...!z1(bi)&&{as:Lr,ownerState:{...Ga,...ti.ownerState}},ref:Nn,className:Kr(Zi.input,ti.className,dn&&"MuiInputBase-readOnly"),onBlur:vr,onChange:lr,onFocus:Gi})}),de,yt?yt({...yr,startAdornment:mn}):null]})]})});function hk(o){return za("MuiInput",o)}const ng={...xf,...ta("MuiInput",["root","underline","input"])},pk=o=>{const{classes:p,disableUnderline:d}=o,C=Ua({root:["root",!d&&"underline"],input:["input"]},hk,p);return{...p,...C}},dk=mr(ey,{shouldForwardProp:o=>K0(o)||o==="classes",name:"MuiInput",slot:"Root",overridesResolver:(o,p)=>{const{ownerState:d}=o;return[...Qm(o,p),!d.disableUnderline&&p.underline]}})(ts(({theme:o})=>{let d=o.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return o.vars&&(d=`rgba(${o.vars.palette.common.onBackgroundChannel} / ${o.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:w})=>w.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:w})=>!w.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:o.transitions.create("transform",{duration:o.transitions.duration.shorter,easing:o.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ng.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ng.error}`]:{"&::before, &::after":{borderBottomColor:(o.vars||o).palette.error.main}},"&::before":{borderBottom:`1px solid ${d}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:o.transitions.create("border-bottom-color",{duration:o.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ng.disabled}, .${ng.error}):before`]:{borderBottom:`2px solid ${(o.vars||o).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${d}`}},[`&.${ng.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(o.palette).filter(Rd()).map(([w])=>({props:{color:w,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(o.vars||o).palette[w].main}`}}}))]}})),fk=mr(ty,{name:"MuiInput",slot:"Input",overridesResolver:Jm})({}),Hb=Ke.forwardRef(function(p,d){const w=Mo({props:p,name:"MuiInput"}),{disableUnderline:C=!1,components:E={},componentsProps:A,fullWidth:l=!1,inputComponent:V="input",multiline:q=!1,slotProps:ue,slots:te={},type:ce="text",...oe}=w,de=pk(w),Pe={root:{ownerState:{disableUnderline:C}}},He=ue??A?e0(ue??A,Pe):Pe,rt=te.root??E.Root??dk,ze=te.input??E.Input??fk;return Yt.jsx(C_,{slots:{root:rt,input:ze},slotProps:He,fullWidth:l,inputComponent:V,multiline:q,ref:d,type:ce,...oe,classes:de})});Hb.muiName="Input";function gk(o){return za("MuiFilledInput",o)}const Ad={...xf,...ta("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},mk=o=>{const{classes:p,disableUnderline:d,startAdornment:w,endAdornment:C,size:E,hiddenLabel:A,multiline:l}=o,V={root:["root",!d&&"underline",w&&"adornedStart",C&&"adornedEnd",E==="small"&&`size${ea(E)}`,A&&"hiddenLabel",l&&"multiline"],input:["input"]},q=Ua(V,gk,p);return{...p,...q}},yk=mr(ey,{shouldForwardProp:o=>K0(o)||o==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(o,p)=>{const{ownerState:d}=o;return[...Qm(o,p),!d.disableUnderline&&p.underline]}})(ts(({theme:o})=>{const p=o.palette.mode==="light",d=p?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",w=p?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",C=p?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",E=p?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:o.vars?o.vars.palette.FilledInput.bg:w,borderTopLeftRadius:(o.vars||o).shape.borderRadius,borderTopRightRadius:(o.vars||o).shape.borderRadius,transition:o.transitions.create("background-color",{duration:o.transitions.duration.shorter,easing:o.transitions.easing.easeOut}),"&:hover":{backgroundColor:o.vars?o.vars.palette.FilledInput.hoverBg:C,"@media (hover: none)":{backgroundColor:o.vars?o.vars.palette.FilledInput.bg:w}},[`&.${Ad.focused}`]:{backgroundColor:o.vars?o.vars.palette.FilledInput.bg:w},[`&.${Ad.disabled}`]:{backgroundColor:o.vars?o.vars.palette.FilledInput.disabledBg:E},variants:[{props:({ownerState:A})=>!A.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:o.transitions.create("transform",{duration:o.transitions.duration.shorter,easing:o.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Ad.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Ad.error}`]:{"&::before, &::after":{borderBottomColor:(o.vars||o).palette.error.main}},"&::before":{borderBottom:`1px solid ${o.vars?`rgba(${o.vars.palette.common.onBackgroundChannel} / ${o.vars.opacity.inputUnderline})`:d}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:o.transitions.create("border-bottom-color",{duration:o.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Ad.disabled}, .${Ad.error}):before`]:{borderBottom:`1px solid ${(o.vars||o).palette.text.primary}`},[`&.${Ad.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(o.palette).filter(Rd()).map(([A])=>{var l;return{props:{disableUnderline:!1,color:A},style:{"&::after":{borderBottom:`2px solid ${(l=(o.vars||o).palette[A])==null?void 0:l.main}`}}}}),{props:({ownerState:A})=>A.startAdornment,style:{paddingLeft:12}},{props:({ownerState:A})=>A.endAdornment,style:{paddingRight:12}},{props:({ownerState:A})=>A.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:A,size:l})=>A.multiline&&l==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:A})=>A.multiline&&A.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:A})=>A.multiline&&A.hiddenLabel&&A.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),_k=mr(ty,{name:"MuiFilledInput",slot:"Input",overridesResolver:Jm})(ts(({theme:o})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!o.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:o.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:o.palette.mode==="light"?null:"#fff",caretColor:o.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...o.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[o.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:p})=>p.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:p})=>p.startAdornment,style:{paddingLeft:0}},{props:({ownerState:p})=>p.endAdornment,style:{paddingRight:0}},{props:({ownerState:p})=>p.hiddenLabel&&p.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:p})=>p.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),qb=Ke.forwardRef(function(p,d){const w=Mo({props:p,name:"MuiFilledInput"}),{disableUnderline:C=!1,components:E={},componentsProps:A,fullWidth:l=!1,hiddenLabel:V,inputComponent:q="input",multiline:ue=!1,slotProps:te,slots:ce={},type:oe="text",...de}=w,xe={...w,disableUnderline:C,fullWidth:l,inputComponent:q,multiline:ue,type:oe},Pe=mk(w),He={root:{ownerState:xe},input:{ownerState:xe}},rt=te??A?e0(He,te??A):He,ze=ce.root??E.Root??yk,Me=ce.input??E.Input??_k;return Yt.jsx(C_,{slots:{root:ze,input:Me},slotProps:rt,fullWidth:l,inputComponent:q,multiline:ue,ref:d,type:oe,...de,classes:Pe})});qb.muiName="Input";var k2;const vk=mr("fieldset",{shouldForwardProp:K0})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),xk=mr("legend",{shouldForwardProp:K0})(ts(({theme:o})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:p})=>!p.withLabel,style:{padding:0,lineHeight:"11px",transition:o.transitions.create("width",{duration:150,easing:o.transitions.easing.easeOut})}},{props:({ownerState:p})=>p.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:o.transitions.create("max-width",{duration:50,easing:o.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:p})=>p.withLabel&&p.notched,style:{maxWidth:"100%",transition:o.transitions.create("max-width",{duration:100,easing:o.transitions.easing.easeOut,delay:50})}}]})));function bk(o){const{children:p,classes:d,className:w,label:C,notched:E,...A}=o,l=C!=null&&C!=="",V={...o,notched:E,withLabel:l};return Yt.jsx(vk,{"aria-hidden":!0,className:w,ownerState:V,...A,children:Yt.jsx(xk,{ownerState:V,children:l?Yt.jsx("span",{children:C}):k2||(k2=Yt.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}function wk(o){return za("MuiOutlinedInput",o)}const Ah={...xf,...ta("MuiOutlinedInput",["root","notchedOutline","input"])},Dk=o=>{const{classes:p}=o,w=Ua({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},wk,p);return{...p,...w}},Ck=mr(ey,{shouldForwardProp:o=>K0(o)||o==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Qm})(ts(({theme:o})=>{const p=o.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(o.vars||o).shape.borderRadius,[`&:hover .${Ah.notchedOutline}`]:{borderColor:(o.vars||o).palette.text.primary},"@media (hover: none)":{[`&:hover .${Ah.notchedOutline}`]:{borderColor:o.vars?`rgba(${o.vars.palette.common.onBackgroundChannel} / 0.23)`:p}},[`&.${Ah.focused} .${Ah.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(o.palette).filter(Rd()).map(([d])=>({props:{color:d},style:{[`&.${Ah.focused} .${Ah.notchedOutline}`]:{borderColor:(o.vars||o).palette[d].main}}})),{props:{},style:{[`&.${Ah.error} .${Ah.notchedOutline}`]:{borderColor:(o.vars||o).palette.error.main},[`&.${Ah.disabled} .${Ah.notchedOutline}`]:{borderColor:(o.vars||o).palette.action.disabled}}},{props:({ownerState:d})=>d.startAdornment,style:{paddingLeft:14}},{props:({ownerState:d})=>d.endAdornment,style:{paddingRight:14}},{props:({ownerState:d})=>d.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:d,size:w})=>d.multiline&&w==="small",style:{padding:"8.5px 14px"}}]}})),Ik=mr(bk,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(ts(({theme:o})=>{const p=o.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:o.vars?`rgba(${o.vars.palette.common.onBackgroundChannel} / 0.23)`:p}})),Ak=mr(ty,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Jm})(ts(({theme:o})=>({padding:"16.5px 14px",...!o.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:o.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:o.palette.mode==="light"?null:"#fff",caretColor:o.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...o.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[o.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:p})=>p.multiline,style:{padding:0}},{props:({ownerState:p})=>p.startAdornment,style:{paddingLeft:0}},{props:({ownerState:p})=>p.endAdornment,style:{paddingRight:0}}]}))),Kb=Ke.forwardRef(function(p,d){const w=Mo({props:p,name:"MuiOutlinedInput"}),{components:C={},fullWidth:E=!1,inputComponent:A="input",label:l,multiline:V=!1,notched:q,slots:ue={},slotProps:te={},type:ce="text",...oe}=w,de=Dk(w),xe=mp(),Pe=zd({props:w,muiFormControl:xe,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),He={...w,color:Pe.color||"primary",disabled:Pe.disabled,error:Pe.error,focused:Pe.focused,formControl:xe,fullWidth:E,hiddenLabel:Pe.hiddenLabel,multiline:V,size:Pe.size,type:ce},rt=ue.root??C.Root??Ck,ze=ue.input??C.Input??Ak,[Me,Ge]=H0("notchedOutline",{elementType:Ik,className:de.notchedOutline,shouldForwardComponentProp:!0,ownerState:He,externalForwardedProps:{slots:ue,slotProps:te},additionalProps:{label:l!=null&&l!==""&&Pe.required?Yt.jsxs(Ke.Fragment,{children:[l,"","*"]}):l}});return Yt.jsx(C_,{slots:{root:rt,input:ze},slotProps:te,renderSuffix:je=>Yt.jsx(Me,{...Ge,notched:typeof q<"u"?q:!!(je.startAdornment||je.filled||je.focused)}),fullWidth:E,inputComponent:A,multiline:V,ref:d,type:ce,...oe,classes:{...de,notchedOutline:null}})});Kb.muiName="Input";const Sk=o=>{const{classes:p}=o,w=Ua({root:["root"]},Wb,p);return{...p,...w}},I_={name:"MuiSelect",slot:"Root",shouldForwardProp:o=>K0(o)&&o!=="variant"},Tk=mr(Hb,I_)(""),Mk=mr(Kb,I_)(""),Pk=mr(qb,I_)(""),Xb=Ke.forwardRef(function(p,d){const w=Mo({name:"MuiSelect",props:p}),{autoWidth:C=!1,children:E,classes:A={},className:l,defaultOpen:V=!1,displayEmpty:q=!1,IconComponent:ue=ak,id:te,input:ce,inputProps:oe,label:de,labelId:xe,MenuProps:Pe,multiple:He=!1,native:rt=!1,onClose:ze,onOpen:Me,open:Ge,renderValue:je,SelectDisplayProps:ot,variant:Pt="outlined",...Jt}=w,ye=rt?Q4:ik,Dt=mp(),Mt=zd({props:w,muiFormControl:Dt,states:["variant","error"]}),Wt=Mt.variant||Pt,Vt={...w,variant:Wt,classes:A},Nt=Sk(Vt),{root:$t,...dn}=Nt,yt=ce||{standard:Yt.jsx(Tk,{ownerState:Vt}),outlined:Yt.jsx(Mk,{label:de,ownerState:Vt}),filled:Yt.jsx(Pk,{ownerState:Vt})}[Wt],mt=t0(d,Mg(yt));return Yt.jsx(Ke.Fragment,{children:Ke.cloneElement(yt,{inputComponent:ye,inputProps:{children:E,error:Mt.error,IconComponent:ue,variant:Wt,type:void 0,multiple:He,...rt?{id:te}:{autoWidth:C,defaultOpen:V,displayEmpty:q,labelId:xe,MenuProps:Pe,onClose:ze,onOpen:Me,open:Ge,renderValue:je,SelectDisplayProps:{id:te,...ot}},...oe,classes:oe?e0(dn,oe.classes):dn,...ce?ce.props.inputProps:{}},...(He&&rt||q)&&Wt==="outlined"?{notched:!0}:{},ref:mt,className:Kr(yt.props.className,l,Nt.root),...!ce&&{variant:Wt},...Jt})})});Xb.muiName="Select";function Ek(o){return za("PrivateSwitchBase",o)}ta("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const kk=o=>{const{classes:p,checked:d,disabled:w,edge:C}=o,E={root:["root",d&&"checked",w&&"disabled",C&&`edge${ea(C)}`],input:["input"]};return Ua(E,Ek,p)},Rk=mr(Rb)({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:o,ownerState:p})=>o==="start"&&p.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:o,ownerState:p})=>o==="end"&&p.size!=="small",style:{marginRight:-12}}]}),Uk=mr("input",{shouldForwardProp:K0})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),zk=Ke.forwardRef(function(p,d){const{autoFocus:w,checked:C,checkedIcon:E,defaultChecked:A,disabled:l,disableFocusRipple:V=!1,edge:q=!1,icon:ue,id:te,inputProps:ce,inputRef:oe,name:de,onBlur:xe,onChange:Pe,onFocus:He,readOnly:rt,required:ze=!1,tabIndex:Me,type:Ge,value:je,slots:ot={},slotProps:Pt={},...Jt}=p,[ye,Dt]=Rm({controlled:C,default:!!A,name:"SwitchBase",state:"checked"}),Mt=mp(),Wt=kt=>{He&&He(kt),Mt&&Mt.onFocus&&Mt.onFocus(kt)},Vt=kt=>{xe&&xe(kt),Mt&&Mt.onBlur&&Mt.onBlur(kt)},Nt=kt=>{if(kt.nativeEvent.defaultPrevented)return;const gn=kt.target.checked;Dt(gn),Pe&&Pe(kt,gn)};let $t=l;Mt&&typeof $t>"u"&&($t=Mt.disabled);const dn=Ge==="checkbox"||Ge==="radio",yt={...p,checked:ye,disabled:$t,disableFocusRipple:V,edge:q},mt=kk(yt),Ot={slots:ot,slotProps:{input:ce,...Pt}},[We,St]=H0("root",{ref:d,elementType:Rk,className:mt.root,shouldForwardComponentProp:!0,externalForwardedProps:{...Ot,component:"span",...Jt},getSlotProps:kt=>({...kt,onFocus:gn=>{var wn;(wn=kt.onFocus)==null||wn.call(kt,gn),Wt(gn)},onBlur:gn=>{var wn;(wn=kt.onBlur)==null||wn.call(kt,gn),Vt(gn)}}),ownerState:yt,additionalProps:{centerRipple:!0,focusRipple:!V,disabled:$t,role:void 0,tabIndex:null}}),[mn,cn]=H0("input",{ref:oe,elementType:Uk,className:mt.input,externalForwardedProps:Ot,getSlotProps:kt=>({...kt,onChange:gn=>{var wn;(wn=kt.onChange)==null||wn.call(kt,gn),Nt(gn)}}),ownerState:yt,additionalProps:{autoFocus:w,checked:C,defaultChecked:A,disabled:$t,id:dn?te:void 0,name:de,readOnly:rt,required:ze,tabIndex:Me,type:Ge,...Ge==="checkbox"&&je===void 0?{}:{value:je}}});return Yt.jsxs(We,{...St,children:[Yt.jsx(mn,{...cn}),ye?E:ue]})}),Gk=w_(Yt.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),Lk=w_(Yt.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"})),Bk=mr("span",{shouldForwardProp:K0})({position:"relative",display:"flex"}),Ok=mr(Gk)({transform:"scale(1)"}),Fk=mr(Lk)(ts(({theme:o})=>({left:0,position:"absolute",transform:"scale(0)",transition:o.transitions.create("transform",{easing:o.transitions.easing.easeIn,duration:o.transitions.duration.shortest}),variants:[{props:{checked:!0},style:{transform:"scale(1)",transition:o.transitions.create("transform",{easing:o.transitions.easing.easeOut,duration:o.transitions.duration.shortest})}}]})));function Yb(o){const{checked:p=!1,classes:d={},fontSize:w}=o,C={...o,checked:p};return Yt.jsxs(Bk,{className:d.root,ownerState:C,children:[Yt.jsx(Ok,{fontSize:w,className:d.background,ownerState:C}),Yt.jsx(Fk,{fontSize:w,className:d.dot,ownerState:C})]})}const Qb=Ke.createContext(void 0);function Nk(){return Ke.useContext(Qb)}function $k(o){return za("MuiRadio",o)}const R2=ta("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),jk=o=>{const{classes:p,color:d,size:w}=o,C={root:["root",`color${ea(d)}`,w!=="medium"&&`size${ea(w)}`]};return{...p,...Ua(C,$k,p)}},Vk=mr(zk,{shouldForwardProp:o=>K0(o)||o==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(o,p)=>{const{ownerState:d}=o;return[p.root,d.size!=="medium"&&p[`size${ea(d.size)}`],p[`color${ea(d.color)}`]]}})(ts(({theme:o})=>({color:(o.vars||o).palette.text.secondary,[`&.${R2.disabled}`]:{color:(o.vars||o).palette.action.disabled},variants:[{props:{color:"default",disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:o.vars?`rgba(${o.vars.palette.action.activeChannel} / ${o.vars.palette.action.hoverOpacity})`:cp(o.palette.action.active,o.palette.action.hoverOpacity)}}},...Object.entries(o.palette).filter(Rd()).map(([p])=>({props:{color:p,disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:o.vars?`rgba(${o.vars.palette[p].mainChannel} / ${o.vars.palette.action.hoverOpacity})`:cp(o.palette[p].main,o.palette.action.hoverOpacity)}}})),...Object.entries(o.palette).filter(Rd()).map(([p])=>({props:{color:p,disabled:!1},style:{[`&.${R2.checked}`]:{color:(o.vars||o).palette[p].main}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]})));function Zk(o,p){return typeof p=="object"&&p!==null?o===p:String(o)===String(p)}const Wk=Yt.jsx(Yb,{checked:!0}),Hk=Yt.jsx(Yb,{}),U2=Ke.forwardRef(function(p,d){const w=Mo({props:p,name:"MuiRadio"}),{checked:C,checkedIcon:E=Wk,color:A="primary",icon:l=Hk,name:V,onChange:q,size:ue="medium",className:te,disabled:ce,disableRipple:oe=!1,slots:de={},slotProps:xe={},inputProps:Pe,...He}=w,rt=mp();let ze=ce;rt&&typeof ze>"u"&&(ze=rt.disabled),ze??(ze=!1);const Me={...w,disabled:ze,disableRipple:oe,color:A,size:ue},Ge=jk(Me),je=Nk();let ot=C;const Pt=R1(q,je&&je.onChange);let Jt=V;je&&(typeof ot>"u"&&(ot=Zk(je.value,w.value)),typeof Jt>"u"&&(Jt=je.name));const ye=xe.input??Pe,[Dt,Mt]=H0("root",{ref:d,elementType:Vk,className:Kr(Ge.root,te),shouldForwardComponentProp:!0,externalForwardedProps:{slots:de,slotProps:xe,...He},getSlotProps:Wt=>({...Wt,onChange:(Vt,...Nt)=>{var $t;($t=Wt.onChange)==null||$t.call(Wt,Vt,...Nt),Pt(Vt,...Nt)}}),ownerState:Me,additionalProps:{type:"radio",icon:Ke.cloneElement(l,{fontSize:l.props.fontSize??ue}),checkedIcon:Ke.cloneElement(E,{fontSize:E.props.fontSize??ue}),disabled:ze,name:Jt,checked:ot,slots:de,slotProps:{input:typeof ye=="function"?ye(Me):ye}}});return Yt.jsx(Dt,{...Mt,classes:Ge})});function qk(o){return za("MuiFormGroup",o)}ta("MuiFormGroup",["root","row","error"]);const Kk=o=>{const{classes:p,row:d,error:w}=o;return Ua({root:["root",d&&"row",w&&"error"]},qk,p)},Xk=mr("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(o,p)=>{const{ownerState:d}=o;return[p.root,d.row&&p.row]}})({display:"flex",flexDirection:"column",flexWrap:"wrap",variants:[{props:{row:!0},style:{flexDirection:"row"}}]}),Yk=Ke.forwardRef(function(p,d){const w=Mo({props:p,name:"MuiFormGroup"}),{className:C,row:E=!1,...A}=w,l=mp(),V=zd({props:w,muiFormControl:l,states:["error"]}),q={...w,row:E,error:V.error},ue=Kk(q);return Yt.jsx(Xk,{className:Kr(ue.root,C),ownerState:q,ref:d,...A})});function Qk(o){return za("MuiRadioGroup",o)}ta("MuiRadioGroup",["root","row","error"]);const Jk=o=>{const{classes:p,row:d,error:w}=o;return Ua({root:["root",d&&"row",w&&"error"]},Qk,p)},e5=Ke.forwardRef(function(p,d){const{actions:w,children:C,className:E,defaultValue:A,name:l,onChange:V,value:q,...ue}=p,te=Ke.useRef(null),ce=Jk(p),[oe,de]=Rm({controlled:q,default:A,name:"RadioGroup"});Ke.useImperativeHandle(w,()=>({focus:()=>{let rt=te.current.querySelector("input:not(:disabled):checked");rt||(rt=te.current.querySelector("input:not(:disabled)")),rt&&rt.focus()}}),[]);const xe=t0(d,te),Pe=Bb(l),He=Ke.useMemo(()=>({name:Pe,onChange(rt){de(rt.target.value),V&&V(rt,rt.target.value)},value:oe}),[Pe,V,de,oe]);return Yt.jsx(Qb.Provider,{value:He,children:Yt.jsx(Yk,{role:"radiogroup",ref:xe,className:Kr(ce.root,E),...ue,children:C})})});var Kp={},Sd={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z2;function t5(){if(z2)return Sd;z2=1;var o=_g();function p(B){for(var J="https://reactjs.org/docs/error-decoder.html?invariant="+B,fe=1;fe<arguments.length;fe++)J+="&args[]="+encodeURIComponent(arguments[fe]);return"Minified React error #"+B+"; visit "+J+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d=Object.prototype.hasOwnProperty,w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C={},E={};function A(B){return d.call(E,B)?!0:d.call(C,B)?!1:w.test(B)?E[B]=!0:(C[B]=!0,!1)}function l(B,J,fe,Se,gt,ct,Ut){this.acceptsBooleans=J===2||J===3||J===4,this.attributeName=Se,this.attributeNamespace=gt,this.mustUseProperty=fe,this.propertyName=B,this.type=J,this.sanitizeURL=ct,this.removeEmptyString=Ut}var V={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(B){V[B]=new l(B,0,!1,B,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(B){var J=B[0];V[J]=new l(J,1,!1,B[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(B){V[B]=new l(B,2,!1,B.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(B){V[B]=new l(B,2,!1,B,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(B){V[B]=new l(B,3,!1,B.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(B){V[B]=new l(B,3,!0,B,null,!1,!1)}),["capture","download"].forEach(function(B){V[B]=new l(B,4,!1,B,null,!1,!1)}),["cols","rows","size","span"].forEach(function(B){V[B]=new l(B,6,!1,B,null,!1,!1)}),["rowSpan","start"].forEach(function(B){V[B]=new l(B,5,!1,B.toLowerCase(),null,!1,!1)});var q=/[\-:]([a-z])/g;function ue(B){return B[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(B){var J=B.replace(q,ue);V[J]=new l(J,1,!1,B,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(B){var J=B.replace(q,ue);V[J]=new l(J,1,!1,B,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(B){var J=B.replace(q,ue);V[J]=new l(J,1,!1,B,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(B){V[B]=new l(B,1,!1,B.toLowerCase(),null,!1,!1)}),V.xlinkHref=new l("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(B){V[B]=new l(B,1,!1,B.toLowerCase(),null,!0,!0)});var te={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ce=["Webkit","ms","Moz","O"];Object.keys(te).forEach(function(B){ce.forEach(function(J){J=J+B.charAt(0).toUpperCase()+B.substring(1),te[J]=te[B]})});var oe=/["'&<>]/;function de(B){if(typeof B=="boolean"||typeof B=="number")return""+B;B=""+B;var J=oe.exec(B);if(J){var fe="",Se,gt=0;for(Se=J.index;Se<B.length;Se++){switch(B.charCodeAt(Se)){case 34:J="&quot;";break;case 38:J="&amp;";break;case 39:J="&#x27;";break;case 60:J="&lt;";break;case 62:J="&gt;";break;default:continue}gt!==Se&&(fe+=B.substring(gt,Se)),gt=Se+1,fe+=J}B=gt!==Se?fe+B.substring(gt,Se):fe}return B}var xe=/([A-Z])/g,Pe=/^ms-/,He=Array.isArray;function rt(B,J){return{insertionMode:B,selectedValue:J}}function ze(B,J,fe){switch(J){case"select":return rt(1,fe.value!=null?fe.value:fe.defaultValue);case"svg":return rt(2,null);case"math":return rt(3,null);case"foreignObject":return rt(1,null);case"table":return rt(4,null);case"thead":case"tbody":case"tfoot":return rt(5,null);case"colgroup":return rt(7,null);case"tr":return rt(6,null)}return 4<=B.insertionMode||B.insertionMode===0?rt(1,null):B}var Me=new Map;function Ge(B,J,fe){if(typeof fe!="object")throw Error(p(62));J=!0;for(var Se in fe)if(d.call(fe,Se)){var gt=fe[Se];if(gt!=null&&typeof gt!="boolean"&&gt!==""){if(Se.indexOf("--")===0){var ct=de(Se);gt=de((""+gt).trim())}else{ct=Se;var Ut=Me.get(ct);Ut!==void 0||(Ut=de(ct.replace(xe,"-$1").toLowerCase().replace(Pe,"-ms-")),Me.set(ct,Ut)),ct=Ut,gt=typeof gt=="number"?gt===0||d.call(te,Se)?""+gt:gt+"px":de((""+gt).trim())}J?(J=!1,B.push(' style="',ct,":",gt)):B.push(";",ct,":",gt)}}J||B.push('"')}function je(B,J,fe,Se){switch(fe){case"style":Ge(B,J,Se);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<fe.length)||fe[0]!=="o"&&fe[0]!=="O"||fe[1]!=="n"&&fe[1]!=="N"){if(J=V.hasOwnProperty(fe)?V[fe]:null,J!==null){switch(typeof Se){case"function":case"symbol":return;case"boolean":if(!J.acceptsBooleans)return}switch(fe=J.attributeName,J.type){case 3:Se&&B.push(" ",fe,'=""');break;case 4:Se===!0?B.push(" ",fe,'=""'):Se!==!1&&B.push(" ",fe,'="',de(Se),'"');break;case 5:isNaN(Se)||B.push(" ",fe,'="',de(Se),'"');break;case 6:!isNaN(Se)&&1<=Se&&B.push(" ",fe,'="',de(Se),'"');break;default:J.sanitizeURL&&(Se=""+Se),B.push(" ",fe,'="',de(Se),'"')}}else if(A(fe)){switch(typeof Se){case"function":case"symbol":return;case"boolean":if(J=fe.toLowerCase().slice(0,5),J!=="data-"&&J!=="aria-")return}B.push(" ",fe,'="',de(Se),'"')}}}function ot(B,J,fe){if(J!=null){if(fe!=null)throw Error(p(60));if(typeof J!="object"||!("__html"in J))throw Error(p(61));J=J.__html,J!=null&&B.push(""+J)}}function Pt(B){var J="";return o.Children.forEach(B,function(fe){fe!=null&&(J+=fe)}),J}function Jt(B,J,fe,Se){B.push(Mt(fe));var gt=fe=null,ct;for(ct in J)if(d.call(J,ct)){var Ut=J[ct];if(Ut!=null)switch(ct){case"children":fe=Ut;break;case"dangerouslySetInnerHTML":gt=Ut;break;default:je(B,Se,ct,Ut)}}return B.push(">"),ot(B,gt,fe),typeof fe=="string"?(B.push(de(fe)),null):fe}var ye=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Dt=new Map;function Mt(B){var J=Dt.get(B);if(J===void 0){if(!ye.test(B))throw Error(p(65,B));J="<"+B,Dt.set(B,J)}return J}function Wt(B,J,fe,Se,gt){switch(J){case"select":B.push(Mt("select"));var ct=null,Ut=null;for(xn in fe)if(d.call(fe,xn)){var sn=fe[xn];if(sn!=null)switch(xn){case"children":ct=sn;break;case"dangerouslySetInnerHTML":Ut=sn;break;case"defaultValue":case"value":break;default:je(B,Se,xn,sn)}}return B.push(">"),ot(B,Ut,ct),ct;case"option":Ut=gt.selectedValue,B.push(Mt("option"));var _n=sn=null,Mn=null,xn=null;for(ct in fe)if(d.call(fe,ct)){var Br=fe[ct];if(Br!=null)switch(ct){case"children":sn=Br;break;case"selected":Mn=Br;break;case"dangerouslySetInnerHTML":xn=Br;break;case"value":_n=Br;default:je(B,Se,ct,Br)}}if(Ut!=null)if(fe=_n!==null?""+_n:Pt(sn),He(Ut)){for(Se=0;Se<Ut.length;Se++)if(""+Ut[Se]===fe){B.push(' selected=""');break}}else""+Ut===fe&&B.push(' selected=""');else Mn&&B.push(' selected=""');return B.push(">"),ot(B,xn,sn),sn;case"textarea":B.push(Mt("textarea")),xn=Ut=ct=null;for(sn in fe)if(d.call(fe,sn)&&(_n=fe[sn],_n!=null))switch(sn){case"children":xn=_n;break;case"value":ct=_n;break;case"defaultValue":Ut=_n;break;case"dangerouslySetInnerHTML":throw Error(p(91));default:je(B,Se,sn,_n)}if(ct===null&&Ut!==null&&(ct=Ut),B.push(">"),xn!=null){if(ct!=null)throw Error(p(92));if(He(xn)&&1<xn.length)throw Error(p(93));ct=""+xn}return typeof ct=="string"&&ct[0]===`
`&&B.push(`
`),ct!==null&&B.push(de(""+ct)),null;case"input":B.push(Mt("input")),_n=xn=sn=ct=null;for(Ut in fe)if(d.call(fe,Ut)&&(Mn=fe[Ut],Mn!=null))switch(Ut){case"children":case"dangerouslySetInnerHTML":throw Error(p(399,"input"));case"defaultChecked":_n=Mn;break;case"defaultValue":sn=Mn;break;case"checked":xn=Mn;break;case"value":ct=Mn;break;default:je(B,Se,Ut,Mn)}return xn!==null?je(B,Se,"checked",xn):_n!==null&&je(B,Se,"checked",_n),ct!==null?je(B,Se,"value",ct):sn!==null&&je(B,Se,"value",sn),B.push("/>"),null;case"menuitem":B.push(Mt("menuitem"));for(var gi in fe)if(d.call(fe,gi)&&(ct=fe[gi],ct!=null))switch(gi){case"children":case"dangerouslySetInnerHTML":throw Error(p(400));default:je(B,Se,gi,ct)}return B.push(">"),null;case"title":B.push(Mt("title")),ct=null;for(Br in fe)if(d.call(fe,Br)&&(Ut=fe[Br],Ut!=null))switch(Br){case"children":ct=Ut;break;case"dangerouslySetInnerHTML":throw Error(p(434));default:je(B,Se,Br,Ut)}return B.push(">"),ct;case"listing":case"pre":B.push(Mt(J)),Ut=ct=null;for(_n in fe)if(d.call(fe,_n)&&(sn=fe[_n],sn!=null))switch(_n){case"children":ct=sn;break;case"dangerouslySetInnerHTML":Ut=sn;break;default:je(B,Se,_n,sn)}if(B.push(">"),Ut!=null){if(ct!=null)throw Error(p(60));if(typeof Ut!="object"||!("__html"in Ut))throw Error(p(61));fe=Ut.__html,fe!=null&&(typeof fe=="string"&&0<fe.length&&fe[0]===`
`?B.push(`
`,fe):B.push(""+fe))}return typeof ct=="string"&&ct[0]===`
`&&B.push(`
`),ct;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":B.push(Mt(J));for(var ra in fe)if(d.call(fe,ra)&&(ct=fe[ra],ct!=null))switch(ra){case"children":case"dangerouslySetInnerHTML":throw Error(p(399,J));default:je(B,Se,ra,ct)}return B.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return Jt(B,fe,J,Se);case"html":return gt.insertionMode===0&&B.push("<!DOCTYPE html>"),Jt(B,fe,J,Se);default:if(J.indexOf("-")===-1&&typeof fe.is!="string")return Jt(B,fe,J,Se);B.push(Mt(J)),Ut=ct=null;for(Mn in fe)if(d.call(fe,Mn)&&(sn=fe[Mn],sn!=null))switch(Mn){case"children":ct=sn;break;case"dangerouslySetInnerHTML":Ut=sn;break;case"style":Ge(B,Se,sn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:A(Mn)&&typeof sn!="function"&&typeof sn!="symbol"&&B.push(" ",Mn,'="',de(sn),'"')}return B.push(">"),ot(B,Ut,ct),ct}}function Vt(B,J,fe){if(B.push('<!--$?--><template id="'),fe===null)throw Error(p(395));return B.push(fe),B.push('"></template>')}function Nt(B,J,fe,Se){switch(fe.insertionMode){case 0:case 1:return B.push('<div hidden id="'),B.push(J.segmentPrefix),J=Se.toString(16),B.push(J),B.push('">');case 2:return B.push('<svg aria-hidden="true" style="display:none" id="'),B.push(J.segmentPrefix),J=Se.toString(16),B.push(J),B.push('">');case 3:return B.push('<math aria-hidden="true" style="display:none" id="'),B.push(J.segmentPrefix),J=Se.toString(16),B.push(J),B.push('">');case 4:return B.push('<table hidden id="'),B.push(J.segmentPrefix),J=Se.toString(16),B.push(J),B.push('">');case 5:return B.push('<table hidden><tbody id="'),B.push(J.segmentPrefix),J=Se.toString(16),B.push(J),B.push('">');case 6:return B.push('<table hidden><tr id="'),B.push(J.segmentPrefix),J=Se.toString(16),B.push(J),B.push('">');case 7:return B.push('<table hidden><colgroup id="'),B.push(J.segmentPrefix),J=Se.toString(16),B.push(J),B.push('">');default:throw Error(p(397))}}function $t(B,J){switch(J.insertionMode){case 0:case 1:return B.push("</div>");case 2:return B.push("</svg>");case 3:return B.push("</math>");case 4:return B.push("</table>");case 5:return B.push("</tbody></table>");case 6:return B.push("</tr></table>");case 7:return B.push("</colgroup></table>");default:throw Error(p(397))}}var dn=/[<\u2028\u2029]/g;function yt(B){return JSON.stringify(B).replace(dn,function(J){switch(J){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function mt(B,J){return J=J===void 0?"":J,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:J+"P:",segmentPrefix:J+"S:",boundaryPrefix:J+"B:",idPrefix:J,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:B}}function Ot(B,J,fe,Se){return fe.generateStaticMarkup?(B.push(de(J)),!1):(J===""?B=Se:(Se&&B.push("<!-- -->"),B.push(de(J)),B=!0),B)}var We=Object.assign,St=Symbol.for("react.element"),mn=Symbol.for("react.portal"),cn=Symbol.for("react.fragment"),kt=Symbol.for("react.strict_mode"),gn=Symbol.for("react.profiler"),wn=Symbol.for("react.provider"),Fn=Symbol.for("react.context"),Rn=Symbol.for("react.forward_ref"),An=Symbol.for("react.suspense"),Nn=Symbol.for("react.suspense_list"),Kn=Symbol.for("react.memo"),Hn=Symbol.for("react.lazy"),yn=Symbol.for("react.scope"),yr=Symbol.for("react.debug_trace_mode"),fi=Symbol.for("react.legacy_hidden"),Ir=Symbol.for("react.default_value"),Xr=Symbol.iterator;function Gi(B){if(B==null)return null;if(typeof B=="function")return B.displayName||B.name||null;if(typeof B=="string")return B;switch(B){case cn:return"Fragment";case mn:return"Portal";case gn:return"Profiler";case kt:return"StrictMode";case An:return"Suspense";case Nn:return"SuspenseList"}if(typeof B=="object")switch(B.$$typeof){case Fn:return(B.displayName||"Context")+".Consumer";case wn:return(B._context.displayName||"Context")+".Provider";case Rn:var J=B.render;return B=B.displayName,B||(B=J.displayName||J.name||"",B=B!==""?"ForwardRef("+B+")":"ForwardRef"),B;case Kn:return J=B.displayName||null,J!==null?J:Gi(B.type)||"Memo";case Hn:J=B._payload,B=B._init;try{return Gi(B(J))}catch{}}return null}var vr={};function lr(B,J){if(B=B.contextTypes,!B)return vr;var fe={},Se;for(Se in B)fe[Se]=J[Se];return fe}var Dn=null;function Lr(B,J){if(B!==J){B.context._currentValue2=B.parentValue,B=B.parent;var fe=J.parent;if(B===null){if(fe!==null)throw Error(p(401))}else{if(fe===null)throw Error(p(401));Lr(B,fe)}J.context._currentValue2=J.value}}function ti(B){B.context._currentValue2=B.parentValue,B=B.parent,B!==null&&ti(B)}function Vi(B){var J=B.parent;J!==null&&Vi(J),B.context._currentValue2=B.value}function Ga(B,J){if(B.context._currentValue2=B.parentValue,B=B.parent,B===null)throw Error(p(402));B.depth===J.depth?Lr(B,J):Ga(B,J)}function Zi(B,J){var fe=J.parent;if(fe===null)throw Error(p(402));B.depth===fe.depth?Lr(B,fe):Zi(B,fe),J.context._currentValue2=J.value}function Yr(B){var J=Dn;J!==B&&(J===null?Vi(B):B===null?ti(J):J.depth===B.depth?Lr(J,B):J.depth>B.depth?Ga(J,B):Zi(J,B),Dn=B)}var Li={isMounted:function(){return!1},enqueueSetState:function(B,J){B=B._reactInternals,B.queue!==null&&B.queue.push(J)},enqueueReplaceState:function(B,J){B=B._reactInternals,B.replace=!0,B.queue=[J]},enqueueForceUpdate:function(){}};function bi(B,J,fe,Se){var gt=B.state!==void 0?B.state:null;B.updater=Li,B.props=fe,B.state=gt;var ct={queue:[],replace:!1};B._reactInternals=ct;var Ut=J.contextType;if(B.context=typeof Ut=="object"&&Ut!==null?Ut._currentValue2:Se,Ut=J.getDerivedStateFromProps,typeof Ut=="function"&&(Ut=Ut(fe,gt),gt=Ut==null?gt:We({},gt,Ut),B.state=gt),typeof J.getDerivedStateFromProps!="function"&&typeof B.getSnapshotBeforeUpdate!="function"&&(typeof B.UNSAFE_componentWillMount=="function"||typeof B.componentWillMount=="function"))if(J=B.state,typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount(),J!==B.state&&Li.enqueueReplaceState(B,B.state,null),ct.queue!==null&&0<ct.queue.length)if(J=ct.queue,Ut=ct.replace,ct.queue=null,ct.replace=!1,Ut&&J.length===1)B.state=J[0];else{for(ct=Ut?J[0]:B.state,gt=!0,Ut=Ut?1:0;Ut<J.length;Ut++){var sn=J[Ut];sn=typeof sn=="function"?sn.call(B,ct,fe,Se):sn,sn!=null&&(gt?(gt=!1,ct=We({},ct,sn)):We(ct,sn))}B.state=ct}else ct.queue=null}var xr={id:1,overflow:""};function wi(B,J,fe){var Se=B.id;B=B.overflow;var gt=32-ni(Se)-1;Se&=~(1<<gt),fe+=1;var ct=32-ni(J)+gt;if(30<ct){var Ut=gt-gt%5;return ct=(Se&(1<<Ut)-1).toString(32),Se>>=Ut,gt-=Ut,{id:1<<32-ni(J)+gt|fe<<gt|Se,overflow:ct+B}}return{id:1<<ct|fe<<gt|Se,overflow:B}}var ni=Math.clz32?Math.clz32:ne,ma=Math.log,Fe=Math.LN2;function ne(B){return B>>>=0,B===0?32:31-(ma(B)/Fe|0)|0}function ae(B,J){return B===J&&(B!==0||1/B===1/J)||B!==B&&J!==J}var _e=typeof Object.is=="function"?Object.is:ae,Te=null,Ze=null,ge=null,Je=null,Ye=!1,at=!1,pt=0,tt=null,Rt=0;function Qt(){if(Te===null)throw Error(p(321));return Te}function hn(){if(0<Rt)throw Error(p(312));return{memoizedState:null,queue:null,next:null}}function Tn(){return Je===null?ge===null?(Ye=!1,ge=Je=hn()):(Ye=!0,Je=ge):Je.next===null?(Ye=!1,Je=Je.next=hn()):(Ye=!0,Je=Je.next),Je}function Xn(){Ze=Te=null,at=!1,ge=null,Rt=0,Je=tt=null}function On(B,J){return typeof J=="function"?J(B):J}function wt(B,J,fe){if(Te=Qt(),Je=Tn(),Ye){var Se=Je.queue;if(J=Se.dispatch,tt!==null&&(fe=tt.get(Se),fe!==void 0)){tt.delete(Se),Se=Je.memoizedState;do Se=B(Se,fe.action),fe=fe.next;while(fe!==null);return Je.memoizedState=Se,[Se,J]}return[Je.memoizedState,J]}return B=B===On?typeof J=="function"?J():J:fe!==void 0?fe(J):J,Je.memoizedState=B,B=Je.queue={last:null,dispatch:null},B=B.dispatch=dr.bind(null,Te,B),[Je.memoizedState,B]}function br(B,J){if(Te=Qt(),Je=Tn(),J=J===void 0?null:J,Je!==null){var fe=Je.memoizedState;if(fe!==null&&J!==null){var Se=fe[1];e:if(Se===null)Se=!1;else{for(var gt=0;gt<Se.length&&gt<J.length;gt++)if(!_e(J[gt],Se[gt])){Se=!1;break e}Se=!0}if(Se)return fe[0]}}return B=B(),Je.memoizedState=[B,J],B}function dr(B,J,fe){if(25<=Rt)throw Error(p(301));if(B===Te)if(at=!0,B={action:fe,next:null},tt===null&&(tt=new Map),fe=tt.get(J),fe===void 0)tt.set(J,B);else{for(J=fe;J.next!==null;)J=J.next;J.next=B}}function wr(){throw Error(p(394))}function Ln(){}var zt={readContext:function(B){return B._currentValue2},useContext:function(B){return Qt(),B._currentValue2},useMemo:br,useReducer:wt,useRef:function(B){Te=Qt(),Je=Tn();var J=Je.memoizedState;return J===null?(B={current:B},Je.memoizedState=B):J},useState:function(B){return wt(On,B)},useInsertionEffect:Ln,useLayoutEffect:function(){},useCallback:function(B,J){return br(function(){return B},J)},useImperativeHandle:Ln,useEffect:Ln,useDebugValue:Ln,useDeferredValue:function(B){return Qt(),B},useTransition:function(){return Qt(),[!1,wr]},useId:function(){var B=Ze.treeContext,J=B.overflow;B=B.id,B=(B&~(1<<32-ni(B)-1)).toString(32)+J;var fe=Gn;if(fe===null)throw Error(p(404));return J=pt++,B=":"+fe.idPrefix+"R"+B,0<J&&(B+="H"+J.toString(32)),B+":"},useMutableSource:function(B,J){return Qt(),J(B._source)},useSyncExternalStore:function(B,J,fe){if(fe===void 0)throw Error(p(407));return fe()}},Gn=null,nr=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Nr(B){return console.error(B),null}function $r(){}function Ia(B,J,fe,Se,gt,ct,Ut,sn,_n){var Mn=[],xn=new Set;return J={destination:null,responseState:J,progressiveChunkSize:Se===void 0?12800:Se,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:xn,pingedTasks:Mn,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:gt===void 0?Nr:gt,onAllReady:$r,onShellReady:Ut===void 0?$r:Ut,onShellError:$r,onFatalError:$r},fe=ns(J,0,null,fe,!1,!1),fe.parentFlushed=!0,B=ar(J,B,null,fe,xn,vr,null,xr),Mn.push(B),J}function ar(B,J,fe,Se,gt,ct,Ut,sn){B.allPendingTasks++,fe===null?B.pendingRootTasks++:fe.pendingTasks++;var _n={node:J,ping:function(){var Mn=B.pingedTasks;Mn.push(_n),Mn.length===1&&so(B)},blockedBoundary:fe,blockedSegment:Se,abortSet:gt,legacyContext:ct,context:Ut,treeContext:sn};return gt.add(_n),_n}function ns(B,J,fe,Se,gt,ct){return{status:0,id:-1,index:J,parentFlushed:!1,chunks:[],children:[],formatContext:Se,boundary:fe,lastPushedText:gt,textEmbedded:ct}}function rs(B,J){if(B=B.onError(J),B!=null&&typeof B!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof B+'" instead');return B}function Po(B,J){var fe=B.onShellError;fe(J),fe=B.onFatalError,fe(J),B.destination!==null?(B.status=2,B.destination.destroy(J)):(B.status=1,B.fatalError=J)}function ol(B,J,fe,Se,gt){for(Te={},Ze=J,pt=0,B=fe(Se,gt);at;)at=!1,pt=0,Rt+=1,Je=null,B=fe(Se,gt);return Xn(),B}function Wa(B,J,fe,Se){var gt=fe.render(),ct=Se.childContextTypes;if(ct!=null){var Ut=J.legacyContext;if(typeof fe.getChildContext!="function")Se=Ut;else{fe=fe.getChildContext();for(var sn in fe)if(!(sn in ct))throw Error(p(108,Gi(Se)||"Unknown",sn));Se=We({},Ut,fe)}J.legacyContext=Se,oi(B,J,gt),J.legacyContext=Ut}else oi(B,J,gt)}function Os(B,J){if(B&&B.defaultProps){J=We({},J),B=B.defaultProps;for(var fe in B)J[fe]===void 0&&(J[fe]=B[fe]);return J}return J}function or(B,J,fe,Se,gt){if(typeof fe=="function")if(fe.prototype&&fe.prototype.isReactComponent){gt=lr(fe,J.legacyContext);var ct=fe.contextType;ct=new fe(Se,typeof ct=="object"&&ct!==null?ct._currentValue2:gt),bi(ct,fe,Se,gt),Wa(B,J,ct,fe)}else{ct=lr(fe,J.legacyContext),gt=ol(B,J,fe,Se,ct);var Ut=pt!==0;if(typeof gt=="object"&&gt!==null&&typeof gt.render=="function"&&gt.$$typeof===void 0)bi(gt,fe,Se,ct),Wa(B,J,gt,fe);else if(Ut){Se=J.treeContext,J.treeContext=wi(Se,1,0);try{oi(B,J,gt)}finally{J.treeContext=Se}}else oi(B,J,gt)}else if(typeof fe=="string"){switch(gt=J.blockedSegment,ct=Wt(gt.chunks,fe,Se,B.responseState,gt.formatContext),gt.lastPushedText=!1,Ut=gt.formatContext,gt.formatContext=ze(Ut,fe,Se),Fs(B,J,ct),gt.formatContext=Ut,fe){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:gt.chunks.push("</",fe,">")}gt.lastPushedText=!1}else{switch(fe){case fi:case yr:case kt:case gn:case cn:oi(B,J,Se.children);return;case Nn:oi(B,J,Se.children);return;case yn:throw Error(p(343));case An:e:{fe=J.blockedBoundary,gt=J.blockedSegment,ct=Se.fallback,Se=Se.children,Ut=new Set;var sn={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:Ut,errorDigest:null},_n=ns(B,gt.chunks.length,sn,gt.formatContext,!1,!1);gt.children.push(_n),gt.lastPushedText=!1;var Mn=ns(B,0,null,gt.formatContext,!1,!1);Mn.parentFlushed=!0,J.blockedBoundary=sn,J.blockedSegment=Mn;try{if(Fs(B,J,Se),B.responseState.generateStaticMarkup||Mn.lastPushedText&&Mn.textEmbedded&&Mn.chunks.push("<!-- -->"),Mn.status=1,La(sn,Mn),sn.pendingTasks===0)break e}catch(xn){Mn.status=4,sn.forceClientRender=!0,sn.errorDigest=rs(B,xn)}finally{J.blockedBoundary=fe,J.blockedSegment=gt}J=ar(B,ct,fe,_n,Ut,J.legacyContext,J.context,J.treeContext),B.pingedTasks.push(J)}return}if(typeof fe=="object"&&fe!==null)switch(fe.$$typeof){case Rn:if(Se=ol(B,J,fe.render,Se,gt),pt!==0){fe=J.treeContext,J.treeContext=wi(fe,1,0);try{oi(B,J,Se)}finally{J.treeContext=fe}}else oi(B,J,Se);return;case Kn:fe=fe.type,Se=Os(fe,Se),or(B,J,fe,Se,gt);return;case wn:if(gt=Se.children,fe=fe._context,Se=Se.value,ct=fe._currentValue2,fe._currentValue2=Se,Ut=Dn,Dn=Se={parent:Ut,depth:Ut===null?0:Ut.depth+1,context:fe,parentValue:ct,value:Se},J.context=Se,oi(B,J,gt),B=Dn,B===null)throw Error(p(403));Se=B.parentValue,B.context._currentValue2=Se===Ir?B.context._defaultValue:Se,B=Dn=B.parent,J.context=B;return;case Fn:Se=Se.children,Se=Se(fe._currentValue2),oi(B,J,Se);return;case Hn:gt=fe._init,fe=gt(fe._payload),Se=Os(fe,Se),or(B,J,fe,Se,void 0);return}throw Error(p(130,fe==null?fe:typeof fe,""))}}function oi(B,J,fe){if(J.node=fe,typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case St:or(B,J,fe.type,fe.props,fe.ref);return;case mn:throw Error(p(257));case Hn:var Se=fe._init;fe=Se(fe._payload),oi(B,J,fe);return}if(He(fe)){Vr(B,J,fe);return}if(fe===null||typeof fe!="object"?Se=null:(Se=Xr&&fe[Xr]||fe["@@iterator"],Se=typeof Se=="function"?Se:null),Se&&(Se=Se.call(fe))){if(fe=Se.next(),!fe.done){var gt=[];do gt.push(fe.value),fe=Se.next();while(!fe.done);Vr(B,J,gt)}return}throw B=Object.prototype.toString.call(fe),Error(p(31,B==="[object Object]"?"object with keys {"+Object.keys(fe).join(", ")+"}":B))}typeof fe=="string"?(Se=J.blockedSegment,Se.lastPushedText=Ot(J.blockedSegment.chunks,fe,B.responseState,Se.lastPushedText)):typeof fe=="number"&&(Se=J.blockedSegment,Se.lastPushedText=Ot(J.blockedSegment.chunks,""+fe,B.responseState,Se.lastPushedText))}function Vr(B,J,fe){for(var Se=fe.length,gt=0;gt<Se;gt++){var ct=J.treeContext;J.treeContext=wi(ct,Se,gt);try{Fs(B,J,fe[gt])}finally{J.treeContext=ct}}}function Fs(B,J,fe){var Se=J.blockedSegment.formatContext,gt=J.legacyContext,ct=J.context;try{return oi(B,J,fe)}catch(_n){if(Xn(),typeof _n=="object"&&_n!==null&&typeof _n.then=="function"){fe=_n;var Ut=J.blockedSegment,sn=ns(B,Ut.chunks.length,null,Ut.formatContext,Ut.lastPushedText,!0);Ut.children.push(sn),Ut.lastPushedText=!1,B=ar(B,J.node,J.blockedBoundary,sn,J.abortSet,J.legacyContext,J.context,J.treeContext).ping,fe.then(B,B),J.blockedSegment.formatContext=Se,J.legacyContext=gt,J.context=ct,Yr(ct)}else throw J.blockedSegment.formatContext=Se,J.legacyContext=gt,J.context=ct,Yr(ct),_n}}function oo(B){var J=B.blockedBoundary;B=B.blockedSegment,B.status=3,na(this,J,B)}function n0(B,J,fe){var Se=B.blockedBoundary;B.blockedSegment.status=3,Se===null?(J.allPendingTasks--,J.status!==2&&(J.status=2,J.destination!==null&&J.destination.push(null))):(Se.pendingTasks--,Se.forceClientRender||(Se.forceClientRender=!0,B=fe===void 0?Error(p(432)):fe,Se.errorDigest=J.onError(B),Se.parentFlushed&&J.clientRenderedBoundaries.push(Se)),Se.fallbackAbortableTasks.forEach(function(gt){return n0(gt,J,fe)}),Se.fallbackAbortableTasks.clear(),J.allPendingTasks--,J.allPendingTasks===0&&(Se=J.onAllReady,Se()))}function La(B,J){if(J.chunks.length===0&&J.children.length===1&&J.children[0].boundary===null){var fe=J.children[0];fe.id=J.id,fe.parentFlushed=!0,fe.status===1&&La(B,fe)}else B.completedSegments.push(J)}function na(B,J,fe){if(J===null){if(fe.parentFlushed){if(B.completedRootSegment!==null)throw Error(p(389));B.completedRootSegment=fe}B.pendingRootTasks--,B.pendingRootTasks===0&&(B.onShellError=$r,J=B.onShellReady,J())}else J.pendingTasks--,J.forceClientRender||(J.pendingTasks===0?(fe.parentFlushed&&fe.status===1&&La(J,fe),J.parentFlushed&&B.completedBoundaries.push(J),J.fallbackAbortableTasks.forEach(oo,B),J.fallbackAbortableTasks.clear()):fe.parentFlushed&&fe.status===1&&(La(J,fe),J.completedSegments.length===1&&J.parentFlushed&&B.partialBoundaries.push(J)));B.allPendingTasks--,B.allPendingTasks===0&&(B=B.onAllReady,B())}function so(B){if(B.status!==2){var J=Dn,fe=nr.current;nr.current=zt;var Se=Gn;Gn=B.responseState;try{var gt=B.pingedTasks,ct;for(ct=0;ct<gt.length;ct++){var Ut=gt[ct],sn=B,_n=Ut.blockedSegment;if(_n.status===0){Yr(Ut.context);try{oi(sn,Ut,Ut.node),sn.responseState.generateStaticMarkup||_n.lastPushedText&&_n.textEmbedded&&_n.chunks.push("<!-- -->"),Ut.abortSet.delete(Ut),_n.status=1,na(sn,Ut.blockedBoundary,_n)}catch(er){if(Xn(),typeof er=="object"&&er!==null&&typeof er.then=="function"){var Mn=Ut.ping;er.then(Mn,Mn)}else{Ut.abortSet.delete(Ut),_n.status=4;var xn=Ut.blockedBoundary,Br=er,gi=rs(sn,Br);if(xn===null?Po(sn,Br):(xn.pendingTasks--,xn.forceClientRender||(xn.forceClientRender=!0,xn.errorDigest=gi,xn.parentFlushed&&sn.clientRenderedBoundaries.push(xn))),sn.allPendingTasks--,sn.allPendingTasks===0){var ra=sn.onAllReady;ra()}}}finally{}}}gt.splice(0,ct),B.destination!==null&&ws(B,B.destination)}catch(er){rs(B,er),Po(B,er)}finally{Gn=Se,nr.current=fe,fe===zt&&Yr(J)}}}function sl(B,J,fe){switch(fe.parentFlushed=!0,fe.status){case 0:var Se=fe.id=B.nextSegmentId++;return fe.lastPushedText=!1,fe.textEmbedded=!1,B=B.responseState,J.push('<template id="'),J.push(B.placeholderPrefix),B=Se.toString(16),J.push(B),J.push('"></template>');case 1:fe.status=2;var gt=!0;Se=fe.chunks;var ct=0;fe=fe.children;for(var Ut=0;Ut<fe.length;Ut++){for(gt=fe[Ut];ct<gt.index;ct++)J.push(Se[ct]);gt=ya(B,J,gt)}for(;ct<Se.length-1;ct++)J.push(Se[ct]);return ct<Se.length&&(gt=J.push(Se[ct])),gt;default:throw Error(p(390))}}function ya(B,J,fe){var Se=fe.boundary;if(Se===null)return sl(B,J,fe);if(Se.parentFlushed=!0,Se.forceClientRender)return B.responseState.generateStaticMarkup||(Se=Se.errorDigest,J.push("<!--$!-->"),J.push("<template"),Se&&(J.push(' data-dgst="'),Se=de(Se),J.push(Se),J.push('"')),J.push("></template>")),sl(B,J,fe),B=B.responseState.generateStaticMarkup?!0:J.push("<!--/$-->"),B;if(0<Se.pendingTasks){Se.rootSegmentID=B.nextSegmentId++,0<Se.completedSegments.length&&B.partialBoundaries.push(Se);var gt=B.responseState,ct=gt.nextSuspenseID++;return gt=gt.boundaryPrefix+ct.toString(16),Se=Se.id=gt,Vt(J,B.responseState,Se),sl(B,J,fe),J.push("<!--/$-->")}if(Se.byteSize>B.progressiveChunkSize)return Se.rootSegmentID=B.nextSegmentId++,B.completedBoundaries.push(Se),Vt(J,B.responseState,Se.id),sl(B,J,fe),J.push("<!--/$-->");if(B.responseState.generateStaticMarkup||J.push("<!--$-->"),fe=Se.completedSegments,fe.length!==1)throw Error(p(391));return ya(B,J,fe[0]),B=B.responseState.generateStaticMarkup?!0:J.push("<!--/$-->"),B}function bs(B,J,fe){return Nt(J,B.responseState,fe.formatContext,fe.id),ya(B,J,fe),$t(J,fe.formatContext)}function r0(B,J,fe){for(var Se=fe.completedSegments,gt=0;gt<Se.length;gt++)x0(B,J,fe,Se[gt]);if(Se.length=0,B=B.responseState,Se=fe.id,fe=fe.rootSegmentID,J.push(B.startInlineScript),B.sentCompleteBoundaryFunction?J.push('$RC("'):(B.sentCompleteBoundaryFunction=!0,J.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),Se===null)throw Error(p(395));return fe=fe.toString(16),J.push(Se),J.push('","'),J.push(B.segmentPrefix),J.push(fe),J.push('")<\/script>')}function x0(B,J,fe,Se){if(Se.status===2)return!0;var gt=Se.id;if(gt===-1){if((Se.id=fe.rootSegmentID)===-1)throw Error(p(392));return bs(B,J,Se)}return bs(B,J,Se),B=B.responseState,J.push(B.startInlineScript),B.sentCompleteSegmentFunction?J.push('$RS("'):(B.sentCompleteSegmentFunction=!0,J.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),J.push(B.segmentPrefix),gt=gt.toString(16),J.push(gt),J.push('","'),J.push(B.placeholderPrefix),J.push(gt),J.push('")<\/script>')}function ws(B,J){try{var fe=B.completedRootSegment;if(fe!==null&&B.pendingRootTasks===0){ya(B,J,fe),B.completedRootSegment=null;var Se=B.responseState.bootstrapChunks;for(fe=0;fe<Se.length-1;fe++)J.push(Se[fe]);fe<Se.length&&J.push(Se[fe])}var gt=B.clientRenderedBoundaries,ct;for(ct=0;ct<gt.length;ct++){var Ut=gt[ct];Se=J;var sn=B.responseState,_n=Ut.id,Mn=Ut.errorDigest,xn=Ut.errorMessage,Br=Ut.errorComponentStack;if(Se.push(sn.startInlineScript),sn.sentClientRenderFunction?Se.push('$RX("'):(sn.sentClientRenderFunction=!0,Se.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),_n===null)throw Error(p(395));if(Se.push(_n),Se.push('"'),Mn||xn||Br){Se.push(",");var gi=yt(Mn||"");Se.push(gi)}if(xn||Br){Se.push(",");var ra=yt(xn||"");Se.push(ra)}if(Br){Se.push(",");var er=yt(Br);Se.push(er)}if(!Se.push(")<\/script>")){B.destination=null,ct++,gt.splice(0,ct);return}}gt.splice(0,ct);var lo=B.completedBoundaries;for(ct=0;ct<lo.length;ct++)if(!r0(B,J,lo[ct])){B.destination=null,ct++,lo.splice(0,ct);return}lo.splice(0,ct);var Aa=B.partialBoundaries;for(ct=0;ct<Aa.length;ct++){var Sa=Aa[ct];e:{gt=B,Ut=J;var si=Sa.completedSegments;for(sn=0;sn<si.length;sn++)if(!x0(gt,Ut,Sa,si[sn])){sn++,si.splice(0,sn);var li=!1;break e}si.splice(0,sn),li=!0}if(!li){B.destination=null,ct++,Aa.splice(0,ct);return}}Aa.splice(0,ct);var Ur=B.completedBoundaries;for(ct=0;ct<Ur.length;ct++)if(!r0(B,J,Ur[ct])){B.destination=null,ct++,Ur.splice(0,ct);return}Ur.splice(0,ct)}finally{B.allPendingTasks===0&&B.pingedTasks.length===0&&B.clientRenderedBoundaries.length===0&&B.completedBoundaries.length===0&&J.push(null)}}function i0(B,J){try{var fe=B.abortableTasks;fe.forEach(function(Se){return n0(Se,B,J)}),fe.clear(),B.destination!==null&&ws(B,B.destination)}catch(Se){rs(B,Se),Po(B,Se)}}function Ns(){}function Eo(B,J,fe,Se){var gt=!1,ct=null,Ut="",sn={push:function(Mn){return Mn!==null&&(Ut+=Mn),!0},destroy:function(Mn){gt=!0,ct=Mn}},_n=!1;if(B=Ia(B,mt(fe,J?J.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,Ns,void 0,function(){_n=!0}),so(B),i0(B,Se),B.status===1)B.status=2,sn.destroy(B.fatalError);else if(B.status!==2&&B.destination===null){B.destination=sn;try{ws(B,sn)}catch(Mn){rs(B,Mn),Po(B,Mn)}}if(gt)throw ct;if(!_n)throw Error(p(426));return Ut}return Sd.renderToNodeStream=function(){throw Error(p(207))},Sd.renderToStaticMarkup=function(B,J){return Eo(B,J,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},Sd.renderToStaticNodeStream=function(){throw Error(p(208))},Sd.renderToString=function(B,J){return Eo(B,J,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},Sd.version="18.3.1",Sd}var fm={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G2;function n5(){if(G2)return fm;G2=1;var o=_g();function p(F){for(var X="https://reactjs.org/docs/error-decoder.html?invariant="+F,he=1;he<arguments.length;he++)X+="&args[]="+encodeURIComponent(arguments[he]);return"Minified React error #"+F+"; visit "+X+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d=null,w=0;function C(F,X){if(X.length!==0)if(512<X.length)0<w&&(F.enqueue(new Uint8Array(d.buffer,0,w)),d=new Uint8Array(512),w=0),F.enqueue(X);else{var he=d.length-w;he<X.length&&(he===0?F.enqueue(d):(d.set(X.subarray(0,he),w),F.enqueue(d),X=X.subarray(he)),d=new Uint8Array(512),w=0),d.set(X,w),w+=X.length}}function E(F,X){return C(F,X),!0}function A(F){d&&0<w&&(F.enqueue(new Uint8Array(d.buffer,0,w)),d=null,w=0)}var l=new TextEncoder;function V(F){return l.encode(F)}function q(F){return l.encode(F)}function ue(F,X){typeof F.error=="function"?F.error(X):F.close()}var te=Object.prototype.hasOwnProperty,ce=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,oe={},de={};function xe(F){return te.call(de,F)?!0:te.call(oe,F)?!1:ce.test(F)?de[F]=!0:(oe[F]=!0,!1)}function Pe(F,X,he,Ae,_t,st,Bt){this.acceptsBooleans=X===2||X===3||X===4,this.attributeName=Ae,this.attributeNamespace=_t,this.mustUseProperty=he,this.propertyName=F,this.type=X,this.sanitizeURL=st,this.removeEmptyString=Bt}var He={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(F){He[F]=new Pe(F,0,!1,F,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(F){var X=F[0];He[X]=new Pe(X,1,!1,F[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(F){He[F]=new Pe(F,2,!1,F.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(F){He[F]=new Pe(F,2,!1,F,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(F){He[F]=new Pe(F,3,!1,F.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(F){He[F]=new Pe(F,3,!0,F,null,!1,!1)}),["capture","download"].forEach(function(F){He[F]=new Pe(F,4,!1,F,null,!1,!1)}),["cols","rows","size","span"].forEach(function(F){He[F]=new Pe(F,6,!1,F,null,!1,!1)}),["rowSpan","start"].forEach(function(F){He[F]=new Pe(F,5,!1,F.toLowerCase(),null,!1,!1)});var rt=/[\-:]([a-z])/g;function ze(F){return F[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(F){var X=F.replace(rt,ze);He[X]=new Pe(X,1,!1,F,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(F){var X=F.replace(rt,ze);He[X]=new Pe(X,1,!1,F,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(F){var X=F.replace(rt,ze);He[X]=new Pe(X,1,!1,F,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(F){He[F]=new Pe(F,1,!1,F.toLowerCase(),null,!1,!1)}),He.xlinkHref=new Pe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(F){He[F]=new Pe(F,1,!1,F.toLowerCase(),null,!0,!0)});var Me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ge=["Webkit","ms","Moz","O"];Object.keys(Me).forEach(function(F){Ge.forEach(function(X){X=X+F.charAt(0).toUpperCase()+F.substring(1),Me[X]=Me[F]})});var je=/["'&<>]/;function ot(F){if(typeof F=="boolean"||typeof F=="number")return""+F;F=""+F;var X=je.exec(F);if(X){var he="",Ae,_t=0;for(Ae=X.index;Ae<F.length;Ae++){switch(F.charCodeAt(Ae)){case 34:X="&quot;";break;case 38:X="&amp;";break;case 39:X="&#x27;";break;case 60:X="&lt;";break;case 62:X="&gt;";break;default:continue}_t!==Ae&&(he+=F.substring(_t,Ae)),_t=Ae+1,he+=X}F=_t!==Ae?he+F.substring(_t,Ae):he}return F}var Pt=/([A-Z])/g,Jt=/^ms-/,ye=Array.isArray,Dt=q("<script>"),Mt=q("<\/script>"),Wt=q('<script src="'),Vt=q('<script type="module" src="'),Nt=q('" async=""><\/script>'),$t=/(<\/|<)(s)(cript)/gi;function dn(F,X,he,Ae){return""+X+(he==="s"?"\\u0073":"\\u0053")+Ae}function yt(F,X,he,Ae,_t){F=F===void 0?"":F,X=X===void 0?Dt:q('<script nonce="'+ot(X)+'">');var st=[];if(he!==void 0&&st.push(X,V((""+he).replace($t,dn)),Mt),Ae!==void 0)for(he=0;he<Ae.length;he++)st.push(Wt,V(ot(Ae[he])),Nt);if(_t!==void 0)for(Ae=0;Ae<_t.length;Ae++)st.push(Vt,V(ot(_t[Ae])),Nt);return{bootstrapChunks:st,startInlineScript:X,placeholderPrefix:q(F+"P:"),segmentPrefix:q(F+"S:"),boundaryPrefix:F+"B:",idPrefix:F,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function mt(F,X){return{insertionMode:F,selectedValue:X}}function Ot(F){return mt(F==="http://www.w3.org/2000/svg"?2:F==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function We(F,X,he){switch(X){case"select":return mt(1,he.value!=null?he.value:he.defaultValue);case"svg":return mt(2,null);case"math":return mt(3,null);case"foreignObject":return mt(1,null);case"table":return mt(4,null);case"thead":case"tbody":case"tfoot":return mt(5,null);case"colgroup":return mt(7,null);case"tr":return mt(6,null)}return 4<=F.insertionMode||F.insertionMode===0?mt(1,null):F}var St=q("<!-- -->");function mn(F,X,he,Ae){return X===""?Ae:(Ae&&F.push(St),F.push(V(ot(X))),!0)}var cn=new Map,kt=q(' style="'),gn=q(":"),wn=q(";");function Fn(F,X,he){if(typeof he!="object")throw Error(p(62));X=!0;for(var Ae in he)if(te.call(he,Ae)){var _t=he[Ae];if(_t!=null&&typeof _t!="boolean"&&_t!==""){if(Ae.indexOf("--")===0){var st=V(ot(Ae));_t=V(ot((""+_t).trim()))}else{st=Ae;var Bt=cn.get(st);Bt!==void 0||(Bt=q(ot(st.replace(Pt,"-$1").toLowerCase().replace(Jt,"-ms-"))),cn.set(st,Bt)),st=Bt,_t=typeof _t=="number"?_t===0||te.call(Me,Ae)?V(""+_t):V(_t+"px"):V(ot((""+_t).trim()))}X?(X=!1,F.push(kt,st,gn,_t)):F.push(wn,st,gn,_t)}}X||F.push(Nn)}var Rn=q(" "),An=q('="'),Nn=q('"'),Kn=q('=""');function Hn(F,X,he,Ae){switch(he){case"style":Fn(F,X,Ae);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<he.length)||he[0]!=="o"&&he[0]!=="O"||he[1]!=="n"&&he[1]!=="N"){if(X=He.hasOwnProperty(he)?He[he]:null,X!==null){switch(typeof Ae){case"function":case"symbol":return;case"boolean":if(!X.acceptsBooleans)return}switch(he=V(X.attributeName),X.type){case 3:Ae&&F.push(Rn,he,Kn);break;case 4:Ae===!0?F.push(Rn,he,Kn):Ae!==!1&&F.push(Rn,he,An,V(ot(Ae)),Nn);break;case 5:isNaN(Ae)||F.push(Rn,he,An,V(ot(Ae)),Nn);break;case 6:!isNaN(Ae)&&1<=Ae&&F.push(Rn,he,An,V(ot(Ae)),Nn);break;default:X.sanitizeURL&&(Ae=""+Ae),F.push(Rn,he,An,V(ot(Ae)),Nn)}}else if(xe(he)){switch(typeof Ae){case"function":case"symbol":return;case"boolean":if(X=he.toLowerCase().slice(0,5),X!=="data-"&&X!=="aria-")return}F.push(Rn,V(he),An,V(ot(Ae)),Nn)}}}var yn=q(">"),yr=q("/>");function fi(F,X,he){if(X!=null){if(he!=null)throw Error(p(60));if(typeof X!="object"||!("__html"in X))throw Error(p(61));X=X.__html,X!=null&&F.push(V(""+X))}}function Ir(F){var X="";return o.Children.forEach(F,function(he){he!=null&&(X+=he)}),X}var Xr=q(' selected=""');function Gi(F,X,he,Ae){F.push(Lr(he));var _t=he=null,st;for(st in X)if(te.call(X,st)){var Bt=X[st];if(Bt!=null)switch(st){case"children":he=Bt;break;case"dangerouslySetInnerHTML":_t=Bt;break;default:Hn(F,Ae,st,Bt)}}return F.push(yn),fi(F,_t,he),typeof he=="string"?(F.push(V(ot(he))),null):he}var vr=q(`
`),lr=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Dn=new Map;function Lr(F){var X=Dn.get(F);if(X===void 0){if(!lr.test(F))throw Error(p(65,F));X=q("<"+F),Dn.set(F,X)}return X}var ti=q("<!DOCTYPE html>");function Vi(F,X,he,Ae,_t){switch(X){case"select":F.push(Lr("select"));var st=null,Bt=null;for(Qn in he)if(te.call(he,Qn)){var ln=he[Qn];if(ln!=null)switch(Qn){case"children":st=ln;break;case"dangerouslySetInnerHTML":Bt=ln;break;case"defaultValue":case"value":break;default:Hn(F,Ae,Qn,ln)}}return F.push(yn),fi(F,Bt,st),st;case"option":Bt=_t.selectedValue,F.push(Lr("option"));var Bn=ln=null,cr=null,Qn=null;for(st in he)if(te.call(he,st)){var hi=he[st];if(hi!=null)switch(st){case"children":ln=hi;break;case"selected":cr=hi;break;case"dangerouslySetInnerHTML":Qn=hi;break;case"value":Bn=hi;default:Hn(F,Ae,st,hi)}}if(Bt!=null)if(he=Bn!==null?""+Bn:Ir(ln),ye(Bt)){for(Ae=0;Ae<Bt.length;Ae++)if(""+Bt[Ae]===he){F.push(Xr);break}}else""+Bt===he&&F.push(Xr);else cr&&F.push(Xr);return F.push(yn),fi(F,Qn,ln),ln;case"textarea":F.push(Lr("textarea")),Qn=Bt=st=null;for(ln in he)if(te.call(he,ln)&&(Bn=he[ln],Bn!=null))switch(ln){case"children":Qn=Bn;break;case"value":st=Bn;break;case"defaultValue":Bt=Bn;break;case"dangerouslySetInnerHTML":throw Error(p(91));default:Hn(F,Ae,ln,Bn)}if(st===null&&Bt!==null&&(st=Bt),F.push(yn),Qn!=null){if(st!=null)throw Error(p(92));if(ye(Qn)&&1<Qn.length)throw Error(p(93));st=""+Qn}return typeof st=="string"&&st[0]===`
`&&F.push(vr),st!==null&&F.push(V(ot(""+st))),null;case"input":F.push(Lr("input")),Bn=Qn=ln=st=null;for(Bt in he)if(te.call(he,Bt)&&(cr=he[Bt],cr!=null))switch(Bt){case"children":case"dangerouslySetInnerHTML":throw Error(p(399,"input"));case"defaultChecked":Bn=cr;break;case"defaultValue":ln=cr;break;case"checked":Qn=cr;break;case"value":st=cr;break;default:Hn(F,Ae,Bt,cr)}return Qn!==null?Hn(F,Ae,"checked",Qn):Bn!==null&&Hn(F,Ae,"checked",Bn),st!==null?Hn(F,Ae,"value",st):ln!==null&&Hn(F,Ae,"value",ln),F.push(yr),null;case"menuitem":F.push(Lr("menuitem"));for(var Oa in he)if(te.call(he,Oa)&&(st=he[Oa],st!=null))switch(Oa){case"children":case"dangerouslySetInnerHTML":throw Error(p(400));default:Hn(F,Ae,Oa,st)}return F.push(yn),null;case"title":F.push(Lr("title")),st=null;for(hi in he)if(te.call(he,hi)&&(Bt=he[hi],Bt!=null))switch(hi){case"children":st=Bt;break;case"dangerouslySetInnerHTML":throw Error(p(434));default:Hn(F,Ae,hi,Bt)}return F.push(yn),st;case"listing":case"pre":F.push(Lr(X)),Bt=st=null;for(Bn in he)if(te.call(he,Bn)&&(ln=he[Bn],ln!=null))switch(Bn){case"children":st=ln;break;case"dangerouslySetInnerHTML":Bt=ln;break;default:Hn(F,Ae,Bn,ln)}if(F.push(yn),Bt!=null){if(st!=null)throw Error(p(60));if(typeof Bt!="object"||!("__html"in Bt))throw Error(p(61));he=Bt.__html,he!=null&&(typeof he=="string"&&0<he.length&&he[0]===`
`?F.push(vr,V(he)):F.push(V(""+he)))}return typeof st=="string"&&st[0]===`
`&&F.push(vr),st;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":F.push(Lr(X));for(var Uo in he)if(te.call(he,Uo)&&(st=he[Uo],st!=null))switch(Uo){case"children":case"dangerouslySetInnerHTML":throw Error(p(399,X));default:Hn(F,Ae,Uo,st)}return F.push(yr),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return Gi(F,he,X,Ae);case"html":return _t.insertionMode===0&&F.push(ti),Gi(F,he,X,Ae);default:if(X.indexOf("-")===-1&&typeof he.is!="string")return Gi(F,he,X,Ae);F.push(Lr(X)),Bt=st=null;for(cr in he)if(te.call(he,cr)&&(ln=he[cr],ln!=null))switch(cr){case"children":st=ln;break;case"dangerouslySetInnerHTML":Bt=ln;break;case"style":Fn(F,Ae,ln);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:xe(cr)&&typeof ln!="function"&&typeof ln!="symbol"&&F.push(Rn,V(cr),An,V(ot(ln)),Nn)}return F.push(yn),fi(F,Bt,st),st}}var Ga=q("</"),Zi=q(">"),Yr=q('<template id="'),Li=q('"></template>'),bi=q("<!--$-->"),xr=q('<!--$?--><template id="'),wi=q('"></template>'),ni=q("<!--$!-->"),ma=q("<!--/$-->"),Fe=q("<template"),ne=q('"'),ae=q(' data-dgst="');q(' data-msg="'),q(' data-stck="');var _e=q("></template>");function Te(F,X,he){if(C(F,xr),he===null)throw Error(p(395));return C(F,he),E(F,wi)}var Ze=q('<div hidden id="'),ge=q('">'),Je=q("</div>"),Ye=q('<svg aria-hidden="true" style="display:none" id="'),at=q('">'),pt=q("</svg>"),tt=q('<math aria-hidden="true" style="display:none" id="'),Rt=q('">'),Qt=q("</math>"),hn=q('<table hidden id="'),Tn=q('">'),Xn=q("</table>"),On=q('<table hidden><tbody id="'),wt=q('">'),br=q("</tbody></table>"),dr=q('<table hidden><tr id="'),wr=q('">'),Ln=q("</tr></table>"),zt=q('<table hidden><colgroup id="'),Gn=q('">'),nr=q("</colgroup></table>");function Nr(F,X,he,Ae){switch(he.insertionMode){case 0:case 1:return C(F,Ze),C(F,X.segmentPrefix),C(F,V(Ae.toString(16))),E(F,ge);case 2:return C(F,Ye),C(F,X.segmentPrefix),C(F,V(Ae.toString(16))),E(F,at);case 3:return C(F,tt),C(F,X.segmentPrefix),C(F,V(Ae.toString(16))),E(F,Rt);case 4:return C(F,hn),C(F,X.segmentPrefix),C(F,V(Ae.toString(16))),E(F,Tn);case 5:return C(F,On),C(F,X.segmentPrefix),C(F,V(Ae.toString(16))),E(F,wt);case 6:return C(F,dr),C(F,X.segmentPrefix),C(F,V(Ae.toString(16))),E(F,wr);case 7:return C(F,zt),C(F,X.segmentPrefix),C(F,V(Ae.toString(16))),E(F,Gn);default:throw Error(p(397))}}function $r(F,X){switch(X.insertionMode){case 0:case 1:return E(F,Je);case 2:return E(F,pt);case 3:return E(F,Qt);case 4:return E(F,Xn);case 5:return E(F,br);case 6:return E(F,Ln);case 7:return E(F,nr);default:throw Error(p(397))}}var Ia=q('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),ar=q('$RS("'),ns=q('","'),rs=q('")<\/script>'),Po=q('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),ol=q('$RC("'),Wa=q('","'),Os=q('")<\/script>'),or=q('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),oi=q('$RX("'),Vr=q('"'),Fs=q(")<\/script>"),oo=q(","),n0=/[<\u2028\u2029]/g;function La(F){return JSON.stringify(F).replace(n0,function(X){switch(X){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var na=Object.assign,so=Symbol.for("react.element"),sl=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),bs=Symbol.for("react.strict_mode"),r0=Symbol.for("react.profiler"),x0=Symbol.for("react.provider"),ws=Symbol.for("react.context"),i0=Symbol.for("react.forward_ref"),Ns=Symbol.for("react.suspense"),Eo=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),fe=Symbol.for("react.scope"),Se=Symbol.for("react.debug_trace_mode"),gt=Symbol.for("react.legacy_hidden"),ct=Symbol.for("react.default_value"),Ut=Symbol.iterator;function sn(F){if(F==null)return null;if(typeof F=="function")return F.displayName||F.name||null;if(typeof F=="string")return F;switch(F){case ya:return"Fragment";case sl:return"Portal";case r0:return"Profiler";case bs:return"StrictMode";case Ns:return"Suspense";case Eo:return"SuspenseList"}if(typeof F=="object")switch(F.$$typeof){case ws:return(F.displayName||"Context")+".Consumer";case x0:return(F._context.displayName||"Context")+".Provider";case i0:var X=F.render;return F=F.displayName,F||(F=X.displayName||X.name||"",F=F!==""?"ForwardRef("+F+")":"ForwardRef"),F;case B:return X=F.displayName||null,X!==null?X:sn(F.type)||"Memo";case J:X=F._payload,F=F._init;try{return sn(F(X))}catch{}}return null}var _n={};function Mn(F,X){if(F=F.contextTypes,!F)return _n;var he={},Ae;for(Ae in F)he[Ae]=X[Ae];return he}var xn=null;function Br(F,X){if(F!==X){F.context._currentValue=F.parentValue,F=F.parent;var he=X.parent;if(F===null){if(he!==null)throw Error(p(401))}else{if(he===null)throw Error(p(401));Br(F,he)}X.context._currentValue=X.value}}function gi(F){F.context._currentValue=F.parentValue,F=F.parent,F!==null&&gi(F)}function ra(F){var X=F.parent;X!==null&&ra(X),F.context._currentValue=F.value}function er(F,X){if(F.context._currentValue=F.parentValue,F=F.parent,F===null)throw Error(p(402));F.depth===X.depth?Br(F,X):er(F,X)}function lo(F,X){var he=X.parent;if(he===null)throw Error(p(402));F.depth===he.depth?Br(F,he):lo(F,he),X.context._currentValue=X.value}function Aa(F){var X=xn;X!==F&&(X===null?ra(F):F===null?gi(X):X.depth===F.depth?Br(X,F):X.depth>F.depth?er(X,F):lo(X,F),xn=F)}var Sa={isMounted:function(){return!1},enqueueSetState:function(F,X){F=F._reactInternals,F.queue!==null&&F.queue.push(X)},enqueueReplaceState:function(F,X){F=F._reactInternals,F.replace=!0,F.queue=[X]},enqueueForceUpdate:function(){}};function si(F,X,he,Ae){var _t=F.state!==void 0?F.state:null;F.updater=Sa,F.props=he,F.state=_t;var st={queue:[],replace:!1};F._reactInternals=st;var Bt=X.contextType;if(F.context=typeof Bt=="object"&&Bt!==null?Bt._currentValue:Ae,Bt=X.getDerivedStateFromProps,typeof Bt=="function"&&(Bt=Bt(he,_t),_t=Bt==null?_t:na({},_t,Bt),F.state=_t),typeof X.getDerivedStateFromProps!="function"&&typeof F.getSnapshotBeforeUpdate!="function"&&(typeof F.UNSAFE_componentWillMount=="function"||typeof F.componentWillMount=="function"))if(X=F.state,typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount(),X!==F.state&&Sa.enqueueReplaceState(F,F.state,null),st.queue!==null&&0<st.queue.length)if(X=st.queue,Bt=st.replace,st.queue=null,st.replace=!1,Bt&&X.length===1)F.state=X[0];else{for(st=Bt?X[0]:F.state,_t=!0,Bt=Bt?1:0;Bt<X.length;Bt++){var ln=X[Bt];ln=typeof ln=="function"?ln.call(F,st,he,Ae):ln,ln!=null&&(_t?(_t=!1,st=na({},st,ln)):na(st,ln))}F.state=st}else st.queue=null}var li={id:1,overflow:""};function Ur(F,X,he){var Ae=F.id;F=F.overflow;var _t=32-Ii(Ae)-1;Ae&=~(1<<_t),he+=1;var st=32-Ii(X)+_t;if(30<st){var Bt=_t-_t%5;return st=(Ae&(1<<Bt)-1).toString(32),Ae>>=Bt,_t-=Bt,{id:1<<32-Ii(X)+_t|he<<_t|Ae,overflow:st+F}}return{id:1<<st|he<<_t|Ae,overflow:F}}var Ii=Math.clz32?Math.clz32:Ba,zr=Math.log,b0=Math.LN2;function Ba(F){return F>>>=0,F===0?32:31-(zr(F)/b0|0)|0}function ia(F,X){return F===X&&(F!==0||1/F===1/X)||F!==F&&X!==X}var uo=typeof Object.is=="function"?Object.is:ia,co=null,Rr=null,ui=null,Un=null,vn=!1,Ar=!1,Yn=0,ho=null,aa=0;function ll(){if(co===null)throw Error(p(321));return co}function w0(){if(0<aa)throw Error(p(312));return{memoizedState:null,queue:null,next:null}}function $s(){return Un===null?ui===null?(vn=!1,ui=Un=w0()):(vn=!0,Un=ui):Un.next===null?(vn=!1,Un=Un.next=w0()):(vn=!0,Un=Un.next),Un}function Ds(){Rr=co=null,Ar=!1,ui=null,aa=0,Un=ho=null}function a0(F,X){return typeof X=="function"?X(F):X}function ci(F,X,he){if(co=ll(),Un=$s(),vn){var Ae=Un.queue;if(X=Ae.dispatch,ho!==null&&(he=ho.get(Ae),he!==void 0)){ho.delete(Ae),Ae=Un.memoizedState;do Ae=F(Ae,he.action),he=he.next;while(he!==null);return Un.memoizedState=Ae,[Ae,X]}return[Un.memoizedState,X]}return F=F===a0?typeof X=="function"?X():X:he!==void 0?he(X):X,Un.memoizedState=F,F=Un.queue={last:null,dispatch:null},F=F.dispatch=po.bind(null,co,F),[Un.memoizedState,F]}function ul(F,X){if(co=ll(),Un=$s(),X=X===void 0?null:X,Un!==null){var he=Un.memoizedState;if(he!==null&&X!==null){var Ae=he[1];e:if(Ae===null)Ae=!1;else{for(var _t=0;_t<Ae.length&&_t<X.length;_t++)if(!uo(X[_t],Ae[_t])){Ae=!1;break e}Ae=!0}if(Ae)return he[0]}}return F=F(),Un.memoizedState=[F,X],F}function po(F,X,he){if(25<=aa)throw Error(p(301));if(F===co)if(Ar=!0,F={action:he,next:null},ho===null&&(ho=new Map),he=ho.get(X),he===void 0)ho.set(X,F);else{for(X=he;X.next!==null;)X=X.next;X.next=F}}function cl(){throw Error(p(394))}function mi(){}var Bi={readContext:function(F){return F._currentValue},useContext:function(F){return ll(),F._currentValue},useMemo:ul,useReducer:ci,useRef:function(F){co=ll(),Un=$s();var X=Un.memoizedState;return X===null?(F={current:F},Un.memoizedState=F):X},useState:function(F){return ci(a0,F)},useInsertionEffect:mi,useLayoutEffect:function(){},useCallback:function(F,X){return ul(function(){return F},X)},useImperativeHandle:mi,useEffect:mi,useDebugValue:mi,useDeferredValue:function(F){return ll(),F},useTransition:function(){return ll(),[!1,cl]},useId:function(){var F=Rr.treeContext,X=F.overflow;F=F.id,F=(F&~(1<<32-Ii(F)-1)).toString(32)+X;var he=js;if(he===null)throw Error(p(404));return X=Yn++,F=":"+he.idPrefix+"R"+F,0<X&&(F+="H"+X.toString(32)),F+":"},useMutableSource:function(F,X){return ll(),X(F._source)},useSyncExternalStore:function(F,X,he){if(he===void 0)throw Error(p(407));return he()}},js=null,Pi=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Ai(F){return console.error(F),null}function Cs(){}function hl(F,X,he,Ae,_t,st,Bt,ln,Bn){var cr=[],Qn=new Set;return X={destination:null,responseState:X,progressiveChunkSize:Ae===void 0?12800:Ae,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:Qn,pingedTasks:cr,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:_t===void 0?Ai:_t,onAllReady:st===void 0?Cs:st,onShellReady:Bt===void 0?Cs:Bt,onShellError:ln===void 0?Cs:ln,onFatalError:Bn===void 0?Cs:Bn},he=_a(X,0,null,he,!1,!1),he.parentFlushed=!0,F=X0(X,F,null,he,Qn,_n,null,li),cr.push(F),X}function X0(F,X,he,Ae,_t,st,Bt,ln){F.allPendingTasks++,he===null?F.pendingRootTasks++:he.pendingTasks++;var Bn={node:X,ping:function(){var cr=F.pingedTasks;cr.push(Bn),cr.length===1&&C0(F)},blockedBoundary:he,blockedSegment:Ae,abortSet:_t,legacyContext:st,context:Bt,treeContext:ln};return _t.add(Bn),Bn}function _a(F,X,he,Ae,_t,st){return{status:0,id:-1,index:X,parentFlushed:!1,chunks:[],children:[],formatContext:Ae,boundary:he,lastPushedText:_t,textEmbedded:st}}function Oi(F,X){if(F=F.onError(X),F!=null&&typeof F!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof F+'" instead');return F}function Ei(F,X){var he=F.onShellError;he(X),he=F.onFatalError,he(X),F.destination!==null?(F.status=2,ue(F.destination,X)):(F.status=1,F.fatalError=X)}function fo(F,X,he,Ae,_t){for(co={},Rr=X,Yn=0,F=he(Ae,_t);Ar;)Ar=!1,Yn=0,aa+=1,Un=null,F=he(Ae,_t);return Ds(),F}function Vs(F,X,he,Ae){var _t=he.render(),st=Ae.childContextTypes;if(st!=null){var Bt=X.legacyContext;if(typeof he.getChildContext!="function")Ae=Bt;else{he=he.getChildContext();for(var ln in he)if(!(ln in st))throw Error(p(108,sn(Ae)||"Unknown",ln));Ae=na({},Bt,he)}X.legacyContext=Ae,Wi(F,X,_t),X.legacyContext=Bt}else Wi(F,X,_t)}function ko(F,X){if(F&&F.defaultProps){X=na({},X),F=F.defaultProps;for(var he in F)X[he]===void 0&&(X[he]=F[he]);return X}return X}function Ta(F,X,he,Ae,_t){if(typeof he=="function")if(he.prototype&&he.prototype.isReactComponent){_t=Mn(he,X.legacyContext);var st=he.contextType;st=new he(Ae,typeof st=="object"&&st!==null?st._currentValue:_t),si(st,he,Ae,_t),Vs(F,X,st,he)}else{st=Mn(he,X.legacyContext),_t=fo(F,X,he,Ae,st);var Bt=Yn!==0;if(typeof _t=="object"&&_t!==null&&typeof _t.render=="function"&&_t.$$typeof===void 0)si(_t,he,Ae,st),Vs(F,X,_t,he);else if(Bt){Ae=X.treeContext,X.treeContext=Ur(Ae,1,0);try{Wi(F,X,_t)}finally{X.treeContext=Ae}}else Wi(F,X,_t)}else if(typeof he=="string"){switch(_t=X.blockedSegment,st=Vi(_t.chunks,he,Ae,F.responseState,_t.formatContext),_t.lastPushedText=!1,Bt=_t.formatContext,_t.formatContext=We(Bt,he,Ae),Zs(F,X,st),_t.formatContext=Bt,he){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:_t.chunks.push(Ga,V(he),Zi)}_t.lastPushedText=!1}else{switch(he){case gt:case Se:case bs:case r0:case ya:Wi(F,X,Ae.children);return;case Eo:Wi(F,X,Ae.children);return;case fe:throw Error(p(343));case Ns:e:{he=X.blockedBoundary,_t=X.blockedSegment,st=Ae.fallback,Ae=Ae.children,Bt=new Set;var ln={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:Bt,errorDigest:null},Bn=_a(F,_t.chunks.length,ln,_t.formatContext,!1,!1);_t.children.push(Bn),_t.lastPushedText=!1;var cr=_a(F,0,null,_t.formatContext,!1,!1);cr.parentFlushed=!0,X.blockedBoundary=ln,X.blockedSegment=cr;try{if(Zs(F,X,Ae),cr.lastPushedText&&cr.textEmbedded&&cr.chunks.push(St),cr.status=1,D0(ln,cr),ln.pendingTasks===0)break e}catch(Qn){cr.status=4,ln.forceClientRender=!0,ln.errorDigest=Oi(F,Qn)}finally{X.blockedBoundary=he,X.blockedSegment=_t}X=X0(F,st,he,Bn,Bt,X.legacyContext,X.context,X.treeContext),F.pingedTasks.push(X)}return}if(typeof he=="object"&&he!==null)switch(he.$$typeof){case i0:if(Ae=fo(F,X,he.render,Ae,_t),Yn!==0){he=X.treeContext,X.treeContext=Ur(he,1,0);try{Wi(F,X,Ae)}finally{X.treeContext=he}}else Wi(F,X,Ae);return;case B:he=he.type,Ae=ko(he,Ae),Ta(F,X,he,Ae,_t);return;case x0:if(_t=Ae.children,he=he._context,Ae=Ae.value,st=he._currentValue,he._currentValue=Ae,Bt=xn,xn=Ae={parent:Bt,depth:Bt===null?0:Bt.depth+1,context:he,parentValue:st,value:Ae},X.context=Ae,Wi(F,X,_t),F=xn,F===null)throw Error(p(403));Ae=F.parentValue,F.context._currentValue=Ae===ct?F.context._defaultValue:Ae,F=xn=F.parent,X.context=F;return;case ws:Ae=Ae.children,Ae=Ae(he._currentValue),Wi(F,X,Ae);return;case J:_t=he._init,he=_t(he._payload),Ae=ko(he,Ae),Ta(F,X,he,Ae,void 0);return}throw Error(p(130,he==null?he:typeof he,""))}}function Wi(F,X,he){if(X.node=he,typeof he=="object"&&he!==null){switch(he.$$typeof){case so:Ta(F,X,he.type,he.props,he.ref);return;case sl:throw Error(p(257));case J:var Ae=he._init;he=Ae(he._payload),Wi(F,X,he);return}if(ye(he)){Zr(F,X,he);return}if(he===null||typeof he!="object"?Ae=null:(Ae=Ut&&he[Ut]||he["@@iterator"],Ae=typeof Ae=="function"?Ae:null),Ae&&(Ae=Ae.call(he))){if(he=Ae.next(),!he.done){var _t=[];do _t.push(he.value),he=Ae.next();while(!he.done);Zr(F,X,_t)}return}throw F=Object.prototype.toString.call(he),Error(p(31,F==="[object Object]"?"object with keys {"+Object.keys(he).join(", ")+"}":F))}typeof he=="string"?(Ae=X.blockedSegment,Ae.lastPushedText=mn(X.blockedSegment.chunks,he,F.responseState,Ae.lastPushedText)):typeof he=="number"&&(Ae=X.blockedSegment,Ae.lastPushedText=mn(X.blockedSegment.chunks,""+he,F.responseState,Ae.lastPushedText))}function Zr(F,X,he){for(var Ae=he.length,_t=0;_t<Ae;_t++){var st=X.treeContext;X.treeContext=Ur(st,Ae,_t);try{Zs(F,X,he[_t])}finally{X.treeContext=st}}}function Zs(F,X,he){var Ae=X.blockedSegment.formatContext,_t=X.legacyContext,st=X.context;try{return Wi(F,X,he)}catch(Bn){if(Ds(),typeof Bn=="object"&&Bn!==null&&typeof Bn.then=="function"){he=Bn;var Bt=X.blockedSegment,ln=_a(F,Bt.chunks.length,null,Bt.formatContext,Bt.lastPushedText,!0);Bt.children.push(ln),Bt.lastPushedText=!1,F=X0(F,X.node,X.blockedBoundary,ln,X.abortSet,X.legacyContext,X.context,X.treeContext).ping,he.then(F,F),X.blockedSegment.formatContext=Ae,X.legacyContext=_t,X.context=st,Aa(st)}else throw X.blockedSegment.formatContext=Ae,X.legacyContext=_t,X.context=st,Aa(st),Bn}}function Y0(F){var X=F.blockedBoundary;F=F.blockedSegment,F.status=3,$c(this,X,F)}function Nc(F,X,he){var Ae=F.blockedBoundary;F.blockedSegment.status=3,Ae===null?(X.allPendingTasks--,X.status!==2&&(X.status=2,X.destination!==null&&X.destination.close())):(Ae.pendingTasks--,Ae.forceClientRender||(Ae.forceClientRender=!0,F=he===void 0?Error(p(432)):he,Ae.errorDigest=X.onError(F),Ae.parentFlushed&&X.clientRenderedBoundaries.push(Ae)),Ae.fallbackAbortableTasks.forEach(function(_t){return Nc(_t,X,he)}),Ae.fallbackAbortableTasks.clear(),X.allPendingTasks--,X.allPendingTasks===0&&(Ae=X.onAllReady,Ae()))}function D0(F,X){if(X.chunks.length===0&&X.children.length===1&&X.children[0].boundary===null){var he=X.children[0];he.id=X.id,he.parentFlushed=!0,he.status===1&&D0(F,he)}else F.completedSegments.push(X)}function $c(F,X,he){if(X===null){if(he.parentFlushed){if(F.completedRootSegment!==null)throw Error(p(389));F.completedRootSegment=he}F.pendingRootTasks--,F.pendingRootTasks===0&&(F.onShellError=Cs,X=F.onShellReady,X())}else X.pendingTasks--,X.forceClientRender||(X.pendingTasks===0?(he.parentFlushed&&he.status===1&&D0(X,he),X.parentFlushed&&F.completedBoundaries.push(X),X.fallbackAbortableTasks.forEach(Y0,F),X.fallbackAbortableTasks.clear()):he.parentFlushed&&he.status===1&&(D0(X,he),X.completedSegments.length===1&&X.parentFlushed&&F.partialBoundaries.push(X)));F.allPendingTasks--,F.allPendingTasks===0&&(F=F.onAllReady,F())}function C0(F){if(F.status!==2){var X=xn,he=Pi.current;Pi.current=Bi;var Ae=js;js=F.responseState;try{var _t=F.pingedTasks,st;for(st=0;st<_t.length;st++){var Bt=_t[st],ln=F,Bn=Bt.blockedSegment;if(Bn.status===0){Aa(Bt.context);try{Wi(ln,Bt,Bt.node),Bn.lastPushedText&&Bn.textEmbedded&&Bn.chunks.push(St),Bt.abortSet.delete(Bt),Bn.status=1,$c(ln,Bt.blockedBoundary,Bn)}catch(go){if(Ds(),typeof go=="object"&&go!==null&&typeof go.then=="function"){var cr=Bt.ping;go.then(cr,cr)}else{Bt.abortSet.delete(Bt),Bn.status=4;var Qn=Bt.blockedBoundary,hi=go,Oa=Oi(ln,hi);if(Qn===null?Ei(ln,hi):(Qn.pendingTasks--,Qn.forceClientRender||(Qn.forceClientRender=!0,Qn.errorDigest=Oa,Qn.parentFlushed&&ln.clientRenderedBoundaries.push(Qn))),ln.allPendingTasks--,ln.allPendingTasks===0){var Uo=ln.onAllReady;Uo()}}}finally{}}}_t.splice(0,st),F.destination!==null&&Q0(F,F.destination)}catch(go){Oi(F,go),Ei(F,go)}finally{js=Ae,Pi.current=he,he===Bi&&Aa(X)}}}function pl(F,X,he){switch(he.parentFlushed=!0,he.status){case 0:var Ae=he.id=F.nextSegmentId++;return he.lastPushedText=!1,he.textEmbedded=!1,F=F.responseState,C(X,Yr),C(X,F.placeholderPrefix),F=V(Ae.toString(16)),C(X,F),E(X,Li);case 1:he.status=2;var _t=!0;Ae=he.chunks;var st=0;he=he.children;for(var Bt=0;Bt<he.length;Bt++){for(_t=he[Bt];st<_t.index;st++)C(X,Ae[st]);_t=zl(F,X,_t)}for(;st<Ae.length-1;st++)C(X,Ae[st]);return st<Ae.length&&(_t=E(X,Ae[st])),_t;default:throw Error(p(390))}}function zl(F,X,he){var Ae=he.boundary;if(Ae===null)return pl(F,X,he);if(Ae.parentFlushed=!0,Ae.forceClientRender)Ae=Ae.errorDigest,E(X,ni),C(X,Fe),Ae&&(C(X,ae),C(X,V(ot(Ae))),C(X,ne)),E(X,_e),pl(F,X,he);else if(0<Ae.pendingTasks){Ae.rootSegmentID=F.nextSegmentId++,0<Ae.completedSegments.length&&F.partialBoundaries.push(Ae);var _t=F.responseState,st=_t.nextSuspenseID++;_t=q(_t.boundaryPrefix+st.toString(16)),Ae=Ae.id=_t,Te(X,F.responseState,Ae),pl(F,X,he)}else if(Ae.byteSize>F.progressiveChunkSize)Ae.rootSegmentID=F.nextSegmentId++,F.completedBoundaries.push(Ae),Te(X,F.responseState,Ae.id),pl(F,X,he);else{if(E(X,bi),he=Ae.completedSegments,he.length!==1)throw Error(p(391));zl(F,X,he[0])}return E(X,ma)}function Gl(F,X,he){return Nr(X,F.responseState,he.formatContext,he.id),zl(F,X,he),$r(X,he.formatContext)}function Ws(F,X,he){for(var Ae=he.completedSegments,_t=0;_t<Ae.length;_t++)Ro(F,X,he,Ae[_t]);if(Ae.length=0,F=F.responseState,Ae=he.id,he=he.rootSegmentID,C(X,F.startInlineScript),F.sentCompleteBoundaryFunction?C(X,ol):(F.sentCompleteBoundaryFunction=!0,C(X,Po)),Ae===null)throw Error(p(395));return he=V(he.toString(16)),C(X,Ae),C(X,Wa),C(X,F.segmentPrefix),C(X,he),E(X,Os)}function Ro(F,X,he,Ae){if(Ae.status===2)return!0;var _t=Ae.id;if(_t===-1){if((Ae.id=he.rootSegmentID)===-1)throw Error(p(392));return Gl(F,X,Ae)}return Gl(F,X,Ae),F=F.responseState,C(X,F.startInlineScript),F.sentCompleteSegmentFunction?C(X,ar):(F.sentCompleteSegmentFunction=!0,C(X,Ia)),C(X,F.segmentPrefix),_t=V(_t.toString(16)),C(X,_t),C(X,ns),C(X,F.placeholderPrefix),C(X,_t),E(X,rs)}function Q0(F,X){d=new Uint8Array(512),w=0;try{var he=F.completedRootSegment;if(he!==null&&F.pendingRootTasks===0){zl(F,X,he),F.completedRootSegment=null;var Ae=F.responseState.bootstrapChunks;for(he=0;he<Ae.length-1;he++)C(X,Ae[he]);he<Ae.length&&E(X,Ae[he])}var _t=F.clientRenderedBoundaries,st;for(st=0;st<_t.length;st++){var Bt=_t[st];Ae=X;var ln=F.responseState,Bn=Bt.id,cr=Bt.errorDigest,Qn=Bt.errorMessage,hi=Bt.errorComponentStack;if(C(Ae,ln.startInlineScript),ln.sentClientRenderFunction?C(Ae,oi):(ln.sentClientRenderFunction=!0,C(Ae,or)),Bn===null)throw Error(p(395));C(Ae,Bn),C(Ae,Vr),(cr||Qn||hi)&&(C(Ae,oo),C(Ae,V(La(cr||"")))),(Qn||hi)&&(C(Ae,oo),C(Ae,V(La(Qn||"")))),hi&&(C(Ae,oo),C(Ae,V(La(hi)))),E(Ae,Fs)}_t.splice(0,st);var Oa=F.completedBoundaries;for(st=0;st<Oa.length;st++)Ws(F,X,Oa[st]);Oa.splice(0,st),A(X),d=new Uint8Array(512),w=0;var Uo=F.partialBoundaries;for(st=0;st<Uo.length;st++){var go=Uo[st];e:{_t=F,Bt=X;var is=go.completedSegments;for(ln=0;ln<is.length;ln++)if(!Ro(_t,Bt,go,is[ln])){ln++,is.splice(0,ln);var Bu=!1;break e}is.splice(0,ln),Bu=!0}if(!Bu){F.destination=null,st++,Uo.splice(0,st);return}}Uo.splice(0,st);var dl=F.completedBoundaries;for(st=0;st<dl.length;st++)Ws(F,X,dl[st]);dl.splice(0,st)}finally{A(X),F.allPendingTasks===0&&F.pingedTasks.length===0&&F.clientRenderedBoundaries.length===0&&F.completedBoundaries.length===0&&X.close()}}function J0(F,X){try{var he=F.abortableTasks;he.forEach(function(Ae){return Nc(Ae,F,X)}),he.clear(),F.destination!==null&&Q0(F,F.destination)}catch(Ae){Oi(F,Ae),Ei(F,Ae)}}return fm.renderToReadableStream=function(F,X){return new Promise(function(he,Ae){var _t,st,Bt=new Promise(function(Qn,hi){st=Qn,_t=hi}),ln=hl(F,yt(X?X.identifierPrefix:void 0,X?X.nonce:void 0,X?X.bootstrapScriptContent:void 0,X?X.bootstrapScripts:void 0,X?X.bootstrapModules:void 0),Ot(X?X.namespaceURI:void 0),X?X.progressiveChunkSize:void 0,X?X.onError:void 0,st,function(){var Qn=new ReadableStream({type:"bytes",pull:function(hi){if(ln.status===1)ln.status=2,ue(hi,ln.fatalError);else if(ln.status!==2&&ln.destination===null){ln.destination=hi;try{Q0(ln,hi)}catch(Oa){Oi(ln,Oa),Ei(ln,Oa)}}},cancel:function(){J0(ln)}},{highWaterMark:0});Qn.allReady=Bt,he(Qn)},function(Qn){Bt.catch(function(){}),Ae(Qn)},_t);if(X&&X.signal){var Bn=X.signal,cr=function(){J0(ln,Bn.reason),Bn.removeEventListener("abort",cr)};Bn.addEventListener("abort",cr)}C0(ln)})},fm.version="18.3.1",fm}var L2;function r5(){if(L2)return Kp;L2=1;var o,p;return o=t5(),p=n5(),Kp.version=o.version,Kp.renderToString=o.renderToString,Kp.renderToStaticMarkup=o.renderToStaticMarkup,Kp.renderToNodeStream=o.renderToNodeStream,Kp.renderToStaticNodeStream=o.renderToStaticNodeStream,Kp.renderToReadableStream=p.renderToReadableStream,Kp}r5();function i5(o){const{challenges:p,setChallenge:d,challenge:w,colorBy:C,setColorBy:E}=o,[A,l]=al.useState([]);return Ke.useEffect(()=>{l(p.map(V=>Yt.jsx(zE,{value:V.name,children:V.name})))},[p]),Yt.jsxs("div",{style:{position:"absolute",top:20,left:20,zIndex:1e3,width:"300px",backgroundColor:"white",padding:"10px",borderRadius:"8px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[Yt.jsx("div",{style:{width:"300px",height:"200px",background:"url('/blitz-the-gap-map/logo.png') no-repeat",marginBottom:"10px",backgroundPosition:"center center",backgroundSize:"contain"}}),Yt.jsxs(g2,{variant:"standard",sx:{m:1,minWidth:280},children:[Yt.jsx(tE,{id:"simple-select-standard-label",children:"Choose challenge"}),Yt.jsx(Xb,{labelId:"simple-select-standard-label",id:"simple-select-standard",value:w,onChange:V=>{d(V.target.value)},label:"Challenge",children:A.length>0&&A}),Yt.jsxs(g2,{sx:{marginTop:"15px"},children:[Yt.jsx(Sb,{id:"row-radio-buttons-group-label",children:"Color by:"}),Yt.jsxs(e5,{row:!0,"aria-labelledby":"row-radio-buttons-group-label",name:"row-radio-buttons-group",value:C,onChange:V=>{E(V.target.value)},children:[Yt.jsx(m2,{value:"challenges",control:Yt.jsx(U2,{}),label:w==="All challenges"?"Number of challenges":"Included in challenge"}),Yt.jsx(m2,{value:"species",control:Yt.jsx(U2,{}),label:"Number of species"})]})]})]})]})}const{useEffect:m5,useRef:y5}=al;function a5(){const[o,p]=al.useState("https://object-arbutus.cloud.computecanada.ca/bq-io/io/inat_canada_heatmaps/All_density_inat_100m.tif"),[d,w]=Ke.useState("All challenges"),[C,E]=Ke.useState("challenges"),A=[{name:"All challenges",everywhere:!1},{name:"Conservation priorities (MayBAs)",everywhere:!1},{name:"Make a splash",everywhere:!1},{name:"Trailblazers",everywhere:!1},{name:"99 Percent",everywhere:!1},{name:"Revisit the past",everywhere:!1},{name:"Climate gaps",everywhere:!1},{name:"Birders, don't look up!",everywhere:!0},{name:"Getting Even",everywhere:!0},{name:"More than a Monarch",everywhere:!0},{name:"Missing Canadian Species",everywhere:!0}];return Yt.jsxs(Yt.Fragment,{children:[Yt.jsx(i5,{challenges:A,challenge:d,setChallenge:w,colorBy:C,setColorBy:E}),Yt.jsx(ES,{COGUrl:o,opacity:100,challenges:A,challenge:d,colorBy:C}),Yt.jsx(ZA,{effect:"solid",type:"dark",scrollHide:"true",event:"mousemove",eventOff:"mouseleave",delayHide:1e3})]})}const o5=document.getElementById("root"),s5=Tw.createRoot(o5);s5.render(Yt.jsx(a5,{}));
